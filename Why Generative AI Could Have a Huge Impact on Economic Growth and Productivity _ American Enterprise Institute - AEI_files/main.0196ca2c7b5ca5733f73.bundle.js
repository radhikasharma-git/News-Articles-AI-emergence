(()=>{var nf=Object.defineProperty,rf=Object.defineProperties;var of=Object.getOwnPropertyDescriptors;var au=Object.getOwnPropertySymbols;var Iu=Object.prototype.hasOwnProperty,_u=Object.prototype.propertyIsEnumerable,bu=Math.pow,Ru=(k,n,t)=>n in k?nf(k,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):k[n]=t,pr=(k,n)=>{for(var t in n||(n={}))Iu.call(n,t)&&Ru(k,t,n[t]);if(au)for(var t of au(n))_u.call(n,t)&&Ru(k,t,n[t]);return k},_o=(k,n)=>rf(k,of(n));var Ji=(k,n)=>{var t={};for(var e in k)Iu.call(k,e)&&n.indexOf(e)<0&&(t[e]=k[e]);if(k!=null&&au)for(var e of au(k))n.indexOf(e)<0&&_u.call(k,e)&&(t[e]=k[e]);return t};var af=(k,n)=>()=>(n||k((n={exports:{}}).exports,n),n.exports);var Zl=(k,n,t)=>new Promise((e,a)=>{var o=c=>{try{d(t.next(c))}catch(u){a(u)}},l=c=>{try{d(t.throw(c))}catch(u){a(u)}},d=c=>c.done?e(c.value):Promise.resolve(c.value).then(o,l);d((t=t.apply(k,n)).next())});var sf=af(Nu=>{(function(k){function n(m){for(var p=m[0],g=m[1],O,s,r=0,i=[];r<p.length;r++)s=p[r],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&i.push(a[s][0]),a[s]=0;for(O in g)Object.prototype.hasOwnProperty.call(g,O)&&(k[O]=g[O]);for(f&&f(m);i.length;)i.shift()()}var t={},e={10:0,18:0,19:0},a={10:0,18:0,19:0};function o(m){return l.p+""+({}[m]||m)+"."+{"0":"535b2ed2cc2cbd7db7de","1":"93bb6d5980c3648d6d99","2":"aac228f6d0e14651d3d2","17":"d71c83426c30d3bb86d4","18":"b76f4c95265ae648da25","19":"a4386adc9d8c669e02f7","20":"79d84e370c96856e913c","21":"dc8eb78695a2ae926d6a","23":"0b80dd409b1e72b6ac42","25":"27bffd9ad037de376837"}[m]+".chunk.js"}function l(m){if(t[m])return t[m].exports;var p=t[m]={i:m,l:!1,exports:{}};return k[m].call(p.exports,p,p.exports,l),p.l=!0,p.exports}l.e=function(p){var g=[],O={"1":1,"19":1,"20":1,"21":1};e[p]?g.push(e[p]):e[p]!==0&&O[p]&&g.push(e[p]=new Promise(function(y,b){for(var E=""+({}[p]||p)+"."+{"0":"31d6cfe0d16ae931b73c","1":"072ea39b62c80d95d9b1","2":"31d6cfe0d16ae931b73c","17":"31d6cfe0d16ae931b73c","18":"31d6cfe0d16ae931b73c","19":"b01d62c8ccbab5a4aed1","20":"6ded388c22d091d86e08","21":"6ded388c22d091d86e08","23":"31d6cfe0d16ae931b73c","25":"31d6cfe0d16ae931b73c"}[p]+".css",P=l.p+E,A=document.getElementsByTagName("link"),_=0;_<A.length;_++){var M=A[_],F=M.getAttribute("data-href")||M.getAttribute("href");if(M.rel==="stylesheet"&&(F===E||F===P))return y()}for(var H=document.getElementsByTagName("style"),_=0;_<H.length;_++){var M=H[_],F=M.getAttribute("data-href");if(F===E||F===P)return y()}var C=document.createElement("link");C.rel="stylesheet",C.type="text/css";var T=function(S){if(C.onerror=C.onload=null,S.type==="load")y();else{var D=S&&(S.type==="load"?"missing":S.type),w=S&&S.target&&S.target.href||P,U=new Error("Loading CSS chunk "+p+` failed.
(`+w+")");U.code="CSS_CHUNK_LOAD_FAILED",U.type=D,U.request=w,delete e[p],C.parentNode.removeChild(C),b(U)}};C.onerror=C.onload=T,C.href=P,document.head.appendChild(C)}).then(function(){e[p]=0}));var s=a[p];if(s!==0)if(s)g.push(s[2]);else{var r=new Promise(function(y,b){s=a[p]=[y,b]});g.push(s[2]=r);var i=document.createElement("script"),h;i.charset="utf-8",i.timeout=120,l.nc&&i.setAttribute("nonce",l.nc),i.src=o(p);var v=new Error;h=function(y){i.onerror=i.onload=null,clearTimeout(j);var b=a[p];if(b!==0){if(b){var E=y&&(y.type==="load"?"missing":y.type),P=y&&y.target&&y.target.src;v.message="Loading chunk "+p+` failed.
(`+E+": "+P+")",v.name="ChunkLoadError",v.type=E,v.request=P,b[1](v)}a[p]=void 0}};var j=setTimeout(function(){h({type:"timeout",target:i})},12e4);i.onerror=i.onload=h,document.head.appendChild(i)}return Promise.all(g)},l.m=k,l.c=t,l.d=function(m,p,g){l.o(m,p)||Object.defineProperty(m,p,{enumerable:!0,get:g})},l.r=function(m){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})},l.t=function(m,p){if(p&1&&(m=l(m)),p&8||p&4&&typeof m=="object"&&m&&m.__esModule)return m;var g=Object.create(null);if(l.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:m}),p&2&&typeof m!="string")for(var O in m)l.d(g,O,function(s){return m[s]}.bind(null,O));return g},l.n=function(m){var p=m&&m.__esModule?function(){return m.default}:function(){return m};return l.d(p,"a",p),p},l.o=function(m,p){return Object.prototype.hasOwnProperty.call(m,p)},l.p="https://substackcdn.com/bundle/",l.oe=function(m){throw console.error(m),m};var d=window.webpackJsonp=window.webpackJsonp||[],c=d.push.bind(d);d.push=n,d=d.slice();for(var u=0;u<d.length;u++)n(d[u]);var f=c;return l(l.s=1886)})([function(k,n,t){"use strict";t.r(n),t.d(n,"Component",function(){return y}),t.d(n,"Fragment",function(){return j}),t.d(n,"cloneElement",function(){return Q}),t.d(n,"createContext",function(){return he}),t.d(n,"createElement",function(){return i}),t.d(n,"createRef",function(){return v}),t.d(n,"h",function(){return i}),t.d(n,"hydrate",function(){return G}),t.d(n,"isValidElement",function(){return l}),t.d(n,"options",function(){return a}),t.d(n,"render",function(){return x}),t.d(n,"toChildArray",function(){return F});var e,a,o,l,d,c,u,f,m,p={},g=[],O=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function s(Z,le){for(var de in le)Z[de]=le[de];return Z}function r(Z){var le=Z.parentNode;le&&le.removeChild(Z)}function i(Z,le,de){var be,X,ie,Ce={};for(ie in le)ie=="key"?be=le[ie]:ie=="ref"?X=le[ie]:Ce[ie]=le[ie];if(arguments.length>2&&(Ce.children=arguments.length>3?e.call(arguments,2):de),typeof Z=="function"&&Z.defaultProps!=null)for(ie in Z.defaultProps)Ce[ie]===void 0&&(Ce[ie]=Z.defaultProps[ie]);return h(Z,Ce,be,X,null)}function h(Z,le,de,be,X){var ie={type:Z,props:le,key:de,ref:be,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:X==null?++o:X};return X==null&&a.vnode!=null&&a.vnode(ie),ie}function v(){return{current:null}}function j(Z){return Z.children}function y(Z,le){this.props=Z,this.context=le}function b(Z,le){if(le==null)return Z.__?b(Z.__,Z.__.__k.indexOf(Z)+1):null;for(var de;le<Z.__k.length;le++)if((de=Z.__k[le])!=null&&de.__e!=null)return de.__e;return typeof Z.type=="function"?b(Z):null}function E(Z){var le,de;if((Z=Z.__)!=null&&Z.__c!=null){for(Z.__e=Z.__c.base=null,le=0;le<Z.__k.length;le++)if((de=Z.__k[le])!=null&&de.__e!=null){Z.__e=Z.__c.base=de.__e;break}return E(Z)}}function P(Z){(!Z.__d&&(Z.__d=!0)&&d.push(Z)&&!A.__r++||c!==a.debounceRendering)&&((c=a.debounceRendering)||u)(A)}function A(){var Z,le,de,be,X,ie,Ce,Le;for(d.sort(f);Z=d.shift();)Z.__d&&(le=d.length,be=void 0,X=void 0,Ce=(ie=(de=Z).__v).__e,(Le=de.__P)&&(be=[],(X=s({},ie)).__v=ie.__v+1,V(Le,ie,X,de.__n,Le.ownerSVGElement!==void 0,ie.__h!=null?[Ce]:null,be,Ce==null?b(ie):Ce,ie.__h),K(be,ie),ie.__e!=Ce&&E(ie)),d.length>le&&d.sort(f));A.__r=0}function _(Z,le,de,be,X,ie,Ce,Le,Ae,Pe){var Ne,ce,q,te,ue,We,ot,ze=be&&be.__k||g,vt=ze.length;for(de.__k=[],Ne=0;Ne<le.length;Ne++)if((te=de.__k[Ne]=(te=le[Ne])==null||typeof te=="boolean"||typeof te=="function"?null:typeof te=="string"||typeof te=="number"||typeof te=="bigint"?h(null,te,null,null,te):Array.isArray(te)?h(j,{children:te},null,null,null):te.__b>0?h(te.type,te.props,te.key,te.ref?te.ref:null,te.__v):te)!=null){if(te.__=de,te.__b=de.__b+1,(q=ze[Ne])===null||q&&te.key==q.key&&te.type===q.type)ze[Ne]=void 0;else for(ce=0;ce<vt;ce++){if((q=ze[ce])&&te.key==q.key&&te.type===q.type){ze[ce]=void 0;break}q=null}V(Z,te,q=q||p,X,ie,Ce,Le,Ae,Pe),ue=te.__e,(ce=te.ref)&&q.ref!=ce&&(ot||(ot=[]),q.ref&&ot.push(q.ref,null,te),ot.push(ce,te.__c||ue,te)),ue!=null?(We==null&&(We=ue),typeof te.type=="function"&&te.__k===q.__k?te.__d=Ae=M(te,Ae,Z):Ae=H(Z,te,q,ze,ue,Ae),typeof de.type=="function"&&(de.__d=Ae)):Ae&&q.__e==Ae&&Ae.parentNode!=Z&&(Ae=b(q))}for(de.__e=We,Ne=vt;Ne--;)ze[Ne]!=null&&(typeof de.type=="function"&&ze[Ne].__e!=null&&ze[Ne].__e==de.__d&&(de.__d=C(be).nextSibling),R(ze[Ne],ze[Ne]));if(ot)for(Ne=0;Ne<ot.length;Ne++)W(ot[Ne],ot[++Ne],ot[++Ne])}function M(Z,le,de){for(var be,X=Z.__k,ie=0;X&&ie<X.length;ie++)(be=X[ie])&&(be.__=Z,le=typeof be.type=="function"?M(be,le,de):H(de,be,be,X,be.__e,le));return le}function F(Z,le){return le=le||[],Z==null||typeof Z=="boolean"||(Array.isArray(Z)?Z.some(function(de){F(de,le)}):le.push(Z)),le}function H(Z,le,de,be,X,ie){var Ce,Le,Ae;if(le.__d!==void 0)Ce=le.__d,le.__d=void 0;else if(de==null||X!=ie||X.parentNode==null)e:if(ie==null||ie.parentNode!==Z)Z.appendChild(X),Ce=null;else{for(Le=ie,Ae=0;(Le=Le.nextSibling)&&Ae<be.length;Ae+=1)if(Le==X)break e;Z.insertBefore(X,ie),Ce=ie}return Ce!==void 0?Ce:X.nextSibling}function C(Z){var le,de,be;if(Z.type==null||typeof Z.type=="string")return Z.__e;if(Z.__k){for(le=Z.__k.length-1;le>=0;le--)if((de=Z.__k[le])&&(be=C(de)))return be}return null}function T(Z,le,de,be,X){var ie;for(ie in de)ie==="children"||ie==="key"||ie in le||D(Z,ie,null,de[ie],be);for(ie in le)X&&typeof le[ie]!="function"||ie==="children"||ie==="key"||ie==="value"||ie==="checked"||de[ie]===le[ie]||D(Z,ie,le[ie],de[ie],be)}function S(Z,le,de){le[0]==="-"?Z.setProperty(le,de==null?"":de):Z[le]=de==null?"":typeof de!="number"||O.test(le)?de:de+"px"}function D(Z,le,de,be,X){var ie;e:if(le==="style")if(typeof de=="string")Z.style.cssText=de;else{if(typeof be=="string"&&(Z.style.cssText=be=""),be)for(le in be)de&&le in de||S(Z.style,le,"");if(de)for(le in de)be&&de[le]===be[le]||S(Z.style,le,de[le])}else if(le[0]==="o"&&le[1]==="n")ie=le!==(le=le.replace(/Capture$/,"")),le=le.toLowerCase()in Z?le.toLowerCase().slice(2):le.slice(2),Z.l||(Z.l={}),Z.l[le+ie]=de,de?be||Z.addEventListener(le,ie?U:w,ie):Z.removeEventListener(le,ie?U:w,ie);else if(le!=="dangerouslySetInnerHTML"){if(X)le=le.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(le!=="width"&&le!=="height"&&le!=="href"&&le!=="list"&&le!=="form"&&le!=="tabIndex"&&le!=="download"&&le in Z)try{Z[le]=de==null?"":de;break e}catch(Ce){}typeof de=="function"||(de==null||de===!1&&le.indexOf("-")==-1?Z.removeAttribute(le):Z.setAttribute(le,de))}}function w(Z){return this.l[Z.type+!1](a.event?a.event(Z):Z)}function U(Z){return this.l[Z.type+!0](a.event?a.event(Z):Z)}function V(Z,le,de,be,X,ie,Ce,Le,Ae){var Pe,Ne,ce,q,te,ue,We,ot,ze,vt,Wt,zt,at,Me,Be,Xe=le.type;if(le.constructor!==void 0)return null;de.__h!=null&&(Ae=de.__h,Le=le.__e=de.__e,le.__h=null,ie=[Le]),(Pe=a.__b)&&Pe(le);try{e:if(typeof Xe=="function"){if(ot=le.props,ze=(Pe=Xe.contextType)&&be[Pe.__c],vt=Pe?ze?ze.props.value:Pe.__:be,de.__c?We=(Ne=le.__c=de.__c).__=Ne.__E:("prototype"in Xe&&Xe.prototype.render?le.__c=Ne=new Xe(ot,vt):(le.__c=Ne=new y(ot,vt),Ne.constructor=Xe,Ne.render=B),ze&&ze.sub(Ne),Ne.props=ot,Ne.state||(Ne.state={}),Ne.context=vt,Ne.__n=be,ce=Ne.__d=!0,Ne.__h=[],Ne._sb=[]),Ne.__s==null&&(Ne.__s=Ne.state),Xe.getDerivedStateFromProps!=null&&(Ne.__s==Ne.state&&(Ne.__s=s({},Ne.__s)),s(Ne.__s,Xe.getDerivedStateFromProps(ot,Ne.__s))),q=Ne.props,te=Ne.state,Ne.__v=le,ce)Xe.getDerivedStateFromProps==null&&Ne.componentWillMount!=null&&Ne.componentWillMount(),Ne.componentDidMount!=null&&Ne.__h.push(Ne.componentDidMount);else{if(Xe.getDerivedStateFromProps==null&&ot!==q&&Ne.componentWillReceiveProps!=null&&Ne.componentWillReceiveProps(ot,vt),!Ne.__e&&Ne.shouldComponentUpdate!=null&&Ne.shouldComponentUpdate(ot,Ne.__s,vt)===!1||le.__v===de.__v){for(le.__v!==de.__v&&(Ne.props=ot,Ne.state=Ne.__s,Ne.__d=!1),Ne.__e=!1,le.__e=de.__e,le.__k=de.__k,le.__k.forEach(function(Te){Te&&(Te.__=le)}),Wt=0;Wt<Ne._sb.length;Wt++)Ne.__h.push(Ne._sb[Wt]);Ne._sb=[],Ne.__h.length&&Ce.push(Ne);break e}Ne.componentWillUpdate!=null&&Ne.componentWillUpdate(ot,Ne.__s,vt),Ne.componentDidUpdate!=null&&Ne.__h.push(function(){Ne.componentDidUpdate(q,te,ue)})}if(Ne.context=vt,Ne.props=ot,Ne.__P=Z,zt=a.__r,at=0,"prototype"in Xe&&Xe.prototype.render){for(Ne.state=Ne.__s,Ne.__d=!1,zt&&zt(le),Pe=Ne.render(Ne.props,Ne.state,Ne.context),Me=0;Me<Ne._sb.length;Me++)Ne.__h.push(Ne._sb[Me]);Ne._sb=[]}else do Ne.__d=!1,zt&&zt(le),Pe=Ne.render(Ne.props,Ne.state,Ne.context),Ne.state=Ne.__s;while(Ne.__d&&++at<25);Ne.state=Ne.__s,Ne.getChildContext!=null&&(be=s(s({},be),Ne.getChildContext())),ce||Ne.getSnapshotBeforeUpdate==null||(ue=Ne.getSnapshotBeforeUpdate(q,te)),Be=Pe!=null&&Pe.type===j&&Pe.key==null?Pe.props.children:Pe,_(Z,Array.isArray(Be)?Be:[Be],le,de,be,X,ie,Ce,Le,Ae),Ne.base=le.__e,le.__h=null,Ne.__h.length&&Ce.push(Ne),We&&(Ne.__E=Ne.__=null),Ne.__e=!1}else ie==null&&le.__v===de.__v?(le.__k=de.__k,le.__e=de.__e):le.__e=Y(de.__e,le,de,be,X,ie,Ce,Ae);(Pe=a.diffed)&&Pe(le)}catch(Te){le.__v=null,(Ae||ie!=null)&&(le.__e=Le,le.__h=!!Ae,ie[ie.indexOf(Le)]=null),a.__e(Te,le,de)}}function K(Z,le){a.__c&&a.__c(le,Z),Z.some(function(de){try{Z=de.__h,de.__h=[],Z.some(function(be){be.call(de)})}catch(be){a.__e(be,de.__v)}})}function Y(Z,le,de,be,X,ie,Ce,Le){var Ae,Pe,Ne,ce=de.props,q=le.props,te=le.type,ue=0;if(te==="svg"&&(X=!0),ie!=null){for(;ue<ie.length;ue++)if((Ae=ie[ue])&&"setAttribute"in Ae==!!te&&(te?Ae.localName===te:Ae.nodeType===3)){Z=Ae,ie[ue]=null;break}}if(Z==null){if(te===null)return document.createTextNode(q);Z=X?document.createElementNS("http://www.w3.org/2000/svg",te):document.createElement(te,q.is&&q),ie=null,Le=!1}if(te===null)ce===q||Le&&Z.data===q||(Z.data=q);else{if(ie=ie&&e.call(Z.childNodes),Pe=(ce=de.props||p).dangerouslySetInnerHTML,Ne=q.dangerouslySetInnerHTML,!Le){if(ie!=null)for(ce={},ue=0;ue<Z.attributes.length;ue++)ce[Z.attributes[ue].name]=Z.attributes[ue].value;(Ne||Pe)&&(Ne&&(Pe&&Ne.__html==Pe.__html||Ne.__html===Z.innerHTML)||(Z.innerHTML=Ne&&Ne.__html||""))}if(T(Z,q,ce,X,Le),Ne)le.__k=[];else if(ue=le.props.children,_(Z,Array.isArray(ue)?ue:[ue],le,de,be,X&&te!=="foreignObject",ie,Ce,ie?ie[0]:de.__k&&b(de,0),Le),ie!=null)for(ue=ie.length;ue--;)ie[ue]!=null&&r(ie[ue]);Le||("value"in q&&(ue=q.value)!==void 0&&(ue!==Z.value||te==="progress"&&!ue||te==="option"&&ue!==ce.value)&&D(Z,"value",ue,ce.value,!1),"checked"in q&&(ue=q.checked)!==void 0&&ue!==Z.checked&&D(Z,"checked",ue,ce.checked,!1))}return Z}function W(Z,le,de){try{typeof Z=="function"?Z(le):Z.current=le}catch(be){a.__e(be,de)}}function R(Z,le,de){var be,X;if(a.unmount&&a.unmount(Z),(be=Z.ref)&&(be.current&&be.current!==Z.__e||W(be,null,le)),(be=Z.__c)!=null){if(be.componentWillUnmount)try{be.componentWillUnmount()}catch(ie){a.__e(ie,le)}be.base=be.__P=null,Z.__c=void 0}if(be=Z.__k)for(X=0;X<be.length;X++)be[X]&&R(be[X],le,de||typeof Z.type!="function");de||Z.__e==null||r(Z.__e),Z.__=Z.__e=Z.__d=void 0}function B(Z,le,de){return this.constructor(Z,de)}function x(Z,le,de){var be,X,ie;a.__&&a.__(Z,le),X=(be=typeof de=="function")?null:de&&de.__k||le.__k,ie=[],V(le,Z=(!be&&de||le).__k=i(j,null,[Z]),X||p,p,le.ownerSVGElement!==void 0,!be&&de?[de]:X?null:le.firstChild?e.call(le.childNodes):null,ie,!be&&de?de:X?X.__e:le.firstChild,be),K(ie,Z)}function G(Z,le){x(Z,le,G)}function Q(Z,le,de){var be,X,ie,Ce=s({},Z.props);for(ie in le)ie=="key"?be=le[ie]:ie=="ref"?X=le[ie]:Ce[ie]=le[ie];return arguments.length>2&&(Ce.children=arguments.length>3?e.call(arguments,2):de),h(Z.type,Ce,be||Z.key,X||Z.ref,null)}function he(Z,le){var de={__c:le="__cC"+m++,__:Z,Consumer:function(be,X){return be.children(X)},Provider:function(be){var X,ie;return this.getChildContext||(X=[],(ie={})[le]=this,this.getChildContext=function(){return ie},this.shouldComponentUpdate=function(Ce){this.props.value!==Ce.value&&X.some(function(Le){Le.__e=!0,P(Le)})},this.sub=function(Ce){X.push(Ce);var Le=Ce.componentWillUnmount;Ce.componentWillUnmount=function(){X.splice(X.indexOf(Ce),1),Le&&Le.call(Ce)}}),be.children}};return de.Provider.__=de.Consumer.contextType=de}e=g.slice,a={__e:function(Z,le,de,be){for(var X,ie,Ce;le=le.__;)if((X=le.__c)&&!X.__)try{if((ie=X.constructor)&&ie.getDerivedStateFromError!=null&&(X.setState(ie.getDerivedStateFromError(Z)),Ce=X.__d),X.componentDidCatch!=null&&(X.componentDidCatch(Z,be||{}),Ce=X.__d),Ce)return X.__E=X}catch(Le){Z=Le}throw Z}},o=0,l=function(Z){return Z!=null&&Z.constructor===void 0},y.prototype.setState=function(Z,le){var de;de=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=s({},this.state),typeof Z=="function"&&(Z=Z(s({},de),this.props)),Z&&s(de,Z),Z!=null&&this.__v&&(le&&this._sb.push(le),P(this))},y.prototype.forceUpdate=function(Z){this.__v&&(this.__e=!0,Z&&this.__h.push(Z),P(this))},y.prototype.render=j,d=[],u=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,f=function(Z,le){return Z.__v.__b-le.__v.__b},A.__r=0,m=0},function(k,n,t){"use strict";t.d(n,"a",function(){return P}),t.d(n,"b",function(){return A}),t.d(n,"c",function(){return _}),t.d(n,"d",function(){return v}),t.d(n,"e",function(){return M}),t.d(n,"f",function(){return F}),t.d(n,"g",function(){return b}),t.d(n,"h",function(){return j}),t.d(n,"i",function(){return E}),t.d(n,"j",function(){return h}),t.d(n,"k",function(){return y}),t.d(n,"l",function(){return i});var e=t(0),a,o,l,d,c=0,u=[],f=[],m=e.options.__b,p=e.options.__r,g=e.options.diffed,O=e.options.__c,s=e.options.unmount;function r(V,K){e.options.__h&&e.options.__h(o,V,c||K),c=0;var Y=o.__H||(o.__H={__:[],__h:[]});return V>=Y.__.length&&Y.__.push({__V:f}),Y.__[V]}function i(V){return c=1,h(U,V)}function h(V,K,Y){var W=r(a++,2);if(W.t=V,!W.__c&&(W.__=[Y?Y(K):U(void 0,K),function(G){var Q=W.__N?W.__N[0]:W.__[0],he=W.t(Q,G);Q!==he&&(W.__N=[he,W.__[1]],W.__c.setState({}))}],W.__c=o,!o.u)){var R=function(G,Q,he){if(!W.__c.__H)return!0;var Z=W.__c.__H.__.filter(function(de){return de.__c});if(Z.every(function(de){return!de.__N}))return!B||B.call(this,G,Q,he);var le=!1;return Z.forEach(function(de){if(de.__N){var be=de.__[0];de.__=de.__N,de.__N=void 0,be!==de.__[0]&&(le=!0)}}),!(!le&&W.__c.props===G)&&(!B||B.call(this,G,Q,he))};o.u=!0;var B=o.shouldComponentUpdate,x=o.componentWillUpdate;o.componentWillUpdate=function(G,Q,he){if(this.__e){var Z=B;B=void 0,R(G,Q,he),B=Z}x&&x.call(this,G,Q,he)},o.shouldComponentUpdate=R}return W.__N||W.__}function v(V,K){var Y=r(a++,3);!e.options.__s&&w(Y.__H,K)&&(Y.__=V,Y.i=K,o.__H.__h.push(Y))}function j(V,K){var Y=r(a++,4);!e.options.__s&&w(Y.__H,K)&&(Y.__=V,Y.i=K,o.__h.push(Y))}function y(V){return c=5,E(function(){return{current:V}},[])}function b(V,K,Y){c=6,j(function(){return typeof V=="function"?(V(K()),function(){return V(null)}):V?(V.current=K(),function(){return V.current=null}):void 0},Y==null?Y:Y.concat(V))}function E(V,K){var Y=r(a++,7);return w(Y.__H,K)?(Y.__V=V(),Y.i=K,Y.__h=V,Y.__V):Y.__}function P(V,K){return c=8,E(function(){return V},K)}function A(V){var K=o.context[V.__c],Y=r(a++,9);return Y.c=V,K?(Y.__==null&&(Y.__=!0,K.sub(o)),K.props.value):V.__}function _(V,K){e.options.useDebugValue&&e.options.useDebugValue(K?K(V):V)}function M(V){var K=r(a++,10),Y=i();return K.__=V,o.componentDidCatch||(o.componentDidCatch=function(W,R){K.__&&K.__(W,R),Y[1](W)}),[Y[0],function(){Y[1](void 0)}]}function F(){var V=r(a++,11);if(!V.__){for(var K=o.__v;K!==null&&!K.__m&&K.__!==null;)K=K.__;var Y=K.__m||(K.__m=[0,0]);V.__="P"+Y[0]+"-"+Y[1]++}return V.__}function H(){for(var V;V=u.shift();)if(V.__P&&V.__H)try{V.__H.__h.forEach(S),V.__H.__h.forEach(D),V.__H.__h=[]}catch(K){V.__H.__h=[],e.options.__e(K,V.__v)}}e.options.__b=function(V){o=null,m&&m(V)},e.options.__r=function(V){p&&p(V),a=0;var K=(o=V.__c).__H;K&&(l===o?(K.__h=[],o.__h=[],K.__.forEach(function(Y){Y.__N&&(Y.__=Y.__N),Y.__V=f,Y.__N=Y.i=void 0})):(K.__h.forEach(S),K.__h.forEach(D),K.__h=[])),l=o},e.options.diffed=function(V){g&&g(V);var K=V.__c;K&&K.__H&&(K.__H.__h.length&&(u.push(K)!==1&&d===e.options.requestAnimationFrame||((d=e.options.requestAnimationFrame)||T)(H)),K.__H.__.forEach(function(Y){Y.i&&(Y.__H=Y.i),Y.__V!==f&&(Y.__=Y.__V),Y.i=void 0,Y.__V=f})),l=o=null},e.options.__c=function(V,K){K.some(function(Y){try{Y.__h.forEach(S),Y.__h=Y.__h.filter(function(W){return!W.__||D(W)})}catch(W){K.some(function(R){R.__h&&(R.__h=[])}),K=[],e.options.__e(W,Y.__v)}}),O&&O(V,K)},e.options.unmount=function(V){s&&s(V);var K,Y=V.__c;Y&&Y.__H&&(Y.__H.__.forEach(function(W){try{S(W)}catch(R){K=R}}),Y.__H=void 0,K&&e.options.__e(K,Y.__v))};var C=typeof requestAnimationFrame=="function";function T(V){var K,Y=function(){clearTimeout(W),C&&cancelAnimationFrame(K),setTimeout(V)},W=setTimeout(Y,100);C&&(K=requestAnimationFrame(Y))}function S(V){var K=o,Y=V.__c;typeof Y=="function"&&(V.__c=void 0,Y()),o=K}function D(V){var K=o;V.__c=V.__(),o=K}function w(V,K){return!V||V.length!==K.length||K.some(function(Y,W){return Y!==V[W]})}function U(V,K){return typeof K=="function"?K(V):K}},function(k,n,t){"use strict";t.d(n,"a",function(){return s}),t.d(n,"c",function(){return r}),t.d(n,"b",function(){return i});var e=t(0),a=t(3),o=t(100),l=Object.defineProperty,d=Object.defineProperties,c=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,p=(h,v,j)=>v in h?l(h,v,{enumerable:!0,configurable:!0,writable:!0,value:j}):h[v]=j,g=(h,v)=>{for(var j in v||(v={}))f.call(v,j)&&p(h,j,v[j]);if(u)for(var j of u(v))m.call(v,j)&&p(h,j,v[j]);return h},O=(h,v)=>d(h,c(v));const s=Object(a.forwardRef)(function(v,j){return Object(e.h)(o.a,O(g({},v),{display:v.display||"flex",ref:j}))}),r=s,i=Object(a.forwardRef)(function(v,j){return Object(e.h)(o.a,O(g({},v),{display:v.display||"flex",direction:"column",ref:j}))})},function(k,n,t){"use strict";t.r(n),t.d(n,"Children",function(){return O}),t.d(n,"PureComponent",function(){return c}),t.d(n,"StrictMode",function(){return Le}),t.d(n,"Suspense",function(){return v}),t.d(n,"SuspenseList",function(){return b}),t.d(n,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",function(){return Q}),t.d(n,"cloneElement",function(){return de}),t.d(n,"createFactory",function(){return Z}),t.d(n,"createPortal",function(){return _}),t.d(n,"default",function(){return te}),t.d(n,"findDOMNode",function(){return X}),t.d(n,"flushSync",function(){return Ce}),t.d(n,"forwardRef",function(){return p}),t.d(n,"hydrate",function(){return w}),t.d(n,"isValidElement",function(){return le}),t.d(n,"lazy",function(){return y}),t.d(n,"memo",function(){return u}),t.d(n,"render",function(){return D}),t.d(n,"startTransition",function(){return Ae}),t.d(n,"unmountComponentAtNode",function(){return be}),t.d(n,"unstable_batchedUpdates",function(){return ie}),t.d(n,"useDeferredValue",function(){return Pe}),t.d(n,"useInsertionEffect",function(){return ce}),t.d(n,"useSyncExternalStore",function(){return q}),t.d(n,"useTransition",function(){return Ne}),t.d(n,"version",function(){return he});var e=t(0);t.d(n,"Component",function(){return e.Component}),t.d(n,"Fragment",function(){return e.Fragment}),t.d(n,"createContext",function(){return e.createContext}),t.d(n,"createElement",function(){return e.createElement}),t.d(n,"createRef",function(){return e.createRef});var a=t(1);t.d(n,"useCallback",function(){return a.a}),t.d(n,"useContext",function(){return a.b}),t.d(n,"useDebugValue",function(){return a.c}),t.d(n,"useEffect",function(){return a.d}),t.d(n,"useErrorBoundary",function(){return a.e}),t.d(n,"useId",function(){return a.f}),t.d(n,"useImperativeHandle",function(){return a.g}),t.d(n,"useLayoutEffect",function(){return a.h}),t.d(n,"useMemo",function(){return a.i}),t.d(n,"useReducer",function(){return a.j}),t.d(n,"useRef",function(){return a.k}),t.d(n,"useState",function(){return a.l});function o(ue,We){for(var ot in We)ue[ot]=We[ot];return ue}function l(ue,We){for(var ot in ue)if(ot!=="__source"&&!(ot in We))return!0;for(var ze in We)if(ze!=="__source"&&ue[ze]!==We[ze])return!0;return!1}function d(ue,We){return ue===We&&(ue!==0||1/ue==1/We)||ue!=ue&&We!=We}function c(ue){this.props=ue}function u(ue,We){function ot(vt){var Wt=this.props.ref,zt=Wt==vt.ref;return!zt&&Wt&&(Wt.call?Wt(null):Wt.current=null),We?!We(this.props,vt)||!zt:l(this.props,vt)}function ze(vt){return this.shouldComponentUpdate=ot,Object(e.createElement)(ue,vt)}return ze.displayName="Memo("+(ue.displayName||ue.name)+")",ze.prototype.isReactComponent=!0,ze.__f=!0,ze}(c.prototype=new e.Component).isPureReactComponent=!0,c.prototype.shouldComponentUpdate=function(ue,We){return l(this.props,ue)||l(this.state,We)};var f=e.options.__b;e.options.__b=function(ue){ue.type&&ue.type.__f&&ue.ref&&(ue.props.ref=ue.ref,ue.ref=null),f&&f(ue)};var m=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function p(ue){function We(ot){var ze=o({},ot);return delete ze.ref,ue(ze,ot.ref||null)}return We.$$typeof=m,We.render=We,We.prototype.isReactComponent=We.__f=!0,We.displayName="ForwardRef("+(ue.displayName||ue.name)+")",We}var g=function(ue,We){return ue==null?null:Object(e.toChildArray)(Object(e.toChildArray)(ue).map(We))},O={map:g,forEach:g,count:function(ue){return ue?Object(e.toChildArray)(ue).length:0},only:function(ue){var We=Object(e.toChildArray)(ue);if(We.length!==1)throw"Children.only";return We[0]},toArray:e.toChildArray},s=e.options.__e;e.options.__e=function(ue,We,ot,ze){if(ue.then){for(var vt,Wt=We;Wt=Wt.__;)if((vt=Wt.__c)&&vt.__c)return We.__e==null&&(We.__e=ot.__e,We.__k=ot.__k),vt.__c(ue,We)}s(ue,We,ot,ze)};var r=e.options.unmount;function i(ue,We,ot){return ue&&(ue.__c&&ue.__c.__H&&(ue.__c.__H.__.forEach(function(ze){typeof ze.__c=="function"&&ze.__c()}),ue.__c.__H=null),(ue=o({},ue)).__c!=null&&(ue.__c.__P===ot&&(ue.__c.__P=We),ue.__c=null),ue.__k=ue.__k&&ue.__k.map(function(ze){return i(ze,We,ot)})),ue}function h(ue,We,ot){return ue&&(ue.__v=null,ue.__k=ue.__k&&ue.__k.map(function(ze){return h(ze,We,ot)}),ue.__c&&ue.__c.__P===We&&(ue.__e&&ot.insertBefore(ue.__e,ue.__d),ue.__c.__e=!0,ue.__c.__P=ot)),ue}function v(){this.__u=0,this.t=null,this.__b=null}function j(ue){var We=ue.__.__c;return We&&We.__a&&We.__a(ue)}function y(ue){var We,ot,ze;function vt(Wt){if(We||(We=ue()).then(function(zt){ot=zt.default||zt},function(zt){ze=zt}),ze)throw ze;if(!ot)throw We;return Object(e.createElement)(ot,Wt)}return vt.displayName="Lazy",vt.__f=!0,vt}function b(){this.u=null,this.o=null}e.options.unmount=function(ue){var We=ue.__c;We&&We.__R&&We.__R(),We&&ue.__h===!0&&(ue.type=null),r&&r(ue)},(v.prototype=new e.Component).__c=function(ue,We){var ot=We.__c,ze=this;ze.t==null&&(ze.t=[]),ze.t.push(ot);var vt=j(ze.__v),Wt=!1,zt=function(){Wt||(Wt=!0,ot.__R=null,vt?vt(at):at())};ot.__R=zt;var at=function(){if(!--ze.__u){if(ze.state.__a){var Be=ze.state.__a;ze.__v.__k[0]=h(Be,Be.__c.__P,Be.__c.__O)}var Xe;for(ze.setState({__a:ze.__b=null});Xe=ze.t.pop();)Xe.forceUpdate()}},Me=We.__h===!0;ze.__u++||Me||ze.setState({__a:ze.__b=ze.__v.__k[0]}),ue.then(zt,zt)},v.prototype.componentWillUnmount=function(){this.t=[]},v.prototype.render=function(ue,We){if(this.__b){if(this.__v.__k){var ot=document.createElement("div"),ze=this.__v.__k[0].__c;this.__v.__k[0]=i(this.__b,ot,ze.__O=ze.__P)}this.__b=null}var vt=We.__a&&Object(e.createElement)(e.Fragment,null,ue.fallback);return vt&&(vt.__h=null),[Object(e.createElement)(e.Fragment,null,We.__a?null:ue.children),vt]};var E=function(ue,We,ot){if(++ot[1]===ot[0]&&ue.o.delete(We),ue.props.revealOrder&&(ue.props.revealOrder[0]!=="t"||!ue.o.size))for(ot=ue.u;ot;){for(;ot.length>3;)ot.pop()();if(ot[1]<ot[0])break;ue.u=ot=ot[2]}};function P(ue){return this.getChildContext=function(){return ue.context},ue.children}function A(ue){var We=this,ot=ue.i;We.componentWillUnmount=function(){Object(e.render)(null,We.l),We.l=null,We.i=null},We.i&&We.i!==ot&&We.componentWillUnmount(),ue.__v?(We.l||(We.i=ot,We.l={nodeType:1,parentNode:ot,childNodes:[],appendChild:function(ze){this.childNodes.push(ze),We.i.appendChild(ze)},insertBefore:function(ze,vt){this.childNodes.push(ze),We.i.appendChild(ze)},removeChild:function(ze){this.childNodes.splice(this.childNodes.indexOf(ze)>>>1,1),We.i.removeChild(ze)}}),Object(e.render)(Object(e.createElement)(P,{context:We.context},ue.__v),We.l)):We.l&&We.componentWillUnmount()}function _(ue,We){var ot=Object(e.createElement)(A,{__v:ue,i:We});return ot.containerInfo=We,ot}(b.prototype=new e.Component).__a=function(ue){var We=this,ot=j(We.__v),ze=We.o.get(ue);return ze[0]++,function(vt){var Wt=function(){We.props.revealOrder?(ze.push(vt),E(We,ue,ze)):vt()};ot?ot(Wt):Wt()}},b.prototype.render=function(ue){this.u=null,this.o=new Map;var We=Object(e.toChildArray)(ue.children);ue.revealOrder&&ue.revealOrder[0]==="b"&&We.reverse();for(var ot=We.length;ot--;)this.o.set(We[ot],this.u=[1,0,this.u]);return ue.children},b.prototype.componentDidUpdate=b.prototype.componentDidMount=function(){var ue=this;this.o.forEach(function(We,ot){E(ue,ot,We)})};var M=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,F=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,H=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,C=/[A-Z0-9]/g,T=typeof document!="undefined",S=function(ue){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(ue)};function D(ue,We,ot){return We.__k==null&&(We.textContent=""),Object(e.render)(ue,We),typeof ot=="function"&&ot(),ue?ue.__c:null}function w(ue,We,ot){return Object(e.hydrate)(ue,We),typeof ot=="function"&&ot(),ue?ue.__c:null}e.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(ue){Object.defineProperty(e.Component.prototype,ue,{configurable:!0,get:function(){return this["UNSAFE_"+ue]},set:function(We){Object.defineProperty(this,ue,{configurable:!0,writable:!0,value:We})}})});var U=e.options.event;function V(){}function K(){return this.cancelBubble}function Y(){return this.defaultPrevented}e.options.event=function(ue){return U&&(ue=U(ue)),ue.persist=V,ue.isPropagationStopped=K,ue.isDefaultPrevented=Y,ue.nativeEvent=ue};var W,R={configurable:!0,get:function(){return this.class}},B=e.options.vnode;e.options.vnode=function(ue){var We=ue.type,ot=ue.props,ze=ot;if(typeof We=="string"){for(var vt in ze={},ot){var Wt=ot[vt];if(!(vt==="value"&&"defaultValue"in ot&&Wt==null||T&&vt==="children"&&We==="noscript")){var zt=vt.toLowerCase();vt==="defaultValue"&&"value"in ot&&ot.value==null?vt="value":vt==="download"&&Wt===!0?Wt="":zt==="ondoubleclick"?vt="ondblclick":zt!=="onchange"||We!=="input"&&We!=="textarea"||S(ot.type)?zt==="onfocus"?vt="onfocusin":zt==="onblur"?vt="onfocusout":H.test(vt)?vt=zt:We.indexOf("-")===-1&&F.test(vt)?vt=vt.replace(C,"-$&").toLowerCase():Wt===null&&(Wt=void 0):zt=vt="oninput",zt==="oninput"&&ze[vt=zt]&&(vt="oninputCapture"),ze[vt]=Wt}}We=="select"&&ze.multiple&&Array.isArray(ze.value)&&(ze.value=Object(e.toChildArray)(ot.children).forEach(function(at){at.props.selected=ze.value.indexOf(at.props.value)!=-1})),We=="select"&&ze.defaultValue!=null&&(ze.value=Object(e.toChildArray)(ot.children).forEach(function(at){at.props.selected=ze.multiple?ze.defaultValue.indexOf(at.props.value)!=-1:ze.defaultValue==at.props.value})),ue.props=ze,ot.class!=ot.className&&(R.enumerable="className"in ot,ot.className!=null&&(ze.class=ot.className),Object.defineProperty(ze,"className",R))}ue.$$typeof=M,B&&B(ue)};var x=e.options.__r;e.options.__r=function(ue){x&&x(ue),W=ue.__c};var G=e.options.diffed;e.options.diffed=function(ue){G&&G(ue);var We=ue.props,ot=ue.__e;ot!=null&&ue.type==="textarea"&&"value"in We&&We.value!==ot.value&&(ot.value=We.value==null?"":We.value),W=null};var Q={ReactCurrentDispatcher:{current:{readContext:function(ue){return W.__n[ue.__c].props.value}}}},he="17.0.2";function Z(ue){return e.createElement.bind(null,ue)}function le(ue){return!!ue&&ue.$$typeof===M}function de(ue){return le(ue)?e.cloneElement.apply(null,arguments):ue}function be(ue){return!!ue.__k&&(Object(e.render)(null,ue),!0)}function X(ue){return ue&&(ue.base||ue.nodeType===1&&ue)||null}var ie=function(ue,We){return ue(We)},Ce=function(ue,We){return ue(We)},Le=e.Fragment;function Ae(ue){ue()}function Pe(ue){return ue}function Ne(){return[!1,Ae]}var ce=a.h;function q(ue,We){var ot=We(),ze=Object(a.l)({h:{__:ot,v:We}}),vt=ze[0].h,Wt=ze[1];return Object(a.h)(function(){vt.__=ot,vt.v=We,d(vt.__,We())||Wt({h:vt})},[ue,ot,We]),Object(a.d)(function(){return d(vt.__,vt.v())||Wt({h:vt}),ue(function(){d(vt.__,vt.v())||Wt({h:vt})})},[ue]),ot}var te={useState:a.l,useId:a.f,useReducer:a.j,useEffect:a.d,useLayoutEffect:a.h,useInsertionEffect:ce,useTransition:Ne,useDeferredValue:Pe,useSyncExternalStore:q,startTransition:Ae,useRef:a.k,useImperativeHandle:a.g,useMemo:a.i,useCallback:a.a,useContext:a.b,useDebugValue:a.c,version:"17.0.2",Children:O,render:D,hydrate:w,unmountComponentAtNode:be,createPortal:_,createElement:e.createElement,createContext:e.createContext,createFactory:Z,cloneElement:de,createRef:e.createRef,Fragment:e.Fragment,isValidElement:le,findDOMNode:X,Component:e.Component,PureComponent:c,memo:u,forwardRef:p,flushSync:Ce,unstable_batchedUpdates:ie,StrictMode:Le,Suspense:v,SuspenseList:b,lazy:y,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Q}},function(k,n,t){(function(e){var a=Object.defineProperty,o=Object.defineProperties,l=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,f=(X,ie,Ce)=>ie in X?a(X,ie,{enumerable:!0,configurable:!0,writable:!0,value:Ce}):X[ie]=Ce,m=(X,ie)=>{for(var Ce in ie||(ie={}))c.call(ie,Ce)&&f(X,Ce,ie[Ce]);if(d)for(var Ce of d(ie))u.call(ie,Ce)&&f(X,Ce,ie[Ce]);return X},p=(X,ie)=>o(X,l(ie)),g=(X,ie)=>{var Ce={};for(var Le in X)c.call(X,Le)&&ie.indexOf(Le)<0&&(Ce[Le]=X[Le]);if(X!=null&&d)for(var Le of d(X))ie.indexOf(Le)<0&&u.call(X,Le)&&(Ce[Le]=X[Le]);return Ce};const{cleanSlug:O}=t(110),{substack_color:s}=t(89),{CDN_URL:r,substackDomain:i,getSubscribeUrl:h,serializeQuery:v,pathWithQuery:j,getBaseUrl:y,getSubstackUrl:b,getHostname:E,_getUrl:P,getBaseAppLinkUrl:A,getLikelyLoggedInParam:_,getPubAccountSettingsUrl:M,getDashboardUrl:F,getNewDashboardUrl:H,getSubscriberDashboardUrl:C,getProfileUrlById:T,getReaderProfileUrl:S,cloudinary:D,uncloudinary:w,extractDimensionsFromImageUrl:U,parseUrl:V,getPublishBaseUrl:K,getPublishSettingsUrl:Y,getDonateSubscriptionUrl:W,stripeBaseUrl:R,getPostUrl:B,getPostUrlBySlug:x,getEditPostUrlById:G,getGroupManagementUrl:Q,getConnectTwitterUrl:he,getPubConnectTwitterUrl:Z,getCancelOrUncancelUrl:le}=t(15),de=[/\/embed\/podcast\//];n.TWITTER_CARD_WIDTH=504,n.TWITTER_CARD_HEIGHT=264,n.TWITTER_CARD_LOGO_SIZE=70,n.USER_BAN_APPEAL_URL="https://support.substack.com/hc/en-us/requests/new?ticket_form_id=14793522353556&tf_14811460381460=i_m_a_subscriber/reader_only_&tf_14818406375316=i_am_unable_to_comment_or_publish_to_notes_",n.IMPORT_FILE_TOO_LARGE_URL="https://support.substack.com/hc/en-us/requests/new?ticket_form_id=8613857127700&request_from_search=true",n.getBaseUrl=y,n.getSubstackUrl=b,n.getBaseAppLinkUrl=A,n.getHostname=E,n.serializeQuery=v,n.getSubscribeUrl=h,n.pathWithQuery=j,n.getLikelyLoggedInParam=_,n.getPubAccountSettingsUrl=M,n.getDashboardUrl=F,n.getSubscriberDashboardUrl=C,n.getProfileUrlById=T,n.getReaderProfileUrl=S,n.cloudinary=D,n.uncloudinary=w,n.extractDimensionsFromImageUrl=U,n.parseUrl=V,n.getPublishBaseUrl=K,n.getPublishSettingsUrl=Y,n.getDonateSubscriptionUrl=W,n.stripeBaseUrl=R,n.getPostUrl=B,n.getPostUrlBySlug=x,n.getEditPostUrlById=G,n.getGroupManagementUrl=Q,n.getNewDashboardUrl=H,n.getConnectTwitterUrl=he,n.getPubConnectTwitterUrl=Z,n.getCancelOrUncancelUrl=le,n.updateQuery=function(X,ie,{skipHash:Ce=!1}={}){typeof X=="object"&&(ie=X,X=document.location.pathname+document.location.search+document.location.hash);let Le=n.pathWithQuery(X.split("?")[0].split("#")[0],Object.assign(n.parseQuery(X),ie));return X.indexOf("#")!==-1&&!Ce&&(Le+=X.substr(X.indexOf("#"))),Le},n.parseQuery=function(X){const ie={},Ce=((X==null?void 0:X.split("?")[1])||"").split("#")[0].trim();if(Ce){const Le=Ce.split("&");for(let Ae=0;Ae<Le.length;Ae++){const Pe=Le[Ae].split("=");ie[decodeURIComponent(Pe[0])]=decodeURIComponent(Pe.slice(1).join("="))}}return ie},n.getQueryItem=(X,ie)=>{if(typeof ie!="string"){if(typeof window=="undefined"||!(window==null?void 0:window.location))return null;ie=X,X=window.location.href}const Ce=n.parseQuery(X);if(ie in Ce)return Ce[ie]},n.getPubUrl=(X,{params:ie={},signedIn:Ce=!1}={})=>{const Le=_(Ce,X);return n.pathWithQuery(`${n.getBaseUrl(X)}/`,m({lli:Le},ie))},n.DEFAULT_PHOTO_URL=`${n.getSubstackUrl()}/img/avatars/logged-out.png`,n.getCallbackUrl=X=>{const ie=!1;return`${ie?n.getBaseUrl():n.getBaseUrl({subdomain:"callback"})}${ie?"/callback":""}${X}`},n.getTld=X=>{try{return new URL(X).hostname.split(".").slice(-2).join(".")}catch(ie){return null}},n.cdnSvg=X=>!X||!X.startsWith("/")||X.startsWith("//")||!/\.svg(\?|#|$)/.test(X)?X:`${r}/${X}`,n.stripProtocol=X=>(X||"").replace(/^(\w+:)?\/\//g,""),n.getUserPhotoUrl=(X,{preferAuthorPhoto:ie,noFallbackToSignedOut:Ce}={})=>{if(ie&&(X==null?void 0:X.author_photo_url)&&D(X.author_photo_url))return D(X.author_photo_url);if((X==null?void 0:X.photo_url)&&D(X.photo_url))return D(X.photo_url);if((X==null?void 0:X.id)!==void 0)return n.getDefaultUserPhotoById(X.id);if(!Ce)return n.DEFAULT_PHOTO_URL},n.getDefaultUserPhotoById=X=>{const ie=["purple","yellow","orange","green","black"];return`${n.getSubstackUrl()}/img/avatars/${ie[X%5]}.png`},n.getUndergroundUrl=X=>{const Ce=P(`admin.${i}`);return X?`${Ce}/publications/${X}`:Ce},n.getStockLandingUrl=X=>`${P(`${i}`)}/discover/stocks/${X}`,n.getUserUndergroundUrl=X=>{const Ce=P(`admin.${i}`);return X?`${Ce}/users/${X}`:Ce},n.getBaseReaderUrl=({utm_source:X}={})=>{const ie=i,Ce=e.env.READER_SUBDOMAIN||"reader";return n.pathWithQuery(P(`${Ce}.${ie}`),{utm_source:X})},n.getReaderSignupUrl=X=>n.pathWithQuery(`${P(i)}/browse`,p(m({},X),{action:"signup"})),n.getReaderUrl=(X,{query:ie})=>{const Ce=i;return n.pathWithQuery(`${P(Ce)}${X}`,ie)},n.getNotificationsUrl=X=>n.getReaderUrl("/activity",{query:X}),n.getLibraryUrl=X=>n.getReaderUrl("/library",{query:X}),n.getFeedUrl=X=>n.getReaderUrl("/feed",{query:X}),n.getChatUrl=X=>n.getReaderUrl("/chat",{query:X}),n.getSavedPostsUrl=X=>n.getReaderUrl("/saved",X),n.getDeprecatedPostAppLinkUrl=(X,ie,{params:Ce={},redirect:Le=null,source:Ae=null,postUuid:Pe=null}={})=>{const Ne=Pe?`${n.getSubstackUrl()}/app-link/publications/${X}/drafts/${Pe}`:`${n.getSubstackUrl()}/app-link/post`,ce=m({publication_id:X,post_id:ie,utm_source:Ae,redirect:Le},Ce);return n.pathWithQuery(Ne,ce)},n.getPostAppLinkUrl=(X,ie,{params:Ce={},redirect:Le=null,source:Ae=null,postUuid:Pe=null}={})=>{if(!X||!ie)return"";const Ne=Pe?`${n.getBaseAppLinkUrl()}/pub/${X}/drafts/${Pe}`:`${n.getBaseAppLinkUrl()}/pub/${X}/p/${ie}`,ce=m({utm_source:Ae,redirect:Le},Ce);return n.pathWithQuery(Ne,ce)},n.getPostCommentsUrl=function(X,ie,Ce,Le){return n.getPostUrl(X,ie,m({comments:!0,commentId:Ce==null?void 0:Ce.id},Le))},n.getPostCommentInContextUrl=function(X,ie,Ce,Le=3){if(!Ce.ancestor_path)return n.getPostCommentsUrl(X,ie,Ce);const Ae=Ce==null?void 0:Ce.ancestor_path.split("."),Pe=Ae.length<Le?0:Ae.length-Le;return n.getPostUrl(X,ie,{comments:!0,commentId:Ce.id,commentContextId:Ae[Pe]})},n.getPodcastLandingUrl=({pub:X,section:ie,addBase:Ce=!0})=>{ie=ie||X.section;const Le=Ce?n.getBaseUrl(X):"";return ie?`${Le}/listen/${ie.slug||ie.id}`:`${Le}/podcast`},n.getEditSectionUrl=(X,{addBase:ie,type:Ce,id:Le}={})=>`${ie?n.getBaseUrl(X):""}/publish/settings/${Ce}/${Le}`,n.getArchiveUrl=(X,{params:ie}={})=>{const Ce=X.section?`/s/${X.section.slug||X.section.id}`:"";return n.pathWithQuery(`${Ce}/archive`,ie)},n.getBaseArchiveUrl=(X,{addBase:ie,params:Ce}={})=>{const Le=ie?n.getBaseUrl(X):"";return n.pathWithQuery(`${Le}/archive`,Ce)},n.getAboutUrl=(X,{addBase:ie,params:Ce}={})=>{const Le=ie?n.getBaseUrl(X):"";return n.pathWithQuery(`${Le}/about`,Ce)},n.getSitemapUrl=(X,{addBase:ie,params:Ce}={})=>{const Le=ie?n.getBaseUrl(X):"";return n.pathWithQuery(`${Le}/sitemap`,Ce)},n.getDashboardUrlForSubdomain=(X,{params:ie}={})=>{const Ce=`${n.getBaseUrl({subdomain:X})}/publish`;return n.pathWithQuery(Ce,ie)},n.getFindTwitterPubsUrl=X=>n.pathWithQuery(`${n.getSubstackUrl()}/twitter/find-pubs`,X),n.getPodcastingUrl=(X,{addBase:ie,params:Ce,slug:Le,isSection:Ae}={})=>{let Ne=`${ie?n.getBaseUrl(X):""}/publish/podcasting`;return Le&&(Ae?Ne=`${Ne}/s/${Le}`:Ne=`${Ne}/${Le}`),Ce?n.pathWithQuery(Ne,Ce):Ne},n.getCreatePostUrl=(X,ie={})=>{var Ce=ie,{baseUrl:Le=null}=Ce,Ae=g(Ce,["baseUrl"]);return n.pathWithQuery(`${Le!=null?Le:n.getBaseUrl(X)}/publish/post`,Ae)},n.getCreateCollabPostUrl=(X,ie={})=>{var Ce=ie,{baseUrl:Le=null}=Ce,Ae=g(Ce,["baseUrl"]);return n.pathWithQuery(`${Le!=null?Le:n.getBaseUrl(X)}/publish/collab`,Ae)},n.getCreateMarketingPostUrl=(X,ie)=>n.pathWithQuery(`${n.getBaseUrl(X)}/publish/post/marketing`,ie),n.getSubscriberStatsUrl=(X,{addBase:ie,params:Ce}={})=>{const Le=ie?n.getBaseUrl(X):"";return n.pathWithQuery(`${Le}/publish/subscribers`,Ce)},n.getAddSubscriberUrl=X=>"/publish/subscribers/add",n.getDomainConfigUrl=(X,{payment:ie}={})=>`/publish/domain${ie?"/pay":""}`,n.getDomainMigrateUrl=X=>"/publish/domain/migrate",n.getDomainStatusUrl=()=>"/publish/domain/status",n.getSubscriberDetailsUrl=(X,ie,{addBase:Ce,tab:Le}={})=>{const Ae=Ce?n.getBaseUrl(X):"";return n.pathWithQuery(`${Ae}/publish/subscribers/legacy`,{email:ie,tab:Le})},n.getGroupDetailsUrl=X=>`/publish/groups/${X}`,n.getManageGroupsUrl=()=>"/publish/groups",n.getCheckoutUrl=function(X,ie={}){const Ce=n.pathWithQuery(`${n.getBaseUrl(X)}/subscribe`,ie);return Ce.indexOf("?")===-1?`${Ce}?`:Ce},n.getFoundingCheckoutUrl=function(X){return`${n.getBaseUrl(X)}/subscribe?plan=founding&`},n.getLoginUrl=(X={})=>n.pathWithQuery("/account/login",X),n.getMfaUrl=(X={})=>n.pathWithQuery(`${n.getSubstackUrl()}/sign-in/mfa`,X),n.getGlobalAccountRedirectForPub=(X,ie,Ce)=>{const Le=X==null?void 0:X.subdomain;return n.pathWithQuery(`${n.getSubstackUrl()}${ie}`,{redirect:Ce,for_pub:Le})},n.getWriterReferralUrl=(X,ie={})=>{if(!!X)return n.pathWithQuery(`${n.getSubstackUrl()}/refer/${X}`,ie)},n.getWriterReferralSettingsUrl=({utm_source:X,utm_context:ie,utm_content:Ce}={})=>n.pathWithQuery(`${n.getSubstackUrl()}/referral`,{utm_source:X,utm_context:ie,utm_content:Ce}),n.getGlobalAccountSettingsUrl=({utm_source:X,section:ie,highlightNotification:Ce}={})=>n.pathWithQuery(`${n.getSubstackUrl()}/settings`,{utm_source:X,section:ie,highlightNotification:Ce}),n.getGlobalNotificationSettingsUrl=({highlight:X,utm_source:ie}={})=>n.getGlobalAccountSettingsUrl({section:"notifications",highlightNotification:X,utm_source:ie}),n.getManageSubscriptionsUrl=({utm_source:X}={})=>n.pathWithQuery(`${n.getSubstackUrl()}/settings/subscriptions`,{utm_source:X}),n.getSharePubUrl=X=>`${n.getBaseUrl(X)}/?utm_source=substack&utm_medium=email&utm_content=share&action=share`,n.getPodcatcherSetupUrlForAllPodcasts=(X,ie)=>{var Ce=ie,{startAtSubscribeFlow:Le}=Ce,Ae=g(Ce,["startAtSubscribeFlow"]);let Pe=`${n.getBaseUrl(X)}/listen`;if(Ae){const Ne=n.serializeQuery(Ae);Ne&&(Pe+=`?${Ne}`)}return Le?n.getSubscribeUrl(X,m({addBase:!0,next:Pe,skipPodcastSetupPage:!0},Ae)):Pe},n.getPodcatcherSetupUrl=(X,{addBase:ie,params:Ce,noSection:Le,section:Ae,user:Pe,startAtSubscribeFlow:Ne}={})=>{let ce="";if(ie&&(ce+=n.getBaseUrl(X)),Ae=Ae||(X==null?void 0:X.section),Ae&&!Le&&(ce+=`/s/${Ae.slug||Ae.id}`),ce+="/account/add-podcast",Pe&&Pe.email&&(Ce=p(m({},Ce),{email:Pe.email}),ce+="/email"),Ce){const q=n.serializeQuery(Ce);q&&(ce+=`?${q}`)}return Ne?n.getSubscribeUrl(X,m({addBase:!0,next:ce,skipPodcastSetupPage:!0},Ce)):ce},n.getCdnUrl=(X,{cdnUrl:ie=r}={})=>X==null?void 0:X.replace(/^https:\/\/(bucketeer[^/]*|substack-post-media|substack-post-media-staging|substack-audio|substack-video|substack-video-staging|substack-content|substack-content-dev)\.s3\.amazonaws\.com/,ie);const be="https://chrt.fm/track";n.getAsChartableUrl=(X,ie)=>X?`${be}/${encodeURIComponent(X)}/${n.stripProtocol(ie)}`:ie,n.getCdnUrlForAudio=(X,ie,{token:Ce}={})=>(ie=n.getCdnUrl(ie),(X==null?void 0:X.id)&&(ie=n.updateQuery(ie,{post_id:X.id})),Ce&&(ie=n.updateQuery(ie,{podcast_rss_token:Ce})),ie),n.getClientReadyPodcastUrl=(X,ie,{rssToken:Ce})=>{if(ie.podcast_upload_id){let Le=n.updateQuery(`${n.getBaseUrl({subdomain:"api"})}/api/v1/audio/upload/${ie.podcast_upload_id}/src`,{token:Ce});return(X==null?void 0:X.chartable_token)&&(Le=n.getAsChartableUrl(X.chartable_token,Le)),Le}if(ie.podcast_url){let Le=n.getCdnUrlForAudio(ie,ie.podcast_url,{token:Ce});return(X==null?void 0:X.chartable_token)&&(Le=n.getAsChartableUrl(X.chartable_token,Le)),Le}return null},n.urlIsRegularlyShownInIframe=X=>{for(let ie=0;ie<de.length;ie++)if(de[ie].test(X))return!0;return!1},n.getCurrentUrlForLoginRedirect=({useOriginalUrl:X})=>{if(X&&typeof window!="undefined"&&window._preloads.original_url)try{const ie=new URL(window._preloads.original_url);return`${ie.pathname}${ie.search}${ie.hash}`}catch(ie){}return`${document.location.pathname}${document.location.search}${document.location.hash}`},n.getSigninUrl=(X={})=>{const{for_pub:ie,email:Ce,with_password:Le,error:Ae,message:Pe,change_user:Ne,justTrying:ce,useOriginalUrl:q}=X;let{redirect:te}=X;return typeof te!="string"&&(te=n.getCurrentUrlForLoginRedirect({useOriginalUrl:q})),n.pathWithQuery(`${n.getSubstackUrl()}/sign-in`,{redirect:te,for_pub:ie,email:Ce,with_password:Le,error:Ae,message:Pe,change_user:Ne,justTrying:ce})},n.getTermsUrl=({utm_source:X}={})=>n.pathWithQuery(`${n.getSubstackUrl()}/tos`,{utm_source:X}),n.getGoingPaidUrl=()=>`${n.getSubstackUrl()}/going-paid`,n.getInfoCollectionUrl=({utm_source:X}={})=>`${n.pathWithQuery(`${n.getSubstackUrl()}/ccpa`,{utm_source:X})}#personal-data-collected`,n.getHomeUrl=({utm_source:X}={})=>n.pathWithQuery(`${n.getSubstackUrl()}/home`,{utm_source:X}),n.getPrivacyUrl=({pub:X,utm_source:ie,hash:Ce=null}={})=>{const Le=X?`${n.getBaseUrl(X)}`:n.getSubstackUrl(),Ae=Ce?`#${Ce}`:"";return`${n.pathWithQuery(`${Le}/privacy`,{utm_source:ie})}${Ae}`},n.getLegalUrls=()=>({infoCollection:n.getInfoCollectionUrl(),privacy:n.getPrivacyUrl(),terms:n.getTermsUrl()}),n.getEditProfileUrl=({params:X}={})=>n.pathWithQuery(`${n.getSubstackUrl()}/profile/edit`,X),n.getReaderOnboardingUrl=(X,{isAbbreviated:ie,redirect:Ce,postRedirectToast:Le,pubId:Ae=null}={})=>{let Pe=null;if(Ce)try{Pe=new URL(Ce),Le&&Pe.searchParams.set("profile-setup-message",Le)}catch(Ne){Pe=new URL(n.getSubstackUrl())}return n.pathWithQuery(`${n.getSubstackUrl()}/reader-onboarding`,{isAbbreviated:ie,redirect:Pe?Pe.toString():null,pubId:Ae})},n.getProfileSetupUrl=({utm_source:X}={})=>n.pathWithQuery(`${n.getSubstackUrl()}/profile/start`,{utm_source:X}),n.getDiscoverCategoryUrl=(X,ie)=>`${n.getSubstackUrl()}/discover${X?`/category/${X.slug}`:""}${ie==="all"?"/all":""}`,n.getDiscoverSearchUrl=({query:X,params:ie={}})=>{let Ce=`${n.getSubstackUrl()}/search`;return X&&(Ce=`${n.getSubstackUrl()}/search/${encodeURIComponent(X)}`),n.updateQuery(Ce,ie)},n.getSubscribeUrl=(X,ie={})=>{var Ce=ie,{signedIn:Le=!1,addBase:Ae=!1,root:Pe=void 0,user:Ne=void 0}=Ce,ce=g(Ce,["signedIn","addBase","root","user"]);const q=_(Le,X);return h(X,{root:Pe,user:Ne,addBase:Ae,params:m({lli:q},ce)})},n.getRecommendationsPageUrl=(X,ie={})=>n.pathWithQuery(`${n.getBaseUrl(X)}/recommendations`,ie),n.getStartPublishingUrl=(X={})=>n.updateQuery(`${n.getSubstackUrl()}/signup`,X),n.getMigrateFromTwitterUrl=(X={})=>n.updateQuery(`${n.getSubstackUrl()}/twitter-quitter`,X),n.getImportUrl=(X={})=>n.updateQuery(`${n.getSubstackUrl()}/signup/import`,X),n.getPublishStripeAccountImportUrl=(X,{addBase:ie=!1,baseUrlOptions:Ce={},params:Le=void 0}={})=>n.pathWithQuery(`${K(X,{addBase:ie,baseUrlOptions:Ce})}/stripe-import`,Le),n.getPublishStatsUrl=(X,{addBase:ie,baseUrlOptions:Ce,params:Le}={})=>{const Ae=ie?n.getBaseUrl(X,Ce):"";return n.pathWithQuery(`${Ae}/publish/stats`,Le)},n.getPublishSettingsRecommendationsUrl=(X,{addBase:ie,baseUrlOptions:Ce,params:Le}={})=>{const Ae=ie?n.getBaseUrl(X,Ce):"";return n.pathWithQuery(`${Ae}/publish/settings/recommendations`,Le)},n.getPublishStatsRecommendationsUrl=(X,{addBase:ie,baseUrlOptions:Ce,params:Le}={})=>{const Ae=ie?n.getBaseUrl(X,Ce):"";return n.pathWithQuery(`${Ae}/publish/recommendations`,Le)},n.getManageBlurbsUrl=(X,{addBase:ie,baseUrlOptions:Ce,params:Le}={})=>{const Ae=ie?n.getBaseUrl(X,Ce):"";return n.pathWithQuery(`${Ae}/publish/settings/blurbs`,Le)},n.getManageReaderReferralSettingsUrl=X=>{const ie=n.getBaseUrl(X);return n.pathWithQuery(`${ie}/publish/settings/`,{search:"referral"})},n.getPublishModerationUrl=(X,{addBase:ie=!1,baseUrlOptions:Ce={}}={})=>`${K(X,{addBase:ie,baseUrlOptions:Ce})}/moderation`,n.getPublicationPodcastUrl=X=>"/publish/settings/podcast/edit",n.getInviteUrl=X=>`${n.getBaseUrl(X)}/invite`,n.getProfileSlug=X=>{let ie=`${X.author_id||X.id}`;const Ce=O(X.author_id?X.author_name:X.name,{hashIfEmpty:!0});return Ce&&(ie+=`-${Ce}`),ie},n.getProfileUrl=(X,ie,{utm_source:Ce}={})=>n.getReaderProfileUrl(X,{utm_source:Ce}),n.getPodcastRssUrl=({pub:X,token:ie=null})=>{var Ce;if(X.section){const{section:Ae}=X;if((Ce=Ae.podcastSettings)==null?void 0:Ce.podcast_feed_url)return Ae.podcastSettings.podcast_feed_url;let Pe=`${n.getBaseUrl({subdomain:"api"})}/feed/podcast/${X.id}/s/`;return ie?Pe+=`${Ae.id}/private/${ie}.rss`:Pe+=`${Ae.id}.rss`,Pe}else if(X.podcast_feed_url)return X.podcast_feed_url;let Le=`${n.getBaseUrl({subdomain:"api"})}/feed/podcast/${X.id}`;return ie?Le+=`/private/${ie}.rss`:Le+=".rss",Le},n.getSupportEmail=(X,{noOverride:ie}={})=>{if(X){if(X.support_email&&!ie)return X.support_email}else return"support@substack.com";return`support+${X.subdomain}@substack.com`},n.getSupportUrl=(X,ie)=>`https://support.substack.com/hc/en-us?s=${encodeURIComponent(n.getSupportEmail(X,ie))}`,n.getPostSelectionPreviewUrl=(X,ie,Ce)=>n.cloudinary(`${n.getPostSelectionPreviewSvgUrl(X,ie,Ce)}`,n.TWITTER_CARD_WIDTH*2,{height:n.TWITTER_CARD_HEIGHT*2,format:"jpg",crop:"fill",skipDomainValidation:!0,quality:"auto:best",version:7}),n.getPostSelectionPreviewSvgUrl=(X,ie,Ce)=>`${n.getBaseUrl(X)}/api/v1/post_selection_image/${ie.id}/${Ce}.svg`,n.getTwitterAccountUrl=X=>`https://twitter.com/${X}`,n.getInstagramAccountUrl=X=>`https://instagram.com/${X}`,n.getTiktokAccountUrl=X=>`https://tiktok.com/@${X}`,n.getYoutubeAccountUrl=X=>`https://youtube.com/channel/${X}`,n.getTwitterSubscribeCardUrl=X=>n.cloudinary(`${n.getTwitterSubscribeCardSvgUrl(X)}`,null,{quality:"auto:best",version:9,skipDomainValidation:!0}),n.getTwitterSubscribeCardSvgUrl=X=>{const{hashString:ie}=t(10);let Ce=`${n.getBaseUrl(X,{forceSubdomain:!0})}/twitter/subscribe-card.jpg`;const Le=`${X.logo_url}:${X.hero_text}:${X.name}:${X.author_name}:${X.subdomain}`,Ae=ie(Le);return Ae?Ce+=`?v=${Ae}`:Ce+="?v=bust",Ce},n.getPressKitUrl=(X,ie,Ce)=>{const Le=n.getPressKitImageUrl(X,ie,Ce);return n.cloudinary(Le,null,{quality:"auto:best",skipDomainValidation:!0,version:9})},n.getPressKitImageUrl=(X,ie,Ce)=>{const{hashString:Le}=t(10),Ae=Le(`${ie.social_title+ie.title+ie.description+ie.cover_image}`);return n.pathWithQuery(`${n.getBaseUrl(X,{forceSubdomain:!0})}/api/v1/press_kit/${ie.id}.jpg`,p(m({},Ce),{isDraft:ie.is_draft,hash:Ae}))},n.getLatexUrl=X=>{const ie=n.getLatexImageUrl(X);return n.cloudinary(ie,null,{quality:"auto:best",version:9})},n.getLatexImageUrl=X=>n.pathWithQuery("/api/v1/latex/jpeg",{expression:X}),n.getBestsellerAssetUrl=X=>{const ie=`${n.getBaseUrl(null,{forceSubdomain:!0})}/api/v1/profile_assets/${X.id}-bestseller.jpg`;return n.cloudinary(ie,null,{quality:"auto:best",skipDomainValidation:!0,version:9})},n.getBestsellerShareCardUrl=X=>{const ie=`${n.getBaseUrl(null,{forceSubdomain:!0})}/api/v1/profile_assets/${X.id}-bestseller-share-card.jpg`;return n.cloudinary(ie,null,{quality:"auto:best",skipDomainValidation:!0,version:9})},n.getThreadDeepLinkUrl=X=>`substack://publications/${X.id}/threads`,n.isPublishPath=(X,ie)=>X.startsWith("/publish"),n.looksLikePostUrl=X=>{const ie=n.parseUrl(X);return ie?ie.pathname.startsWith("/p/"):!1},n.getPostSlug=X=>n.looksLikePostUrl(X)?n.parseUrl(X).pathname.split("/")[2]:null,n.getSignoutUrl=({redirect:X,for_pub:ie,utm_source:Ce}={})=>(X=X||"",n.pathWithQuery(`${n.getSubstackUrl()}/sign-out`,{redirect:X,for_pub:ie,utm_source:Ce})),n.getPodcastOnboardingUrl=X=>`/publish/podcast/new?referrer=${encodeURIComponent(X)}`,n.getUrlExtension=X=>{try{const Ce=new URL(X).pathname.match(/\.(\w+)$/);return Ce?Ce[0]:null}catch(ie){return null}},n.EMAIL_CONTENT_WIDTH=550,n.WEB_CONTENT_WIDTH=728,n.WEB_CONTENT_WIDTH_MOBILE=424,n.WEB_RESPONSIVE_IMAGE_WIDTHS=[n.WEB_CONTENT_WIDTH_MOBILE,n.WEB_CONTENT_WIDTH_MOBILE*2,n.WEB_CONTENT_WIDTH_MOBILE*3,n.WEB_CONTENT_WIDTH*2],n.LARGE_IMAGE_WIDTH=1200,n.MAX_REASONABLE_SCREEN_WIDTH=2880,n.MIN_GIF_WIDTH=320,n.MAX_GIF_WIDTH=550,n.getMediaUploadThumbnailUrl=X=>{var ie;return X?`https://substack-video.s3.amazonaws.com/video_upload/post/${X.post_id}/${X.id}/transcoded-${((ie=X.thumbnail_id)!=null?ie:1).toString().padStart(5,"0")}.png`:void 0},n.getMediaUploadThumbnailUrlForPlayer=(X,{pub:ie,isStatic:Ce}={})=>{var Le;const{colorLuma:Ae,videoPlayerDimensions:Pe}=t(10),{height:Ne,width:ce}=Pe(X,{isStatic:Ce}),q=ce/Ne<1920/1080?"pad":"fill",te=((Le=ie==null?void 0:ie.theme)==null?void 0:Le.background_pop_color)||(ie==null?void 0:ie.theme_var_background_pop)||s,ue=Ae(te)>.6?"#1a1a1a":"#ffffff";return n.cloudinary(n.getMediaUploadThumbnailUrl(X),ce*2,{crop:q,height:Ne*2,trailingSegments:Ce?[`l_video_play_base_tu77jd,w_152,e_colorize:100,co_rgb:${te.slice(1)}`,`l_video_play_icon_c75z6z,w_152,e_colorize:100,co_rgb:${ue.slice(1)}`]:[]})},n.getPreviewInAppUrl=(X,ie,Ce={})=>n.pathWithQuery(`https://substack.com/app-link/publications/${X.id}/drafts/${ie}`,Ce),n.getLinkRedirectUrl=(X,{userIdJwt:ie}={})=>`${n.getSubstackUrl()}/redirect/${X}?j=${ie||""}`,n.getLoginChallengeDeepUrl=X=>n.pathWithQuery("substack://sign-in/challenge",{token:X}),n.DIRECT_APPLE_APP_STORE_URL="https://apps.apple.com/us/app/substack-reader/id1581650857",n.DIRECT_GOOGLE_PLAY_STORE_URL="https://play.google.com/store/apps/details?id=com.substack.app",n.getSubstackMarketingUrl=(X={})=>n.pathWithQuery(`${n.getSubstackUrl()}/home`),n.getAppMarketingUrl=(X={})=>n.pathWithQuery(`${n.getSubstackUrl()}/app`,X),n.getAppWriterFaqUrl=(X={})=>n.pathWithQuery("https://on.substack.com/p/writerfaq",X),n.getAppStoreRedirectUrl=X=>n.pathWithQuery(`${n.getSubstackUrl()}/app/app-store-redirect`,X),n.getAppStoreUrl=X=>n.pathWithQuery(`${n.getSubstackUrl()}/app/get-ios`,X),n.getPlayStoreUrl=X=>n.pathWithQuery(`${n.getSubstackUrl()}/app/get-android`,X),n.getDefaultPodcastArtUrl=({pathOnly:X=!1}={})=>{const ie="/img/podcast/generic.png";return X?ie:`${n.getSubstackUrl()}${ie}`},n.getDefaultPodcastArtUrlCDN=()=>{const X=n.getDefaultPodcastArtUrl({pathOnly:!0});return n.cloudinary(X,1400)}}).call(this,t(195))},function(k,n,t){var e,a;/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){"use strict";var o={}.hasOwnProperty;function l(){for(var d=[],c=0;c<arguments.length;c++){var u=arguments[c];if(!!u){var f=typeof u;if(f==="string"||f==="number")d.push(u);else if(Array.isArray(u)){if(u.length){var m=l.apply(null,u);m&&d.push(m)}}else if(f==="object")if(u.toString===Object.prototype.toString)for(var p in u)o.call(u,p)&&u[p]&&d.push(p);else d.push(u.toString())}}return d.join(" ")}k.exports?(l.default=l,k.exports=l):(e=[],a=function(){return l}.apply(n,e),a!==void 0&&(k.exports=a))})()},function(k,n,t){"use strict";t.d(n,"a",function(){return l});var e=t(0),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"};const o=d=>d.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=(d,c)=>{const u=r=>{var i=r,{color:f="currentColor",size:m=24,strokeWidth:p=2,absoluteStrokeWidth:g,children:O}=i,s=Ji(i,["color","size","strokeWidth","absoluteStrokeWidth","children"]);return Object(e.h)("svg",pr(_o(pr({},a),{width:String(m),height:m,stroke:f,["stroke-width"]:g?Number(p)*24/Number(m):p,class:`lucide lucide-${o(d)}`}),s),[...c.map(([h,v])=>Object(e.h)(h,v)),...Object(e.toChildArray)(O)])};return u.displayName=`${d}`,u}},function(k,n,t){"use strict";t.d(n,"a",function(){return P}),t.d(n,"c",function(){return T}),t.d(n,"i",function(){return S}),t.d(n,"l",function(){return D}),t.d(n,"e",function(){return w}),t.d(n,"h",function(){return U}),t.d(n,"d",function(){return V}),t.d(n,"b",function(){return Y}),t.d(n,"g",function(){return Z}),t.d(n,"f",function(){return le}),t.d(n,"k",function(){return ie}),t.d(n,"j",function(){return Ce}),t.d(n,"m",function(){return Le});var e=t(17),a=t.n(e),o=t(369),l=t(4),d=t(438),c=t(10),u=t(55),f=t(15);const m=()=>typeof window!="undefined"&&window._preloads&&window._preloads.pub&&window._preloads.pub.twitter_pixel_id||null,p=()=>typeof window!="undefined"&&window._preloads&&window._preloads.publicationSettings&&window._preloads.publicationSettings.twitter_pixel_signup_event_id||null,g=()=>typeof window!="undefined"&&window._preloads&&window._preloads.publicationSettings&&window._preloads.publicationSettings.twitter_pixel_subscribe_event_id||null,O=(Ae,Pe=null)=>{const Ne=m();if(!Ne)return;const ce={p_id:"Twitter",p_user_id:0,txn_id:Ne,events:JSON.stringify([[Ae,Pe]]),tw_sale_amount:(Pe==null?void 0:Pe.value)||0,tw_order_quantity:(Pe==null?void 0:Pe.num_items)||0,tw_iframe_status:0,tw_document_href:document.location.href};s(ce)},s=Ae=>{new Image().src=`https://t.co/i/adsct?${Object(f.serializeQuery)(Ae)}`,new Image().src=`https://analytics.twitter.com/i/adsct?${Object(f.serializeQuery)(Ae)}`},r=(Ae,{quantity:Pe,price:Ne}={})=>{if(Ae==="purchase"){const ce=g();ce&&typeof window.twq=="function"&&window.twq("event",ce),O("purchase",{num_items:Pe,value:Ne})}else if(Ae==="signup"){const ce=p();ce&&typeof window.twq=="function"&&window.twq("event",ce),O("signup")}else O("pageview")};var i=t(9),h=Object.defineProperty,v=Object.getOwnPropertySymbols,j=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,b=(Ae,Pe,Ne)=>Pe in Ae?h(Ae,Pe,{enumerable:!0,configurable:!0,writable:!0,value:Ne}):Ae[Pe]=Ne,E=(Ae,Pe)=>{for(var Ne in Pe||(Pe={}))j.call(Pe,Ne)&&b(Ae,Ne,Pe[Ne]);if(v)for(var Ne of v(Pe))y.call(Pe,Ne)&&b(Ae,Ne,Pe[Ne]);return Ae};const P=o.a,A=10,_=Object(c.randomString)(),M=typeof window!="undefined"&&window!=window.top&&Object(d.generateVisitIdHelper)(i.uuidV4);let F=null;typeof window!="undefined"&&H();function H(){var Ae;typeof window!="undefined"&&((Ae=window==null?void 0:window.navigator)==null?void 0:Ae.sendBeacon)&&(window.navigator.sendBeacon=window.navigator.sendBeacon.bind(window.navigator)),be(),de(),C(),Object(i.windowReady)(()=>{const Pe=F;F=null,Pe&&Pe.length>0&&R(Pe)})}function C(Ae){var Pe,Ne;if(document.location.pathname.startsWith("/embed")&&typeof window!="undefined"&&((Ne=(Pe=window==null?void 0:window._preloads)==null?void 0:Pe.pub)==null?void 0:Ne.embed_tracking_disabled))return;W(P.PAGES,Object.assign(he(),Ae));const ce=B();ce&&(new Image().src=`https://www.facebook.com/tr?id=${ce}&ev=PageView`),r("pageview"),Z("pageview"),typeof window!="undefined"&&window.PARSELY&&window.PARSELY.loaded&&window.PARSELY.beacon&&window.PARSELY.beacon.trackPageView&&window.PARSELY.beacon.trackPageView({url:document.location.origin+document.location.pathname+document.location.search,urlref:document.referrer||"",js:1})}function T({previous:Ae,url:Pe}){!Ae||Pe.includes("_no_an=true")||C()}function S(Ae,Pe){if(["development","test"].includes("production")&&!Ae)throw new Error("`undefined` event passed to FRONTEND track call");W(Ae,Object.assign({},Pe))}function D(Ae,Pe,Ne={}){S(P.PUBLICATION_VISITED,E({visited_publication_id:Ae.id,visited_publication_subdomain:Ae.subdomain,source:Pe},Ne))}function w(Ae,Pe,Ne=1,{plan:ce,isSubscription:q}={}){const te=(Ae/100).toFixed(2),ue=(Ae/Ne/100).toFixed(2);Pe=Pe.toUpperCase(),U();const We=K(),ot=B();ot&&(new Image().src=`https://www.facebook.com/tr?id=${ot}&ev=Purchase&cd[value]=${te}&cd[currency]=${Pe}`),ot&&q&&(new Image().src=`https://www.facebook.com/tr?id=${ot}&ev=Subscribe&cd[value]=${te}&cd[currency]=${Pe}`),r("purchase",{price:ue,quantity:Ne});const ze=Object(c.randomString)();Z("transaction",{ti:ze,tr:te,cu:Pe}),Z("item",{ti:ze,in:ce&&(ce.name||ce.nickname||ce.id)||"subscription",ip:ue,iq:Ne,ic:ce&&ce.id,cu:Pe});const vt="7AeECMLq68wDEKuN5pYB";le("conversion",(We==null?void 0:We.adwordsAccountId)&&(We==null?void 0:We.adwordsEventSendTo)?{send_to:`${We.adwordsAccountId}/${vt}`}:{});const Wt=Q();if(Wt){const{id:zt,label:at}=Wt;new Image().src=`//www.googleadservices.com/pagead/conversion/${zt}/?value=${te}&currency_code=${Pe}&label=${at}&guid=ON&script=0`}if(typeof window!="undefined"&&window.PARSELY&&window.PARSELY.loaded&&window.PARSELY.conversions&&window.PARSELY.conversions.trackSubscription&&window.PARSELY.conversions.trackSubscription(`${ce&&(ce.name||ce.nickname||ce.id)||""} Subscription`),x()==="bankless"){const zt=ce?`paid_${ce.interval}ly`:"paid";window.history.replaceState({},document.title,Object(l.updateQuery)({plan:zt})),C()}}function U(){const Ae=K();if(Ae.properties.is_free_subscribed)return;Ae.properties.is_free_subscribed=!0,Z("event",{ec:"Signup",ea:"Signup Success"});const Pe="Yo9oCMOM1MYDEKuN5pYB";le("conversion",(Ae==null?void 0:Ae.adwordsAccountId)&&(Ae==null?void 0:Ae.adwordsEventSendTo)?{send_to:`${Ae.adwordsAccountId}/${Pe}`}:{});const Ne=B();Ne&&(new Image().src=`https://www.facebook.com/tr?id=${Ne}&ev=CompleteRegistration`),r("signup"),typeof window!="undefined"&&window.PARSELY&&window.PARSELY.loaded&&window.PARSELY.conversions&&window.PARSELY.conversions.trackNewsletterSignup&&window.PARSELY.conversions.trackNewsletterSignup("Newsletter Sign Up"),x()==="bankless"&&(window.history.replaceState({},document.title,Object(l.updateQuery)({plan:"free"})),C())}function V(Ae={}){le("Publication Created",Ae)}function K(){let Ae;return typeof window!="undefined"&&(Ae=window._analyticsConfig),Ae||(Ae={}),Ae.properties||(Ae.properties={}),Ae.properties.browserSessionId=_,Ae}function Y(){return M}function W(Ae,Pe){var Ne,ce;if(typeof window=="undefined")return;const q={event:Ae,properties:Object.assign({browserSessionId:_,iframeVisitId:M},Pe),context:{client_type:"web",page:{referrer:document.referrer,title:document.title,url:document.location.href}}},te=Object(i.base64encode)(JSON.stringify(q));F&&F.length<A?F.push(te):new Image().src=Object(l.pathWithQuery)("/api/v1/firehose",{_:new Date().getTime(),d:te}),((ce=(Ne=window==null?void 0:window._preloads)==null?void 0:Ne.user)==null?void 0:ce.is_global_admin)&&console.log(`EVENT: ${Ae}`,Pe)}function R(Ae){typeof window!="undefined"&&(new Image().src=Object(l.pathWithQuery)("/api/v1/firehose/batch",{_:new Date().getTime(),d:Ae.join(",")}))}function B(){return typeof window!="undefined"&&window._preloads&&window._preloads.pub&&window._preloads.pub.fb_pixel_id}function x(){var Ae,Pe;const Ne=typeof window!="undefined"&&((Ae=window._preloads)==null?void 0:Ae.pub);return((Pe=Ne==null?void 0:Ne.parent_publication)==null?void 0:Pe.subdomain)||(Ne==null?void 0:Ne.subdomain)}function G(){return typeof window!="undefined"&&window._preloads&&window._preloads.pub&&window._preloads.pub.ga_pixel_id}function Q(){return typeof window!="undefined"&&window._preloads&&window._preloads.pub&&window._preloads.pub.google_conversion_info}function he(){const Ae={};if(typeof window!="undefined"){const Pe=window._preloads&&window._preloads.post,Ne=window.location&&/^\/p\/([^\/]+)/.exec(window.location.pathname);Ne&&Pe&&Ne[1]===Pe.slug&&(Ae.post_id=Pe.id,Ae.post_audience=Pe.audience,Ae.post_type=Pe.type)}return Ae}function Z(Ae,Pe){var Ne;const ce=K(),q=G();if(!q)return;const te=Object(l.parseQuery)(window.location.href);Pe=Object.assign({v:1,t:Ae,tid:q,cid:ce.anonymousId,dl:document.location.origin+document.location.pathname+document.location.search,dt:document.title||"",dr:document.referrer||"",cn:te.utm_campaign,cs:te.utm_source,cm:te.utm_medium,ck:te.utm_term,cc:te.utm_content,ci:te.utm_id},Pe),((Ne=ce.user)==null?void 0:Ne.id)&&(Pe.uid=ce.user.id.toString()),new Image().src=`https://www.google-analytics.com/collect?${Object(l.serializeQuery)(Pe)}`}function le(Ae,Pe){typeof window=="undefined"||!(window==null?void 0:window.gtag)||window.gtag("event",Ae,Pe)}function de(){var Ae;if(typeof window=="undefined")return;const Pe=K();!Pe.localGaPixelId&&!Pe.adwordsAccountId||(window.localGaDataLayer=window.localGaDataLayer||[],window.gtag=function(){window.localGaDataLayer.push(arguments)},window.gtag("js",new Date),Pe.localGaPixelId&&window.gtag("config",Pe.localGaPixelId),Pe.adwordsAccountId&&window.gtag("config",Pe.adwordsAccountId),((Ae=Pe.user)==null?void 0:Ae.id)&&window.gtag("userId",Pe.user.id.toString()),X(`https://www.googletagmanager.com/gtag/js?id=${Pe.localGaPixelId}&l=localGaDataLayer`))}function be(){var Ae,Pe,Ne;if(typeof window=="undefined")return;const ce=(Pe=(Ae=window==null?void 0:window._preloads)==null?void 0:Ae.pub)==null?void 0:Pe.google_tag_manager_token;if(!ce)return;window.dataLayer=window.dataLayer||[],Object(u.default)("exempt_from_gtm_filter")?window.dataLayer.push({"gtm.allowlist":["customPixels","customScripts","google","html","nonGooglePixels","nonGoogleScripts","nonGoogleIframes","sandboxedScripts"]}):window.dataLayer.push({"gtm.allowlist":["google"],"gtm.blocklist":["customPixels","customScripts","html","nonGooglePixels","nonGoogleScripts","nonGoogleIframes","sandboxedScripts"]}),window.dataLayer.push({"gtm.start":new Date().getTime(),event:"gtm.js"});const q=K();((Ne=q.user)==null?void 0:Ne.id)&&window.dataLayer.push({userId:q.user.id.toString()}),X(`https://www.googletagmanager.com/gtm.js?id=${ce}`,{toHead:!0})}function X(Ae,{toHead:Pe}={}){Object(i.windowReady)(()=>{const Ne=document.createElement("script");if(Ne.async=!0,Ne.src=Ae,Pe)document.head.appendChild(Ne);else{const ce=document.getElementsByTagName("script")[0];ce.parentNode.insertBefore(Ne,ce)}})}function ie({post:Ae,hasPaywall:Pe,surface:Ne}){S(P.POST_SEEN,{post_id:Ae.id,post_audience:Ae.audience,post_type:Ae.type,has_paywall:Pe,post_age_minutes:Ae.post_date&&a()().diff(Ae.post_date,"minute"),surface:Ne})}function Ce({post:Ae,hasPaywall:Pe,surface:Ne}){S(P.POST_BOTTOM_SEEN,{post_id:Ae.id,post_audience:Ae.audience,post_type:Ae.type,has_paywall:Pe,surface:Ne})}function Le({post:Ae}){!(Ae==null?void 0:Ae.id)||(S(P.POST_PAGE_PINGBACK,{seconds:0,post_id:Ae.id}),setTimeout(function(){S(P.POST_PAGE_PINGBACK,{seconds:10,post_id:Ae.id})},1e4))}},function(k,n,t){"use strict";t.d(n,"b",function(){return s}),t.d(n,"a",function(){return r});var e=t(0),a=t(5),o=t.n(a),l=t(100),d=t(41),c=Object.defineProperty,u=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,p=(R,B,x)=>B in R?c(R,B,{enumerable:!0,configurable:!0,writable:!0,value:x}):R[B]=x,g=(R,B)=>{for(var x in B||(B={}))f.call(B,x)&&p(R,x,B[x]);if(u)for(var x of u(B))m.call(B,x)&&p(R,x,B[x]);return R},O=(R,B)=>{var x={};for(var G in R)f.call(R,G)&&B.indexOf(G)<0&&(x[G]=R[G]);if(R!=null&&u)for(var G of u(R))B.indexOf(G)<0&&m.call(R,G)&&(x[G]=R[G]);return x};const s=R=>{var B=R,{className:x}=B,G=O(B,["className"]);return Object(e.h)(l.a,g({className:o()(d.a.reset,x)},G))},r=R=>Object(e.h)(s,g({as:"span"},R)),i=R=>{var B=R,{children:x,className:G}=B,Q=O(B,["children","className"]);return Object(e.h)(s,g({as:"h1",font:"display",size:32,weight:"bold",color:"primary",className:o()(d.a.header1,G)},Q),x)},h=R=>{var B=R,{children:x,className:G}=B,Q=O(B,["children","className"]);return Object(e.h)(s,g({as:"h2",font:"display",size:24,weight:"bold",color:"primary",className:o()(d.a.header2,G)},Q),x)},v=R=>{var B=R,{children:x,className:G}=B,Q=O(B,["children","className"]);return Object(e.h)(s,g({as:"h3",font:"display",size:20,lineHeight:24,weight:"bold",color:"primary",className:o()(d.a.header3,G)},Q),x)},j=R=>{var B=R,{children:x,className:G}=B,Q=O(B,["children","className"]);return Object(e.h)(s,g({as:"h4",font:"text",size:16,lineHeight:20,weight:"bold",color:"primary",className:o()(d.a.header4,G)},Q),x)},y=Object(l.b)({font:"display",size:20,lineHeight:30,weight:"normal",color:"primary",className:d.a.body1}),b=R=>{var B=R,{children:x,className:G}=B,Q=O(B,["children","className"]);return Object(e.h)(s,g({font:"text",size:18,lineHeight:30,weight:"normal",color:"primary",className:o()(d.a.body2,G)},Q),x)},E=R=>{var B=R,{children:x,className:G}=B,Q=O(B,["children","className"]);return Object(e.h)(s,g({font:"text",size:16,lineHeight:24,weight:"normal",color:"primary",className:o()(d.a.body3,G)},Q),x)},P=R=>{var B=R,{children:x,className:G}=B,Q=O(B,["children","className"]);return Object(e.h)(s,g({font:"text",size:14,lineHeight:20,weight:"normal",color:"primary",className:o()(d.a.body4,G)},Q),x)},A=R=>{var B=R,{children:x,className:G}=B,Q=O(B,["children","className"]);return Object(e.h)(s,g({color:"secondary",font:"meta",size:11,lineHeight:20,weight:"medium",transform:"uppercase",className:o()(d.a.meta,G)},Q),x)},_=R=>{var B=R,{children:x,className:G}=B,Q=O(B,["children","className"]);return Object(e.h)(s,g({font:"digit",size:12,lineHeight:20,weight:"bold",transform:"uppercase",className:o()(d.a.digit,G)},Q),x)},M=R=>Object(e.h)(s,g({font:"text",lineHeight:20,size:14,weight:"medium",color:"substack"},R)),F=R=>{var B=R,{children:x,className:G}=B,Q=O(B,["children","className"]);return Object(e.h)(s,g({font:"text",size:12,lineHeight:20,weight:"normal",color:"secondary",className:o()(G)},Q),x)},H=R=>{var B=R,{children:x,className:G}=B,Q=O(B,["children","className"]);return Object(e.h)(s,g({font:"text",color:"primary",className:o()(d.a.marketingBody,G)},Q),x)},C=R=>{var B=R,{children:x,className:G}=B,Q=O(B,["children","className"]);return Object(e.h)(s,g({as:"h1",color:"primary",weight:"normal",className:o()(d.a.marketingHeading1xl,G)},Q),x)},T=R=>{var B=R,{children:x,className:G}=B,Q=O(B,["children","className"]);return Object(e.h)(s,g({as:"h1",color:"primary",weight:"normal",className:o()(d.a.marketingHeading1,G)},Q),x)},S=R=>{var B=R,{children:x,className:G}=B,Q=O(B,["children","className"]);return Object(e.h)(s,g({as:"h3",color:"primary",weight:"medium",className:o()(d.a.marketingHeading2,G)},Q),x)},D=R=>{var B=R,{children:x,className:G}=B,Q=O(B,["children","className"]);return Object(e.h)(s,g({as:"h3",color:"primary",weight:"medium",className:o()(d.a.marketingHeading3,G)},Q),x)},w=R=>{var B=R,{children:x,className:G}=B,Q=O(B,["children","className"]);return Object(e.h)(s,g({as:"h4",color:"primary",weight:"medium",className:o()(d.a.marketingHeading4,G)},Q),x)},U=R=>{var B=R,{children:x,className:G}=B,Q=O(B,["children","className"]);return Object(e.h)(s,g({as:"h5",color:"primary",weight:"normal",className:o()(d.a.marketingHeading5,G)},Q),x)},V=R=>{var B=R,{children:x,className:G}=B,Q=O(B,["children","className"]);return Object(e.h)(s,g({as:"h4",color:"primary",weight:"normal",align:"center",className:o()(d.a.marketingQuote,G)},Q),x)},K=R=>{var B=R,{children:x,className:G}=B,Q=O(B,["children","className"]);return Object(e.h)(s,g({as:"h4",color:"primary",weight:"normal",size:28,className:o()(d.a.marketingSubtitle,G)},Q),x)},Y=R=>{var B=R,{children:x,className:G}=B,Q=O(B,["children","className"]);return Object(e.h)(s,g({as:"h1",color:"primary",weight:"normal",className:o()(d.a.stat,G)},Q),x)},W=Object(l.b)({as:"a",decoration:"hover-underline",ellipsis:!0});s.H1=i,s.H2=h,s.H3=v,s.H4=j,s.B1=y,s.B2=b,s.B3=E,s.B4=P,s.Detail=F,s.MarketingBody=H,s.MarketingHeading1xl=C,s.MarketingHeading1=T,s.MarketingHeading2=S,s.MarketingHeading3=D,s.MarketingHeading4=w,s.MarketingHeading5=U,s.MarketingQuote=V,s.MarketingSubtitle=K,s.Meta=A,s.Stat=Y,s.Digit=_,s.Button=M},function(k,n,t){var e=Object.defineProperty,a=Object.defineProperties,o=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,u=(W,R,B)=>R in W?e(W,R,{enumerable:!0,configurable:!0,writable:!0,value:B}):W[R]=B,f=(W,R)=>{for(var B in R||(R={}))d.call(R,B)&&u(W,B,R[B]);if(l)for(var B of l(R))c.call(R,B)&&u(W,B,R[B]);return W},m=(W,R)=>a(W,o(R)),p=(W,R,B)=>new Promise((x,G)=>{var Q=le=>{try{Z(B.next(le))}catch(de){G(de)}},he=le=>{try{Z(B.throw(le))}catch(de){G(de)}},Z=le=>le.done?x(le.value):Promise.resolve(le.value).then(Q,he);Z((B=B.apply(W,R)).next())});const{h:g}=t(0),{route:O}=t(49),{getQueryItem:s,pathWithQuery:r,parseQuery:i,getGlobalAccountSettingsUrl:h,getPubAccountSettingsUrl:v,getCurrentUrlForLoginRedirect:j}=t(4),{centsToPriceString:y,toTitleCase:b,pluralize:E,isZeroDecimalCurrency:P}=t(10),A=t(622),{isMobileUserAgent:_,getIosVersion:M}=t(103),{validatePledgePrices:F}=t(623),H=t(97),{Metadata:C}=t(213),{getPodcastEpisodeImageUrl:T}=t(204);n.getPodcastEpisodeImageUrl=T;const S=["text","password","file","search","email","number","date","color","datetime","datetime-local","month","range","search","tel","time","url","week"];let D=typeof window=="undefined"||!window.addEventListener;D||window.addEventListener("load",()=>{D=!0},!1),typeof window!="undefined"&&window._preloads,n.globalPlaybackNotifier=typeof window!="undefined"?new A:null,n.windowReady=W=>{D?W():window.addEventListener("load",W,!1)},n.debounce=function(W,R,B=this){let x=null;return function(){clearTimeout(x),x=setTimeout(()=>W.apply(B,arguments),R)}},n.planToString=function(W,{totalAmount:R=null,discount:B=null,quantity:x=1,trial_end_override:G=null,noTrial:Q=!1,recurring:he=!0,intervalPostfix:Z=null}={}){const le=R===null?W.amount*(x||1):R,de=y(le,W.currency);let be;W.is_bitcoin?be=E(W.interval_count,W.interval):W.interval_count===1&&he?be=`per ${W.interval}`:be=`${he?"per":"for"} ${E(W.interval_count,W.interval)}`,Z&&(be+=` ${Z}`);let X="";const ie=Math.max(0,W.trial_period_days||0,B&&B.trial_period_days||0,G&&Math.ceil((G-Date.now()/1e3)/60/60/24));!Q&&ie>0&&(X=g("span",{className:"trial"},` ${ie} day free trial`));let Ce;if(B){if(B.loading)X=g("span",{className:"discount-price"}," (coupon loading)");else if(B.error)X=g("span",{className:"discount-price error"}," (coupon invalid or expired)");else if(B.percent_off||B.amount_off){let Le;if(B.percent_off?Le=Math.round(le*(1-(B.percent_off_precise||B.percent_off)/100)):B.amount_off&&(Le=Math.max(0,le-B.amount_off)),Ce=y(Le,W.currency),he){if(Le===0&&(be=""),B.duration==="once")be+=` for first ${W.interval}`;else if(B.duration==="repeating"){const Ae=B.duration_in_months/(W.interval==="year"?12:1)*W.interval_count;Ae>1?be+=` for first ${Ae} ${W.interval}s`:be+=` for first ${W.interval}`}}}}return Ce?[g("span",{className:"crossed-out"},de)," ",g("span",{className:"discount-price"},Ce," ",be," ",X)]:[`${de}${W.is_bitcoin?"/":" "}${be}`,X]},n.couponToString=(W,R)=>{if(!W||W.loading||W.error)return;let B;return W.trial_period_days?B=`${W.trial_period_days} day free trial`:(W.percent_off?B=`${Math.round(W.percent_off_precise||W.percent_off)}% off`:W.amount_off&&(B=`${y(W.amount_off,R.currency)} off`),W.duration==="once"?R?B+=` first ${R.interval}`:B+=" first payment":W.duration==="repeating"?W.duration_in_months%12==0?B+=` for ${E(W.duration_in_months/12,"year")}`:B+=` for ${E(W.duration_in_months,"month")}`:B+=" forever"),B},n.preloadImage=function(W,R){const B=new Image;B.onload=()=>{B.onload=B.onerror=null,R&&R(B)},B.onerror=B.onload,B.src=W},n.getHostname=W=>{const R=document.createElement("a");return R.href=W,(R.hostname||"").replace(/\.localhost$/,"")},n.getPathname=W=>{const R=document.createElement("a");return R.href=W,R.pathname||""},n.getPath=W=>{const R=document.createElement("a");return R.href=W,(R.pathname||"")+(R.search||"")+(R.hash||"")},n.getNetworkErrorMessage=(W,R)=>{var B;return n.getNetworkErrorMessageFromResponse((W==null?void 0:W.body)||((B=W==null?void 0:W.response)==null?void 0:B.body),R)},n.getNetworkErrorBody=W=>{var R;const B=(W==null?void 0:W.body)||((R=W==null?void 0:W.response)==null?void 0:R.body);if(B&&B.error)return{msg:B.error};if(B&&B.errors&&B.errors.length>0)return{html:B.errors[B.errors.length-1].msgHTML,msg:B.errors[B.errors.length-1].msg}},n.getNetworkErrorMessageFromXhr=(W,R)=>{let B;try{B=JSON.parse(W&&W.responseText)}catch(x){}return n.getNetworkErrorMessageFromResponse(B,R)},n.getNetworkErrorMessageFromResponse=(W,R)=>(R=R||"Something went wrong",W&&W.error?W.error:W&&W.errors&&W.errors.length>0&&W.errors[W.errors.length-1].msg||R),n.inputPrefillHack=function(){return[g("input",{type:"email",name:"fake_email",placeholder:"email",style:"position:absolute;top:-10000px;left:-10000px"}),g("input",{type:"password",name:"fake_password",placeholder:"password",style:"position:absolute;top:-10000px;left:-10000px"})]},n.isBrowser=function(){return typeof window!="undefined"},n.isMobileBrowser=function(){if(typeof navigator!="undefined"||typeof window!="undefined"){const W=navigator.userAgent||navigator.vendor||window.opera;if(_(W,{checkFirst4:!0}))return!0}return!1},n.isIE=()=>typeof window=="undefined"||!window.navigator||!window.navigator.userAgent?!1:/(MSIE|Trident)/i.test(window.navigator.userAgent),n.isFirefox=()=>typeof window=="undefined"||!window.navigator||!window.navigator.userAgent?!1:/Firefox/i.test(window.navigator.userAgent),n.isAndroid=()=>typeof window=="undefined"||!window.navigator||!window.navigator.userAgent?!1:/Android/i.test(window.navigator.userAgent),n.isBrave=()=>!(typeof window=="undefined"||!window.navigator||!window.navigator.brave),n.isIOs=()=>Boolean(n.iosVersion()),n.isMac=(W=window.navigator)=>W?W.userAgentData&&W.userAgentData.platform?/macOS/.test(W.userAgentData.platform):/Mac/.test(W.platform):!1,n.isSafari=()=>{var W;return typeof window=="undefined"||!((W=window.navigator)==null?void 0:W.userAgent)?!1:/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},n.getModKeyLabel=(W=n.isMac())=>W?"\u2318":"^",n.iosVersion=()=>typeof window=="undefined"?null:M(),n.fixSmsUrl=W=>{const R=n.iosVersion();return R?R>=9?W.replace("?body=","&body="):W.replace("?body=",";body="):W};const w=W=>((R,B)=>{let x;const G=()=>B.userAgent.match(/ipad|iphone/i),Q=de=>{x=R.createElement("textArea"),x.value=de,R.body.appendChild(x)},he=()=>{let de,be;G()?(de=R.createRange(),de.selectNodeContents(x),be=W.getSelection(),be.removeAllRanges(),be.addRange(de),x.setSelectionRange(0,999999)):x.select()},Z=()=>{R.execCommand("copy"),R.body.removeChild(x)};return{copy:de=>{Q(de),he(),Z()}}})(document,navigator);n.copyToClipboard=W=>{if(typeof window=="undefined")return;w(window).copy(W);const R=B=>{B&&B.clipboardData?(B.clipboardData.setData("text/plain",W),B.preventDefault()):window.clipboardData&&window.clipboardData.setData("Text",W)};n.iosVersion()||window.addEventListener("copy",R),setTimeout(()=>{try{const B=document.createElement("input");B.style="position: absolute; top: 0; right: 0; height: 1px; width: 1px;",document.documentElement.appendChild(B),B.value=W,B.contentEditable=!0,B.readOnly=!1;const x=document.createRange();x.selectNodeContents(B);const G=window.getSelection();G.removeAllRanges(),G.addRange(x),B.setSelectionRange(0,999999),document.execCommand("copy"),document.documentElement.removeChild(B)}catch(B){}window.removeEventListener("copy",R)},0)},n.copyNodeToClipboard=W=>{try{n.selectNode(W),document.execCommand("copy")}catch(R){console.error("Failed to copy text:",R)}},n.selectNode=W=>{try{if(["INPUT","TEXTAREA"].includes(W.nodeName)&&W.select)W.select();else if(document.body.createTextRange){const R=document.body.createTextRange();R.moveToElementText(W),R.select()}else if(window.getSelection){const R=window.getSelection(),B=document.createRange();B.selectNodeContents(W),R.removeAllRanges(),R.addRange(B)}else console.warn("Could not select text in node: Unsupported browser")}catch(R){console.error("Failed to select node:",R)}},n.deselectNode=W=>{try{const R=window.getSelection?window.getSelection():document.selection;R&&R.anchorNode===W&&(R.empty?R.empty():R.removeAllRanges&&R.removeAllRanges())}catch(R){console.error("Failed to deselect node:",R)}},n.setMetaData=function(W){return g(C,f({},W))},n.getBodyOffset=(W,R)=>{const B=`offset${b(R)}`;let x=0;for(;W&&W!==document.body;)x+=W[B],W=W.offsetParent||W.parentNode;return x},n.getUrlHash=()=>typeof window=="undefined"||!window.location.hash?null:decodeURIComponent(window.location.hash.slice(1)),n.scrollToHash=function(W){const R=n.getUrlHash();if(!R)return;const B=document.getElementById(R);!B||(typeof W!="number"&&(W=-122),document.documentElement.scrollTop=Math.max(0,n.getBodyOffset(B,"top")+W))},n.mightSupportApplePay=W=>!(!W||!W.stripe_country||W.apple_pay_disabled||typeof window=="undefined"||!window.ApplePaySession),n.addClass=(W,R)=>{W.className+=` ${R}`},n.removeClass=(W,R)=>{W.className=W.className.replace(new RegExp(`\\b${R}\\b`,"g"),"").trim()},n.hasClass=(W,R)=>new RegExp(`\\b${R}\\b`,"g").test(W.className),n.isFocused=(...W)=>n.isRootOrChild(document.activeElement,...W),n.isRootOrChild=(W,...R)=>{for(;W;){for(const B of R)if(typeof B=="function"?B(W):W===B)return!0;W=W.parentNode}return!1},n.getRootOrChild=(W,R,{maxDepth:B}={})=>{const x=[W];let G=0;for(;x.length>0;){G++;const Q=x.splice(0);for(const he of Q)if(he){if(R(he))return he;(!B||G<B)&&he.children&&x.push(...he.children)}}return null},n.getRootOrParent=(W,R)=>W?R(W)?W:n.getRootOrParent(W.parentNode,R):null,n.getVisibilityApi=()=>{let W,R;return typeof document!="undefined"&&typeof document.addEventListener!="undefined"&&(typeof document.hidden!="undefined"?(W="visibilitychange",R="hidden"):typeof document.msHidden!="undefined"?(W="msvisibilitychange",R="msHidden"):typeof document.webkitHidden!="undefined"&&(W="webkitvisibilitychange",R="webkitHidden")),{visibilityChange:W,hidden:R}},n.isWindowVisible=()=>{const{hidden:W}=n.getVisibilityApi();return W?!document[W]:!0},n.onWindowVisibilityChange=W=>{const{visibilityChange:R}=n.getVisibilityApi();!R||document.addEventListener(R,W,!1)},n.offWindowVisibilityChange=W=>{const{visibilityChange:R}=n.getVisibilityApi();!R||document.removeEventListener(R,W,!1)},n.disableBackspaceNavigation=()=>{document.addEventListener("keydown",U,!1)},n.enableBackspaceNavigation=()=>{document.removeEventListener("keydown",U,!1)};function U(W){if(W.keyCode!==8)return;const R=W.srcElement||W.target;if(!R.readonly&&!R.disabled){if(R.isContentEditable)return;if(R.nodeName==="TEXTAREA")return;if(R.nodeName==="INPUT"&&S.indexOf((R.getAttribute("type")||"").toLowerCase())>-1)return}return W.preventDefault(),!1}n.getBlob=W=>new Promise((R,B)=>{const x=new XMLHttpRequest;x.open("GET",W,!0),x.responseType="blob",x.onerror=B,x.onload=G=>{x.status==200?R(x.response):B(new Error("Failed to fetch blob"))},x.send()}),n.getDataUrlFromFile=W=>new Promise((R,B)=>{if(!window.FileReader){B(new TypeError("File reader API not found"));return}const x=new FileReader;x.onerror=B,x.onload=()=>{R(x.result)},x.readAsDataURL(W)}),n.getExifOrientationFromFile=W=>new Promise((R,B)=>{if(!window.FileReader){B(new TypeError("File reader API not found"));return}if(!window.DataView){B(new TypeError("DataView API not found"));return}const x=new FileReader;x.onerror=B,x.onload=()=>{const G=new DataView(x.result);if(G.getUint16(0,!1)!=65496)return R(-2);const Q=G.byteLength;let he=2;for(;he<Q;){if(G.getUint16(he+2,!1)<=8)return R(-1);const Z=G.getUint16(he,!1);if(he+=2,Z==65505){if(G.getUint32(he+=2,!1)!=1165519206)return R(-1);const le=G.getUint16(he+=6,!1)==18761;he+=G.getUint32(he+4,le);const de=G.getUint16(he,le);he+=2;for(let be=0;be<de;be++)if(G.getUint16(he+be*12,le)==274)return R(G.getUint16(he+be*12+8,le))}else{if((Z&65280)!=65280)break;he+=G.getUint16(he,!1)}}R(-1)},x.readAsArrayBuffer(W)}),n.getImageDataFromFileInput=W=>p(this,null,function*(){let R,B;const x=(W==null?void 0:W.files)?W.files[0]:null;if(W.value="",x){try{R=yield n.getDataUrlFromFile(x)}catch(G){console.error("Failed to get data URL from file:",G),alert(G.message);return}try{B=yield n.getExifOrientationFromFile(x)}catch(G){console.error("Failed to extract EXIF data from file:",G)}}return{url:R,orientation:B}}),n.transformExifOrientation=W=>{switch(W){case 2:return"rotateY(180deg)";case 3:return"rotateZ(-180deg)";case 4:return"rotateZ(-180deg) rotateY(180deg)";case 5:return"rotateZ(-90deg) rotateY(180deg)";case 6:return"rotateZ(90deg)";case 7:return"rotateZ(90deg) rotateY(180deg)";case 8:return"rotateZ(-90deg)";default:return""}},n.canScroll=()=>n.maxScroll()>0,n.maxScroll=()=>Math.max(document.documentElement.scrollHeight,document.body.scrollHeight)-window.innerHeight,n.getLoginRedirect=({redirect:W,email:R,justTrying:B,with_password:x=!1,useOriginalUrl:G=!1}={})=>(typeof W!="string"&&(W=j({useOriginalUrl:G})),r("/account/login",{redirect:W||"",email:R||"",with_password:x?"1":"",justTrying:B||""})),n.redirectToLogin=(W={})=>{document.location.href=n.getLoginRedirect(W)},n.redirectToAccount=W=>{window.location.assign(v(W))},n.redirectToAccountSettings=()=>{document.location.href=h()},n.base64encode=W=>{const R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";let B="",x,G,Q,he,Z,le,de,be=0;for(W=n.utf8Encode(W);be<W.length;)x=W.charCodeAt(be++),G=W.charCodeAt(be++),Q=W.charCodeAt(be++),he=x>>2,Z=(x&3)<<4|G>>4,le=(G&15)<<2|Q>>6,de=Q&63,isNaN(G)?le=de=64:isNaN(Q)&&(de=64),B=B+R.charAt(he)+R.charAt(Z)+R.charAt(le)+R.charAt(de);return B},n.utf8Encode=W=>{let R="";for(let B=0;B<W.length;B++){const x=W.charCodeAt(B);x<128?R+=String.fromCharCode(x):x>127&&x<2048?(R+=String.fromCharCode(x>>6|192),R+=String.fromCharCode(x&63|128)):(R+=String.fromCharCode(x>>12|224),R+=String.fromCharCode(x>>6&63|128),R+=String.fromCharCode(x&63|128))}return R},n.redirectNoScroll=W=>{const R=[window.scrollX,window.scrollY];n.redirect(W),window.scrollTo(...R)},n.redirect=(W,{event:R=null,local_navigation:B=!0,replace:x=!1,newTab:G=!1}={})=>{var Q;if(R&&R.preventDefault(),!W.trim().startsWith("javascript:")){if(W.startsWith("#")&&B){window.location.hash!==W&&(x&&((Q=window.history)==null?void 0:Q.replaceState)?window.history.replaceState(null,null,W):window.location.hash=W),n.scrollToHash();return}if(B&&n.getHostname(W)&&n.getHostname(W)!==n.getHostname(window.location.href)&&(B=!1),G||R&&(R.metaKey||R.ctrlKey)){window.open(W,"_blank");return}if(B&&O(n.getPath(W),x)){setTimeout(()=>n.scrollToHash(),0);return}window.location.href=W}},n.setState=(W,R)=>new Promise(B=>{W.setState(R,B)}),n.stateTransaction=(W,R)=>new Promise((B,x)=>{W.setState((...G)=>p(this,null,function*(){try{B(yield R.apply(W,G))}catch(Q){x(Q)}}))}),n.stateLock=(W,R,B,...x)=>p(this,[W,R,B,...x],function*(G,Q,he,{force:Z}={}){return typeof Q=="function"&&(he=Q,Q="lock"),yield n.stateTransaction(G,(le,...de)=>p(this,null,function*(){if(le[Q]&&!Z)return;yield n.setState(G,{[Q]:!0});const be=yield he.call(G,le,...de);return yield n.setState(G,{[Q]:!1}),be}))}),n.getsMessageQuery=W=>R=>{const B=i(document.location.href),x=s("message");if(x){delete B.message;const G=`${r(document.location.pathname,B)}${document.location.hash}`;window&&window.history&&window.history.replaceState({},document.title,G)}return g(W,f({message:x},R))},n.uuidV4=()=>{const W=window.crypto||window.msCrypto;if(typeof(W==null?void 0:W.randomUUID)=="function")return W.randomUUID();if(W)return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,R=>(R^W.getRandomValues(new Uint8Array(1))[0]&15>>R/4).toString(16));{let R=new Date().getTime(),B=typeof performance!="undefined"&&performance.now&&performance.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(x){let G=Math.random()*16;return R>0?(G=(R+G)%16|0,R=Math.floor(R/16)):(G=(B+G)%16|0,B=Math.floor(B/16)),(x==="x"?G:G&3|8).toString(16)})}},n.isStandaloneWebApp=()=>navigator.standalone?!0:window.matchMedia("(display-mode: standalone)").matches,n.disabledIfSSR=()=>typeof window=="undefined"?"disabled":"",n.focusElement=W=>{W.focus&&W.focus(),W.select&&W.select()},n.getRoleOrOwner=(W,R)=>W?W.user_id===R.author_id?"owner":W.role:"byline",n.hexWithOpacity=(W,R)=>{if(!W)return W;W=W.replace("#","");const B=parseInt(W.substring(0,2),16),x=parseInt(W.substring(2,4),16),G=parseInt(W.substring(4,6),16);return`rgba(${B},${x},${G},${R/100})`},n.getSelectTheme=({primary:W,neutral0:R="#f8f8f8",neutral20:B="#d8d8d8",danger:x="var(--color-accent-red)",dangerLight:G="var(--color-bg-accent-red)"})=>Q=>m(f({},Q),{colors:m(f({},Q.colors),{primary:W,primary25:n.hexWithOpacity(W,25),primary50:n.hexWithOpacity(W,50),primary75:n.hexWithOpacity(W,75),neutral0:R,neutral20:B,danger:x,dangerLight:G})}),n.removeQueryParam=(W,{stripHash:R=!1}={})=>{var B;if(typeof window!="undefined"&&((B=window.history)==null?void 0:B.replaceState)){const x=i(window.location.href);if(!Array.isArray(W))delete x[W];else for(const Q of W)delete x[Q];const G=`${r(window.location.pathname,x)}${R?"":window.location.hash}`;window.history.replaceState({},document.title,G)}},n.isFullscreen=()=>typeof window=="undefined"?!1:typeof document.webkitCurrentFullScreenElement!="undefined"?document.webkitCurrentFullScreenElement!==null:typeof document.fullscreenElement!="undefined"?document.fullscreenElement!==null:!1,n.goFullscreen=W=>typeof window=="undefined"?!1:W.requestFullScreen?(W.requestFullScreen(),!0):W.webkitRequestFullScreen?(W.webkitRequestFullScreen(),!0):W.mozRequestFullScreen?(W.mozRequestFullScreen(),!0):!1,n.exitFullscreen=()=>{if(!n.isFullscreen())return!1;if(document.exitFullscreen)return document.exitFullscreen(),!0;if(document.webkitExitFullscreen)document.webkitExitFullscreen();else{if(document.mozCancelFullScreen)return document.mozCancelFullScreen(),!0;if(document.msExitFullscreen)return document.msExitFullscreen(),!0}return!1},n.exitPictureInPicture=()=>typeof window=="undefined"||!document.pictureInPictureElement||!document.exitPictureInPicture?!1:(document.exitPictureInPicture(),!0),n.getVideoBlobDuration=(W,...R)=>p(this,[W,...R],function*(B,{timeout:x=5*1e3}={}){const G=document.createElement("video");G.volume=0;const Q=Promise.race([new Promise((he,Z)=>{G.onloadedmetadata=()=>{G.onloadedmetadata=null,G.duration===1/0?(G.currentTime=Number.MAX_SAFE_INTEGER,G.ontimeupdate=()=>{G.ontimeupdate=null,he(G.duration),G.currentTime=0}):he(G.duration)},G.onerror=le=>Z(le.target.error)}),new Promise((he,Z)=>{setTimeout(()=>{Z(new Error("Blob duration fetching timed out"))},x)})]);return G.src=typeof B=="string"||B instanceof String?B:window.URL.createObjectURL(B),Q}),n.downloadSrc=W=>{const R=document.createElement("a");document.body.appendChild(R),R.href=W,R.target="_blank",R.click(),document.body.removeChild(R)},n.getCurrencyFormattedPledgePlans=(W,{skipFoundingPlan:R=!1}={})=>{if(!(W==null?void 0:W.length))return[];const B=[];for(const x of W)R&&x.is_founding?B.push(f({},x)):x.amount?B.push(m(f({},x),{amount:x.amount})):B.push(f({},x));return B},n.validatePledgePlanValues=(W,R,B,x)=>{if(B<=R)return"Your founding price must be greater than your yearly price";const G=F({value:W,interval:"month",is_founding:!1,currency:x});if(G)return G;const Q=F({value:R,interval:"year",is_founding:!1,currency:x});if(Q)return Q;const he=F({value:B,interval:"year",is_founding:!0,currency:x});return he||null},n.decimalToPercentString=W=>{let R=W;return typeof W=="string"&&(R=parseFloat(W)),`${Math.round(R*100)}%`};const V=new Intl.DateTimeFormat(void 0,{timeStyle:"short"}),K=new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric"}),Y=new Intl.DateTimeFormat(void 0,{dateStyle:"long"});n.formatPostDate=(W,{includeTime:R}={})=>{const B=H(W),x=H();return B.isBefore(x.startOf("year"))?Y.format(B.toDate())+(R?` at ${V.format(B.toDate())}`:""):B.isBefore(x.startOf("day"))?K.format(B.toDate())+(R?` at ${V.format(B.toDate())}`:""):V.format(B.toDate())}},function(k,n,t){(function(e){var a=Object.defineProperty,o=Object.defineProperties,l=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,f=(C,T,S)=>T in C?a(C,T,{enumerable:!0,configurable:!0,writable:!0,value:S}):C[T]=S,m=(C,T)=>{for(var S in T||(T={}))c.call(T,S)&&f(C,S,T[S]);if(d)for(var S of d(T))u.call(T,S)&&f(C,S,T[S]);return C},p=(C,T)=>o(C,l(T));const g=t(606),{Substitutions:O}=t(40),{twitterScreenNames:s}=t(309),{getCurrencyForCountry:r,roundPrice:i}=t(310),{RepliesDisabledReason:h}=t(67);n.twitterScreenNames=s,n.getCurrencyForCountry=r,n.roundPrice=i;const v="\u2026",j=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],y=["CA","AU","HK","NZ"];n.MAX_PODCAST_FILE_SIZE=350*1024*1024,n.MAX_MEDIA_FILE_SIZE=20*1024*1024*1024,n.MAX_MEDIA_UPLOAD_CHUNK_SIZE=50*1024*1024,n.MAX_FILE_SIZE=700*1024*1024,n.SUBSTACK_PUBLICATION_ID_ON=1,n.SUBSTACK_PUBLICATION_ID_COMPANY=46438,n.SUBSTACK_PUBLICATION_ID_LIBRARYOLD=86696,n.SUBSTACK_PUBLICATION_ID_STORIESOLD=81318,n.SUBSTACK_PUBLICATION_ID_BLOGOLD=87805,n.SUBSTACK_PUBLICATION_ID_BETA=508885,n.SUBSTACK_PUBLICATION_ID_READ=737237,n.SUBSTACK_PUBLICATION_ID_THREADSPILOT=1014268,n.SUBSTACK_PUBLICATION_ID_PRODUCTLAB=1056696,n.SUBSTACK_PUBLICATION_IDS=[n.SUBSTACK_PUBLICATION_ID_ON,n.SUBSTACK_PUBLICATION_ID_COMPANY,n.SUBSTACK_PUBLICATION_ID_LIBRARYOLD,n.SUBSTACK_PUBLICATION_ID_STORIESOLD,n.SUBSTACK_PUBLICATION_ID_BLOGOLD,n.SUBSTACK_PUBLICATION_ID_BETA,n.SUBSTACK_PUBLICATION_ID_READ,n.SUBSTACK_PUBLICATION_ID_THREADSPILOT,n.SUBSTACK_PUBLICATION_ID_PRODUCTLAB],n.SUBSTACK_USER_ID=81309935,n.SUBSTACK_WRITERS_USER_ID=41856304,n.SUBSTACK_USER_IDS=[n.SUBSTACK_USER_ID,n.SUBSTACK_WRITERS_USER_ID],n.GRACE_PERIOD_DAYS=16,n.MANUAL_BILLING_DAYS_UNTIL_DUE=45,n.STRIPE_DAYS_UNTIL_DUE=30,n.GRACE_PERIOD_COUPON_TRIAL_DAYS=0,n.DEFAULT_PROFILE_PAGE_SUBSCRIPTIONS_LIMIT=1e3,n.DEFAULT_PREVIEW_LIMIT=356,n.DEFAULT_PREVIEW_LIMIT_EMAIL=256,n.MIN_MONTH_GAP_BETWEEN_PAUSES=6,n.TRANSPARENT_IMAGE_URL="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",n.MISSING_IMAGE_URL="/img/missing-image.png",n.MISSING_IMAGE_HEIGHT=455,n.MISSING_IMAGE_WIDTH=728,n.CONTENT_MODERATION_REASONS=["","illegal","phishing","piracy","porn","spam"].sort(),n.FLAGGED_AS_SPAM_REASONS=[...n.CONTENT_MODERATION_REASONS,"hate","impersonation","plagiarism"].sort(),n.SUBSTACK_POST_MEDIA_BUCKET_NAME=e.env.SUBSTACK_POST_MEDIA_BUCKET_NAME||{development:"substack-post-media-staging",staging:"substack-post-media-staging","zuma-staging":"substack-post-media-staging",prod:"substack-post-media","zuma-prod":"substack-post-media"}[e.env.DD_ENV||"production"],n.SPECIAL_SUBDOMAINS=["cdn","cloudinary","delivery","jobs","mailgun","mail","support","www","callback","api","admin","reader","sublink","random","your","dashboard","open"],n.SECURITY_QUESTIONS=["In what city or town did your parents meet?","What was your first teacher's last name?","What is your earliest memory?","What was the make and model of your first car?","What was the first concert you attended?","Where did you go on your first date?","What was your first favorite band?","What was your first computer or smartphone?","What is your least favorite color?","What was the first video game you beat?","Who was your favorite artist, musician, or celebrity when you were a teenager?"],n.AUDIENCE_ADJECTIVES={everyone:"public",only_free:"free-only",only_paid:"subscribers-only",founding:"founding-only"},n.TERSE_AUDIENCE_ADJECTIVES={everyone:"public",only_free:"free-only",only_paid:"subscriber's",founding:"subscriber's"},n.HOMEPAGE_TYPE_CHANGE_CUTOFF=new Date("2020-01-16"),n.GIFT_LENGTH_MONTHS=1,n.PODCAST_CATEGORIES={Arts:["Books","Design","Fashion & Beauty","Food","Performing Arts","Visual Arts"],Business:["Careers","Entrepreneurship","Investing","Management","Marketing","Non-Profit"],Comedy:["Comedy Interviews","Improv","Stand-Up"],Education:["Courses","How To","Language Learning","Self-Improvement"],Fiction:["Comedy Fiction","Drama","Science Fiction"],Government:[],History:[],"Health & Fitness":["Alternative Health","Fitness","Medicine","Mental Health","Nutrition","Sexuality"],"Kids & Family":["Education for Kids","Parenting","Pets & Animals","Stories for Kids"],Leisure:["Animation & Manga","Automotive","Aviation","Crafts","Games","Hobbies","Home & Garden","Video Games"],Music:["Music Commentary","Music History","Music Interviews"],News:["Business News","Daily News","Entertainment News","News Commentary","Politics","Sports News","Tech News"],"Religion & Spirituality":["Buddhism","Christianity","Hinduism","Islam","Judaism","Religion","Spirituality"],Science:["Astronomy","Chemistry","Earth Sciences","Life Sciences","Mathematics","Natural Sciences","Nature","Physics","Social Sciences"],"Society & Culture":["Documentary","Personal Journals","Philosophy","Places & Travel","Relationships"],Sports:["Baseball","Basketball","Cricket","Fantasy Sports","Football","Golf","Hockey","Rugby","Running","Soccer","Swimming","Tennis","Volleyball","Wilderness","Wrestling"],Technology:[],"True Crime":[],"TV & Film":["After Shows","Film History","Film Interviews","Film Reviews","TV Reviews"]},n.COMMUNITY_PICKS_CATEGORY_NAME="writer favorites",n.TASTEMAKER_CATEGORY_NAME="featured recommenders",n.OLD_PODCAST_CATEGORIES={Arts:["Books","Design","Fashion & Beauty","Food","Literature","Performing Arts","Visual Arts"],Business:["Business News","Careers","Investing","Management & Marketing","Shopping"],Comedy:[],Education:["Educational Technology","Higher Education","K-12","Language Courses","Training"],"Games & Hobbies":["Automotive","Aviation","Hobbies","Other Games","Video Games"],"Government & Organizations":["Local","National","Non-Profit","Regional"],Health:["Alternative Health","Fitness & Nutrition","Self-Help","Sexuality"],"Kids & Family":[],Music:[],"News & Politics":[],"Religion & Spirituality":["Buddhism","Christianity","Hinduism","Islam","Judaism","Other","Spirituality"],"Science & Medicine":["Medicine","Natural Sciences","Social Sciences"],"Society & Culture":["History","Personal Journals","Philosophy","Places & Travel"],"Sports & Recreation":["Amateur","College & High School","Outdoor","Professional"],Technology:["Gadgets","Tech News","Podcasting","Software How-To"],"TV & Film":[]},n.MONTH_NAMES=["January","February","March","April","May","June","July","August","September","October","November","December"],n.STRIPE_TAX_ID_TYPES=[{name:"eu_vat",description:"European VAT number"},{name:"au_abn",description:"Australian Business Number (AU ABN)"},{name:"au_arn",description:"Australian Taxation Office Reference Number"},{name:"br_cnpj",description:"Brazilian CNPJ number"},{name:"br_cpf",description:"Brazilian CPF number"},{name:"bg_uic",description:"Bulgaria Unified Identification Code"},{name:"ca_bn",description:"Canadian BN"},{name:"ca_gst_hst",description:"Canadian GST/HST number"},{name:"ca_pst_bc",description:"Canadian PST number (British Columbia)"},{name:"ca_pst_mb",description:"Canadian PST number (Manitoba)"},{name:"ca_pst_sk",description:"Canadian PST number (Saskatchewan)"},{name:"ca_qst",description:"Canadian QST number (Qu\xE9bec)"},{name:"cl_tin",description:"Chilean TIN"},{name:"eu_oss_vat",description:"European One Stop Shop VAT number for non-Union scheme"},{name:"ge_va",description:"Georgian VAT"},{name:"hk_br",description:"Hong Kong BR number"},{name:"hu_tin",description:"Hungary tax number (ad\xF3sz\xE1m)"},{name:"is_vat",description:"Icelandic VAT"},{name:"in_gst",description:"Indian GST number"},{name:"id_npwp",description:"Indonesian NPWP number"},{name:"il_vat",description:"Israel VAT"},{name:"jp_cn",description:"Japanese Corporate Number (*H\u014Djin Bang\u014D*)"},{name:"jp_rn",description:"Japanese Registered Foreign Businesses' Registration Number (*T\u014Droku Kokugai Jigy\u014Dsha no T\u014Droku Bang\u014D*) "},{name:"li_uid",description:"Liechtensteinian UID number"},{name:"my_frp",description:"Malaysian FRP number"},{name:"my_itn",description:"Malaysian ITN C"},{name:"my_sst",description:"Malaysian SST number"},{name:"mx_rfc",description:"Mexican RFC number"},{name:"nz_gst",description:"New Zealand GST number"},{name:"no_vat",description:"Norwegian VAT number"},{name:"ru_inn",description:"Russian INN"},{name:"ru_kpp",description:"Russian KPP"},{name:"sa_vat",description:"Saudi Arabia VAT"},{name:"sg_gst",description:"Singaporean GST"},{name:"sg_uen",description:"Singaporean UEN"},{name:"si_tin",description:"Slovenia tax number (dav\u010Dna \u0161tevilka)"},{name:"za_vat",description:"South African VAT number"},{name:"kr_brn",description:"Korean BRN"},{name:"es_cif",description:"Spanish CIF number"},{name:"ch_vat",description:"Switzerland VAT number"},{name:"tw_vat",description:"Taiwanese VAT"},{name:"th_vat",description:"Thai VAT"},{name:"ua_vat",description:"Ukrainian VAT"},{name:"ae_trn",description:"United Arab Emirates TRN"},{name:"gb_vat",description:"United Kingdom VAT number"},{name:"us_ein",description:"United States EIN"}],n.DEFAULT_THEME_COLORS=["#EA410B","#FF0000","#FD5353","#FF6B00","#FF9900","#00C2FF","#67BDFC","#2096FF","#0068EF","#121BFA","#6B26FF","#786CFF","#9D6FFF","#B599F1","#99A2F1","#FF5CD7","#FF81CD","#EA82FF","#A33ACB","#6C0095","#009B50","#25BD65","#2EE240","#8AE1A2","#45D800","#9A6600","#BAA049","#E8B500","#D10000"],n.NO_PLATFORM_CUSTOMER_CLONE_COUNTRIES=["IN"],n.WEEK_IN_SECONDS=60*60*24*7,n.CENTS_PER_EMAIL=.0064,n.AppError=class extends Error{constructor(T,{status:S=500,userVisible:D=!1,messageHtml:w=null,responseBody:U=null}={}){super(T);this.name=this.constructor.name,this.status=S,this.userVisible=!!U||D||!1,this.messageHtml=w,this.response={body:U||(this.userVisible?w?{errors:[{msg:T,msgHTML:w}]}:{error:T}:{error:""})},Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},n.ChatError=class extends Error{constructor({status:T=500,errType:S="SERVER_ERROR",errMessage:D="",pub:w=null}){super(D);this.name=this.constructor.name,this.status=T,this.response={body:{status:S,error:D}},w&&(this.response.body.publication=w),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},n.getByLine=(C,{skipMultiContributorCheck:T=!1}={})=>{var S,D,w,U;if(C.subdomain==="popularinformation")return"Judd Legum";if(C.subdomain==="whyisthisinteresting")return"Noah & Colin";if(C.subdomain==="informant")return"Nick Martin";if(C.subdomain==="colinmeloy")return"Colin Meloy";if(C.subdomain==="petition"||C.subdomain==="russiandissent"||!T&&((S=C.contributors)==null?void 0:S.length)>1)return null;const V=C.name||C.subdomain,K=[(w=(D=C.contributors)==null?void 0:D[0])==null?void 0:w.name,C.author_name,C.email_from_name,(U=C==null?void 0:C.author)==null?void 0:U.name];for(let Y of K)if(Y&&(Y=Y.split(/(,|\||\s-|-\s|\bfrom\b|\bat\b)/g)[0].trim(),Y&&!Y.startsWith(V)&&!V.startsWith(Y)&&!Y.endsWith(V)&&!V.endsWith(Y)))return Y;return null},n.getSubscribeText=(C,{now:T=!1,isFreeSubscribed:S=!1,isMobile:D=!1,skipTranslation:w=!1,isPledged:U=!1,pledgesEnabled:V=!1}={})=>{const K=S&&C.plans?n.toSentenceCase(n.getSubscriptionWord(C,D?"upgrade":"upgradeToPaid")):S&&V&&!U?"Pledge your support":n.toSentenceCase(n.getSubscriptionWord(C,"subscribe"));return w?K+(T?" now":""):I(K)+(T?I(" now"):"")},n.getPostEmbedMeta=({date:C,bylines:T,like_count:S,comment_count:D})=>{const w=t(17),U=[];return U.push(w(C).fromNow()),S&&U.push(n.pluralize(S,"like")),D&&U.push(n.pluralize(D,"comment")),T&&T.length&&U.push(n.formatArray(T.map(V=>V.name))),U.join(" \xB7 ")},n.hidePaidPostsFor=["astralcodexten"],n.shouldUseInlineComments=(C,T)=>C.custom_publication_theme_id?!1:!!(["astralcodexten","company","library","on","blog","stories"].includes(C==null?void 0:C.subdomain)||(T==null?void 0:T.type)==="video");const b=(C="")=>C.toUpperCase().replace(/^(THE|A|AN)\s+/,"");n.sortSubscriptions=C=>C.sort((T,S)=>{var D,w;if(!T)return 1;if(!S||T.membership_state==="subscribed"&&S.membership_state!=="subscribed")return-1;if(S.membership_state==="subscribed"&&T.membership_state!=="subscribed")return 1;const U=b((D=T.publication)==null?void 0:D.name),V=b((w=S.publication)==null?void 0:w.name);return U<V?-1:U>V?1:0}),n.subscriptionTypeText=C=>{if(C.expiry&&new Date(C.expiry)>new Date)switch(C.type){case"gift":return"Gifted Subscription";case"comp":return"Comped Subscription";default:return"Paid Subscriber"}else return!C.email_disabled||C.email_settings&&Object.values(C.email_settings||{}).some(T=>T==="individual")?"Free Subscriber":C.digest_enabled||C.email_settings&&Object.values(C.email_settings||{}).some(T=>T==="digest")?"Follows in Digests":"Emails Disabled"},n.canReplyToPost=({post:C,user:T})=>!!(C&&T&&T.has_publication&&!T.is_admin&&!T.is_contributor&&C.slug!=="coming-soon"),n.NO_REPLY_EMAIL="no-reply@substack.com",n.stripInvalidBytes=C=>{if(!C||typeof C!="string")return C;try{return encodeURIComponent(C),C}catch(T){}return C.replace(/[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g,T=>T.length>1?T:"")},n.truncateToValidBytes=C=>{for(;;)try{return encodeURIComponent(C),C}catch(T){C=C.substring(0,C.length-1)}},n.truncateText=(C,T,{words:S=null,ellipsis:D=v,extension:w=null}={})=>{if(!C)return C;let U=!1;if(S){const V=new RegExp(`^(\\w+\\W+){${S-1}}\\w+`).exec(C);V&&(U=!0,C=V[0])}return T&&C.length>T&&(U=!0,C=C.substring(0,T-D.length)),U&&(C=n.truncateToValidBytes(C),C+=D,w&&(C+=w)),C},n.truncateWords=(C,T,{ellipsis:S=v,quotationMarks:D=!1}={})=>{D&&(T-=2);let w=C;if(C&&C.length>T){const U=C.split(/\s+/),V=[];let K=0;for(;K<=T;){const Y=U.shift();if(!Y||K+Y.length>T)break;V.push(Y),K+=Y.length+1}w=n.formatEllipsis(V.join(" "),S)}return D&&(w.endsWith(" ")||w.startsWith(" "))&&(w=w.trim()),D?`"${w}"`:w};const E=/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,\-./:;<=>?@[\]^_`{|}~]+$/g;n.formatEllipsis=(C,T=v)=>`${C.replace(E,"")}${T}`,n.endsWithPunctuation=C=>/[!.?](?:\s+)?$/.test(C);const P=new Set([" ","-"]);n.simpleBalanceText=(C,{maxCharsPerLine:T=55,maxLines:S=2,preferWide:D=!1}={})=>{if(C.length<=T)return[C];const w=T*S;if(C.length>w){let W=w;for(;W>=0&&C.charAt(W)!==" ";)W--;C=n.formatEllipsis(C.slice(0,W))}const U=D?T:Math.floor(C.length/S);let V=-1,K=0;const Y=[];for(;K+U<C.length-1;){for(K=K+U;K<=C.length-1&&!P.has(C.charAt(K));)K++;const W=C.charAt(K)==="-";Y.push(C.slice(V+1,W?K+1:K)),V=K}return K<C.length-1&&Y.push(C.slice(V+1)),Y};const A=C=>/[A-Z]/.test(C),_=C=>/[\s-]/.test(C);n.stringCost=(C,T)=>{let S=0;for(let D=0;D<C.length;D+=1){const w=C[D];A(w)?S+=T:S+=1}return S},n.longestSetOfWordsBelowCost=(C,T,S)=>{const D=[];let w=0,U=!1;for(let Y=0;Y<C.length;Y+=1){const W=C[Y];if(_(W)){U=!0;continue}else U&&(D.push(C.slice(w,Y)),w=Y,U=!1)}if(w<C.length&&D.push(C.slice(w)),!D.length)return"";const V=[D[0]];let K=n.stringCost(D[0],T);for(const Y of D.slice(1))if(K+=n.stringCost(Y,T),K<=S)V.push(Y);else break;return V.join("")},n.balanceTextWithCharacterWidths=(C,{maxCostPerLine:T=55,maxLines:S=2,capitalCost:D=1.2}={})=>{const w=C;if(n.stringCost(C)<=T)return[C];const V=[];for(let K=0;K<S;K+=1){const Y=n.longestSetOfWordsBelowCost(C,D,T);if(Y)V.push(Y),C=C.slice(Y.length);else break}return V.reduce((K,Y)=>K+Y.length,0)<w.length&&(V[V.length-1]=n.formatEllipsis(V[V.length-1].slice(0,V[V.length-1].length-1))),V},n.SUPPORTED_CURRENCIES=["usd","eur","gbp","cad","aud","nzd","brl","mxn","inr"],n.pubCurrency=C=>{var T,S;return((S=(T=C.draft_plans)==null?void 0:T[0])==null?void 0:S.currency)||"usd"},n.isZeroDecimalCurrency=C=>["BIF","CLP","DJF","GNF","JPY","KMF","KRW","MGA","PYG","RWF","UGX","VND","VUV","XAF","XOF","XPF"].includes(C.toUpperCase()),n.pubUsesZeroDecimalCurrency=C=>{const T=n.pubCurrency(C);return n.isZeroDecimalCurrency(T)},n.currencySymbol=C=>new Intl.NumberFormat("en-US",{style:"currency",currency:C,minimumFractionDigits:0,maximumFractionDigits:0}).format(0).replace(/\d/,"").trim(),n.satoshiToBitcoin=C=>C/1e8,n.centsToPriceString=(C,T,{forceDecimals:S=!1}={})=>{let w=new Intl.NumberFormat("en-US",{style:"currency",currency:T,minimumFractionDigits:S||C%100?2:0,maximumFractionDigits:T==="btc"?8:2}).format(T==="btc"?n.satoshiToBitcoin(C):n.isZeroDecimalCurrency(T)?C:C/100);return T==="usd"&&typeof window!="undefined"&&window._preloads&&window._preloads.country&&y.includes(window._preloads.country)&&(w=`US${w}`),w},n.centsToDollarString=C=>new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(C/100),n.dollarFormatter=new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0}),n.dollarStringToCents=C=>{if(!C)return null;if(typeof C!="string")throw new Error("Bad type for dollar string");const T=C.replace(/[^0-9.]/g,"");return T?Math.round(Number(T)*100):null},n.getInitalPayment=(C,{quantity:T=1,coupon:S=null,noTrial:D=!1,trial_end_override:w=null}={})=>{if(!D&&(C.trial_period_days||S&&S.trial_period_days||w&&w>Date.now()/1e3+120))return 0;let U=C.amount*T;return S&&S.percent_off?U=Math.round(U*(1-(S.percent_off_precise||S.percent_off)/100)):S&&S.amount_off&&(U=Math.max(0,U-S.amount_off)),U},n.getGiftValueText=(C,{interval:T="month",interval_count:S=n.GIFT_LENGTH_MONTHS,multiplier:D=1,min:w=0}={})=>{let U,V,K;for(const B of C){if(!K)K=B.currency;else if(K!=B.currency)continue;B.interval=="month"?(!U||B.amount<U)&&(U=B.amount):B.interval=="year"&&(!V||B.amount<V)&&(V=B.amount)}let Y=U;if(!Y&&V&&(Y=V/12),!Y)return null;let W;switch(T){case"month":W=Y;break;case"day":W=Y/30;break;case"year":W=V||Y*12;break;default:throw new Error(`bad interval: ${T}`)}let R=W*S*D;return R<w?null:(R=Math.floor(R/100)*100,n.centsToPriceString(R,K))},n.planBasePricing=(C,{amount:T,interval:S=""}={})=>{let D=n.centsToPriceString(T!=null?T:C.amount,C.currency);return C.interval!=="forever"&&(C.interval_count===1?D+=`/${S||C.interval}`:D+=`/${C.interval_count==3?"three ":""}${n.pluralize(C.interval_count,C.interval,{just_word:C.interval_count==3})}`),D},n.secondsToLargestUnit=(C,{secondsCutoff:T,minutesCutoff:S,hoursCutoff:D,daysCutoff:w,weeksCutoff:U,long:V,noNumber:K,noWord:Y,lessThanMinute:W}={})=>{let R,B,x;return C=Math.round(C),C<(T||60)?(R=C,B=V?"second":"sec"):C<(S||60*60)?(R=C/60,B=V?"minute":"min",W&&(x=!0)):C<(D||60*60*24)?(R=C/60/60,B=V?"hour":"hr"):C<(w||60*60*24*7)?(R=C/60/60/24,B="day"):C<(U||60*60*24*365.25)?(R=C/60/60/24/7,B=V?"week":"wk"):(R=C/60/60/24/365.25,B=V?"year":"yr"),R=Math.round(R),[x&&"less than",!K&&(Y?R:R.toFixed(0)),!Y&&(V?n.pluralize(R,B,{just_word:!0}):B)].filter(Boolean).join(" ")},n.secondsToHHMMSS=C=>{const T=Math.floor(C/60/60),S=Math.floor(C/60)%60,D=Math.floor(C%60);return`${(T?`${T}:`:"")+(T?`0${S}`.slice(-2):S)}:${`0${D}`.slice(-2)}`},n.validateHex=C=>/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(C),n.normalizeHex=C=>(C[0]!=="#"&&(C=`#${C}`),C=C.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(T,S,D,w)=>S+S+D+D+w+w),C),n.hexToHSV=C=>{C=n.normalizeHex(C);function T(x,G){typeof x=="string"&&x.indexOf(".")!=-1&&parseFloat(x)===1&&(x="100%");const Q=typeof x=="string"&&x.indexOf("%")!=-1;return x=Math.min(G,Math.max(0,parseFloat(x))),Q&&(x=parseInt(x*G,10)/100),Math.abs(x-G)<1e-6?1:x%G/parseFloat(G)}const S=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(C);let D=parseInt(S[1],16),w=parseInt(S[2],16),U=parseInt(S[3],16);D=T(D,255),w=T(w,255),U=T(U,255);const V=Math.max(D,w,U),K=Math.min(D,w,U);let Y;const W=V,R=V-K,B=V===0?0:R/V;if(V==K)Y=0;else{switch(V){case D:Y=(w-U)/R+(w<U?6:0);break;case w:Y=(U-D)/R+2;break;case U:Y=(D-w)/R+4;break}Y/=6}return{h:Y,s:B,v:W}},n.hexToRgb=C=>{const T=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n.normalizeHex(C));return T?{r:parseInt(T[1],16),g:parseInt(T[2],16),b:parseInt(T[3],16)}:null},n.rgbToHex=({r:C,g:T,b:S})=>`#${C.toString(16).padStart(2,"0")}${T.toString(16).padStart(2,"0")}${S.toString(16).padStart(2,"0")}`,n.validateColor=C=>{const T=n.hexToHSV(C);if(T.h>.11&&T.h<.56)if(T.s>.25&&T.v>.5){if(T.s<.6&&T.v>.8)return!0;if(T.s>.6)return!0}else return!1;else return T.s>.25&&T.v>.5},n.colorLightness=(C,T)=>{const S=n.hexToRgb(C);return S?(S.r=Math.max(0,Math.min(255,Math.round(S.r*T))),S.g=Math.max(0,Math.min(255,Math.round(S.g*T))),S.b=Math.max(0,Math.min(255,Math.round(S.b*T))),n.rgbToHex(S)):C},n.colorLuma=C=>{let{r:T,g:S,b:D}=n.hexToRgb(C);return T=T/255,S=S/255,D=D/255,T=T<=.03928?T/12.92:Math.pow((T+.055)/1.055,2.4),S=S<=.03928?S/12.92:Math.pow((S+.055)/1.055,2.4),D=D<=.03928?D/12.92:Math.pow((D+.055)/1.055,2.4),.2126*T+.7152*S+.0722*D},n.truncAndFormatArray=(C,T,{name:S=K=>K,restWord:D="other",noNames:w="people",pluralizeRest:U=!0,showRestCount:V=!0}={})=>{const K=C.map(S).filter(Boolean).slice(0,T);if(K.length===0)K.push(n.pluralize(C.length,w));else if(K.length<C.length){const Y=C.length-K.length;K.push(`${V?Y:""} ${D}${Y>1&&U?"s":""}`)}return n.formatArray(K)},n.formatArray=C=>{let T="";return C.length===1?T=C[0]:C.length===2?T=C.join(" and "):C.length>2&&(T=`${C.slice(0,-1).join(", ")}, and ${C.slice(-1)}`),T},n.truncateNumber=(C,{minSignificantDigits:T=1}={})=>{if(C<1e3)return C;let S;Math.round(C/1e3)<1e3?(C/=1e3,S="k"):Math.round(C/1e6)<1e3?(C/=1e6,S="m"):Math.round(C/1e9)<1e3?(C/=1e9,S="b"):(C/=1e12,S="t");const D=Math.max(T-1-Math.floor(Math.log10(C)),0);return C=Math.round(C*Math.pow(10,D))/Math.pow(10,D),`${C}${S}`},n.baschezToCategory=C=>Math.max(0,Math.min(5,Math.floor(Math.log(Math.max(C,1))/Math.LN10+1e-9))-1),n.baschezScoreToEmojis=C=>"\u{1F525}".repeat(n.baschezToCategory(C)),n.joinLines=(C,T,S)=>{const D=(C||"").trim().split(/[\s\r]*\n[\s\r]*/g).map(U=>U.trim()).filter(U=>U),w=[];for(;D.length>0;){const U=D.shift(),V=w[w.length-1];V&&V.length<S?w[w.length-1]+=T+U:w.push(U)}return w.join(`
`)},n.randomString=()=>Math.random().toString(36).replace(/^0\./,""),n.toTitleCase=function(C){return C.trim().split(/\s+/).filter(Boolean).map(T=>T[0].toUpperCase()+T.substr(1).toLowerCase()).join(" ")},n.toSentenceCase=function(C,T){const S=T?C.substr(1).toLowerCase():C.substr(1);return C[0].toUpperCase()+S},n.numberToOrdinal=C=>{const T=["th","st","nd","rd"],S=C%100;return C+(T[(S-20)%10]||T[S]||T[0])},n.numberToString=function(C,T=0){return typeof C=="string"&&(C=Number(C.replace(/,/g,""))),new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:T}).format(C)},n.numberToOrderOfMagnitude=C=>Math.pow(10,Math.floor(Math.log10(C)))||0,n.numberToOrderOfMagnitudeString=C=>C<100?"tens":C<1e3?"hundreds":C<1e4?"thousands":C<1e5?"tens of thousands":C<1e6?"hundreds of thousands":C<1e7?"millions":C<1e8?"tens of millions":C<1e9?"hundreds of millions":C<1e10?"billions":C<1e11?"tens of billions":C<1e12?"hundreds of billions":C<1e13?"trillions":C<1e14?"tens of trillions":C<1e15?"hundreds of trillions":"gagillions",n.numberToOrderOfMagnitudeShortString=C=>C<100?"10+":C<1e3?"100+":C<1e4?"1K+":C<1e5?"10K+":C<1e6?"100K+":C<1e7?"1M+":C<1e8?"10M+":C<1e9?"100M+":C<1e10?"1B+":C<1e11?"10B+":C<1e12?"100B+":C<1e13?"1T+":C<1e14?"10T+":C<1e15?"100T+":"gagillions",n.numberToRoughRankingString=function(C){return C<=10?`#${C}`:C<=25?"Top 25":C<=50?"Top 50":C<=100?"Top 100":""},n.coverPageFreeSubscriberCount=C=>{const T=1e6,S=1e5;if(C<1e3)return null;let D=Math.floor(C/1e3)*1e3;return D>=T&&(D=Math.floor(C/S)*S),`Over ${n.numberToString(D)} subscribers`},n.formatPercentForDisplay=C=>C<1?"< 1%":`${C}%`,n.decimalToPercent=(C,{rounded:T=!1,display:S=!1,decimalPlaces:D=-1}={})=>{let w=parseFloat(C)*100;return D>=0&&(w=w.toFixed(D)),T&&(w=Math.floor(w)),S&&(w=n.formatPercentForDisplay(w)),w},n.getScheduledAt=function(C){var T;if(((T=C==null?void 0:C.postSchedules)==null?void 0:T.length)&&C.postSchedules[0].trigger_at)return new Date(C.postSchedules[0].trigger_at);if(!(!C||!C.scheduled_at)&&!(C.email_sent_at&&C.should_send_email))return new Date(Math.max(new Date(C.scheduled_at).getTime(),Date.now()))},n.spellOutNumber=function(C){return C===0?"zero":C===1?"one":C===2?"two":C===3?"three":C===4?"four":C===5?"five":C===6?"six":C===7?"seven":C===8?"eight":C===9?"nine":C===10?"ten":C===11?"eleven":C===12?"twelve":n.numberToString(C)},n.pluralize=(C,T,{zero_fallback:S="",just_word:D}={})=>{let w,U;const V=T.lastIndexOf(" ")+1,K=T.substr(V),Y=T.substr(0,V);return["person","people"].includes(K)?(w=`${Y}person`,U=`${Y}people`):["reply","replies"].includes(K)?(w=`${Y}reply`,U=`${Y}replies`):["entry","entries"].includes(K)?(w=`${Y}entry`,U=`${Y}entries`):["match","matches"].includes(K)?(w=`${Y}match`,U=`${Y}matches`):(w=T,U=`${T}s`),D||(w=`${n.numberToString(C)} ${w}`,U=`${n.numberToString(C)} ${U}`),!C&&S?S:C==1?w:U},n.possessive=C=>`${C}\u2019${C[C.length-1]==="s"?"":"s"}`,n.escapeNewlines=C=>C.replace(/\n/g,"\\n"),n.objectMap=(C,T,S)=>{const D={};for(const w in C)D[w]=T.call(S,C[w],w,C);return D},n.deep_equals=(C,T)=>{if(isNaN(C))return isNaN(T);if(C===null)return T===null;switch(typeof object){case"undefined":case"boolean":case"number":case"string":return C===T}const S=Object.keys(C).sort(),D=Object.keys(T).sort();if(S.length!==D.length)return!1;for(let w=0;w<S.length;w+=1){const U=S[w];if(U!==D[w]||!n.deep_equals(C[U],T[U]))return!1}return!0},n.toMap=(C,T="id")=>{const S={};for(const D of C)typeof T=="function"?S[T(D)]=D:S[D[T]]=D;return S},n.splitArray=(C,T)=>{const S=[],D=[];for(const w of C)T(w)?S.push(w):D.push(w);return[S,D]},n.flat=(C,T=1)=>{const S=[];function D(w,U){for(const V of w)Array.isArray(V)&&U>0?D(V,U-1):S.push(V)}return D(C,T),S},n.group_by=(C,T,S)=>{if(typeof T=="string"){const D=T.split(".");T=w=>D.reduce((U,V)=>U[V],w)}return[].reduce.call(C,(D,w,U)=>{const V=T.call(S,w,U,C),K=D.get(V);return K?K.push(w):D.set(V,[w]),D},new Map)},n.commentsEnabledForPost=({publication:C,post:T})=>["adhoc_email","page"].includes(T==null?void 0:T.type)?!1:C.community_enabled&&T&&T.write_comment_permissions!=="none",n.restacksEnabledForPost=({publication:C,post:T})=>C.community_enabled&&T,n.showCommentsOnPost=({publication:C,post:T})=>(T==null?void 0:T.type)==="adhoc_email"||(T==null?void 0:T.slug)==="coming-soon"?!1:T&&T.comment_count>0||n.commentsEnabledForPost({publication:C,post:T}),n.canSeeCommenterEmails=C=>C&&C.is_contributor,n.canSeeComments=(C,T,{bypassContentAccessCheck:S=!1}={})=>{const{userHasFullAccessToPost:D}=t(45);return C&&T.publishedBylines&&T.publishedBylines.find(w=>w.id===C.id)?!0:new Date(T.post_date)<new Date("2018-11-08T19:00:00.000Z")?C&&(C.is_subscribed||C.is_contributor):S||D(C,T)},n.areCommentsLocked=C=>C.type==="thread"&&C.write_comment_permissions==="none",n.canPostComments=(C,T,S)=>{if(C&&T.publishedBylines&&T.publishedBylines.find(D=>D.id===C.id))return{canReply:!0};if(C&&C.is_contributor)return{canReply:!0};switch(T.write_comment_permissions||S.default_write_comment_permissions){case"everyone":return{canReply:!0};case"none":return{canReply:!1,repliesDisabledReason:h.comments_disabled};case"only_paid":{const D=C&&C.is_subscribed;return{canReply:D,repliesDisabledReason:D?void 0:h.paid_subscription_required}}}return{canReply:!1}},n.couldPostCommentsIfSubscribed=(C,T,S)=>n.canPostComments(p(m({},C),{is_subscribed:!0}),T,S).canReply,n.canEditComment=(C,T)=>T&&C&&C.id===T.user_id,n.canDeleteComment=(C,T,{pub:S,post:D,parentComments:w})=>{if(!C||!T)return!1;if(C.is_contributor||C.id===T.user_id)return!0;if(T.publication_id&&T.post_id){if(n.canDeletePost(C,S,D))return!0}else if(n.onlyOwnsRootComment({user:C,comment:T,parentComments:w}))return!0;return!1},n.onlyOwnsRootComment=({user:C,comment:T,parentComments:S})=>{var D;if(!C||!T||T.publication_id&&T.post_id||C.id===T.user_id||C.is_contributor)return!1;const w=Number((D=T.ancestor_path)==null?void 0:D.split(".").filter(Boolean)[0]),U=w&&(S==null?void 0:S.find(V=>(V==null?void 0:V.id)===w));return C.id===(U==null?void 0:U.user_id)},n.canDeletePost=(C,T,S)=>C?!!(C.is_contributor||C.id===(T==null?void 0:T.author_id)||(T==null?void 0:T.contributors.find(D=>D.user_id===C.id&&["admin","contributor"].includes(D.role)))):!1,n.canReportComment=(C,T)=>!(!C||!T||C.id===T.user_id),n.defaultAudienceForPub=(C,{type:T,coupon:S}={})=>!C.plans||T==="page"?"everyone":S?"only_free":"only_paid",n.validCommentLevels=(C,T,S)=>{if(T==="thread")switch(C){case"only_paid":return["only_paid"];case"founding":return["only_paid"];case"everyone":return["everyone"];default:return["everyone"]}else switch(C){case"only_paid":return["only_paid","none"];case"founding":return["only_paid","none"];case"everyone":return S?["only_paid","everyone","none"]:["everyone","none"];default:return["none"]}},n.isValidCommentLevel=(C,T,S,D)=>n.validCommentLevels(T,S,D).includes(C),n.defaultCommentLevelForPub=(C,T,S,D)=>n.isValidCommentLevel(S.default_write_comment_permissions,C,T,D)?S.default_write_comment_permissions:n.validCommentLevels(C,T,D)[0],n.defaultSendEmailForPub=(C,T,S)=>T==="page"?!1:S==="only_free"?!0:Boolean(C.default_post_publish_send_email),n.getTrialEndOverride=(C,T,S)=>T&&T.interval==="forever"?0:Math.max(0,...[C.trial_end_override>Date.now()/1e3?C.trial_end_override:0,T&&T.trial_period_days&&Math.round((Date.now()+T.trial_period_days*24*60*60*1e3)/1e3),S&&S.trial_period_days&&Math.round((Date.now()+S.trial_period_days*24*60*60*1e3)/1e3)].filter(D=>D)),n.guessFirstName=function(C,{prependSpace:T=!1}={}){return C?(T?" ":"")+C.trim().split(/\s+/g)[0]:""},n.guessLastName=function(C){return C?C.trim().split(/\s+/g).slice(1).slice(-1)[0]:""},n.get_month_name=C=>n.MONTH_NAMES[new Date(C).getMonth()],n.oxfordComma=(C,{noBreakSpace:T}={})=>{const S=T?"\xA0":" ";let D=[];if(C.length==1)D=[C[0]];else if(C.length==2)D=[C[0],`${S}and${S}`,C[1]];else if(C.length>=3)for(let w=0;w<C.length;w++)D.push(C[w]),w<C.length-2?D.push(`,${S}`):w===C.length-2&&D.push(`,${S}and${S}`);return D.toString=()=>D.join(""),D},n.mode=C=>{const T=new Map;for(const S of C){let D=T.get(S);D=(D||0)+1,T.set(S,D)}return Array.from(T).sort((S,D)=>D[1]-S[1])[0][0]},n.getPostCtaText=C=>C.type==="thread"?"View thread":C.type==="podcast"?"Listen":"Read",n.getPostCtaPresentParticiple=(C,{isFinalWord:T}={})=>C==="podcast"?`listening${T?"":" to"}`:C==="video"?"watching":"reading",n.getPrintedPostType=C=>C==="newsletter"?"post":C==="podcast"?"episode":C==="adhoc_email"?"email":C,n.getRestackEmailSubject=C=>`${n.truncateText(C.title||"Untitled post",115)}`,n.shouldHidePostFromArchive=C=>C.publication_id===10475&&C.section_id===18994,n.getBylineUsers=(C,{isDraft:T=!1}={})=>C?((T?C.draftBylines:C.publishedBylines)||[]).filter(D=>D.name):[],n.getPrintedByline=(C,T,{isDraft:S=!1}={})=>{const D=n.getBylineUsers(T,{isDraft:S});return D.length>0?n.formatArray(D.map(w=>w.name)):null},n.isUUID=C=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(C),n.toMillis=C=>typeof C=="string"?g(C)||0:typeof C=="number"?C:0,n.transformDocumentLink=C=>{const T=S=>new RegExp(`^.*${S}`);if(C){if(C.includes(O.CHECKOUT_URL))return C.replace(T(O.CHECKOUT_URL),"/subscribe?");if(C.includes(O.FOUNDING_CHECKOUT_URL))return C.replace(T(O.FOUNDING_CHECKOUT_URL),"/subscribe?plan=founding&");if(C.includes(O.REFERRAL_URL))return C.replace(T(O.REFERRAL_URL),"/?showWelcome=true");if(C.includes(O.UNSUBSCRIBE_URL))return C.replace(T(O.UNSUBSCRIBE_URL),"/account?");if(C.includes(O.ONE_CLICK_UNSUBSCRIBE_URL))return C.replace(T(O.ONE_CLICK_UNSUBSCRIBE_URL),"/account?");if(/^.*%%.*%%/.test(C))return null}else return C;return C},n.handleDocumentLinkClick=C=>{if(C=n.transformDocumentLink(C),C){const T=window.open(C,"_blank");T.focus&&T.focus()}},n.isNotMainEntry=C=>{if(!C)return!0;const T=document.location&&document.location.pathname||"";return["publish","account"].includes(T.split("/")[1])},n.formatBytes=(C,T=2)=>{if(C===0)return"0 Bytes";const S=1024,D=T<0?0:T,w=Math.floor(Math.log(C)/Math.log(S));return`${parseFloat((C/Math.pow(S,w)).toFixed(D))} ${j[w]}`},n.formattedBytesToNumber=(C="")=>{if(!C)return 0;const[T,S]=C.split(" "),D=j.indexOf(S);return D<0?0:T*Math.pow(1024,D)},n.isSearchEngineCrawlerQuick=C=>/Googlebot/i.test(C||"")?"Google":/bingbot/i.test(C||"")||/BingPreview/i.test(C||"")?"Bing":/Slurp/i.test(C||"")?"Yahoo":/DuckDuckBot/i.test(C||"")?"DDG":/Baiduspider/i.test(C||"")?"Baidu":!1,n.anonymousName=(C,T,S,D)=>C.name?C.name:(S&&S.author_id===D.id||T&&T.publishedBylines&&T.publishedBylines.find(w=>w.id===D.id))&&C.email||"Someone",n.postSocialDescription=(C,T)=>C&&C.description||T.hero_text||`Get ${T.name} in your inbox`,n.SUBSCRIPTION_WORDS=[{pubs:["thebulwark"],subscription:"membership",donateItem:"membership",subscriber:"member",subscribe:"join",subscribeTo:"join",upgrade:"join",upgradeTo:"join",upgradeToPaid:"join",upgradeSubscriptionTo:"upgrade your membership to"},{pubs:["georgesaunders"],donateItem:"scholarship"}];const M={subscription:"subscription",donateItem:"subscription",subscriber:"subscriber",subscribe:"subscribe",subscribeTo:"subscribe to",upgrade:"upgrade",upgradeTo:"upgrade to",upgradeToPaid:"upgrade to paid",upgradeSubscriptionTo:"upgrade your subscription to"};n.pubsWithCustomSubscriptionWords=n.SUBSCRIPTION_WORDS.flatMap(C=>C.pubs),n.getSubscriptionWord=(C,T)=>{const S=n.SUBSCRIPTION_WORDS.find(w=>{var U;return w.pubs.includes(((U=C==null?void 0:C.parent_publication)==null?void 0:U.subdomain)||(C==null?void 0:C.subdomain))});let D=S&&S[T];if(!D&&(D=M[T],!D))throw new Error(`${T} is not a valid subscription word`);return D},n.getSuperscriptNumberString=C=>{const T={0:8304,1:185,2:178,3:179,4:8308,5:8309,6:8310,7:8311,8:8312,9:8313};return String.fromCodePoint(...Array.from(`${C}`).map(S=>T[S]))},n.foundingMemberDescription=C=>{var T,S;return(S=(T=C==null?void 0:C.plans)==null?void 0:T.find(D=>{var w;return(w=D.metadata)==null?void 0:w.founding}))==null?void 0:S.metadata.short_description},n.getOpennodePaymentUrl=C=>`https://checkout.opennode.com/${C}`,n.numberToHumanFileSize=(C=0)=>{const T=C===0?0:Math.floor(Math.log(C)/Math.log(1024));return`${+(C/Math.pow(1024,T)).toPrecision(3)}${["B","KB","MB","GB","TB"][T]}`},n.getReadableAttribution=C=>{if(!C)return null;const T="Substack Network";if(n.isNotesAttribution(C))return T;const S={"blog.substack.com":T,"library.substack.com":T,"on.substack.com":T,"post-end-cta":"Post Footer CTA","stories.substack.com":T,"substack-app":T,"substack-boost":T,"substack-categories-discovery":T,"substack-categories-discovery-search":T,"substack-comment-links":T,"substack-cross-posts":T,"substack-facepiles":T,"substack-mentions":T,"substack-onboarding-discovery":T,"substack-post-embeds":T,"substack-post-reply-comment":T,"substack-presubscribe":T,"substack-publication-embeds":T,"substack-reader-discovery":T,"substack-reader-profile-discovery":T,"substack-reader-shared":"Reader sharing","substack-reads-recommendations":T,"substack-recommendation-email":T,"substack-referral":T,"substack-signup-flow":T,"substack-twitter-link":T,"substack-twitter-suggest":T,"substack-xp-post-template":T,"substack-xp-read-next":T,"substack.com":T,"t.co":"Twitter","www.substack.com":T,external:"external form / api","googleads.g.doubleclick.net":"Google","score-upsell":"Boost upsell to engaged subscribers"}[C];return S||(/(\b|\.)facebook\./.test(C)?"Facebook":/(\b|\.)instagram\./.test(C)?"Instagram":/(\b|\.)linkedin\./.test(C)?"LinkedIn":/(\b|\.)youtube\./.test(C)?"YouTube":/(\b|\.)duckduckgo\./.test(C)?"DuckDuckGo":/(\b|\.)medium\./.test(C)?"Medium":/(\b|\.)reddit\./.test(C)?"Reddit":/(\b|\.)bing\./.test(C)?"Bing":/(\b|\.)google\./.test(C)?"Google":(C==null?void 0:C.includes("."))?C:n.toTitleCase(C.replace(/-/g," ")))},n.isNotesAttribution=C=>["substack-feed-item","notes_inline_suggestions","notes_sidebar_suggestions","feed-nux","feed-twitter-suggestions","notes_all_suggestions","note_permalink_upsell","notes_likes","note_inline_upsell","notes_restacks","notes_quote_attachment","notes_context","substack-notes"].includes(C),n.isProbablyEmail=C=>/^\S+@\S+\.\S+$/.test(C),n.sanitizeInlineText=C=>(C||"").replace(/\s+/g," "),n.PUBLICATION_TIER_DESCRIPTIONS={"-2":{short:"Deleted - Flagged as spam",long:"This publication is deleted and every page will show a flagged error"},"-1":{short:"Noindexed - In moderation queue",long:"This publication is temporarily not available to search engines because it is pending moderation, where it will be approved or deleted"},0:{short:"Noindexed - New Pub",long:'This publication is temporarily not available to search engines because the author needs to create a new post other than "coming-soon"'},1:{short:"Available",long:"This publication is available to search engines"},2:{short:"Available w/priority",long:"This publication is available to search engines and is given priority SEO treatment"}},n.paymentPeriodToPlan=C=>C?C<40*24*60*60?"monthly":C<94*24*60*60?"quarterly":C<186*24*60*60?"semiannual":C<400*24*60*60?"annual":C>45*24*60*60?"lifetime":"other":"free",n.isPinnable=C=>C&&(C.homepage_type==="newspaper"||C.homepage_type==="magaziney"),n.MAX_BYLINES=35,n.videoPlayerDimensions=(C,{isStatic:T}={})=>{let S,D;return C.width>=C.height*(960/540)?(S=T?550:960,D=Math.round(S*(C.height/C.width))):C.width>=C.height?(S=T?550:728,D=Math.round(S*(C.height/C.width))):S=D=T?550:728,{height:D,width:S}},n.setDateToMidnightPST=C=>{const T=t(17),S=T(C);return T.utc([S.year(),S.month(),S.date(),8,0,0]).toDate()},n.getNext5HoursAfterMidnight=({now:C}={})=>{const T=t(17);C||(C=T());let S=C.utc().startOf("day").add(5,"hour");return S.isBefore(C)&&(S=S.utc().add(1,"day")),S},n.formatPodcastDuration=C=>{const T=Math.round(C/60),S=Math.floor(T/60),D=T%60;return`${S?`${S}HR `:""}${D}M`};function F(C){const T=C.toLowerCase()[0];return["a","e","i","o","u"].includes(T)}function H(C){return C.toLowerCase().startsWith("uni watch")?"a":F(C)?"an":"a"}n.getWithIndefiniteArticle=C=>`${H(C)} ${C}`,n.hashString=C=>C.split("").reduce((T,S)=>(T<<5)-T+S.charCodeAt(0)|0,0),n.kFormatter=C=>Math.abs(C)>9999?`${Math.sign(C)*(Math.abs(C)/1e3).toFixed(1)}K`:(Math.sign(C)*Math.abs(C)).toString(),n.getReaderRecommendationEmailSubject=({recommendedPubs:C})=>{let T=null;for(const S of C){for(const D of S.recommendations)if(D.hasOwnProperty("blurb")&&D.blurb){T=`${D.name} recommended ${S.name}`;break}if(T)break}return T!=null?T:"Recommendations from your Substacks"},n.getPlanTitle=C=>C.metadata.short_description?C.metadata.short_description:C.interval==="year"?"Annual":C.interval==="forever"?"Founding Membership":C.interval==="month"&&C.interval_count===3?"Quarterly":C.interval==="month"&&C.interval_count===6?"Semiannually":`${n.toTitleCase(C.interval)}ly`,n.textLengthAlphaNumericMinimumValidator=({minLength:C,maxLength:T,minAlphaNumeric:S}={})=>D=>{if(!D)return"Missing input";if(C&&D.length<C)return`Must be at least ${C} characters long`;if(T&&D.length>T)return`Must be at most ${T} characters long`;const w=/\P{P}|`/gu,U=D.match(w);if(!U||(U==null?void 0:U.length)<(S!=null?S:C))return`Must contain at least ${S!=null?S:C} non-punctuation characters`;const V=["`"];let K=0;return U.forEach(Y=>{V.includes(Y)&&(K+=1)}),U.length-K<(S!=null?S:C)?`Must contain at least ${S!=null?S:C} non-punctuation characters`:null}}).call(this,t(195))},function(k,n,t){"use strict";t.d(n,"a",function(){return e.a}),t.d(n,"b",function(){return a.a}),t.d(n,"K",function(){return o.d}),t.d(n,"d",function(){return o.a}),t.d(n,"r",function(){return o.c}),t.d(n,"k",function(){return o.b}),t.d(n,"e",function(){return l.a}),t.d(n,"C",function(){return l.b}),t.d(n,"c",function(){return d.a}),t.d(n,"h",function(){return c.a}),t.d(n,"i",function(){return c.b}),t.d(n,"z",function(){return c.d}),t.d(n,"j",function(){return u.a}),t.d(n,"n",function(){return f.a}),t.d(n,"p",function(){return f.c}),t.d(n,"o",function(){return f.b}),t.d(n,"q",function(){return m.a}),t.d(n,"s",function(){return p.a}),t.d(n,"y",function(){return g.d}),t.d(n,"w",function(){return g.b}),t.d(n,"v",function(){return g.a}),t.d(n,"x",function(){return g.c}),t.d(n,"t",function(){return O.c}),t.d(n,"u",function(){return O.d}),t.d(n,"D",function(){return i.b}),t.d(n,"J",function(){return h.a}),t.d(n,"I",function(){return v.c}),t.d(n,"M",function(){return v.f}),t.d(n,"L",function(){return v.e}),t.d(n,"l",function(){return j.a}),t.d(n,"f",function(){return y.a}),t.d(n,"g",function(){return E}),t.d(n,"m",function(){return A}),t.d(n,"A",function(){return _.a}),t.d(n,"B",function(){return F}),t.d(n,"G",function(){return H.a}),t.d(n,"F",function(){return C.a}),t.d(n,"E",function(){return S}),t.d(n,"H",function(){return D});var e=t(300),a=t(463),o=t(14),l=t(342),d=t(100),c=t(418),u=t(99),f=t(2),m=t(164),p=t(226),g=t(32),O=t(23),s=t(419),r=t(143),i=t(8),h=t(124),v=t(26),j=t(157),y=t(256),b=t(0);const E=({contentBelow:w,details:U,disabled:V,label:K,paddingBottom:Y,paddingTop:W,testid:R,track:B,value:x,onChange:G})=>Object(b.h)(f.c,{as:"label",gap:8,paddingBottom:Y,paddingTop:W},Object(b.h)(y.a,{as:"div",checked:x,name:R,"data-track-input":B,disabled:V,size:"small",onChange:G}),Object(b.h)(f.b,{flex:"grow"},Object(b.h)(i.b.B4,{as:"span",color:V?"secondary":"primary"},K),U&&Object(b.h)(i.b.Detail,null,U),w));var P={container:"frontend-pencraft-form-FieldGroup-module__container--jgXBe"};const A=({children:w,label:U})=>Object(b.h)(f.b,null,U&&Object(b.h)(i.b.Meta,{color:"primary",paddingBottom:4,paddingLeft:4},U),Object(b.h)(f.b,{className:P.container,padding:16,radius:12,gap:16},w));var _=t(536),M=t(235);const F=({details:w,helpText:U,label:V,options:K,paddingBottom:Y,paddingTop:W,value:R,onChange:B})=>Object(b.h)(j.a,{label:V,details:w,helpText:U,paddingTop:W,paddingBottom:Y,wrapWithLabel:!0},Object(b.h)(M.a,{value:R,onChange:B},K.map(x=>Object(b.h)("option",{value:x.value},x.label))));var H=t(330),C=t(341),T=t(1);const S=({details:w,disabled:U,helpText:V,label:K,paddingBottom:Y,paddingTop:W,value:R,onChange:B})=>{const x=Object(T.a)(G=>{B(G.target.value)},[B]);return Object(b.h)(j.a,{label:K,details:w,helpText:V,paddingTop:W,paddingBottom:Y,wrapWithLabel:!0},Object(b.h)(C.a,{disabled:U,value:R,onChange:x}))},D=({details:w,disabled:U,helpText:V,label:K,paddingBottom:Y,paddingTop:W,value:R,onChange:B})=>{const x=Object(T.a)(G=>{B(G.target.value)},[B]);return Object(b.h)(j.a,{details:w,helpText:V,label:K,paddingBottom:Y,paddingTop:W,wrapWithLabel:!0},Object(b.h)(H.a,{disabled:U,value:R,onChange:x}))}},function(k,n,t){"use strict";function e(E){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(A){return typeof A}:e=function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},e(E)}var a;typeof window!="undefined"?a=window:typeof self=="undefined"?(console.warn("Using browser-only version of superagent in non-browser environment"),a=void 0):a=self;var o=t(796),l=t(797),d=t(798),c=t(807),u=t(476),f=t(808),m=t(810);function p(){}k.exports=function(E,P){return typeof P=="function"?new n.Request("GET",E).end(P):arguments.length===1?new n.Request("GET",E):new n.Request(E,P)},n=k.exports;var g=n;n.Request=y,g.getXHR=function(){if(a.XMLHttpRequest&&(!a.location||a.location.protocol!=="file:"||!a.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(E){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(E){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(E){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(E){}throw new Error("Browser-only version of superagent could not find XHR")};var O="".trim?function(E){return E.trim()}:function(E){return E.replace(/(^\s*|\s*$)/g,"")};function s(E){if(!u(E))return E;var P=[];for(var A in E)Object.prototype.hasOwnProperty.call(E,A)&&r(P,A,E[A]);return P.join("&")}function r(E,P,A){if(A!==void 0){if(A===null){E.push(encodeURI(P));return}if(Array.isArray(A))A.forEach(function(M){r(E,P,M)});else if(u(A))for(var _ in A)Object.prototype.hasOwnProperty.call(A,_)&&r(E,"".concat(P,"[").concat(_,"]"),A[_]);else E.push(encodeURI(P)+"="+encodeURIComponent(A))}}g.serializeObject=s;function i(E){for(var P={},A=E.split("&"),_,M,F=0,H=A.length;F<H;++F)_=A[F],M=_.indexOf("="),M===-1?P[decodeURIComponent(_)]="":P[decodeURIComponent(_.slice(0,M))]=decodeURIComponent(_.slice(M+1));return P}g.parseString=i,g.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},g.serialize={"application/x-www-form-urlencoded":d.stringify,"application/json":l},g.parse={"application/x-www-form-urlencoded":i,"application/json":JSON.parse};function h(E){for(var P=E.split(/\r?\n/),A={},_,M,F,H,C=0,T=P.length;C<T;++C)M=P[C],_=M.indexOf(":"),_!==-1&&(F=M.slice(0,_).toLowerCase(),H=O(M.slice(_+1)),A[F]=H);return A}function v(E){return/[/+]json($|[^-\w])/i.test(E)}function j(E){this.req=E,this.xhr=this.req.xhr,this.text=this.req.method!=="HEAD"&&(this.xhr.responseType===""||this.xhr.responseType==="text")||typeof this.xhr.responseType=="undefined"?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var P=this.xhr.status;P===1223&&(P=204),this._setStatusProperties(P),this.headers=h(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),this.text===null&&E._responseType?this.body=this.xhr.response:this.body=this.req.method==="HEAD"?null:this._parseBody(this.text?this.text:this.xhr.response)}f(j.prototype),j.prototype._parseBody=function(E){var P=g.parse[this.type];return this.req._parser?this.req._parser(this,E):(!P&&v(this.type)&&(P=g.parse["application/json"]),P&&E&&(E.length>0||E instanceof Object)?P(E):null)},j.prototype.toError=function(){var E=this.req,P=E.method,A=E.url,_="cannot ".concat(P," ").concat(A," (").concat(this.status,")"),M=new Error(_);return M.status=this.status,M.method=P,M.url=A,M},g.Response=j;function y(E,P){var A=this;this._query=this._query||[],this.method=E,this.url=P,this.header={},this._header={},this.on("end",function(){var _=null,M=null;try{M=new j(A)}catch(H){return _=new Error("Parser is unable to parse the response"),_.parse=!0,_.original=H,A.xhr?(_.rawResponse=typeof A.xhr.responseType=="undefined"?A.xhr.responseText:A.xhr.response,_.status=A.xhr.status?A.xhr.status:null,_.statusCode=_.status):(_.rawResponse=null,_.status=null),A.callback(_)}A.emit("response",M);var F;try{A._isResponseOK(M)||(F=new Error(M.statusText||M.text||"Unsuccessful HTTP response"))}catch(H){F=H}F?(F.original=_,F.response=M,F.status=M.status,A.callback(F,M)):A.callback(null,M)})}o(y.prototype),c(y.prototype),y.prototype.type=function(E){return this.set("Content-Type",g.types[E]||E),this},y.prototype.accept=function(E){return this.set("Accept",g.types[E]||E),this},y.prototype.auth=function(E,P,A){arguments.length===1&&(P=""),e(P)==="object"&&P!==null&&(A=P,P=""),A||(A={type:typeof btoa=="function"?"basic":"auto"});var _=function(F){if(typeof btoa=="function")return btoa(F);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(E,P,A,_)},y.prototype.query=function(E){return typeof E!="string"&&(E=s(E)),E&&this._query.push(E),this},y.prototype.attach=function(E,P,A){if(P){if(this._data)throw new Error("superagent can't mix .send() and .attach()");this._getFormData().append(E,P,A||P.name)}return this},y.prototype._getFormData=function(){return this._formData||(this._formData=new a.FormData),this._formData},y.prototype.callback=function(E,P){if(this._shouldRetry(E,P))return this._retry();var A=this._callback;this.clearTimeout(),E&&(this._maxRetries&&(E.retries=this._retries-1),this.emit("error",E)),A(E,P)},y.prototype.crossDomainError=function(){var E=new Error(`Request has been terminated
Possible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.`);E.crossDomain=!0,E.status=this.status,E.method=this.method,E.url=this.url,this.callback(E)},y.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},y.prototype.ca=y.prototype.agent,y.prototype.buffer=y.prototype.ca,y.prototype.write=function(){throw new Error("Streaming is not supported in browser version of superagent")},y.prototype.pipe=y.prototype.write,y.prototype._isHost=function(E){return E&&e(E)==="object"&&!Array.isArray(E)&&Object.prototype.toString.call(E)!=="[object Object]"},y.prototype.end=function(E){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=E||p,this._finalizeQueryString(),this._end()},y.prototype._setUploadTimeout=function(){var E=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout(function(){E._timeoutError("Upload timeout of ",E._uploadTimeout,"ETIMEDOUT")},this._uploadTimeout))},y.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));var E=this;this.xhr=g.getXHR();var P=this.xhr,A=this._formData||this._data;this._setTimeouts(),P.onreadystatechange=function(){var C=P.readyState;if(C>=2&&E._responseTimeoutTimer&&clearTimeout(E._responseTimeoutTimer),C===4){var T;try{T=P.status}catch(S){T=0}if(!T)return E.timedout||E._aborted?void 0:E.crossDomainError();E.emit("end")}};var _=function(T,S){S.total>0&&(S.percent=S.loaded/S.total*100,S.percent===100&&clearTimeout(E._uploadTimeoutTimer)),S.direction=T,E.emit("progress",S)};if(this.hasListeners("progress"))try{P.addEventListener("progress",_.bind(null,"download")),P.upload&&P.upload.addEventListener("progress",_.bind(null,"upload"))}catch(C){}P.upload&&this._setUploadTimeout();try{this.username&&this.password?P.open(this.method,this.url,!0,this.username,this.password):P.open(this.method,this.url,!0)}catch(C){return this.callback(C)}if(this._withCredentials&&(P.withCredentials=!0),!this._formData&&this.method!=="GET"&&this.method!=="HEAD"&&typeof A!="string"&&!this._isHost(A)){var M=this._header["content-type"],F=this._serializer||g.serialize[M?M.split(";")[0]:""];!F&&v(M)&&(F=g.serialize["application/json"]),F&&(A=F(A))}for(var H in this.header)this.header[H]!==null&&Object.prototype.hasOwnProperty.call(this.header,H)&&P.setRequestHeader(H,this.header[H]);this._responseType&&(P.responseType=this._responseType),this.emit("request",this),P.send(typeof A=="undefined"?null:A)},g.agent=function(){return new m},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(E){m.prototype[E.toLowerCase()]=function(P,A){var _=new g.Request(E,P);return this._setDefaults(_),A&&_.end(A),_}}),m.prototype.del=m.prototype.delete,g.get=function(E,P,A){var _=g("GET",E);return typeof P=="function"&&(A=P,P=null),P&&_.query(P),A&&_.end(A),_},g.head=function(E,P,A){var _=g("HEAD",E);return typeof P=="function"&&(A=P,P=null),P&&_.query(P),A&&_.end(A),_},g.options=function(E,P,A){var _=g("OPTIONS",E);return typeof P=="function"&&(A=P,P=null),P&&_.send(P),A&&_.end(A),_};function b(E,P,A){var _=g("DELETE",E);return typeof P=="function"&&(A=P,P=null),P&&_.send(P),A&&_.end(A),_}g.del=b,g.delete=b,g.patch=function(E,P,A){var _=g("PATCH",E);return typeof P=="function"&&(A=P,P=null),P&&_.send(P),A&&_.end(A),_},g.post=function(E,P,A){var _=g("POST",E);return typeof P=="function"&&(A=P,P=null),P&&_.send(P),A&&_.end(A),_},g.put=function(E,P,A){var _=g("PUT",E);return typeof P=="function"&&(A=P,P=null),P&&_.send(P),A&&_.end(A),_}},function(k,n,t){"use strict";t.d(n,"a",function(){return O});var e=t(0),a=t(4),o=t.n(a),l=t(154),d=Object.defineProperty,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?d(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>{var i={};for(var h in s)u.call(s,h)&&r.indexOf(h)<0&&(i[h]=s[h]);if(s!=null&&c)for(var h of c(s))r.indexOf(h)<0&&f.call(s,h)&&(i[h]=s[h]);return i};const O=s=>{var r=s,{name:i,svgParams:h,isStatic:v,height:j,fill:y,stroke:b,version:E=4,strokeWidth:P=1.8,alt:A,additionalStaticParams:_={},children:M}=r,F=g(r,["name","svgParams","isStatic","height","fill","stroke","version","strokeWidth","alt","additionalStaticParams","children"]);const H=j?(h.width||1)*j/(h.height||1):h.width||1,C=j||h.height||1;return v?Object(e.h)(l.a,p(p({src:Object(a.cloudinary)(Object(a.pathWithQuery)(`/icon/${i}`,{v:E||4,height:C*2,fill:y,stroke:b,strokeWidth:P*2}),H*2,{format:"png",crop:"scale"}),width:H,height:C,style:{maxWidth:`${H}px`},alt:A||""},_),F)):Object(e.h)("svg",p({role:"img",style:j?{height:`${C}px`,width:`${H}px`}:void 0,width:H,height:C,viewBox:h.viewBox||`0 0 ${h.width} ${h.height}`,fill:y||h.fill||"none",strokeWidth:P||typeof P=="number"?Number(P):typeof h.strokeWidth=="number"?h.strokeWidth:1,stroke:b||h.stroke||"#000",xmlns:"http://www.w3.org/2000/svg"},F),Object(e.h)("g",null,Object(e.h)("title",null,A||""),M))}},function(k,n,t){"use strict";t.d(n,"d",function(){return y}),t.d(n,"a",function(){return b}),t.d(n,"c",function(){return E}),t.d(n,"b",function(){return P});var e=t(0),a=t(3),o=t(5),l=t.n(o),d=t(9),c=t(8),u=t(31),f={buttonBase:"frontend-pencraft-Button-module__buttonBase--2lTCc",button:"frontend-pencraft-Button-module__button--3hZ0m",grow:"frontend-pencraft-Button-module__grow--20uHO",size_small:"frontend-pencraft-Button-module__size_small--1Nmxp",size_medium:"frontend-pencraft-Button-module__size_medium--187Vn",size_large:"frontend-pencraft-Button-module__size_large--lsJrf",shadow_medium:"frontend-pencraft-Button-module__shadow_medium--TVeu6",iconButton:"frontend-pencraft-Button-module__iconButton--2gz9x frontend-pencraft-Button-module__buttonBase--2lTCc",size_24:"frontend-pencraft-Button-module__size_24--2fOAv",size_32:"frontend-pencraft-Button-module__size_32--ZLlEb",size_40:"frontend-pencraft-Button-module__size_40--16CJn",size_48:"frontend-pencraft-Button-module__size_48--2md9w",size_56:"frontend-pencraft-Button-module__size_56--37FVf",rounded:"frontend-pencraft-Button-module__rounded--2hE1H","color_primary-text":"frontend-pencraft-Button-module__color_primary-text--1PyLr",fill_borderless:"frontend-pencraft-Button-module__fill_borderless--3xuC6",hasLeftIcon:"frontend-pencraft-Button-module__hasLeftIcon--1AM1u",hasRightIcon:"frontend-pencraft-Button-module__hasRightIcon--1Aysp",priority_primary:"frontend-pencraft-Button-module__priority_primary--3Oxcs","priority_primary-theme":"frontend-pencraft-Button-module__priority_primary-theme--m5KFb","priority_secondary-theme":"frontend-pencraft-Button-module__priority_secondary-theme--1nq5O",priority_secondary:"frontend-pencraft-Button-module__priority_secondary--2PmO7",priority_destructive:"frontend-pencraft-Button-module__priority_destructive--1rXc3",priority_twitter:"frontend-pencraft-Button-module__priority_twitter--2V4Gs",priority_media:"frontend-pencraft-Button-module__priority_media--BgqK2",fill_empty:"frontend-pencraft-Button-module__fill_empty--1gFds",fill_filled:"frontend-pencraft-Button-module__fill_filled--3mJTN",outline_none:"frontend-pencraft-Button-module__outline_none--3tbcW",fill_outline:"frontend-pencraft-Button-module__fill_outline--1D-T4",inverted:"frontend-pencraft-Button-module__inverted--3hKVN"},m=Object.defineProperty,p=Object.defineProperties,g=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,i=(A,_,M)=>_ in A?m(A,_,{enumerable:!0,configurable:!0,writable:!0,value:M}):A[_]=M,h=(A,_)=>{for(var M in _||(_={}))s.call(_,M)&&i(A,M,_[M]);if(O)for(var M of O(_))r.call(_,M)&&i(A,M,_[M]);return A},v=(A,_)=>p(A,g(_)),j=(A,_)=>{var M={};for(var F in A)s.call(A,F)&&_.indexOf(F)<0&&(M[F]=A[F]);if(A!=null&&O)for(var F of O(A))_.indexOf(F)<0&&r.call(A,F)&&(M[F]=A[F]);return M};const y=Object(a.forwardRef)((A,_)=>{var M=A,{onClick:F,href:H,localNavigation:C,newTab:T,className:S,resetCss:D}=M,w=j(M,["onClick","href","localNavigation","newTab","className","resetCss"]);const U=H?V=>{F&&(F.call(V.target,V),V.defaultPrevented)||Object(d.redirect)(H,{event:V,local_navigation:C,newTab:T})}:F;return Object(e.h)("button",v(h({tabIndex:0,type:"button"},w),{className:l()("pencraft",S,D&&f.buttonBase),ref:_,onClick:U,"data-href":H}))});y.displayName="UnstyledButton";const b=Object(a.forwardRef)(function(_,M){var F=_,{className:H,priority:C="primary",size:T="medium",fill:S="filled",outline:D,rounded:w,disabled:U,grow:V,leftIcon:K,rightIcon:Y,allCaps:W,children:R,hiddenInput:B,justifyContent:x="center"}=F,G=j(F,["className","priority","size","fill","outline","rounded","disabled","grow","leftIcon","rightIcon","allCaps","children","hiddenInput","justifyContent"]);return Object(e.h)(y,h({className:l()(H,f.buttonBase,f.button,f[`priority_${C}`],f[`size_${T}`],f[`fill_${S}`],D&&f.outline_none,w&&f.rounded,V&&f.grow,K!=null&&f.hasLeftIcon,Y!=null&&f.hasRightIcon,x&&u.a[`flex-justify-${x}`]),disabled:U,ref:M},G),K,W?Object(e.h)(c.b.Meta,null,R):R,Y,B)}),E=Object(a.forwardRef)((A,_)=>{var M=A,{className:F,size:H=40,priority:C="secondary",color:T,fill:S="empty",rounded:D=!0,inverted:w,grow:U,shadow:V}=M,K=j(M,["className","size","priority","color","fill","rounded","inverted","grow","shadow"]);return Object(e.h)(y,h({ref:_,className:l()(F,f.iconButton,H!=null&&f[`size_${H}`],C&&f[`priority_${C}`],T&&f[`color_${T}`],S&&f[`fill_${S}`],w&&f.inverted,U&&f.grow,D&&f.rounded,V&&f[`shadow_${V}`])},K))}),P=A=>{var _=A,{href:M,download:F,className:H,priority:C="primary",size:T="medium",fill:S="filled",outline:D,rounded:w,grow:U}=_,V=j(_,["href","download","className","priority","size","fill","outline","rounded","grow"]);return Object(e.h)("a",h({href:M,download:F,className:l()(H,f.buttonBase,f.button,f[`priority_${C}`],f[`size_${T}`],f[`fill_${S}`],D&&f.outline_none,w&&f.rounded,U&&f.grow)},V))}},function(k,n,t){"use strict";t.r(n),t.d(n,"FEED_PATH_NAME",function(){return o.b}),t.d(n,"FEED_PATH",function(){return o.a}),t.d(n,"OLD_FEED_PATH",function(){return o.c}),t.d(n,"isFeedPath",function(){return o.t}),t.d(n,"feedPathRegex",function(){return o.d}),t.d(n,"matchFeedSubpath",function(){return o.w}),t.d(n,"isOldFeedPath",function(){return o.u}),t.d(n,"fixOldFeedPath",function(){return o.e}),t.d(n,"matchPostPath",function(){return o.A}),t.d(n,"matchCommentPath",function(){return o.v}),t.d(n,"matchOldCommentPath",function(){return o.z}),t.d(n,"matchNotePath",function(){return o.y}),t.d(n,"matchNoteId",function(){return o.x}),t.d(n,"getFeedUrl",function(){return o.o}),t.d(n,"getFeedPeopleYouMayKnowUrl",function(){return o.l}),t.d(n,"getFeedShortPostUrl",function(){return o.n}),t.d(n,"getFeedCommentUrl",function(){return o.k}),t.d(n,"getNoteUrl",function(){return o.q}),t.d(n,"getCommentFallbackUrl",function(){return o.h}),t.d(n,"getFeedPostUrl",function(){return o.m}),t.d(n,"getCommentEntityKey",function(){return o.g}),t.d(n,"getPostEntityKey",function(){return o.s}),t.d(n,"getCommunityPostEntityKey",function(){return o.i}),t.d(n,"getCommentDeepLinkUrl",function(){return o.f}),t.d(n,"getPostDeepLinkUrl",function(){return o.r}),t.d(n,"getCreateNotesUrl",function(){return o.j}),t.d(n,"getNoteCommentPreviewUrl",function(){return o.p}),t.d(n,"getProfileUrlById",function(){return i.d}),t.d(n,"getProfileHandleUrl",function(){return i.b}),t.d(n,"getProfileSubdomain",function(){return i.c}),t.d(n,"getEditProfileUrl",function(){return i.a}),t.d(n,"getReaderProfileUrl",function(){return i.e}),t.d(n,"substackDomain",function(){return a.i}),t.d(n,"CDN_URL",function(){return a.a}),t.d(n,"_getUrl",function(){return a.b}),t.d(n,"substackBaseUrl",function(){return a.h}),t.d(n,"substackUrl",function(){return a.j}),t.d(n,"getHostname",function(){return a.d}),t.d(n,"serializeQuery",function(){return a.g}),t.d(n,"pathWithQuery",function(){return a.f}),t.d(n,"getBaseUrl",function(){return a.c}),t.d(n,"getPostUrl",function(){return p}),t.d(n,"getPostUrlBySlug",function(){return g}),t.d(n,"getEditPostUrlById",function(){return O}),t.d(n,"getLikelyLoggedInParam",function(){return s}),t.d(n,"getPubAccountSettingsUrl",function(){return r}),t.d(n,"getSubstackUrl",function(){return a.e}),t.d(n,"getSubscribeUrl",function(){return M}),t.d(n,"getPresubscribeUrl",function(){return F}),t.d(n,"getWebChatUrl",function(){return H}),t.d(n,"getDonateSubscriptionUrl",function(){return C}),t.d(n,"getOfferSubscribeUrl",function(){return T}),t.d(n,"getBillingDetailsUrl",function(){return S}),t.d(n,"getEmailTestUrl",function(){return D}),t.d(n,"getGiftsUrl",function(){return w}),t.d(n,"getChangeEmailUrl",function(){return U}),t.d(n,"getPublishBaseUrl",function(){return V}),t.d(n,"getPublishSettingsUrl",function(){return K}),t.d(n,"getGroupManagementUrl",function(){return Y}),t.d(n,"getDashboardUrl",function(){return W}),t.d(n,"getNewDashboardUrl",function(){return R}),t.d(n,"getSubscriberDashboardUrl",function(){return B}),t.d(n,"getMeetingOrderUrl",function(){return x}),t.d(n,"getMeetingsUrl",function(){return G}),t.d(n,"getMeetingAdminUrl",function(){return Q}),t.d(n,"getBaseAppLinkUrl",function(){return he}),t.d(n,"getUserAppLinkUrl",function(){return Z}),t.d(n,"getChatAppLinkUrl",function(){return le}),t.d(n,"getPublicationAppLinkUrl",function(){return de}),t.d(n,"getPublicationChatAppLinkUrl",function(){return be}),t.d(n,"getCommunityPostAppLinkUrl",function(){return X}),t.d(n,"getFeedCommentAppLinkUrl",function(){return ie}),t.d(n,"getThreadsLandingPageUrl",function(){return Ce}),t.d(n,"getPodcastArchiveUrl",function(){return Le}),t.d(n,"cloudinary",function(){return Ae}),t.d(n,"uncloudinary",function(){return Pe}),t.d(n,"extractDimensionsFromImageUrl",function(){return Ne}),t.d(n,"getCustomPublicationThemePreviewUrl",function(){return ce}),t.d(n,"getCustomPublicationThemeDisablePreviewUrl",function(){return q}),t.d(n,"CHAT_FAQ_URL",function(){return te}),t.d(n,"CHAT_EXAMPLES_URL",function(){return ue}),t.d(n,"parseUrl",function(){return We}),t.d(n,"getMentionsUrl",function(){return ot}),t.d(n,"parsePostUrl",function(){return ze}),t.d(n,"getPostTagUrl",function(){return vt}),t.d(n,"getAddPodcastToSectionUrl",function(){return Wt}),t.d(n,"getImportPodcastToSectionUrl",function(){return zt}),t.d(n,"getEditPubPodcastUrl",function(){return at}),t.d(n,"getEditSectionPodcastUrl",function(){return Me}),t.d(n,"stripeBaseUrl",function(){return Be}),t.d(n,"getStripePlanUrl",function(){return Xe}),t.d(n,"getStripeInvoiceUrl",function(){return Te}),t.d(n,"getCloudinariedFavicons",function(){return we}),t.d(n,"isHostedByUnsplash",function(){return De}),t.d(n,"isHostedBySubstack",function(){return Ie}),t.d(n,"isOpenSubstackPostUrl",function(){return He}),t.d(n,"getNavigationBarItemUrl",function(){return Ve}),t.d(n,"getSectionUrl",function(){return z}),t.d(n,"getPubConnectTwitterUrl",function(){return se}),t.d(n,"getConnectTwitterUrl",function(){return Se}),t.d(n,"getReaderPostUrl",function(){return Oe}),t.d(n,"getSubdomainFromUrl",function(){return ge}),t.d(n,"getSubdomainOrCustomDomain",function(){return je}),t.d(n,"shareSamePub",function(){return it}),t.d(n,"getHcProfileViolationFormUrl",function(){return Tt}),t.d(n,"getCancelOrUncancelUrl",function(){return sn});var e=t(110),a=t(16),o=t(44),l=Object.defineProperty,d=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,f=(ht,Nt,wt)=>Nt in ht?l(ht,Nt,{enumerable:!0,configurable:!0,writable:!0,value:wt}):ht[Nt]=wt,m=(ht,Nt)=>{for(var wt in Nt||(Nt={}))c.call(Nt,wt)&&f(ht,wt,Nt[wt]);if(d)for(var wt of d(Nt))u.call(Nt,wt)&&f(ht,wt,Nt[wt]);return ht};function p(ht,Nt,{noBase:wt,edit:yt,email:Qe,comments:At,commentId:jt,commentInput:ke,highlightComment:tn,replyToComment:Pn,commentContextId:Ft,uuid:lt,urlParams:Rt,signedIn:ln=!1,feedViewer:Mt=!1}={}){if(ht&&(ht=[ht].concat(ht.child_publications||[]).find(Bt=>Bt.id===(Nt==null?void 0:Nt.publication_id))||ht),(ht==null?void 0:ht.type)==="rss"&&Nt)return Nt.canonical_url||ht.rss_website_url;const $t=Nt?lt?Nt.uuid:Nt.slug:null;if((yt||!$t)&&ht&&(Nt==null?void 0:Nt.id))return`${wt?"":Object(a.c)(ht)}${O(ht,Nt.id,Rt)}`;if(Mt||!ht||!Nt||!$t){const Bt=wt?"":Object(a.c)();return jt?Object(o.h)(jt,{noBase:wt,urlParams:Rt}):Nt?Object(o.m)(Nt.id,{noBase:wt,urlParams:Rt}):Object(a.f)(`${Bt}${o.a}`,Rt)}const nn=s(ln,ht);return g(ht,$t,{noBase:wt,email:Qe,comments:At,commentId:jt,commentInput:ke,highlightComment:tn,replyToComment:Pn,commentContextId:Ft,urlParams:m({lli:nn},Rt)})}function g(ht,Nt,{noBase:wt,email:yt,comments:Qe,commentId:At,commentInput:jt,highlightComment:ke,replyToComment:tn,commentContextId:Pn,urlParams:Ft}={}){let lt="";return wt||(lt+=Object(a.c)(ht)),lt+=`/p/${Nt}`,Qe&&(!At||ke)&&(lt+="/comments"),At&&!ke&&!Pn&&(lt+=`/comment/${At}`),yt&&(lt+="/email"),Ft&&(lt=Object(a.f)(lt,Ft)),At&&(ke||tn)?lt+=`#comment-${At}${tn?"-reply":""}`:jt&&(lt+="#input"),At&&Pn&&(lt+=`/comment/${Pn}#comment-${At}`),lt}function O(ht,Nt,wt){return Object(a.f)(`/publish/post/${Nt}`,wt)}function s(ht,Nt){return Nt.custom_domain&&ht?"1":void 0}function r(ht,{addBase:Nt,params:wt,signedIn:yt}={}){const Qe=s(yt,ht),At=Nt?Object(a.c)(ht):"";return Object(a.f)(`${At}/account`,m({lli:Qe},wt))}var i=t(141),h=Object.defineProperty,v=Object.defineProperties,j=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,P=(ht,Nt,wt)=>Nt in ht?h(ht,Nt,{enumerable:!0,configurable:!0,writable:!0,value:wt}):ht[Nt]=wt,A=(ht,Nt)=>{for(var wt in Nt||(Nt={}))b.call(Nt,wt)&&P(ht,wt,Nt[wt]);if(y)for(var wt of y(Nt))E.call(Nt,wt)&&P(ht,wt,Nt[wt]);return ht},_=(ht,Nt)=>v(ht,j(Nt));function M(ht,{root:Nt,user:wt,addBase:yt,params:Qe={}}={}){return Nt?/[&?]$/.test(Nt)||(Nt.includes("?")||Nt.endsWith("%%")?Nt+="&":Nt+="?"):Nt=yt?`${Object(a.c)(ht)}/subscribe?`:"/subscribe?",(wt==null?void 0:wt.email)&&(Qe.autoSubmit=!0,Qe.email=wt==null?void 0:wt.email),Nt+Object(a.g)(Qe)}function F(ht){return`/api/v1/presubscribe/${ht.id}`}function H({pubId:ht,postId:Nt,commentId:wt,params:yt}){return Object(a.f)(`${Object(a.e)()}/chat${ht?`/${ht}`:""}${Nt?`/post/${Nt}`:""}${wt?`/reply/${wt}`:""}`,yt)}function C(ht,{root:Nt,addBase:wt,params:yt={}}={}){return Nt?/[&?]$/.test(Nt)||(Nt.includes("?")||Nt.endsWith("%%")?Nt+="&":Nt+="?"):Nt=wt?`${Object(a.c)(ht)}/donate?`:"/donate?",Nt+Object(a.g)(yt)}function T(ht,{root:Nt,user:wt,addBase:yt,offerCode:Qe,params:At={}}){return Nt?/[&?]$/.test(Nt)||(Nt.includes("?")||Nt.endsWith("%%")?Nt+="&":Nt+="?"):Nt=yt?`${Object(a.c)(ht)}/subscribe/offer/${Qe}?`:`/subscribe/offer/${Qe}?`,(wt==null?void 0:wt.email)&&(At.autoSubmit=!0,At.email=wt==null?void 0:wt.email),Nt+Object(a.g)(At)}function S(ht,{utm_source:Nt}={}){return Object(a.f)(`${Object(a.c)(ht)}/account/billing?details`,{utm_source:Nt})}function D(ht,{utm_source:Nt}={}){return Object(a.f)(`${Object(a.c)(ht)}/account/email-test`,{utm_source:Nt})}function w({pub:ht}){return`${Object(a.c)(ht)}/account/gifts`}function U({utm_source:ht}={}){return Object(a.f)(`${Object(a.e)()}/account/email`,{utm_source:ht})}function V(ht,{addBase:Nt,baseUrlOptions:wt}={}){return`${Nt?Object(a.c)(ht,wt):""}/publish`}function K(ht,{addBase:Nt=!1,baseUrlOptions:wt={},section:yt="",params:Qe}={}){let At=Object(a.f)(`${V(ht,{addBase:Nt,baseUrlOptions:wt})}/settings`,Qe);return yt&&(At+=`#${yt}`),At}function Y(ht,{addBase:Nt=!1,baseUrlOptions:wt={},params:yt}={}){return Object(a.f)(`${V(ht,{addBase:Nt,baseUrlOptions:wt})}/groups`,yt)}function W(ht,{addBase:Nt,params:wt}={}){const Qe=`${Nt?Object(a.c)(ht):""}/publish`;return wt?Object(a.f)(Qe,wt):Qe}function R(ht,{addBase:Nt,params:wt}={}){const Qe=`${Nt?Object(a.c)(ht):""}/publish/dashboard`;return wt?Object(a.f)(Qe,wt):Qe}function B(ht,{addBase:Nt,params:wt}={}){const Qe=`${Nt?Object(a.c)(ht):""}/publish/subscribers`;return wt?Object(a.f)(Qe,wt):Qe}function x(ht,Nt,{addBase:wt,params:yt,referrer:Qe}={}){const jt=`${wt?Object(a.c)(ht):""}/meetings/book/${Nt}`,ke=_(A({},yt),{referrer:Qe});return yt||Qe?Object(a.f)(jt,ke):jt}function G(ht,{addBase:Nt,params:wt,referrer:yt}={}){const At=`${Nt?Object(a.c)(ht):""}/meetings`,jt=_(A({},wt),{referrer:yt});return wt||yt?Object(a.f)(At,jt):At}function Q(ht,{addBase:Nt,params:wt,filter:yt}={}){const At=`${Nt?Object(a.c)(ht):""}/publish/meetings/${yt!=null?yt:"upcoming"}`;return wt?Object(a.f)(At,wt):At}function he(){return Object(a.b)(`open.${a.i}`)}function Z({user_id:ht,user_name:Nt,utm_source:wt,utm_campaign:yt,redirect:Qe}){let At=`${he()}/users/${ht}`;const jt=Object(e.cleanSlug)(Nt,{hashIfEmpty:!0});return jt&&(At+=`-${jt}`),Object(a.f)(At,{utm_source:wt,utm_campaign:yt,redirect:Qe})}function le({utm_source:ht,utm_campaign:Nt}){return Object(a.f)(`${he()}/chat`,{utm_source:ht,utm_campaign:Nt})}function de({subdomain:ht,utm_source:Nt,utm_campaign:wt,redirect:yt}){return Object(a.f)(`${he()}/pub/${ht}`,{utm_source:Nt,utm_campaign:wt,redirect:yt})}function be({pubKey:ht,utm_source:Nt,utm_campaign:wt,redirect:yt,modal:Qe}){return Object(a.f)(`${he()}/pub/${ht}/chat`,{utm_source:Nt,utm_campaign:wt,redirect:yt,modal:Qe})}function X({postId:ht,utm_source:Nt,utm_campaign:wt,redirect:yt,modal:Qe}){return Object(a.f)(`${he()}/chat/posts/${ht}`,{utm_source:Nt,utm_campaign:wt,redirect:yt,modal:Qe})}function ie(ht,{urlParams:Nt}={}){return Object(o.k)(ht,{baseUrl:he(),urlParams:Nt})}function Ce({pub:ht,postId:Nt,modal:wt,query:yt}){return Object(a.f)(`${Object(a.c)(ht)}/chat${Nt?`/posts/${Nt}`:""}`,A({modal:wt},yt))}function Le({pub:ht,params:Nt,section:wt}){return wt?Object(a.f)(`${Object(a.c)(ht)}/listen/${wt.slug}/archive`,Nt):Object(a.f)(`${Object(a.c)(ht)}/podcast/archive`,Nt)}function Ae(ht,Nt,{quality:wt="auto:good",format:yt="auto",crop:Qe="limit",lossy:At=!1,gravity:jt=null,height:ke=null,aspect:tn=null,version:Pn=null,smartCrop:Ft=!1,skipDomainValidation:lt=!1,leadingSegments:Rt=[],trailingSegments:ln=[]}={}){var Mt;if(!ht)return ht;ht.startsWith("/")&&!ht.startsWith("//")&&(ht=Object(a.e)()+ht),ht=Pe(ht);try{if(new URL(ht).hostname.endsWith(".localhost"))return ht}catch($t){}if(typeof window!="undefined"&&((Mt=window==null?void 0:window.location)==null?void 0:Mt.hostname)&&["subwit.com","herokuapp.com"].reduce(($t,nn)=>$t||window.location.hostname.endsWith(nn),!1)&&(ht=ht.replace("//substack.com",`//${window.location.hostname}`)),ht.startsWith("https://substackcdn.com")||ht.startsWith(a.a))return ht;if(ht.startsWith("https://d3b3sm9t19x0yd.cloudfront.net"))return ht.replace(/^https:\/\/d3b3sm9t19x0yd\.cloudfront\.net/,a.a);if(ht.startsWith("https://res.cloudinary.com"))return ht.replace(/^https:\/\/res\.cloudinary\.com\/[^/]+/,a.a);if(!lt&&!ht.match(/^https?:\/\/(bucketeer[^/]*\.s3\.amazonaws\.com|(.*\.)?substack\.com|substack-post-media\.s3\.amazonaws\.com|substack-post-media-staging\.s3\.amazonaws\.com|substack-video\.s3\.amazonaws\.com|substack-video-staging\.s3\.amazonaws\.com|substack-staging-pr-\d+\.herokuapp\.com|.*\.ngrok\.io|.*\.subwit\.com|www\.shatnerchatner\.com|cyberrisk\.news|proofofwork\.news|www\.trapital\.co|www\.truehoop\.com|www\.creditwritedowns\.com|sinocism\.com|nb\.sinocism\.com|popular\.info|robertcottrell\.com|pbs\.twimg\.com|www\.theupside\.us|www\.exponentialview\.co|storage\.opensea\.io).*/))return ht;if(Ft&&Nt&&ke){const $t=Ne(ht);if($t){const nn=Nt/ke,Bt=$t.width/$t.height;(nn<1&&Bt>=1||nn>=1&&Bt<1||nn===1&&Bt>=1||nn===1&&Bt<=1)&&Math.abs(nn-Bt)>=.5&&(Qe="fill",jt="auto")}}return`${a.a}/image/fetch/${Rt.concat([[Nt&&`w_${Nt}`,ke&&`h_${ke}`,Qe&&(Nt||ke)&&`c_${Qe}`,yt&&`f_${yt}`,wt&&`q_${wt}`,`fl_${At?"lossy":"progressive:steep"}`,jt&&`g_${jt}`,tn&&`ar_${tn}`].filter($t=>$t).join(",")]).concat(ln).join("/")}/${encodeURIComponent(ht+(Pn?`${ht.indexOf("?")!==-1?"&":"?"}version=${Pn}`:""))}`}function Pe(ht){if(!ht)return ht;const Nt=[/^https:\/\/substackcdn\.com\/image\/fetch\/[^/]+\/(.+)$/i,/^https:\/\/substackcdn\.net\/image\/fetch\/[^/]+\/(.+)$/i,/^https:\/\/cdn\.substack\.com\/image\/fetch\/[^/]+\/(.+)$/i,/^https:\/\/cdn\.substack\.info\/image\/fetch\/[^/]+\/(.+)$/i,/^https:\/\/d3b3sm9t19x0yd\.cloudfront\.net\/image\/fetch\/[^/]+\/(.+)$/i,/^https:\/\/res\.cloudinary\.com\/hhsslviub\/image\/fetch\/[^/]+\/(.+)$/i];for(const wt of Nt){const yt=wt.exec(ht);if(yt)return decodeURIComponent(yt[1])}return ht}function Ne(ht){const Nt=ht.match(/(\d+)x(\d+)\.\w+$/);return Nt?{width:+Nt[1],height:+Nt[2]}:null}function ce(ht,Nt){return`${Object(a.c)(ht)}/api/v1/custom-publication-theme/${Nt.id}/preview`}function q(ht){return`${Object(a.c)(ht)}/api/v1/custom-publication-theme/disable-preview`}const te="https://substack.link/chat-faq",ue="https://substack.link/chat-examples";function We(ht){const Nt=ht.trim();if(/\s/.test(Nt))return null;try{const wt=new URL(Nt);return["http:","https:"].includes(wt.protocol)?wt:null}catch(wt){return null}}const ot=(ht,Nt,wt,yt)=>{switch(ht){case"user":default:return Z({user_id:Nt,user_name:wt,utm_source:"mentions"});case"pub":return yt?Object(a.f)(yt,{utm_source:"mentions"}):""}};function ze(ht){var Nt;const wt=We(ht);if(!wt)return null;const yt=(Nt=wt.pathname.match(/^\/p\/([^\/]+)$/))==null?void 0:Nt[1];if(!yt)return null;let Qe,At;return wt.hostname.endsWith(`.${a.j.hostname}`)?Qe=wt.hostname.split(".")[0]:At=wt.hostname,{slug:yt,subdomain:Qe,customDomain:At}}function vt(ht,Nt,{addBase:wt=!1,query:yt={}}={}){return Object(a.f)(`${wt?Object(a.c)(ht):""}/t/${Nt.slug}`,yt)}const Wt=({section:ht})=>`/publish/settings/new_podcast/${ht.id}`,zt=({section:ht})=>ht?`/publish/import/podcast/${ht.id}`:"",at=({pub:ht,addBase:Nt})=>`${Nt?Object(a.c)(ht):""}/publish/settings/podcast/edit`,Me=({pub:ht,section:Nt,addBase:wt,referrer:yt})=>Nt?`${wt?Object(a.c)(ht):""}/publish/settings/podcast/${Nt.id}${yt?`?referrer=${yt}`:""}`:(console.error("section is missing when passed to getEditSectionPodcastUrl"),""),Be="https://dashboard.stripe.com",Xe=(ht,Nt)=>`${Be}/${ht.stripe_user_id}/prices/${Nt}`,Te=(ht,Nt)=>`${Be}/${ht.stripe_user_id}/invoices/${Nt}`;function we(ht){const Nt=ht.html.map(wt=>{var yt;const Qe=(yt=wt.match(/href="([^"]+)"/))==null?void 0:yt[1];return Qe?wt.replace(Qe,Ae(Qe)):wt});return _(A({},ht),{html:Nt})}function De(ht){return ht?ht.startsWith("https://images.unsplash.com/"):!1}function Ie(ht){if(ht){if(ht.startsWith(a.a)||ht.startsWith("https://res.cloudinary.com")||ht.startsWith("https://bucketeer"))return!0;const{SUBSTACK_POST_MEDIA_BUCKET_NAME:Nt}=t(10);if(ht.startsWith(`https://${Nt}.s3.amazonaws.com`))return!0}return!1}function He(ht){if(!ht)return!1;const{hostname:Nt,pathname:wt}=new URL(ht);return Nt.startsWith("open.substack.com")?wt.startsWith("/pub/")&&wt.includes("/p/"):!1}function Ve(ht,Nt,{addBase:wt}={}){var yt,Qe;return Nt.section?z(ht,{addBase:wt,section:Nt.section}):Nt.post?p(ht,Nt.post,{noBase:!wt}):Nt.postTag?vt(ht,Nt.postTag,{addBase:wt}):wt&&/^\/[^/]/.test((yt=Nt.link_url)!=null?yt:"")?`${Object(a.c)(ht)}${Nt.link_url}`:(Qe=Nt.link_url)!=null?Qe:""}function z(ht,{addBase:Nt,section:wt}={}){if(wt=wt||(ht==null?void 0:ht.section),!wt)throw new Error("Section not found");return`${Nt?Object(a.c)(ht):""}/s/${wt.slug||wt.id}`}const se=(ht,{addBase:Nt,params:wt}={})=>{const yt=Nt&&ht?Nu.getBaseUrl(ht):"";return Se(A({base:yt},wt))},Se=ht=>{var Nt;const wt=`${(Nt=ht==null?void 0:ht.base)!=null?Nt:""}/api/v1/twitter/authorize`;return ht?Object(a.f)(wt,ht):wt};function Oe(ht){return`${Object(a.c)()}/inbox/post/${ht}`}function ge(ht){const Nt=/^https?:\/\/open\.substack\.com\/pub\/([^\/]+)$/,wt=/^https?:\/\/([^\.]+)\.substack\.com$/;let yt=ht.match(Nt);return!yt&&(yt=ht.match(wt),!yt)?null:yt[1]}function je(ht){ht=(ht||"").toLowerCase();const Nt=ht.match(/^\s*(\w+)\s*$/);if(Nt)return Nt[1];const wt=ht.match(/\w+(\.\w+)+/);if(wt){let yt=wt[0];return yt.includes("substack")&&(yt=yt.split(".")[0]),yt}}function it(ht,Nt){return je(ht)===je(Nt)}function Tt(ht){return`${Object(a.e)()}/profile/${ht}/hc-violation-form`}const sn=(ht,{addBase:Nt,params:wt}={})=>{const yt=Nt?Object(a.c)(ht):"";return Object(a.f)(`${yt}/account/cancel`,wt)}},function(k,n,t){"use strict";(function(e){t.d(n,"i",function(){return l}),t.d(n,"a",function(){return d}),t.d(n,"b",function(){return c}),t.d(n,"h",function(){return u}),t.d(n,"j",function(){return f}),t.d(n,"d",function(){return m}),t.d(n,"g",function(){return p}),t.d(n,"f",function(){return g}),t.d(n,"c",function(){return O}),t.d(n,"e",function(){return s});var a=t(311),o=t.n(a);const l=a.REVIEW_ENV_SUBDOMAIN?`${a.REVIEW_ENV_SUBDOMAIN}.substack.info`:e.env.SUBSTACK_DOMAIN||"substack.com",d="https://substackcdn.com";function c(r){let i="https://",h="";return i+r+h}const u=c(l),f=new URL(u);function m(r,{forceSubdomain:i=!1}={}){if(e.env.LOCAL_HOSTNAME)return e.env.LOCAL_HOSTNAME;if(r&&r.custom_domain&&!r.custom_domain_optional&&!i)return r.custom_domain;let h=l;return r&&r.subdomain!=="www"&&(h=`${r.subdomain}.${h}`),h}function p(r){return Object.keys(r).filter(i=>typeof r[i]!="undefined"&&r[i]!==null).map(i=>`${encodeURIComponent(i)}=${encodeURIComponent(r[i])}`).join("&")}function g(r,i){if(!r)return"";if(!i)return r;const h=p(i),v=h?r.indexOf("?")===-1?"?":"&":"";return`${r}${v}${h}`}function O(r,{forceSubdomain:i=!1}={}){if(r==null?void 0:r.rss_website_url)try{return new URL(r.rss_website_url).origin}catch(v){return r.rss_website_url}else if(r==null?void 0:r.base_url)return r.base_url;const h=m(r,{forceSubdomain:i});return c(h)}function s(){return O()}}).call(this,t(195))},function(k,n,t){var e=Object.defineProperty,a=Object.defineProperties,o=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,u=(O,s,r)=>s in O?e(O,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):O[s]=r,f=(O,s)=>{for(var r in s||(s={}))d.call(s,r)&&u(O,r,s[r]);if(l)for(var r of l(s))c.call(s,r)&&u(O,r,s[r]);return O},m=(O,s)=>a(O,o(s));const p=t(97);k.exports=p,p.extend(t(607)).extend(t(608)).extend(t(609)).extend(t(610)).extend(t(611)).extend(t(412)).extend(t(612)).extend(t(613)).extend(t(614)).extend(t(615)).extend(t(616)).extend(t(617)).extend(t(618)).extend(t(619)).extend(t(620)).extend(t(621)).extend(t(412)).extend(g);function g(O,s,r){s.prototype.standardDateOrTime=function({long:j=!1}={}){if(this.add(1,"day").isBeforeNow())return this.standardDate();{const{secondsToLargestUnit:y}=t(10),b=r().diff(this,"seconds");return b<60?"just now":`${y(b,{long:j})} ago`}},s.prototype.startOfLastWeekday=function(){return(this.day()>1?this.subtract(1,"day"):this.subtract(this.day()+2,"day")).utc().startOf("day")},s.prototype.readerDateTime=function(){const j=this.diff(r(),"day");let y;return j===0?y=this.format("h:mm a"):j===-1?y="Yesterday":j>-7?y=this.standardDate():y=this.standardDate(),y},s.prototype.standardDate=function({full:j=!1}={}){return!j&&this.isSame(r(),"year")?this.format("MMM D"):this.format("MMM D, YYYY")},s.prototype.standardTime=function(){return this.format("MM-DD-YYYY")===r().format("MM-DD-YYYY")?this.format("h:mm a"):this.standardDate()},s.prototype.standardTimeWithSeconds=function(){return this.format("MM-DD-YYYY")===r().format("MM-DD-YYYY")?this.format("h:mm:ss a"):this.standardDate()},s.prototype.standardDatetime=function(){return this.format("MMM D [at] h:mm a")},s.prototype.standardDatetimeWithYear=function(){const j=r().year();return this.year()!=j?this.format("MMM D, YYYY [at] h:mm a"):this.format("MMM D [at] h:mm a")},s.prototype.min=function(...j){let y=this;for(let b of j)b=r(b),y.isAfter(b)&&(y=b);return y},s.prototype.max=function(...j){let y=this;for(let b of j)b=r(b),y.isBefore(b)&&(y=b);return y},s.prototype.minNow=function(){return this.min(r())},s.prototype.maxNow=function(){return this.max(r())},s.prototype.isBeforeNow=function(j){return this.isBefore(r(),j)},s.prototype.isAfterNow=function(j){return this.isAfter(r(),j)},s.prototype.isSameNow=function(j){return this.isSame(r(),j)};const i=r.en,h=m(f({},i),{relativeTime:{future:"in %s",past:"%s",s:"just now",m:"1m",mm:"%dm",h:"1h",hh:"%dh",d:"1d",dd:"%dd",M:"1mo",MM:"%dmo",y:"1y",yy:"%dy"}}),v=r.locale();r.locale("enshort",h),r.locale(v),s.prototype.fromNowShort=function(){return i?this.locale("enshort").fromNow():this.fromNow()}}},function(k,n,t){"use strict";t.d(n,"a",function(){return E}),t.d(n,"h",function(){return P}),t.d(n,"d",function(){return A}),t.d(n,"i",function(){return M}),t.d(n,"f",function(){return H}),t.d(n,"g",function(){return C}),t.d(n,"c",function(){return T}),t.d(n,"b",function(){return S}),t.d(n,"e",function(){return w});var e=t(1),a=t(180),o=t.n(a),l=t(322),d=t.n(l),c=t(12),u=t.n(c),f=t(9),m=t.n(f),p=Object.defineProperty,g=Object.defineProperties,O=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,h=(U,V,K)=>V in U?p(U,V,{enumerable:!0,configurable:!0,writable:!0,value:K}):U[V]=K,v=(U,V)=>{for(var K in V||(V={}))r.call(V,K)&&h(U,K,V[K]);if(s)for(var K of s(V))i.call(V,K)&&h(U,K,V[K]);return U},j=(U,V)=>g(U,O(V)),y=(U,V)=>{var K={};for(var Y in U)r.call(U,Y)&&V.indexOf(Y)<0&&(K[Y]=U[Y]);if(U!=null&&s)for(var Y of s(U))V.indexOf(Y)<0&&i.call(U,Y)&&(K[Y]=U[Y]);return K},b=(U,V,K)=>new Promise((Y,W)=>{var R=G=>{try{x(K.next(G))}catch(Q){W(Q)}},B=G=>{try{x(K.throw(G))}catch(Q){W(Q)}},x=G=>G.done?Y(G.value):Promise.resolve(G.value).then(R,B);x((K=K.apply(U,V)).next())});const E={result:null,isLoading:!1,hasLoadedOnce:!1,error:null,promise:null,refetch:()=>Promise.resolve(null),clearError:()=>{},setResult:()=>{}};function P(U,V,{auto:K,initialResult:Y}={}){const[W,R]=Object(e.l)({result:Y||null,isLoading:Boolean(K),hasLoadedOnce:!1,error:null,promise:null}),B=()=>{R(j(v({},W),{error:null}))},x=(Q={})=>{var he=Q,{abortController:Z=new o.a}=he,le=y(he,["abortController"]);const de=U(j(v({},le),{signal:Z.signal})).then(be=>{if(!Z.signal.aborted)return R({isLoading:!1,hasLoadedOnce:!0,error:null,result:be,promise:null}),be},be=>{if(!Z.signal.aborted)return R(X=>j(v({},X),{isLoading:!1,error:be,result:null,promise:null})),be});return R(be=>j(v({},be),{isLoading:!0,error:null,promise:de})),de},G=Q=>{R(he=>j(v({},he),{error:null,result:Q,isLoading:!1,promise:null}))};return Object(e.d)(()=>{if(K){const Q=new o.a;return x({abortController:Q}),()=>{Q.abort()}}},V||[]),j(v({},W),{refetch:x,setResult:G,clearError:B})}function A(U,V){switch(V.type){case"page_reset":return[{isLoading:!0,error:null,result:null}];case"page_start":{const K=U.slice(),{page:Y,id:W}=V.payload;return K[Y]={result:null,id:W,isLoading:!0,error:null},K}case"page_load":{const{id:K,result:Y}=V.payload;return U.map(W=>W.id===K?j(v({},W),{isLoading:!1,result:Y,error:null}):W)}case"page_error":{const{id:K,error:Y}=V.payload;return U.map(W=>W.id===K?j(v({},W),{isLoading:!1,result:null,error:Y}):W)}}return U}function _(U,V,{auto:K,initialResult:Y,pages:W,dispatch:R}={}){var B;const[x,G]=Object(e.j)(A,[{result:Y||null,isLoading:Boolean(K),error:null}]),Q=W!=null?W:x,he=R!=null?R:G,Z=(ie={})=>{var Ce=ie,{abortController:Le=new o.a,page:Ae=Q.length}=Ce,Pe=y(Ce,["abortController","page"]);const Ne=Q[Ae-1],ce=d()();return he({type:"page_start",payload:{page:Ae,id:ce}}),U({options:Pe,signal:Le.signal,page:Ae,lastPage:Ne}).then(q=>{if(!Le.signal.aborted)return he({type:"page_load",payload:{page:Ae,id:ce,result:q}}),q},q=>{if(!Le.signal.aborted)return he({type:"page_error",payload:{page:Ae,id:ce,error:q}}),q})},le=ie=>(he({type:"page_reset"}),Z(j(v({},ie),{page:0})));Object(e.d)(()=>{if(K){const ie=new o.a;return le({abortController:ie}),()=>{ie.abort()}}},V||[]);let de=!1;const be=()=>b(this,null,function*(){if(!de){const ie=Q[Q.length-1];if(!ie.isLoading&&!ie.error)return de=!0,yield Z()}}),X=Q[Q.length-1];return{pages:Q,page:Q.length,lastPage:X,fetchMore:be,canFetchMore:X&&!X.isLoading&&!X.error,fetchFirstPage:le,hasLoadedOnce:Boolean((B=Q[0])==null?void 0:B.result)}}function M(U){var V=U,{auto:K,initialResult:Y,deps:W}=V,R=y(V,["auto","initialResult","deps"]);return P(B=>b(this,null,function*(){var x=B,{signal:G}=x,Q=y(x,["signal"]);const{pathname:he="",query:Z,body:le,method:de="get"}=v(v({},R),Q),be=u()(de.toUpperCase(),he);Z&&be.query(Z),le&&be.send(le),G.addEventListener("abort",()=>{be.abort()});const X=yield be;if(G.aborted)return;const ie=X.error;if(ie)throw ie;return X.body}),W||[],{auto:K,initialResult:Y})}const F=new Map;function H(U){var V=U,{pathname:K,auto:Y,initialResult:W,deps:R,cacheTtl:B}=V,x=y(V,["pathname","auto","initialResult","deps","cacheTtl"]);const G=P(he=>{var Z=he,{pathname:le}=Z,de=y(Z,["pathname"]);if(!K)throw new Error("useFetch requires a pathname");if(B){const X=F.get(K);if(X){const{ts:ie,ttl:Ce,promise:Le}=X;if(ie+Ce>Date.now())return Le}}const be=T(le!=null?le:K,v(v({},x),de));return B&&F.set(K,{ts:Date.now(),ttl:B,promise:be}),be},R||[],{auto:Y,initialResult:W}),Q=he=>{K&&B&&F.set(K,{ts:Date.now(),ttl:B,promise:Promise.resolve(he)}),G.setResult(he)};return j(v({},G),{setResult:Q})}function C(U){var V=U,{pathname:K,auto:Y,initialResult:W,deps:R,getPageInit:B,pages:x,dispatch:G}=V,Q=y(V,["pathname","auto","initialResult","deps","getPageInit","pages","dispatch"]);return _(({page:he,lastPage:Z,options:le})=>{if(!K)throw new Error("useFetch requires a pathname");const de=B({init:v(v({},Q),le),page:he,lastPage:Z});return T(K,de)},R||[],{auto:Y,initialResult:W,pages:x,dispatch:G})}function T(U){return b(this,arguments,function*(V,K={}){var Y;const R=v({cache:"no-cache"},K),{query:B,json:x}=R,G=y(R,["query","json"]);let Q=V;if(B){let Z;B instanceof URLSearchParams?Z=B:Z=new URLSearchParams(Object.entries(B).filter(([de,be])=>be!==void 0));const le=Z.toString();le&&(V.indexOf("?")!==-1?Q+=`&${le}`:Q+=`?${le}`)}x&&(G.body=JSON.stringify(x),G.headers instanceof Headers||(G.headers=new Headers(G.headers)),G.headers.set("Content-Type","application/json"));const he=yield fetch(Q,G);if(!he.ok){let Z;try{Z=yield he.json()}catch(le){Z={}}throw new S(he,Z)}return["DELETE","HEAD"].includes((Y=G==null?void 0:G.method)!=null?Y:"")?{}:he.json()})}class S extends Error{constructor(V,K){super();this.response=V,this.body=K}getMessage(V){return Object(f.getNetworkErrorMessageFromResponse)(this.body,V)}}function D(U,V="Something went wrong."){return U instanceof S?U.getMessage():V}function w(U,V,K){const[Y,W]=Object(e.l)(null);return Object(e.a)((...R)=>{clearTimeout(Y),W(null),W(setTimeout(()=>U(...R),V))},[Y,...K])}},function(k,n,t){"use strict";t.d(n,"b",function(){return y.a}),t.d(n,"a",function(){return b.a}),t.d(n,"y",function(){return D}),t.d(n,"v",function(){return w}),t.d(n,"D",function(){return U}),t.d(n,"m",function(){return V}),t.d(n,"l",function(){return K}),t.d(n,"P",function(){return Y}),t.d(n,"B",function(){return W}),t.d(n,"A",function(){return R}),t.d(n,"t",function(){return B}),t.d(n,"q",function(){return x}),t.d(n,"g",function(){return G}),t.d(n,"J",function(){return Q}),t.d(n,"I",function(){return he}),t.d(n,"H",function(){return Z}),t.d(n,"u",function(){return le}),t.d(n,"i",function(){return de}),t.d(n,"o",function(){return X}),t.d(n,"R",function(){return ie}),t.d(n,"Q",function(){return Ce}),t.d(n,"S",function(){return Le}),t.d(n,"C",function(){return Ae}),t.d(n,"G",function(){return Ne}),t.d(n,"x",function(){return ce}),t.d(n,"d",function(){return O.b}),t.d(n,"e",function(){return O.c}),t.d(n,"z",function(){return te}),t.d(n,"r",function(){return ue}),t.d(n,"w",function(){return We}),t.d(n,"s",function(){return ot}),t.d(n,"n",function(){return ze}),t.d(n,"O",function(){return vt}),t.d(n,"M",function(){return Wt}),t.d(n,"E",function(){return zt}),t.d(n,"N",function(){return at}),t.d(n,"k",function(){return Me}),t.d(n,"j",function(){return Be}),t.d(n,"L",function(){return Xe}),t.d(n,"f",function(){return Te}),t.d(n,"K",function(){return we}),t.d(n,"F",function(){return De}),t.d(n,"c",function(){return Ve}),t.d(n,"h",function(){return z}),t.d(n,"p",function(){return se});var e=t(0),a=t(3),o=t(1),l=t(5),d=t.n(l),c=t(830),u=t(831),f=t(112),m=t(15),p=t(158),g=t(9),O=t(2),s=t(8),r=t(37),i=t(66),h=t(52),v=t(398),j={pageStack:"frontend-reader2-Page-module__pageStack--1UE8v",gap_0:"frontend-reader2-Page-module__gap_0--3LvNG",gap_8:"frontend-reader2-Page-module__gap_8--29h05",gap_16:"frontend-reader2-Page-module__gap_16--96PAe",linkRow:"frontend-reader2-Page-module__linkRow--1QoCL",isPadded:"frontend-reader2-Page-module__isPadded--Gbh4N",linkRowA:"frontend-reader2-Page-module__linkRowA--1qCj1",isClickable:"frontend-reader2-Page-module__isClickable--2TZNy",isSelectable:"frontend-reader2-Page-module__isSelectable--2HsPv",isSelected:"frontend-reader2-Page-module__isSelected--hKXLf",zero:"frontend-reader2-Page-module__zero--26XB8",hoverLink:"frontend-reader2-Page-module__hoverLink--2Ojz_",placeholder:"frontend-reader2-Page-module__placeholder--3zL40",travel:"frontend-reader2-Page-module__travel--3lgjX",bar:"frontend-reader2-Page-module__bar--3vHHX",circle:"frontend-reader2-Page-module__circle--2CWSI",input:"frontend-reader2-Page-module__input--3nsda",error:"frontend-reader2-Page-module__error--3-vXQ",textarea:"frontend-reader2-Page-module__textarea--3xID-",pageTopFixed:"frontend-reader2-Page-module__pageTopFixed--jRTeD"},y=t(185),b=t(269),E=Object.defineProperty,P=Object.defineProperties,A=Object.getOwnPropertyDescriptors,_=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable,H=(Se,Oe,ge)=>Oe in Se?E(Se,Oe,{enumerable:!0,configurable:!0,writable:!0,value:ge}):Se[Oe]=ge,C=(Se,Oe)=>{for(var ge in Oe||(Oe={}))M.call(Oe,ge)&&H(Se,ge,Oe[ge]);if(_)for(var ge of _(Oe))F.call(Oe,ge)&&H(Se,ge,Oe[ge]);return Se},T=(Se,Oe)=>P(Se,A(Oe)),S=(Se,Oe)=>{var ge={};for(var je in Se)M.call(Se,je)&&Oe.indexOf(je)<0&&(ge[je]=Se[je]);if(Se!=null&&_)for(var je of _(Se))Oe.indexOf(je)<0&&F.call(Se,je)&&(ge[je]=Se[je]);return ge};function D({children:Se}){const Oe=Object(r.a)();return Object(e.h)(q,null,Oe?Object(e.h)(s.b.H2,null,Se):Object(e.h)(s.b.H1,null,Se))}function w({className:Se,children:Oe,title:ge,hasTitle:je}){return Object(e.h)("div",{className:d()("reader2-page-section",(ge||je)&&"withTitle",Se)},ge&&Object(e.h)(U,null,ge),Oe)}function U({children:Se,className:Oe,actions:ge}){return Object(e.h)("div",{className:d()("reader2-section-title",Oe)},Object(e.h)("span",{className:"reader2-text-h3 reader2-section-title"},Se),ge&&Object(e.h)("div",{className:"reader2-header-actions"},ge))}const V=Object(a.forwardRef)((Se,Oe)=>{var ge=Se,{isPadded:je=!0,className:it,linkClassName:Tt}=ge,sn=S(ge,["isPadded","className","linkClassName"]);return Object(e.h)("div",{ref:Oe,className:d()(j.linkRow,je&&j.isPadded,it)},Object(e.h)(K,T(C({},sn),{className:Tt})))});function K(Se){var Oe=Se,{children:ge,className:je,href:it,newTab:Tt,onClick:sn,noAnchor:ht,native:Nt,utmCampaign:wt,utmSource:yt,isSelected:Qe}=Oe,At=S(Oe,["children","className","href","newTab","onClick","noAnchor","native","utmCampaign","utmSource","isSelected"]);const jt=typeof location!="undefined"?location.pathname:"",ke=!ht&&it!=null?"a":"div",tn=it&&Object(m.pathWithQuery)(it,{utm_source:yt||jt,utm_medium:"reader2",utm_campaign:wt}),Pn=Ft=>{sn&&sn(Ft),!Ft.defaultPrevented&&ht&&tn&&Object(p.a)(Ft,tn,{native:Nt,newTab:Tt})};return Object(e.h)(O.a,C({as:ke,className:d()(j.linkRowA,je,(tn||sn)&&Qe==null&&j.isClickable,Qe&&j.isSelected,Qe!=null&&j.isSelectable),"data-selected":Qe,href:tn,target:Tt?"_blank":void 0,onClick:Pn},At),ge)}function Y({icon:Se,title:Oe,text:ge,action:je,className:it}){return Object(e.h)(O.b,{gap:16,alignItems:"center",justifyContent:"center",flex:"grow",className:d()(j.zero,it)},Se,Object(e.h)(O.b,{gap:4},Object(e.h)(s.b.B3,{weight:"medium",color:"secondary"},Oe),Object(e.h)(s.b.B4,{color:"secondary"},ge)),je)}function W({className:Se,style:Oe,type:ge,width:je,height:it,size:Tt,maxWidth:sn}){Tt!=null&&(je=Tt,it=Tt);const ht=ge==="bar";return Object(e.h)("div",{className:d()(j.placeholder,Se,ht&&j.bar,ge==="circle"&&j.circle),style:T(C({},Oe),{width:je,height:it,maxWidth:sn})})}function R(Se){var Oe=Se,{className:ge,variant:je,size:it,serif:Tt,isConstrained:sn,maxLines:ht=3}=Oe,Nt=S(Oe,["className","variant","size","serif","isConstrained","maxLines"]);return Object(e.h)("div",C({className:d()("reader2-paragraph",je&&`reader2-${je}`,it&&`reader2-font-${it}`,Tt&&"reader2-font-serif",sn&&`reader2-clamp-lines reader2-${ht}-lines`,ge)},Nt))}function B({className:Se,children:Oe}){return Object(e.h)("div",{className:d()("reader-nav-center",Se)},Object(e.h)("div",{className:"reader2-page reader2-font-base"},Oe))}function x({className:Se,scrollRef:Oe,children:ge}){return Object(e.h)(le,{ref:Oe},Object(e.h)(B,{className:Se},ge))}function G(Se){var Oe=Se,{scrollRef:ge}=Oe,je=S(Oe,["scrollRef"]);return Object(e.h)(le,{ref:ge},Object(e.h)(O.a,T(C({},je),{flex:"grow",paddingX:{mobile:0,desktop:20}})))}function Q(Se){return Object(f.useMediaQuery)({minWidth:1100})?Object(e.h)(O.b,C({className:"reader2-inbox-sidebar",paddingTop:20},Se)):null}function he(Se){return Object(e.h)(O.a,C({alignItems:"center",justifyContent:"space-between",paddingY:12,paddingX:8},Se))}function Z(Se){return Object(e.h)(O.b,C({gap:16,paddingX:8},Se))}const le=Object(a.forwardRef)((Se,Oe)=>Object(e.h)(v.a,null,Object(e.h)("div",C({id:"reader-nav-page-scroll",className:"reader-nav-page-scroll",ref:Oe},Se)))),de=Object(a.forwardRef)((Se,Oe)=>{var ge=Se,{className:je,hasError:it}=ge,Tt=S(ge,["className","hasError"]);return Object(e.h)("input",T(C({className:d()(j.input,it&&j.error,je)},Tt),{ref:Oe}))});function be(Se){var Oe=Se,{className:ge,hasError:je,textareaRef:it}=Oe,Tt=S(Oe,["className","hasError","textareaRef"]);return Object(e.h)("textarea",C({ref:it,className:d()(j.input,j.textarea,je&&j.error,ge)},Tt))}function X({error:Se}){return Object(e.h)(Te,null,Object(g.getNetworkErrorMessage)(Se))}const ie=({header:Se,icon:Oe,title:ge,text:je,action:it})=>Object(e.h)(w,{title:Se},Object(e.h)(Ce,{icon:Oe,title:ge,text:je,action:it}));function Ce(Se){return Object(e.h)(O.b,{bg:"secondary",border:"detail",radius:12,paddingX:20,paddingY:64,justifyContent:"center",alignItems:"center",flex:"grow"},Object(e.h)(Y,C({},Se)))}const Le=(Se,{initialState:Oe}={})=>{const[ge,je]=Object(o.l)(Oe||{showLeft:!1,showRight:!0});return Object(o.d)(()=>{const{current:Tt}=Se;if(Tt){const sn=()=>{je(ht=>{let Nt=ht;!Nt.showLeft&&Tt.scrollLeft>0?Nt=T(C({},ht),{showLeft:!0}):Nt.showLeft&&Tt.scrollLeft<=0&&(Nt=T(C({},ht),{showLeft:!1}));const wt=Tt.scrollWidth-Tt.offsetWidth-4;return!Nt.showRight&&Tt.scrollLeft<wt?Nt=T(C({},ht),{showRight:!0}):Nt.showRight&&Tt.scrollLeft>=wt&&(Nt=T(C({},ht),{showRight:!1})),Nt})};return Tt.addEventListener("scroll",sn),setTimeout(()=>{sn()},1e3),()=>{Tt.removeEventListener("scroll",sn)}}},[]),{state:ge,handleArrowClick:Tt=>()=>{const{current:sn}=Se;sn&&sn.scrollBy({left:Tt*sn.offsetWidth,behavior:"smooth"})}}};function Ae({tabs:Se,value:Oe,onChange:ge}){const je=Object(o.k)(),{state:it,handleArrowClick:Tt}=Le(je);return Object(e.h)(O.c,{className:"reader2-tab-bar-parent"},it.showLeft&&Object(e.h)("div",{className:"reader2-carousel-fade left"},Object(e.h)("div",{className:"bg"}),Object(e.h)(i.a,{look:"reset",className:"reader2-carousel-arrow left",onClick:Tt(-1)},Object(e.h)(c.a,null))),Object(e.h)(O.c,{className:"reader2-tab-bar",ref:je},Object(e.h)(Pe,{tabs:Se,value:Oe,onChange:ge})),it.showRight&&Object(e.h)("div",{className:"reader2-carousel-fade right"},Object(e.h)("div",{className:"bg"}),Object(e.h)(i.a,{look:"reset",className:"reader2-carousel-arrow",onClick:Tt(1)},Object(e.h)(u.a,null))))}function Pe({tabs:Se,value:Oe,onChange:ge}){return Object(e.h)(O.c,{gap:8},Se.map(je=>Object(e.h)(i.c,{key:je.value,isActive:Oe===je.value,onClick:()=>ge(je.value),icon:je.icon},je.label)))}function Ne({children:Se}){const Oe=Object(o.k)();return Object(e.h)(O.b,{className:"reader2-inbox-sidebar-fixed",ref:Oe},Se)}function ce(Se){var Oe=Se,{gap:ge=16}=Oe,je=S(Oe,["gap"]);return Object(e.h)(O.b,T(C({},je),{className:d()(j.pageStack,j[`gap_${ge}`])}))}const q=Object(h.a)("reader2-page-top"),te=Object(h.a)(j.pageTopFixed),ue=Object(h.a)("reader2-page-body"),We=Object(h.a)(j.pageStack),ot=Object(h.a)("reader2-page-center"),ze=Object(h.a)("reader2-modal-title-text"),vt=Object(h.a)("reader2-column tw-flex tw-flex-col tw-gap-4"),Wt=Object(h.a)("reader2-text-h3"),zt=Object(h.a)("reader2-text-h3 reader2-section-title"),at=Object(h.a)("reader2-text-h4"),Me=Object(h.a)("reader2-item-title"),Be=Object(h.a)("reader2-item-meta"),Xe=Object(h.a)("reader2-text-b4"),Te=Object(h.a)("reader2-form-error"),we=Object(h.a)("reader2-subtitle"),De=Object(h.a)("reader2-separator","hr"),Ie=Object(h.a)("reader2-page-section withTitle"),He=Object(h.a)("reader2-row reader2-split-row"),Ve=Object(h.a)("reader2-emphasis-box"),z=Object(h.a)(d()(j.hoverLink,"pencraft"),"a");function se(Se){return Object(e.h)(z,C({target:"_blank"},Se))}},function(k,n,t){"use strict";t.r(n),t.d(n,"ContentMatch",function(){return U}),t.d(n,"DOMParser",function(){return ce}),t.d(n,"DOMSerializer",function(){return De}),t.d(n,"Fragment",function(){return d}),t.d(n,"Mark",function(){return m}),t.d(n,"MarkType",function(){return Ae}),t.d(n,"Node",function(){return S}),t.d(n,"NodeRange",function(){return C}),t.d(n,"NodeType",function(){return Ce}),t.d(n,"ReplaceError",function(){return p}),t.d(n,"ResolvedPos",function(){return _}),t.d(n,"Schema",function(){return Pe}),t.d(n,"Slice",function(){return g});function e(Ve){this.content=Ve}e.prototype={constructor:e,find:function(Ve){for(var z=0;z<this.content.length;z+=2)if(this.content[z]===Ve)return z;return-1},get:function(Ve){var z=this.find(Ve);return z==-1?void 0:this.content[z+1]},update:function(Ve,z,se){var Se=se&&se!=Ve?this.remove(se):this,Oe=Se.find(Ve),ge=Se.content.slice();return Oe==-1?ge.push(se||Ve,z):(ge[Oe+1]=z,se&&(ge[Oe]=se)),new e(ge)},remove:function(Ve){var z=this.find(Ve);if(z==-1)return this;var se=this.content.slice();return se.splice(z,2),new e(se)},addToStart:function(Ve,z){return new e([Ve,z].concat(this.remove(Ve).content))},addToEnd:function(Ve,z){var se=this.remove(Ve).content.slice();return se.push(Ve,z),new e(se)},addBefore:function(Ve,z,se){var Se=this.remove(z),Oe=Se.content.slice(),ge=Se.find(Ve);return Oe.splice(ge==-1?Oe.length:ge,0,z,se),new e(Oe)},forEach:function(Ve){for(var z=0;z<this.content.length;z+=2)Ve(this.content[z],this.content[z+1])},prepend:function(Ve){return Ve=e.from(Ve),Ve.size?new e(Ve.content.concat(this.subtract(Ve).content)):this},append:function(Ve){return Ve=e.from(Ve),Ve.size?new e(this.subtract(Ve).content.concat(Ve.content)):this},subtract:function(Ve){var z=this;Ve=e.from(Ve);for(var se=0;se<Ve.content.length;se+=2)z=z.remove(Ve.content[se]);return z},toObject:function(){var Ve={};return this.forEach(function(z,se){Ve[z]=se}),Ve},get size(){return this.content.length>>1}},e.from=function(Ve){if(Ve instanceof e)return Ve;var z=[];if(Ve)for(var se in Ve)z.push(se,Ve[se]);return new e(z)};var a=e;function o(Ve,z,se){for(let Se=0;;Se++){if(Se==Ve.childCount||Se==z.childCount)return Ve.childCount==z.childCount?null:se;let Oe=Ve.child(Se),ge=z.child(Se);if(Oe==ge){se+=Oe.nodeSize;continue}if(!Oe.sameMarkup(ge))return se;if(Oe.isText&&Oe.text!=ge.text){for(let je=0;Oe.text[je]==ge.text[je];je++)se++;return se}if(Oe.content.size||ge.content.size){let je=o(Oe.content,ge.content,se+1);if(je!=null)return je}se+=Oe.nodeSize}}function l(Ve,z,se,Se){for(let Oe=Ve.childCount,ge=z.childCount;;){if(Oe==0||ge==0)return Oe==ge?null:{a:se,b:Se};let je=Ve.child(--Oe),it=z.child(--ge),Tt=je.nodeSize;if(je==it){se-=Tt,Se-=Tt;continue}if(!je.sameMarkup(it))return{a:se,b:Se};if(je.isText&&je.text!=it.text){let sn=0,ht=Math.min(je.text.length,it.text.length);for(;sn<ht&&je.text[je.text.length-sn-1]==it.text[it.text.length-sn-1];)sn++,se--,Se--;return{a:se,b:Se}}if(je.content.size||it.content.size){let sn=l(je.content,it.content,se-1,Se-1);if(sn)return sn}se-=Tt,Se-=Tt}}class d{constructor(z,se){if(this.content=z,this.size=se||0,se==null)for(let Se=0;Se<z.length;Se++)this.size+=z[Se].nodeSize}nodesBetween(z,se,Se,Oe=0,ge){for(let je=0,it=0;it<se;je++){let Tt=this.content[je],sn=it+Tt.nodeSize;if(sn>z&&Se(Tt,Oe+it,ge||null,je)!==!1&&Tt.content.size){let ht=it+1;Tt.nodesBetween(Math.max(0,z-ht),Math.min(Tt.content.size,se-ht),Se,Oe+ht)}it=sn}}descendants(z){this.nodesBetween(0,this.size,z)}textBetween(z,se,Se,Oe){let ge="",je=!0;return this.nodesBetween(z,se,(it,Tt)=>{it.isText?(ge+=it.text.slice(Math.max(z,Tt)-Tt,se-Tt),je=!Se):it.isLeaf?(Oe?ge+=typeof Oe=="function"?Oe(it):Oe:it.type.spec.leafText&&(ge+=it.type.spec.leafText(it)),je=!Se):!je&&it.isBlock&&(ge+=Se,je=!0)},0),ge}append(z){if(!z.size)return this;if(!this.size)return z;let se=this.lastChild,Se=z.firstChild,Oe=this.content.slice(),ge=0;for(se.isText&&se.sameMarkup(Se)&&(Oe[Oe.length-1]=se.withText(se.text+Se.text),ge=1);ge<z.content.length;ge++)Oe.push(z.content[ge]);return new d(Oe,this.size+z.size)}cut(z,se=this.size){if(z==0&&se==this.size)return this;let Se=[],Oe=0;if(se>z)for(let ge=0,je=0;je<se;ge++){let it=this.content[ge],Tt=je+it.nodeSize;Tt>z&&((je<z||Tt>se)&&(it.isText?it=it.cut(Math.max(0,z-je),Math.min(it.text.length,se-je)):it=it.cut(Math.max(0,z-je-1),Math.min(it.content.size,se-je-1))),Se.push(it),Oe+=it.nodeSize),je=Tt}return new d(Se,Oe)}cutByIndex(z,se){return z==se?d.empty:z==0&&se==this.content.length?this:new d(this.content.slice(z,se))}replaceChild(z,se){let Se=this.content[z];if(Se==se)return this;let Oe=this.content.slice(),ge=this.size+se.nodeSize-Se.nodeSize;return Oe[z]=se,new d(Oe,ge)}addToStart(z){return new d([z].concat(this.content),this.size+z.nodeSize)}addToEnd(z){return new d(this.content.concat(z),this.size+z.nodeSize)}eq(z){if(this.content.length!=z.content.length)return!1;for(let se=0;se<this.content.length;se++)if(!this.content[se].eq(z.content[se]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(z){let se=this.content[z];if(!se)throw new RangeError("Index "+z+" out of range for "+this);return se}maybeChild(z){return this.content[z]||null}forEach(z){for(let se=0,Se=0;se<this.content.length;se++){let Oe=this.content[se];z(Oe,Se,se),Se+=Oe.nodeSize}}findDiffStart(z,se=0){return o(this,z,se)}findDiffEnd(z,se=this.size,Se=z.size){return l(this,z,se,Se)}findIndex(z,se=-1){if(z==0)return u(0,z);if(z==this.size)return u(this.content.length,z);if(z>this.size||z<0)throw new RangeError(`Position ${z} outside of fragment (${this})`);for(let Se=0,Oe=0;;Se++){let ge=this.child(Se),je=Oe+ge.nodeSize;if(je>=z)return je==z||se>0?u(Se+1,je):u(Se,Oe);Oe=je}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(z=>z.toJSON()):null}static fromJSON(z,se){if(!se)return d.empty;if(!Array.isArray(se))throw new RangeError("Invalid input for Fragment.fromJSON");return new d(se.map(z.nodeFromJSON))}static fromArray(z){if(!z.length)return d.empty;let se,Se=0;for(let Oe=0;Oe<z.length;Oe++){let ge=z[Oe];Se+=ge.nodeSize,Oe&&ge.isText&&z[Oe-1].sameMarkup(ge)?(se||(se=z.slice(0,Oe)),se[se.length-1]=ge.withText(se[se.length-1].text+ge.text)):se&&se.push(ge)}return new d(se||z,Se)}static from(z){if(!z)return d.empty;if(z instanceof d)return z;if(Array.isArray(z))return this.fromArray(z);if(z.attrs)return new d([z],z.nodeSize);throw new RangeError("Can not convert "+z+" to a Fragment"+(z.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}d.empty=new d([],0);const c={index:0,offset:0};function u(Ve,z){return c.index=Ve,c.offset=z,c}function f(Ve,z){if(Ve===z)return!0;if(!(Ve&&typeof Ve=="object")||!(z&&typeof z=="object"))return!1;let se=Array.isArray(Ve);if(Array.isArray(z)!=se)return!1;if(se){if(Ve.length!=z.length)return!1;for(let Se=0;Se<Ve.length;Se++)if(!f(Ve[Se],z[Se]))return!1}else{for(let Se in Ve)if(!(Se in z)||!f(Ve[Se],z[Se]))return!1;for(let Se in z)if(!(Se in Ve))return!1}return!0}class m{constructor(z,se){this.type=z,this.attrs=se}addToSet(z){let se,Se=!1;for(let Oe=0;Oe<z.length;Oe++){let ge=z[Oe];if(this.eq(ge))return z;if(this.type.excludes(ge.type))se||(se=z.slice(0,Oe));else{if(ge.type.excludes(this.type))return z;!Se&&ge.type.rank>this.type.rank&&(se||(se=z.slice(0,Oe)),se.push(this),Se=!0),se&&se.push(ge)}}return se||(se=z.slice()),Se||se.push(this),se}removeFromSet(z){for(let se=0;se<z.length;se++)if(this.eq(z[se]))return z.slice(0,se).concat(z.slice(se+1));return z}isInSet(z){for(let se=0;se<z.length;se++)if(this.eq(z[se]))return!0;return!1}eq(z){return this==z||this.type==z.type&&f(this.attrs,z.attrs)}toJSON(){let z={type:this.type.name};for(let se in this.attrs){z.attrs=this.attrs;break}return z}static fromJSON(z,se){if(!se)throw new RangeError("Invalid input for Mark.fromJSON");let Se=z.marks[se.type];if(!Se)throw new RangeError(`There is no mark type ${se.type} in this schema`);return Se.create(se.attrs)}static sameSet(z,se){if(z==se)return!0;if(z.length!=se.length)return!1;for(let Se=0;Se<z.length;Se++)if(!z[Se].eq(se[Se]))return!1;return!0}static setFrom(z){if(!z||Array.isArray(z)&&z.length==0)return m.none;if(z instanceof m)return[z];let se=z.slice();return se.sort((Se,Oe)=>Se.type.rank-Oe.type.rank),se}}m.none=[];class p extends Error{}class g{constructor(z,se,Se){this.content=z,this.openStart=se,this.openEnd=Se}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(z,se){let Se=s(this.content,z+this.openStart,se);return Se&&new g(Se,this.openStart,this.openEnd)}removeBetween(z,se){return new g(O(this.content,z+this.openStart,se+this.openStart),this.openStart,this.openEnd)}eq(z){return this.content.eq(z.content)&&this.openStart==z.openStart&&this.openEnd==z.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let z={content:this.content.toJSON()};return this.openStart>0&&(z.openStart=this.openStart),this.openEnd>0&&(z.openEnd=this.openEnd),z}static fromJSON(z,se){if(!se)return g.empty;let Se=se.openStart||0,Oe=se.openEnd||0;if(typeof Se!="number"||typeof Oe!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new g(d.fromJSON(z,se.content),Se,Oe)}static maxOpen(z,se=!0){let Se=0,Oe=0;for(let ge=z.firstChild;ge&&!ge.isLeaf&&(se||!ge.type.spec.isolating);ge=ge.firstChild)Se++;for(let ge=z.lastChild;ge&&!ge.isLeaf&&(se||!ge.type.spec.isolating);ge=ge.lastChild)Oe++;return new g(z,Se,Oe)}}g.empty=new g(d.empty,0,0);function O(Ve,z,se){let{index:Se,offset:Oe}=Ve.findIndex(z),ge=Ve.maybeChild(Se),{index:je,offset:it}=Ve.findIndex(se);if(Oe==z||ge.isText){if(it!=se&&!Ve.child(je).isText)throw new RangeError("Removing non-flat range");return Ve.cut(0,z).append(Ve.cut(se))}if(Se!=je)throw new RangeError("Removing non-flat range");return Ve.replaceChild(Se,ge.copy(O(ge.content,z-Oe-1,se-Oe-1)))}function s(Ve,z,se,Se){let{index:Oe,offset:ge}=Ve.findIndex(z),je=Ve.maybeChild(Oe);if(ge==z||je.isText)return Se&&!Se.canReplace(Oe,Oe,se)?null:Ve.cut(0,z).append(se).append(Ve.cut(z));let it=s(je.content,z-ge-1,se);return it&&Ve.replaceChild(Oe,je.copy(it))}function r(Ve,z,se){if(se.openStart>Ve.depth)throw new p("Inserted content deeper than insertion position");if(Ve.depth-se.openStart!=z.depth-se.openEnd)throw new p("Inconsistent open depths");return i(Ve,z,se,0)}function i(Ve,z,se,Se){let Oe=Ve.index(Se),ge=Ve.node(Se);if(Oe==z.index(Se)&&Se<Ve.depth-se.openStart){let je=i(Ve,z,se,Se+1);return ge.copy(ge.content.replaceChild(Oe,je))}else if(se.content.size)if(!se.openStart&&!se.openEnd&&Ve.depth==Se&&z.depth==Se){let je=Ve.parent,it=je.content;return b(je,it.cut(0,Ve.parentOffset).append(se.content).append(it.cut(z.parentOffset)))}else{let{start:je,end:it}=A(se,Ve);return b(ge,E(Ve,je,it,z,Se))}else return b(ge,P(Ve,z,Se))}function h(Ve,z){if(!z.type.compatibleContent(Ve.type))throw new p("Cannot join "+z.type.name+" onto "+Ve.type.name)}function v(Ve,z,se){let Se=Ve.node(se);return h(Se,z.node(se)),Se}function j(Ve,z){let se=z.length-1;se>=0&&Ve.isText&&Ve.sameMarkup(z[se])?z[se]=Ve.withText(z[se].text+Ve.text):z.push(Ve)}function y(Ve,z,se,Se){let Oe=(z||Ve).node(se),ge=0,je=z?z.index(se):Oe.childCount;Ve&&(ge=Ve.index(se),Ve.depth>se?ge++:Ve.textOffset&&(j(Ve.nodeAfter,Se),ge++));for(let it=ge;it<je;it++)j(Oe.child(it),Se);z&&z.depth==se&&z.textOffset&&j(z.nodeBefore,Se)}function b(Ve,z){return Ve.type.checkContent(z),Ve.copy(z)}function E(Ve,z,se,Se,Oe){let ge=Ve.depth>Oe&&v(Ve,z,Oe+1),je=Se.depth>Oe&&v(se,Se,Oe+1),it=[];return y(null,Ve,Oe,it),ge&&je&&z.index(Oe)==se.index(Oe)?(h(ge,je),j(b(ge,E(Ve,z,se,Se,Oe+1)),it)):(ge&&j(b(ge,P(Ve,z,Oe+1)),it),y(z,se,Oe,it),je&&j(b(je,P(se,Se,Oe+1)),it)),y(Se,null,Oe,it),new d(it)}function P(Ve,z,se){let Se=[];if(y(null,Ve,se,Se),Ve.depth>se){let Oe=v(Ve,z,se+1);j(b(Oe,P(Ve,z,se+1)),Se)}return y(z,null,se,Se),new d(Se)}function A(Ve,z){let se=z.depth-Ve.openStart,Oe=z.node(se).copy(Ve.content);for(let ge=se-1;ge>=0;ge--)Oe=z.node(ge).copy(d.from(Oe));return{start:Oe.resolveNoCache(Ve.openStart+se),end:Oe.resolveNoCache(Oe.content.size-Ve.openEnd-se)}}class _{constructor(z,se,Se){this.pos=z,this.path=se,this.parentOffset=Se,this.depth=se.length/3-1}resolveDepth(z){return z==null?this.depth:z<0?this.depth+z:z}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(z){return this.path[this.resolveDepth(z)*3]}index(z){return this.path[this.resolveDepth(z)*3+1]}indexAfter(z){return z=this.resolveDepth(z),this.index(z)+(z==this.depth&&!this.textOffset?0:1)}start(z){return z=this.resolveDepth(z),z==0?0:this.path[z*3-1]+1}end(z){return z=this.resolveDepth(z),this.start(z)+this.node(z).content.size}before(z){if(z=this.resolveDepth(z),!z)throw new RangeError("There is no position before the top-level node");return z==this.depth+1?this.pos:this.path[z*3-1]}after(z){if(z=this.resolveDepth(z),!z)throw new RangeError("There is no position after the top-level node");return z==this.depth+1?this.pos:this.path[z*3-1]+this.path[z*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let z=this.parent,se=this.index(this.depth);if(se==z.childCount)return null;let Se=this.pos-this.path[this.path.length-1],Oe=z.child(se);return Se?z.child(se).cut(Se):Oe}get nodeBefore(){let z=this.index(this.depth),se=this.pos-this.path[this.path.length-1];return se?this.parent.child(z).cut(0,se):z==0?null:this.parent.child(z-1)}posAtIndex(z,se){se=this.resolveDepth(se);let Se=this.path[se*3],Oe=se==0?0:this.path[se*3-1]+1;for(let ge=0;ge<z;ge++)Oe+=Se.child(ge).nodeSize;return Oe}marks(){let z=this.parent,se=this.index();if(z.content.size==0)return m.none;if(this.textOffset)return z.child(se).marks;let Se=z.maybeChild(se-1),Oe=z.maybeChild(se);if(!Se){let it=Se;Se=Oe,Oe=it}let ge=Se.marks;for(var je=0;je<ge.length;je++)ge[je].type.spec.inclusive===!1&&(!Oe||!ge[je].isInSet(Oe.marks))&&(ge=ge[je--].removeFromSet(ge));return ge}marksAcross(z){let se=this.parent.maybeChild(this.index());if(!se||!se.isInline)return null;let Se=se.marks,Oe=z.parent.maybeChild(z.index());for(var ge=0;ge<Se.length;ge++)Se[ge].type.spec.inclusive===!1&&(!Oe||!Se[ge].isInSet(Oe.marks))&&(Se=Se[ge--].removeFromSet(Se));return Se}sharedDepth(z){for(let se=this.depth;se>0;se--)if(this.start(se)<=z&&this.end(se)>=z)return se;return 0}blockRange(z=this,se){if(z.pos<this.pos)return z.blockRange(this);for(let Se=this.depth-(this.parent.inlineContent||this.pos==z.pos?1:0);Se>=0;Se--)if(z.pos<=this.end(Se)&&(!se||se(this.node(Se))))return new C(this,z,Se);return null}sameParent(z){return this.pos-this.parentOffset==z.pos-z.parentOffset}max(z){return z.pos>this.pos?z:this}min(z){return z.pos<this.pos?z:this}toString(){let z="";for(let se=1;se<=this.depth;se++)z+=(z?"/":"")+this.node(se).type.name+"_"+this.index(se-1);return z+":"+this.parentOffset}static resolve(z,se){if(!(se>=0&&se<=z.content.size))throw new RangeError("Position "+se+" out of range");let Se=[],Oe=0,ge=se;for(let je=z;;){let{index:it,offset:Tt}=je.content.findIndex(ge),sn=ge-Tt;if(Se.push(je,it,Oe+Tt),!sn||(je=je.child(it),je.isText))break;ge=sn-1,Oe+=Tt+1}return new _(se,Se,ge)}static resolveCached(z,se){for(let Oe=0;Oe<M.length;Oe++){let ge=M[Oe];if(ge.pos==se&&ge.doc==z)return ge}let Se=M[F]=_.resolve(z,se);return F=(F+1)%H,Se}}let M=[],F=0,H=12;class C{constructor(z,se,Se){this.$from=z,this.$to=se,this.depth=Se}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const T=Object.create(null);class S{constructor(z,se,Se,Oe=m.none){this.type=z,this.attrs=se,this.marks=Oe,this.content=Se||d.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(z){return this.content.child(z)}maybeChild(z){return this.content.maybeChild(z)}forEach(z){this.content.forEach(z)}nodesBetween(z,se,Se,Oe=0){this.content.nodesBetween(z,se,Se,Oe,this)}descendants(z){this.nodesBetween(0,this.content.size,z)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(z,se,Se,Oe){return this.content.textBetween(z,se,Se,Oe)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(z){return this==z||this.sameMarkup(z)&&this.content.eq(z.content)}sameMarkup(z){return this.hasMarkup(z.type,z.attrs,z.marks)}hasMarkup(z,se,Se){return this.type==z&&f(this.attrs,se||z.defaultAttrs||T)&&m.sameSet(this.marks,Se||m.none)}copy(z=null){return z==this.content?this:new S(this.type,this.attrs,z,this.marks)}mark(z){return z==this.marks?this:new S(this.type,this.attrs,this.content,z)}cut(z,se=this.content.size){return z==0&&se==this.content.size?this:this.copy(this.content.cut(z,se))}slice(z,se=this.content.size,Se=!1){if(z==se)return g.empty;let Oe=this.resolve(z),ge=this.resolve(se),je=Se?0:Oe.sharedDepth(se),it=Oe.start(je),sn=Oe.node(je).content.cut(Oe.pos-it,ge.pos-it);return new g(sn,Oe.depth-je,ge.depth-je)}replace(z,se,Se){return r(this.resolve(z),this.resolve(se),Se)}nodeAt(z){for(let se=this;;){let{index:Se,offset:Oe}=se.content.findIndex(z);if(se=se.maybeChild(Se),!se)return null;if(Oe==z||se.isText)return se;z-=Oe+1}}childAfter(z){let{index:se,offset:Se}=this.content.findIndex(z);return{node:this.content.maybeChild(se),index:se,offset:Se}}childBefore(z){if(z==0)return{node:null,index:0,offset:0};let{index:se,offset:Se}=this.content.findIndex(z);if(Se<z)return{node:this.content.child(se),index:se,offset:Se};let Oe=this.content.child(se-1);return{node:Oe,index:se-1,offset:Se-Oe.nodeSize}}resolve(z){return _.resolveCached(this,z)}resolveNoCache(z){return _.resolve(this,z)}rangeHasMark(z,se,Se){let Oe=!1;return se>z&&this.nodesBetween(z,se,ge=>(Se.isInSet(ge.marks)&&(Oe=!0),!Oe)),Oe}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let z=this.type.name;return this.content.size&&(z+="("+this.content.toStringInner()+")"),w(this.marks,z)}contentMatchAt(z){let se=this.type.contentMatch.matchFragment(this.content,0,z);if(!se)throw new Error("Called contentMatchAt on a node with invalid content");return se}canReplace(z,se,Se=d.empty,Oe=0,ge=Se.childCount){let je=this.contentMatchAt(z).matchFragment(Se,Oe,ge),it=je&&je.matchFragment(this.content,se);if(!it||!it.validEnd)return!1;for(let Tt=Oe;Tt<ge;Tt++)if(!this.type.allowsMarks(Se.child(Tt).marks))return!1;return!0}canReplaceWith(z,se,Se,Oe){if(Oe&&!this.type.allowsMarks(Oe))return!1;let ge=this.contentMatchAt(z).matchType(Se),je=ge&&ge.matchFragment(this.content,se);return je?je.validEnd:!1}canAppend(z){return z.content.size?this.canReplace(this.childCount,this.childCount,z.content):this.type.compatibleContent(z.type)}check(){this.type.checkContent(this.content);let z=m.none;for(let se=0;se<this.marks.length;se++)z=this.marks[se].addToSet(z);if(!m.sameSet(z,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(se=>se.type.name)}`);this.content.forEach(se=>se.check())}toJSON(){let z={type:this.type.name};for(let se in this.attrs){z.attrs=this.attrs;break}return this.content.size&&(z.content=this.content.toJSON()),this.marks.length&&(z.marks=this.marks.map(se=>se.toJSON())),z}static fromJSON(z,se){if(!se)throw new RangeError("Invalid input for Node.fromJSON");let Se=null;if(se.marks){if(!Array.isArray(se.marks))throw new RangeError("Invalid mark data for Node.fromJSON");Se=se.marks.map(z.markFromJSON)}if(se.type=="text"){if(typeof se.text!="string")throw new RangeError("Invalid text node in JSON");return z.text(se.text,Se)}let Oe=d.fromJSON(z,se.content);return z.nodeType(se.type).create(se.attrs,Oe,Se)}}S.prototype.text=void 0;class D extends S{constructor(z,se,Se,Oe){super(z,se,null,Oe);if(!Se)throw new RangeError("Empty text nodes are not allowed");this.text=Se}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):w(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(z,se){return this.text.slice(z,se)}get nodeSize(){return this.text.length}mark(z){return z==this.marks?this:new D(this.type,this.attrs,this.text,z)}withText(z){return z==this.text?this:new D(this.type,this.attrs,z,this.marks)}cut(z=0,se=this.text.length){return z==0&&se==this.text.length?this:this.withText(this.text.slice(z,se))}eq(z){return this.sameMarkup(z)&&this.text==z.text}toJSON(){let z=super.toJSON();return z.text=this.text,z}}function w(Ve,z){for(let se=Ve.length-1;se>=0;se--)z=Ve[se].type.name+"("+z+")";return z}class U{constructor(z){this.validEnd=z,this.next=[],this.wrapCache=[]}static parse(z,se){let Se=new V(z,se);if(Se.next==null)return U.empty;let Oe=K(Se);Se.next&&Se.err("Unexpected trailing text");let ge=le(Q(Oe));return de(ge,Se),ge}matchType(z){for(let se=0;se<this.next.length;se++)if(this.next[se].type==z)return this.next[se].next;return null}matchFragment(z,se=0,Se=z.childCount){let Oe=this;for(let ge=se;Oe&&ge<Se;ge++)Oe=Oe.matchType(z.child(ge).type);return Oe}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let z=0;z<this.next.length;z++){let{type:se}=this.next[z];if(!(se.isText||se.hasRequiredAttrs()))return se}return null}compatible(z){for(let se=0;se<this.next.length;se++)for(let Se=0;Se<z.next.length;Se++)if(this.next[se].type==z.next[Se].type)return!0;return!1}fillBefore(z,se=!1,Se=0){let Oe=[this];function ge(je,it){let Tt=je.matchFragment(z,Se);if(Tt&&(!se||Tt.validEnd))return d.from(it.map(sn=>sn.createAndFill()));for(let sn=0;sn<je.next.length;sn++){let{type:ht,next:Nt}=je.next[sn];if(!(ht.isText||ht.hasRequiredAttrs())&&Oe.indexOf(Nt)==-1){Oe.push(Nt);let wt=ge(Nt,it.concat(ht));if(wt)return wt}}return null}return ge(this,[])}findWrapping(z){for(let Se=0;Se<this.wrapCache.length;Se+=2)if(this.wrapCache[Se]==z)return this.wrapCache[Se+1];let se=this.computeWrapping(z);return this.wrapCache.push(z,se),se}computeWrapping(z){let se=Object.create(null),Se=[{match:this,type:null,via:null}];for(;Se.length;){let Oe=Se.shift(),ge=Oe.match;if(ge.matchType(z)){let je=[];for(let it=Oe;it.type;it=it.via)je.push(it.type);return je.reverse()}for(let je=0;je<ge.next.length;je++){let{type:it,next:Tt}=ge.next[je];!it.isLeaf&&!it.hasRequiredAttrs()&&!(it.name in se)&&(!Oe.type||Tt.validEnd)&&(Se.push({match:it.contentMatch,type:it,via:Oe}),se[it.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(z){if(z>=this.next.length)throw new RangeError(`There's no ${z}th edge in this content match`);return this.next[z]}toString(){let z=[];function se(Se){z.push(Se);for(let Oe=0;Oe<Se.next.length;Oe++)z.indexOf(Se.next[Oe].next)==-1&&se(Se.next[Oe].next)}return se(this),z.map((Se,Oe)=>{let ge=Oe+(Se.validEnd?"*":" ")+" ";for(let je=0;je<Se.next.length;je++)ge+=(je?", ":"")+Se.next[je].type.name+"->"+z.indexOf(Se.next[je].next);return ge}).join(`
`)}}U.empty=new U(!0);class V{constructor(z,se){this.string=z,this.nodeTypes=se,this.inline=null,this.pos=0,this.tokens=z.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(z){return this.next==z&&(this.pos++||!0)}err(z){throw new SyntaxError(z+" (in content expression '"+this.string+"')")}}function K(Ve){let z=[];do z.push(Y(Ve));while(Ve.eat("|"));return z.length==1?z[0]:{type:"choice",exprs:z}}function Y(Ve){let z=[];do z.push(W(Ve));while(Ve.next&&Ve.next!=")"&&Ve.next!="|");return z.length==1?z[0]:{type:"seq",exprs:z}}function W(Ve){let z=G(Ve);for(;;)if(Ve.eat("+"))z={type:"plus",expr:z};else if(Ve.eat("*"))z={type:"star",expr:z};else if(Ve.eat("?"))z={type:"opt",expr:z};else if(Ve.eat("{"))z=B(Ve,z);else break;return z}function R(Ve){/\D/.test(Ve.next)&&Ve.err("Expected number, got '"+Ve.next+"'");let z=Number(Ve.next);return Ve.pos++,z}function B(Ve,z){let se=R(Ve),Se=se;return Ve.eat(",")&&(Ve.next!="}"?Se=R(Ve):Se=-1),Ve.eat("}")||Ve.err("Unclosed braced range"),{type:"range",min:se,max:Se,expr:z}}function x(Ve,z){let se=Ve.nodeTypes,Se=se[z];if(Se)return[Se];let Oe=[];for(let ge in se){let je=se[ge];je.groups.indexOf(z)>-1&&Oe.push(je)}return Oe.length==0&&Ve.err("No node type or group '"+z+"' found"),Oe}function G(Ve){if(Ve.eat("(")){let z=K(Ve);return Ve.eat(")")||Ve.err("Missing closing paren"),z}else if(/\W/.test(Ve.next))Ve.err("Unexpected token '"+Ve.next+"'");else{let z=x(Ve,Ve.next).map(se=>(Ve.inline==null?Ve.inline=se.isInline:Ve.inline!=se.isInline&&Ve.err("Mixing inline and block content"),{type:"name",value:se}));return Ve.pos++,z.length==1?z[0]:{type:"choice",exprs:z}}}function Q(Ve){let z=[[]];return Oe(ge(Ve,0),se()),z;function se(){return z.push([])-1}function Se(je,it,Tt){let sn={term:Tt,to:it};return z[je].push(sn),sn}function Oe(je,it){je.forEach(Tt=>Tt.to=it)}function ge(je,it){if(je.type=="choice")return je.exprs.reduce((Tt,sn)=>Tt.concat(ge(sn,it)),[]);if(je.type=="seq")for(let Tt=0;;Tt++){let sn=ge(je.exprs[Tt],it);if(Tt==je.exprs.length-1)return sn;Oe(sn,it=se())}else if(je.type=="star"){let Tt=se();return Se(it,Tt),Oe(ge(je.expr,Tt),Tt),[Se(Tt)]}else if(je.type=="plus"){let Tt=se();return Oe(ge(je.expr,it),Tt),Oe(ge(je.expr,Tt),Tt),[Se(Tt)]}else{if(je.type=="opt")return[Se(it)].concat(ge(je.expr,it));if(je.type=="range"){let Tt=it;for(let sn=0;sn<je.min;sn++){let ht=se();Oe(ge(je.expr,Tt),ht),Tt=ht}if(je.max==-1)Oe(ge(je.expr,Tt),Tt);else for(let sn=je.min;sn<je.max;sn++){let ht=se();Se(Tt,ht),Oe(ge(je.expr,Tt),ht),Tt=ht}return[Se(Tt)]}else{if(je.type=="name")return[Se(it,void 0,je.value)];throw new Error("Unknown expr type")}}}}function he(Ve,z){return z-Ve}function Z(Ve,z){let se=[];return Se(z),se.sort(he);function Se(Oe){let ge=Ve[Oe];if(ge.length==1&&!ge[0].term)return Se(ge[0].to);se.push(Oe);for(let je=0;je<ge.length;je++){let{term:it,to:Tt}=ge[je];!it&&se.indexOf(Tt)==-1&&Se(Tt)}}}function le(Ve){let z=Object.create(null);return se(Z(Ve,0));function se(Se){let Oe=[];Se.forEach(je=>{Ve[je].forEach(({term:it,to:Tt})=>{if(!it)return;let sn;for(let ht=0;ht<Oe.length;ht++)Oe[ht][0]==it&&(sn=Oe[ht][1]);Z(Ve,Tt).forEach(ht=>{sn||Oe.push([it,sn=[]]),sn.indexOf(ht)==-1&&sn.push(ht)})})});let ge=z[Se.join(",")]=new U(Se.indexOf(Ve.length-1)>-1);for(let je=0;je<Oe.length;je++){let it=Oe[je][1].sort(he);ge.next.push({type:Oe[je][0],next:z[it.join(",")]||se(it)})}return ge}}function de(Ve,z){for(let se=0,Se=[Ve];se<Se.length;se++){let Oe=Se[se],ge=!Oe.validEnd,je=[];for(let it=0;it<Oe.next.length;it++){let{type:Tt,next:sn}=Oe.next[it];je.push(Tt.name),ge&&!(Tt.isText||Tt.hasRequiredAttrs())&&(ge=!1),Se.indexOf(sn)==-1&&Se.push(sn)}ge&&z.err("Only non-generatable nodes ("+je.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function be(Ve){let z=Object.create(null);for(let se in Ve){let Se=Ve[se];if(!Se.hasDefault)return null;z[se]=Se.default}return z}function X(Ve,z){let se=Object.create(null);for(let Se in Ve){let Oe=z&&z[Se];if(Oe===void 0){let ge=Ve[Se];if(ge.hasDefault)Oe=ge.default;else throw new RangeError("No value supplied for attribute "+Se)}se[Se]=Oe}return se}function ie(Ve){let z=Object.create(null);if(Ve)for(let se in Ve)z[se]=new Le(Ve[se]);return z}class Ce{constructor(z,se,Se){this.name=z,this.schema=se,this.spec=Se,this.markSet=null,this.groups=Se.group?Se.group.split(" "):[],this.attrs=ie(Se.attrs),this.defaultAttrs=be(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(Se.inline||z=="text"),this.isText=z=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==U.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let z in this.attrs)if(this.attrs[z].isRequired)return!0;return!1}compatibleContent(z){return this==z||this.contentMatch.compatible(z.contentMatch)}computeAttrs(z){return!z&&this.defaultAttrs?this.defaultAttrs:X(this.attrs,z)}create(z=null,se,Se){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new S(this,this.computeAttrs(z),d.from(se),m.setFrom(Se))}createChecked(z=null,se,Se){return se=d.from(se),this.checkContent(se),new S(this,this.computeAttrs(z),se,m.setFrom(Se))}createAndFill(z=null,se,Se){if(z=this.computeAttrs(z),se=d.from(se),se.size){let je=this.contentMatch.fillBefore(se);if(!je)return null;se=je.append(se)}let Oe=this.contentMatch.matchFragment(se),ge=Oe&&Oe.fillBefore(d.empty,!0);return ge?new S(this,z,se.append(ge),m.setFrom(Se)):null}validContent(z){let se=this.contentMatch.matchFragment(z);if(!se||!se.validEnd)return!1;for(let Se=0;Se<z.childCount;Se++)if(!this.allowsMarks(z.child(Se).marks))return!1;return!0}checkContent(z){if(!this.validContent(z))throw new RangeError(`Invalid content for node ${this.name}: ${z.toString().slice(0,50)}`)}allowsMarkType(z){return this.markSet==null||this.markSet.indexOf(z)>-1}allowsMarks(z){if(this.markSet==null)return!0;for(let se=0;se<z.length;se++)if(!this.allowsMarkType(z[se].type))return!1;return!0}allowedMarks(z){if(this.markSet==null)return z;let se;for(let Se=0;Se<z.length;Se++)this.allowsMarkType(z[Se].type)?se&&se.push(z[Se]):se||(se=z.slice(0,Se));return se?se.length?se:m.none:z}static compile(z,se){let Se=Object.create(null);z.forEach((ge,je)=>Se[ge]=new Ce(ge,se,je));let Oe=se.spec.topNode||"doc";if(!Se[Oe])throw new RangeError("Schema is missing its top node type ('"+Oe+"')");if(!Se.text)throw new RangeError("Every schema needs a 'text' type");for(let ge in Se.text.attrs)throw new RangeError("The text node type should not have attributes");return Se}}class Le{constructor(z){this.hasDefault=Object.prototype.hasOwnProperty.call(z,"default"),this.default=z.default}get isRequired(){return!this.hasDefault}}class Ae{constructor(z,se,Se,Oe){this.name=z,this.rank=se,this.schema=Se,this.spec=Oe,this.attrs=ie(Oe.attrs),this.excluded=null;let ge=be(this.attrs);this.instance=ge?new m(this,ge):null}create(z=null){return!z&&this.instance?this.instance:new m(this,X(this.attrs,z))}static compile(z,se){let Se=Object.create(null),Oe=0;return z.forEach((ge,je)=>Se[ge]=new Ae(ge,Oe++,se,je)),Se}removeFromSet(z){for(var se=0;se<z.length;se++)z[se].type==this&&(z=z.slice(0,se).concat(z.slice(se+1)),se--);return z}isInSet(z){for(let se=0;se<z.length;se++)if(z[se].type==this)return z[se]}excludes(z){return this.excluded.indexOf(z)>-1}}class Pe{constructor(z){this.cached=Object.create(null);let se=this.spec={};for(let Oe in z)se[Oe]=z[Oe];se.nodes=a.from(z.nodes),se.marks=a.from(z.marks||{}),this.nodes=Ce.compile(this.spec.nodes,this),this.marks=Ae.compile(this.spec.marks,this);let Se=Object.create(null);for(let Oe in this.nodes){if(Oe in this.marks)throw new RangeError(Oe+" can not be both a node and a mark");let ge=this.nodes[Oe],je=ge.spec.content||"",it=ge.spec.marks;ge.contentMatch=Se[je]||(Se[je]=U.parse(je,this.nodes)),ge.inlineContent=ge.contentMatch.inlineContent,ge.markSet=it=="_"?null:it?Ne(this,it.split(" ")):it==""||!ge.inlineContent?[]:null}for(let Oe in this.marks){let ge=this.marks[Oe],je=ge.spec.excludes;ge.excluded=je==null?[ge]:je==""?[]:Ne(this,je.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(z,se=null,Se,Oe){if(typeof z=="string")z=this.nodeType(z);else if(z instanceof Ce){if(z.schema!=this)throw new RangeError("Node type from different schema used ("+z.name+")")}else throw new RangeError("Invalid node type: "+z);return z.createChecked(se,Se,Oe)}text(z,se){let Se=this.nodes.text;return new D(Se,Se.defaultAttrs,z,m.setFrom(se))}mark(z,se){return typeof z=="string"&&(z=this.marks[z]),z.create(se)}nodeFromJSON(z){return S.fromJSON(this,z)}markFromJSON(z){return m.fromJSON(this,z)}nodeType(z){let se=this.nodes[z];if(!se)throw new RangeError("Unknown node type: "+z);return se}}function Ne(Ve,z){let se=[];for(let Se=0;Se<z.length;Se++){let Oe=z[Se],ge=Ve.marks[Oe],je=ge;if(ge)se.push(ge);else for(let it in Ve.marks){let Tt=Ve.marks[it];(Oe=="_"||Tt.spec.group&&Tt.spec.group.split(" ").indexOf(Oe)>-1)&&se.push(je=Tt)}if(!je)throw new SyntaxError("Unknown mark type: '"+z[Se]+"'")}return se}class ce{constructor(z,se){this.schema=z,this.rules=se,this.tags=[],this.styles=[],se.forEach(Se=>{Se.tag?this.tags.push(Se):Se.style&&this.styles.push(Se)}),this.normalizeLists=!this.tags.some(Se=>{if(!/^(ul|ol)\b/.test(Se.tag)||!Se.node)return!1;let Oe=z.nodes[Se.node];return Oe.contentMatch.matchType(Oe)})}parse(z,se={}){let Se=new zt(this,se,!1);return Se.addAll(z,se.from,se.to),Se.finish()}parseSlice(z,se={}){let Se=new zt(this,se,!0);return Se.addAll(z,se.from,se.to),g.maxOpen(Se.finish())}matchTag(z,se,Se){for(let Oe=Se?this.tags.indexOf(Se)+1:0;Oe<this.tags.length;Oe++){let ge=this.tags[Oe];if(Me(z,ge.tag)&&(ge.namespace===void 0||z.namespaceURI==ge.namespace)&&(!ge.context||se.matchesContext(ge.context))){if(ge.getAttrs){let je=ge.getAttrs(z);if(je===!1)continue;ge.attrs=je||void 0}return ge}}}matchStyle(z,se,Se,Oe){for(let ge=Oe?this.styles.indexOf(Oe)+1:0;ge<this.styles.length;ge++){let je=this.styles[ge],it=je.style;if(!(it.indexOf(z)!=0||je.context&&!Se.matchesContext(je.context)||it.length>z.length&&(it.charCodeAt(z.length)!=61||it.slice(z.length+1)!=se))){if(je.getAttrs){let Tt=je.getAttrs(se);if(Tt===!1)continue;je.attrs=Tt||void 0}return je}}}static schemaRules(z){let se=[];function Se(Oe){let ge=Oe.priority==null?50:Oe.priority,je=0;for(;je<se.length;je++){let it=se[je];if((it.priority==null?50:it.priority)<ge)break}se.splice(je,0,Oe)}for(let Oe in z.marks){let ge=z.marks[Oe].spec.parseDOM;ge&&ge.forEach(je=>{Se(je=Xe(je)),je.mark||je.ignore||je.clearMark||(je.mark=Oe)})}for(let Oe in z.nodes){let ge=z.nodes[Oe].spec.parseDOM;ge&&ge.forEach(je=>{Se(je=Xe(je)),je.node||je.ignore||je.mark||(je.node=Oe)})}return se}static fromSchema(z){return z.cached.domParser||(z.cached.domParser=new ce(z,ce.schemaRules(z)))}}const q={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},te={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},ue={ol:!0,ul:!0},We=1,ot=2,ze=4;function vt(Ve,z,se){return z!=null?(z?We:0)|(z==="full"?ot:0):Ve&&Ve.whitespace=="pre"?We|ot:se&~ze}class Wt{constructor(z,se,Se,Oe,ge,je,it){this.type=z,this.attrs=se,this.marks=Se,this.pendingMarks=Oe,this.solid=ge,this.options=it,this.content=[],this.activeMarks=m.none,this.stashMarks=[],this.match=je||(it&ze?null:z.contentMatch)}findWrapping(z){if(!this.match){if(!this.type)return[];let se=this.type.contentMatch.fillBefore(d.from(z));if(se)this.match=this.type.contentMatch.matchFragment(se);else{let Se=this.type.contentMatch,Oe;return(Oe=Se.findWrapping(z.type))?(this.match=Se,Oe):null}}return this.match.findWrapping(z.type)}finish(z){if(!(this.options&We)){let Se=this.content[this.content.length-1],Oe;if(Se&&Se.isText&&(Oe=/[ \t\r\n\u000c]+$/.exec(Se.text))){let ge=Se;Se.text.length==Oe[0].length?this.content.pop():this.content[this.content.length-1]=ge.withText(ge.text.slice(0,ge.text.length-Oe[0].length))}}let se=d.from(this.content);return!z&&this.match&&(se=se.append(this.match.fillBefore(d.empty,!0))),this.type?this.type.create(this.attrs,se,this.marks):se}popFromStashMark(z){for(let se=this.stashMarks.length-1;se>=0;se--)if(z.eq(this.stashMarks[se]))return this.stashMarks.splice(se,1)[0]}applyPending(z){for(let se=0,Se=this.pendingMarks;se<Se.length;se++){let Oe=Se[se];(this.type?this.type.allowsMarkType(Oe.type):Te(Oe.type,z))&&!Oe.isInSet(this.activeMarks)&&(this.activeMarks=Oe.addToSet(this.activeMarks),this.pendingMarks=Oe.removeFromSet(this.pendingMarks))}}inlineContext(z){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:z.parentNode&&!q.hasOwnProperty(z.parentNode.nodeName.toLowerCase())}}class zt{constructor(z,se,Se){this.parser=z,this.options=se,this.isOpen=Se,this.open=0;let Oe=se.topNode,ge,je=vt(null,se.preserveWhitespace,0)|(Se?ze:0);Oe?ge=new Wt(Oe.type,Oe.attrs,m.none,m.none,!0,se.topMatch||Oe.type.contentMatch,je):Se?ge=new Wt(null,null,m.none,m.none,!0,null,je):ge=new Wt(z.schema.topNodeType,null,m.none,m.none,!0,null,je),this.nodes=[ge],this.find=se.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(z){if(z.nodeType==3)this.addTextNode(z);else if(z.nodeType==1){let se=z.getAttribute("style");if(!se)this.addElement(z);else{let Se=this.readStyles(Be(se));if(!Se)return;let[Oe,ge]=Se,je=this.top;for(let it=0;it<ge.length;it++)this.removePendingMark(ge[it],je);for(let it=0;it<Oe.length;it++)this.addPendingMark(Oe[it]);this.addElement(z);for(let it=0;it<Oe.length;it++)this.removePendingMark(Oe[it],je);for(let it=0;it<ge.length;it++)this.addPendingMark(ge[it])}}}addTextNode(z){let se=z.nodeValue,Se=this.top;if(Se.options&ot||Se.inlineContext(z)||/[^ \t\r\n\u000c]/.test(se)){if(Se.options&We)Se.options&ot?se=se.replace(/\r\n?/g,`
`):se=se.replace(/\r?\n|\r/g," ");else if(se=se.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(se)&&this.open==this.nodes.length-1){let Oe=Se.content[Se.content.length-1],ge=z.previousSibling;(!Oe||ge&&ge.nodeName=="BR"||Oe.isText&&/[ \t\r\n\u000c]$/.test(Oe.text))&&(se=se.slice(1))}se&&this.insertNode(this.parser.schema.text(se)),this.findInText(z)}else this.findInside(z)}addElement(z,se){let Se=z.nodeName.toLowerCase(),Oe;ue.hasOwnProperty(Se)&&this.parser.normalizeLists&&at(z);let ge=this.options.ruleFromNode&&this.options.ruleFromNode(z)||(Oe=this.parser.matchTag(z,this,se));if(ge?ge.ignore:te.hasOwnProperty(Se))this.findInside(z),this.ignoreFallback(z);else if(!ge||ge.skip||ge.closeParent){ge&&ge.closeParent?this.open=Math.max(0,this.open-1):ge&&ge.skip.nodeType&&(z=ge.skip);let je,it=this.top,Tt=this.needsBlock;if(q.hasOwnProperty(Se))it.content.length&&it.content[0].isInline&&this.open&&(this.open--,it=this.top),je=!0,it.type||(this.needsBlock=!0);else if(!z.firstChild){this.leafFallback(z);return}this.addAll(z),je&&this.sync(it),this.needsBlock=Tt}else this.addElementByRule(z,ge,ge.consuming===!1?Oe:void 0)}leafFallback(z){z.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(z.ownerDocument.createTextNode(`
`))}ignoreFallback(z){z.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(z){let se=m.none,Se=m.none;e:for(let Oe=0;Oe<z.length;Oe+=2)for(let ge=void 0;;){let je=this.parser.matchStyle(z[Oe],z[Oe+1],this,ge);if(!je)continue e;if(je.ignore)return null;if(je.clearMark?this.top.pendingMarks.forEach(it=>{je.clearMark(it)&&(Se=it.addToSet(Se))}):se=this.parser.schema.marks[je.mark].create(je.attrs).addToSet(se),je.consuming===!1)ge=je;else break}return[se,Se]}addElementByRule(z,se,Se){let Oe,ge,je;se.node?(ge=this.parser.schema.nodes[se.node],ge.isLeaf?this.insertNode(ge.create(se.attrs))||this.leafFallback(z):Oe=this.enter(ge,se.attrs||null,se.preserveWhitespace)):(je=this.parser.schema.marks[se.mark].create(se.attrs),this.addPendingMark(je));let it=this.top;if(ge&&ge.isLeaf)this.findInside(z);else if(Se)this.addElement(z,Se);else if(se.getContent)this.findInside(z),se.getContent(z,this.parser.schema).forEach(Tt=>this.insertNode(Tt));else{let Tt=z;typeof se.contentElement=="string"?Tt=z.querySelector(se.contentElement):typeof se.contentElement=="function"?Tt=se.contentElement(z):se.contentElement&&(Tt=se.contentElement),this.findAround(z,Tt,!0),this.addAll(Tt)}Oe&&this.sync(it)&&this.open--,je&&this.removePendingMark(je,it)}addAll(z,se,Se){let Oe=se||0;for(let ge=se?z.childNodes[se]:z.firstChild,je=Se==null?null:z.childNodes[Se];ge!=je;ge=ge.nextSibling,++Oe)this.findAtPoint(z,Oe),this.addDOM(ge);this.findAtPoint(z,Oe)}findPlace(z){let se,Se;for(let Oe=this.open;Oe>=0;Oe--){let ge=this.nodes[Oe],je=ge.findWrapping(z);if(je&&(!se||se.length>je.length)&&(se=je,Se=ge,!je.length)||ge.solid)break}if(!se)return!1;this.sync(Se);for(let Oe=0;Oe<se.length;Oe++)this.enterInner(se[Oe],null,!1);return!0}insertNode(z){if(z.isInline&&this.needsBlock&&!this.top.type){let se=this.textblockFromContext();se&&this.enterInner(se)}if(this.findPlace(z)){this.closeExtra();let se=this.top;se.applyPending(z.type),se.match&&(se.match=se.match.matchType(z.type));let Se=se.activeMarks;for(let Oe=0;Oe<z.marks.length;Oe++)(!se.type||se.type.allowsMarkType(z.marks[Oe].type))&&(Se=z.marks[Oe].addToSet(Se));return se.content.push(z.mark(Se)),!0}return!1}enter(z,se,Se){let Oe=this.findPlace(z.create(se));return Oe&&this.enterInner(z,se,!0,Se),Oe}enterInner(z,se=null,Se=!1,Oe){this.closeExtra();let ge=this.top;ge.applyPending(z),ge.match=ge.match&&ge.match.matchType(z);let je=vt(z,Oe,ge.options);ge.options&ze&&ge.content.length==0&&(je|=ze),this.nodes.push(new Wt(z,se,ge.activeMarks,ge.pendingMarks,Se,null,je)),this.open++}closeExtra(z=!1){let se=this.nodes.length-1;if(se>this.open){for(;se>this.open;se--)this.nodes[se-1].content.push(this.nodes[se].finish(z));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(z){for(let se=this.open;se>=0;se--)if(this.nodes[se]==z)return this.open=se,!0;return!1}get currentPos(){this.closeExtra();let z=0;for(let se=this.open;se>=0;se--){let Se=this.nodes[se].content;for(let Oe=Se.length-1;Oe>=0;Oe--)z+=Se[Oe].nodeSize;se&&z++}return z}findAtPoint(z,se){if(this.find)for(let Se=0;Se<this.find.length;Se++)this.find[Se].node==z&&this.find[Se].offset==se&&(this.find[Se].pos=this.currentPos)}findInside(z){if(this.find)for(let se=0;se<this.find.length;se++)this.find[se].pos==null&&z.nodeType==1&&z.contains(this.find[se].node)&&(this.find[se].pos=this.currentPos)}findAround(z,se,Se){if(z!=se&&this.find)for(let Oe=0;Oe<this.find.length;Oe++)this.find[Oe].pos==null&&z.nodeType==1&&z.contains(this.find[Oe].node)&&se.compareDocumentPosition(this.find[Oe].node)&(Se?2:4)&&(this.find[Oe].pos=this.currentPos)}findInText(z){if(this.find)for(let se=0;se<this.find.length;se++)this.find[se].node==z&&(this.find[se].pos=this.currentPos-(z.nodeValue.length-this.find[se].offset))}matchesContext(z){if(z.indexOf("|")>-1)return z.split(/\s*\|\s*/).some(this.matchesContext,this);let se=z.split("/"),Se=this.options.context,Oe=!this.isOpen&&(!Se||Se.parent.type==this.nodes[0].type),ge=-(Se?Se.depth+1:0)+(Oe?0:1),je=(it,Tt)=>{for(;it>=0;it--){let sn=se[it];if(sn==""){if(it==se.length-1||it==0)continue;for(;Tt>=ge;Tt--)if(je(it-1,Tt))return!0;return!1}else{let ht=Tt>0||Tt==0&&Oe?this.nodes[Tt].type:Se&&Tt>=ge?Se.node(Tt-ge).type:null;if(!ht||ht.name!=sn&&ht.groups.indexOf(sn)==-1)return!1;Tt--}}return!0};return je(se.length-1,this.open)}textblockFromContext(){let z=this.options.context;if(z)for(let se=z.depth;se>=0;se--){let Se=z.node(se).contentMatchAt(z.indexAfter(se)).defaultType;if(Se&&Se.isTextblock&&Se.defaultAttrs)return Se}for(let se in this.parser.schema.nodes){let Se=this.parser.schema.nodes[se];if(Se.isTextblock&&Se.defaultAttrs)return Se}}addPendingMark(z){let se=we(z,this.top.pendingMarks);se&&this.top.stashMarks.push(se),this.top.pendingMarks=z.addToSet(this.top.pendingMarks)}removePendingMark(z,se){for(let Se=this.open;Se>=0;Se--){let Oe=this.nodes[Se];if(Oe.pendingMarks.lastIndexOf(z)>-1)Oe.pendingMarks=z.removeFromSet(Oe.pendingMarks);else{Oe.activeMarks=z.removeFromSet(Oe.activeMarks);let je=Oe.popFromStashMark(z);je&&Oe.type&&Oe.type.allowsMarkType(je.type)&&(Oe.activeMarks=je.addToSet(Oe.activeMarks))}if(Oe==se)break}}}function at(Ve){for(let z=Ve.firstChild,se=null;z;z=z.nextSibling){let Se=z.nodeType==1?z.nodeName.toLowerCase():null;Se&&ue.hasOwnProperty(Se)&&se?(se.appendChild(z),z=se):Se=="li"?se=z:Se&&(se=null)}}function Me(Ve,z){return(Ve.matches||Ve.msMatchesSelector||Ve.webkitMatchesSelector||Ve.mozMatchesSelector).call(Ve,z)}function Be(Ve){let z=/\s*([\w-]+)\s*:\s*([^;]+)/g,se,Se=[];for(;se=z.exec(Ve);)Se.push(se[1],se[2].trim());return Se}function Xe(Ve){let z={};for(let se in Ve)z[se]=Ve[se];return z}function Te(Ve,z){let se=z.schema.nodes;for(let Se in se){let Oe=se[Se];if(!Oe.allowsMarkType(Ve))continue;let ge=[],je=it=>{ge.push(it);for(let Tt=0;Tt<it.edgeCount;Tt++){let{type:sn,next:ht}=it.edge(Tt);if(sn==z||ge.indexOf(ht)<0&&je(ht))return!0}};if(je(Oe.contentMatch))return!0}}function we(Ve,z){for(let se=0;se<z.length;se++)if(Ve.eq(z[se]))return z[se]}class De{constructor(z,se){this.nodes=z,this.marks=se}serializeFragment(z,se={},Se){Se||(Se=He(se).createDocumentFragment());let Oe=Se,ge=[];return z.forEach(je=>{if(ge.length||je.marks.length){let it=0,Tt=0;for(;it<ge.length&&Tt<je.marks.length;){let sn=je.marks[Tt];if(!this.marks[sn.type.name]){Tt++;continue}if(!sn.eq(ge[it][0])||sn.type.spec.spanning===!1)break;it++,Tt++}for(;it<ge.length;)Oe=ge.pop()[1];for(;Tt<je.marks.length;){let sn=je.marks[Tt++],ht=this.serializeMark(sn,je.isInline,se);ht&&(ge.push([sn,Oe]),Oe.appendChild(ht.dom),Oe=ht.contentDOM||ht.dom)}}Oe.appendChild(this.serializeNodeInner(je,se))}),Se}serializeNodeInner(z,se){let{dom:Se,contentDOM:Oe}=De.renderSpec(He(se),this.nodes[z.type.name](z));if(Oe){if(z.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(z.content,se,Oe)}return Se}serializeNode(z,se={}){let Se=this.serializeNodeInner(z,se);for(let Oe=z.marks.length-1;Oe>=0;Oe--){let ge=this.serializeMark(z.marks[Oe],z.isInline,se);ge&&((ge.contentDOM||ge.dom).appendChild(Se),Se=ge.dom)}return Se}serializeMark(z,se,Se={}){let Oe=this.marks[z.type.name];return Oe&&De.renderSpec(He(Se),Oe(z,se))}static renderSpec(z,se,Se=null){if(typeof se=="string")return{dom:z.createTextNode(se)};if(se.nodeType!=null)return{dom:se};if(se.dom&&se.dom.nodeType!=null)return se;let Oe=se[0],ge=Oe.indexOf(" ");ge>0&&(Se=Oe.slice(0,ge),Oe=Oe.slice(ge+1));let je,it=Se?z.createElementNS(Se,Oe):z.createElement(Oe),Tt=se[1],sn=1;if(Tt&&typeof Tt=="object"&&Tt.nodeType==null&&!Array.isArray(Tt)){sn=2;for(let ht in Tt)if(Tt[ht]!=null){let Nt=ht.indexOf(" ");Nt>0?it.setAttributeNS(ht.slice(0,Nt),ht.slice(Nt+1),Tt[ht]):it.setAttribute(ht,Tt[ht])}}for(let ht=sn;ht<se.length;ht++){let Nt=se[ht];if(Nt===0){if(ht<se.length-1||ht>sn)throw new RangeError("Content hole must be the only child of its parent node");return{dom:it,contentDOM:it}}else{let{dom:wt,contentDOM:yt}=De.renderSpec(z,Nt,Se);if(it.appendChild(wt),yt){if(je)throw new RangeError("Multiple content holes");je=yt}}}return{dom:it,contentDOM:je}}static fromSchema(z){return z.cached.domSerializer||(z.cached.domSerializer=new De(this.nodesFromSchema(z),this.marksFromSchema(z)))}static nodesFromSchema(z){let se=Ie(z.nodes);return se.text||(se.text=Se=>Se.text),se}static marksFromSchema(z){return Ie(z.marks)}}function Ie(Ve){let z={};for(let se in Ve){let Se=Ve[se].spec.toDOM;Se&&(z[se]=Se)}return z}function He(Ve){return Ve.document||window.document}},function(k,n,t){"use strict";t.d(n,"a",function(){return j});var e=t(0),a=t(3),o=t(5),l=t.n(o),d=t(9),c=t.n(d),u=Object.defineProperty,f=Object.defineProperties,m=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,s=(y,b,E)=>b in y?u(y,b,{enumerable:!0,configurable:!0,writable:!0,value:E}):y[b]=E,r=(y,b)=>{for(var E in b||(b={}))g.call(b,E)&&s(y,E,b[E]);if(p)for(var E of p(b))O.call(b,E)&&s(y,E,b[E]);return y},i=(y,b)=>f(y,m(b)),h=(y,b)=>{var E={};for(var P in y)g.call(y,P)&&b.indexOf(P)<0&&(E[P]=y[P]);if(y!=null&&p)for(var P of p(y))b.indexOf(P)<0&&O.call(y,P)&&(E[P]=y[P]);return E};const v=y=>{var b=y,{children:E,className:P=void 0,disabled:A=void 0,loading:_=void 0,type:M="button",href:F=void 0,localNavigation:H=!1,onClick:C=void 0,forwardedRef:T=void 0,newTab:S=void 0}=b,D=h(b,["children","className","disabled","loading","type","href","localNavigation","onClick","forwardedRef","newTab"]);const w=U=>{if(A||_){U&&U.preventDefault();return}C?C(U):F?Object(d.redirect)(F,{event:U,local_navigation:H,newTab:S}):M!=="submit"&&console.log("No onClick set!")};return Object(e.h)("button",i(r({tabIndex:0},D),{type:M,className:l()("button",P,{disabled:A}),disabled:A||_,onClick:w,ref:T}),_?"Please wait...":E)};n.b=v;const j=Object(a.forwardRef)((y,b)=>{var E=y,{onClick:P,href:A,localNavigation:_,newTab:M}=E,F=h(E,["onClick","href","localNavigation","newTab"]);const H=A?C=>{P&&(P.call(C.target,C),C.defaultPrevented)||Object(d.redirect)(A,{event:C,local_navigation:_,newTab:M})}:P;return Object(e.h)("button",i(r({tabIndex:0},F),{ref:b,onClick:H}))})},function(k,n,t){"use strict";t.r(n),t.d(n,"CommandManager",function(){return m}),t.d(n,"Editor",function(){return St}),t.d(n,"Extension",function(){return Q}),t.d(n,"InputRule",function(){return C}),t.d(n,"Mark",function(){return er}),t.d(n,"Node",function(){return Ln}),t.d(n,"NodeView",function(){return ur}),t.d(n,"PasteRule",function(){return U}),t.d(n,"Tracker",function(){return gt}),t.d(n,"callOrReturn",function(){return j}),t.d(n,"combineTransactionSteps",function(){return nn}),t.d(n,"createChainableState",function(){return f}),t.d(n,"createDocument",function(){return Mt}),t.d(n,"createNodeFromContent",function(){return Ie}),t.d(n,"createStyleTag",function(){return Je}),t.d(n,"defaultBlockAt",function(){return Bt}),t.d(n,"deleteProps",function(){return At}),t.d(n,"elementFromString",function(){return De}),t.d(n,"escapeForRegEx",function(){return et}),t.d(n,"extensions",function(){return yn}),t.d(n,"findChildren",function(){return Kt}),t.d(n,"findChildrenInRange",function(){return Sn}),t.d(n,"findDuplicates",function(){return W}),t.d(n,"findParentNode",function(){return rr}),t.d(n,"findParentNodeClosestToPos",function(){return Qn}),t.d(n,"fromString",function(){return b}),t.d(n,"generateHTML",function(){return dr}),t.d(n,"generateJSON",function(){return Rr}),t.d(n,"generateText",function(){return ro}),t.d(n,"getAttributes",function(){return fn}),t.d(n,"getAttributesFromExtensions",function(){return s}),t.d(n,"getChangedRanges",function(){return kt}),t.d(n,"getDebugJSON",function(){return Zt}),t.d(n,"getExtensionField",function(){return g}),t.d(n,"getHTMLFromFragment",function(){return Mr}),t.d(n,"getMarkAttributes",function(){return Dn}),t.d(n,"getMarkRange",function(){return ot}),t.d(n,"getMarkType",function(){return ze}),t.d(n,"getMarksBetween",function(){return Vn}),t.d(n,"getNodeAttributes",function(){return ut}),t.d(n,"getNodeType",function(){return r}),t.d(n,"getRenderedAttributes",function(){return h}),t.d(n,"getSchema",function(){return zr}),t.d(n,"getSchemaByResolvedExtensions",function(){return A}),t.d(n,"getSchemaTypeByName",function(){return _}),t.d(n,"getSchemaTypeNameByName",function(){return Qe}),t.d(n,"getSplittedAttributes",function(){return Gn}),t.d(n,"getText",function(){return _r}),t.d(n,"getTextBetween",function(){return he}),t.d(n,"getTextContentFromNodes",function(){return F}),t.d(n,"getTextSerializersFromSchema",function(){return Z}),t.d(n,"injectExtensionAttributesToParseRule",function(){return E}),t.d(n,"inputRulesPlugin",function(){return D}),t.d(n,"isActive",function(){return rn}),t.d(n,"isEmptyObject",function(){return y}),t.d(n,"isExtensionRulesEnabled",function(){return M}),t.d(n,"isFunction",function(){return v}),t.d(n,"isList",function(){return _n}),t.d(n,"isMacOS",function(){return je}),t.d(n,"isMarkActive",function(){return tr}),t.d(n,"isNodeActive",function(){return sn}),t.d(n,"isNodeEmpty",function(){return Yn}),t.d(n,"isNodeSelection",function(){return cr}),t.d(n,"isNumber",function(){return w}),t.d(n,"isPlainObject",function(){return x}),t.d(n,"isRegExp",function(){return H}),t.d(n,"isString",function(){return Ge}),t.d(n,"isTextSelection",function(){return zt}),t.d(n,"isiOS",function(){return Be}),t.d(n,"markInputRule",function(){return Gt}),t.d(n,"markPasteRule",function(){return br}),t.d(n,"mergeAttributes",function(){return i}),t.d(n,"mergeDeep",function(){return G}),t.d(n,"minMax",function(){return at}),t.d(n,"nodeInputRule",function(){return vn}),t.d(n,"nodePasteRule",function(){return tt}),t.d(n,"objectIncludes",function(){return te}),t.d(n,"pasteRulesPlugin",function(){return Y}),t.d(n,"posToDOMRect",function(){return Jt}),t.d(n,"removeDuplicates",function(){return On}),t.d(n,"resolveFocusPosition",function(){return Me}),t.d(n,"selectionToInsertionEnd",function(){return He}),t.d(n,"splitExtensions",function(){return O}),t.d(n,"textInputRule",function(){return or}),t.d(n,"textPasteRule",function(){return Pt}),t.d(n,"textblockTypeInputRule",function(){return kn}),t.d(n,"wrappingInputRule",function(){return fr});var e=t(36),a=t(288),o=t(462),l=t(20),d=t(46),c=t(166),u=t(494);function f(me){const{state:fe,transaction:Ee}=me;let{selection:Ue}=Ee,{doc:Ye}=Ee,{storedMarks:ct}=Ee;return _o(pr({},fe),{apply:fe.apply.bind(fe),applyTransaction:fe.applyTransaction.bind(fe),filterTransaction:fe.filterTransaction,plugins:fe.plugins,schema:fe.schema,reconfigure:fe.reconfigure.bind(fe),toJSON:fe.toJSON.bind(fe),get storedMarks(){return ct},get selection(){return Ue},get doc(){return Ye},get tr(){return Ue=Ee.selection,Ye=Ee.doc,ct=Ee.storedMarks,Ee}})}class m{constructor(fe){this.editor=fe.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=fe.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:fe,editor:Ee,state:Ue}=this,{view:Ye}=Ee,{tr:ct}=Ue,Yt=this.buildProps(ct);return Object.fromEntries(Object.entries(fe).map(([Qt,En])=>[Qt,(...In)=>{const Fn=En(...In)(Yt);return!ct.getMeta("preventDispatch")&&!this.hasCustomState&&Ye.dispatch(ct),Fn}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(fe,Ee=!0){const{rawCommands:Ue,editor:Ye,state:ct}=this,{view:Yt}=Ye,Qt=[],En=!!fe,hn=fe||ct.tr,In=()=>(!En&&Ee&&!hn.getMeta("preventDispatch")&&!this.hasCustomState&&Yt.dispatch(hn),Qt.every(Un=>Un===!0)),Fn=_o(pr({},Object.fromEntries(Object.entries(Ue).map(([Un,nr])=>[Un,(...Hr)=>{const Br=this.buildProps(hn,Ee),Jr=nr(...Hr)(Br);return Qt.push(Jr),Fn}]))),{run:In});return Fn}createCan(fe){const{rawCommands:Ee,state:Ue}=this,Ye=!1,ct=fe||Ue.tr,Yt=this.buildProps(ct,Ye),Qt=Object.fromEntries(Object.entries(Ee).map(([En,hn])=>[En,(...In)=>hn(...In)(_o(pr({},Yt),{dispatch:void 0}))]));return _o(pr({},Qt),{chain:()=>this.createChain(ct,Ye)})}buildProps(fe,Ee=!0){const{rawCommands:Ue,editor:Ye,state:ct}=this,{view:Yt}=Ye;ct.storedMarks&&fe.setStoredMarks(ct.storedMarks);const Qt={tr:fe,editor:Ye,view:Yt,state:f({state:ct,transaction:fe}),dispatch:Ee?()=>{}:void 0,chain:()=>this.createChain(fe),can:()=>this.createCan(fe),get commands(){return Object.fromEntries(Object.entries(Ue).map(([En,hn])=>[En,(...In)=>hn(...In)(Qt)]))}};return Qt}}class p{constructor(){this.callbacks={}}on(fe,Ee){return this.callbacks[fe]||(this.callbacks[fe]=[]),this.callbacks[fe].push(Ee),this}emit(fe,...Ee){const Ue=this.callbacks[fe];return Ue&&Ue.forEach(Ye=>Ye.apply(this,Ee)),this}off(fe,Ee){const Ue=this.callbacks[fe];return Ue&&(Ee?this.callbacks[fe]=Ue.filter(Ye=>Ye!==Ee):delete this.callbacks[fe]),this}removeAllListeners(){this.callbacks={}}}function g(me,fe,Ee){return me.config[fe]===void 0&&me.parent?g(me.parent,fe,Ee):typeof me.config[fe]=="function"?me.config[fe].bind(_o(pr({},Ee),{parent:me.parent?g(me.parent,fe,Ee):null})):me.config[fe]}function O(me){const fe=me.filter(Ye=>Ye.type==="extension"),Ee=me.filter(Ye=>Ye.type==="node"),Ue=me.filter(Ye=>Ye.type==="mark");return{baseExtensions:fe,nodeExtensions:Ee,markExtensions:Ue}}function s(me){const fe=[],{nodeExtensions:Ee,markExtensions:Ue}=O(me),Ye=[...Ee,...Ue],ct={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return me.forEach(Yt=>{const Qt={name:Yt.name,options:Yt.options,storage:Yt.storage},En=g(Yt,"addGlobalAttributes",Qt);if(!En)return;En().forEach(In=>{In.types.forEach(Fn=>{Object.entries(In.attributes).forEach(([Un,nr])=>{fe.push({type:Fn,name:Un,attribute:pr(pr({},ct),nr)})})})})}),Ye.forEach(Yt=>{const Qt={name:Yt.name,options:Yt.options,storage:Yt.storage},En=g(Yt,"addAttributes",Qt);if(!En)return;const hn=En();Object.entries(hn).forEach(([In,Fn])=>{const Un=pr(pr({},ct),Fn);typeof(Un==null?void 0:Un.default)=="function"&&(Un.default=Un.default()),(Un==null?void 0:Un.isRequired)&&(Un==null?void 0:Un.default)===void 0&&delete Un.default,fe.push({type:Yt.name,name:In,attribute:Un})})}),fe}function r(me,fe){if(typeof me=="string"){if(!fe.nodes[me])throw Error(`There is no node type named '${me}'. Maybe you forgot to add the extension?`);return fe.nodes[me]}return me}function i(...me){return me.filter(fe=>!!fe).reduce((fe,Ee)=>{const Ue=pr({},fe);return Object.entries(Ee).forEach(([Ye,ct])=>{if(!Ue[Ye]){Ue[Ye]=ct;return}Ye==="class"?Ue[Ye]=[Ue[Ye],ct].join(" "):Ye==="style"?Ue[Ye]=[Ue[Ye],ct].join("; "):Ue[Ye]=ct}),Ue},{})}function h(me,fe){return fe.filter(Ee=>Ee.attribute.rendered).map(Ee=>Ee.attribute.renderHTML?Ee.attribute.renderHTML(me.attrs)||{}:{[Ee.name]:me.attrs[Ee.name]}).reduce((Ee,Ue)=>i(Ee,Ue),{})}function v(me){return typeof me=="function"}function j(me,fe=void 0,...Ee){return v(me)?fe?me.bind(fe)(...Ee):me(...Ee):me}function y(me={}){return Object.keys(me).length===0&&me.constructor===Object}function b(me){return typeof me!="string"?me:me.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(me):me==="true"?!0:me==="false"?!1:me}function E(me,fe){return me.style?me:_o(pr({},me),{getAttrs:Ee=>{const Ue=me.getAttrs?me.getAttrs(Ee):me.attrs;if(Ue===!1)return!1;const Ye=fe.reduce((ct,Yt)=>{const Qt=Yt.attribute.parseHTML?Yt.attribute.parseHTML(Ee):b(Ee.getAttribute(Yt.name));return Qt==null?ct:_o(pr({},ct),{[Yt.name]:Qt})},{});return pr(pr({},Ue),Ye)}})}function P(me){return Object.fromEntries(Object.entries(me).filter(([fe,Ee])=>fe==="attrs"&&y(Ee)?!1:Ee!=null))}function A(me,fe){var Ee;const Ue=s(me),{nodeExtensions:Ye,markExtensions:ct}=O(me),Yt=(Ee=Ye.find(hn=>g(hn,"topNode")))===null||Ee===void 0?void 0:Ee.name,Qt=Object.fromEntries(Ye.map(hn=>{const In=Ue.filter(Jr=>Jr.type===hn.name),Fn={name:hn.name,options:hn.options,storage:hn.storage,editor:fe},Un=me.reduce((Jr,so)=>{const Pr=g(so,"extendNodeSchema",Fn);return pr(pr({},Jr),Pr?Pr(hn):{})},{}),nr=P(_o(pr({},Un),{content:j(g(hn,"content",Fn)),marks:j(g(hn,"marks",Fn)),group:j(g(hn,"group",Fn)),inline:j(g(hn,"inline",Fn)),atom:j(g(hn,"atom",Fn)),selectable:j(g(hn,"selectable",Fn)),draggable:j(g(hn,"draggable",Fn)),code:j(g(hn,"code",Fn)),defining:j(g(hn,"defining",Fn)),isolating:j(g(hn,"isolating",Fn)),attrs:Object.fromEntries(In.map(Jr=>{var so;return[Jr.name,{default:(so=Jr==null?void 0:Jr.attribute)===null||so===void 0?void 0:so.default}]}))})),jr=j(g(hn,"parseHTML",Fn));jr&&(nr.parseDOM=jr.map(Jr=>E(Jr,In)));const Hr=g(hn,"renderHTML",Fn);Hr&&(nr.toDOM=Jr=>Hr({node:Jr,HTMLAttributes:h(Jr,In)}));const Br=g(hn,"renderText",Fn);return Br&&(nr.toText=Br),[hn.name,nr]})),En=Object.fromEntries(ct.map(hn=>{const In=Ue.filter(Br=>Br.type===hn.name),Fn={name:hn.name,options:hn.options,storage:hn.storage,editor:fe},Un=me.reduce((Br,Jr)=>{const so=g(Jr,"extendMarkSchema",Fn);return pr(pr({},Br),so?so(hn):{})},{}),nr=P(_o(pr({},Un),{inclusive:j(g(hn,"inclusive",Fn)),excludes:j(g(hn,"excludes",Fn)),group:j(g(hn,"group",Fn)),spanning:j(g(hn,"spanning",Fn)),code:j(g(hn,"code",Fn)),attrs:Object.fromEntries(In.map(Br=>{var Jr;return[Br.name,{default:(Jr=Br==null?void 0:Br.attribute)===null||Jr===void 0?void 0:Jr.default}]}))})),jr=j(g(hn,"parseHTML",Fn));jr&&(nr.parseDOM=jr.map(Br=>E(Br,In)));const Hr=g(hn,"renderHTML",Fn);return Hr&&(nr.toDOM=Br=>Hr({mark:Br,HTMLAttributes:h(Br,In)})),[hn.name,nr]}));return new l.Schema({topNode:Yt,nodes:Qt,marks:En})}function _(me,fe){return fe.nodes[me]||fe.marks[me]||null}function M(me,fe){return Array.isArray(fe)?fe.some(Ee=>(typeof Ee=="string"?Ee:Ee.name)===me.name):fe}const F=(me,fe=500)=>{let Ee="";const Ue=me.parentOffset;return me.parent.nodesBetween(Math.max(0,Ue-fe),Ue,(Ye,ct,Yt,Qt)=>{var En,hn;Ee+=(((hn=(En=Ye.type.spec).toText)===null||hn===void 0?void 0:hn.call(En,{node:Ye,pos:ct,parent:Yt,index:Qt}))||Ye.textContent||"%leaf%").slice(0,Math.max(0,Ue-ct))}),Ee};function H(me){return Object.prototype.toString.call(me)==="[object RegExp]"}class C{constructor(fe){this.find=fe.find,this.handler=fe.handler}}const T=(me,fe)=>{if(H(fe))return fe.exec(me);const Ee=fe(me);if(!Ee)return null;const Ue=[Ee.text];return Ue.index=Ee.index,Ue.input=me,Ue.data=Ee.data,Ee.replaceWith&&(Ee.text.includes(Ee.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),Ue.push(Ee.replaceWith)),Ue};function S(me){var fe;const{editor:Ee,from:Ue,to:Ye,text:ct,rules:Yt,plugin:Qt}=me,{view:En}=Ee;if(En.composing)return!1;const hn=En.state.doc.resolve(Ue);if(hn.parent.type.spec.code||!!((fe=hn.nodeBefore||hn.nodeAfter)===null||fe===void 0?void 0:fe.marks.find(Un=>Un.type.spec.code)))return!1;let In=!1;const Fn=F(hn)+ct;return Yt.forEach(Un=>{if(In)return;const nr=T(Fn,Un.find);if(!nr)return;const jr=En.state.tr,Hr=f({state:En.state,transaction:jr}),Br={from:Ue-(nr[0].length-ct.length),to:Ye},{commands:Jr,chain:so,can:Pr}=new m({editor:Ee,state:Hr});Un.handler({state:Hr,range:Br,match:nr,commands:Jr,chain:so,can:Pr})===null||!jr.steps.length||(jr.setMeta(Qt,{transform:jr,from:Ue,to:Ye,text:ct}),En.dispatch(jr),In=!0)}),In}function D(me){const{editor:fe,rules:Ee}=me,Ue=new e.c({state:{init(){return null},apply(Ye,ct){const Yt=Ye.getMeta(Ue);return Yt||(Ye.selectionSet||Ye.docChanged?null:ct)}},props:{handleTextInput(Ye,ct,Yt,Qt){return S({editor:fe,from:ct,to:Yt,text:Qt,rules:Ee,plugin:Ue})},handleDOMEvents:{compositionend:Ye=>(setTimeout(()=>{const{$cursor:ct}=Ye.state.selection;ct&&S({editor:fe,from:ct.pos,to:ct.pos,text:"",rules:Ee,plugin:Ue})}),!1)},handleKeyDown(Ye,ct){if(ct.key!=="Enter")return!1;const{$cursor:Yt}=Ye.state.selection;return Yt?S({editor:fe,from:Yt.pos,to:Yt.pos,text:`
`,rules:Ee,plugin:Ue}):!1}},isInputRules:!0});return Ue}function w(me){return typeof me=="number"}class U{constructor(fe){this.find=fe.find,this.handler=fe.handler}}const V=(me,fe)=>{if(H(fe))return[...me.matchAll(fe)];const Ee=fe(me);return Ee?Ee.map(Ue=>{const Ye=[Ue.text];return Ye.index=Ue.index,Ye.input=me,Ye.data=Ue.data,Ue.replaceWith&&(Ue.text.includes(Ue.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),Ye.push(Ue.replaceWith)),Ye}):[]};function K(me){const{editor:fe,state:Ee,from:Ue,to:Ye,rule:ct}=me,{commands:Yt,chain:Qt,can:En}=new m({editor:fe,state:Ee}),hn=[];return Ee.doc.nodesBetween(Ue,Ye,(Fn,Un)=>{if(!Fn.isTextblock||Fn.type.spec.code)return;const nr=Math.max(Ue,Un),jr=Math.min(Ye,Un+Fn.content.size),Hr=Fn.textBetween(nr-Un,jr-Un,void 0,"\uFFFC");V(Hr,ct.find).forEach(Jr=>{if(Jr.index===void 0)return;const so=nr+Jr.index+1,Pr=so+Jr[0].length,Ur={from:Ee.tr.mapping.map(so),to:Ee.tr.mapping.map(Pr)},Cr=ct.handler({state:Ee,range:Ur,match:Jr,commands:Yt,chain:Qt,can:En});hn.push(Cr)})}),hn.every(Fn=>Fn!==null)}function Y(me){const{editor:fe,rules:Ee}=me;let Ue=null,Ye=!1,ct=!1;return Ee.map(Qt=>new e.c({view(En){const hn=In=>{var Fn;Ue=((Fn=En.dom.parentElement)===null||Fn===void 0?void 0:Fn.contains(In.target))?En.dom.parentElement:null};return window.addEventListener("dragstart",hn),{destroy(){window.removeEventListener("dragstart",hn)}}},props:{handleDOMEvents:{drop:En=>(ct=Ue===En.dom.parentElement,!1),paste:(En,hn)=>{var In;const Fn=(In=hn.clipboardData)===null||In===void 0?void 0:In.getData("text/html");return Ye=!!(Fn==null?void 0:Fn.includes("data-pm-slice")),!1}}},appendTransaction:(En,hn,In)=>{const Fn=En[0],Un=Fn.getMeta("uiEvent")==="paste"&&!Ye,nr=Fn.getMeta("uiEvent")==="drop"&&!ct;if(!Un&&!nr)return;const jr=hn.doc.content.findDiffStart(In.doc.content),Hr=hn.doc.content.findDiffEnd(In.doc.content);if(!w(jr)||!Hr||jr===Hr.b)return;const Br=In.tr,Jr=f({state:In,transaction:Br});if(!(!K({editor:fe,state:Jr,from:Math.max(jr-1,0),to:Hr.b-1,rule:Qt})||!Br.steps.length))return Br}}))}function W(me){const fe=me.filter((Ee,Ue)=>me.indexOf(Ee)!==Ue);return[...new Set(fe)]}class R{constructor(fe,Ee){this.splittableMarks=[],this.editor=Ee,this.extensions=R.resolve(fe),this.schema=A(this.extensions,Ee),this.extensions.forEach(Ue=>{var Ye;this.editor.extensionStorage[Ue.name]=Ue.storage;const ct={name:Ue.name,options:Ue.options,storage:Ue.storage,editor:this.editor,type:_(Ue.name,this.schema)};Ue.type==="mark"&&((Ye=j(g(Ue,"keepOnSplit",ct)))!==null&&Ye!==void 0?Ye:!0)&&this.splittableMarks.push(Ue.name);const Yt=g(Ue,"onBeforeCreate",ct);Yt&&this.editor.on("beforeCreate",Yt);const Qt=g(Ue,"onCreate",ct);Qt&&this.editor.on("create",Qt);const En=g(Ue,"onUpdate",ct);En&&this.editor.on("update",En);const hn=g(Ue,"onSelectionUpdate",ct);hn&&this.editor.on("selectionUpdate",hn);const In=g(Ue,"onTransaction",ct);In&&this.editor.on("transaction",In);const Fn=g(Ue,"onFocus",ct);Fn&&this.editor.on("focus",Fn);const Un=g(Ue,"onBlur",ct);Un&&this.editor.on("blur",Un);const nr=g(Ue,"onDestroy",ct);nr&&this.editor.on("destroy",nr)})}static resolve(fe){const Ee=R.sort(R.flatten(fe)),Ue=W(Ee.map(Ye=>Ye.name));return Ue.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${Ue.map(Ye=>`'${Ye}'`).join(", ")}]. This can lead to issues.`),Ee}static flatten(fe){return fe.map(Ee=>{const Ue={name:Ee.name,options:Ee.options,storage:Ee.storage},Ye=g(Ee,"addExtensions",Ue);return Ye?[Ee,...this.flatten(Ye())]:Ee}).flat(10)}static sort(fe){const Ee=100;return fe.sort((Ue,Ye)=>{const ct=g(Ue,"priority")||Ee,Yt=g(Ye,"priority")||Ee;return ct>Yt?-1:ct<Yt?1:0})}get commands(){return this.extensions.reduce((fe,Ee)=>{const Ue={name:Ee.name,options:Ee.options,storage:Ee.storage,editor:this.editor,type:_(Ee.name,this.schema)},Ye=g(Ee,"addCommands",Ue);return Ye?pr(pr({},fe),Ye()):fe},{})}get plugins(){const{editor:fe}=this,Ee=R.sort([...this.extensions].reverse()),Ue=[],Ye=[],ct=Ee.map(Yt=>{const Qt={name:Yt.name,options:Yt.options,storage:Yt.storage,editor:fe,type:_(Yt.name,this.schema)},En=[],hn=g(Yt,"addKeyboardShortcuts",Qt);let In={};if(Yt.type==="mark"&&Yt.config.exitable&&(In.ArrowRight=()=>er.handleExit({editor:fe,mark:Yt})),hn){const Hr=Object.fromEntries(Object.entries(hn()).map(([Br,Jr])=>[Br,()=>Jr({editor:fe})]));In=pr(pr({},In),Hr)}const Fn=Object(o.b)(In);En.push(Fn);const Un=g(Yt,"addInputRules",Qt);M(Yt,fe.options.enableInputRules)&&Un&&Ue.push(...Un());const nr=g(Yt,"addPasteRules",Qt);M(Yt,fe.options.enablePasteRules)&&nr&&Ye.push(...nr());const jr=g(Yt,"addProseMirrorPlugins",Qt);if(jr){const Hr=jr();En.push(...Hr)}return En}).flat();return[D({editor:fe,rules:Ue}),...Y({editor:fe,rules:Ye}),...ct]}get attributes(){return s(this.extensions)}get nodeViews(){const{editor:fe}=this,{nodeExtensions:Ee}=O(this.extensions);return Object.fromEntries(Ee.filter(Ue=>!!g(Ue,"addNodeView")).map(Ue=>{const Ye=this.attributes.filter(En=>En.type===Ue.name),ct={name:Ue.name,options:Ue.options,storage:Ue.storage,editor:fe,type:r(Ue.name,this.schema)},Yt=g(Ue,"addNodeView",ct);if(!Yt)return[];const Qt=(En,hn,In,Fn)=>{const Un=h(En,Ye);return Yt()({editor:fe,node:En,getPos:In,decorations:Fn,HTMLAttributes:Un,extension:Ue})};return[Ue.name,Qt]}))}}function B(me){return Object.prototype.toString.call(me).slice(8,-1)}function x(me){return B(me)!=="Object"?!1:me.constructor===Object&&Object.getPrototypeOf(me)===Object.prototype}function G(me,fe){const Ee=pr({},me);return x(me)&&x(fe)&&Object.keys(fe).forEach(Ue=>{x(fe[Ue])?Ue in me?Ee[Ue]=G(me[Ue],fe[Ue]):Object.assign(Ee,{[Ue]:fe[Ue]}):Object.assign(Ee,{[Ue]:fe[Ue]})}),Ee}class Q{constructor(fe={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=pr(pr({},this.config),fe),this.name=this.config.name,fe.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=j(g(this,"addOptions",{name:this.name}))),this.storage=j(g(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(fe={}){return new Q(fe)}configure(fe={}){const Ee=this.extend();return Ee.options=G(this.options,fe),Ee.storage=j(g(Ee,"addStorage",{name:Ee.name,options:Ee.options})),Ee}extend(fe={}){const Ee=new Q(fe);return Ee.parent=this,this.child=Ee,Ee.name=fe.name?fe.name:Ee.parent.name,fe.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${Ee.name}".`),Ee.options=j(g(Ee,"addOptions",{name:Ee.name})),Ee.storage=j(g(Ee,"addStorage",{name:Ee.name,options:Ee.options})),Ee}}function he(me,fe,Ee){const{from:Ue,to:Ye}=fe,{blockSeparator:ct=`

`,textSerializers:Yt={}}=Ee||{};let Qt="",En=!0;return me.nodesBetween(Ue,Ye,(hn,In,Fn,Un)=>{var nr;const jr=Yt==null?void 0:Yt[hn.type.name];jr?(hn.isBlock&&!En&&(Qt+=ct,En=!0),Fn&&(Qt+=jr({node:hn,pos:In,parent:Fn,index:Un,range:fe}))):hn.isText?(Qt+=(nr=hn==null?void 0:hn.text)===null||nr===void 0?void 0:nr.slice(Math.max(Ue,In)-In,Ye-In),En=!1):hn.isBlock&&!En&&(Qt+=ct,En=!0)}),Qt}function Z(me){return Object.fromEntries(Object.entries(me.nodes).filter(([,fe])=>fe.spec.toText).map(([fe,Ee])=>[fe,Ee.spec.toText]))}const le=Q.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new e.c({key:new e.d("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:me}=this,{state:fe,schema:Ee}=me,{doc:Ue,selection:Ye}=fe,{ranges:ct}=Ye,Yt=Math.min(...ct.map(In=>In.$from.pos)),Qt=Math.max(...ct.map(In=>In.$to.pos)),En=Z(Ee);return he(Ue,{from:Yt,to:Qt},{textSerializers:En})}}})]}}),de=()=>({editor:me,view:fe})=>(requestAnimationFrame(()=>{var Ee;me.isDestroyed||(fe.dom.blur(),(Ee=window==null?void 0:window.getSelection())===null||Ee===void 0||Ee.removeAllRanges())}),!0),be=(me=!1)=>({commands:fe})=>fe.setContent("",me),X=()=>({state:me,tr:fe,dispatch:Ee})=>{const{selection:Ue}=fe,{ranges:Ye}=Ue;return Ee&&Ye.forEach(({$from:ct,$to:Yt})=>{me.doc.nodesBetween(ct.pos,Yt.pos,(Qt,En)=>{if(Qt.type.isText)return;const{doc:hn,mapping:In}=fe,Fn=hn.resolve(In.map(En)),Un=hn.resolve(In.map(En+Qt.nodeSize)),nr=Fn.blockRange(Un);if(!nr)return;const jr=Object(d.liftTarget)(nr);if(Qt.type.isTextblock){const{defaultType:Hr}=Fn.parent.contentMatchAt(Fn.index());fe.setNodeMarkup(nr.start,Hr)}(jr||jr===0)&&fe.lift(nr,jr)})}),!0},ie=me=>fe=>me(fe),Ce=()=>({state:me,dispatch:fe})=>Object(c.c)(me,fe),Le=()=>({tr:me,dispatch:fe})=>{const{selection:Ee}=me,Ue=Ee.$anchor.node();if(Ue.content.size>0)return!1;const Ye=me.selection.$anchor;for(let ct=Ye.depth;ct>0;ct-=1)if(Ye.node(ct).type===Ue.type){if(fe){const Qt=Ye.before(ct),En=Ye.after(ct);me.delete(Qt,En).scrollIntoView()}return!0}return!1},Ae=me=>({tr:fe,state:Ee,dispatch:Ue})=>{const Ye=r(me,Ee.schema),ct=fe.selection.$anchor;for(let Yt=ct.depth;Yt>0;Yt-=1)if(ct.node(Yt).type===Ye){if(Ue){const En=ct.before(Yt),hn=ct.after(Yt);fe.delete(En,hn).scrollIntoView()}return!0}return!1},Pe=me=>({tr:fe,dispatch:Ee})=>{const{from:Ue,to:Ye}=me;return Ee&&fe.delete(Ue,Ye),!0},Ne=()=>({state:me,dispatch:fe})=>Object(c.d)(me,fe),ce=()=>({commands:me})=>me.keyboardShortcut("Enter"),q=()=>({state:me,dispatch:fe})=>Object(c.e)(me,fe);function te(me,fe,Ee={strict:!0}){const Ue=Object.keys(fe);return Ue.length?Ue.every(Ye=>Ee.strict?fe[Ye]===me[Ye]:H(fe[Ye])?fe[Ye].test(me[Ye]):fe[Ye]===me[Ye]):!0}function ue(me,fe,Ee={}){return me.find(Ue=>Ue.type===fe&&te(Ue.attrs,Ee))}function We(me,fe,Ee={}){return!!ue(me,fe,Ee)}function ot(me,fe,Ee={}){if(!me||!fe)return;let Ue=me.parent.childAfter(me.parentOffset);if(me.parentOffset===Ue.offset&&Ue.offset!==0&&(Ue=me.parent.childBefore(me.parentOffset)),!Ue.node)return;const Ye=ue([...Ue.node.marks],fe,Ee);if(!Ye)return;let ct=Ue.index,Yt=me.start()+Ue.offset,Qt=ct+1,En=Yt+Ue.node.nodeSize;for(ue([...Ue.node.marks],fe,Ee);ct>0&&Ye.isInSet(me.parent.child(ct-1).marks);)ct-=1,Yt-=me.parent.child(ct).nodeSize;for(;Qt<me.parent.childCount&&We([...me.parent.child(Qt).marks],fe,Ee);)En+=me.parent.child(Qt).nodeSize,Qt+=1;return{from:Yt,to:En}}function ze(me,fe){if(typeof me=="string"){if(!fe.marks[me])throw Error(`There is no mark type named '${me}'. Maybe you forgot to add the extension?`);return fe.marks[me]}return me}const vt=(me,fe={})=>({tr:Ee,state:Ue,dispatch:Ye})=>{const ct=ze(me,Ue.schema),{doc:Yt,selection:Qt}=Ee,{$from:En,from:hn,to:In}=Qt;if(Ye){const Fn=ot(En,ct,fe);if(Fn&&Fn.from<=hn&&Fn.to>=In){const Un=e.f.create(Yt,Fn.from,Fn.to);Ee.setSelection(Un)}}return!0},Wt=me=>fe=>{const Ee=typeof me=="function"?me(fe):me;for(let Ue=0;Ue<Ee.length;Ue+=1)if(Ee[Ue](fe))return!0;return!1};function zt(me){return me instanceof e.f}function at(me=0,fe=0,Ee=0){return Math.min(Math.max(me,fe),Ee)}function Me(me,fe=null){if(!fe)return null;const Ee=e.e.atStart(me),Ue=e.e.atEnd(me);if(fe==="start"||fe===!0)return Ee;if(fe==="end")return Ue;const Ye=Ee.from,ct=Ue.to;return fe==="all"?e.f.create(me,at(0,Ye,ct),at(me.content.size,Ye,ct)):e.f.create(me,at(fe,Ye,ct),at(fe,Ye,ct))}function Be(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const Xe=(me=null,fe={})=>({editor:Ee,view:Ue,tr:Ye,dispatch:ct})=>{fe=pr({scrollIntoView:!0},fe);const Yt=()=>{Be()&&Ue.dom.focus(),requestAnimationFrame(()=>{Ee.isDestroyed||(Ue.focus(),(fe==null?void 0:fe.scrollIntoView)&&Ee.commands.scrollIntoView())})};if(Ue.hasFocus()&&me===null||me===!1)return!0;if(ct&&me===null&&!zt(Ee.state.selection))return Yt(),!0;const Qt=Me(Ye.doc,me)||Ee.state.selection,En=Ee.state.selection.eq(Qt);return ct&&(En||Ye.setSelection(Qt),En&&Ye.storedMarks&&Ye.setStoredMarks(Ye.storedMarks),Yt()),!0},Te=(me,fe)=>Ee=>me.every((Ue,Ye)=>fe(Ue,_o(pr({},Ee),{index:Ye}))),we=(me,fe)=>({tr:Ee,commands:Ue})=>Ue.insertContentAt({from:Ee.selection.from,to:Ee.selection.to},me,fe);function De(me){const fe=`<body>${me}</body>`;return new window.DOMParser().parseFromString(fe,"text/html").body}function Ie(me,fe,Ee){if(Ee=pr({slice:!0,parseOptions:{}},Ee),typeof me=="object"&&me!==null)try{return Array.isArray(me)&&me.length>0?l.Fragment.fromArray(me.map(Ue=>fe.nodeFromJSON(Ue))):fe.nodeFromJSON(me)}catch(Ue){return console.warn("[tiptap warn]: Invalid content.","Passed value:",me,"Error:",Ue),Ie("",fe,Ee)}if(typeof me=="string"){const Ue=l.DOMParser.fromSchema(fe);return Ee.slice?Ue.parseSlice(De(me),Ee.parseOptions).content:Ue.parse(De(me),Ee.parseOptions)}return Ie("",fe,Ee)}function He(me,fe,Ee){const Ue=me.steps.length-1;if(Ue<fe)return;const Ye=me.steps[Ue];if(!(Ye instanceof d.ReplaceStep||Ye instanceof d.ReplaceAroundStep))return;const ct=me.mapping.maps[Ue];let Yt=0;ct.forEach((Qt,En,hn,In)=>{Yt===0&&(Yt=In)}),me.setSelection(e.e.near(me.doc.resolve(Yt),Ee))}const Ve=me=>me.toString().startsWith("<"),z=(me,fe,Ee)=>({tr:Ue,dispatch:Ye,editor:ct})=>{if(Ye){Ee=pr({parseOptions:{},updateSelection:!0},Ee);const Yt=Ie(fe,ct.schema,{parseOptions:pr({preserveWhitespace:"full"},Ee.parseOptions)});if(Yt.toString()==="<>")return!0;let{from:Qt,to:En}=typeof me=="number"?{from:me,to:me}:me,hn=!0,In=!0;if((Ve(Yt)?Yt:[Yt]).forEach(Un=>{Un.check(),hn=hn?Un.isText&&Un.marks.length===0:!1,In=In?Un.isBlock:!1}),Qt===En&&In){const{parent:Un}=Ue.doc.resolve(Qt);Un.isTextblock&&!Un.type.spec.code&&!Un.childCount&&(Qt-=1,En+=1)}hn?Array.isArray(fe)?Ue.insertText(fe.map(Un=>Un.text||"").join(""),Qt,En):typeof fe=="object"&&!!fe&&!!fe.text?Ue.insertText(fe.text,Qt,En):Ue.insertText(fe,Qt,En):Ue.replaceWith(Qt,En,Yt),Ee.updateSelection&&He(Ue,Ue.steps.length-1,-1)}return!0},se=()=>({state:me,dispatch:fe})=>Object(c.i)(me,fe),Se=()=>({state:me,dispatch:fe})=>Object(c.g)(me,fe),Oe=()=>({state:me,dispatch:fe})=>Object(c.f)(me,fe),ge=()=>({state:me,dispatch:fe})=>Object(c.h)(me,fe);function je(){return typeof navigator!="undefined"?/Mac/.test(navigator.platform):!1}function it(me){const fe=me.split(/-(?!$)/);let Ee=fe[fe.length-1];Ee==="Space"&&(Ee=" ");let Ue,Ye,ct,Yt;for(let Qt=0;Qt<fe.length-1;Qt+=1){const En=fe[Qt];if(/^(cmd|meta|m)$/i.test(En))Yt=!0;else if(/^a(lt)?$/i.test(En))Ue=!0;else if(/^(c|ctrl|control)$/i.test(En))Ye=!0;else if(/^s(hift)?$/i.test(En))ct=!0;else if(/^mod$/i.test(En))Be()||je()?Yt=!0:Ye=!0;else throw new Error(`Unrecognized modifier name: ${En}`)}return Ue&&(Ee=`Alt-${Ee}`),Ye&&(Ee=`Ctrl-${Ee}`),Yt&&(Ee=`Meta-${Ee}`),ct&&(Ee=`Shift-${Ee}`),Ee}const Tt=me=>({editor:fe,view:Ee,tr:Ue,dispatch:Ye})=>{const ct=it(me).split(/-(?!$)/),Yt=ct.find(hn=>!["Alt","Ctrl","Meta","Shift"].includes(hn)),Qt=new KeyboardEvent("keydown",{key:Yt==="Space"?" ":Yt,altKey:ct.includes("Alt"),ctrlKey:ct.includes("Ctrl"),metaKey:ct.includes("Meta"),shiftKey:ct.includes("Shift"),bubbles:!0,cancelable:!0}),En=fe.captureTransaction(()=>{Ee.someProp("handleKeyDown",hn=>hn(Ee,Qt))});return En==null||En.steps.forEach(hn=>{const In=hn.map(Ue.mapping);In&&Ye&&Ue.maybeStep(In)}),!0};function sn(me,fe,Ee={}){const{from:Ue,to:Ye,empty:ct}=me.selection,Yt=fe?r(fe,me.schema):null,Qt=[];me.doc.nodesBetween(Ue,Ye,(Fn,Un)=>{if(Fn.isText)return;const nr=Math.max(Ue,Un),jr=Math.min(Ye,Un+Fn.nodeSize);Qt.push({node:Fn,from:nr,to:jr})});const En=Ye-Ue,hn=Qt.filter(Fn=>Yt?Yt.name===Fn.node.type.name:!0).filter(Fn=>te(Fn.node.attrs,Ee,{strict:!1}));return ct?!!hn.length:hn.reduce((Fn,Un)=>Fn+Un.to-Un.from,0)>=En}const ht=(me,fe={})=>({state:Ee,dispatch:Ue})=>{const Ye=r(me,Ee.schema);return sn(Ee,Ye,fe)?Object(c.j)(Ee,Ue):!1},Nt=()=>({state:me,dispatch:fe})=>Object(c.k)(me,fe),wt=me=>({state:fe,dispatch:Ee})=>{const Ue=r(me,fe.schema);return Object(u.a)(Ue)(fe,Ee)},yt=()=>({state:me,dispatch:fe})=>Object(c.l)(me,fe);function Qe(me,fe){return fe.nodes[me]?"node":fe.marks[me]?"mark":null}function At(me,fe){const Ee=typeof fe=="string"?[fe]:fe;return Object.keys(me).reduce((Ue,Ye)=>(Ee.includes(Ye)||(Ue[Ye]=me[Ye]),Ue),{})}const jt=(me,fe)=>({tr:Ee,state:Ue,dispatch:Ye})=>{let ct=null,Yt=null;const Qt=Qe(typeof me=="string"?me:me.name,Ue.schema);return Qt?(Qt==="node"&&(ct=r(me,Ue.schema)),Qt==="mark"&&(Yt=ze(me,Ue.schema)),Ye&&Ee.selection.ranges.forEach(En=>{Ue.doc.nodesBetween(En.$from.pos,En.$to.pos,(hn,In)=>{ct&&ct===hn.type&&Ee.setNodeMarkup(In,void 0,At(hn.attrs,fe)),Yt&&hn.marks.length&&hn.marks.forEach(Fn=>{Yt===Fn.type&&Ee.addMark(In,In+hn.nodeSize,Yt.create(At(Fn.attrs,fe)))})})}),!0):!1},ke=()=>({tr:me,dispatch:fe})=>(fe&&me.scrollIntoView(),!0),tn=()=>({tr:me,commands:fe})=>fe.setTextSelection({from:0,to:me.doc.content.size}),Pn=()=>({state:me,dispatch:fe})=>Object(c.m)(me,fe),Ft=()=>({state:me,dispatch:fe})=>Object(c.n)(me,fe),lt=()=>({state:me,dispatch:fe})=>Object(c.o)(me,fe),Rt=()=>({state:me,dispatch:fe})=>Object(c.p)(me,fe),ln=()=>({state:me,dispatch:fe})=>Object(c.q)(me,fe);function Mt(me,fe,Ee={}){return Ie(me,fe,{slice:!1,parseOptions:Ee})}const $t=(me,fe=!1,Ee={})=>({tr:Ue,editor:Ye,dispatch:ct})=>{const{doc:Yt}=Ue,Qt=Mt(me,Ye.schema,Ee);return ct&&Ue.replaceWith(0,Yt.content.size,Qt).setMeta("preventUpdate",!fe),!0};function nn(me,fe){const Ee=new d.Transform(me);return fe.forEach(Ue=>{Ue.steps.forEach(Ye=>{Ee.step(Ye)})}),Ee}function Bt(me){for(let fe=0;fe<me.edgeCount;fe+=1){const{type:Ee}=me.edge(fe);if(Ee.isTextblock&&!Ee.hasRequiredAttrs())return Ee}return null}function Kt(me,fe){const Ee=[];return me.descendants((Ue,Ye)=>{fe(Ue)&&Ee.push({node:Ue,pos:Ye})}),Ee}function Sn(me,fe,Ee){const Ue=[];return me.nodesBetween(fe.from,fe.to,(Ye,ct)=>{Ee(Ye)&&Ue.push({node:Ye,pos:ct})}),Ue}function Qn(me,fe){for(let Ee=me.depth;Ee>0;Ee-=1){const Ue=me.node(Ee);if(fe(Ue))return{pos:Ee>0?me.before(Ee):0,start:me.start(Ee),depth:Ee,node:Ue}}}function rr(me){return fe=>Qn(fe.$from,me)}function Mr(me,fe){const Ee=l.DOMSerializer.fromSchema(fe).serializeFragment(me),Ye=document.implementation.createHTMLDocument().createElement("div");return Ye.appendChild(Ee),Ye.innerHTML}function zr(me,fe){const Ee=R.resolve(me);return A(Ee,fe)}function dr(me,fe){const Ee=zr(fe),Ue=l.Node.fromJSON(Ee,me);return Mr(Ue.content,Ee)}function Rr(me,fe){const Ee=zr(fe),Ue=De(me);return l.DOMParser.fromSchema(Ee).parse(Ue).toJSON()}function _r(me,fe){const Ee={from:0,to:me.content.size};return he(me,Ee,fe)}function ro(me,fe,Ee){const{blockSeparator:Ue=`

`,textSerializers:Ye={}}=Ee||{},ct=zr(fe),Yt=l.Node.fromJSON(ct,me);return _r(Yt,{blockSeparator:Ue,textSerializers:pr(pr({},Z(ct)),Ye)})}function Dn(me,fe){const Ee=ze(fe,me.schema),{from:Ue,to:Ye,empty:ct}=me.selection,Yt=[];ct?(me.storedMarks&&Yt.push(...me.storedMarks),Yt.push(...me.selection.$head.marks())):me.doc.nodesBetween(Ue,Ye,En=>{Yt.push(...En.marks)});const Qt=Yt.find(En=>En.type.name===Ee.name);return Qt?pr({},Qt.attrs):{}}function ut(me,fe){const Ee=r(fe,me.schema),{from:Ue,to:Ye}=me.selection,ct=[];me.doc.nodesBetween(Ue,Ye,Qt=>{ct.push(Qt)});const Yt=ct.reverse().find(Qt=>Qt.type.name===Ee.name);return Yt?pr({},Yt.attrs):{}}function fn(me,fe){const Ee=Qe(typeof fe=="string"?fe:fe.name,me.schema);return Ee==="node"?ut(me,fe):Ee==="mark"?Dn(me,fe):{}}function On(me,fe=JSON.stringify){const Ee={};return me.filter(Ue=>{const Ye=fe(Ue);return Object.prototype.hasOwnProperty.call(Ee,Ye)?!1:Ee[Ye]=!0})}function Ot(me){const fe=On(me);return fe.length===1?fe:fe.filter((Ee,Ue)=>!fe.filter((ct,Yt)=>Yt!==Ue).some(ct=>Ee.oldRange.from>=ct.oldRange.from&&Ee.oldRange.to<=ct.oldRange.to&&Ee.newRange.from>=ct.newRange.from&&Ee.newRange.to<=ct.newRange.to))}function kt(me){const{mapping:fe,steps:Ee}=me,Ue=[];return fe.maps.forEach((Ye,ct)=>{const Yt=[];if(Ye.ranges.length)Ye.forEach((Qt,En)=>{Yt.push({from:Qt,to:En})});else{const{from:Qt,to:En}=Ee[ct];if(Qt===void 0||En===void 0)return;Yt.push({from:Qt,to:En})}Yt.forEach(({from:Qt,to:En})=>{const hn=fe.slice(ct).map(Qt,-1),In=fe.slice(ct).map(En),Fn=fe.invert().map(hn,-1),Un=fe.invert().map(In);Ue.push({oldRange:{from:Fn,to:Un},newRange:{from:hn,to:In}})})}),Ot(Ue)}function Zt(me,fe=0){const Ue=me.type===me.type.schema.topNodeType?0:1,Ye=fe,ct=Ye+me.nodeSize,Yt=me.marks.map(hn=>{const In={type:hn.type.name};return Object.keys(hn.attrs).length&&(In.attrs=pr({},hn.attrs)),In}),Qt=pr({},me.attrs),En={type:me.type.name,from:Ye,to:ct};return Object.keys(Qt).length&&(En.attrs=Qt),Yt.length&&(En.marks=Yt),me.content.childCount&&(En.content=[],me.forEach((hn,In)=>{var Fn;(Fn=En.content)===null||Fn===void 0||Fn.push(Zt(hn,fe+In+Ue))})),me.text&&(En.text=me.text),En}function Vn(me,fe,Ee){const Ue=[];return me===fe?Ee.resolve(me).marks().forEach(Ye=>{const ct=Ee.resolve(me-1),Yt=ot(ct,Ye.type);!Yt||Ue.push(pr({mark:Ye},Yt))}):Ee.nodesBetween(me,fe,(Ye,ct)=>{Ue.push(...Ye.marks.map(Yt=>({from:ct,to:ct+Ye.nodeSize,mark:Yt})))}),Ue}function Gn(me,fe,Ee){return Object.fromEntries(Object.entries(Ee).filter(([Ue])=>{const Ye=me.find(ct=>ct.type===fe&&ct.name===Ue);return Ye?Ye.attribute.keepOnSplit:!1}))}function tr(me,fe,Ee={}){const{empty:Ue,ranges:Ye}=me.selection,ct=fe?ze(fe,me.schema):null;if(Ue)return!!(me.storedMarks||me.selection.$from.marks()).filter(Fn=>ct?ct.name===Fn.type.name:!0).find(Fn=>te(Fn.attrs,Ee,{strict:!1}));let Yt=0;const Qt=[];if(Ye.forEach(({$from:Fn,$to:Un})=>{const nr=Fn.pos,jr=Un.pos;me.doc.nodesBetween(nr,jr,(Hr,Br)=>{if(!Hr.isText&&!Hr.marks.length)return;const Jr=Math.max(nr,Br),so=Math.min(jr,Br+Hr.nodeSize);Yt+=so-Jr,Qt.push(...Hr.marks.map(Ur=>({mark:Ur,from:Jr,to:so})))})}),Yt===0)return!1;const En=Qt.filter(Fn=>ct?ct.name===Fn.mark.type.name:!0).filter(Fn=>te(Fn.mark.attrs,Ee,{strict:!1})).reduce((Fn,Un)=>Fn+Un.to-Un.from,0),hn=Qt.filter(Fn=>ct?Fn.mark.type!==ct&&Fn.mark.type.excludes(ct):!0).reduce((Fn,Un)=>Fn+Un.to-Un.from,0);return(En>0?En+hn:En)>=Yt}function rn(me,fe,Ee={}){if(!fe)return sn(me,null,Ee)||tr(me,null,Ee);const Ue=Qe(fe,me.schema);return Ue==="node"?sn(me,fe,Ee):Ue==="mark"?tr(me,fe,Ee):!1}function _n(me,fe){const{nodeExtensions:Ee}=O(fe),Ue=Ee.find(Yt=>Yt.name===me);if(!Ue)return!1;const Ye={name:Ue.name,options:Ue.options,storage:Ue.storage},ct=j(g(Ue,"group",Ye));return typeof ct!="string"?!1:ct.split(" ").includes("list")}function Yn(me){var fe;const Ee=(fe=me.type.createAndFill())===null||fe===void 0?void 0:fe.toJSON(),Ue=me.toJSON();return JSON.stringify(Ee)===JSON.stringify(Ue)}function cr(me){return me instanceof e.b}function Jt(me,fe,Ee){const Ue=0,Ye=me.state.doc.content.size,ct=at(fe,Ue,Ye),Yt=at(Ee,Ue,Ye),Qt=me.coordsAtPos(ct),En=me.coordsAtPos(Yt,-1),hn=Math.min(Qt.top,En.top),In=Math.max(Qt.bottom,En.bottom),Fn=Math.min(Qt.left,En.left),Un=Math.max(Qt.right,En.right),nr=Un-Fn,jr=In-hn,Jr={top:hn,bottom:In,left:Fn,right:Un,width:nr,height:jr,x:Fn,y:hn};return _o(pr({},Jr),{toJSON:()=>Jr})}function cn(me,fe,Ee){var Ue;const{selection:Ye}=fe;let ct=null;if(zt(Ye)&&(ct=Ye.$cursor),ct){const Qt=(Ue=me.storedMarks)!==null&&Ue!==void 0?Ue:ct.marks();return!!Ee.isInSet(Qt)||!Qt.some(En=>En.type.excludes(Ee))}const{ranges:Yt}=Ye;return Yt.some(({$from:Qt,$to:En})=>{let hn=Qt.depth===0?me.doc.inlineContent&&me.doc.type.allowsMarkType(Ee):!1;return me.doc.nodesBetween(Qt.pos,En.pos,(In,Fn,Un)=>{if(hn)return!1;if(In.isInline){const nr=!Un||Un.type.allowsMarkType(Ee),jr=!!Ee.isInSet(In.marks)||!In.marks.some(Hr=>Hr.type.excludes(Ee));hn=nr&&jr}return!hn}),hn})}const bn=(me,fe={})=>({tr:Ee,state:Ue,dispatch:Ye})=>{const{selection:ct}=Ee,{empty:Yt,ranges:Qt}=ct,En=ze(me,Ue.schema);if(Ye)if(Yt){const hn=Dn(Ue,En);Ee.addStoredMark(En.create(pr(pr({},hn),fe)))}else Qt.forEach(hn=>{const In=hn.$from.pos,Fn=hn.$to.pos;Ue.doc.nodesBetween(In,Fn,(Un,nr)=>{const jr=Math.max(nr,In),Hr=Math.min(nr+Un.nodeSize,Fn);Un.marks.find(Jr=>Jr.type===En)?Un.marks.forEach(Jr=>{En===Jr.type&&Ee.addMark(jr,Hr,En.create(pr(pr({},Jr.attrs),fe)))}):Ee.addMark(jr,Hr,En.create(fe))})});return cn(Ue,Ee,En)},zn=(me,fe)=>({tr:Ee})=>(Ee.setMeta(me,fe),!0),Rn=(me,fe={})=>({state:Ee,dispatch:Ue,chain:Ye})=>{const ct=r(me,Ee.schema);return ct.isTextblock?Ye().command(({commands:Yt})=>Object(c.r)(ct,fe)(Ee)?!0:Yt.clearNodes()).command(({state:Yt})=>Object(c.r)(ct,fe)(Yt,Ue)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},xn=me=>({tr:fe,dispatch:Ee})=>{if(Ee){const{doc:Ue}=fe,Ye=at(me,0,Ue.content.size),ct=e.b.create(Ue,Ye);fe.setSelection(ct)}return!0},mr=me=>({tr:fe,dispatch:Ee})=>{if(Ee){const{doc:Ue}=fe,{from:Ye,to:ct}=typeof me=="number"?{from:me,to:me}:me,Yt=e.f.atStart(Ue).from,Qt=e.f.atEnd(Ue).to,En=at(Ye,Yt,Qt),hn=at(ct,Yt,Qt),In=e.f.create(Ue,En,hn);fe.setSelection(In)}return!0},Or=me=>({state:fe,dispatch:Ee})=>{const Ue=r(me,fe.schema);return Object(u.b)(Ue)(fe,Ee)};function Lt(me,fe){const Ee=me.storedMarks||me.selection.$to.parentOffset&&me.selection.$from.marks();if(Ee){const Ue=Ee.filter(Ye=>fe==null?void 0:fe.includes(Ye.type.name));me.tr.ensureMarks(Ue)}}const qt=({keepMarks:me=!0}={})=>({tr:fe,state:Ee,dispatch:Ue,editor:Ye})=>{const{selection:ct,doc:Yt}=fe,{$from:Qt,$to:En}=ct,hn=Ye.extensionManager.attributes,In=Gn(hn,Qt.node().type.name,Qt.node().attrs);if(ct instanceof e.b&&ct.node.isBlock)return!Qt.parentOffset||!Object(d.canSplit)(Yt,Qt.pos)?!1:(Ue&&(me&&Lt(Ee,Ye.extensionManager.splittableMarks),fe.split(Qt.pos).scrollIntoView()),!0);if(!Qt.parent.isBlock)return!1;if(Ue){const Fn=En.parentOffset===En.parent.content.size;ct instanceof e.f&&fe.deleteSelection();const Un=Qt.depth===0?void 0:Bt(Qt.node(-1).contentMatchAt(Qt.indexAfter(-1)));let nr=Fn&&Un?[{type:Un,attrs:In}]:void 0,jr=Object(d.canSplit)(fe.doc,fe.mapping.map(Qt.pos),1,nr);if(!nr&&!jr&&Object(d.canSplit)(fe.doc,fe.mapping.map(Qt.pos),1,Un?[{type:Un}]:void 0)&&(jr=!0,nr=Un?[{type:Un,attrs:In}]:void 0),jr&&(fe.split(fe.mapping.map(Qt.pos),1,nr),Un&&!Fn&&!Qt.parentOffset&&Qt.parent.type!==Un)){const Hr=fe.mapping.map(Qt.before()),Br=fe.doc.resolve(Hr);Qt.node(-1).canReplaceWith(Br.index(),Br.index()+1,Un)&&fe.setNodeMarkup(fe.mapping.map(Qt.before()),Un)}me&&Lt(Ee,Ye.extensionManager.splittableMarks),fe.scrollIntoView()}return!0},wn=me=>({tr:fe,state:Ee,dispatch:Ue,editor:Ye})=>{var ct;const Yt=r(me,Ee.schema),{$from:Qt,$to:En}=Ee.selection,hn=Ee.selection.node;if(hn&&hn.isBlock||Qt.depth<2||!Qt.sameParent(En))return!1;const In=Qt.node(-1);if(In.type!==Yt)return!1;const Fn=Ye.extensionManager.attributes;if(Qt.parent.content.size===0&&Qt.node(-1).childCount===Qt.indexAfter(-1)){if(Qt.depth===2||Qt.node(-3).type!==Yt||Qt.index(-2)!==Qt.node(-2).childCount-1)return!1;if(Ue){let Br=l.Fragment.empty;const Jr=Qt.index(-1)?1:Qt.index(-2)?2:3;for(let co=Qt.depth-Jr;co>=Qt.depth-3;co-=1)Br=l.Fragment.from(Qt.node(co).copy(Br));const so=Qt.indexAfter(-1)<Qt.node(-2).childCount?1:Qt.indexAfter(-2)<Qt.node(-3).childCount?2:3,Pr=Gn(Fn,Qt.node().type.name,Qt.node().attrs),Ur=((ct=Yt.contentMatch.defaultType)===null||ct===void 0?void 0:ct.createAndFill(Pr))||void 0;Br=Br.append(l.Fragment.from(Yt.createAndFill(null,Ur)||void 0));const Cr=Qt.before(Qt.depth-(Jr-1));fe.replace(Cr,Qt.after(-so),new l.Slice(Br,4-Jr,0));let io=-1;fe.doc.nodesBetween(Cr,fe.doc.content.size,(co,Wo)=>{if(io>-1)return!1;co.isTextblock&&co.content.size===0&&(io=Wo+1)}),io>-1&&fe.setSelection(e.f.near(fe.doc.resolve(io))),fe.scrollIntoView()}return!0}const Un=En.pos===Qt.end()?In.contentMatchAt(0).defaultType:null,nr=Gn(Fn,In.type.name,In.attrs),jr=Gn(Fn,Qt.node().type.name,Qt.node().attrs);fe.delete(Qt.pos,En.pos);const Hr=Un?[{type:Yt,attrs:nr},{type:Un,attrs:jr}]:[{type:Yt,attrs:nr}];if(!Object(d.canSplit)(fe.doc,Qt.pos,2))return!1;if(Ue){const{selection:Br,storedMarks:Jr}=Ee,{splittableMarks:so}=Ye.extensionManager,Pr=Jr||Br.$to.parentOffset&&Br.$from.marks();if(fe.split(Qt.pos,2,Hr).scrollIntoView(),!Pr||!Ue)return!0;const Ur=Pr.filter(Cr=>so.includes(Cr.type.name));fe.ensureMarks(Ur)}return!0},$n=(me,fe)=>{const Ee=rr(Yt=>Yt.type===fe)(me.selection);if(!Ee)return!0;const Ue=me.doc.resolve(Math.max(0,Ee.pos-1)).before(Ee.depth);if(Ue===void 0)return!0;const Ye=me.doc.nodeAt(Ue);return Ee.node.type===(Ye==null?void 0:Ye.type)&&Object(d.canJoin)(me.doc,Ee.pos)&&me.join(Ee.pos),!0},Wn=(me,fe)=>{const Ee=rr(Yt=>Yt.type===fe)(me.selection);if(!Ee)return!0;const Ue=me.doc.resolve(Ee.start).after(Ee.depth);if(Ue===void 0)return!0;const Ye=me.doc.nodeAt(Ue);return Ee.node.type===(Ye==null?void 0:Ye.type)&&Object(d.canJoin)(me.doc,Ue)&&me.join(Ue),!0};var Mo=Object.freeze({__proto__:null,blur:de,clearContent:be,clearNodes:X,command:ie,createParagraphNear:Ce,deleteCurrentNode:Le,deleteNode:Ae,deleteRange:Pe,deleteSelection:Ne,enter:ce,exitCode:q,extendMarkRange:vt,first:Wt,focus:Xe,forEach:Te,insertContent:we,insertContentAt:z,joinUp:se,joinDown:Se,joinBackward:Oe,joinForward:ge,keyboardShortcut:Tt,lift:ht,liftEmptyBlock:Nt,liftListItem:wt,newlineInCode:yt,resetAttributes:jt,scrollIntoView:ke,selectAll:tn,selectNodeBackward:Pn,selectNodeForward:Ft,selectParentNode:lt,selectTextblockEnd:Rt,selectTextblockStart:ln,setContent:$t,setMark:bn,setMeta:zn,setNode:Rn,setNodeSelection:xn,setTextSelection:mr,sinkListItem:Or,splitBlock:qt,splitListItem:wn,toggleList:(me,fe,Ee,Ue={})=>({editor:Ye,tr:ct,state:Yt,dispatch:Qt,chain:En,commands:hn,can:In})=>{const{extensions:Fn,splittableMarks:Un}=Ye.extensionManager,nr=r(me,Yt.schema),jr=r(fe,Yt.schema),{selection:Hr,storedMarks:Br}=Yt,{$from:Jr,$to:so}=Hr,Pr=Jr.blockRange(so),Ur=Br||Hr.$to.parentOffset&&Hr.$from.marks();if(!Pr)return!1;const Cr=rr(io=>_n(io.type.name,Fn))(Hr);if(Pr.depth>=1&&Cr&&Pr.depth-Cr.depth<=1){if(Cr.node.type===nr)return hn.liftListItem(jr);if(_n(Cr.node.type.name,Fn)&&nr.validContent(Cr.node.content)&&Qt)return En().command(()=>(ct.setNodeMarkup(Cr.pos,nr),!0)).command(()=>$n(ct,nr)).command(()=>Wn(ct,nr)).run()}return!Ee||!Ur||!Qt?En().command(()=>In().wrapInList(nr,Ue)?!0:hn.clearNodes()).wrapInList(nr,Ue).command(()=>$n(ct,nr)).command(()=>Wn(ct,nr)).run():En().command(()=>{const io=In().wrapInList(nr,Ue),co=Ur.filter(Wo=>Un.includes(Wo.type.name));return ct.ensureMarks(co),io?!0:hn.clearNodes()}).wrapInList(nr,Ue).command(()=>$n(ct,nr)).command(()=>Wn(ct,nr)).run()},toggleMark:(me,fe={},Ee={})=>({state:Ue,commands:Ye})=>{const{extendEmptyMarkRange:ct=!1}=Ee,Yt=ze(me,Ue.schema);return tr(Ue,Yt,fe)?Ye.unsetMark(Yt,{extendEmptyMarkRange:ct}):Ye.setMark(Yt,fe)},toggleNode:(me,fe,Ee={})=>({state:Ue,commands:Ye})=>{const ct=r(me,Ue.schema),Yt=r(fe,Ue.schema);return sn(Ue,ct,Ee)?Ye.setNode(Yt):Ye.setNode(ct,Ee)},toggleWrap:(me,fe={})=>({state:Ee,commands:Ue})=>{const Ye=r(me,Ee.schema);return sn(Ee,Ye,fe)?Ue.lift(Ye):Ue.wrapIn(Ye,fe)},undoInputRule:()=>({state:me,dispatch:fe})=>{const Ee=me.plugins;for(let Ue=0;Ue<Ee.length;Ue+=1){const Ye=Ee[Ue];let ct;if(Ye.spec.isInputRules&&(ct=Ye.getState(me))){if(fe){const Yt=me.tr,Qt=ct.transform;for(let En=Qt.steps.length-1;En>=0;En-=1)Yt.step(Qt.steps[En].invert(Qt.docs[En]));if(ct.text){const En=Yt.doc.resolve(ct.from).marks();Yt.replaceWith(ct.from,ct.to,me.schema.text(ct.text,En))}else Yt.delete(ct.from,ct.to)}return!0}}return!1},unsetAllMarks:()=>({tr:me,dispatch:fe})=>{const{selection:Ee}=me,{empty:Ue,ranges:Ye}=Ee;return Ue||fe&&Ye.forEach(ct=>{me.removeMark(ct.$from.pos,ct.$to.pos)}),!0},unsetMark:(me,fe={})=>({tr:Ee,state:Ue,dispatch:Ye})=>{var ct;const{extendEmptyMarkRange:Yt=!1}=fe,{selection:Qt}=Ee,En=ze(me,Ue.schema),{$from:hn,empty:In,ranges:Fn}=Qt;if(!Ye)return!0;if(In&&Yt){let{from:Un,to:nr}=Qt;const jr=(ct=hn.marks().find(Br=>Br.type===En))===null||ct===void 0?void 0:ct.attrs,Hr=ot(hn,En,jr);Hr&&(Un=Hr.from,nr=Hr.to),Ee.removeMark(Un,nr,En)}else Fn.forEach(Un=>{Ee.removeMark(Un.$from.pos,Un.$to.pos,En)});return Ee.removeStoredMark(En),!0},updateAttributes:(me,fe={})=>({tr:Ee,state:Ue,dispatch:Ye})=>{let ct=null,Yt=null;const Qt=Qe(typeof me=="string"?me:me.name,Ue.schema);return Qt?(Qt==="node"&&(ct=r(me,Ue.schema)),Qt==="mark"&&(Yt=ze(me,Ue.schema)),Ye&&Ee.selection.ranges.forEach(En=>{const hn=En.$from.pos,In=En.$to.pos;Ue.doc.nodesBetween(hn,In,(Fn,Un)=>{ct&&ct===Fn.type&&Ee.setNodeMarkup(Un,void 0,pr(pr({},Fn.attrs),fe)),Yt&&Fn.marks.length&&Fn.marks.forEach(nr=>{if(Yt===nr.type){const jr=Math.max(Un,hn),Hr=Math.min(Un+Fn.nodeSize,In);Ee.addMark(jr,Hr,Yt.create(pr(pr({},nr.attrs),fe)))}})})}),!0):!1},wrapIn:(me,fe={})=>({state:Ee,dispatch:Ue})=>{const Ye=r(me,Ee.schema);return Object(c.t)(Ye,fe)(Ee,Ue)},wrapInList:(me,fe={})=>({state:Ee,dispatch:Ue})=>{const Ye=r(me,Ee.schema);return Object(u.d)(Ye,fe)(Ee,Ue)}});const ft=Q.create({name:"commands",addCommands(){return pr({},Mo)}}),qe=Q.create({name:"editable",addProseMirrorPlugins(){return[new e.c({key:new e.d("editable"),props:{editable:()=>this.editor.options.editable}})]}}),rt=Q.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:me}=this;return[new e.c({key:new e.d("focusEvents"),props:{handleDOMEvents:{focus:(fe,Ee)=>{me.isFocused=!0;const Ue=me.state.tr.setMeta("focus",{event:Ee}).setMeta("addToHistory",!1);return fe.dispatch(Ue),!1},blur:(fe,Ee)=>{me.isFocused=!1;const Ue=me.state.tr.setMeta("blur",{event:Ee}).setMeta("addToHistory",!1);return fe.dispatch(Ue),!1}}}})]}}),mt=Q.create({name:"keymap",addKeyboardShortcuts(){const me=()=>this.editor.commands.first(({commands:Yt})=>[()=>Yt.undoInputRule(),()=>Yt.command(({tr:Qt})=>{const{selection:En,doc:hn}=Qt,{empty:In,$anchor:Fn}=En,{pos:Un,parent:nr}=Fn,jr=e.e.atStart(hn).from===Un;return!In||!jr||!nr.type.isTextblock||nr.textContent.length?!1:Yt.clearNodes()}),()=>Yt.deleteSelection(),()=>Yt.joinBackward(),()=>Yt.selectNodeBackward()]),fe=()=>this.editor.commands.first(({commands:Yt})=>[()=>Yt.deleteSelection(),()=>Yt.deleteCurrentNode(),()=>Yt.joinForward(),()=>Yt.selectNodeForward()]),Ue={Enter:()=>this.editor.commands.first(({commands:Yt})=>[()=>Yt.newlineInCode(),()=>Yt.createParagraphNear(),()=>Yt.liftEmptyBlock(),()=>Yt.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:me,"Mod-Backspace":me,"Shift-Backspace":me,Delete:fe,"Mod-Delete":fe,"Mod-a":()=>this.editor.commands.selectAll()},Ye=pr({},Ue),ct=_o(pr({},Ue),{"Ctrl-h":me,"Alt-Backspace":me,"Ctrl-d":fe,"Ctrl-Alt-Backspace":fe,"Alt-Delete":fe,"Alt-d":fe,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()});return Be()||je()?ct:Ye},addProseMirrorPlugins(){return[new e.c({key:new e.d("clearDocument"),appendTransaction:(me,fe,Ee)=>{if(!(me.some(jr=>jr.docChanged)&&!fe.doc.eq(Ee.doc)))return;const{empty:Ye,from:ct,to:Yt}=fe.selection,Qt=e.e.atStart(fe.doc).from,En=e.e.atEnd(fe.doc).to;if(Ye||!(ct===Qt&&Yt===En)||!(Ee.doc.textBetween(0,Ee.doc.content.size," "," ").length===0))return;const Fn=Ee.tr,Un=f({state:Ee,transaction:Fn}),{commands:nr}=new m({editor:this.editor,state:Un});if(nr.clearNodes(),!!Fn.steps.length)return Fn}})]}}),un=Q.create({name:"tabindex",addProseMirrorPlugins(){return[new e.c({key:new e.d("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});var yn=Object.freeze({__proto__:null,ClipboardTextSerializer:le,Commands:ft,Editable:qe,FocusEvents:rt,Keymap:mt,Tabindex:un});const An=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function Je(me,fe){const Ee=document.querySelector("style[data-tiptap-style]");if(Ee!==null)return Ee;const Ue=document.createElement("style");return fe&&Ue.setAttribute("nonce",fe),Ue.setAttribute("data-tiptap-style",""),Ue.innerHTML=me,document.getElementsByTagName("head")[0].appendChild(Ue),Ue}class St extends p{constructor(fe={}){super();this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(fe),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=Je(An,this.options.injectNonce))}setOptions(fe={}){this.options=pr(pr({},this.options),fe),!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(fe,Ee=!0){this.setOptions({editable:fe}),Ee&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(fe,Ee){const Ue=v(Ee)?Ee(fe,[...this.state.plugins]):[...this.state.plugins,fe],Ye=this.state.reconfigure({plugins:Ue});this.view.updateState(Ye)}unregisterPlugin(fe){if(this.isDestroyed)return;const Ee=typeof fe=="string"?`${fe}$`:fe.key,Ue=this.state.reconfigure({plugins:this.state.plugins.filter(Ye=>!Ye.key.startsWith(Ee))});this.view.updateState(Ue)}createExtensionManager(){const Ee=[...this.options.enableCoreExtensions?Object.values(yn):[],...this.options.extensions].filter(Ue=>["extension","node","mark"].includes(Ue==null?void 0:Ue.type));this.extensionManager=new R(Ee,this)}createCommandManager(){this.commandManager=new m({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const fe=Mt(this.options.content,this.schema,this.options.parseOptions),Ee=Me(fe,this.options.autofocus);this.view=new a.c(this.options.element,_o(pr({},this.options.editorProps),{dispatchTransaction:this.dispatchTransaction.bind(this),state:e.a.create({doc:fe,selection:Ee||void 0})}));const Ue=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(Ue),this.createNodeViews();const Ye=this.view.dom;Ye.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}captureTransaction(fe){this.isCapturingTransaction=!0,fe(),this.isCapturingTransaction=!1;const Ee=this.capturedTransaction;return this.capturedTransaction=null,Ee}dispatchTransaction(fe){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=fe;return}fe.steps.forEach(Yt=>{var Qt;return(Qt=this.capturedTransaction)===null||Qt===void 0?void 0:Qt.step(Yt)});return}const Ee=this.state.apply(fe),Ue=!this.state.selection.eq(Ee.selection);this.view.updateState(Ee),this.emit("transaction",{editor:this,transaction:fe}),Ue&&this.emit("selectionUpdate",{editor:this,transaction:fe});const Ye=fe.getMeta("focus"),ct=fe.getMeta("blur");Ye&&this.emit("focus",{editor:this,event:Ye.event,transaction:fe}),ct&&this.emit("blur",{editor:this,event:ct.event,transaction:fe}),!(!fe.docChanged||fe.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:fe})}getAttributes(fe){return fn(this.state,fe)}isActive(fe,Ee){const Ue=typeof fe=="string"?fe:null,Ye=typeof fe=="string"?Ee:fe;return rn(this.state,Ue,Ye)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Mr(this.state.doc.content,this.schema)}getText(fe){const{blockSeparator:Ee=`

`,textSerializers:Ue={}}=fe||{};return _r(this.state.doc,{blockSeparator:Ee,textSerializers:pr(pr({},Z(this.schema)),Ue)})}get isEmpty(){return Yn(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var fe;return!((fe=this.view)===null||fe===void 0?void 0:fe.docView)}}function Gt(me){return new C({find:me.find,handler:({state:fe,range:Ee,match:Ue})=>{const Ye=j(me.getAttributes,void 0,Ue);if(Ye===!1||Ye===null)return null;const{tr:ct}=fe,Yt=Ue[Ue.length-1],Qt=Ue[0];let En=Ee.to;if(Yt){const hn=Qt.search(/\S/),In=Ee.from+Qt.indexOf(Yt),Fn=In+Yt.length;if(Vn(Ee.from,Ee.to,fe.doc).filter(nr=>nr.mark.type.excluded.find(Hr=>Hr===me.type&&Hr!==nr.mark.type)).filter(nr=>nr.to>In).length)return null;Fn<Ee.to&&ct.delete(Fn,Ee.to),In>Ee.from&&ct.delete(Ee.from+hn,In),En=Ee.from+hn+Yt.length,ct.addMark(Ee.from+hn,En,me.type.create(Ye||{})),ct.removeStoredMark(me.type)}}})}function vn(me){return new C({find:me.find,handler:({state:fe,range:Ee,match:Ue})=>{const Ye=j(me.getAttributes,void 0,Ue)||{},{tr:ct}=fe,Yt=Ee.from;let Qt=Ee.to;if(Ue[1]){const En=Ue[0].lastIndexOf(Ue[1]);let hn=Yt+En;hn>Qt?hn=Qt:Qt=hn+Ue[1].length;const In=Ue[0][Ue[0].length-1];ct.insertText(In,Yt+Ue[0].length-1),ct.replaceWith(hn,Qt,me.type.create(Ye))}else Ue[0]&&ct.replaceWith(Yt,Qt,me.type.create(Ye))}})}function kn(me){return new C({find:me.find,handler:({state:fe,range:Ee,match:Ue})=>{const Ye=fe.doc.resolve(Ee.from),ct=j(me.getAttributes,void 0,Ue)||{};if(!Ye.node(-1).canReplaceWith(Ye.index(-1),Ye.indexAfter(-1),me.type))return null;fe.tr.delete(Ee.from,Ee.to).setBlockType(Ee.from,Ee.from,me.type,ct)}})}function or(me){return new C({find:me.find,handler:({state:fe,range:Ee,match:Ue})=>{let Ye=me.replace,ct=Ee.from;const Yt=Ee.to;if(Ue[1]){const Qt=Ue[0].lastIndexOf(Ue[1]);Ye+=Ue[0].slice(Qt+Ue[1].length),ct+=Qt;const En=ct-Yt;En>0&&(Ye=Ue[0].slice(Qt-En,Qt)+Ye,ct=Yt)}fe.tr.insertText(Ye,ct,Yt)}})}function fr(me){return new C({find:me.find,handler:({state:fe,range:Ee,match:Ue,chain:Ye})=>{const ct=j(me.getAttributes,void 0,Ue)||{},Yt=fe.tr.delete(Ee.from,Ee.to),En=Yt.doc.resolve(Ee.from).blockRange(),hn=En&&Object(d.findWrapping)(En,me.type,ct);if(!hn)return null;if(Yt.wrap(En,hn),me.keepMarks&&me.editor){const{selection:Fn,storedMarks:Un}=fe,{splittableMarks:nr}=me.editor.extensionManager,jr=Un||Fn.$to.parentOffset&&Fn.$from.marks();if(jr){const Hr=jr.filter(Br=>nr.includes(Br.type.name));Yt.ensureMarks(Hr)}}if(me.keepAttributes){const Fn=me.type.name==="bulletList"||me.type.name==="orderedList"?"listItem":"taskList";Ye().updateAttributes(Fn,ct).run()}const In=Yt.doc.resolve(Ee.from-1).nodeBefore;In&&In.type===me.type&&Object(d.canJoin)(Yt.doc,Ee.from-1)&&(!me.joinPredicate||me.joinPredicate(Ue,In))&&Yt.join(Ee.from-1)}})}class er{constructor(fe={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=pr(pr({},this.config),fe),this.name=this.config.name,fe.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=j(g(this,"addOptions",{name:this.name}))),this.storage=j(g(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(fe={}){return new er(fe)}configure(fe={}){const Ee=this.extend();return Ee.options=G(this.options,fe),Ee.storage=j(g(Ee,"addStorage",{name:Ee.name,options:Ee.options})),Ee}extend(fe={}){const Ee=new er(fe);return Ee.parent=this,this.child=Ee,Ee.name=fe.name?fe.name:Ee.parent.name,fe.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${Ee.name}".`),Ee.options=j(g(Ee,"addOptions",{name:Ee.name})),Ee.storage=j(g(Ee,"addStorage",{name:Ee.name,options:Ee.options})),Ee}static handleExit({editor:fe,mark:Ee}){const{tr:Ue}=fe.state,Ye=fe.state.selection.$from;if(Ye.pos===Ye.end()){const Yt=Ye.marks();if(!!!Yt.find(hn=>(hn==null?void 0:hn.type.name)===Ee.name))return!1;const En=Yt.find(hn=>(hn==null?void 0:hn.type.name)===Ee.name);return En&&Ue.removeStoredMark(En),Ue.insertText(" ",Ye.pos),fe.view.dispatch(Ue),!0}return!1}}class Ln{constructor(fe={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=pr(pr({},this.config),fe),this.name=this.config.name,fe.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=j(g(this,"addOptions",{name:this.name}))),this.storage=j(g(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(fe={}){return new Ln(fe)}configure(fe={}){const Ee=this.extend();return Ee.options=G(this.options,fe),Ee.storage=j(g(Ee,"addStorage",{name:Ee.name,options:Ee.options})),Ee}extend(fe={}){const Ee=new Ln(fe);return Ee.parent=this,this.child=Ee,Ee.name=fe.name?fe.name:Ee.parent.name,fe.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${Ee.name}".`),Ee.options=j(g(Ee,"addOptions",{name:Ee.name})),Ee.storage=j(g(Ee,"addStorage",{name:Ee.name,options:Ee.options})),Ee}}class ur{constructor(fe,Ee,Ue){this.isDragging=!1,this.component=fe,this.editor=Ee.editor,this.options=pr({stopEvent:null,ignoreMutation:null},Ue),this.extension=Ee.extension,this.node=Ee.node,this.decorations=Ee.decorations,this.getPos=Ee.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(fe){var Ee,Ue,Ye,ct,Yt,Qt,En;const{view:hn}=this.editor,In=fe.target,Fn=In.nodeType===3?(Ee=In.parentElement)===null||Ee===void 0?void 0:Ee.closest("[data-drag-handle]"):In.closest("[data-drag-handle]");if(!this.dom||((Ue=this.contentDOM)===null||Ue===void 0?void 0:Ue.contains(In))||!Fn)return;let Un=0,nr=0;if(this.dom!==Fn){const Br=this.dom.getBoundingClientRect(),Jr=Fn.getBoundingClientRect(),so=(Ye=fe.offsetX)!==null&&Ye!==void 0?Ye:(ct=fe.nativeEvent)===null||ct===void 0?void 0:ct.offsetX,Pr=(Yt=fe.offsetY)!==null&&Yt!==void 0?Yt:(Qt=fe.nativeEvent)===null||Qt===void 0?void 0:Qt.offsetY;Un=Jr.x-Br.x+so,nr=Jr.y-Br.y+Pr}(En=fe.dataTransfer)===null||En===void 0||En.setDragImage(this.dom,Un,nr);const jr=e.b.create(hn.state.doc,this.getPos()),Hr=hn.state.tr.setSelection(jr);hn.dispatch(Hr)}stopEvent(fe){var Ee;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:fe});const Ue=fe.target;if(!(this.dom.contains(Ue)&&!((Ee=this.contentDOM)===null||Ee===void 0?void 0:Ee.contains(Ue))))return!1;const ct=fe.type.startsWith("drag"),Yt=fe.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(Ue.tagName)||Ue.isContentEditable)&&!Yt&&!ct)return!0;const{isEditable:En}=this.editor,{isDragging:hn}=this,In=!!this.node.type.spec.draggable,Fn=e.b.isSelectable(this.node),Un=fe.type==="copy",nr=fe.type==="paste",jr=fe.type==="cut",Hr=fe.type==="mousedown";if(!In&&Fn&&ct&&fe.preventDefault(),In&&ct&&!hn)return fe.preventDefault(),!1;if(In&&En&&!hn&&Hr){const Br=Ue.closest("[data-drag-handle]");Br&&(this.dom===Br||this.dom.contains(Br))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(hn||Yt||Un||nr||jr||Hr&&Fn)}ignoreMutation(fe){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:fe}):this.node.isLeaf||this.node.isAtom?!0:fe.type==="selection"||this.dom.contains(fe.target)&&fe.type==="childList"&&Be()&&this.editor.isFocused&&[...Array.from(fe.addedNodes),...Array.from(fe.removedNodes)].every(Ue=>Ue.isContentEditable)?!1:this.contentDOM===fe.target&&fe.type==="attributes"?!0:!this.contentDOM.contains(fe.target)}updateAttributes(fe){this.editor.commands.command(({tr:Ee})=>{const Ue=this.getPos();return Ee.setNodeMarkup(Ue,void 0,pr(pr({},this.node.attrs),fe)),!0})}deleteNode(){const fe=this.getPos(),Ee=fe+this.node.nodeSize;this.editor.commands.deleteRange({from:fe,to:Ee})}}function br(me){return new U({find:me.find,handler:({state:fe,range:Ee,match:Ue})=>{const Ye=j(me.getAttributes,void 0,Ue);if(Ye===!1||Ye===null)return null;const{tr:ct}=fe,Yt=Ue[Ue.length-1],Qt=Ue[0];let En=Ee.to;if(Yt){const hn=Qt.search(/\S/),In=Ee.from+Qt.indexOf(Yt),Fn=In+Yt.length;if(Vn(Ee.from,Ee.to,fe.doc).filter(nr=>nr.mark.type.excluded.find(Hr=>Hr===me.type&&Hr!==nr.mark.type)).filter(nr=>nr.to>In).length)return null;Fn<Ee.to&&ct.delete(Fn,Ee.to),In>Ee.from&&ct.delete(Ee.from+hn,In),En=Ee.from+hn+Yt.length,ct.addMark(Ee.from+hn,En,me.type.create(Ye||{})),ct.removeStoredMark(me.type)}}})}function et(me){return me.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function Ge(me){return typeof me=="string"}function tt(me){return new U({find:me.find,handler({match:fe,chain:Ee,range:Ue}){const Ye=j(me.getAttributes,void 0,fe);if(Ye===!1||Ye===null)return null;fe.input&&Ee().deleteRange(Ue).insertContentAt(Ue.from,{type:me.type.name,attrs:Ye})}})}function Pt(me){return new U({find:me.find,handler:({state:fe,range:Ee,match:Ue})=>{let Ye=me.replace,ct=Ee.from;const Yt=Ee.to;if(Ue[1]){const Qt=Ue[0].lastIndexOf(Ue[1]);Ye+=Ue[0].slice(Qt+Ue[1].length),ct+=Qt;const En=ct-Yt;En>0&&(Ye=Ue[0].slice(Qt-En,Qt)+Ye,ct=Yt)}fe.tr.insertText(Ye,ct,Yt)}})}class gt{constructor(fe){this.transaction=fe,this.currentStep=this.transaction.steps.length}map(fe){let Ee=!1;return{position:this.transaction.steps.slice(this.currentStep).reduce((Ye,ct)=>{const Yt=ct.getMap().mapResult(Ye);return Yt.deleted&&(Ee=!0),Yt.pos},fe),deleted:Ee}}}},function(k,n,t){"use strict";t.d(n,"c",function(){return K}),t.d(n,"d",function(){return Y}),t.d(n,"a",function(){return W}),t.d(n,"b",function(){return R});var e=t(0),a=t(3),o=t(1),l=t(551),d=t(5),c=t.n(d),u=t(37),f=t(193),m=t(14),p=t(2),g=t(8),O={root:"frontend-pencraft-ActionSheet-module__root--1Ywrn",sheet:"frontend-pencraft-ActionSheet-module__sheet--1839-",items:"frontend-pencraft-ActionSheet-module__items--1hRVL",item:"frontend-pencraft-ActionSheet-module__item--2BzPZ",destructive:"frontend-pencraft-ActionSheet-module__destructive--385Hi"},s=Object.defineProperty,r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,v=(B,x,G)=>x in B?s(B,x,{enumerable:!0,configurable:!0,writable:!0,value:G}):B[x]=G,j=(B,x)=>{for(var G in x||(x={}))i.call(x,G)&&v(B,G,x[G]);if(r)for(var G of r(x))h.call(x,G)&&v(B,G,x[G]);return B},y=(B,x)=>{var G={};for(var Q in B)i.call(B,Q)&&x.indexOf(Q)<0&&(G[Q]=B[Q]);if(B!=null&&r)for(var Q of r(B))x.indexOf(Q)<0&&h.call(B,Q)&&(G[Q]=B[Q]);return G};const b=Object(a.forwardRef)(({title:B,subtitle:x,onClose:G,children:Q,className:he},Z)=>Object(e.h)(p.b,{className:O.root,onClick:G},Object(e.h)(l.a.Child,{appear:!0,enter:"tw-transition-all tw-ease-in-out tw-duration-300 transform-gpu",enterFrom:"tw-translate-y-full",enterTo:"tw-translate-y-0",leave:"tw-transition-all tw-ease-in-out tw-duration-200 transform-gpu",leaveFrom:"tw-translate-y-0",leaveTo:"tw-translate-y-full"},Object(e.h)(p.b,{className:c()(O.sheet,he),ref:Z,onClick:le=>{le.stopPropagation()}},Object(e.h)(p.a,{justifyContent:"space-between",alignItems:"center",borderBottom:"detail",paddingBottom:8},Object(e.h)(p.b,null,Object(e.h)(g.b,{font:"text",size:14,lineHeight:20,color:"primary",weight:"bold"},B),Object(e.h)(g.b,{font:"text",size:12,lineHeight:20,color:"secondary"},x)),Object(e.h)(m.c,{fill:"empty",onClick:()=>{G()},color:"primary-text"},Object(e.h)(f.a,null))),Object(e.h)(p.b,{paddingTop:8,overflowY:"auto",className:O.items},Q)))));function E(B){var x=B,{children:G,onClick:Q,closeMenu:he,icon:Z,className:le,priority:de,disabled:be}=x,X=y(x,["children","onClick","closeMenu","icon","className","priority","disabled"]);const ie=X.href?"a":m.d;return Object(e.h)(ie,j({className:c()(O.item,O[de],le,{[O.disabled]:!!be}),resetCss:!0,onClick:Ce=>{Q(Ce),he()}},X),Z&&Object(e.cloneElement)(Z,{size:20,stroke:"var(--color-primary)"}),Z&&" ",Object(e.h)(g.b,{font:"text",size:14,lineHeight:20,weight:"semibold"},G))}var P=t(276),A={menu:"frontend-pencraft-Menu-module__menu--JfPuq",menuItem:"frontend-pencraft-Menu-module__menuItem--aFwuG",disabled:"frontend-pencraft-Menu-module__disabled--hIoLL",destructive:"frontend-pencraft-Menu-module__destructive--22FaT",icon:"frontend-pencraft-Menu-module__icon--2sp58",text:"frontend-pencraft-Menu-module__text--2aQuP"},_=Object.defineProperty,M=Object.defineProperties,F=Object.getOwnPropertyDescriptors,H=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,S=(B,x,G)=>x in B?_(B,x,{enumerable:!0,configurable:!0,writable:!0,value:G}):B[x]=G,D=(B,x)=>{for(var G in x||(x={}))C.call(x,G)&&S(B,G,x[G]);if(H)for(var G of H(x))T.call(x,G)&&S(B,G,x[G]);return B},w=(B,x)=>M(B,F(x)),U=(B,x)=>{var G={};for(var Q in B)C.call(B,Q)&&x.indexOf(Q)<0&&(G[Q]=B[Q]);if(B!=null&&H)for(var Q of H(B))x.indexOf(Q)<0&&T.call(B,Q)&&(G[Q]=B[Q]);return G};function V(B){return typeof B.type=="string"||B.type.$$typeof===Symbol.for("react.forward_ref")}const K=Object(a.forwardRef)((B,x)=>{var G=B,{trigger:Q,children:he,ariaLabel:Z="View more",hideOnScroll:le,layerOptions:de,layerClassName:be,onOpen:X,onClose:ie,useMobileBottomSheet:Ce=!1,mobileBottomSheetTitle:Le,mobileBottomSheetSubtitle:Ae,stopPropagation:Pe=!1,maxHeight:Ne=295}=G,ce=U(G,["trigger","children","ariaLabel","hideOnScroll","layerOptions","layerClassName","onOpen","onClose","useMobileBottomSheet","mobileBottomSheetTitle","mobileBottomSheetSubtitle","stopPropagation","maxHeight"]);V(Q)||console.error("Menu trigger must be a valid component that forwards a ref that react-laag uses, or a native dom element. See Button/IconButton for example, and preferably use those.");const q=Object(u.a)(),{triggerProps:te,layerProps:ue,renderLayer:We,isOpen:ot,setOpen:ze}=Object(P.a)({layerOptions:D({auto:!0,possiblePlacements:["bottom-start","bottom-center","bottom-end","top-start","top-center","top-end"],preferY:"bottom"},de),hideOnScroll:le&&!(Ce&&q)}),[vt,Wt]=Object(o.l)(!1),zt=()=>{ze(!1),ie&&ie()},at=Object(e.toChildArray)(he).map(Me=>Object(e.cloneElement)(Me,{useMobileBottomSheet:Ce,closeMenu:zt}));return Object(e.h)(e.Fragment,null,Object(e.cloneElement)(Q,w(D({},te),{ariaLabel:Z,onClick:Me=>{Me.preventDefault(),Pe&&Me.stopPropagation(),ze(!ot),!ot&&X&&X(),ot&&ie&&ie()}})),(ot||vt)&&We(Ce&&q?Object(e.h)(l.a,{appear:!0,show:ot,beforeEnter:()=>Wt(!0),afterLeave:()=>Wt(!1),enter:"tw-transition-all tw-ease-in-out tw-duration-200 transform-gpu",enterFrom:"tw-opacity-0",enterTo:"tw-opacity-100",leave:"tw-transition-all tw-ease-in-out tw-duration-200 transform-gpu",leaveFrom:"tw-opacity-100",leaveTo:"tw-opacity-0"},Object(e.h)("div",D(D({},ue),ce),Object(e.h)(b,{title:Le,subtitle:Ae,onClose:zt,ref:x,className:be},at))):Object(e.h)(l.a,{appear:!0,show:ot,beforeEnter:()=>Wt(!0),afterLeave:()=>Wt(!1),enter:"tw-transition-all tw-ease-in-out tw-duration-100 transform-gpu",enterFrom:"tw-opacity-0",enterTo:"tw-opacity-100",leave:"tw-transition-all tw-ease-in-out tw-duration-100 transform-gpu",leaveFrom:"tw-opacity-100",leaveTo:"tw-opacity-0"},Object(e.h)("div",D(D({},ue),ce),Object(e.h)(W,D({className:be,ref:x},!le&&{style:{maxHeight:Ne,overflowY:"auto"}}),at)))))}),Y=B=>{var x=B,{useMobileBottomSheet:G}=x,Q=U(x,["useMobileBottomSheet"]);const he=Object(u.a)();return G&&he?Object(e.h)(E,D({},Q)):Object(e.h)(R,D({},Q))},W=Object(a.forwardRef)((B,x)=>{var G=B,{className:Q}=G,he=U(G,["className"]);return Object(e.h)(p.b,D({className:c()(A.menu,"elevated",Q),padding:8,gap:8,bg:"elevated",shadow:"md",border:"detail",radius:12,ref:x},he))}),R=B=>{var x=B,{children:G,onClick:Q,closeMenu:he,icon:Z,suffix:le,priority:de="primary",className:be,disabled:X,href:ie}=x,Ce=U(x,["children","onClick","closeMenu","icon","suffix","priority","className","disabled","href"]);const Le=ie?"a":m.d;return Object(e.h)(Le,D({className:c()(A.menuItem,A[de],be,{[A.disabled]:!!X}),resetCss:!0,onClick:Ae=>{X||(Q&&Q(Ae),he&&he())},href:X?"javascript:void(0)":ie},Ce),Z&&Object(e.cloneElement)(Z,{size:24,className:c()(A.icon,Z.props.className)}),Object(e.h)(g.b.B3,{color:de==="destructive"?"accent-red":"primary",className:A.text,weight:"medium",align:"left"},G),le)}},function(k,n,t){"use strict";n.a={variables:"frontend-reader2-FeedPage2-module__variables--17eRy",page:"frontend-reader2-FeedPage2-module__page--2U6wP",miniInboxItem:"frontend-reader2-FeedPage2-module__miniInboxItem--1CmaJ",newPillContainer:"frontend-reader2-FeedPage2-module__newPillContainer--gmoh9",newPill:"frontend-reader2-FeedPage2-module__newPill--2SvFZ",hidden:"frontend-reader2-FeedPage2-module__hidden--JbEhE",facepile:"frontend-reader2-FeedPage2-module__facepile--3PfFy",face:"frontend-reader2-FeedPage2-module__face--wT_ks",tabIcon:"frontend-reader2-FeedPage2-module__tabIcon--2kjcd",feedItem:"frontend-reader2-FeedPage2-module__feedItem--41oKo",feedUnit:"frontend-reader2-FeedPage2-module__feedUnit--4Aa0c",showThreadGutter:"frontend-reader2-FeedPage2-module__showThreadGutter--3sFhu",hasAvatar:"frontend-reader2-FeedPage2-module__hasAvatar--2geOI",hasAction:"frontend-reader2-FeedPage2-module__hasAction--1nAgC",seeMoreFade:"frontend-reader2-FeedPage2-module__seeMoreFade--1l54H",seeMoreText:"frontend-reader2-FeedPage2-module__seeMoreText--1Pa7w",timestamp:"frontend-reader2-FeedPage2-module__timestamp--2yMk4",metaTimestamp:"frontend-reader2-FeedPage2-module__metaTimestamp--2twYB",feedPermalinkUnit:"frontend-reader2-FeedPage2-module__feedPermalinkUnit--2Xwbk",permalinkHeader:"frontend-reader2-FeedPage2-module__permalinkHeader--2zQY2",seeMoreReplies:"frontend-reader2-FeedPage2-module__seeMoreReplies--1pge4",seeMoreThread:"frontend-reader2-FeedPage2-module__seeMoreThread--405M7",seeMoreThreadSegment:"frontend-reader2-FeedPage2-module__seeMoreThreadSegment--_CBex",top:"frontend-reader2-FeedPage2-module__top--22SI-",hasContext:"frontend-reader2-FeedPage2-module__hasContext--keN1u",replyUnit:"frontend-reader2-FeedPage2-module__replyUnit--1NwEe",quoteText:"frontend-reader2-FeedPage2-module__quoteText--29juv",quote:"frontend-reader2-FeedPage2-module__quote--1cNKC",quoteBottom:"frontend-reader2-FeedPage2-module__quoteBottom--3wDuk",quoteButton:"frontend-reader2-FeedPage2-module__quoteButton--k_C8g",feedCommentBody:"frontend-reader2-FeedPage2-module__feedCommentBody--ZTYdO",feedCommentBodyInner:"frontend-reader2-FeedPage2-module__feedCommentBodyInner--1RG4U",peopleYouMayKnowContainer:"frontend-reader2-FeedPage2-module__peopleYouMayKnowContainer--30IaG",peopleYouMayKnow:"frontend-reader2-FeedPage2-module__peopleYouMayKnow--2Qzyd",peopleYouMayKnowArrows:"frontend-reader2-FeedPage2-module__peopleYouMayKnowArrows--FRrZ-",seeMore:"frontend-reader2-FeedPage2-module__seeMore--10e8X",contextRow:"frontend-reader2-FeedPage2-module__contextRow--32Nz5",contextIcon:"frontend-reader2-FeedPage2-module__contextIcon--3q0nK",dot:"frontend-reader2-FeedPage2-module__dot--1yQ8x",post:"frontend-reader2-FeedPage2-module__post--2xYJh",postImage:"frontend-reader2-FeedPage2-module__postImage--YpHXP",linkImage:"frontend-reader2-FeedPage2-module__linkImage--2nrxu",mobile:"frontend-reader2-FeedPage2-module__mobile--3UVVr",linkImagePlaceholder:"frontend-reader2-FeedPage2-module__linkImagePlaceholder--2xkNj",actionRow:"frontend-reader2-FeedPage2-module__actionRow--2yuai",actionButton:"frontend-reader2-FeedPage2-module__actionButton--2cEPA",permalink:"frontend-reader2-FeedPage2-module__permalink--3B9Df",heart:"frontend-reader2-FeedPage2-module__heart--2cEOU",more:"frontend-reader2-FeedPage2-module__more--1guy7",shrink:"frontend-reader2-FeedPage2-module__shrink--FMwfZ",digit:"frontend-reader2-FeedPage2-module__digit--W9qrX",like:"frontend-reader2-FeedPage2-module__like--2BSgx",active:"frontend-reader2-FeedPage2-module__active--3VWA4",reply:"frontend-reader2-FeedPage2-module__reply--3cfye",restack:"frontend-reader2-FeedPage2-module__restack--mDyet",share:"frontend-reader2-FeedPage2-module__share--2GqWI",shortPostText:"frontend-reader2-FeedPage2-module__shortPostText--2WUee",large:"frontend-reader2-FeedPage2-module__large--1iLis",stat:"frontend-reader2-FeedPage2-module__stat--21hld",reportModal:"frontend-reader2-FeedPage2-module__reportModal--2Dks8",likeButton:"frontend-reader2-FeedPage2-module__likeButton--3aKPX",heartWrapper:"frontend-reader2-FeedPage2-module__heartWrapper--woI6f",clickedOnce:"frontend-reader2-FeedPage2-module__clickedOnce--1d8OC",isLiked:"frontend-reader2-FeedPage2-module__isLiked--1SkIq","heart-bounce":"frontend-reader2-FeedPage2-module__heart-bounce--xp-SL",spark:"frontend-reader2-FeedPage2-module__spark--2uENk","spark-burst":"frontend-reader2-FeedPage2-module__spark-burst--1RB8f",sparks:"frontend-reader2-FeedPage2-module__sparks--37JmW",ripple:"frontend-reader2-FeedPage2-module__ripple--3LqbM",userBadge:"frontend-reader2-FeedPage2-module__userBadge--30ZqO",mutedItem:"frontend-reader2-FeedPage2-module__mutedItem--27k43",suggestionsLoadMore:"frontend-reader2-FeedPage2-module__suggestionsLoadMore--2R38G"}},function(k,n,t){"use strict";t.d(n,"a",function(){return j}),t.d(n,"b",function(){return y}),t.d(n,"c",function(){return b}),t.d(n,"e",function(){return E}),t.d(n,"d",function(){return P});var e=t(0),a=t(1),o=t(18),l=Object.defineProperty,d=Object.defineProperties,c=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,p=(_,M,F)=>M in _?l(_,M,{enumerable:!0,configurable:!0,writable:!0,value:F}):_[M]=F,g=(_,M)=>{for(var F in M||(M={}))f.call(M,F)&&p(_,F,M[F]);if(u)for(var F of u(M))m.call(M,F)&&p(_,F,M[F]);return _},O=(_,M)=>d(_,c(M)),s=(_,M,F)=>new Promise((H,C)=>{var T=w=>{try{D(F.next(w))}catch(U){C(U)}},S=w=>{try{D(F.throw(w))}catch(U){C(U)}},D=w=>w.done?H(w.value):Promise.resolve(w.value).then(T,S);D((F=F.apply(_,M)).next())}),r,i;const h=typeof window!="undefined"?(r=window._preloads)==null?void 0:r.user:null,v=typeof window!="undefined"?(i=window._preloads)==null?void 0:i.userSettings:{},j=Object(e.createContext)({user:h,setUser:()=>{},userSettings:v,changeSetting:()=>{}});j.displayName="UserContext";function y({defaultValue:_,userSettings:M,children:F}){const[H,C]=Object(a.l)(_||h),[T,S]=Object(a.l)(M!=null?M:v),D=(U,V)=>s(this,null,function*(){if(!H)return;const K=T[U];S(O(g({},T),{[U]:V}));const Y=typeof V=="boolean"?V:void 0,W=typeof V=="string"?V:void 0;try{yield Object(o.c)("/api/v1/user-setting",{method:"PUT",json:{type:U,value_bool:Y,value_datetime:W}})}catch(R){if(R instanceof o.b)alert(R.getMessage()),S(B=>O(g({},B),{[U]:K}));else throw R}}),w=Object(a.i)(()=>({user:H,setUser:C,userSettings:T,changeSetting:D}),[H,T]);return Object(e.h)(j.Provider,{value:w},F)}function b(){return Object(a.b)(j).user}function E(){return Object(a.b)(j).userSettings}function P(){return Object(a.b)(j)}const A=_=>{const M=F=>{const H=Object(a.b)(j);return Object(e.h)(_,g({user:H},F))};return M.displayName=`withUserContext(${_.name||_.displayName||"Anonymous"})`,M}},function(k,n,t){"use strict";t.d(n,"c",function(){return v}),t.d(n,"a",function(){return j}),t.d(n,"b",function(){return y}),t.d(n,"d",function(){return C}),t.d(n,"f",function(){return T}),t.d(n,"e",function(){return S});var e=t(0),a=t(1),o=t(551),l=t(5),d=t.n(l),c=t(193),u=t(174),f=t(116),m=t(64),p=t(2),g=Object.defineProperty,O=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,i=(D,w,U)=>w in D?g(D,w,{enumerable:!0,configurable:!0,writable:!0,value:U}):D[w]=U,h=(D,w)=>{for(var U in w||(w={}))s.call(w,U)&&i(D,U,w[U]);if(O)for(var U of O(w))r.call(w,U)&&i(D,U,w[U]);return D};function v({text:D,cta:w,onAccept:U,href:V,onClose:K,Icon:Y,className:W}){return Object(e.h)(E,{className:d()("tw-items-center",W)},Object(e.h)(p.c,{className:"tw-flex-1",gap:12},Y&&Object(e.h)(M,{Icon:Y}),Object(e.h)(P,null,D)),Object(e.h)(p.c,{className:"tw-flex-none",gap:12},w&&(typeof w=="string"?(V||U)&&Object(e.h)(m.a,{look:"flex",onClick:R=>{K==null||K(),U==null||U(R)},href:V},Object(e.h)(u.c,{className:"tw-text-dark-secondary"},w)):w),Object(e.h)("div",{className:"tw-w-px tw-self-stretch tw-bg-dark-detail"}),Object(e.h)(_,{onClick:K})))}function j({title:D,body:w,buttons:U,onClose:V,Icon:K}){return Object(e.h)(E,{className:"tw-max-w-md"},K&&Object(e.h)(M,{Icon:K}),Object(e.h)(p.b,{className:"tw-flex-0-5",gap:8},Object(e.h)(p.b,{className:"tw-flex-0-5",gap:4},Object(e.h)(P,null,D),Object(e.h)(A,null,w)),U&&Object(e.h)(p.c,{gap:24},U)),Object(e.h)(_,{onClick:V}))}function y(D){return Object(e.h)(m.a,h({look:"flex",className:"tw-h-9 tw-items-center"},D))}function b(D){return Object(e.h)("div",{className:F},Object(e.h)(v,h({},D)))}const E=Object(f.a)("tw-flex tw-gap-8 tw-rounded-lg tw-px-4 tw-py-4 tw-border tw-border-solid tw-border-tooltip-detail tw-bg-tooltip-bg tw-drop-shadow-md"),P=Object(f.a)("min-h-5 tw-flex-1-1 tw-font-medium tw-text-dark-primary tw-items-center",u.b),A=Object(f.a)("min-h-5 tw-flex-1 0 tw-text-dark-secondary tw-items-center",u.b);function _({onClick:D}){return Object(e.h)(m.a,{look:"flex",onClick:D},Object(e.h)(c.a,{className:"tw-stroke-dark-secondary",strokeWidth:1.5,size:20}))}function M({Icon:D}){return Object(e.h)(D,{className:"tw-shrink-0 tw-basis-5 tw-stroke-dark-primary",strokeWidth:1.5,size:20})}const F="tw-fixed tw-bottom-1 tw-right-2.5 tw-left-2.5 md:tw-left-auto md:tw-bottom-4 md:tw-right-4 md:tw-pl-4 tw-z-40",H=Object(e.createContext)({popToast:()=>{throw new Error("Popping toast requires a ToastProvider.")},addOffset:()=>{}});function C({children:D}){const[w,U]=Object(a.l)(null),[V,K]=Object(a.l)("hidden"),[Y,W]=Object(a.l)(0),R=Object(a.k)(null),B=()=>{K("hidden")},x=(Q,{ttl:he=5e3}={})=>{U({element:Q({onClose:B}),ttl:he}),K("visible"),R.current!=null&&clearTimeout(R.current),R.current=he===null?null:setTimeout(B,he)},G=Q=>{W(Math.min(Y+Q,0))};return Object(e.h)(H.Provider,{value:{popToast:x,addOffset:G}},D,Object(e.h)("div",{className:F,style:{transform:`translateY(${Y}px)`}},Object(e.h)(o.a,{appear:!0,show:Boolean(w)&&V==="visible",enter:"tw-transition-all tw-duration-500 transform-gpu",enterFrom:"tw-opacity-0 tw-translate-y-4",enterTo:"tw-opacity-100 tw-translate-y-0",leave:"tw-transition-all tw-duration-500 transform-gpu",leaveFrom:"tw-opacity-100 tw-translate-y-0",leaveTo:"tw-opacity-0 tw-translate-y-4",onMouseEnter:()=>R.current!=null&&clearTimeout(R.current),onMouseLeave:()=>{R.current!=null&&clearTimeout(R.current),w&&(R.current=w.ttl===null?null:setTimeout(B,w.ttl))}},w==null?void 0:w.element)))}const T=D=>{const w=U=>{const V=S();return Object(e.h)(D,h(h({},V),U))};return w.displayName=`withToastContext(${D.name||D.displayName||"Anonymous"})`,w};function S(){return Object(a.b)(H)}},function(k,n,t){"use strict";t.r(n),t.d(n,"AllSelection",function(){return O}),t.d(n,"EditorState",function(){return _}),t.d(n,"NodeSelection",function(){return p}),t.d(n,"Plugin",function(){return F}),t.d(n,"PluginKey",function(){return T}),t.d(n,"Selection",function(){return l}),t.d(n,"SelectionRange",function(){return d}),t.d(n,"TextSelection",function(){return f}),t.d(n,"Transaction",function(){return y});var e=t(20),a=t(46);const o=Object.create(null);class l{constructor(D,w,U){this.$anchor=D,this.$head=w,this.ranges=U||[new d(D.min(w),D.max(w))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let D=this.ranges;for(let w=0;w<D.length;w++)if(D[w].$from.pos!=D[w].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(D,w=e.Slice.empty){let U=w.content.lastChild,V=null;for(let W=0;W<w.openEnd;W++)V=U,U=U.lastChild;let K=D.steps.length,Y=this.ranges;for(let W=0;W<Y.length;W++){let{$from:R,$to:B}=Y[W],x=D.mapping.slice(K);D.replaceRange(x.map(R.pos),x.map(B.pos),W?e.Slice.empty:w),W==0&&i(D,K,(U?U.isInline:V&&V.isTextblock)?-1:1)}}replaceWith(D,w){let U=D.steps.length,V=this.ranges;for(let K=0;K<V.length;K++){let{$from:Y,$to:W}=V[K],R=D.mapping.slice(U),B=R.map(Y.pos),x=R.map(W.pos);K?D.deleteRange(B,x):(D.replaceRangeWith(B,x,w),i(D,U,w.isInline?-1:1))}}static findFrom(D,w,U=!1){let V=D.parent.inlineContent?new f(D):r(D.node(0),D.parent,D.pos,D.index(),w,U);if(V)return V;for(let K=D.depth-1;K>=0;K--){let Y=w<0?r(D.node(0),D.node(K),D.before(K+1),D.index(K),w,U):r(D.node(0),D.node(K),D.after(K+1),D.index(K)+1,w,U);if(Y)return Y}return null}static near(D,w=1){return this.findFrom(D,w)||this.findFrom(D,-w)||new O(D.node(0))}static atStart(D){return r(D,D,0,0,1)||new O(D)}static atEnd(D){return r(D,D,D.content.size,D.childCount,-1)||new O(D)}static fromJSON(D,w){if(!w||!w.type)throw new RangeError("Invalid input for Selection.fromJSON");let U=o[w.type];if(!U)throw new RangeError(`No selection type ${w.type} defined`);return U.fromJSON(D,w)}static jsonID(D,w){if(D in o)throw new RangeError("Duplicate use of selection JSON ID "+D);return o[D]=w,w.prototype.jsonID=D,w}getBookmark(){return f.between(this.$anchor,this.$head).getBookmark()}}l.prototype.visible=!0;class d{constructor(D,w){this.$from=D,this.$to=w}}let c=!1;function u(S){!c&&!S.parent.inlineContent&&(c=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+S.parent.type.name+")"))}class f extends l{constructor(D,w=D){u(D),u(w);super(D,w)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(D,w){let U=D.resolve(w.map(this.head));if(!U.parent.inlineContent)return l.near(U);let V=D.resolve(w.map(this.anchor));return new f(V.parent.inlineContent?V:U,U)}replace(D,w=e.Slice.empty){if(super.replace(D,w),w==e.Slice.empty){let U=this.$from.marksAcross(this.$to);U&&D.ensureMarks(U)}}eq(D){return D instanceof f&&D.anchor==this.anchor&&D.head==this.head}getBookmark(){return new m(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(D,w){if(typeof w.anchor!="number"||typeof w.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new f(D.resolve(w.anchor),D.resolve(w.head))}static create(D,w,U=w){let V=D.resolve(w);return new this(V,U==w?V:D.resolve(U))}static between(D,w,U){let V=D.pos-w.pos;if((!U||V)&&(U=V>=0?1:-1),!w.parent.inlineContent){let K=l.findFrom(w,U,!0)||l.findFrom(w,-U,!0);if(K)w=K.$head;else return l.near(w,U)}return D.parent.inlineContent||(V==0?D=w:(D=(l.findFrom(D,-U,!0)||l.findFrom(D,U,!0)).$anchor,D.pos<w.pos!=V<0&&(D=w))),new f(D,w)}}l.jsonID("text",f);class m{constructor(D,w){this.anchor=D,this.head=w}map(D){return new m(D.map(this.anchor),D.map(this.head))}resolve(D){return f.between(D.resolve(this.anchor),D.resolve(this.head))}}class p extends l{constructor(D){let w=D.nodeAfter,U=D.node(0).resolve(D.pos+w.nodeSize);super(D,U);this.node=w}map(D,w){let{deleted:U,pos:V}=w.mapResult(this.anchor),K=D.resolve(V);return U?l.near(K):new p(K)}content(){return new e.Slice(e.Fragment.from(this.node),0,0)}eq(D){return D instanceof p&&D.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new g(this.anchor)}static fromJSON(D,w){if(typeof w.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new p(D.resolve(w.anchor))}static create(D,w){return new p(D.resolve(w))}static isSelectable(D){return!D.isText&&D.type.spec.selectable!==!1}}p.prototype.visible=!1,l.jsonID("node",p);class g{constructor(D){this.anchor=D}map(D){let{deleted:w,pos:U}=D.mapResult(this.anchor);return w?new m(U,U):new g(U)}resolve(D){let w=D.resolve(this.anchor),U=w.nodeAfter;return U&&p.isSelectable(U)?new p(w):l.near(w)}}class O extends l{constructor(D){super(D.resolve(0),D.resolve(D.content.size))}replace(D,w=e.Slice.empty){if(w==e.Slice.empty){D.delete(0,D.doc.content.size);let U=l.atStart(D.doc);U.eq(D.selection)||D.setSelection(U)}else super.replace(D,w)}toJSON(){return{type:"all"}}static fromJSON(D){return new O(D)}map(D){return new O(D)}eq(D){return D instanceof O}getBookmark(){return s}}l.jsonID("all",O);const s={map(){return this},resolve(S){return new O(S)}};function r(S,D,w,U,V,K=!1){if(D.inlineContent)return f.create(S,w);for(let Y=U-(V>0?0:1);V>0?Y<D.childCount:Y>=0;Y+=V){let W=D.child(Y);if(W.isAtom){if(!K&&p.isSelectable(W))return p.create(S,w-(V<0?W.nodeSize:0))}else{let R=r(S,W,w+V,V<0?W.childCount:0,V,K);if(R)return R}w+=W.nodeSize*V}return null}function i(S,D,w){let U=S.steps.length-1;if(U<D)return;let V=S.steps[U];if(!(V instanceof a.ReplaceStep||V instanceof a.ReplaceAroundStep))return;let K=S.mapping.maps[U],Y;K.forEach((W,R,B,x)=>{Y==null&&(Y=x)}),S.setSelection(l.near(S.doc.resolve(Y),w))}const h=1,v=2,j=4;class y extends a.Transform{constructor(D){super(D.doc);this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=D.selection,this.storedMarks=D.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(D){if(D.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=D,this.curSelectionFor=this.steps.length,this.updated=(this.updated|h)&~v,this.storedMarks=null,this}get selectionSet(){return(this.updated&h)>0}setStoredMarks(D){return this.storedMarks=D,this.updated|=v,this}ensureMarks(D){return e.Mark.sameSet(this.storedMarks||this.selection.$from.marks(),D)||this.setStoredMarks(D),this}addStoredMark(D){return this.ensureMarks(D.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(D){return this.ensureMarks(D.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&v)>0}addStep(D,w){super.addStep(D,w),this.updated=this.updated&~v,this.storedMarks=null}setTime(D){return this.time=D,this}replaceSelection(D){return this.selection.replace(this,D),this}replaceSelectionWith(D,w=!0){let U=this.selection;return w&&(D=D.mark(this.storedMarks||(U.empty?U.$from.marks():U.$from.marksAcross(U.$to)||e.Mark.none))),U.replaceWith(this,D),this}deleteSelection(){return this.selection.replace(this),this}insertText(D,w,U){let V=this.doc.type.schema;if(w==null)return D?this.replaceSelectionWith(V.text(D),!0):this.deleteSelection();{if(U==null&&(U=w),U=U==null?w:U,!D)return this.deleteRange(w,U);let K=this.storedMarks;if(!K){let Y=this.doc.resolve(w);K=U==w?Y.marks():Y.marksAcross(this.doc.resolve(U))}return this.replaceRangeWith(w,U,V.text(D,K)),this.selection.empty||this.setSelection(l.near(this.selection.$to)),this}}setMeta(D,w){return this.meta[typeof D=="string"?D:D.key]=w,this}getMeta(D){return this.meta[typeof D=="string"?D:D.key]}get isGeneric(){for(let D in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=j,this}get scrolledIntoView(){return(this.updated&j)>0}}function b(S,D){return!D||!S?S:S.bind(D)}class E{constructor(D,w,U){this.name=D,this.init=b(w.init,U),this.apply=b(w.apply,U)}}const P=[new E("doc",{init(S){return S.doc||S.schema.topNodeType.createAndFill()},apply(S){return S.doc}}),new E("selection",{init(S,D){return S.selection||l.atStart(D.doc)},apply(S){return S.selection}}),new E("storedMarks",{init(S){return S.storedMarks||null},apply(S,D,w,U){return U.selection.$cursor?S.storedMarks:null}}),new E("scrollToSelection",{init(){return 0},apply(S,D){return S.scrolledIntoView?D+1:D}})];class A{constructor(D,w){this.schema=D,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=P.slice(),w&&w.forEach(U=>{if(this.pluginsByKey[U.key])throw new RangeError("Adding different instances of a keyed plugin ("+U.key+")");this.plugins.push(U),this.pluginsByKey[U.key]=U,U.spec.state&&this.fields.push(new E(U.key,U.spec.state,U))})}}class _{constructor(D){this.config=D}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(D){return this.applyTransaction(D).state}filterTransaction(D,w=-1){for(let U=0;U<this.config.plugins.length;U++)if(U!=w){let V=this.config.plugins[U];if(V.spec.filterTransaction&&!V.spec.filterTransaction.call(V,D,this))return!1}return!0}applyTransaction(D){if(!this.filterTransaction(D))return{state:this,transactions:[]};let w=[D],U=this.applyInner(D),V=null;for(;;){let K=!1;for(let Y=0;Y<this.config.plugins.length;Y++){let W=this.config.plugins[Y];if(W.spec.appendTransaction){let R=V?V[Y].n:0,B=V?V[Y].state:this,x=R<w.length&&W.spec.appendTransaction.call(W,R?w.slice(R):w,B,U);if(x&&U.filterTransaction(x,Y)){if(x.setMeta("appendedTransaction",D),!V){V=[];for(let G=0;G<this.config.plugins.length;G++)V.push(G<Y?{state:U,n:w.length}:{state:this,n:0})}w.push(x),U=U.applyInner(x),K=!0}V&&(V[Y]={state:U,n:w.length})}}if(!K)return{state:U,transactions:w}}}applyInner(D){if(!D.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let w=new _(this.config),U=this.config.fields;for(let V=0;V<U.length;V++){let K=U[V];w[K.name]=K.apply(D,this[K.name],this,w)}return w}get tr(){return new y(this)}static create(D){let w=new A(D.doc?D.doc.type.schema:D.schema,D.plugins),U=new _(w);for(let V=0;V<w.fields.length;V++)U[w.fields[V].name]=w.fields[V].init(D,U);return U}reconfigure(D){let w=new A(this.schema,D.plugins),U=w.fields,V=new _(w);for(let K=0;K<U.length;K++){let Y=U[K].name;V[Y]=this.hasOwnProperty(Y)?this[Y]:U[K].init(D,V)}return V}toJSON(D){let w={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(w.storedMarks=this.storedMarks.map(U=>U.toJSON())),D&&typeof D=="object")for(let U in D){if(U=="doc"||U=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let V=D[U],K=V.spec.state;K&&K.toJSON&&(w[U]=K.toJSON.call(V,this[V.key]))}return w}static fromJSON(D,w,U){if(!w)throw new RangeError("Invalid input for EditorState.fromJSON");if(!D.schema)throw new RangeError("Required config field 'schema' missing");let V=new A(D.schema,D.plugins),K=new _(V);return V.fields.forEach(Y=>{if(Y.name=="doc")K.doc=e.Node.fromJSON(D.schema,w.doc);else if(Y.name=="selection")K.selection=l.fromJSON(K.doc,w.selection);else if(Y.name=="storedMarks")w.storedMarks&&(K.storedMarks=w.storedMarks.map(D.schema.markFromJSON));else{if(U)for(let W in U){let R=U[W],B=R.spec.state;if(R.key==Y.name&&B&&B.fromJSON&&Object.prototype.hasOwnProperty.call(w,W)){K[Y.name]=B.fromJSON.call(R,D,w[W],K);return}}K[Y.name]=Y.init(D,K)}}),K}}function M(S,D,w){for(let U in S){let V=S[U];V instanceof Function?V=V.bind(D):U=="handleDOMEvents"&&(V=M(V,D,{})),w[U]=V}return w}class F{constructor(D){this.spec=D,this.props={},D.props&&M(D.props,this,this.props),this.key=D.key?D.key.key:C("plugin")}getState(D){return D[this.key]}}const H=Object.create(null);function C(S){return S in H?S+"$"+ ++H[S]:(H[S]=0,S+"$")}class T{constructor(D="key"){this.key=C(D)}get(D){return D.config.pluginsByKey[this.key]}getState(D){return D[this.key]}}},,,,function(k,n,t){"use strict";n.a={reset:"frontend-pencraft-Box-module__reset--tAIEo","display-block":"frontend-pencraft-Box-module__display-block--39Xd2","display-inline":"frontend-pencraft-Box-module__display-inline--2JWms","display-inline-block":"frontend-pencraft-Box-module__display-inline-block--3Wt1u","display-flex":"frontend-pencraft-Box-module__display-flex--379wL","display-inline-flex":"frontend-pencraft-Box-module__display-inline-flex--2gC-m","display-none":"frontend-pencraft-Box-module__display-none--1vMjl","flex-direction-column":"frontend-pencraft-Box-module__flex-direction-column--3WtIZ","flex-direction-row":"frontend-pencraft-Box-module__flex-direction-row--3t7pJ","flex-direction-row-reverse":"frontend-pencraft-Box-module__flex-direction-row-reverse--HOVh5","flex-direction-column-reverse":"frontend-pencraft-Box-module__flex-direction-column-reverse--1vclx","flex-wrap-nowrap":"frontend-pencraft-Box-module__flex-wrap-nowrap--1Z3Md","flex-wrap-wrap":"frontend-pencraft-Box-module__flex-wrap-wrap--GMSUr","flex-wrap-wrap-reverse":"frontend-pencraft-Box-module__flex-wrap-wrap-reverse--2RfIG","flex-justify-start":"frontend-pencraft-Box-module__flex-justify-start--1Hbg_","flex-justify-space-between":"frontend-pencraft-Box-module__flex-justify-space-between--2plan","flex-justify-center":"frontend-pencraft-Box-module__flex-justify-center--3_JWr","flex-justify-end":"frontend-pencraft-Box-module__flex-justify-end--19HdE","flex-align-start":"frontend-pencraft-Box-module__flex-align-start--1PeDC","flex-align-end":"frontend-pencraft-Box-module__flex-align-end--1De2X","flex-align-center":"frontend-pencraft-Box-module__flex-align-center--2Hbzh","flex-align-stretch":"frontend-pencraft-Box-module__flex-align-stretch--38ZSq","flex-align-baseline":"frontend-pencraft-Box-module__flex-align-baseline--3TJC1","flex-align-self-start":"frontend-pencraft-Box-module__flex-align-self-start--2tw-0","flex-align-self-end":"frontend-pencraft-Box-module__flex-align-self-end--2WqeM","flex-align-self-center":"frontend-pencraft-Box-module__flex-align-self-center--2fPjS","flex-align-self-stretch":"frontend-pencraft-Box-module__flex-align-self-stretch--IVKkq","flex-align-self-baseline":"frontend-pencraft-Box-module__flex-align-self-baseline--2pCNm","flex-gap-0":"frontend-pencraft-Box-module__flex-gap-0--1Gyo7","flex-gap-2":"frontend-pencraft-Box-module__flex-gap-2--2OiTM","flex-gap-4":"frontend-pencraft-Box-module__flex-gap-4--1yqLa","flex-gap-6":"frontend-pencraft-Box-module__flex-gap-6--iNjof","flex-gap-8":"frontend-pencraft-Box-module__flex-gap-8--9VnmZ","flex-gap-12":"frontend-pencraft-Box-module__flex-gap-12--2Ko3l","flex-gap-16":"frontend-pencraft-Box-module__flex-gap-16--1-GDy","flex-gap-20":"frontend-pencraft-Box-module__flex-gap-20--KN5df","flex-gap-24":"frontend-pencraft-Box-module__flex-gap-24--2OyIi","flex-gap-32":"frontend-pencraft-Box-module__flex-gap-32--NMRNY","flex-gap-36":"frontend-pencraft-Box-module__flex-gap-36--15TzN","flex-gap-40":"frontend-pencraft-Box-module__flex-gap-40--23vE6","flex-gap-48":"frontend-pencraft-Box-module__flex-gap-48--38CI6","flex-gap-56":"frontend-pencraft-Box-module__flex-gap-56--1u-W2","flex-gap-64":"frontend-pencraft-Box-module__flex-gap-64--hk7Zk","flex-gap-80":"frontend-pencraft-Box-module__flex-gap-80--3wMr7","flex-gap-96":"frontend-pencraft-Box-module__flex-gap-96--24FyR","flex-gap-120":"frontend-pencraft-Box-module__flex-gap-120--6Hvrz","padding-0":"frontend-pencraft-Box-module__padding-0--P370k","padding-4":"frontend-pencraft-Box-module__padding-4--39VMU","padding-6":"frontend-pencraft-Box-module__padding-6--YA7oi","padding-8":"frontend-pencraft-Box-module__padding-8--3vQWl","padding-12":"frontend-pencraft-Box-module__padding-12--3HXiR","padding-16":"frontend-pencraft-Box-module__padding-16--1RzFC","padding-20":"frontend-pencraft-Box-module__padding-20--urs7d","padding-24":"frontend-pencraft-Box-module__padding-24--V7N4U","padding-32":"frontend-pencraft-Box-module__padding-32--3jhS8","padding-40":"frontend-pencraft-Box-module__padding-40--1RQIv","padding-48":"frontend-pencraft-Box-module__padding-48--38CH3","padding-56":"frontend-pencraft-Box-module__padding-56--tcSvD","padding-64":"frontend-pencraft-Box-module__padding-64--2dxXx","padding-80":"frontend-pencraft-Box-module__padding-80--2kKfm","padding-120":"frontend-pencraft-Box-module__padding-120--2mkQP","padding-y-0":"frontend-pencraft-Box-module__padding-y-0--2ymhO","padding-y-4":"frontend-pencraft-Box-module__padding-y-4--1T7bE","padding-y-6":"frontend-pencraft-Box-module__padding-y-6--2J9qy","padding-y-8":"frontend-pencraft-Box-module__padding-y-8--1t28C","padding-y-12":"frontend-pencraft-Box-module__padding-y-12--1UlmF","padding-y-16":"frontend-pencraft-Box-module__padding-y-16--4Q7bU","padding-y-20":"frontend-pencraft-Box-module__padding-y-20--3YkKH","padding-y-24":"frontend-pencraft-Box-module__padding-y-24--2AsRz","padding-y-32":"frontend-pencraft-Box-module__padding-y-32--3q5sW","padding-y-36":"frontend-pencraft-Box-module__padding-y-36--2z0Kr","padding-y-40":"frontend-pencraft-Box-module__padding-y-40--2GjQO","padding-y-48":"frontend-pencraft-Box-module__padding-y-48--2uMHM","padding-y-56":"frontend-pencraft-Box-module__padding-y-56--3VTnU","padding-y-64":"frontend-pencraft-Box-module__padding-y-64--1M6fk","padding-y-80":"frontend-pencraft-Box-module__padding-y-80--1W1zw","padding-y-120":"frontend-pencraft-Box-module__padding-y-120--1FRDv","padding-x-0":"frontend-pencraft-Box-module__padding-x-0--135Mt","padding-x-4":"frontend-pencraft-Box-module__padding-x-4--1zGce","padding-x-6":"frontend-pencraft-Box-module__padding-x-6--2aKO3","padding-x-8":"frontend-pencraft-Box-module__padding-x-8--3TTvK","padding-x-12":"frontend-pencraft-Box-module__padding-x-12--3uh6d","padding-x-16":"frontend-pencraft-Box-module__padding-x-16--23f9P","padding-x-20":"frontend-pencraft-Box-module__padding-x-20--1WS25","padding-x-24":"frontend-pencraft-Box-module__padding-x-24--2PjgP","padding-x-32":"frontend-pencraft-Box-module__padding-x-32--csfJg","padding-x-40":"frontend-pencraft-Box-module__padding-x-40--1pihl","padding-x-48":"frontend-pencraft-Box-module__padding-x-48--1eHM3","padding-x-56":"frontend-pencraft-Box-module__padding-x-56--2h5sf","padding-x-64":"frontend-pencraft-Box-module__padding-x-64--r-gom","padding-x-80":"frontend-pencraft-Box-module__padding-x-80--VnWy1","padding-x-120":"frontend-pencraft-Box-module__padding-x-120--3e_9a","padding-top-0":"frontend-pencraft-Box-module__padding-top-0--1Glp3","padding-top-4":"frontend-pencraft-Box-module__padding-top-4--UXObJ","padding-top-6":"frontend-pencraft-Box-module__padding-top-6--kVTy-","padding-top-8":"frontend-pencraft-Box-module__padding-top-8--16qTe","padding-top-12":"frontend-pencraft-Box-module__padding-top-12--p11Aa","padding-top-16":"frontend-pencraft-Box-module__padding-top-16--3gY0Q","padding-top-20":"frontend-pencraft-Box-module__padding-top-20--3VUw_","padding-top-24":"frontend-pencraft-Box-module__padding-top-24--2UtjZ","padding-top-32":"frontend-pencraft-Box-module__padding-top-32--JhqOg","padding-top-36":"frontend-pencraft-Box-module__padding-top-36--3FqxL","padding-top-40":"frontend-pencraft-Box-module__padding-top-40--rwD_7","padding-top-48":"frontend-pencraft-Box-module__padding-top-48--32fmd","padding-top-56":"frontend-pencraft-Box-module__padding-top-56--241Jh","padding-top-64":"frontend-pencraft-Box-module__padding-top-64--2p1JX","padding-top-80":"frontend-pencraft-Box-module__padding-top-80--fkXMd","padding-top-120":"frontend-pencraft-Box-module__padding-top-120--1hA1Z","padding-bottom-0":"frontend-pencraft-Box-module__padding-bottom-0--1uL1U","padding-bottom-4":"frontend-pencraft-Box-module__padding-bottom-4--2_VKu","padding-bottom-6":"frontend-pencraft-Box-module__padding-bottom-6--2-6Ml","padding-bottom-8":"frontend-pencraft-Box-module__padding-bottom-8--3pjq7","padding-bottom-12":"frontend-pencraft-Box-module__padding-bottom-12--cjFfk","padding-bottom-16":"frontend-pencraft-Box-module__padding-bottom-16--26C97","padding-bottom-20":"frontend-pencraft-Box-module__padding-bottom-20--3WQxw","padding-bottom-24":"frontend-pencraft-Box-module__padding-bottom-24--3dqGM","padding-bottom-32":"frontend-pencraft-Box-module__padding-bottom-32--1JnW_","padding-bottom-40":"frontend-pencraft-Box-module__padding-bottom-40--3EHzL","padding-bottom-48":"frontend-pencraft-Box-module__padding-bottom-48--263rx","padding-bottom-56":"frontend-pencraft-Box-module__padding-bottom-56--3RZi7","padding-bottom-64":"frontend-pencraft-Box-module__padding-bottom-64--AfOf2","padding-bottom-80":"frontend-pencraft-Box-module__padding-bottom-80--3_eDO","padding-bottom-120":"frontend-pencraft-Box-module__padding-bottom-120--2ETfw","padding-left-0":"frontend-pencraft-Box-module__padding-left-0--1Y7MJ","padding-left-4":"frontend-pencraft-Box-module__padding-left-4--1twOt","padding-left-6":"frontend-pencraft-Box-module__padding-left-6--2dutO","padding-left-8":"frontend-pencraft-Box-module__padding-left-8--2kR3r","padding-left-12":"frontend-pencraft-Box-module__padding-left-12--1WZ26","padding-left-16":"frontend-pencraft-Box-module__padding-left-16--3z4sY","padding-left-20":"frontend-pencraft-Box-module__padding-left-20--2Qbru","padding-left-24":"frontend-pencraft-Box-module__padding-left-24--34w5e","padding-left-32":"frontend-pencraft-Box-module__padding-left-32--24CcK","padding-left-40":"frontend-pencraft-Box-module__padding-left-40--2PYmp","padding-left-48":"frontend-pencraft-Box-module__padding-left-48--12YG4","padding-left-56":"frontend-pencraft-Box-module__padding-left-56--Y0f6V","padding-left-64":"frontend-pencraft-Box-module__padding-left-64--2odlC","padding-left-80":"frontend-pencraft-Box-module__padding-left-80--1QwRj","padding-left-96":"frontend-pencraft-Box-module__padding-left-96--2ZCnC","padding-left-120":"frontend-pencraft-Box-module__padding-left-120--1XRA5","padding-right-0":"frontend-pencraft-Box-module__padding-right-0--373iP","padding-right-4":"frontend-pencraft-Box-module__padding-right-4--2ypo2","padding-right-6":"frontend-pencraft-Box-module__padding-right-6--3eyDL","padding-right-8":"frontend-pencraft-Box-module__padding-right-8--2T68r","padding-right-12":"frontend-pencraft-Box-module__padding-right-12--3oF3R","padding-right-16":"frontend-pencraft-Box-module__padding-right-16--3mUoM","padding-right-20":"frontend-pencraft-Box-module__padding-right-20--3wiOh","padding-right-24":"frontend-pencraft-Box-module__padding-right-24--1uS0z","padding-right-32":"frontend-pencraft-Box-module__padding-right-32--4PtjW","padding-right-40":"frontend-pencraft-Box-module__padding-right-40--26KiF","padding-right-48":"frontend-pencraft-Box-module__padding-right-48--7HqLs","padding-right-56":"frontend-pencraft-Box-module__padding-right-56--3g-Gx","padding-right-64":"frontend-pencraft-Box-module__padding-right-64--15qtR","padding-right-80":"frontend-pencraft-Box-module__padding-right-80--34ATA","padding-right-120":"frontend-pencraft-Box-module__padding-right-120--12Cad","display-mobile-block":"frontend-pencraft-Box-module__display-mobile-block--1GNEl","display-mobile-inline":"frontend-pencraft-Box-module__display-mobile-inline--m67hS","display-mobile-inline-block":"frontend-pencraft-Box-module__display-mobile-inline-block--HZQ-e","display-mobile-flex":"frontend-pencraft-Box-module__display-mobile-flex--1SIz1","display-mobile-inline-flex":"frontend-pencraft-Box-module__display-mobile-inline-flex--Fasx1","display-mobile-none":"frontend-pencraft-Box-module__display-mobile-none--2oMMN","flex-direction-mobile-column":"frontend-pencraft-Box-module__flex-direction-mobile-column--RXg7C","flex-direction-mobile-row":"frontend-pencraft-Box-module__flex-direction-mobile-row--16MvG","flex-direction-mobile-row-reverse":"frontend-pencraft-Box-module__flex-direction-mobile-row-reverse--2AAU0","flex-direction-mobile-column-reverse":"frontend-pencraft-Box-module__flex-direction-mobile-column-reverse--2Ymf1","flex-wrap-mobile-nowrap":"frontend-pencraft-Box-module__flex-wrap-mobile-nowrap--1XeqT","flex-wrap-mobile-wrap":"frontend-pencraft-Box-module__flex-wrap-mobile-wrap--2uWbE","flex-wrap-mobile-wrap-reverse":"frontend-pencraft-Box-module__flex-wrap-mobile-wrap-reverse--27LnP","flex-justify-mobile-start":"frontend-pencraft-Box-module__flex-justify-mobile-start--1I_vg","flex-justify-mobile-space-between":"frontend-pencraft-Box-module__flex-justify-mobile-space-between--3vAZB","flex-justify-mobile-center":"frontend-pencraft-Box-module__flex-justify-mobile-center--3q2f4","flex-justify-mobile-end":"frontend-pencraft-Box-module__flex-justify-mobile-end--202_Y","flex-align-mobile-start":"frontend-pencraft-Box-module__flex-align-mobile-start--2Z9vL","flex-align-mobile-end":"frontend-pencraft-Box-module__flex-align-mobile-end--1etR-","flex-align-mobile-center":"frontend-pencraft-Box-module__flex-align-mobile-center--gyf8Z","flex-align-mobile-stretch":"frontend-pencraft-Box-module__flex-align-mobile-stretch--3KD51","flex-align-mobile-baseline":"frontend-pencraft-Box-module__flex-align-mobile-baseline--18uuu","flex-gap-mobile-0":"frontend-pencraft-Box-module__flex-gap-mobile-0--AnV2e","flex-gap-mobile-2":"frontend-pencraft-Box-module__flex-gap-mobile-2--2O7l1","flex-gap-mobile-4":"frontend-pencraft-Box-module__flex-gap-mobile-4--E4h8F","flex-gap-mobile-6":"frontend-pencraft-Box-module__flex-gap-mobile-6--3OxLA","flex-gap-mobile-8":"frontend-pencraft-Box-module__flex-gap-mobile-8--EUV01","flex-gap-mobile-12":"frontend-pencraft-Box-module__flex-gap-mobile-12--3lZNV","flex-gap-mobile-16":"frontend-pencraft-Box-module__flex-gap-mobile-16--3Vn60","flex-gap-mobile-20":"frontend-pencraft-Box-module__flex-gap-mobile-20--2ssX8","flex-gap-mobile-24":"frontend-pencraft-Box-module__flex-gap-mobile-24--3Fe93","flex-gap-mobile-32":"frontend-pencraft-Box-module__flex-gap-mobile-32--hHXL-","flex-gap-mobile-40":"frontend-pencraft-Box-module__flex-gap-mobile-40--2yh-9","flex-gap-mobile-48":"frontend-pencraft-Box-module__flex-gap-mobile-48--SIYcu","flex-gap-mobile-56":"frontend-pencraft-Box-module__flex-gap-mobile-56--3NY_E","flex-gap-mobile-64":"frontend-pencraft-Box-module__flex-gap-mobile-64--3l2QD","flex-gap-mobile-80":"frontend-pencraft-Box-module__flex-gap-mobile-80--2c6KX","flex-gap-mobile-96":"frontend-pencraft-Box-module__flex-gap-mobile-96--k86jU","flex-gap-mobile-120":"frontend-pencraft-Box-module__flex-gap-mobile-120--2D8XO","padding-mobile-0":"frontend-pencraft-Box-module__padding-mobile-0--K9L7S","padding-mobile-4":"frontend-pencraft-Box-module__padding-mobile-4--26gBr","padding-mobile-6":"frontend-pencraft-Box-module__padding-mobile-6--3WGMe","padding-mobile-8":"frontend-pencraft-Box-module__padding-mobile-8--2TDp5","padding-mobile-12":"frontend-pencraft-Box-module__padding-mobile-12--3CpED","padding-mobile-16":"frontend-pencraft-Box-module__padding-mobile-16--1o3bQ","padding-mobile-20":"frontend-pencraft-Box-module__padding-mobile-20--2pccN","padding-mobile-24":"frontend-pencraft-Box-module__padding-mobile-24--2mxoO","padding-mobile-32":"frontend-pencraft-Box-module__padding-mobile-32--Jpu-1","padding-mobile-40":"frontend-pencraft-Box-module__padding-mobile-40--121l-","padding-mobile-48":"frontend-pencraft-Box-module__padding-mobile-48--1jT3P","padding-mobile-56":"frontend-pencraft-Box-module__padding-mobile-56--2kB-B","padding-mobile-64":"frontend-pencraft-Box-module__padding-mobile-64--26xZ6","padding-mobile-80":"frontend-pencraft-Box-module__padding-mobile-80--3-Xu-","padding-mobile-120":"frontend-pencraft-Box-module__padding-mobile-120--2ZKfS","padding-y-mobile-0":"frontend-pencraft-Box-module__padding-y-mobile-0--2Rqns","padding-y-mobile-4":"frontend-pencraft-Box-module__padding-y-mobile-4--17IgM","padding-y-mobile-6":"frontend-pencraft-Box-module__padding-y-mobile-6--alWTn","padding-y-mobile-8":"frontend-pencraft-Box-module__padding-y-mobile-8--3oscQ","padding-y-mobile-12":"frontend-pencraft-Box-module__padding-y-mobile-12--4MNsW","padding-y-mobile-16":"frontend-pencraft-Box-module__padding-y-mobile-16--8sjbU","padding-y-mobile-20":"frontend-pencraft-Box-module__padding-y-mobile-20--3n9Mt","padding-y-mobile-24":"frontend-pencraft-Box-module__padding-y-mobile-24--1CGua","padding-y-mobile-32":"frontend-pencraft-Box-module__padding-y-mobile-32--tM0K8","padding-y-mobile-40":"frontend-pencraft-Box-module__padding-y-mobile-40--1cx9e","padding-y-mobile-48":"frontend-pencraft-Box-module__padding-y-mobile-48--1mwmS","padding-y-mobile-56":"frontend-pencraft-Box-module__padding-y-mobile-56--S5V80","padding-y-mobile-64":"frontend-pencraft-Box-module__padding-y-mobile-64--I19tc","padding-y-mobile-80":"frontend-pencraft-Box-module__padding-y-mobile-80--2FhKH","padding-y-mobile-120":"frontend-pencraft-Box-module__padding-y-mobile-120--1Yr9F","padding-x-mobile-0":"frontend-pencraft-Box-module__padding-x-mobile-0--3ueG9","padding-x-mobile-4":"frontend-pencraft-Box-module__padding-x-mobile-4--3P3qD","padding-x-mobile-6":"frontend-pencraft-Box-module__padding-x-mobile-6--okEQC","padding-x-mobile-8":"frontend-pencraft-Box-module__padding-x-mobile-8--_SABq","padding-x-mobile-12":"frontend-pencraft-Box-module__padding-x-mobile-12--3CICo","padding-x-mobile-16":"frontend-pencraft-Box-module__padding-x-mobile-16--239Q1","padding-x-mobile-20":"frontend-pencraft-Box-module__padding-x-mobile-20--IP3D_","padding-x-mobile-24":"frontend-pencraft-Box-module__padding-x-mobile-24--V5s3b","padding-x-mobile-32":"frontend-pencraft-Box-module__padding-x-mobile-32--3H9xt","padding-x-mobile-40":"frontend-pencraft-Box-module__padding-x-mobile-40--G_Csd","padding-x-mobile-48":"frontend-pencraft-Box-module__padding-x-mobile-48--1abfu","padding-x-mobile-56":"frontend-pencraft-Box-module__padding-x-mobile-56--2Ptab","padding-x-mobile-64":"frontend-pencraft-Box-module__padding-x-mobile-64--1a9H7","padding-x-mobile-80":"frontend-pencraft-Box-module__padding-x-mobile-80--fsBQM","padding-x-mobile-120":"frontend-pencraft-Box-module__padding-x-mobile-120--ZGeXo","padding-top-mobile-0":"frontend-pencraft-Box-module__padding-top-mobile-0--2n5pS","padding-top-mobile-4":"frontend-pencraft-Box-module__padding-top-mobile-4--2NO3-","padding-top-mobile-6":"frontend-pencraft-Box-module__padding-top-mobile-6--3NIJT","padding-top-mobile-8":"frontend-pencraft-Box-module__padding-top-mobile-8--3wfd2","padding-top-mobile-12":"frontend-pencraft-Box-module__padding-top-mobile-12--vJTq-","padding-top-mobile-16":"frontend-pencraft-Box-module__padding-top-mobile-16--1PNNR","padding-top-mobile-20":"frontend-pencraft-Box-module__padding-top-mobile-20--2eAPY","padding-top-mobile-24":"frontend-pencraft-Box-module__padding-top-mobile-24--1y-oz","padding-top-mobile-32":"frontend-pencraft-Box-module__padding-top-mobile-32--1Z273","padding-top-mobile-40":"frontend-pencraft-Box-module__padding-top-mobile-40--MgzOj","padding-top-mobile-48":"frontend-pencraft-Box-module__padding-top-mobile-48--cLq3R","padding-top-mobile-56":"frontend-pencraft-Box-module__padding-top-mobile-56--2XHCg","padding-top-mobile-64":"frontend-pencraft-Box-module__padding-top-mobile-64--1_7nZ","padding-top-mobile-80":"frontend-pencraft-Box-module__padding-top-mobile-80--34vxM","padding-top-mobile-120":"frontend-pencraft-Box-module__padding-top-mobile-120--1A9fP","padding-bottom-mobile-0":"frontend-pencraft-Box-module__padding-bottom-mobile-0--214re","padding-bottom-mobile-4":"frontend-pencraft-Box-module__padding-bottom-mobile-4--1QC1M","padding-bottom-mobile-6":"frontend-pencraft-Box-module__padding-bottom-mobile-6--2N441","padding-bottom-mobile-8":"frontend-pencraft-Box-module__padding-bottom-mobile-8--TOav4","padding-bottom-mobile-12":"frontend-pencraft-Box-module__padding-bottom-mobile-12--2KWxX","padding-bottom-mobile-16":"frontend-pencraft-Box-module__padding-bottom-mobile-16--1svWR","padding-bottom-mobile-20":"frontend-pencraft-Box-module__padding-bottom-mobile-20--F4Zte","padding-bottom-mobile-24":"frontend-pencraft-Box-module__padding-bottom-mobile-24--q9G38","padding-bottom-mobile-32":"frontend-pencraft-Box-module__padding-bottom-mobile-32--2u5sN","padding-bottom-mobile-40":"frontend-pencraft-Box-module__padding-bottom-mobile-40--1H9BX","padding-bottom-mobile-48":"frontend-pencraft-Box-module__padding-bottom-mobile-48--2_icN","padding-bottom-mobile-56":"frontend-pencraft-Box-module__padding-bottom-mobile-56--2m3at","padding-bottom-mobile-64":"frontend-pencraft-Box-module__padding-bottom-mobile-64--3Gwv8","padding-bottom-mobile-80":"frontend-pencraft-Box-module__padding-bottom-mobile-80--1dcT5","padding-bottom-mobile-120":"frontend-pencraft-Box-module__padding-bottom-mobile-120--7B9PH","padding-left-mobile-0":"frontend-pencraft-Box-module__padding-left-mobile-0--GvbRN","padding-left-mobile-4":"frontend-pencraft-Box-module__padding-left-mobile-4--2lnoc","padding-left-mobile-6":"frontend-pencraft-Box-module__padding-left-mobile-6--3eeP3","padding-left-mobile-8":"frontend-pencraft-Box-module__padding-left-mobile-8--ArJuY","padding-left-mobile-12":"frontend-pencraft-Box-module__padding-left-mobile-12--3XNYl","padding-left-mobile-16":"frontend-pencraft-Box-module__padding-left-mobile-16--3e4br","padding-left-mobile-20":"frontend-pencraft-Box-module__padding-left-mobile-20--1nItr","padding-left-mobile-24":"frontend-pencraft-Box-module__padding-left-mobile-24--Pkhn1","padding-left-mobile-32":"frontend-pencraft-Box-module__padding-left-mobile-32--1O4jz","padding-left-mobile-40":"frontend-pencraft-Box-module__padding-left-mobile-40--2FeF4","padding-left-mobile-48":"frontend-pencraft-Box-module__padding-left-mobile-48--1RVDd","padding-left-mobile-56":"frontend-pencraft-Box-module__padding-left-mobile-56--3RHf6","padding-left-mobile-64":"frontend-pencraft-Box-module__padding-left-mobile-64--1SLNq","padding-left-mobile-80":"frontend-pencraft-Box-module__padding-left-mobile-80--2KWOt","padding-left-mobile-120":"frontend-pencraft-Box-module__padding-left-mobile-120--1I3aa","padding-right-mobile-0":"frontend-pencraft-Box-module__padding-right-mobile-0--3IMpl","padding-right-mobile-4":"frontend-pencraft-Box-module__padding-right-mobile-4--3pT6V","padding-right-mobile-6":"frontend-pencraft-Box-module__padding-right-mobile-6--1hxIC","padding-right-mobile-8":"frontend-pencraft-Box-module__padding-right-mobile-8--17pic","padding-right-mobile-12":"frontend-pencraft-Box-module__padding-right-mobile-12--1DgWT","padding-right-mobile-16":"frontend-pencraft-Box-module__padding-right-mobile-16--3JCjo","padding-right-mobile-20":"frontend-pencraft-Box-module__padding-right-mobile-20--IcxvB","padding-right-mobile-24":"frontend-pencraft-Box-module__padding-right-mobile-24--1qmin","padding-right-mobile-32":"frontend-pencraft-Box-module__padding-right-mobile-32--3_7rE","padding-right-mobile-40":"frontend-pencraft-Box-module__padding-right-mobile-40--2HJb9","padding-right-mobile-48":"frontend-pencraft-Box-module__padding-right-mobile-48--3mGLW","padding-right-mobile-56":"frontend-pencraft-Box-module__padding-right-mobile-56--2dNsb","padding-right-mobile-64":"frontend-pencraft-Box-module__padding-right-mobile-64--2HX5I","padding-right-mobile-80":"frontend-pencraft-Box-module__padding-right-mobile-80--3utNH","padding-right-mobile-120":"frontend-pencraft-Box-module__padding-right-mobile-120--3ozHR","border-transparent":"frontend-pencraft-Box-module__border-transparent--1o_UD","border-top-transparent":"frontend-pencraft-Box-module__border-top-transparent--2Y9ta","border-bottom-transparent":"frontend-pencraft-Box-module__border-bottom-transparent--3mrdH","border-left-transparent":"frontend-pencraft-Box-module__border-left-transparent--1yGtQ","border-right-transparent":"frontend-pencraft-Box-module__border-right-transparent--3i2Y9","border-y-transparent":"frontend-pencraft-Box-module__border-y-transparent--2KdFW","border-detail":"frontend-pencraft-Box-module__border-detail--gYi3b","border-top-detail":"frontend-pencraft-Box-module__border-top-detail--kKAzF","border-bottom-detail":"frontend-pencraft-Box-module__border-bottom-detail--2_1TW","border-left-detail":"frontend-pencraft-Box-module__border-left-detail--26LjJ","border-right-detail":"frontend-pencraft-Box-module__border-right-detail--OfD_S","border-y-detail":"frontend-pencraft-Box-module__border-y-detail--2BRXe","border-detail-themed":"frontend-pencraft-Box-module__border-detail-themed--108eH","border-top-detail-themed":"frontend-pencraft-Box-module__border-top-detail-themed--1lxH2","border-bottom-detail-themed":"frontend-pencraft-Box-module__border-bottom-detail-themed--2d6rB","border-left-detail-themed":"frontend-pencraft-Box-module__border-left-detail-themed--1ZDKC","border-right-detail-themed":"frontend-pencraft-Box-module__border-right-detail-themed--10erk","border-y-detail-themed":"frontend-pencraft-Box-module__border-y-detail-themed--wPrMw","border-radius-2":"frontend-pencraft-Box-module__border-radius-2--2Zyai","border-radius-4":"frontend-pencraft-Box-module__border-radius-4--1SoI5","border-radius-8":"frontend-pencraft-Box-module__border-radius-8--1PL4v","border-radius-12":"frontend-pencraft-Box-module__border-radius-12--1SDq1","border-radius-16":"frontend-pencraft-Box-module__border-radius-16--1OkiY","border-radius-20":"frontend-pencraft-Box-module__border-radius-20--2MGxh","min-width-0":"frontend-pencraft-Box-module__min-width-0--a_eIa","min-height-0":"frontend-pencraft-Box-module__min-height-0--byXnx","shadow-sm":"frontend-pencraft-Box-module__shadow-sm--3Rx4c","shadow-md":"frontend-pencraft-Box-module__shadow-md--1Nk2-","shadow-lg":"frontend-pencraft-Box-module__shadow-lg--1e6fB","bg-primary":"frontend-pencraft-Box-module__bg-primary--1JROM","bg-utility-tooltip":"frontend-pencraft-Box-module__bg-utility-tooltip--2cooe","bg-secondary":"frontend-pencraft-Box-module__bg-secondary--rcll7","bg-elevated":"frontend-pencraft-Box-module__bg-elevated--31St0",flexGrow:"frontend-pencraft-Box-module__flexGrow--2TZzh",flexAuto:"frontend-pencraft-Box-module__flexAuto--2qHsC",flexFill:"frontend-pencraft-Box-module__flexFill--rlpFi","overflowY-auto":"frontend-pencraft-Box-module__overflowY-auto--1k6Sh","overflowX-auto":"frontend-pencraft-Box-module__overflowX-auto--1YIem","overflowX-hidden":"frontend-pencraft-Box-module__overflowX-hidden--2Lmeo",ellipsis:"frontend-pencraft-Box-module__ellipsis--10P5d","sizing-border-box":"frontend-pencraft-Box-module__sizing-border-box--FkC1m","pullX-4":"frontend-pencraft-Box-module__pullX-4--3WlXF","pullX-6":"frontend-pencraft-Box-module__pullX-6--3YhQD","pullX-8":"frontend-pencraft-Box-module__pullX-8--3J2ME","pullX-12":"frontend-pencraft-Box-module__pullX-12--35GVI","pullX-16":"frontend-pencraft-Box-module__pullX-16--1zrpg","pullX-20":"frontend-pencraft-Box-module__pullX-20--1dIxs","pullX-24":"frontend-pencraft-Box-module__pullX-24--1n_oh","pullX-32":"frontend-pencraft-Box-module__pullX-32--1C9UI","pullX-40":"frontend-pencraft-Box-module__pullX-40--3YCiX","pullX-48":"frontend-pencraft-Box-module__pullX-48--sX1id","pullX-56":"frontend-pencraft-Box-module__pullX-56--1pnFb","pullX-64":"frontend-pencraft-Box-module__pullX-64--gK31s","pullX-80":"frontend-pencraft-Box-module__pullX-80--lOCAd","pullX-120":"frontend-pencraft-Box-module__pullX-120--1wGbl"}},function(k,n,t){"use strict";var e=t(396);t.d(n,"d",function(){return e.a}),t.d(n,"e",function(){return e.b});var a=t(397);t.d(n,"b",function(){return a.b}),t.d(n,"a",function(){return a.a});var o=t(508);t.d(n,"c",function(){return o.a})},function(k,n,t){"use strict";t.d(n,"b",function(){return He}),t.d(n,"f",function(){return Ve}),t.d(n,"g",function(){return z}),t.d(n,"a",function(){return se}),t.d(n,"d",function(){return ge}),t.d(n,"c",function(){return je}),t.d(n,"e",function(){return sn});var e=t(0),a=t(5),o=t.n(a),l=t(317),d=t.n(l),c=t(777),u=t.n(c),f=t(279),m=t(65),p=t(4),g=t(15),O=t(10),s=t(197),r=t(154),i=t(52),h=t(62),v=t(1),j=t(216),y=t(125),b=t(40),E=t(8),P={footer:"frontend-email-shared-typed-module__footer--WmMp1",footerSection:"frontend-email-shared-typed-module__footerSection--9vwqp",divider:"frontend-email-shared-typed-module__divider--1oKOZ",meta:"frontend-email-shared-typed-module__meta--AAyPr",twitter:"frontend-email-shared-typed-module__twitter--1Kwtq",twitterText:"frontend-email-shared-typed-module__twitterText--3FKor",twitterImage:"frontend-email-shared-typed-module__twitterImage--1StJa"},A=Object.defineProperty,_=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable,H=(wt,yt,Qe)=>yt in wt?A(wt,yt,{enumerable:!0,configurable:!0,writable:!0,value:Qe}):wt[yt]=Qe,C=(wt,yt)=>{for(var Qe in yt||(yt={}))M.call(yt,Qe)&&H(wt,Qe,yt[Qe]);if(_)for(var Qe of _(yt))F.call(yt,Qe)&&H(wt,Qe,yt[Qe]);return wt},T=(wt,yt)=>{var Qe={};for(var At in wt)M.call(wt,At)&&yt.indexOf(At)<0&&(Qe[At]=wt[At]);if(wt!=null&&_)for(var At of _(wt))yt.indexOf(At)<0&&F.call(wt,At)&&(Qe[At]=wt[At]);return Qe};function S({pub:wt,upsell:yt,unsubscribe_url:Qe,unsubscribeOverrideText:At,hasApp:jt,hideStartWriting:ke}){return Object(e.h)(D,{upsell:yt,hasApp:jt,hideStartWriting:ke},Object(e.h)(V,{pub:wt,unsubscribe_url:Qe,unsubscribeOverrideText:At}))}function D({upsell:wt,children:yt,hasApp:Qe,hideStartWriting:At}){const{siteConfigValues:{show_email_app_install_button:jt=!0}}=Object(v.b)(y.a),ke=`${Object(p.getSubstackUrl)()}/img/email/publish-button.png`;return Object(e.h)("div",{className:o()("footer",P.footer)},!Qe&&wt&&Object(e.h)(e.Fragment,null,Object(e.h)("div",{className:P.footerSection},wt),Object(e.h)("div",{className:P.divider})),yt&&Object(e.h)("div",{style:{paddingBottom:24}},yt),Object(e.h)("p",{className:o()(P.footerSection,"small powered-by-substack")},!wt&&!Qe&&jt&&Object(e.h)(K,null),!At&&Object(e.h)("a",{href:b.Substitutions.START_WRITING_URL},Object(e.h)(Y,{alt:"Start writing",src:ke,pixelRatio:3,width:135,height:40}))))}function w({primary:wt,secondary:yt,replaceAppButtonsWithCTA:Qe}){return Object(e.h)(e.Fragment,null,Object(e.h)(E.b.H4,{as:"div",weight:"bold",style:{marginBottom:4}},wt),Object(e.h)(E.b.B4,{color:"secondary",style:{marginBottom:16}},yt),!Qe&&Object(e.h)("div",null,Object(e.h)(W,{utm_source:"substack",utm_campaign:"app-marketing"}),Object(e.h)(R,{utm_source:"substack",utm_campaign:"app-marketing"})),Qe&&Object(e.h)("div",null,Object(e.h)(z,{href:Qe.url,style:{textDecoration:"none",textAlign:"center",margin:"0 auto",height:40,paddingTop:9,paddingBottom:9}},Qe.text)))}function U({children:wt}){return Object(e.h)("div",{className:o()("footer")},wt)}function V({pub:wt,unsubscribe_url:yt,unsubscribeOverrideText:Qe}){const At=Object(O.joinLines)(wt.mailing_address,", ",36);return Object(e.h)(E.b,{as:"p",size:12,color:"secondary",className:o()("small",P.meta)},"\xA9 ",new Date().getFullYear()," ",Object(e.h)("span",null,wt.copyright),At&&At.split(`
`).reduce((jt,ke)=>(jt.push(Object(e.h)("br",null),ke),jt),[]),yt!==!1&&[" ",Object(e.h)(e.Fragment,null,Object(e.h)("br",null),Object(e.h)("a",{href:yt||b.Substitutions.UNSUBSCRIBE_URL},Object(e.h)("span",null,Qe||"Unsubscribe")))])}function K(){return Object(e.h)("a",{href:Object(p.getAppStoreRedirectUrl)({utm_campaign:"app-marketing",utm_content:"email-footer-button"})},Object(e.h)(Y,{alt:"Get the app",src:`${Object(p.getSubstackUrl)()}/img/email/generic-app-button.png`,pixelRatio:3,width:130,height:40}))}function Y(wt){var yt=wt,{src:Qe,pixelRatio:At,width:jt}=yt,ke=T(yt,["src","pixelRatio","width"]);let tn;const{isAmp:Pn}=Object(v.b)(y.a);if(typeof URL=="undefined")tn=null;else{let Ft;try{Ft=new URL(Qe)}catch(Rt){Ft=new URL(Object(p.getSubstackUrl)()+Qe)}const lt=Array(At).fill(0).map((Rt,ln)=>{if(ln===0)return Object(p.cloudinary)(Qe,jt);const Mt=new URL(Ft),[$t,nn]=Mt.pathname.split("."),Bt=ln+1;return Mt.pathname=`${$t}@${Bt}x.${nn}`,Object(p.cloudinary)(Mt.toString(),jt*Bt)});Pn?Qe=lt[lt.length-1]:(Qe=lt[1]||lt[0],tn=lt.map((Rt,ln)=>ln===0?Rt:`${Rt} ${ln+1}x`).join(", "))}return Object(e.h)(r.a,C({src:Qe,srcset:tn,width:jt},ke))}function W({utm_campaign:wt,utm_source:yt}){return Object(e.h)("a",{className:"email-footer-button",href:Object(p.getAppStoreUrl)({utm_campaign:wt,utm_source:yt})},Object(e.h)(r.a,{alt:"Get the iOS app",src:Object(p.cloudinary)("/img/app_page/app-store.png",123*2),width:123,height:40}))}function R({utm_campaign:wt,utm_source:yt}){return Object(e.h)("a",{className:"email-footer-button",href:Object(p.getPlayStoreUrl)({utm_campaign:wt,utm_source:yt})},Object(e.h)(r.a,{alt:"Get the Android app",src:Object(p.cloudinary)("/img/app_page/google-play.png?v=1",135*2),width:135,height:40}))}const B=({text:wt="Tweet",href:yt})=>Object(e.h)("a",{className:P.twitter,href:yt},Object(e.h)("img",{className:P.twitterImage,src:Object(p.cloudinary)("/img/share_twitter.white.png",20),alt:""}),Object(e.h)("span",{className:P.twitterText},wt));var x=Object.defineProperty,G=Object.getOwnPropertySymbols,Q=Object.prototype.hasOwnProperty,he=Object.prototype.propertyIsEnumerable,Z=(wt,yt,Qe)=>yt in wt?x(wt,yt,{enumerable:!0,configurable:!0,writable:!0,value:Qe}):wt[yt]=Qe,le=(wt,yt)=>{for(var Qe in yt||(yt={}))Q.call(yt,Qe)&&Z(wt,Qe,yt[Qe]);if(G)for(var Qe of G(yt))he.call(yt,Qe)&&Z(wt,Qe,yt[Qe]);return wt},de=(wt,yt)=>{var Qe={};for(var At in wt)Q.call(wt,At)&&yt.indexOf(At)<0&&(Qe[At]=wt[At]);if(wt!=null&&G)for(var At of G(wt))yt.indexOf(At)<0&&he.call(wt,At)&&(Qe[At]=wt[At]);return Qe};const be="550",X=wt=>{var yt=wt,{children:Qe,className:At}=yt,jt=de(yt,["children","className"]);return Object(e.h)("table",le({role:"presentation",className:At,width:"auto"},jt),Qe)},ie=({children:wt,className:yt,width:Qe=be})=>Object(e.h)("table",{role:"presentation",className:"email-body-container",width:"100%",border:"0",cellspacing:"0",cellpadding:"0"},Object(e.h)("tr",null,Object(e.h)("td",null),Object(e.h)("td",{className:"content",width:Qe}),Object(e.h)("td",null)),Object(e.h)("tr",null,Object(e.h)("td",null),Object(e.h)("td",{align:"left",className:yt?`content ${yt}`:"content",width:Qe},Object(e.h)("div",null,wt)),Object(e.h)("td",null))),Ce=({text:wt})=>Object(e.h)("div",{className:"preview",style:"display:none;font-size:1px;color:#333333;line-height:1px;max-height:0px;max-width:0px;opacity:0;overflow:hidden;"},wt," ","\xA0\u200C".repeat(200)),Le=({pub:wt,post:yt,prelude:Qe,body_html:At,children:jt,is_freemail:ke,dataForEmailRender:tn})=>Object(e.h)("div",{className:"post typography",dir:"auto"},Qe,Object(e.h)(j.a,{html:At,pub:wt,post:yt,isStatic:!0,is_freemail:ke,dataForEmailRender:tn}),jt),Ae=({children:wt,className:yt,description:Qe,title:At="Email from Substack"})=>Object(e.h)("html",null,Object(e.h)("head",null,Object(e.h)("title",null,At),Object(e.h)("meta",{charset:"utf-8"})),Object(e.h)("body",{className:yt},Qe&&Object(e.h)(Ce,{text:Qe}),wt)),Pe=({title:wt,description:yt,children:Qe,bodyClassName:At="email-body",className:jt="",emailWidth:ke=""})=>{const{isAmp:tn}=Object(v.b)(y.a);return Object(e.h)("html",le({},{amp4email:tn?!0:void 0,"data-css-strict":tn?!0:void 0}),Object(e.h)("head",null,Object(e.h)("meta",{charset:"utf-8"}),!tn&&Object(e.h)("title",null,wt),tn&&Object(e.h)(e.Fragment,null,Object(e.h)("script",{async:!0,src:"https://cdn.ampproject.org/v0.js"}),Object(e.h)("script",{async:!0,"custom-element":"amp-list",src:"https://cdn.ampproject.org/v0/amp-list-0.1.js"}),Object(e.h)("script",{async:!0,"custom-template":"amp-mustache",src:"https://cdn.ampproject.org/v0/amp-mustache-0.2.js"}),Object(e.h)("script",{async:!0,"custom-element":"amp-timeago",src:"https://cdn.ampproject.org/v0/amp-timeago-0.1.js"}))),Object(e.h)("body",{className:At},yt&&Object(e.h)(Ce,{text:yt}),Object(e.h)(ie,le({className:jt},ke&&{width:ke}),Qe)))},Ne=({title:wt,description:yt,children:Qe,className:At,width:jt})=>Object(e.h)("html",null,Object(e.h)("head",null,Object(e.h)("title",null,wt),Object(e.h)("meta",{charset:"utf-8"})),Object(e.h)("body",{className:"email-body"},yt&&Object(e.h)(Ce,{text:yt}),Object(e.h)(ie,{className:At,width:jt},Qe))),ce=()=>{const wt=Math.random().toString().split(".")[1].substr(0,3);return Object(e.h)("div",{className:"signature-fold-breaker"},wt)},q=({delta:wt,className:yt,withPercent:Qe})=>{const At=wt<0?"negative":wt>0?"positive":"neutral";return At==="neutral"?Object(e.h)("span",{className:`${yt} neutral`},"\u2013"):Object(e.h)("span",{className:`${yt} ${At}`},At==="positive"?`+${Object(O.numberToString)(wt)}${Qe?"%":""}`:`${Object(O.numberToString)(wt)}${Qe?"%":""}`)},te={EmailDocument:Pe};var ue={fullWidth:"frontend-email-system-basics-module__fullWidth--3vEKW",emailButtonTd:"frontend-email-system-basics-module__emailButtonTd--llcta",priority_primary:"frontend-email-system-basics-module__priority_primary--2Vmmf",emailButtonA:"frontend-email-system-basics-module__emailButtonA--1RUgF",priority_secondary:"frontend-email-system-basics-module__priority_secondary--2KZWB",priority_outline:"frontend-email-system-basics-module__priority_outline--1vHOw",avatar:"frontend-email-system-basics-module__avatar--1sRIo",framed:"frontend-email-system-basics-module__framed--3XkyR",emailSeparator:"frontend-email-system-basics-module__emailSeparator--3U_L4"},We=Object.defineProperty,ot=Object.defineProperties,ze=Object.getOwnPropertyDescriptors,vt=Object.getOwnPropertySymbols,Wt=Object.prototype.hasOwnProperty,zt=Object.prototype.propertyIsEnumerable,at=(wt,yt,Qe)=>yt in wt?We(wt,yt,{enumerable:!0,configurable:!0,writable:!0,value:Qe}):wt[yt]=Qe,Me=(wt,yt)=>{for(var Qe in yt||(yt={}))Wt.call(yt,Qe)&&at(wt,Qe,yt[Qe]);if(vt)for(var Qe of vt(yt))zt.call(yt,Qe)&&at(wt,Qe,yt[Qe]);return wt},Be=(wt,yt)=>ot(wt,ze(yt)),Xe=(wt,yt)=>{var Qe={};for(var At in wt)Wt.call(wt,At)&&yt.indexOf(At)<0&&(Qe[At]=wt[At]);if(wt!=null&&vt)for(var At of vt(wt))yt.indexOf(At)<0&&zt.call(wt,At)&&(Qe[At]=wt[At]);return Qe};function Te(wt){return Object(e.h)(we,Be(Me({},wt),{unsubscribe_url:"%%unsubscribe_url%%"}))}function we({pub:wt=u.a,description:yt,noPromo:Qe,children:At,noLogo:jt,noFooter:ke,unsubscribe_url:tn}){const Pn=(wt.id===0||Boolean(Object(m.getLogo)(wt)))&&!jt;return Object(e.h)(Tt,{description:yt},Object(e.h)(ge,{gap:16},d()([Pn&&Object(e.h)(h.a,{pub:wt.id===0?Be(Me({},wt),{logo_url:`${Object(p.getSubstackUrl)()}/img/substack-system-email-align-left.png?v=2`}):wt,size:40}),At,ke?null:Qe?Object(e.h)(Ie,{pub:wt,unsubscribe_url:tn}):Object(e.h)(De,{pub:wt,unsubscribe_url:tn}),Object(e.h)(ce,null)])))}function De(wt){var yt=wt,{pub:Qe,unsubscribe_url:At}=yt,jt=Xe(yt,["pub","unsubscribe_url"]);return Qe?Object(e.h)(S,Me({pub:Qe,unsubscribe_url:At==null?!1:At},jt)):null}function Ie({pub:wt,unsubscribe_url:yt}){return Object(e.h)(U,null,Object(e.h)(V,{pub:wt,unsubscribe_url:yt==null?!1:yt}))}function He({children:wt,href:yt,testId:Qe,tableClassName:At,tdClassName:jt,aClassName:ke,alt:tn,download:Pn,target:Ft,style:lt}){return Object(e.h)(sn,{className:At,style:lt},Object(e.h)("tr",null,Object(e.h)("td",{className:jt,align:"center"},yt?Object(e.h)("a",{href:yt,className:ke,"data-test-id":Qe,alt:tn,download:Pn,target:Ft},wt):Object(e.h)("span",{className:ke,"data-test-id":Qe},wt))))}function Ve(wt){return Object(e.h)(He,Be(Me({},wt),{aClassName:"email-button-a",tdClassName:"email-button-td"}))}function z(wt){var yt=wt,{fullWidth:Qe,priority:At="primary"}=yt,jt=Xe(yt,["fullWidth","priority"]);return Object(e.h)(He,Be(Me({},jt),{tableClassName:Qe?ue.fullWidth:void 0,aClassName:ue.emailButtonA,tdClassName:o()(ue.emailButtonTd,ue[`priority_${At}`])}))}function se({src:wt,size:yt,framed:Qe}){return Object(e.h)("img",{className:o()(f.a.avatar,ue.avatar,Qe&&ue.framed),src:Object(g.cloudinary)(wt),style:{width:yt,height:yt,minWidth:yt,minHeight:yt,objectFit:"cover",margin:0},width:yt,height:yt})}const Se=Object(i.a)("email-text-button","a"),Oe=Object(i.a)("email-text-b4 email-text-secondary","div");function ge({children:wt,gap:yt=0,style:Qe}){const At=Object(e.toChildArray)(wt),jt=[];for(const tn of At.slice(0,-1))jt.push(Object(e.h)("tr",null,Object(e.h)("td",null,tn))),yt>0&&jt.push(Object(e.h)("tr",{height:yt},Object(e.h)("td",null)));const ke=At[At.length-1];return ke&&jt.push(Object(e.h)("tr",null,Object(e.h)("td",null,ke))),Object(e.h)(sn,{style:Qe},jt)}function je({children:wt,gap:yt=0,style:Qe,verticalAlign:At="middle"}){const jt=Object(e.toChildArray)(wt),ke=[];for(const Pn of jt.slice(0,-1))ke.push(Object(e.h)("td",{style:{verticalAlign:At}},Pn)),yt>0&&ke.push(Object(e.h)("td",{width:yt,style:`min-width: ${yt}px`}));const tn=jt[jt.length-1];return tn&&ke.push(Object(e.h)("td",{style:{verticalAlign:At}},tn)),Object(e.h)(sn,{style:Qe},Object(e.h)("tr",null,ke))}function it({users:wt,post:yt,pub:Qe,user:At}){return Object(e.h)(s.a,{array:wt,limit:3,formatter:jt=>Object(e.h)("a",{href:Object(p.getReaderProfileUrl)(jt)},Object(O.anonymousName)(jt,yt,Qe,At))})}function Tt({children:wt,description:yt}){return Object(e.h)(Ae,{className:"email-text-base email-text-b3",description:yt},Object(e.h)(sn,{width:"100%"},Object(e.h)("tr",null,Object(e.h)("td",{style:{color:"transparent"}},"\xA0"),Object(e.h)("td",{align:"center",width:468},wt),Object(e.h)("td",{style:{color:"transparent"}},"\xA0"))))}function sn(wt){var yt=wt,{children:Qe}=yt,At=Xe(yt,["children"]);return Object(e.h)("table",Me({role:"presentation",width:"auto",border:"0",cellspacing:"0",cellpadding:"0"},At),Qe)}function ht(wt){var yt=wt,{src:Qe}=yt,At=Xe(yt,["src"]);return Object(e.h)(r.a,Me({src:Object(p.getSubstackUrl)()+Qe},At))}function Nt(){return Object(e.h)("div",{className:ue.emailSeparator})}},,function(k,n,t){"use strict";t.d(n,"d",function(){return d}),t.d(n,"a",function(){return c}),t.d(n,"b",function(){return u}),t.d(n,"c",function(){return f});var e=t(0),a=t(1),o;const l=typeof window!="undefined"?(o=window._preloads)==null?void 0:o.siteConfigs:{},d=m=>({allConfigs:m,getConfigFor:g=>{if(!g||!m)return null;const O=m[g];return O===void 0?null:O}}),c=Object(e.createContext)(d(l));c.displayName="SiteConfigsContext";function u({siteConfigs:m={},children:p}){const g=Object(a.i)(()=>d(m),[m]);return Object(e.h)(c.Provider,{value:g},p)}function f(){return Object(a.b)(c)}},function(k,n,t){"use strict";var e=t(27);t.d(n,"a",function(){return e.EditorState}),t.d(n,"b",function(){return e.NodeSelection}),t.d(n,"c",function(){return e.Plugin}),t.d(n,"d",function(){return e.PluginKey}),t.d(n,"e",function(){return e.Selection}),t.d(n,"f",function(){return e.TextSelection})},function(k,n,t){"use strict";t.d(n,"a",function(){return c}),t.d(n,"b",function(){return u});var e=t(1),a=t(112),o=t.n(a),l=t(9),d=t.n(l);function c(){return Object(a.useMediaQuery)({maxWidth:650})}function u(){return Object(a.useMediaQuery)({maxWidth:1400})}function f(){const[m,p]=Object(e.l)(!1);return Object(e.h)(()=>{p(Object(l.isIOs)())},[]),m}},function(k,n,t){"use strict";t.d(n,"a",function(){return o}),t.d(n,"b",function(){return l}),t.d(n,"c",function(){return p}),t.d(n,"d",function(){return m}),t.d(n,"e",function(){return d});var e=t(3),a=t(69),o=(O=>(O[O.None=0]="None",O[O.RenderStrategy=1]="RenderStrategy",O[O.Static=2]="Static",O))(o||{}),l=(O=>(O[O.Unmount=0]="Unmount",O[O.Hidden=1]="Hidden",O))(l||{});function d({ourProps:O,theirProps:s,slot:r,defaultTag:i,features:h,visible:v=!0,name:j}){let y=f(s,O);if(v)return c(y,r,i,j);let b=h!=null?h:0;if(b&2){let E=y,{static:A=!1}=E,_=Ji(E,["static"]);if(A)return c(_,r,i,j)}if(b&1){let P=y,{unmount:A=!0}=P,_=Ji(P,["unmount"]);return Object(a.a)(A?0:1,{[0](){return null},[1](){return c(_o(pr({},_),{hidden:!0,style:{display:"none"}}),r,i,j)}})}return c(y,r,i,j)}function c(O,s={},r,i){let A=g(O,["unmount","static"]),{as:h=r,children:v,refName:j="ref"}=A,y=Ji(A,["as","children","refName"]),b=O.ref!==void 0?{[j]:O.ref}:{},E=typeof v=="function"?v(s):v;y.className&&typeof y.className=="function"&&(y.className=y.className(s));let P={};if(s){let _=!1,M=[];for(let[F,H]of Object.entries(s))typeof H=="boolean"&&(_=!0),H===!0&&M.push(F);_&&(P["data-headlessui-state"]=M.join(" "))}if(h===e.Fragment&&Object.keys(p(y)).length>0){if(!Object(e.isValidElement)(E)||Array.isArray(E)&&E.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${i} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(y).map(_=>`  - ${_}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(_=>`  - ${_}`).join(`
`)].join(`
`));return Object(e.cloneElement)(E,Object.assign({},f(E.props,p(g(y,["ref"]))),P,b,u(E.ref,b.ref)))}return Object(e.createElement)(h,Object.assign({},g(y,["ref"]),h!==e.Fragment&&b,h!==e.Fragment&&P),E)}function u(...O){return{ref:O.every(s=>s==null)?void 0:s=>{for(let r of O)r!=null&&(typeof r=="function"?r(s):r.current=s)}}}function f(...O){var s;if(O.length===0)return{};if(O.length===1)return O[0];let r={},i={};for(let h of O)for(let v in h)v.startsWith("on")&&typeof h[v]=="function"?((s=i[v])!=null||(i[v]=[]),i[v].push(h[v])):r[v]=h[v];if(r.disabled||r["aria-disabled"])return Object.assign(r,Object.fromEntries(Object.keys(i).map(h=>[h,void 0])));for(let h in i)Object.assign(r,{[h](v,...j){let y=i[h];for(let b of y){if((v instanceof Event||(v==null?void 0:v.nativeEvent)instanceof Event)&&v.defaultPrevented)return;b(v,...j)}}});return r}function m(O){var s;return Object.assign(Object(e.forwardRef)(O),{displayName:(s=O.displayName)!=null?s:O.name})}function p(O){let s=Object.assign({},O);for(let r in s)s[r]===void 0&&delete s[r];return s}function g(O,s=[]){let r=Object.assign({},O);for(let i of s)i in r&&delete r[i];return r}},function(k,n,t){"use strict";t.d(n,"a",function(){return s}),t.d(n,"b",function(){return S}),t.d(n,"c",function(){return A}),t.d(n,"d",function(){return H});var e=t(401);function a(D,w){D.prototype=Object.create(w.prototype),D.prototype.constructor=D,Object(e.a)(D,w)}var o=t(3),l=t(316),d=t(537),c=!0;function u(D,w,U){var V="";return U.split(" ").forEach(function(K){D[K]!==void 0?w.push(D[K]):V+=K+" "}),V}var f=function(w,U,V){var K=w.key+"-"+U.name;if((V===!1||c===!1&&w.compat!==void 0)&&w.registered[K]===void 0&&(w.registered[K]=U.styles),w.inserted[U.name]===void 0){var Y=U;do{var W=w.insert("."+K,Y,w.sheet,!0);Y=Y.next}while(Y!==void 0)}},m=t(227),p=Object.prototype.hasOwnProperty,g=Object(o.createContext)(typeof HTMLElement!="undefined"?Object(l.a)():null),O=Object(o.createContext)({}),s=g.Provider,r=function(w){var U=function(K,Y){return Object(o.createElement)(g.Consumer,null,function(W){return w(K,W,Y)})};return Object(o.forwardRef)(U)},i=function(w){return w.replace(/\$/g,"-")},h="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",v="__EMOTION_LABEL_PLEASE_DO_NOT_USE__",j=function(w,U){var V={};for(var K in U)p.call(U,K)&&(V[K]=U[K]);if(V[h]=w,!1)var Y,W;return V},y=function(w,U,V,K){var Y=V===null?U.css:U.css(V);typeof Y=="string"&&w.registered[Y]!==void 0&&(Y=w.registered[Y]);var W=U[h],R=[Y],B="";typeof U.className=="string"?B=u(w.registered,R,U.className):U.className!=null&&(B=U.className+" ");var x=Object(m.a)(R);if(!1)var G;var Q=f(w,x,typeof W=="string");B+=w.key+"-"+x.name;var he={};for(var Z in U)p.call(U,Z)&&Z!=="css"&&Z!==h&&(he[Z]=U[Z]);he.ref=K,he.className=B;var le=Object(o.createElement)(W,he);return le},b=r(function(D,w,U){return typeof D.css=="function"?Object(o.createElement)(O.Consumer,null,function(V){return y(w,D,V,U)}):y(w,D,null,U)}),E=t(402),P=t(196),A=function(w,U){var V=arguments;if(U==null||!p.call(U,"css"))return o.createElement.apply(void 0,V);var K=V.length,Y=new Array(K);Y[0]=b,Y[1]=j(w,U);for(var W=2;W<K;W++)Y[W]=V[W];return o.createElement.apply(null,Y)},_=!1,M=r(function(D,w){var U=D.styles;if(typeof U=="function")return Object(o.createElement)(O.Consumer,null,function(K){var Y=Object(m.a)([U(K)]);return Object(o.createElement)(F,{serialized:Y,cache:w})});var V=Object(m.a)([U]);return Object(o.createElement)(F,{serialized:V,cache:w})}),F=function(D){a(w,D);function w(V,K,Y){return D.call(this,V,K,Y)||this}var U=w.prototype;return U.componentDidMount=function(){this.sheet=new E.a({key:this.props.cache.key+"-global",nonce:this.props.cache.sheet.nonce,container:this.props.cache.sheet.container});var K=document.querySelector("style[data-emotion-"+this.props.cache.key+'="'+this.props.serialized.name+'"]');K!==null&&this.sheet.tags.push(K),this.props.cache.sheet.tags.length&&(this.sheet.before=this.props.cache.sheet.tags[0]),this.insertStyles()},U.componentDidUpdate=function(K){K.serialized.name!==this.props.serialized.name&&this.insertStyles()},U.insertStyles=function(){if(this.props.serialized.next!==void 0&&f(this.props.cache,this.props.serialized.next,!0),this.sheet.tags.length){var K=this.sheet.tags[this.sheet.tags.length-1].nextElementSibling;this.sheet.before=K,this.sheet.flush()}this.props.cache.insert("",this.props.serialized,this.sheet,!1)},U.componentWillUnmount=function(){this.sheet.flush()},U.render=function(){return null},w}(o.Component),H=function(){var w=P.a.apply(void 0,arguments),U="animation-"+w.name;return{name:U,styles:"@keyframes "+U+"{"+w.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},C=function D(w){for(var U=w.length,V=0,K="";V<U;V++){var Y=w[V];if(Y!=null){var W=void 0;switch(typeof Y){case"boolean":break;case"object":{if(Array.isArray(Y))W=D(Y);else{W="";for(var R in Y)Y[R]&&R&&(W&&(W+=" "),W+=R)}break}default:W=Y}W&&(K&&(K+=" "),K+=W)}}return K};function T(D,w,U){var V=[],K=u(D,V,U);return V.length<2?U:K+w(V)}var S=r(function(D,w){return Object(o.createElement)(O.Consumer,null,function(U){var V=!1,K=function(){for(var x=arguments.length,G=new Array(x),Q=0;Q<x;Q++)G[Q]=arguments[Q];var he=Object(m.a)(G,w.registered);return f(w,he,!1),w.key+"-"+he.name},Y=function(){for(var x=arguments.length,G=new Array(x),Q=0;Q<x;Q++)G[Q]=arguments[Q];return T(w.registered,K,C(G))},W={css:K,cx:Y,theme:U},R=D.children(W);return V=!0,R})})},function(k,n,t){"use strict";t.r(n),t.d(n,"Substitutions",function(){return e});const e={PLAY_ON_SUBSTACK:"%%play_on_substack_url%%",PLAY_ON_SUBSTACK_UFI:"%%play_on_substack_ufi_url%%",POST_URL:"%%post_url%%",POST_TITLE_URL:"%%post_title_url%%",NAME:"%%name%%",FIRST_NAME:"%%first_name%%",FIRST_NAME_NO_SPACE:"%%first_name_no_space%%",UNSUBSCRIBE_URL:"%%unsubscribe_url%%",ONE_CLICK_UNSUBSCRIBE_URL:"%%one_click_unsubscribe_url%%",CHECKOUT_URL:"%%checkout_url%%",FOUNDING_CHECKOUT_URL:"%%founding_checkout_url%%",ACCOUNT_URL:"%%account_url%%",ARCHIVE_URL:"%%archive_url%%",PUBLICATION_NAME:"%%publication_name%%",PUBLICATION_HERO_TEXT:"%%publication_hero_text%%",AUTHOR_NAME:"%%author_name%%",AUTHOR_FIRST_NAME:"%%author_first_name%%",AUTHOR_BIO:"%%author_bio%%",AUTHOR_PHOTO_URL:"%%author_photo_url%%",SHARE_URL:"%%share_url%%",SHARE_PUB_URL:"%%share_pub_url%%",PODCAST_SETUP_URL:"%%podcast_setup_url%%",PERSONAL_PODCAST_SETUP_URL:"%%personal_podcast_setup_url%%",ALL_PODCASTS_SETUP_URL:"%%all_podcasts_setup_url%%",HOME_LINK:"%%home_link%%",THREAD_URL:"%%thread_url%%",CHAT_URL:"%%chat_url%%",MEETINGS_URL:"%%meetings_url%%",DASHBOARD_URL:"%%dashboard_url%%",CONTINUE_URL:"%%continue_url%%",PAID_SUBSCRIPTION_BENEFITS_1:"%%paid_subscription_benefits_1%%",PAID_SUBSCRIPTION_BENEFITS_2:"%%paid_subscription_benefits_2%%",PAID_SUBSCRIPTION_BENEFITS_3:"%%paid_subscription_benefits_3%%",PAID_OR_FOUNDING_TIER_NAME:"%%paid_or_founding_tier_name%%",PUBLICATION_URL:"%%publication_url%%",MAGIC_UNLINK_URL:"%%magic_unlink_url%%",TWITTER_SCREEN_NAME:"%%twitter_screen_name%%",REFERRAL_URL:"%%referral_url%%",PRINTED_REFERRAL_URL:"%%printed_referral_url%%",COMMENTS_URL:"%%comments_url%%",HALF_MAGIC_COMMENTS_URL:"%%half_magic_comments_url%%",MAGIC_AMP_COMMENTS_URL:"%%magic_amp_comments_url%%",POST_APP_LINK_URL:"%%post_app_link_url%%",POST_APP_LINK_PLAY_URL:"%%post_app_link_play_url%%",SUBSCRIPTION_TYPE:"%%subscription_type%%",SUBSCRIPTION_DAYS_LEFT:"%%subscription_days_left%%",SUBSCRIPTION_DAYS_LEFT_LABEL:"%%subscription_days_left_label%%",SUBSCRIPTION_EXPIRY_DATE:"%%subscription_expiry_date%%",REACTION_URL:"%%reaction_url%%",HALF_POST_URL:"%%half_post_url%%",RELATED_PUB_URL:"%%related_pub_url%%",RELATED_PUB_DOMAIN:"%%related_pub_domain%%",REPLY_TO_AUTHOR:"%%reply_to_author%%",REPLY_TO_AUTHOR_PLUS:"%%reply_to_author_plus%%",REPLY_TO_FORUM:"%%reply_to_forum%%",REPLY_TO_FORUM_PLUS:"%%reply_to_forum_plus%%",SAVE_POST_URL:"%%save_post_url%%",RESTACK_URL:"%%restack_url%%",RESTACK_COMMENT_URL:"%%restack_comment_url%%",POST_UNSUBSCRIBE_URL:"%%post_unsubscribe_url%%",COMMENT_URL:"%%comment_url%%",COMMENTER_FROM_NAME:"%%commenter_from_name%%",COMMENTER_NAME:"%%commenter_name%%",COMMENT_REPLY_URL:"%%comment_reply_url%%",PARENT_COMMENT_URL:"%%parent_comment_url%%",REACTOR_FROM_NAMES:"%%reactor_from_names%%",REACTOR_NAMES:"%%reactor_names%%",RENEWAL_URL:"%%renewal_url%%",FILE_DOWNLOAD_TOKEN:"%%file_download_token%%",COUPON_URL:"%%coupon_url%%",START_WRITING_URL:"%%start_writing_url%%",PREACT_COMPAT_HTML_COMMENT_OPEN:"<x_preact_compatible_html_comment_x>",PREACT_COMPAT_HTML_COMMENT_CLOSE:"</x_preact_compatible_html_comment_x>",USER_ID:"%%user_id%%",USER_ID_B36:"%%user_id_b36%%",USER_ID_JWT:"%%user_id_jwt%%",FIRST_NOTE_EMBED:"%%first_note_embed%%"}},function(k,n,t){"use strict";n.a={reset:"frontend-pencraft-Text-module__reset--20JLV","align-left":"frontend-pencraft-Text-module__align-left--1CeQx","align-center":"frontend-pencraft-Text-module__align-center--21f80","align-right":"frontend-pencraft-Text-module__align-right--2aSHI","size-10":"frontend-pencraft-Text-module__size-10--1IqRx","size-11":"frontend-pencraft-Text-module__size-11--1-ofT","size-12":"frontend-pencraft-Text-module__size-12--2onFT","size-13":"frontend-pencraft-Text-module__size-13--21fY0","size-14":"frontend-pencraft-Text-module__size-14--1PYz8","size-16":"frontend-pencraft-Text-module__size-16--yeezN","size-18":"frontend-pencraft-Text-module__size-18--32nlQ","size-20":"frontend-pencraft-Text-module__size-20--31m1J","size-24":"frontend-pencraft-Text-module__size-24--1NIKc","size-28":"frontend-pencraft-Text-module__size-28--iXo1C","size-32":"frontend-pencraft-Text-module__size-32--1nfrH","size-36":"frontend-pencraft-Text-module__size-36--2NkMm","size-38":"frontend-pencraft-Text-module__size-38--1pAHy","line-height-16":"frontend-pencraft-Text-module__line-height-16--39OeY","line-height-18":"frontend-pencraft-Text-module__line-height-18--huBJO","line-height-20":"frontend-pencraft-Text-module__line-height-20--1soeQ","line-height-22":"frontend-pencraft-Text-module__line-height-22--2MbqA","line-height-24":"frontend-pencraft-Text-module__line-height-24--ePKm2","line-height-28":"frontend-pencraft-Text-module__line-height-28--2mTiH","line-height-30":"frontend-pencraft-Text-module__line-height-30--2cOiC","line-height-32":"frontend-pencraft-Text-module__line-height-32--2t1aw","line-height-36":"frontend-pencraft-Text-module__line-height-36--FgLjf","line-height-40":"frontend-pencraft-Text-module__line-height-40--1FAWP","line-height-44":"frontend-pencraft-Text-module__line-height-44--28J1h","weight-light":"frontend-pencraft-Text-module__weight-light--j6qQW","weight-normal":"frontend-pencraft-Text-module__weight-normal--mEmBf","weight-medium":"frontend-pencraft-Text-module__weight-medium--aTbx5","weight-semibold":"frontend-pencraft-Text-module__weight-semibold--2XLPl","weight-bold":"frontend-pencraft-Text-module__weight-bold--VnIZR","weight-extrabold":"frontend-pencraft-Text-module__weight-extrabold--20epX","font-display":"frontend-pencraft-Text-module__font-display--v0e_A","font-text":"frontend-pencraft-Text-module__font-text--hJYwu","font-serif":"frontend-pencraft-Text-module__font-serif--1C_3G","font-monospace":"frontend-pencraft-Text-module__font-monospace--2jtmP","font-meta":"frontend-pencraft-Text-module__font-meta--2i-cR","font-digit":"frontend-pencraft-Text-module__font-digit--24di6","font-emoji":"frontend-pencraft-Text-module__font-emoji--2g4zS","font-pub-headings":"frontend-pencraft-Text-module__font-pub-headings--2cPzu","font-pub-body":"frontend-pencraft-Text-module__font-pub-body--2nknU","font-marketing":"frontend-pencraft-Text-module__font-marketing--1ZD0W","font-style-italic":"frontend-pencraft-Text-module__font-style-italic--2DsX-","color-primary":"frontend-pencraft-Text-module__color-primary--2I-sF","color-secondary":"frontend-pencraft-Text-module__color-secondary--XjVGl","color-tertiary":"frontend-pencraft-Text-module__color-tertiary--62EOp","color-success":"frontend-pencraft-Text-module__color-success--qZUEU","color-error":"frontend-pencraft-Text-module__color-error--GdYJn","color-substack":"frontend-pencraft-Text-module__color-substack--27SO1","color-bg-light":"frontend-pencraft-Text-module__color-bg-light--2djqW","color-pub-primary-text":"frontend-pencraft-Text-module__color-pub-primary-text--34HX2","color-pub-secondary-text":"frontend-pencraft-Text-module__color-pub-secondary-text--Gqdnv","color-pub-accent":"frontend-pencraft-Text-module__color-pub-accent--1kD_t","color-accent-red":"frontend-pencraft-Text-module__color-accent-red--10v74","color-accent-purple":"frontend-pencraft-Text-module__color-accent-purple--3OCNJ","color-accent-blue":"frontend-pencraft-Text-module__color-accent-blue--1HNON","transform-uppercase":"frontend-pencraft-Text-module__transform-uppercase--38jbr",ellipsis:"frontend-pencraft-Text-module__ellipsis--198Sy",nowrap:"frontend-pencraft-Text-module__nowrap--1ziSp",clamp:"frontend-pencraft-Text-module__clamp--1_vjv","clamp-1":"frontend-pencraft-Text-module__clamp-1--2JwTt","clamp-2":"frontend-pencraft-Text-module__clamp-2--26qjc","clamp-3":"frontend-pencraft-Text-module__clamp-3--lwF7c","clamp-4":"frontend-pencraft-Text-module__clamp-4--2drqW","clamp-5":"frontend-pencraft-Text-module__clamp-5--2p3SO","clamp-8":"frontend-pencraft-Text-module__clamp-8--TeUuw","decoration-underline":"frontend-pencraft-Text-module__decoration-underline--3BwEz","decoration-none":"frontend-pencraft-Text-module__decoration-none--A-6pi","decoration-hover-underline":"frontend-pencraft-Text-module__decoration-hover-underline--1I94L","decoration-line-through":"frontend-pencraft-Text-module__decoration-line-through--1YEOr","pb-0":"frontend-pencraft-Text-module__pb-0--2BgQQ","pb-4":"frontend-pencraft-Text-module__pb-4--1Q4gV","pb-8":"frontend-pencraft-Text-module__pb-8--fsDHi","pb-12":"frontend-pencraft-Text-module__pb-12--3L9Eo","pb-16":"frontend-pencraft-Text-module__pb-16--2pK4E","pb-20":"frontend-pencraft-Text-module__pb-20--2E3V4","pb-24":"frontend-pencraft-Text-module__pb-24--2ITOb","pb-28":"frontend-pencraft-Text-module__pb-28--18_st","pb-32":"frontend-pencraft-Text-module__pb-32--2LF3A","pl-0":"frontend-pencraft-Text-module__pl-0--3Y03g","pl-4":"frontend-pencraft-Text-module__pl-4--2dnwl","pl-8":"frontend-pencraft-Text-module__pl-8--3WKp1","pl-12":"frontend-pencraft-Text-module__pl-12--92UB3","pl-16":"frontend-pencraft-Text-module__pl-16--1EdzN","pl-20":"frontend-pencraft-Text-module__pl-20--2RcZF","pl-24":"frontend-pencraft-Text-module__pl-24--29nQX","pl-28":"frontend-pencraft-Text-module__pl-28--2xxNB","pl-32":"frontend-pencraft-Text-module__pl-32--1ga1t","pr-0":"frontend-pencraft-Text-module__pr-0--3rlrx","pr-4":"frontend-pencraft-Text-module__pr-4--yuc5F","pr-8":"frontend-pencraft-Text-module__pr-8--OZmu4","pr-12":"frontend-pencraft-Text-module__pr-12--3Ymnf","pr-16":"frontend-pencraft-Text-module__pr-16--3t6Au","pr-20":"frontend-pencraft-Text-module__pr-20--3DSib","pr-24":"frontend-pencraft-Text-module__pr-24--1H5d2","pr-28":"frontend-pencraft-Text-module__pr-28--UUCOh","pr-32":"frontend-pencraft-Text-module__pr-32--2UqlJ","pt-0":"frontend-pencraft-Text-module__pt-0--3-0X4","pt-4":"frontend-pencraft-Text-module__pt-4--2_MLp","pt-8":"frontend-pencraft-Text-module__pt-8--3EjbH","pt-12":"frontend-pencraft-Text-module__pt-12--3h7nb","pt-16":"frontend-pencraft-Text-module__pt-16--QgNUx","pt-20":"frontend-pencraft-Text-module__pt-20--1KKoC","pt-24":"frontend-pencraft-Text-module__pt-24--2EAap","pt-28":"frontend-pencraft-Text-module__pt-28--2urL3","pt-32":"frontend-pencraft-Text-module__pt-32--3AB_9",paragraph:"frontend-pencraft-Text-module__paragraph--1KhXe",header1:"frontend-pencraft-Text-module__header1--3scFN",header2:"frontend-pencraft-Text-module__header2--1zfDS",header3:"frontend-pencraft-Text-module__header3--1OHdz",header4:"frontend-pencraft-Text-module__header4--29ICx",body1:"frontend-pencraft-Text-module__body1--1UF5N",body2:"frontend-pencraft-Text-module__body2--3sB7d",body3:"frontend-pencraft-Text-module__body3--2ujZr",body4:"frontend-pencraft-Text-module__body4--flxpT",meta:"frontend-pencraft-Text-module__meta--3RRSj",digit:"frontend-pencraft-Text-module__digit--3soI9",marketingHeading1xl:"frontend-pencraft-Text-module__marketingHeading1xl--3eMsM",marketingHeading1:"frontend-pencraft-Text-module__marketingHeading1--2faSI",marketingHeading2:"frontend-pencraft-Text-module__marketingHeading2--3kVJM",marketingHeading3:"frontend-pencraft-Text-module__marketingHeading3--3VbJ0",marketingHeading4:"frontend-pencraft-Text-module__marketingHeading4--1NIXt",marketingHeading5:"frontend-pencraft-Text-module__marketingHeading5--2Z4pJ",marketingQuote:"frontend-pencraft-Text-module__marketingQuote--1DD9-",marketingSubtitle:"frontend-pencraft-Text-module__marketingSubtitle--2lZpE",marketingBody:"frontend-pencraft-Text-module__marketingBody--3PyNX",stat:"frontend-pencraft-Text-module__stat--_jVJU"}},function(k,n,t){"use strict";t.d(n,"a",function(){return e}),t.d(n,"b",function(){return a}),t.d(n,"c",function(){return o}),t.d(n,"d",function(){return l});var e;(function(d){d.Feed="feed",d.FeedSidebar="feed-sidebar",d.Suggestions="suggestions",d.Permalink="permalink",d.Profile="profile",d.Post="post",d.PostEmbed="post-embed",d.Publication="publication"})(e||(e={}));var a;(function(d){d.ForYou="for-you",d.Subscribed="subscribed",d.Subscribers="subscribers",d.Writers="writers-v2",d.Everyone="everyone",d.FirstNote="first-note",d.Substack="substack",d.ForYouQualityScore="for-you-quality-score"})(a||(a={}));const o={[a.ForYou]:"Home",[a.Subscribed]:"Subscribed",[a.Subscribers]:"My subscribers",[a.Writers]:"[Bestsellers]",[a.Everyone]:"[Everyone]",[a.FirstNote]:"[First notes]",[a.Substack]:"Substack",[a.ForYouQualityScore]:"[Home/beta]"};var l;(function(d){d.SeeMore="see_more",d.SeeLess="see_less"})(l||(l={}))},function(k,n,t){"use strict";t.d(n,"a",function(){return e});function e(){return e=Object.assign?Object.assign.bind():function(a){for(var o=1;o<arguments.length;o++){var l=arguments[o];for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(a[d]=l[d])}return a},e.apply(this,arguments)}},function(k,n,t){"use strict";t.d(n,"b",function(){return p}),t.d(n,"a",function(){return g}),t.d(n,"c",function(){return O}),t.d(n,"t",function(){return r}),t.d(n,"d",function(){return E}),t.d(n,"w",function(){return P}),t.d(n,"u",function(){return _}),t.d(n,"e",function(){return M}),t.d(n,"A",function(){return F}),t.d(n,"v",function(){return H}),t.d(n,"z",function(){return T}),t.d(n,"y",function(){return S}),t.d(n,"x",function(){return D}),t.d(n,"o",function(){return w}),t.d(n,"l",function(){return U}),t.d(n,"n",function(){return V}),t.d(n,"k",function(){return K}),t.d(n,"q",function(){return Y}),t.d(n,"h",function(){return W}),t.d(n,"m",function(){return R}),t.d(n,"g",function(){return B}),t.d(n,"s",function(){return x}),t.d(n,"i",function(){return G}),t.d(n,"f",function(){return Q}),t.d(n,"r",function(){return he}),t.d(n,"j",function(){return Z}),t.d(n,"p",function(){return le});var e=t(45),a=t(16),o=t(141),l=Object.defineProperty,d=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,f=(de,be,X)=>be in de?l(de,be,{enumerable:!0,configurable:!0,writable:!0,value:X}):de[be]=X,m=(de,be)=>{for(var X in be||(be={}))c.call(be,X)&&f(de,X,be[X]);if(d)for(var X of d(be))u.call(be,X)&&f(de,X,be[X]);return de};const p="notes",g=`/${p}`,O="/feed",s=`${g}/`;function r(de){return de===g||de.startsWith(s)}const i=/^([cp])-(\d+)$/,h=/^\/note\/([cp])-(\d+)$/,v=/^\/profile\/(\d+)-([^\/]+)\/note\/c-(\d+)$/,j=/^\/profile\/(\d+)-([^\/]+)\/note\/p-(\d+)$/,y=/^\/@[^\/]+\/note\/c-(\d+)$/,b=/^\/@[^\/]+\/note\/p-(\d+)$/,E=new RegExp(`${g}/(short|post)/p-(\\d+)`);function P(de){const be=H(de);if(be)return be;const X=F(de);if(X)return X;const ie=S(de);return ie||null}const A=new RegExp(`^${O}(/?)`);function _(de){return Boolean(de.match(A))}function M(de){return de.replace(A,`${g}$1`)}function F(de){const be=de.match(j);if(be)return{type:"post",id:Number(be[3]),author:{id:Number(be[1]),name:be[2]}};const X=de.match(b);if(X)return{type:"post",id:Number(X[1])};const ie=de.match(E);return ie?{type:ie[1]==="short"?"post":"postViewer",id:Number(ie[2])}:null}function H(de){const be=de.match(v);if(be)return{type:"comment",id:Number(be[3]),author:{id:Number(be[1]),name:be[2]}};const X=de.match(y);return X?{type:"comment",id:Number(X[1])}:null}const C=new RegExp(`^${O}/comment/(d+)$`);function T(de){return de.match(C)}function S(de){const be=de.match(h);return be?{type:be[1]==="c"?"comment":"post",id:Number(be[2])}:null}function D(de){const be=de.match(i);return be?{type:be[1]==="c"?"comment":"post",id:Number(be[2])}:null}function w({baseUrl:de,urlParams:be}={}){let X=g;const ie=de!=null?de:Object(a.e)();return(typeof window=="undefined"||!window.location.href.startsWith(ie))&&(X=ie+X),Object(a.f)(X,be)}function U({baseUrl:de,urlParams:be}={}){const X=w({baseUrl:de});return Object(a.f)(`${X}/suggestions`,be)}function V(de,be,{noBase:X,urlParams:ie}={}){var Ce,Le;const Ae=((Ce=be.publishedBylines)==null?void 0:Ce[0])?(Le=be.publishedBylines)==null?void 0:Le[0]:de?Object(e.getPostAuthor)(de,be):{id:0,name:"someone"};return Object(a.f)(`${Object(o.d)(Ae.id,Ae.name,{noBase:X})}/note/${x(be.id)}`,ie)}function K(de,{noBase:be,baseUrl:X,urlParams:ie}={}){var Ce;return de.user_id?Object(a.f)(`${Object(o.d)(de.user_id,de.name||((Ce=de.user)==null?void 0:Ce.name)||"someone",{baseUrl:X,noBase:be})}/note/${B(de.id)}`,ie):w({baseUrl:X})}function Y(de,{noBase:be,baseUrl:X,urlParams:ie}={}){const Ce=be?"":X!=null?X:Object(a.e)();return Object(a.f)(`${Ce}/note/${de}`,ie)}function W(de,{noBase:be,urlParams:X}={}){const ie=be?"":Object(a.c)();return Object(a.f)(`${ie}/note/${B(de)}`,X)}function R(de,{noBase:be,urlParams:X}={}){const ie=be?"":Object(a.c)();return Object(a.f)(`${ie}${g}/post/${x(de)}`,X)}function B(de){return`c-${de}`}function x(de){return`p-${de}`}function G(de){return`cp-${de}`}function Q(de){return`substack://notes/${B(de)}`}function he(de){return`substack://notes/${x(de)}`}function Z(de){return Object(a.f)(w(),m({action:"compose"},de))}function le(de,{noBase:be}={}){return`${be?"":Object(a.c)()}/note/${B(de)}/preview.jpg`}},function(k,n,t){"use strict";t.r(n),t.d(n,"getAllAudiences",function(){return O}),t.d(n,"getAudiencesForPublicListing",function(){return s}),t.d(n,"getPaidAudiences",function(){return r}),t.d(n,"getFoundingAudiences",function(){return i}),t.d(n,"isPaidAudience",function(){return h}),t.d(n,"isFoundingAudience",function(){return v}),t.d(n,"userHasFullAccessToPost",function(){return b}),t.d(n,"subHasFullAccessToPost",function(){return P}),t.d(n,"subHasFullAccessToPostAudience",function(){return A}),t.d(n,"pubRoleHasFullAccessToPost",function(){return M}),t.d(n,"pubRolesHaveFullAccessToPost",function(){return F}),t.d(n,"previewSubHasFullAccessToPost",function(){return H}),t.d(n,"getPostAuthor",function(){return C}),t.d(n,"getCommentAuthor",function(){return T}),t.d(n,"getCoverImageUrl",function(){return S});var e=Object.defineProperty,a=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,d=(D,w,U)=>w in D?e(D,w,{enumerable:!0,configurable:!0,writable:!0,value:U}):D[w]=U,c=(D,w)=>{for(var U in w||(w={}))o.call(w,U)&&d(D,U,w[U]);if(a)for(var U of a(w))l.call(w,U)&&d(D,U,w[U]);return D},u=(D,w)=>{var U={};for(var V in D)o.call(D,V)&&w.indexOf(V)<0&&(U[V]=D[V]);if(D!=null&&a)for(var V of a(D))w.indexOf(V)<0&&l.call(D,V)&&(U[V]=D[V]);return U};const f=["founding","only_paid","everyone","only_free"],m=["founding","only_paid","everyone"],p=["founding","only_paid"],g=["founding"];function O(){return[...f]}function s(){return[...m]}function r(){return[...p]}function i(){return[...g]}function h(D){return r().includes(D)}function v(D){return i().includes(D)}function j(D,w,U){if(!w&&!U||(D==null?void 0:D.subscription_publication_id)===w||(D==null?void 0:D.subscription_publication_id)===U){if((D==null?void 0:D.is_founding)||(D==null?void 0:D.is_contributor))return"founding";if(D==null?void 0:D.is_subscribed)return"paid"}return"free"}function y(D){switch(D){case"founding":return["founding"];case"only_paid":return["paid","founding"];case"only_free":return["free"];case"everyone":return["free","paid","founding"];default:throw new Error(`Unknown audience: ${D}`)}}function b(D,w,U){if(!w)return!1;if(!w.audience)throw new Error("Post has no audience");const V=j(D,w.publication_id,U==null?void 0:U.parent_publication_id);return y(w.audience).includes(V)}function E(D,w){if(!w||(D==null?void 0:D.publication_id)===w){if((D==null?void 0:D.membership_state)==="subscribed"&&(D==null?void 0:D.is_founding))return"founding";if((D==null?void 0:D.membership_state)==="subscribed")return"paid"}return"free"}function P(D,w){if(!w)return!1;if(!w.audience)throw new Error("Post has no audience");const U=E(D,w.publication_id);return y(w.audience).includes(U)}function A(D,w){const U=E(D);return y(w).includes(U)}function _(D){return(D==null?void 0:D.role)==="admin"||(D==null?void 0:D.role)==="contributor"||(D==null?void 0:D.membership_state)==="subscribed"&&(D==null?void 0:D.is_founding)?"founding":(D==null?void 0:D.membership_state)==="subscribed"?"paid":"free"}function M(D,w){if(!w)return!1;if(!w.audience)throw new Error("Post has no audience");const U=_(D);return y(w.audience).includes(U)}function F(D,w){return!!(w&&(M(D==null?void 0:D[w.publication_id],w)||w.parent_publication_id&&M(D==null?void 0:D[w.parent_publication_id],w)))}function H(D,w){if(!w)return!1;if(!w.audience)throw new Error("Post has no audience");const U=D;return y(w.audience).includes(U)}function C(D,w){var U;const V=(U=w==null?void 0:w.publishedBylines)==null?void 0:U[0];if(V)return V;const K=D.contributors.find(W=>W.owner);if(K){const W=K,{user_id:R}=W,B=u(W,["user_id"]);return c({id:R},B)}const Y=D.contributors.find(W=>["admin","contributor"].includes(W.role));if(Y){const W=Y,{user_id:R}=W,B=u(W,["user_id"]);return c({id:R},B)}return{id:D.author_id,name:D.author_name,photo_url:D.author_photo_url,bio:D.author_bio}}function T(D){var w,U,V;return{id:(w=D.user_id)!=null?w:-1,name:(U=D.name)!=null?U:"",photo_url:D.photo_url,bestseller_tier:(V=D.user_bestseller_tier)!=null?V:null,primary_publication:D.user_primary_publication}}function S(D){return!D.cover_image||/12634ced-0eb6-4238-a94a-70ab242c5ad8/.test(D.cover_image)||/fa15c776-f514-42fe-8ee0-4c94148a0a8a/.test(D.cover_image)||/8826edac-0d50-4ba0-b861-f3ed9336878b/.test(D.cover_image)||/49be2356-6491-4a6f-84a5-15e99d23b6d1/.test(D.cover_image)?null:D.cover_image}},function(k,n,t){"use strict";t.r(n),t.d(n,"AddMarkStep",function(){return j}),t.d(n,"AddNodeMarkStep",function(){return b}),t.d(n,"AttrStep",function(){return vt}),t.d(n,"MapResult",function(){return g}),t.d(n,"Mapping",function(){return s}),t.d(n,"RemoveMarkStep",function(){return y}),t.d(n,"RemoveNodeMarkStep",function(){return E}),t.d(n,"ReplaceAroundStep",function(){return A}),t.d(n,"ReplaceStep",function(){return P}),t.d(n,"Step",function(){return i}),t.d(n,"StepMap",function(){return O}),t.d(n,"StepResult",function(){return h}),t.d(n,"Transform",function(){return zt}),t.d(n,"TransformError",function(){return Wt}),t.d(n,"canJoin",function(){return G}),t.d(n,"canSplit",function(){return B}),t.d(n,"dropPoint",function(){return de}),t.d(n,"findWrapping",function(){return D}),t.d(n,"insertPoint",function(){return le}),t.d(n,"joinPoint",function(){return he}),t.d(n,"liftTarget",function(){return T}),t.d(n,"replaceStep",function(){return be});var e=t(20);const a=65535,o=Math.pow(2,16);function l(at,Me){return at+Me*o}function d(at){return at&a}function c(at){return(at-(at&a))/o}const u=1,f=2,m=4,p=8;class g{constructor(Me,Be,Xe){this.pos=Me,this.delInfo=Be,this.recover=Xe}get deleted(){return(this.delInfo&p)>0}get deletedBefore(){return(this.delInfo&(u|m))>0}get deletedAfter(){return(this.delInfo&(f|m))>0}get deletedAcross(){return(this.delInfo&m)>0}}class O{constructor(Me,Be=!1){if(this.ranges=Me,this.inverted=Be,!Me.length&&O.empty)return O.empty}recover(Me){let Be=0,Xe=d(Me);if(!this.inverted)for(let Te=0;Te<Xe;Te++)Be+=this.ranges[Te*3+2]-this.ranges[Te*3+1];return this.ranges[Xe*3]+Be+c(Me)}mapResult(Me,Be=1){return this._map(Me,Be,!1)}map(Me,Be=1){return this._map(Me,Be,!0)}_map(Me,Be,Xe){let Te=0,we=this.inverted?2:1,De=this.inverted?1:2;for(let Ie=0;Ie<this.ranges.length;Ie+=3){let He=this.ranges[Ie]-(this.inverted?Te:0);if(He>Me)break;let Ve=this.ranges[Ie+we],z=this.ranges[Ie+De],se=He+Ve;if(Me<=se){let Se=Ve?Me==He?-1:Me==se?1:Be:Be,Oe=He+Te+(Se<0?0:z);if(Xe)return Oe;let ge=Me==(Be<0?He:se)?null:l(Ie/3,Me-He),je=Me==He?f:Me==se?u:m;return(Be<0?Me!=He:Me!=se)&&(je|=p),new g(Oe,je,ge)}Te+=z-Ve}return Xe?Me+Te:new g(Me+Te,0,null)}touches(Me,Be){let Xe=0,Te=d(Be),we=this.inverted?2:1,De=this.inverted?1:2;for(let Ie=0;Ie<this.ranges.length;Ie+=3){let He=this.ranges[Ie]-(this.inverted?Xe:0);if(He>Me)break;let Ve=this.ranges[Ie+we],z=He+Ve;if(Me<=z&&Ie==Te*3)return!0;Xe+=this.ranges[Ie+De]-Ve}return!1}forEach(Me){let Be=this.inverted?2:1,Xe=this.inverted?1:2;for(let Te=0,we=0;Te<this.ranges.length;Te+=3){let De=this.ranges[Te],Ie=De-(this.inverted?we:0),He=De+(this.inverted?0:we),Ve=this.ranges[Te+Be],z=this.ranges[Te+Xe];Me(Ie,Ie+Ve,He,He+z),we+=z-Ve}}invert(){return new O(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(Me){return Me==0?O.empty:new O(Me<0?[0,-Me,0]:[0,0,Me])}}O.empty=new O([]);class s{constructor(Me=[],Be,Xe=0,Te=Me.length){this.maps=Me,this.mirror=Be,this.from=Xe,this.to=Te}slice(Me=0,Be=this.maps.length){return new s(this.maps,this.mirror,Me,Be)}copy(){return new s(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(Me,Be){this.to=this.maps.push(Me),Be!=null&&this.setMirror(this.maps.length-1,Be)}appendMapping(Me){for(let Be=0,Xe=this.maps.length;Be<Me.maps.length;Be++){let Te=Me.getMirror(Be);this.appendMap(Me.maps[Be],Te!=null&&Te<Be?Xe+Te:void 0)}}getMirror(Me){if(this.mirror){for(let Be=0;Be<this.mirror.length;Be++)if(this.mirror[Be]==Me)return this.mirror[Be+(Be%2?-1:1)]}}setMirror(Me,Be){this.mirror||(this.mirror=[]),this.mirror.push(Me,Be)}appendMappingInverted(Me){for(let Be=Me.maps.length-1,Xe=this.maps.length+Me.maps.length;Be>=0;Be--){let Te=Me.getMirror(Be);this.appendMap(Me.maps[Be].invert(),Te!=null&&Te>Be?Xe-Te-1:void 0)}}invert(){let Me=new s;return Me.appendMappingInverted(this),Me}map(Me,Be=1){if(this.mirror)return this._map(Me,Be,!0);for(let Xe=this.from;Xe<this.to;Xe++)Me=this.maps[Xe].map(Me,Be);return Me}mapResult(Me,Be=1){return this._map(Me,Be,!1)}_map(Me,Be,Xe){let Te=0;for(let we=this.from;we<this.to;we++){let De=this.maps[we],Ie=De.mapResult(Me,Be);if(Ie.recover!=null){let He=this.getMirror(we);if(He!=null&&He>we&&He<this.to){we=He,Me=this.maps[He].recover(Ie.recover);continue}}Te|=Ie.delInfo,Me=Ie.pos}return Xe?Me:new g(Me,Te,null)}}const r=Object.create(null);class i{getMap(){return O.empty}merge(Me){return null}static fromJSON(Me,Be){if(!Be||!Be.stepType)throw new RangeError("Invalid input for Step.fromJSON");let Xe=r[Be.stepType];if(!Xe)throw new RangeError(`No step type ${Be.stepType} defined`);return Xe.fromJSON(Me,Be)}static jsonID(Me,Be){if(Me in r)throw new RangeError("Duplicate use of step JSON ID "+Me);return r[Me]=Be,Be.prototype.jsonID=Me,Be}}class h{constructor(Me,Be){this.doc=Me,this.failed=Be}static ok(Me){return new h(Me,null)}static fail(Me){return new h(null,Me)}static fromReplace(Me,Be,Xe,Te){try{return h.ok(Me.replace(Be,Xe,Te))}catch(we){if(we instanceof e.ReplaceError)return h.fail(we.message);throw we}}}function v(at,Me,Be){let Xe=[];for(let Te=0;Te<at.childCount;Te++){let we=at.child(Te);we.content.size&&(we=we.copy(v(we.content,Me,we))),we.isInline&&(we=Me(we,Be,Te)),Xe.push(we)}return e.Fragment.fromArray(Xe)}class j extends i{constructor(Me,Be,Xe){super();this.from=Me,this.to=Be,this.mark=Xe}apply(Me){let Be=Me.slice(this.from,this.to),Xe=Me.resolve(this.from),Te=Xe.node(Xe.sharedDepth(this.to)),we=new e.Slice(v(Be.content,(De,Ie)=>!De.isAtom||!Ie.type.allowsMarkType(this.mark.type)?De:De.mark(this.mark.addToSet(De.marks)),Te),Be.openStart,Be.openEnd);return h.fromReplace(Me,this.from,this.to,we)}invert(){return new y(this.from,this.to,this.mark)}map(Me){let Be=Me.mapResult(this.from,1),Xe=Me.mapResult(this.to,-1);return Be.deleted&&Xe.deleted||Be.pos>=Xe.pos?null:new j(Be.pos,Xe.pos,this.mark)}merge(Me){return Me instanceof j&&Me.mark.eq(this.mark)&&this.from<=Me.to&&this.to>=Me.from?new j(Math.min(this.from,Me.from),Math.max(this.to,Me.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(Me,Be){if(typeof Be.from!="number"||typeof Be.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new j(Be.from,Be.to,Me.markFromJSON(Be.mark))}}i.jsonID("addMark",j);class y extends i{constructor(Me,Be,Xe){super();this.from=Me,this.to=Be,this.mark=Xe}apply(Me){let Be=Me.slice(this.from,this.to),Xe=new e.Slice(v(Be.content,Te=>Te.mark(this.mark.removeFromSet(Te.marks)),Me),Be.openStart,Be.openEnd);return h.fromReplace(Me,this.from,this.to,Xe)}invert(){return new j(this.from,this.to,this.mark)}map(Me){let Be=Me.mapResult(this.from,1),Xe=Me.mapResult(this.to,-1);return Be.deleted&&Xe.deleted||Be.pos>=Xe.pos?null:new y(Be.pos,Xe.pos,this.mark)}merge(Me){return Me instanceof y&&Me.mark.eq(this.mark)&&this.from<=Me.to&&this.to>=Me.from?new y(Math.min(this.from,Me.from),Math.max(this.to,Me.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(Me,Be){if(typeof Be.from!="number"||typeof Be.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new y(Be.from,Be.to,Me.markFromJSON(Be.mark))}}i.jsonID("removeMark",y);class b extends i{constructor(Me,Be){super();this.pos=Me,this.mark=Be}apply(Me){let Be=Me.nodeAt(this.pos);if(!Be)return h.fail("No node at mark step's position");let Xe=Be.type.create(Be.attrs,null,this.mark.addToSet(Be.marks));return h.fromReplace(Me,this.pos,this.pos+1,new e.Slice(e.Fragment.from(Xe),0,Be.isLeaf?0:1))}invert(Me){let Be=Me.nodeAt(this.pos);if(Be){let Xe=this.mark.addToSet(Be.marks);if(Xe.length==Be.marks.length){for(let Te=0;Te<Be.marks.length;Te++)if(!Be.marks[Te].isInSet(Xe))return new b(this.pos,Be.marks[Te]);return new b(this.pos,this.mark)}}return new E(this.pos,this.mark)}map(Me){let Be=Me.mapResult(this.pos,1);return Be.deletedAfter?null:new b(Be.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(Me,Be){if(typeof Be.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new b(Be.pos,Me.markFromJSON(Be.mark))}}i.jsonID("addNodeMark",b);class E extends i{constructor(Me,Be){super();this.pos=Me,this.mark=Be}apply(Me){let Be=Me.nodeAt(this.pos);if(!Be)return h.fail("No node at mark step's position");let Xe=Be.type.create(Be.attrs,null,this.mark.removeFromSet(Be.marks));return h.fromReplace(Me,this.pos,this.pos+1,new e.Slice(e.Fragment.from(Xe),0,Be.isLeaf?0:1))}invert(Me){let Be=Me.nodeAt(this.pos);return!Be||!this.mark.isInSet(Be.marks)?this:new b(this.pos,this.mark)}map(Me){let Be=Me.mapResult(this.pos,1);return Be.deletedAfter?null:new E(Be.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(Me,Be){if(typeof Be.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new E(Be.pos,Me.markFromJSON(Be.mark))}}i.jsonID("removeNodeMark",E);class P extends i{constructor(Me,Be,Xe,Te=!1){super();this.from=Me,this.to=Be,this.slice=Xe,this.structure=Te}apply(Me){return this.structure&&_(Me,this.from,this.to)?h.fail("Structure replace would overwrite content"):h.fromReplace(Me,this.from,this.to,this.slice)}getMap(){return new O([this.from,this.to-this.from,this.slice.size])}invert(Me){return new P(this.from,this.from+this.slice.size,Me.slice(this.from,this.to))}map(Me){let Be=Me.mapResult(this.from,1),Xe=Me.mapResult(this.to,-1);return Be.deletedAcross&&Xe.deletedAcross?null:new P(Be.pos,Math.max(Be.pos,Xe.pos),this.slice)}merge(Me){if(!(Me instanceof P)||Me.structure||this.structure)return null;if(this.from+this.slice.size==Me.from&&!this.slice.openEnd&&!Me.slice.openStart){let Be=this.slice.size+Me.slice.size==0?e.Slice.empty:new e.Slice(this.slice.content.append(Me.slice.content),this.slice.openStart,Me.slice.openEnd);return new P(this.from,this.to+(Me.to-Me.from),Be,this.structure)}else if(Me.to==this.from&&!this.slice.openStart&&!Me.slice.openEnd){let Be=this.slice.size+Me.slice.size==0?e.Slice.empty:new e.Slice(Me.slice.content.append(this.slice.content),Me.slice.openStart,this.slice.openEnd);return new P(Me.from,this.to,Be,this.structure)}else return null}toJSON(){let Me={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(Me.slice=this.slice.toJSON()),this.structure&&(Me.structure=!0),Me}static fromJSON(Me,Be){if(typeof Be.from!="number"||typeof Be.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new P(Be.from,Be.to,e.Slice.fromJSON(Me,Be.slice),!!Be.structure)}}i.jsonID("replace",P);class A extends i{constructor(Me,Be,Xe,Te,we,De,Ie=!1){super();this.from=Me,this.to=Be,this.gapFrom=Xe,this.gapTo=Te,this.slice=we,this.insert=De,this.structure=Ie}apply(Me){if(this.structure&&(_(Me,this.from,this.gapFrom)||_(Me,this.gapTo,this.to)))return h.fail("Structure gap-replace would overwrite content");let Be=Me.slice(this.gapFrom,this.gapTo);if(Be.openStart||Be.openEnd)return h.fail("Gap is not a flat range");let Xe=this.slice.insertAt(this.insert,Be.content);return Xe?h.fromReplace(Me,this.from,this.to,Xe):h.fail("Content does not fit in gap")}getMap(){return new O([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(Me){let Be=this.gapTo-this.gapFrom;return new A(this.from,this.from+this.slice.size+Be,this.from+this.insert,this.from+this.insert+Be,Me.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(Me){let Be=Me.mapResult(this.from,1),Xe=Me.mapResult(this.to,-1),Te=Me.map(this.gapFrom,-1),we=Me.map(this.gapTo,1);return Be.deletedAcross&&Xe.deletedAcross||Te<Be.pos||we>Xe.pos?null:new A(Be.pos,Xe.pos,Te,we,this.slice,this.insert,this.structure)}toJSON(){let Me={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(Me.slice=this.slice.toJSON()),this.structure&&(Me.structure=!0),Me}static fromJSON(Me,Be){if(typeof Be.from!="number"||typeof Be.to!="number"||typeof Be.gapFrom!="number"||typeof Be.gapTo!="number"||typeof Be.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new A(Be.from,Be.to,Be.gapFrom,Be.gapTo,e.Slice.fromJSON(Me,Be.slice),Be.insert,!!Be.structure)}}i.jsonID("replaceAround",A);function _(at,Me,Be){let Xe=at.resolve(Me),Te=Be-Me,we=Xe.depth;for(;Te>0&&we>0&&Xe.indexAfter(we)==Xe.node(we).childCount;)we--,Te--;if(Te>0){let De=Xe.node(we).maybeChild(Xe.indexAfter(we));for(;Te>0;){if(!De||De.isLeaf)return!0;De=De.firstChild,Te--}}return!1}function M(at,Me,Be,Xe){let Te=[],we=[],De,Ie;at.doc.nodesBetween(Me,Be,(He,Ve,z)=>{if(!He.isInline)return;let se=He.marks;if(!Xe.isInSet(se)&&z.type.allowsMarkType(Xe.type)){let Se=Math.max(Ve,Me),Oe=Math.min(Ve+He.nodeSize,Be),ge=Xe.addToSet(se);for(let je=0;je<se.length;je++)se[je].isInSet(ge)||(De&&De.to==Se&&De.mark.eq(se[je])?De.to=Oe:Te.push(De=new y(Se,Oe,se[je])));Ie&&Ie.to==Se?Ie.to=Oe:we.push(Ie=new j(Se,Oe,Xe))}}),Te.forEach(He=>at.step(He)),we.forEach(He=>at.step(He))}function F(at,Me,Be,Xe){let Te=[],we=0;at.doc.nodesBetween(Me,Be,(De,Ie)=>{if(!De.isInline)return;we++;let He=null;if(Xe instanceof e.MarkType){let Ve=De.marks,z;for(;z=Xe.isInSet(Ve);)(He||(He=[])).push(z),Ve=z.removeFromSet(Ve)}else Xe?Xe.isInSet(De.marks)&&(He=[Xe]):He=De.marks;if(He&&He.length){let Ve=Math.min(Ie+De.nodeSize,Be);for(let z=0;z<He.length;z++){let se=He[z],Se;for(let Oe=0;Oe<Te.length;Oe++){let ge=Te[Oe];ge.step==we-1&&se.eq(Te[Oe].style)&&(Se=ge)}Se?(Se.to=Ve,Se.step=we):Te.push({style:se,from:Math.max(Ie,Me),to:Ve,step:we})}}}),Te.forEach(De=>at.step(new y(De.from,De.to,De.style)))}function H(at,Me,Be,Xe=Be.contentMatch){let Te=at.doc.nodeAt(Me),we=[],De=Me+1;for(let Ie=0;Ie<Te.childCount;Ie++){let He=Te.child(Ie),Ve=De+He.nodeSize,z=Xe.matchType(He.type);if(!z)we.push(new P(De,Ve,e.Slice.empty));else{Xe=z;for(let se=0;se<He.marks.length;se++)Be.allowsMarkType(He.marks[se].type)||at.step(new y(De,Ve,He.marks[se]))}De=Ve}if(!Xe.validEnd){let Ie=Xe.fillBefore(e.Fragment.empty,!0);at.replace(De,De,new e.Slice(Ie,0,0))}for(let Ie=we.length-1;Ie>=0;Ie--)at.step(we[Ie])}function C(at,Me,Be){return(Me==0||at.canReplace(Me,at.childCount))&&(Be==at.childCount||at.canReplace(0,Be))}function T(at){let Be=at.parent.content.cutByIndex(at.startIndex,at.endIndex);for(let Xe=at.depth;;--Xe){let Te=at.$from.node(Xe),we=at.$from.index(Xe),De=at.$to.indexAfter(Xe);if(Xe<at.depth&&Te.canReplace(we,De,Be))return Xe;if(Xe==0||Te.type.spec.isolating||!C(Te,we,De))break}return null}function S(at,Me,Be){let{$from:Xe,$to:Te,depth:we}=Me,De=Xe.before(we+1),Ie=Te.after(we+1),He=De,Ve=Ie,z=e.Fragment.empty,se=0;for(let ge=we,je=!1;ge>Be;ge--)je||Xe.index(ge)>0?(je=!0,z=e.Fragment.from(Xe.node(ge).copy(z)),se++):He--;let Se=e.Fragment.empty,Oe=0;for(let ge=we,je=!1;ge>Be;ge--)je||Te.after(ge+1)<Te.end(ge)?(je=!0,Se=e.Fragment.from(Te.node(ge).copy(Se)),Oe++):Ve++;at.step(new A(He,Ve,De,Ie,new e.Slice(z.append(Se),se,Oe),z.size-se,!0))}function D(at,Me,Be=null,Xe=at){let Te=U(at,Me),we=Te&&V(Xe,Me);return we?Te.map(w).concat({type:Me,attrs:Be}).concat(we.map(w)):null}function w(at){return{type:at,attrs:null}}function U(at,Me){let{parent:Be,startIndex:Xe,endIndex:Te}=at,we=Be.contentMatchAt(Xe).findWrapping(Me);if(!we)return null;let De=we.length?we[0]:Me;return Be.canReplaceWith(Xe,Te,De)?we:null}function V(at,Me){let{parent:Be,startIndex:Xe,endIndex:Te}=at,we=Be.child(Xe),De=Me.contentMatch.findWrapping(we.type);if(!De)return null;let He=(De.length?De[De.length-1]:Me).contentMatch;for(let Ve=Xe;He&&Ve<Te;Ve++)He=He.matchType(Be.child(Ve).type);return!He||!He.validEnd?null:De}function K(at,Me,Be){let Xe=e.Fragment.empty;for(let De=Be.length-1;De>=0;De--){if(Xe.size){let Ie=Be[De].type.contentMatch.matchFragment(Xe);if(!Ie||!Ie.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}Xe=e.Fragment.from(Be[De].type.create(Be[De].attrs,Xe))}let Te=Me.start,we=Me.end;at.step(new A(Te,we,Te,we,new e.Slice(Xe,0,0),Be.length,!0))}function Y(at,Me,Be,Xe,Te){if(!Xe.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let we=at.steps.length;at.doc.nodesBetween(Me,Be,(De,Ie)=>{if(De.isTextblock&&!De.hasMarkup(Xe,Te)&&W(at.doc,at.mapping.slice(we).map(Ie),Xe)){at.clearIncompatible(at.mapping.slice(we).map(Ie,1),Xe);let He=at.mapping.slice(we),Ve=He.map(Ie,1),z=He.map(Ie+De.nodeSize,1);return at.step(new A(Ve,z,Ve+1,z-1,new e.Slice(e.Fragment.from(Xe.create(Te,null,De.marks)),0,0),1,!0)),!1}})}function W(at,Me,Be){let Xe=at.resolve(Me),Te=Xe.index();return Xe.parent.canReplaceWith(Te,Te+1,Be)}function R(at,Me,Be,Xe,Te){let we=at.doc.nodeAt(Me);if(!we)throw new RangeError("No node at given position");Be||(Be=we.type);let De=Be.create(Xe,null,Te||we.marks);if(we.isLeaf)return at.replaceWith(Me,Me+we.nodeSize,De);if(!Be.validContent(we.content))throw new RangeError("Invalid content for node type "+Be.name);at.step(new A(Me,Me+we.nodeSize,Me+1,Me+we.nodeSize-1,new e.Slice(e.Fragment.from(De),0,0),1,!0))}function B(at,Me,Be=1,Xe){let Te=at.resolve(Me),we=Te.depth-Be,De=Xe&&Xe[Xe.length-1]||Te.parent;if(we<0||Te.parent.type.spec.isolating||!Te.parent.canReplace(Te.index(),Te.parent.childCount)||!De.type.validContent(Te.parent.content.cutByIndex(Te.index(),Te.parent.childCount)))return!1;for(let Ve=Te.depth-1,z=Be-2;Ve>we;Ve--,z--){let se=Te.node(Ve),Se=Te.index(Ve);if(se.type.spec.isolating)return!1;let Oe=se.content.cutByIndex(Se,se.childCount),ge=Xe&&Xe[z]||se;if(ge!=se&&(Oe=Oe.replaceChild(0,ge.type.create(ge.attrs))),!se.canReplace(Se+1,se.childCount)||!ge.type.validContent(Oe))return!1}let Ie=Te.indexAfter(we),He=Xe&&Xe[0];return Te.node(we).canReplaceWith(Ie,Ie,He?He.type:Te.node(we+1).type)}function x(at,Me,Be=1,Xe){let Te=at.doc.resolve(Me),we=e.Fragment.empty,De=e.Fragment.empty;for(let Ie=Te.depth,He=Te.depth-Be,Ve=Be-1;Ie>He;Ie--,Ve--){we=e.Fragment.from(Te.node(Ie).copy(we));let z=Xe&&Xe[Ve];De=e.Fragment.from(z?z.type.create(z.attrs,De):Te.node(Ie).copy(De))}at.step(new P(Me,Me,new e.Slice(we.append(De),Be,Be),!0))}function G(at,Me){let Be=at.resolve(Me),Xe=Be.index();return Q(Be.nodeBefore,Be.nodeAfter)&&Be.parent.canReplace(Xe,Xe+1)}function Q(at,Me){return!!(at&&Me&&!at.isLeaf&&at.canAppend(Me))}function he(at,Me,Be=-1){let Xe=at.resolve(Me);for(let Te=Xe.depth;;Te--){let we,De,Ie=Xe.index(Te);if(Te==Xe.depth?(we=Xe.nodeBefore,De=Xe.nodeAfter):Be>0?(we=Xe.node(Te+1),Ie++,De=Xe.node(Te).maybeChild(Ie)):(we=Xe.node(Te).maybeChild(Ie-1),De=Xe.node(Te+1)),we&&!we.isTextblock&&Q(we,De)&&Xe.node(Te).canReplace(Ie,Ie+1))return Me;if(Te==0)break;Me=Be<0?Xe.before(Te):Xe.after(Te)}}function Z(at,Me,Be){let Xe=new P(Me-Be,Me+Be,e.Slice.empty,!0);at.step(Xe)}function le(at,Me,Be){let Xe=at.resolve(Me);if(Xe.parent.canReplaceWith(Xe.index(),Xe.index(),Be))return Me;if(Xe.parentOffset==0)for(let Te=Xe.depth-1;Te>=0;Te--){let we=Xe.index(Te);if(Xe.node(Te).canReplaceWith(we,we,Be))return Xe.before(Te+1);if(we>0)return null}if(Xe.parentOffset==Xe.parent.content.size)for(let Te=Xe.depth-1;Te>=0;Te--){let we=Xe.indexAfter(Te);if(Xe.node(Te).canReplaceWith(we,we,Be))return Xe.after(Te+1);if(we<Xe.node(Te).childCount)return null}return null}function de(at,Me,Be){let Xe=at.resolve(Me);if(!Be.content.size)return Me;let Te=Be.content;for(let we=0;we<Be.openStart;we++)Te=Te.firstChild.content;for(let we=1;we<=(Be.openStart==0&&Be.size?2:1);we++)for(let De=Xe.depth;De>=0;De--){let Ie=De==Xe.depth?0:Xe.pos<=(Xe.start(De+1)+Xe.end(De+1))/2?-1:1,He=Xe.index(De)+(Ie>0?1:0),Ve=Xe.node(De),z=!1;if(we==1)z=Ve.canReplace(He,He,Te);else{let se=Ve.contentMatchAt(He).findWrapping(Te.firstChild.type);z=se&&Ve.canReplaceWith(He,He,se[0])}if(z)return Ie==0?Xe.pos:Ie<0?Xe.before(De+1):Xe.after(De+1)}return null}function be(at,Me,Be=Me,Xe=e.Slice.empty){if(Me==Be&&!Xe.size)return null;let Te=at.resolve(Me),we=at.resolve(Be);return X(Te,we,Xe)?new P(Me,Be,Xe):new ie(Te,we,Xe).fit()}function X(at,Me,Be){return!Be.openStart&&!Be.openEnd&&at.start()==Me.start()&&at.parent.canReplace(at.index(),Me.index(),Be.content)}class ie{constructor(Me,Be,Xe){this.$from=Me,this.$to=Be,this.unplaced=Xe,this.frontier=[],this.placed=e.Fragment.empty;for(let Te=0;Te<=Me.depth;Te++){let we=Me.node(Te);this.frontier.push({type:we.type,match:we.contentMatchAt(Me.indexAfter(Te))})}for(let Te=Me.depth;Te>0;Te--)this.placed=e.Fragment.from(Me.node(Te).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let Ve=this.findFittable();Ve?this.placeNodes(Ve):this.openMore()||this.dropNode()}let Me=this.mustMoveInline(),Be=this.placed.size-this.depth-this.$from.depth,Xe=this.$from,Te=this.close(Me<0?this.$to:Xe.doc.resolve(Me));if(!Te)return null;let we=this.placed,De=Xe.depth,Ie=Te.depth;for(;De&&Ie&&we.childCount==1;)we=we.firstChild.content,De--,Ie--;let He=new e.Slice(we,De,Ie);return Me>-1?new A(Xe.pos,Me,this.$to.pos,this.$to.end(),He,Be):He.size||Xe.pos!=this.$to.pos?new P(Xe.pos,Te.pos,He):null}findFittable(){let Me=this.unplaced.openStart;for(let Be=this.unplaced.content,Xe=0,Te=this.unplaced.openEnd;Xe<Me;Xe++){let we=Be.firstChild;if(Be.childCount>1&&(Te=0),we.type.spec.isolating&&Te<=Xe){Me=Xe;break}Be=we.content}for(let Be=1;Be<=2;Be++)for(let Xe=Be==1?Me:this.unplaced.openStart;Xe>=0;Xe--){let Te,we=null;Xe?(we=Ae(this.unplaced.content,Xe-1).firstChild,Te=we.content):Te=this.unplaced.content;let De=Te.firstChild;for(let Ie=this.depth;Ie>=0;Ie--){let{type:He,match:Ve}=this.frontier[Ie],z,se=null;if(Be==1&&(De?Ve.matchType(De.type)||(se=Ve.fillBefore(e.Fragment.from(De),!1)):we&&He.compatibleContent(we.type)))return{sliceDepth:Xe,frontierDepth:Ie,parent:we,inject:se};if(Be==2&&De&&(z=Ve.findWrapping(De.type)))return{sliceDepth:Xe,frontierDepth:Ie,parent:we,wrap:z};if(we&&Ve.matchType(we.type))break}}}openMore(){let{content:Me,openStart:Be,openEnd:Xe}=this.unplaced,Te=Ae(Me,Be);return!Te.childCount||Te.firstChild.isLeaf?!1:(this.unplaced=new e.Slice(Me,Be+1,Math.max(Xe,Te.size+Be>=Me.size-Xe?Be+1:0)),!0)}dropNode(){let{content:Me,openStart:Be,openEnd:Xe}=this.unplaced,Te=Ae(Me,Be);if(Te.childCount<=1&&Be>0){let we=Me.size-Be<=Be+Te.size;this.unplaced=new e.Slice(Ce(Me,Be-1,1),Be-1,we?Be-1:Xe)}else this.unplaced=new e.Slice(Ce(Me,Be,1),Be,Xe)}placeNodes({sliceDepth:Me,frontierDepth:Be,parent:Xe,inject:Te,wrap:we}){for(;this.depth>Be;)this.closeFrontierNode();if(we)for(let je=0;je<we.length;je++)this.openFrontierNode(we[je]);let De=this.unplaced,Ie=Xe?Xe.content:De.content,He=De.openStart-Me,Ve=0,z=[],{match:se,type:Se}=this.frontier[Be];if(Te){for(let je=0;je<Te.childCount;je++)z.push(Te.child(je));se=se.matchFragment(Te)}let Oe=Ie.size+Me-(De.content.size-De.openEnd);for(;Ve<Ie.childCount;){let je=Ie.child(Ve),it=se.matchType(je.type);if(!it)break;Ve++,(Ve>1||He==0||je.content.size)&&(se=it,z.push(Pe(je.mark(Se.allowedMarks(je.marks)),Ve==1?He:0,Ve==Ie.childCount?Oe:-1)))}let ge=Ve==Ie.childCount;ge||(Oe=-1),this.placed=Le(this.placed,Be,e.Fragment.from(z)),this.frontier[Be].match=se,ge&&Oe<0&&Xe&&Xe.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let je=0,it=Ie;je<Oe;je++){let Tt=it.lastChild;this.frontier.push({type:Tt.type,match:Tt.contentMatchAt(Tt.childCount)}),it=Tt.content}this.unplaced=ge?Me==0?e.Slice.empty:new e.Slice(Ce(De.content,Me-1,1),Me-1,Oe<0?De.openEnd:Me-1):new e.Slice(Ce(De.content,Me,Ve),De.openStart,De.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let Me=this.frontier[this.depth],Be;if(!Me.type.isTextblock||!Ne(this.$to,this.$to.depth,Me.type,Me.match,!1)||this.$to.depth==this.depth&&(Be=this.findCloseLevel(this.$to))&&Be.depth==this.depth)return-1;let{depth:Xe}=this.$to,Te=this.$to.after(Xe);for(;Xe>1&&Te==this.$to.end(--Xe);)++Te;return Te}findCloseLevel(Me){e:for(let Be=Math.min(this.depth,Me.depth);Be>=0;Be--){let{match:Xe,type:Te}=this.frontier[Be],we=Be<Me.depth&&Me.end(Be+1)==Me.pos+(Me.depth-(Be+1)),De=Ne(Me,Be,Te,Xe,we);if(!!De){for(let Ie=Be-1;Ie>=0;Ie--){let{match:He,type:Ve}=this.frontier[Ie],z=Ne(Me,Ie,Ve,He,!0);if(!z||z.childCount)continue e}return{depth:Be,fit:De,move:we?Me.doc.resolve(Me.after(Be+1)):Me}}}}close(Me){let Be=this.findCloseLevel(Me);if(!Be)return null;for(;this.depth>Be.depth;)this.closeFrontierNode();Be.fit.childCount&&(this.placed=Le(this.placed,Be.depth,Be.fit)),Me=Be.move;for(let Xe=Be.depth+1;Xe<=Me.depth;Xe++){let Te=Me.node(Xe),we=Te.type.contentMatch.fillBefore(Te.content,!0,Me.index(Xe));this.openFrontierNode(Te.type,Te.attrs,we)}return Me}openFrontierNode(Me,Be=null,Xe){let Te=this.frontier[this.depth];Te.match=Te.match.matchType(Me),this.placed=Le(this.placed,this.depth,e.Fragment.from(Me.create(Be,Xe))),this.frontier.push({type:Me,match:Me.contentMatch})}closeFrontierNode(){let Be=this.frontier.pop().match.fillBefore(e.Fragment.empty,!0);Be.childCount&&(this.placed=Le(this.placed,this.frontier.length,Be))}}function Ce(at,Me,Be){return Me==0?at.cutByIndex(Be,at.childCount):at.replaceChild(0,at.firstChild.copy(Ce(at.firstChild.content,Me-1,Be)))}function Le(at,Me,Be){return Me==0?at.append(Be):at.replaceChild(at.childCount-1,at.lastChild.copy(Le(at.lastChild.content,Me-1,Be)))}function Ae(at,Me){for(let Be=0;Be<Me;Be++)at=at.firstChild.content;return at}function Pe(at,Me,Be){if(Me<=0)return at;let Xe=at.content;return Me>1&&(Xe=Xe.replaceChild(0,Pe(Xe.firstChild,Me-1,Xe.childCount==1?Be-1:0))),Me>0&&(Xe=at.type.contentMatch.fillBefore(Xe).append(Xe),Be<=0&&(Xe=Xe.append(at.type.contentMatch.matchFragment(Xe).fillBefore(e.Fragment.empty,!0)))),at.copy(Xe)}function Ne(at,Me,Be,Xe,Te){let we=at.node(Me),De=Te?at.indexAfter(Me):at.index(Me);if(De==we.childCount&&!Be.compatibleContent(we.type))return null;let Ie=Xe.fillBefore(we.content,!0,De);return Ie&&!ce(Be,we.content,De)?Ie:null}function ce(at,Me,Be){for(let Xe=Be;Xe<Me.childCount;Xe++)if(!at.allowsMarks(Me.child(Xe).marks))return!0;return!1}function q(at){return at.spec.defining||at.spec.definingForContent}function te(at,Me,Be,Xe){if(!Xe.size)return at.deleteRange(Me,Be);let Te=at.doc.resolve(Me),we=at.doc.resolve(Be);if(X(Te,we,Xe))return at.step(new P(Me,Be,Xe));let De=ze(Te,at.doc.resolve(Be));De[De.length-1]==0&&De.pop();let Ie=-(Te.depth+1);De.unshift(Ie);for(let Se=Te.depth,Oe=Te.pos-1;Se>0;Se--,Oe--){let ge=Te.node(Se).type.spec;if(ge.defining||ge.definingAsContext||ge.isolating)break;De.indexOf(Se)>-1?Ie=Se:Te.before(Se)==Oe&&De.splice(1,0,-Se)}let He=De.indexOf(Ie),Ve=[],z=Xe.openStart;for(let Se=Xe.content,Oe=0;;Oe++){let ge=Se.firstChild;if(Ve.push(ge),Oe==Xe.openStart)break;Se=ge.content}for(let Se=z-1;Se>=0;Se--){let Oe=Ve[Se].type,ge=q(Oe);if(ge&&Te.node(He).type!=Oe)z=Se;else if(ge||!Oe.isTextblock)break}for(let Se=Xe.openStart;Se>=0;Se--){let Oe=(Se+z+1)%(Xe.openStart+1),ge=Ve[Oe];if(!!ge)for(let je=0;je<De.length;je++){let it=De[(je+He)%De.length],Tt=!0;it<0&&(Tt=!1,it=-it);let sn=Te.node(it-1),ht=Te.index(it-1);if(sn.canReplaceWith(ht,ht,ge.type,ge.marks))return at.replace(Te.before(it),Tt?we.after(it):Be,new e.Slice(ue(Xe.content,0,Xe.openStart,Oe),Oe,Xe.openEnd))}}let se=at.steps.length;for(let Se=De.length-1;Se>=0&&(at.replace(Me,Be,Xe),!(at.steps.length>se));Se--){let Oe=De[Se];Oe<0||(Me=Te.before(Oe),Be=we.after(Oe))}}function ue(at,Me,Be,Xe,Te){if(Me<Be){let we=at.firstChild;at=at.replaceChild(0,we.copy(ue(we.content,Me+1,Be,Xe,we)))}if(Me>Xe){let we=Te.contentMatchAt(0),De=we.fillBefore(at).append(at);at=De.append(we.matchFragment(De).fillBefore(e.Fragment.empty,!0))}return at}function We(at,Me,Be,Xe){if(!Xe.isInline&&Me==Be&&at.doc.resolve(Me).parent.content.size){let Te=le(at.doc,Me,Xe.type);Te!=null&&(Me=Be=Te)}at.replaceRange(Me,Be,new e.Slice(e.Fragment.from(Xe),0,0))}function ot(at,Me,Be){let Xe=at.doc.resolve(Me),Te=at.doc.resolve(Be),we=ze(Xe,Te);for(let De=0;De<we.length;De++){let Ie=we[De],He=De==we.length-1;if(He&&Ie==0||Xe.node(Ie).type.contentMatch.validEnd)return at.delete(Xe.start(Ie),Te.end(Ie));if(Ie>0&&(He||Xe.node(Ie-1).canReplace(Xe.index(Ie-1),Te.indexAfter(Ie-1))))return at.delete(Xe.before(Ie),Te.after(Ie))}for(let De=1;De<=Xe.depth&&De<=Te.depth;De++)if(Me-Xe.start(De)==Xe.depth-De&&Be>Xe.end(De)&&Te.end(De)-Be!=Te.depth-De)return at.delete(Xe.before(De),Be);at.delete(Me,Be)}function ze(at,Me){let Be=[],Xe=Math.min(at.depth,Me.depth);for(let Te=Xe;Te>=0;Te--){let we=at.start(Te);if(we<at.pos-(at.depth-Te)||Me.end(Te)>Me.pos+(Me.depth-Te)||at.node(Te).type.spec.isolating||Me.node(Te).type.spec.isolating)break;(we==Me.start(Te)||Te==at.depth&&Te==Me.depth&&at.parent.inlineContent&&Me.parent.inlineContent&&Te&&Me.start(Te-1)==we-1)&&Be.push(Te)}return Be}class vt extends i{constructor(Me,Be,Xe){super();this.pos=Me,this.attr=Be,this.value=Xe}apply(Me){let Be=Me.nodeAt(this.pos);if(!Be)return h.fail("No node at attribute step's position");let Xe=Object.create(null);for(let we in Be.attrs)Xe[we]=Be.attrs[we];Xe[this.attr]=this.value;let Te=Be.type.create(Xe,null,Be.marks);return h.fromReplace(Me,this.pos,this.pos+1,new e.Slice(e.Fragment.from(Te),0,Be.isLeaf?0:1))}getMap(){return O.empty}invert(Me){return new vt(this.pos,this.attr,Me.nodeAt(this.pos).attrs[this.attr])}map(Me){let Be=Me.mapResult(this.pos,1);return Be.deletedAfter?null:new vt(Be.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(Me,Be){if(typeof Be.pos!="number"||typeof Be.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new vt(Be.pos,Be.attr,Be.value)}}i.jsonID("attr",vt);let Wt=class extends Error{};Wt=function at(Me){let Be=Error.call(this,Me);return Be.__proto__=at.prototype,Be},Wt.prototype=Object.create(Error.prototype),Wt.prototype.constructor=Wt,Wt.prototype.name="TransformError";class zt{constructor(Me){this.doc=Me,this.steps=[],this.docs=[],this.mapping=new s}get before(){return this.docs.length?this.docs[0]:this.doc}step(Me){let Be=this.maybeStep(Me);if(Be.failed)throw new Wt(Be.failed);return this}maybeStep(Me){let Be=Me.apply(this.doc);return Be.failed||this.addStep(Me,Be.doc),Be}get docChanged(){return this.steps.length>0}addStep(Me,Be){this.docs.push(this.doc),this.steps.push(Me),this.mapping.appendMap(Me.getMap()),this.doc=Be}replace(Me,Be=Me,Xe=e.Slice.empty){let Te=be(this.doc,Me,Be,Xe);return Te&&this.step(Te),this}replaceWith(Me,Be,Xe){return this.replace(Me,Be,new e.Slice(e.Fragment.from(Xe),0,0))}delete(Me,Be){return this.replace(Me,Be,e.Slice.empty)}insert(Me,Be){return this.replaceWith(Me,Me,Be)}replaceRange(Me,Be,Xe){return te(this,Me,Be,Xe),this}replaceRangeWith(Me,Be,Xe){return We(this,Me,Be,Xe),this}deleteRange(Me,Be){return ot(this,Me,Be),this}lift(Me,Be){return S(this,Me,Be),this}join(Me,Be=1){return Z(this,Me,Be),this}wrap(Me,Be){return K(this,Me,Be),this}setBlockType(Me,Be=Me,Xe,Te=null){return Y(this,Me,Be,Xe,Te),this}setNodeMarkup(Me,Be,Xe=null,Te){return R(this,Me,Be,Xe,Te),this}setNodeAttribute(Me,Be,Xe){return this.step(new vt(Me,Be,Xe)),this}addNodeMark(Me,Be){return this.step(new b(Me,Be)),this}removeNodeMark(Me,Be){if(!(Be instanceof e.Mark)){let Xe=this.doc.nodeAt(Me);if(!Xe)throw new RangeError("No node at position "+Me);if(Be=Be.isInSet(Xe.marks),!Be)return this}return this.step(new E(Me,Be)),this}split(Me,Be=1,Xe){return x(this,Me,Be,Xe),this}addMark(Me,Be,Xe){return M(this,Me,Be,Xe),this}removeMark(Me,Be,Xe){return F(this,Me,Be,Xe),this}clearIncompatible(Me,Be,Xe){return H(this,Me,Be,Xe),this}}},function(k,n,t){"use strict";t.d(n,"c",function(){return Qe}),t.d(n,"b",function(){return ke}),t.d(n,"p",function(){return Pn}),t.d(n,"a",function(){return $t}),t.d(n,"q",function(){return nn}),t.d(n,"r",function(){return Bt}),t.d(n,"k",function(){return Kt}),t.d(n,"s",function(){return Sn}),t.d(n,"g",function(){return dr}),t.d(n,"i",function(){return Dn}),t.d(n,"l",function(){return ut}),t.d(n,"m",function(){return fn}),t.d(n,"n",function(){return On}),t.d(n,"o",function(){return Ot}),t.d(n,"j",function(){return kt}),t.d(n,"f",function(){return Vn}),t.d(n,"e",function(){return Gn}),t.d(n,"d",function(){return tr}),t.d(n,"h",function(){return rn});var e=t(0),a=t(3),o=t(1),l=t(5),d=t.n(l),c=t(198),u=t.n(c),f=t(350),m=t.n(f),p=t(840),g=t(814),O=t(564),s=t(858),r=t(562),i=t(851),h=t(837),v=t(12),j=t.n(v),y=t(40),b=t(17),E=t.n(b),P=t(45),A=t(278),_=t(4),M=t(15),F=t(10),H=t(169),C=t(74),T=t(35),S=t(282),D=t(33),w=t(7),U=t(18),V=t(377),K=t(319),Y=t(9),W=t(14),R=t(2),B=t(23),x=t(8),G=t(26),Q=t(186),he=t(365),Z=t(70),le=t(549),de=t(385),be=t(192),X=t(121),ie=t(325),Ce=t(387),Le=t(84),Ae=t(386),Pe=t(273),Ne=t(253),ce=t(59),q=t(136),te=t(11),ue=t(32),We=t(235),ot=t(81),ze=t(176),vt={textarea:"frontend-components-restack_modal-module__textarea--26C0e",postPreview:"frontend-components-restack_modal-module__postPreview--2tKF_",pubIcon:"frontend-components-restack_modal-module__pubIcon--1OnOs",modalWrap:"frontend-components-restack_modal-module__modalWrap--2cdPQ",select:"frontend-components-restack_modal-module__select--6RbuS"},Wt=Object.defineProperty,zt=Object.getOwnPropertySymbols,at=Object.prototype.hasOwnProperty,Me=Object.prototype.propertyIsEnumerable,Be=(Jt,cn,bn)=>cn in Jt?Wt(Jt,cn,{enumerable:!0,configurable:!0,writable:!0,value:bn}):Jt[cn]=bn,Xe=(Jt,cn)=>{for(var bn in cn||(cn={}))at.call(cn,bn)&&Be(Jt,bn,cn[bn]);if(zt)for(var bn of zt(cn))Me.call(cn,bn)&&Be(Jt,bn,cn[bn]);return Jt},Te=(Jt,cn,bn)=>new Promise((zn,Rn)=>{var xn=Lt=>{try{Or(bn.next(Lt))}catch(qt){Rn(qt)}},mr=Lt=>{try{Or(bn.throw(Lt))}catch(qt){Rn(qt)}},Or=Lt=>Lt.done?zn(Lt.value):Promise.resolve(Lt.value).then(xn,mr);Or((bn=bn.apply(Jt,cn)).next())});const we={AUDIENCE_SELECTION:"AUDIENCE_SELECTION",PREAMBLE:"PREAMBLE"},De={everyone:"Everyone",only_paid:"Paid subscribers",founding:"Founding members"},Ie={everyone:"Send via email to all subscribers",only_paid:"Send via email to all paid subscribers",founding:"Send via email to all founding members"},He=({pub:Jt,post:cn,user:bn,open:zn,setOpen:Rn})=>{const[xn,mr]=Object(o.l)(null),[Or,Lt]=Object(o.l)(""),[qt,wn]=Object(o.l)(!1),[$n,Wn]=Object(o.l)(!0),[Jn,Tr]=Object(o.l)(we.PREAMBLE),[Qr,ao]=Object(o.l)(null),[oo,eo]=Object(o.l)(null),[bo,zo]=Object(o.l)(!0),[Eo,Co]=Object(o.l)(!0),[Mo,ft]=Object(o.l)(!1),[qe,rt]=Object(o.l)(E()().add(1,"day").toDate()),[mt,un]=Object(o.l)(""),{getConfigFor:yn}=Object(T.c)(),An={everyone:"to everyone",founding:"to founding members",only_paid:"to paid subscribers"}[oo],Je=bo?"Send":"Publish",St=Mo&&qe?E()(qe).max(Date.now()+2).fromNow():"",vn=`${Je} cross-post ${bo?An:""} ${St}`,kn=xn==null?void 0:xn.find(Ln=>Ln.id===Qr),or=Object(G.e)();Object(o.d)(()=>{zn&&!xn&&$n&&(()=>Te(void 0,null,function*(){var ur;try{const br=yield j.a.get("/api/v1/restack/restackable-pubs"),et=((ur=br==null?void 0:br.body)==null?void 0:ur.publications)||[];mr(et),Wn(!1),et.length>0&&(ao(et[0].id),eo("everyone"))}catch(br){console.error("Failed to load user profile for restacking: ",br)}}))()},[zn,bn,$n,Wn,xn,mr]),Object(o.d)(()=>{zn&&xn&&xn.length===0&&!$n&&Object(Y.redirect)(Object(_.getStartPublishingUrl)())},[zn,xn,$n]);const fr=(Ln,ur)=>{Rn(!zn),Tr(we.PREAMBLE),un(null),Wn(!1),ur&&(Lt(""),Object(w.i)(w.a.RESTACK_POST_SUBMITTED,{restacked_publication_id:Jt.id,restacked_post_id:cn.id,restacking_user_id:bn.id,restacking_publication_id:kn.id,restacking_blurb:Or}),or.popToast(br=>Object(e.h)(G.c,Xe({text:Mo?`This post is scheduled to cross-post ${St}`:"This post was cross-posted to your subscribers"},br)))),Object(w.i)(w.a.CROSS_POST_MODAL_CLOSED,{didRestack:ur})},er=()=>Te(void 0,null,function*(){Object(w.i)(w.a.CROSS_POST_MODAL_SUBMIT_CLICKED),Wn(!0);try{Mo?yield j.a.post(`/api/v1/restack/${cn.id}/schedule`).send({audience:oo,restackingPubId:kn.id,introText:Or,sendEmail:bo,publishToWeb:Eo,scheduledAt:qe}):yield j.a.post(`/api/v1/restack/${cn.id}`).send({audience:oo,restackingPubId:kn.id,introText:Or,sendEmail:yn("cross_post_extended_publish_options")?bo:null,publishToWeb:yn("cross_post_extended_publish_options")?Eo:null}),Object(w.i)(w.a.CROSS_POST_MODAL_SUBMITTED),fr({},!0);return}catch(Ln){if(Object(w.i)(w.a.CROSS_POST_MODAL_SUBMIT_FAILED),Ln instanceof TypeError)throw un("An unknown error ocurred. This post was not recommended."),Wn(!1),Ln;un(Object(Y.getNetworkErrorMessage)(Ln,"This post could not be recommended.")),Wn(!1)}});return Object(e.h)(ue.a,{isOpen:zn,onClose:fr},Object(e.h)(ue.d,{includeClose:!0,onClose:fr,title:"Cross-post to your Substack"}),Object(e.h)("div",{"data-testid":"modal-ref-id",className:vt.modalWrap},Jn===we.PREAMBLE?Object(e.h)(R.b,{gap:24,paddingTop:12},Object(e.h)(R.b,{gap:16},Object(e.h)("textarea",Xe({className:vt.textarea,placeholder:"Say why this post is worth reading...",onChange:Ln=>{qt||(wn(!0),Object(w.i)(w.a.CROSS_POST_MODAL_TYPING_STARTED)),Lt(Ln.target.value)},value:Or,maxLength:"800"},ze.b)),Object(e.h)(R.b,{gap:12,className:vt.postPreview,paddingX:16,paddingY:16},Object(e.h)(R.c,{alignItems:"center",gap:8},Object(e.h)(ot.a,{pub:Jt,size:24,logo_url:Jt.logo_url,linkify:!1,className:vt.pubIcon,noMargin:!0}),Object(e.h)(x.b.B4,{color:"primary",weight:"semibold",size:14},Jt.name)),Object(e.h)(R.b,{gap:4},Object(e.h)(x.b.H4,{weight:"semibold"},cn.title),Object(e.h)(x.b.B3,{color:"secondary"},Object(F.formatEllipsis)(((cn.truncated_body_text||"").replace(y.Substitutions.PUBLICATION_NAME,Jt.name)||cn.subtitle||"").substring(0,100)))))),mt&&Object(e.h)(x.b.B4,{color:"accent-red"},mt),Object(e.h)(W.a,{priority:"primary-theme",onClick:()=>{if(Object(w.i)(w.a.CROSS_POST_MODAL_CONTINUE_CLICKED),!Or){un("Please write something to your subscribers to continue"),Object(w.i)(w.a.CROSS_POST_MODAL_CONTINUE_FAILED);return}un(""),Tr(we.AUDIENCE_SELECTION),Object(w.i)(w.a.CROSS_POST_MODAL_CONTINUED)},disabled:$n||!Or,className:"restack-modal-button "},yn("cross_post_extended_publish_options")?"Continue":"Choose audience")):Object(e.h)(R.b,{gap:24,paddingTop:12},Object(e.h)(R.b,{gap:20},Object(e.h)(R.b,{gap:8},Object(e.h)(x.b.B3,null,"Post to"),Object(e.h)(We.a,{value:kn.id,onChange:Ln=>{eo("everyone"),ao(Number(Ln))},className:vt.select},xn.map(Ln=>Object(e.h)("option",{value:Ln.id},Ln.name)))),Object(e.h)(R.b,{gap:8},Object(e.h)(x.b.B3,null,"Send to"),Object(e.h)(We.a,{value:oo,onChange:Ln=>eo(Ln),className:vt.select},((kn==null?void 0:kn.payments_state)==="enabled"?Object(P.getAudiencesForPublicListing)():["everyone"]).map(Ln=>Object(e.h)("option",{value:Ln},De[Ln]))))),yn("cross_post_extended_publish_options")?Object(e.h)(R.b,{gap:12},Object(e.h)(x.b.B3,null,"Delivery"),Object(e.h)(te.g,{value:bo,label:"Send cross-post via email",onChange:Ln=>zo(Ln)}),Object(e.h)(te.g,{value:Eo,label:"Publish cross-post to web",onChange:Ln=>Co(Ln)}),Object(e.h)(te.g,{value:Mo,label:"Schedule time to publish cross-post",onChange:Ln=>ft(Ln),contentBelow:Object(e.h)(te.b,{expanded:Mo},Object(e.h)(R.b,{paddingTop:8},Object(e.h)(te.i,{value:qe!=null?qe:new Date,max:E()().add(92,"days").toDate(),onChange:Ln=>{rt(new Date(Ln.currentTarget.value))}})))})):null,mt&&Object(e.h)(x.b.B4,{color:"accent-red"},mt),Object(e.h)(W.a,{priority:yn("cross_post_extended_publish_options")&&!bo&&!Eo?"secondary":"primary-theme",onClick:er,disabled:$n||yn("cross_post_extended_publish_options")&&!bo&&!Eo,className:"restack-modal-button "},yn("cross_post_extended_publish_options")?vn:Ie[oo]))))};var Ve=t(122),z=Object.defineProperty,se=Object.defineProperties,Se=Object.getOwnPropertyDescriptors,Oe=Object.getOwnPropertySymbols,ge=Object.prototype.hasOwnProperty,je=Object.prototype.propertyIsEnumerable,it=(Jt,cn,bn)=>cn in Jt?z(Jt,cn,{enumerable:!0,configurable:!0,writable:!0,value:bn}):Jt[cn]=bn,Tt=(Jt,cn)=>{for(var bn in cn||(cn={}))ge.call(cn,bn)&&it(Jt,bn,cn[bn]);if(Oe)for(var bn of Oe(cn))je.call(cn,bn)&&it(Jt,bn,cn[bn]);return Jt},sn=(Jt,cn)=>se(Jt,Se(cn)),ht=(Jt,cn,bn)=>new Promise((zn,Rn)=>{var xn=Lt=>{try{Or(bn.next(Lt))}catch(qt){Rn(qt)}},mr=Lt=>{try{Or(bn.throw(Lt))}catch(qt){Rn(qt)}},Or=Lt=>Lt.done?zn(Lt.value):Promise.resolve(Lt.value).then(xn,mr);Or((bn=bn.apply(Jt,cn)).next())});function Nt(Jt,cn){return Jt==="button"&&cn==="verbose"?16:Jt==="button"?20:Jt==="tabs"?24:Jt==="compressed"?16:0}const wt=2,yt=({isFullWidth:Jt,children:cn})=>Jt?Object(e.h)(R.c,{className:"post-ufi-button-wrapper",gap:8},cn):cn;function Qe({post:Jt,pub:cn,user:bn,style:zn,justified:Rn,isStatic:xn,hideReactions:mr,hideComments:Or,hideShare:Lt,hideSavePost:qt,useShareLabel:wn,allowEdit:$n,editButtonIsLast:Wn,onChange:Jn,addedPodcastComments:Tr,hidePinning:Qr,showEmailSent:ao,allowSendEmail:oo,footerHidden:eo,onCommentsClick:bo,labelStyle:zo,showPreamble:Eo,preambleConfig:Co={},position:Mo,hideByDisabling:ft,showRestackButton:qe,showRestackModal:rt}){const mt=Object(S.b)(),{showPins:un,showAudience:yn,showDate:An,showDatetime:Je,showAuthor:St,showPublicationName:Gt}=Co;mr=mr||!cn.community_enabled||!Jt.slug||Jt.is_draft;const vn=u()(Object.values((Jt==null?void 0:Jt.reactions)||{})),kn=ao?Boolean(Jt.email_sent_at):null,or=$n&&(bn==null?void 0:bn.is_contributor),fr=At({post:Jt,pub:cn,user:bn,defaultOpen:qe&&rt&&Mo!=="post-footer"&&Mo!=="post-footer-full-width"}),er=Object(e.h)(ro,{style:zn,pub:cn,post:Jt,user:bn,hidePinning:Qr,emailSent:kn!=null?kn:void 0,allowSendEmail:oo,footerHidden:eo,canBeCrossPosted:qe}),Ln=cn.community_enabled&&Jt.slug&&!Jt.is_draft,ur=qe&&!Eo&&(ft||mr&&Or&&Lt&&!or),br=zo==="counts-or-none"&&vn?"count":zo==="labels"?"cta":"none",et=zo==="counts-or-none"&&Jt.comment_count?"count":zo==="labels"?"cta":"none",Ge=Mo==="post-footer-full-width";return Object(e.h)("div",{className:d()("post-ufi",`style-${zn}`,{justified:Rn,themed:mt,"single-full-width-button":ur})},Object(e.h)(yt,{isFullWidth:Ge},Eo&&Co&&Object(e.h)(Zt,{pub:cn,post:Jt,showPins:un,showAudience:yn,showDate:An,showDatetime:Je,showEmailSent:ao,showAuthor:St,showPublicationName:Gt}),or&&!Wn&&er,(ft||!mr)&&Object(e.h)(Ft,{post:Jt,pub:cn,user:bn,labelStyle:ft&&mr?"none":br,style:zn,onChange:Jn,isStatic:xn,isDisabled:ft&&mr}),(ft||!Or)&&Object(e.h)(zr,{post:Jt,pub:cn,isStatic:xn,labelStyle:ft&&Or?"none":et,style:zn,count:Jt.comment_count+(Tr||0),onClick:bo,isDisabled:ft&&Or}),Ln&&bn&&Object(e.h)(lt,{pub:cn,post:Jt,onChange:Jn,style:zn}),!Lt&&Object(e.h)(dr,{post:Jt,pub:cn,user:bn,style:zn,labelStyle:wn?"cta":"none",isStatic:xn,position:Mo})),Object(e.h)(yt,{isFullWidth:Ge},!qt&&!qe&&bn&&Object(e.h)(rr,{post:Jt,labelStyle:et,style:zn,onChange:Jn}),or&&Wn&&er,qe&&!or&&Mo==="post-header"&&Object(e.h)(e.Fragment,null,Object(e.h)(B.c,{trigger:Object(e.h)(W.c,{"aria-label":"View more",size:40,fill:"outline"},Object(e.h)(p.a,{size:20}))},Object(e.h)(_r,{onClick:fr.open,post:Jt,pub:cn,user:bn}),Object(e.h)(Mr,{post:Jt,onChange:Jn}))),qe&&!or&&Ge&&Object(e.h)(e.Fragment,null,!qt&&Object(e.h)(rr,{post:Jt,labelStyle:"verbose",style:"button",onChange:Jn}),Object(e.h)(Rr,{onClick:fr.open,post:Jt,pub:cn,user:bn,style:"button"}))),fr.modal)}function At({pub:Jt,user:cn,post:bn,defaultOpen:zn=!1}){const[Rn,xn]=Object(o.l)(zn);return Object(o.d)(()=>{zn&&cn&&Object(w.i)(w.a.RESTACK_POST_CLICKED,{restacked_publication_id:Jt.id,restacked_post_id:bn.id,restacking_user_id:cn.id,is_from_email:!0})},[zn,Jt,bn,cn]),{open:()=>xn(!0),modal:Object(e.h)(He,{pub:Jt,user:cn,post:bn,open:Rn,setOpen:xn})}}function jt(){const Jt=!1,cn=typeof window=="undefined",bn=250,[zn,Rn]=Object(o.l)(cn?0:window.pageYOffset),[xn,mr]=Object(o.l)(Jt),Or=100,Lt=Object(o.i)(()=>Date.now()+1e3,[]),qt=Object(o.k)(0);return Object(o.d)(()=>{if(cn)return;const wn=m()(()=>{const $n=Date.now(),Wn=($n-qt.current)/1e3,Tr=(zn-window.pageYOffset)/Wn;qt.current=$n,!(window.pageYOffset<0)&&($n<Lt?mr(Jt):-Tr>Or?mr(!0):Tr>Or&&mr(!1),Rn(window.pageYOffset))},bn);return window.addEventListener("scroll",wn),()=>window.removeEventListener("scroll",wn)},[cn,zn,Rn,mr,Lt,qt,Jt]),xn}function ke({post:Jt,pub:cn,user:bn,isStatic:zn,onChange:Rn,allowEdit:xn,hidePinning:mr,showEmailSent:Or,allowSendEmail:Lt,hideComments:qt,onCommentsClick:wn,showRestackModal:$n,setFooterShown:Wn}){const Jn=jt(),Tr=Object(G.e)();return Object(o.d)(()=>{Tr.addOffset(64*(Jn?1:-1)),Wn&&Wn(!Jn)},[Jn,Wn]),Object(e.h)(R.a,{alignItems:"center",padding:8,className:d()("mobile-footer-ufi",{hidden:Jn})},Object(e.h)(Qe,{post:Jt,pub:cn,user:bn,isStatic:zn,justified:!0,style:"tabs",onChange:Rn,allowEdit:xn,editButtonIsLast:!0,hidePinning:mr,showEmailSent:Or,allowSendEmail:Lt,footerHidden:Jn,labelStyle:"counts-or-none",hideComments:qt,onCommentsClick:wn,position:"mobile-toolbar",hideByDisabling:!0,showRestackModal:$n,showRestackButton:!0}))}function tn({post:Jt,pub:cn,user:bn,surface:zn,onChange:Rn,subscribePromptRef:xn}){const mr=!!(Jt==null?void 0:Jt.reaction),Or=Object(U.f)({pathname:`/api/v1/post/${Jt==null?void 0:Jt.id}/reaction`,method:"POST",deps:[Jt==null?void 0:Jt.id]}),Lt=Object(V.a)({user:bn,noBase:!1});return{isLiked:mr,toggle:()=>ht(this,null,function*(){var qt;if(Or.isLoading)return"error";mr||!Lt()&&bn&&!Object(K.a)(bn,cn)&&!bn.is_admin&&!bn.is_contributor&&(xn==null?void 0:xn.current)&&Object(Pe.c)()&&(Object(w.i)(w.a.LIKE_UPSELL_MODAL_SEEN,{source:"web",type:(bn==null?void 0:bn.is_free_subscribed)?"paid":"free"}),xn.current.open(),Object(Pe.d)(cn));const{reaction:wn,reactions:$n,reactor_names:Wn}=Object(q.e)(bn,Jt);Jt.reaction=wn,Jt.reactions=$n,Jt.reactor_names=Wn,Rn==null||Rn({post:Jt});const Jn=yield Or.refetch(wn?{method:"POST",json:{reaction:"\u2764",surface:zn}}:{method:"DELETE"}),Tr=(qt=Jn==null?void 0:Jn.response)==null?void 0:qt.status;if(Tr){const{reaction:Qr,reactions:ao,reactor_names:oo}=Object(q.e)(bn,Jt);Jt.reaction=Qr,Jt.reactions=ao,Jt.reactor_names=oo,Rn==null||Rn({post:Jt})}return Tr===401?"unauthorized":Tr?"error":wn?"liked":"unliked"})}}function Pn(){const Jt=Qn();return(bn,zn,...Rn)=>ht(this,[bn,zn,...Rn],function*(xn,mr,{tabId:Or}={}){yield Object(U.c)(`/api/v1/post/${xn}/reaction`,mr?{method:"POST",json:{reaction:"\u2764",surface:"reader",tabId:Or}}:{method:"DELETE",json:{tabId:Or}}),Jt(mr)})}function Ft({post:Jt,pub:cn,user:bn,style:zn,labelStyle:Rn,onChange:xn,isStatic:mr,isDisabled:Or}){const Lt=u()(Object.values((Jt==null?void 0:Jt.reactions)||{})),qt=Rn==="count"?Object(F.numberToString)(Lt||0):Rn==="cta"?"Like":null;return Object(e.h)($t,{post:Jt,pub:cn,user:bn,onChange:xn,isStatic:mr,style:zn},({isLiked:wn,handleLike:$n})=>Object(e.h)(Dn,{style:zn,state:wn?"liked":void 0,icon:Object(e.h)(X.default,{className:"icon",height:Nt(zn),strokeWidth:wt}),onClick:Or?()=>{}:$n,noLabel:Rn==="none",isDisabled:Or},qt))}function lt({pub:Jt,post:cn,onChange:bn,style:zn}){const{canRestack:Rn,isRestacked:xn,restacks:mr,menuItems:Or,nuxModal:Lt}=Object(Q.a)({pub:Jt,post:cn,onRestack:$n=>{bn==null||bn({post:sn(Tt({},cn),{restacked:$n,restacks:mr+($n?1:-1)})})}});if(!Rn)return null;const qt=!Jt.community_enabled,wn=Object(e.h)(Dn,{style:zn,state:xn?"restacked":void 0,icon:Object(e.h)(Le.default,{className:"icon",height:Nt(zn),strokeWidth:wt}),noLabel:mr===0,"aria-label":"menu",isDisabled:qt},mr.toLocaleString(void 0,{maximumSignificantDigits:4}));return Object(e.h)(e.Fragment,null,Lt,qt?wn:Object(e.h)(B.c,{trigger:wn},Or))}function Rt({post:Jt,pub:cn,user:bn,onChange:zn,showRestackModal:Rn,canBeCrossPosted:xn}){const mr="button",Or=At({pub:cn,user:bn,post:Jt,defaultOpen:Rn&&xn}),Lt=()=>{Or.open(),Object(w.i)(w.a.RESTACK_POST_CLICKED,{restacked_publication_id:cn.id,restacked_post_id:Jt.id,restacking_user_id:bn.id,is_from_email:!1})};return Object(e.h)(e.Fragment,null,Object(e.h)(B.c,{trigger:Object(e.h)(Dn,{style:mr,icon:Object(e.h)(p.a,{className:"icon edit-icon",size:Nt(mr),strokeWidth:2}),noLabel:!0,"aria-label":"More"})},Object(e.h)(Mr,{post:Jt,onChange:zn,showIcon:!0}),xn&&Object(e.h)(B.d,{icon:Object(e.h)(ie.default,null),onClick:Lt},"Cross post"),bn&&Object(e.h)(B.d,{icon:Object(e.h)(g.a,null),href:Object(M.getReaderPostUrl)(Jt.id)},"Substack Reader")),Or.modal)}function ln(Jt){var cn;const bn=u()(Object.values(((cn=Jt.post)==null?void 0:cn.reactions)||{}));return Object(e.h)(Ft,sn(Tt({},Jt),{labelStyle:bn>0?"count":"none"}))}const Mt=({pub:Jt,user:cn})=>{const[bn,zn]=Object(o.l)(cn==null?void 0:cn.email),[Rn,xn]=Object(o.l)(!1);return Object(e.h)(R.b,{gap:20},Object(e.h)(R.b,{gap:4},Object(e.h)(x.b.H4,{weight:"semibold"},"Support ",Jt.name),Object(e.h)(x.b.B4,{color:"secondary"},"Since you liked this post, why not subscribe?")),Object(e.h)(R.b,{gap:12},Object(e.h)("input",{disabled:!!(cn==null?void 0:cn.email),value:bn,onChange:mr=>zn(mr.currentTarget.value)}),Object(e.h)(W.a,{onClick:()=>ht(void 0,null,function*(){Object(w.i)(w.a.LIKE_UPSELL_FREE_SUBSCRIBED,{email:bn}),xn(!0);try{yield j.a.post("/api/v1/free").send({email:bn,source:"like-button-upsell"}),Object(Y.redirect)(Object(M.getSubscribeUrl)(Jt,{params:{utm_source:"like-button-upsell",just_signed_up:!0}}),{local_navigation:!1})}catch(mr){alert(Object(Y.getNetworkErrorMessage)(mr))}}),grow:!0,disabled:Rn,priority:"primary-theme"},Rn?"Please wait...":"Subscribe")))};function $t({post:Jt,pub:cn,user:bn,onChange:zn,isStatic:Rn,children:xn,style:mr}){const Or=Object(o.k)(),{isLiked:Lt,toggle:qt}=tn({post:Jt,pub:cn,user:bn,subscribePromptRef:Or,onChange:zn}),wn=Object(o.k)(),[$n,Wn]=Object(o.l)(!1),Jn=Object(o.a)(Tr=>ht(this,null,function*(){var Qr;(Qr=Tr==null?void 0:Tr.stopPropagation)==null||Qr.call(Tr),(yield qt())==="unauthorized"&&Wn(!0)}),[qt]);return Object(o.d)(()=>{!(wn==null?void 0:wn.current)||!$n||wn.current.open()},[$n]),Object(e.h)("div",{className:d()("like-button-container","post-ufi-button",`style-${mr}`,Lt&&"state-liked")},xn({isLiked:Lt,handleLike:Jn}),!Rn&&$n&&Object(e.h)(q.b,{modalRef:wn,user:bn,pub:cn,onClose:()=>Wn(!1),react:qt}),bn&&!Object(K.a)(bn,cn)&&!bn.is_admin&&!bn.is_contributor&&(mr==="button"||mr==="tabs")&&Object(e.h)(Z.a,{ref:Or,className:d()("subscribe-prompt-dropdown",!(bn==null?void 0:bn.is_free_subscribed)&&"free"),hideMenuTail:!0},(bn==null?void 0:bn.is_free_subscribed)?Object(e.h)(Pe.b,{pub:cn}):Object(e.h)(Mt,{pub:cn,user:bn})))}function nn({post:Jt,defaultSaved:cn,isSaved:bn,trackSurface:zn}){var Rn;return Bt({postId:Jt.id,defaultSaved:(Rn=cn!=null?cn:Jt.is_saved)!=null?Rn:!1,isSaved:bn,trackSurface:zn})}function Bt({postId:Jt,defaultSaved:cn,isSaved:bn,trackSurface:zn}){const[Rn,xn]=Object(o.l)(cn),mr=bn!=null?bn:Rn,{refetch:Or,isLoading:Lt,error:qt}=Object(U.f)({pathname:"/api/v1/posts/saved",method:"POST",json:{post_id:Jt},deps:[Jt]}),wn=Object(H.c)(),$n=Sn();return{isSaved:mr,onSave:()=>(Lt||(Or({method:mr?"DELETE":"POST"}).then(()=>{wn.refetch()}),xn(!mr),$n(!mr),Object(w.i)(w.a.POST_SAVED,{post_id:Jt,surface:zn})),!mr)}}function Kt(Jt,cn,bn){return ht(this,arguments,function*(zn,Rn,{surface:xn}){yield Object(U.c)("/api/v1/posts/saved",{method:Rn?"POST":"DELETE",json:{post_id:zn}}),Object(w.i)(w.a.POST_SAVED,{post_id:zn,surface:xn,is_saved:Rn})})}function Sn(){const Jt=Object(G.e)();return cn=>{cn?Jt.popToast(bn=>Object(e.h)(G.c,sn(Tt({},bn),{text:"Post saved",Icon:O.a}))):Jt.popToast(bn=>Object(e.h)(G.c,sn(Tt({},bn),{text:"Post unsaved",Icon:s.a})))}}function Qn(){const Jt=Object(G.e)();return cn=>{cn?Jt.popToast(bn=>Object(e.h)(G.c,sn(Tt({},bn),{text:"Post liked",Icon:r.a}))):Jt.popToast(bn=>Object(e.h)(G.c,sn(Tt({},bn),{text:"Post unliked",Icon:r.a})))}}function rr({style:Jt,post:cn,isSaved:bn,labelStyle:zn,onChange:Rn}){const{isSaved:xn,onSave:mr}=nn({defaultSaved:bn,post:cn,isSaved:cn.is_saved}),Or=()=>{const Lt=mr();Rn({post:sn(Tt({},cn),{is_saved:Lt})})};return Object(e.h)(Dn,{state:xn?"saved":void 0,style:Jt,icon:Object(e.h)(de.default,{className:"icon",height:Nt(Jt,zn==="verbose"?"verbose":null),strokeWidth:wt}),noLabel:zn==="none",verboseLabel:zn==="verbose",onClick:Or},zn==="cta"||zn==="verbose"?"Save":null)}function Mr({post:Jt,isSaved:cn,onChange:bn,showIcon:zn}){const{onSave:Rn}=nn({defaultSaved:cn,post:Jt,isSaved:Jt.is_saved}),xn=()=>{const Or=Rn();bn({post:sn(Tt({},Jt),{is_saved:Or})})},mr=Jt.is_saved?"var(--color-accent-substack)":void 0;return Object(e.h)(B.d,{icon:zn?Object(e.h)(O.a,{style:{stroke:mr,fill:mr}}):void 0,onClick:xn},Jt.is_saved?"Unsave":"Save")}function zr({style:Jt,count:cn,labelStyle:bn,post:zn,pub:Rn,isStatic:xn,onClick:mr,isDisabled:Or}){let Lt;return(zn==null?void 0:zn.comment_url_override)?Lt=zn.comment_url_override:xn?Lt=`${y.Substitutions.HALF_MAGIC_COMMENTS_URL}&utm_source=substack&utm_medium=email`:Rn&&(Lt=Object(_.getPostUrl)(Rn,zn,{comments:!0})),Object(e.h)(Dn,{style:Jt,icon:Object(e.h)(be.default,{className:"icon",height:Nt(Jt),strokeWidth:wt}),href:Or?null:Lt,onClick:Or?()=>{}:qt=>{mr?mr(qt):(qt==null||qt.preventDefault(),window.location.href=Lt)},noLabel:bn==="none",className:"post-ufi-comment-button",isDisabled:Or},bn==="cta"&&"Comment",bn==="count"&&Object(F.numberToString)(cn||0))}function dr({post:Jt,user:cn,pub:bn,style:zn,labelStyle:Rn,isStatic:xn,onChange:mr,position:Or}){const Lt=Object(o.k)(),qt=Object(o.a)(()=>{Object(w.i)(w.a.POST_SHARE_BUTTON_CLICKED,{position:Or}),Lt.current.open()},[]);let wn;return Jt.share_url_override?wn=Jt.share_url_override:xn?Jt?wn=y.Substitutions.SHARE_URL:wn=y.Substitutions.SHARE_PUB_URL:wn="javascript:void(0)",Object(e.h)(e.Fragment,null,Object(e.h)(Dn,{style:zn,icon:Object(e.h)(i.a,{className:"icon",height:Nt(zn),strokeWidth:wt}),onClick:qt,href:wn,noLabel:Rn==="none"},Rn==="cta"&&"Share"),!xn&&Object(e.h)(Ve.c,{ref:Lt,user:cn,pub:bn,post:Jt,onChange:mr}))}function Rr({post:Jt,user:cn,pub:bn,onClick:zn,style:Rn}){return Object(e.h)(e.Fragment,null,Object(e.h)(Dn,{style:Rn,icon:Object(e.h)(ie.default,{className:"icon",height:Nt(Rn,"verbose"),strokeWidth:wt}),onClick:()=>{Object(w.i)(w.a.RESTACK_POST_CLICKED,{restacked_publication_id:bn.id,restacked_post_id:Jt.id,restacking_user_id:cn.id,is_from_email:!1}),zn()},noLabel:!1,verboseLabel:!0,title:"Cross-Post"},"Cross-post"))}function _r({post:Jt,user:cn,pub:bn,onClick:zn}){const Rn=()=>{Object(w.i)(w.a.RESTACK_POST_CLICKED,{restacked_publication_id:bn.id,restacked_post_id:Jt.id,restacking_user_id:cn.id,is_from_email:!1}),zn()};return Object(e.h)(e.Fragment,null,Object(e.h)(B.d,{onClick:Rn},"Cross-post"))}function ro({style:Jt,pub:cn,post:bn,user:zn,hidePinning:Rn,emailSent:xn,allowSendEmail:mr,footerHidden:Or,showRestackModal:Lt,canBeCrossPosted:qt}){const wn=Object(o.k)();Or&&wn.current&&wn.current.close();const $n=At({post:bn,pub:cn,user:zn,defaultOpen:Lt&&qt}),Wn=()=>{$n.open(),Object(w.i)(w.a.RESTACK_POST_CLICKED,{restacked_publication_id:cn.id,restacked_post_id:bn.id,restacking_user_id:zn.id,is_from_email:!1})};return Object(e.h)("div",{className:d()("edit-button-container","post-ufi-button",`style-${Jt}`)},Object(e.h)(Dn,{onClick:()=>wn.current.open(),style:Jt,icon:Object(e.h)(p.a,{className:"icon edit-icon",size:Nt(Jt),strokeWidth:2}),noLabel:!0}),Object(e.h)(Ne.b,{ref:wn,pub:cn,post:bn,user:zn,className:"post-ufi-edit-menu",useDrawerOnMobile:!0,hidePinning:Rn,emailSent:xn,allowSendEmail:mr,handleCrossPost:qt&&Wn}),$n.modal)}const Dn=Object(a.forwardRef)(({icon:Jt,children:cn,state:bn,style:zn,onClick:Rn,href:xn,noLabel:mr,verboseLabel:Or,noBorder:Lt,className:qt,isDisabled:wn,iconPosition:$n="left",title:Wn},Jn)=>Object(e.h)("a",{role:"button",className:d()("post-ufi-button",`style-${zn}`,qt,bn?`state-${bn}`:void 0,wn?"state-disabled":void 0,cn&&!mr?"has-label":"no-label",Lt?"no-border":"with-border",Or?"verbose-label":""),title:Wn,href:xn,onClick:Tr=>{Rn&&(Tr.stopPropagation(),Rn(Tr))},ref:Jn},$n==="left"&&Jt,!mr&&cn&&Object(e.h)("div",{className:"label"},cn),$n==="right"&&Jt)),ut=({pub:Jt,post:cn,showAuthor:bn})=>Boolean(bn&&Jt.bylines_enabled&&Object(F.getPrintedByline)(Jt,cn)),fn=({pub:Jt,post:cn,showAuthor:bn,showPhoto:zn,isMobileWidth:Rn})=>ut({pub:Jt,post:cn,showAuthor:bn})&&!On({pub:Jt,post:cn,showAuthor:bn})&&!Ot({pub:Jt,post:cn,showAuthor:bn,showPhoto:zn})&&!Rn,On=({pub:Jt,post:cn,showAuthor:bn})=>ut({pub:Jt,post:cn,showAuthor:bn})&&Object(F.getBylineUsers)(cn).length>1,Ot=({pub:Jt,post:cn,showAuthor:bn,showPhoto:zn})=>{var Rn;return ut({pub:Jt,post:cn,showAuthor:bn})&&zn&&((Rn=Object(F.getBylineUsers)(cn)[0])==null?void 0:Rn.photo_url)&&Jt.byline_images_enabled};function kt({post:Jt,showDatetime:cn,isStatic:bn,fromPostPage:zn,showReactions:Rn}){const xn=Jt.reactions?Object.values(Jt.reactions).reduce((Or,Lt)=>Or+Lt,0):0,mr=zn&&!bn&&Rn&&xn>=70&&xn<100;return cn&&mr?E()(Jt.post_date).standardDatetimeWithYear():cn&&!mr?E()(Jt.post_date).standardDatetime():bn?E()(Jt.post_date).standardDate():mr?E()(Jt.post_date).standardDate({full:mr}):E()(Jt.post_date).standardDateOrTime()}function Zt({pub:Jt,post:cn,showPins:bn,showAudience:zn,showDate:Rn,showDatetime:xn,showEmailSent:mr,showAuthor:Or,showPublicationName:Lt}){const qt=Object(S.b)(),wn=Boolean(Or&&Jt.bylines_enabled&&Object(F.getPrintedByline)(Jt,cn)),$n=!1,Wn=Rn&&cn.post_date&&!cn.is_draft,Jn=mr?Boolean(cn.email_sent_at):null;return Object(e.h)("div",{className:d()("ufi-preamble",{themed:qt})},mr&&Jn&&Object(e.h)("div",{className:"email-sent",title:"This post was sent as an email"},Object(e.h)(h.a,{className:"post-ufi-preamble-icon",size:16})),bn&&cn.is_section_pinned&&Object(e.h)("div",{className:"pinned"},Object(e.h)(Ae.default,{className:"post-ufi-preamble-icon"})),cn.type==="adhoc_email"?Object(e.h)("div",{className:"audience-adhoc"},Object(e.h)(le.default,{className:"post-ufi-preamble-icon"})):zn&&Object(P.isPaidAudience)(cn.audience)&&Object(e.h)("div",{className:"audience-lock"},Object(e.h)(he.a,{audience:cn.audience,className:"lock-icon post-ufi-preamble-icon",size:16})),fn({pub:Jt,post:cn,showAuthor:wn,isMobileWidth:$n})&&Object(e.h)("div",{className:"ufi-preamble-label author"},Object(F.getBylineUsers)(cn).length>0?Object(F.oxfordComma)(Object(F.getBylineUsers)(cn).map(Tr=>Object(e.h)(e.Fragment,null,Object(e.h)(ce.b,{subject:Tr,utmSource:"byline"},Object(e.h)("a",{href:Object(_.getProfileUrl)(Tr,Jt,{base:!0}),onClick:Qr=>Qr.stopPropagation()},Tr.name))))):Object(F.getPrintedByline)(Jt,cn)),Lt&&Object(e.h)("div",{className:"post-publication-name"},Jt.name),Wn&&Object(e.h)("div",{className:"ufi-preamble-label post-date",title:E()(cn.post_date).toISOString()},Object(e.h)("time",{dateTime:E()(cn.post_date).toISOString()},kt({post:cn,showDatetime:xn}))))}const Vn=({pub:Jt,post:cn,user:bn,onChange:zn})=>Object(T.c)().getConfigFor("like_posts_enabled")&&Jt.community_enabled?Object(e.h)(ln,{style:"button",post:cn,pub:Jt,user:bn,onChange:zn}):null,Gn=({pub:Jt,post:cn,onClick:bn})=>{const zn=Object(F.showCommentsOnPost)({publication:Jt,post:cn}),{comment_count:Rn}=cn;return zn?Object(e.h)(zr,{post:cn,pub:Jt,labelStyle:Rn>0?"count":"none",style:"button",count:Rn,onClick:bn}):null};function tr({post:Jt,pub:cn,user:bn,onChange:zn,onCommentsClick:Rn,showRestackModal:xn=!1}){const mr=bn==null?void 0:bn.is_contributor,{getSettingFor:Or}=Object(C.c)(),Lt=!Jt.is_draft&&Object(A.a)(bn,{enable_restacking:!!Or("enable_restacking")},Jt,cn,!1);return Object(e.h)(R.a,{className:"post-ufi",alignItems:"center",borderTop:"detail-themed",borderBottom:"detail-themed",justifyContent:"space-between",gap:16,flex:"grow",paddingY:16},Object(e.h)(R.a,{gap:8},Object(e.h)(Vn,{post:Jt,pub:cn,user:bn,onChange:zn}),Object(e.h)(Gn,{pub:cn,post:Jt,onClick:Rn}),Object(e.h)(lt,{pub:cn,post:Jt,onChange:zn,style:"button"})),Object(e.h)(R.a,{gap:8},Object(e.h)(dr,{post:Jt,pub:cn,user:bn,style:"button",labelStyle:"cta"}),mr?Object(e.h)(ro,{style:"button",pub:cn,post:Jt,user:bn,showRestackModal:xn,canBeCrossPosted:Lt}):Object(e.h)(Rt,{post:Jt,pub:cn,user:bn,onChange:zn,showRestackModal:xn,canBeCrossPosted:Lt})))}function rn({isFooter:Jt,customization:{showShare:cn,showComments:bn,showReactions:zn,showListen:Rn,showSave:xn,showRestack:mr,showCommentRestack:Or}}){const Lt=Jt?"email-ufi-2-bottom":"email-ufi-2-top",qt=!Jt&&(mr||Rn||xn),wn=Jt;return!Jt&&!cn&&!bn&&!zn&&!Rn&&!xn&&mr?Object(e.h)(D.e,{className:"email-ufi-2-empty",width:"100%"},Object(e.h)("tr",{height:1},Object(e.h)("td",{height:1,style:{fontSize:0,lineHeight:0}},"\xA0"))):Object(e.h)(D.e,{className:Lt,width:"100%"},mr&&Jt&&Object(e.h)(e.Fragment,null,Object(e.h)(_n,null),Object(e.h)("tr",null,Object(e.h)("td",null,Object(e.h)(D.e,{width:"100%",className:"email-ufi-2-row"},Object(e.h)("tr",null,Object(e.h)("td",{width:"95%"},cn&&Object(e.h)(D.b,{tableClassName:"email-button-outline-wrapper-full-width",aClassName:"email-button-outline full-width",href:y.Substitutions.SHARE_URL},Object(e.h)(Ce.default,Tt({},Yn)),Object(e.h)("span",{className:"email-button-text"},"Share")))),Object(e.h)(_n,null))))),Object(e.h)(_n,null),Object(e.h)("tr",null,Object(e.h)("td",null,Object(e.h)(D.e,{width:"100%"},Object(e.h)("tr",null,Object(e.h)("td",null,Object(e.h)(D.c,{gap:8,style:qt?void 0:{margin:"0 auto"}},zn?wn?Object(e.h)(D.b,{aClassName:"email-button-outline",href:y.Substitutions.REACTION_URL},Object(e.h)(X.default,Tt({},Yn)),Object(e.h)("span",{className:"email-button-text"},"Like")):Object(e.h)(cr,{href:y.Substitutions.REACTION_URL},Object(e.h)(X.default,Tt({},Yn))):null,bn?wn?Object(e.h)(D.b,{aClassName:"email-button-outline",href:`${y.Substitutions.HALF_MAGIC_COMMENTS_URL}&utm_source=substack&utm_medium=email`},Object(e.h)(be.default,Tt({},Yn)),Object(e.h)("span",{className:"email-button-text"},"Comment")):Object(e.h)(cr,{href:`${y.Substitutions.HALF_MAGIC_COMMENTS_URL}&utm_source=substack&utm_medium=email`},Object(e.h)(be.default,Tt({},Yn))):null,Or&&(wn?Object(e.h)(D.b,{aClassName:"email-button-outline",href:`${y.Substitutions.RESTACK_COMMENT_URL}&utm_source=substack&utm_medium=email`},Object(e.h)(Le.default,Tt({},Yn)),Object(e.h)("span",{className:"email-button-text"},"Restack")):Object(e.h)(cr,{href:`${y.Substitutions.RESTACK_COMMENT_URL}&utm_source=substack&utm_medium=email`},Object(e.h)(Le.default,Tt({},Yn)))))),Object(e.h)("td",{align:"right"},Object(e.h)(D.c,{gap:8},cn&&!Jt&&Object(e.h)(D.b,{aClassName:"email-button-outline",href:y.Substitutions.SHARE_URL},Object(e.h)("div",{className:"email-button-spacer"}),Object(e.h)("span",{className:"email-button-text"},"Share")))))))),Object(e.h)(_n,null))}function _n(){const Jt=16;return Object(e.h)("tr",{height:Jt},Object(e.h)("td",{height:Jt,style:{fontSize:0,lineHeight:0}},"\xA0"))}const Yn={className:"icon",height:18,strokeWidth:1,isStatic:!0,stroke:"#808080",fill:"none"};function cr({size:Jt=38,href:cn,children:bn}){return Object(e.h)(D.e,{width:Jt},Object(e.h)("tr",null,Object(e.h)("td",{align:"center"},Object(e.h)("a",{className:"email-icon-button",href:cn,style:{width:Jt}},bn))))}},function(k,n,t){"use strict";t.d(n,"a",function(){return y}),t.d(n,"b",function(){return b});var e=t(0),a=t(5),o=t.n(a),l=t(4),d=t(2),c=t(19),u=t(62),f={avatarContainer:"frontend-reader2-Avatar-module__avatarContainer--2b1A6",avatar:"frontend-reader2-Avatar-module__avatar--YS8AP",badge:"frontend-reader2-Avatar-module__badge--3NKU7"},m=Object.defineProperty,p=Object.defineProperties,g=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,i=(E,P,A)=>P in E?m(E,P,{enumerable:!0,configurable:!0,writable:!0,value:A}):E[P]=A,h=(E,P)=>{for(var A in P||(P={}))s.call(P,A)&&i(E,A,P[A]);if(O)for(var A of O(P))r.call(P,A)&&i(E,A,P[A]);return E},v=(E,P)=>p(E,g(P)),j=(E,P)=>{var A={};for(var _ in E)s.call(E,_)&&P.indexOf(_)<0&&(A[_]=E[_]);if(E!=null&&O)for(var _ of O(E))P.indexOf(_)<0&&r.call(E,_)&&(A[_]=E[_]);return A};function y({user:E,size:P,className:A,badge:_}){const M=Object(l.getUserPhotoUrl)(E);return M?Object(e.h)(d.c,{className:f.avatarContainer},Object(e.h)(c.a,{className:o()(f.avatar,A),src:M,size:P}),_&&Object(e.h)("div",{className:f.badge},_)):null}function b(E){var P=E,{pub:A}=P,_=j(P,["pub"]);return Object(e.h)(y,v(h({},_),{badge:A&&Object(e.h)(u.a,{pub:A,size:16})}))}},function(k,n,t){"use strict";t.r(n),t.d(n,"subscribers",function(){return s}),t.d(n,"getCurrentUrl",function(){return h}),t.d(n,"route",function(){return v}),t.d(n,"Router",function(){return F}),t.d(n,"Route",function(){return C}),t.d(n,"Link",function(){return H}),t.d(n,"exec",function(){return l});var e=t(0),a={};function o(T,S){for(var D in S)T[D]=S[D];return T}function l(T,S,D){var w=/(?:\?([^#]*))?(#.*)?$/,U=T.match(w),V={},K;if(U&&U[1])for(var Y=U[1].split("&"),W=0;W<Y.length;W++){var R=Y[W].split("=");V[decodeURIComponent(R[0])]=decodeURIComponent(R.slice(1).join("="))}T=u(T.replace(w,"")),S=u(S||"");for(var B=Math.max(T.length,S.length),x=0;x<B;x++)if(S[x]&&S[x].charAt(0)===":"){var G=S[x].replace(/(^:|[+*?]+$)/g,""),Q=(S[x].match(/[+*?]+$/)||a)[0]||"",he=~Q.indexOf("+"),Z=~Q.indexOf("*"),le=T[x]||"";if(!le&&!Z&&(Q.indexOf("?")<0||he)){K=!1;break}if(V[G]=decodeURIComponent(le),he||Z){V[G]=T.slice(x).map(decodeURIComponent).join("/");break}}else if(S[x]!==T[x]){K=!1;break}return D.default!==!0&&K===!1?!1:V}function d(T,S){return T.rank<S.rank?1:T.rank>S.rank?-1:T.index-S.index}function c(T,S){return T.index=S,T.rank=p(T),T.props}function u(T){return T.replace(/(^\/+|\/+$)/g,"").split("/")}function f(T){return T.charAt(0)==":"?1+"*+?".indexOf(T.charAt(T.length-1))||4:5}function m(T){return u(T).map(f).join("")}function p(T){return T.props.default?0:m(T.props.path)}var g=null,O=[],s=[],r={};function i(T,S){S===void 0&&(S="push"),g&&g[S]?g[S](T):typeof history!="undefined"&&history[S+"State"]&&history[S+"State"](null,null,T)}function h(){var T;return g&&g.location?T=g.location:g&&g.getCurrentLocation?T=g.getCurrentLocation():T=typeof location!="undefined"?location:r,""+(T.pathname||"")+(T.search||"")}function v(T,S){return S===void 0&&(S=!1),typeof T!="string"&&T.url&&(S=T.replace,T=T.url),j(T)&&i(T,S?"replace":"push"),y(T)}function j(T){for(var S=O.length;S--;)if(O[S].canRoute(T))return!0;return!1}function y(T){for(var S=!1,D=0;D<O.length;D++)O[D].routeTo(T)===!0&&(S=!0);for(var w=s.length;w--;)s[w](T);return S}function b(T){if(!(!T||!T.getAttribute)){var S=T.getAttribute("href"),D=T.getAttribute("target");if(!(!S||!S.match(/^\//g)||D&&!D.match(/^_?self$/i)))return v(S)}}function E(T){if(!(T.ctrlKey||T.metaKey||T.altKey||T.shiftKey||T.button!==0))return b(T.currentTarget||T.target||this),P(T)}function P(T){return T&&(T.stopImmediatePropagation&&T.stopImmediatePropagation(),T.stopPropagation&&T.stopPropagation(),T.preventDefault()),!1}function A(T){if(!(T.ctrlKey||T.metaKey||T.altKey||T.shiftKey||T.button!==0)){var S=T.target;do if(String(S.nodeName).toUpperCase()==="A"&&S.getAttribute("href")){if(S.hasAttribute("native"))return;if(b(S))return P(T)}while(S=S.parentNode)}}var _=!1;function M(){_||(typeof addEventListener=="function"&&(g||addEventListener("popstate",function(){y(h())}),addEventListener("click",A)),_=!0)}var F=function(T){function S(D){T.call(this,D),D.history&&(g=D.history),this.state={url:D.url||h()},M()}return T&&(S.__proto__=T),S.prototype=Object.create(T&&T.prototype),S.prototype.constructor=S,S.prototype.shouldComponentUpdate=function(w){return w.static!==!0?!0:w.url!==this.props.url||w.onChange!==this.props.onChange},S.prototype.canRoute=function(w){var U=Object(e.toChildArray)(this.props.children);return this.getMatchingChildren(U,w,!1).length>0},S.prototype.routeTo=function(w){this.setState({url:w});var U=this.canRoute(w);return this.updating||this.forceUpdate(),U},S.prototype.componentWillMount=function(){O.push(this),this.updating=!0},S.prototype.componentDidMount=function(){var w=this;g&&(this.unlisten=g.listen(function(U){w.routeTo(""+(U.pathname||"")+(U.search||""))})),this.updating=!1},S.prototype.componentWillUnmount=function(){typeof this.unlisten=="function"&&this.unlisten(),O.splice(O.indexOf(this),1)},S.prototype.componentWillUpdate=function(){this.updating=!0},S.prototype.componentDidUpdate=function(){this.updating=!1},S.prototype.getMatchingChildren=function(w,U,V){return w.filter(c).sort(d).map(function(K){var Y=l(U,K.props.path,K.props);if(Y){if(V!==!1){var W={url:U,matches:Y};return o(W,Y),delete W.ref,delete W.key,Object(e.cloneElement)(K,W)}return K}}).filter(Boolean)},S.prototype.render=function(w,U){var V=w.children,K=w.onChange,Y=U.url,W=this.getMatchingChildren(Object(e.toChildArray)(V),Y,!0),R=W[0]||null,B=this.previousUrl;return Y!==B&&(this.previousUrl=Y,typeof K=="function"&&K({router:this,url:Y,previous:B,active:W,current:R})),R},S}(e.Component),H=function(T){return Object(e.createElement)("a",o({onClick:E},T))},C=function(T){return Object(e.createElement)(T.component,T)};F.subscribers=s,F.getCurrentUrl=h,F.route=v,F.Router=F,F.Route=C,F.Link=H,F.exec=l,n.default=F},function(k,n,t){"use strict";t.d(n,"b",function(){return h}),t.d(n,"a",function(){return v});var e=t(0),a=t(5),o=t.n(a),l=t(193),d=t(9),c=t.n(d),u=t(14),f=Object.defineProperty,m=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,O=(j,y,b)=>y in j?f(j,y,{enumerable:!0,configurable:!0,writable:!0,value:b}):j[y]=b,s=(j,y)=>{for(var b in y||(y={}))p.call(y,b)&&O(j,b,y[b]);if(m)for(var b of m(y))g.call(y,b)&&O(j,b,y[b]);return j},r=(j,y,b)=>(O(j,typeof y!="symbol"?y+"":y,b),b),i=(j,y,b)=>new Promise((E,P)=>{var A=F=>{try{M(b.next(F))}catch(H){P(H)}},_=F=>{try{M(b.throw(F))}catch(H){P(H)}},M=F=>F.done?E(F.value):Promise.resolve(F.value).then(A,_);M((b=b.apply(j,y)).next())});class h extends e.Component{constructor(y,b){super(y,b);r(this,"onDocumentKeyDown",E=>{E.key==="Escape"&&!this.props.noExit&&!Object(d.isFocused)(this.base)&&this.close()}),this.open=this.open.bind(this),this.close=this.close.bind(this),this.popup=!1,this.state={open:!1,display:!1,callback:null}}componentDidMount(){document.addEventListener("keydown",this.onDocumentKeyDown),this.props.openByDefault&&this.openImmediately()}componentWillUnmount(){document.removeEventListener("keydown",this.onDocumentKeyDown),this._timeout&&clearTimeout(this._timeout)}openImmediately(y){y&&(this._callback=y);const b=document.getElementsByTagName("html")[0];Object(d.hasClass)(b,"modal-in")||Object(d.addClass)(b,"modal-in"),this.setState({display:!0,open:!0})}open(y){return i(this,null,function*(){y&&(this._callback=y);const b=document.getElementsByTagName("html")[0];Object(d.hasClass)(b,"modal-in")||Object(d.addClass)(b,"modal-in"),this.onBeforeOpen(),this.props.onBeforeOpen&&this.props.onBeforeOpen(),yield new Promise(E=>{this.setState({display:!0},()=>{this._timeout=setTimeout(()=>{this.setState({open:!0},()=>{this.onOpen(),this.props.onOpen&&this.props.onOpen(),E()})},50)})})})}close(y){return i(this,null,function*(){!this.isOpen()||this.onBeforeClose(y)!==!1&&(this.props.onBeforeClose&&this.props.onBeforeClose(y)===!1||(Object(d.removeClass)(document.getElementsByTagName("html")[0],"modal-in"),yield new Promise(b=>{this.setState({open:!1},()=>{this._timeout=setTimeout(()=>{this.setState({display:!1},()=>{this.onClose(y),this.props.onClose&&this.props.onClose(y),this._callback&&this._callback(y),b()})},750)})})))})}isOpen(){return this.state.open}onClickOuter(y){var b,E;y.stopPropagation(),(E=(b=this.props).onClick)==null||E.call(b,y),!this.props.noExit&&!this.props.noExitOnClick&&this.popup&&(this.noFullscreen||window.innerWidth>540)&&y.target&&this.container&&this.close()}onClickInner(y){var b,E;y.stopPropagation(),(E=(b=this.props).onClick)==null||E.call(b,y)}render(){const y=this.state.open?"in":"out",b=this.state.display===!1?"gone":"",E=this.props.variant==="structured";return Object(e.h)("div",{className:o()("modal typography",y,b,this.props.className,this.getClassName(),{"has-close-pill":this.props.closePill,"structured-modal":E,popup:this.popup}),onClick:P=>this.onClickOuter(P),"data-testid":this.props.testID,role:"dialog"},Object(e.h)("div",{className:"modal-table"},Object(e.h)("div",{className:"modal-row"},Object(e.h)("div",{ref:P=>this.content=P,className:o()("modal-cell modal-content",{"no-fullscreen":this.noFullscreen})},Object(e.h)("div",s({className:o()({container:!E}),ref:P=>this.container=P,onClick:P=>this.onClickInner(P)},this.props.trackInputsID&&{"data-track-inputs":this.props.trackInputsID}),!this.props.noExit&&(!this.props.noCloseButton||Object(d.isMobileBrowser)())&&(E?Object(e.h)("div",{className:"structured-modal__close-button"},Object(e.h)(u.c,{"data-testid":"close-modal",variant:"secondary",look:"circle",onClick:()=>this.close()},Object(e.h)(l.a,{size:20,color:"secondary"}))):Object(e.h)(u.c,{"data-testid":"close-modal",className:o()("modal-btn modal-exit-btn no-margin",{"button btn btn-secondary btn-pill icon-only":this.props.closePill}),onClick:()=>this.close()},Object(e.h)(l.a,{size:20,color:"secondary"}))),E?Object(e.h)("div",{className:"structured-modal__wrapper"},Object(e.h)("div",{className:"structured-modal__header"},this.props.modalTitle?Object(e.h)("h3",null,this.props.modalTitle):Object(e.h)("h3",null,"\xA0")),Object(e.h)("div",{className:"structured-modal__body"},Object(e.h)("div",{className:"container"},this.renderChildren(this.props,this.state))),this.props.modalFooter&&Object(e.h)("div",{className:"structured-modal__footer"},this.props.modalFooter)):this.renderChildren(this.props,this.state))))))}getClassName(){}onBeforeOpen(){}onOpen(){}onBeforeClose(){}onClose(){}renderChildren({children:y},b){return y}}class v extends h{constructor(y,b){super(y,b);this.popup=!0}}},function(k,n,t){"use strict";t.d(n,"a",function(){return v});var e=t(0),a=t(5),o=t.n(a),l=t(4),d=t(15),c={img:"frontend-components-responsive_img-module__img--1l4UG"},u=Object.defineProperty,f=Object.defineProperties,m=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,s=(j,y,b)=>y in j?u(j,y,{enumerable:!0,configurable:!0,writable:!0,value:b}):j[y]=b,r=(j,y)=>{for(var b in y||(y={}))g.call(y,b)&&s(j,b,y[b]);if(p)for(var b of p(y))O.call(y,b)&&s(j,b,y[b]);return j},i=(j,y)=>f(j,m(y)),h=(j,y)=>{var b={};for(var E in j)g.call(j,E)&&y.indexOf(E)<0&&(b[E]=j[E]);if(j!=null&&p)for(var E of p(j))y.indexOf(E)<0&&O.call(j,E)&&(b[E]=j[E]);return b};function v(j){var y=j,{src:b,maxWidth:E,imageProps:P={},alt:A="",className:_,imageRef:M}=y,F=h(y,["src","maxWidth","imageProps","alt","className","imageRef"]);const H=D=>{if(P==null?void 0:P.height){const w=E/P.height;return{height:Math.floor(D/w),aspect:null}}return{}},C=l.WEB_RESPONSIVE_IMAGE_WIDTHS.includes(E)?l.WEB_RESPONSIVE_IMAGE_WIDTHS:[...l.WEB_RESPONSIVE_IMAGE_WIDTHS,E];C.sort((D,w)=>D-w);const T=C.map(D=>({width:D,src:Object(d.cloudinary)(b,D,r(r({},P),H(D)))})).filter(D=>D.width<=E),S=C.map(D=>({width:D,src:Object(d.cloudinary)(b,D,i(r(r({},P),H(D)),{format:"webp"}))})).filter(D=>D.width<=E);return Object(e.h)("picture",null,S.length>1?Object(e.h)("source",{type:"image/webp",srcset:S.map(D=>`${D.src} ${D.width}w`).join(", "),sizes:"100vw"}):Object(e.h)("source",{type:"image/webp",srcset:Object(d.cloudinary)(b,E,i(r({},P),{format:"webp"}))}),Object(e.h)("img",i(r({className:o()(c.img,_),src:Object(d.cloudinary)(b,E,P),sizes:"100vw",alt:A,srcset:T.length>1?T.map(D=>`${D.src} ${D.width}w`).join(", "):void 0},F),{width:E,height:P==null?void 0:P.height,ref:M})))}},function(k,n,t){"use strict";var e=t(116);t.d(n,"a",function(){return e.a})},function(k,n,t){"use strict";t.d(n,"a",function(){return E}),t.d(n,"b",function(){return ce}),t.d(n,"c",function(){return y}),t.d(n,"d",function(){return H}),t.d(n,"e",function(){return h}),t.d(n,"f",function(){return _r}),t.d(n,"g",function(){return b}),t.d(n,"h",function(){return x}),t.d(n,"i",function(){return q}),t.d(n,"j",function(){return ge}),t.d(n,"k",function(){return De}),t.d(n,"l",function(){return Te}),t.d(n,"m",function(){return Nt}),t.d(n,"n",function(){return He}),t.d(n,"o",function(){return sn}),t.d(n,"p",function(){return At}),t.d(n,"q",function(){return ot}),t.d(n,"r",function(){return de}),t.d(n,"s",function(){return Q}),t.d(n,"t",function(){return se}),t.d(n,"u",function(){return R}),t.d(n,"v",function(){return ie}),t.d(n,"w",function(){return Ft}),t.d(n,"x",function(){return lt}),t.d(n,"y",function(){return Rt}),t.d(n,"z",function(){return le}),t.d(n,"A",function(){return Kt}),t.d(n,"B",function(){return Qn}),t.d(n,"C",function(){return Mr}),t.d(n,"D",function(){return ue}),t.d(n,"E",function(){return T}),t.d(n,"F",function(){return S}),t.d(n,"G",function(){return ro}),t.d(n,"H",function(){return j});var e=t(179),a=t(43),o=t(101),l=t(133),d=t(134),c=t(135),u=t(144),f=t(93),m=t(3),p=t(39),g=t(162),O=t(196);function s(Dn,ut){return ut||(ut=Dn.slice(0)),Object.freeze(Object.defineProperties(Dn,{raw:{value:Object.freeze(ut)}}))}var r=t(464),i=t.n(r),h=function(){};function v(Dn,ut){return ut?ut[0]==="-"?Dn+ut:Dn+"__"+ut:Dn}function j(Dn,ut,fn){var On=[fn];if(ut&&Dn)for(var Ot in ut)ut.hasOwnProperty(Ot)&&ut[Ot]&&On.push("".concat(v(Dn,Ot)));return On.filter(function(kt){return kt}).map(function(kt){return String(kt).trim()}).join(" ")}var y=function(ut){return Array.isArray(ut)?ut.filter(Boolean):Object(g.a)(ut)==="object"&&ut!==null?[ut]:[]};function b(Dn,ut,fn){if(fn){var On=fn(Dn,ut);if(typeof On=="string")return On}return Dn}function E(Dn){return[document.documentElement,document.body,window].indexOf(Dn)>-1}function P(Dn){return E(Dn)?window.pageYOffset:Dn.scrollTop}function A(Dn,ut){if(E(Dn)){window.scrollTo(0,ut);return}Dn.scrollTop=ut}function _(Dn){var ut=getComputedStyle(Dn),fn=ut.position==="absolute",On=/(auto|scroll)/,Ot=document.documentElement;if(ut.position==="fixed")return Ot;for(var kt=Dn;kt=kt.parentElement;)if(ut=getComputedStyle(kt),!(fn&&ut.position==="static")&&On.test(ut.overflow+ut.overflowY+ut.overflowX))return kt;return Ot}function M(Dn,ut,fn,On){return fn*((Dn=Dn/On-1)*Dn*Dn+1)+ut}function F(Dn,ut){var fn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,On=arguments.length>3&&arguments[3]!==void 0?arguments[3]:h,Ot=P(Dn),kt=ut-Ot,Zt=10,Vn=0;function Gn(){Vn+=Zt;var tr=M(Vn,Ot,kt,fn);A(Dn,tr),Vn<fn?window.requestAnimationFrame(Gn):On(Dn)}Gn()}function H(Dn,ut){var fn=Dn.getBoundingClientRect(),On=ut.getBoundingClientRect(),Ot=ut.offsetHeight/3;On.bottom+Ot>fn.bottom?A(Dn,Math.min(ut.offsetTop+ut.clientHeight-Dn.offsetHeight+Ot,Dn.scrollHeight)):On.top-Ot<fn.top&&A(Dn,Math.max(ut.offsetTop-Ot,0))}function C(Dn){var ut=Dn.getBoundingClientRect();return{bottom:ut.bottom,height:ut.height,left:ut.left,right:ut.right,top:ut.top,width:ut.width}}function T(){try{return document.createEvent("TouchEvent"),!0}catch(Dn){return!1}}function S(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(Dn){return!1}}function D(Dn,ut){var fn=Object.keys(Dn);if(Object.getOwnPropertySymbols){var On=Object.getOwnPropertySymbols(Dn);ut&&(On=On.filter(function(Ot){return Object.getOwnPropertyDescriptor(Dn,Ot).enumerable})),fn.push.apply(fn,On)}return fn}function w(Dn){for(var ut=1;ut<arguments.length;ut++){var fn=arguments[ut]!=null?arguments[ut]:{};ut%2?D(Object(fn),!0).forEach(function(On){Object(o.a)(Dn,On,fn[On])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Dn,Object.getOwnPropertyDescriptors(fn)):D(Object(fn)).forEach(function(On){Object.defineProperty(Dn,On,Object.getOwnPropertyDescriptor(fn,On))})}return Dn}function U(Dn){var ut=V();return function(){var On=Object(f.a)(Dn),Ot;if(ut){var kt=Object(f.a)(this).constructor;Ot=Reflect.construct(On,arguments,kt)}else Ot=On.apply(this,arguments);return Object(u.a)(this,Ot)}}function V(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(Dn){return!1}}function K(Dn){var ut=Dn.maxHeight,fn=Dn.menuEl,On=Dn.minHeight,Ot=Dn.placement,kt=Dn.shouldScroll,Zt=Dn.isFixedPosition,Vn=Dn.theme,Gn=Vn.spacing,tr=_(fn),rn={placement:"bottom",maxHeight:ut};if(!fn||!fn.offsetParent)return rn;var _n=tr.getBoundingClientRect(),Yn=_n.height,cr=fn.getBoundingClientRect(),Jt=cr.bottom,cn=cr.height,bn=cr.top,zn=fn.offsetParent.getBoundingClientRect(),Rn=zn.top,xn=window.innerHeight,mr=P(tr),Or=parseInt(getComputedStyle(fn).marginBottom,10),Lt=parseInt(getComputedStyle(fn).marginTop,10),qt=Rn-Lt,wn=xn-bn,$n=qt+mr,Wn=Yn-mr-bn,Jn=Jt-xn+mr+Or,Tr=mr+bn-Lt,Qr=160;switch(Ot){case"auto":case"bottom":if(wn>=cn)return{placement:"bottom",maxHeight:ut};if(Wn>=cn&&!Zt)return kt&&F(tr,Jn,Qr),{placement:"bottom",maxHeight:ut};if(!Zt&&Wn>=On||Zt&&wn>=On){kt&&F(tr,Jn,Qr);var ao=Zt?wn-Or:Wn-Or;return{placement:"bottom",maxHeight:ao}}if(Ot==="auto"||Zt){var oo=ut,eo=Zt?qt:$n;return eo>=On&&(oo=Math.min(eo-Or-Gn.controlHeight,ut)),{placement:"top",maxHeight:oo}}if(Ot==="bottom")return A(tr,Jn),{placement:"bottom",maxHeight:ut};break;case"top":if(qt>=cn)return{placement:"top",maxHeight:ut};if($n>=cn&&!Zt)return kt&&F(tr,Tr,Qr),{placement:"top",maxHeight:ut};if(!Zt&&$n>=On||Zt&&qt>=On){var bo=ut;return(!Zt&&$n>=On||Zt&&qt>=On)&&(bo=Zt?qt-Lt:$n-Lt),kt&&F(tr,Tr,Qr),{placement:"top",maxHeight:bo}}return{placement:"bottom",maxHeight:ut};default:throw new Error('Invalid placement provided "'.concat(Ot,'".'))}return rn}function Y(Dn){var ut={bottom:"top",top:"bottom"};return Dn?ut[Dn]:"bottom"}var W=function(ut){return ut==="auto"?"bottom":ut},R=function(ut){var fn,On=ut.placement,Ot=ut.theme,kt=Ot.borderRadius,Zt=Ot.spacing,Vn=Ot.colors;return fn={label:"menu"},Object(o.a)(fn,Y(On),"100%"),Object(o.a)(fn,"backgroundColor",Vn.neutral0),Object(o.a)(fn,"borderRadius",kt),Object(o.a)(fn,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),Object(o.a)(fn,"marginBottom",Zt.menuGutter),Object(o.a)(fn,"marginTop",Zt.menuGutter),Object(o.a)(fn,"position","absolute"),Object(o.a)(fn,"width","100%"),Object(o.a)(fn,"zIndex",1),fn},B=Object(m.createContext)({getPortalPlacement:null}),x=function(Dn){Object(c.a)(fn,Dn);var ut=U(fn);function fn(){var On;Object(l.a)(this,fn);for(var Ot=arguments.length,kt=new Array(Ot),Zt=0;Zt<Ot;Zt++)kt[Zt]=arguments[Zt];return On=ut.call.apply(ut,[this].concat(kt)),On.state={maxHeight:On.props.maxMenuHeight,placement:null},On.getPlacement=function(Vn){var Gn=On.props,tr=Gn.minMenuHeight,rn=Gn.maxMenuHeight,_n=Gn.menuPlacement,Yn=Gn.menuPosition,cr=Gn.menuShouldScrollIntoView,Jt=Gn.theme;if(!!Vn){var cn=Yn==="fixed",bn=cr&&!cn,zn=K({maxHeight:rn,menuEl:Vn,minHeight:tr,placement:_n,shouldScroll:bn,isFixedPosition:cn,theme:Jt}),Rn=On.context.getPortalPlacement;Rn&&Rn(zn),On.setState(zn)}},On.getUpdatedProps=function(){var Vn=On.props.menuPlacement,Gn=On.state.placement||W(Vn);return w(w({},On.props),{},{placement:Gn,maxHeight:On.state.maxHeight})},On}return Object(d.a)(fn,[{key:"render",value:function(){var Ot=this.props.children;return Ot({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),fn}(m.Component);x.contextType=B;var G=function(ut){var fn=ut.children,On=ut.className,Ot=ut.cx,kt=ut.getStyles,Zt=ut.innerRef,Vn=ut.innerProps;return Object(p.c)("div",Object(a.a)({css:kt("menu",ut),className:Ot({menu:!0},On)},Vn,{ref:Zt}),fn)},Q=function(ut){var fn=ut.maxHeight,On=ut.theme.spacing.baseUnit;return{maxHeight:fn,overflowY:"auto",paddingBottom:On,paddingTop:On,position:"relative",WebkitOverflowScrolling:"touch"}},he=function(ut){var fn=ut.children,On=ut.className,Ot=ut.cx,kt=ut.getStyles,Zt=ut.isMulti,Vn=ut.innerRef,Gn=ut.innerProps;return Object(p.c)("div",Object(a.a)({css:kt("menuList",ut),className:Ot({"menu-list":!0,"menu-list--is-multi":Zt},On),ref:Vn},Gn),fn)},Z=function(ut){var fn=ut.theme,On=fn.spacing.baseUnit,Ot=fn.colors;return{color:Ot.neutral40,padding:"".concat(On*2,"px ").concat(On*3,"px"),textAlign:"center"}},le=Z,de=Z,be=function(ut){var fn=ut.children,On=ut.className,Ot=ut.cx,kt=ut.getStyles,Zt=ut.innerProps;return Object(p.c)("div",Object(a.a)({css:kt("noOptionsMessage",ut),className:Ot({"menu-notice":!0,"menu-notice--no-options":!0},On)},Zt),fn)};be.defaultProps={children:"No options"};var X=function(ut){var fn=ut.children,On=ut.className,Ot=ut.cx,kt=ut.getStyles,Zt=ut.innerProps;return Object(p.c)("div",Object(a.a)({css:kt("loadingMessage",ut),className:Ot({"menu-notice":!0,"menu-notice--loading":!0},On)},Zt),fn)};X.defaultProps={children:"Loading..."};var ie=function(ut){var fn=ut.rect,On=ut.offset,Ot=ut.position;return{left:fn.left,position:Ot,top:On,width:fn.width,zIndex:1}},Ce=function(Dn){Object(c.a)(fn,Dn);var ut=U(fn);function fn(){var On;Object(l.a)(this,fn);for(var Ot=arguments.length,kt=new Array(Ot),Zt=0;Zt<Ot;Zt++)kt[Zt]=arguments[Zt];return On=ut.call.apply(ut,[this].concat(kt)),On.state={placement:null},On.getPortalPlacement=function(Vn){var Gn=Vn.placement,tr=W(On.props.menuPlacement);Gn!==tr&&On.setState({placement:Gn})},On}return Object(d.a)(fn,[{key:"render",value:function(){var Ot=this.props,kt=Ot.appendTo,Zt=Ot.children,Vn=Ot.controlElement,Gn=Ot.menuPlacement,tr=Ot.menuPosition,rn=Ot.getStyles,_n=tr==="fixed";if(!kt&&!_n||!Vn)return null;var Yn=this.state.placement||W(Gn),cr=C(Vn),Jt=_n?0:window.pageYOffset,cn=cr[Yn]+Jt,bn={offset:cn,position:tr,rect:cr},zn=Object(p.c)("div",{css:rn("menuPortal",bn)},Zt);return Object(p.c)(B.Provider,{value:{getPortalPlacement:this.getPortalPlacement}},kt?Object(m.createPortal)(zn,kt):zn)}}]),fn}(m.Component),Le=Array.isArray,Ae=Object.keys,Pe=Object.prototype.hasOwnProperty;function Ne(Dn,ut){if(Dn===ut)return!0;if(Dn&&ut&&Object(g.a)(Dn)=="object"&&Object(g.a)(ut)=="object"){var fn=Le(Dn),On=Le(ut),Ot,kt,Zt;if(fn&&On){if(kt=Dn.length,kt!=ut.length)return!1;for(Ot=kt;Ot--!=0;)if(!Ne(Dn[Ot],ut[Ot]))return!1;return!0}if(fn!=On)return!1;var Vn=Dn instanceof Date,Gn=ut instanceof Date;if(Vn!=Gn)return!1;if(Vn&&Gn)return Dn.getTime()==ut.getTime();var tr=Dn instanceof RegExp,rn=ut instanceof RegExp;if(tr!=rn)return!1;if(tr&&rn)return Dn.toString()==ut.toString();var _n=Ae(Dn);if(kt=_n.length,kt!==Ae(ut).length)return!1;for(Ot=kt;Ot--!=0;)if(!Pe.call(ut,_n[Ot]))return!1;for(Ot=kt;Ot--!=0;)if(Zt=_n[Ot],!(Zt==="_owner"&&Dn.$$typeof)&&!Ne(Dn[Zt],ut[Zt]))return!1;return!0}return Dn!==Dn&&ut!==ut}function ce(Dn,ut){try{return Ne(Dn,ut)}catch(fn){if(fn.message&&fn.message.match(/stack|recursion/i))return console.warn("Warning: react-fast-compare does not handle circular references.",fn.name,fn.message),!1;throw fn}}var q=function(ut){var fn=ut.isDisabled,On=ut.isRtl;return{label:"container",direction:On?"rtl":null,pointerEvents:fn?"none":null,position:"relative"}},te=function(ut){var fn=ut.children,On=ut.className,Ot=ut.cx,kt=ut.getStyles,Zt=ut.innerProps,Vn=ut.isDisabled,Gn=ut.isRtl;return Object(p.c)("div",Object(a.a)({css:kt("container",ut),className:Ot({"--is-disabled":Vn,"--is-rtl":Gn},On)},Zt),fn)},ue=function(ut){var fn=ut.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:"".concat(fn.baseUnit/2,"px ").concat(fn.baseUnit*2,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}},We=function(ut){var fn=ut.children,On=ut.className,Ot=ut.cx,kt=ut.isMulti,Zt=ut.getStyles,Vn=ut.hasValue;return Object(p.c)("div",{css:Zt("valueContainer",ut),className:Ot({"value-container":!0,"value-container--is-multi":kt,"value-container--has-value":Vn},On)},fn)},ot=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},ze=function(ut){var fn=ut.children,On=ut.className,Ot=ut.cx,kt=ut.getStyles;return Object(p.c)("div",{css:kt("indicatorsContainer",ut),className:Ot({indicators:!0},On)},fn)};function vt(){var Dn=s([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]);return vt=function(){return Dn},Dn}function Wt(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}var zt={name:"19bqh2r",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0;"},at=function(ut){var fn=ut.size,On=Object(e.a)(ut,["size"]);return Object(p.c)("svg",Object(a.a)({height:fn,width:fn,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:zt},On))},Me=function(ut){return Object(p.c)(at,Object(a.a)({size:20},ut),Object(p.c)("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Be=function(ut){return Object(p.c)(at,Object(a.a)({size:20},ut),Object(p.c)("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Xe=function(ut){var fn=ut.isFocused,On=ut.theme,Ot=On.spacing.baseUnit,kt=On.colors;return{label:"indicatorContainer",color:fn?kt.neutral60:kt.neutral20,display:"flex",padding:Ot*2,transition:"color 150ms",":hover":{color:fn?kt.neutral80:kt.neutral40}}},Te=Xe,we=function(ut){var fn=ut.children,On=ut.className,Ot=ut.cx,kt=ut.getStyles,Zt=ut.innerProps;return Object(p.c)("div",Object(a.a)({},Zt,{css:kt("dropdownIndicator",ut),className:Ot({indicator:!0,"dropdown-indicator":!0},On)}),fn||Object(p.c)(Be,null))},De=Xe,Ie=function(ut){var fn=ut.children,On=ut.className,Ot=ut.cx,kt=ut.getStyles,Zt=ut.innerProps;return Object(p.c)("div",Object(a.a)({},Zt,{css:kt("clearIndicator",ut),className:Ot({indicator:!0,"clear-indicator":!0},On)}),fn||Object(p.c)(Me,null))},He=function(ut){var fn=ut.isDisabled,On=ut.theme,Ot=On.spacing.baseUnit,kt=On.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:fn?kt.neutral10:kt.neutral20,marginBottom:Ot*2,marginTop:Ot*2,width:1}},Ve=function(ut){var fn=ut.className,On=ut.cx,Ot=ut.getStyles,kt=ut.innerProps;return Object(p.c)("span",Object(a.a)({},kt,{css:Ot("indicatorSeparator",ut),className:On({"indicator-separator":!0},fn)}))},z=Object(p.d)(vt()),se=function(ut){var fn=ut.isFocused,On=ut.size,Ot=ut.theme,kt=Ot.colors,Zt=Ot.spacing.baseUnit;return{label:"loadingIndicator",color:fn?kt.neutral60:kt.neutral20,display:"flex",padding:Zt*2,transition:"color 150ms",alignSelf:"center",fontSize:On,lineHeight:1,marginRight:On,textAlign:"center",verticalAlign:"middle"}},Se=function(ut){var fn=ut.delay,On=ut.offset;return Object(p.c)("span",{css:Object(O.a)({animation:"".concat(z," 1s ease-in-out ").concat(fn,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:On?"1em":null,height:"1em",verticalAlign:"top",width:"1em"},"")})},Oe=function(ut){var fn=ut.className,On=ut.cx,Ot=ut.getStyles,kt=ut.innerProps,Zt=ut.isRtl;return Object(p.c)("div",Object(a.a)({},kt,{css:Ot("loadingIndicator",ut),className:On({indicator:!0,"loading-indicator":!0},fn)}),Object(p.c)(Se,{delay:0,offset:Zt}),Object(p.c)(Se,{delay:160,offset:!0}),Object(p.c)(Se,{delay:320,offset:!Zt}))};Oe.defaultProps={size:4};var ge=function(ut){var fn=ut.isDisabled,On=ut.isFocused,Ot=ut.theme,kt=Ot.colors,Zt=Ot.borderRadius,Vn=Ot.spacing;return{label:"control",alignItems:"center",backgroundColor:fn?kt.neutral5:kt.neutral0,borderColor:fn?kt.neutral10:On?kt.primary:kt.neutral20,borderRadius:Zt,borderStyle:"solid",borderWidth:1,boxShadow:On?"0 0 0 1px ".concat(kt.primary):null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:Vn.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:On?kt.primary:kt.neutral30}}},je=function(ut){var fn=ut.children,On=ut.cx,Ot=ut.getStyles,kt=ut.className,Zt=ut.isDisabled,Vn=ut.isFocused,Gn=ut.innerRef,tr=ut.innerProps,rn=ut.menuIsOpen;return Object(p.c)("div",Object(a.a)({ref:Gn,css:Ot("control",ut),className:On({control:!0,"control--is-disabled":Zt,"control--is-focused":Vn,"control--menu-is-open":rn},kt)},tr),fn)};function it(Dn,ut){var fn=Object.keys(Dn);if(Object.getOwnPropertySymbols){var On=Object.getOwnPropertySymbols(Dn);ut&&(On=On.filter(function(Ot){return Object.getOwnPropertyDescriptor(Dn,Ot).enumerable})),fn.push.apply(fn,On)}return fn}function Tt(Dn){for(var ut=1;ut<arguments.length;ut++){var fn=arguments[ut]!=null?arguments[ut]:{};ut%2?it(Object(fn),!0).forEach(function(On){Object(o.a)(Dn,On,fn[On])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Dn,Object.getOwnPropertyDescriptors(fn)):it(Object(fn)).forEach(function(On){Object.defineProperty(Dn,On,Object.getOwnPropertyDescriptor(fn,On))})}return Dn}var sn=function(ut){var fn=ut.theme.spacing;return{paddingBottom:fn.baseUnit*2,paddingTop:fn.baseUnit*2}},ht=function(ut){var fn=ut.children,On=ut.className,Ot=ut.cx,kt=ut.getStyles,Zt=ut.Heading,Vn=ut.headingProps,Gn=ut.label,tr=ut.theme,rn=ut.selectProps;return Object(p.c)("div",{css:kt("group",ut),className:Ot({group:!0},On)},Object(p.c)(Zt,Object(a.a)({},Vn,{selectProps:rn,theme:tr,getStyles:kt,cx:Ot}),Gn),Object(p.c)("div",null,fn))},Nt=function(ut){var fn=ut.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:fn.baseUnit*3,paddingRight:fn.baseUnit*3,textTransform:"uppercase"}},wt=function(ut){var fn=ut.className,On=ut.cx,Ot=ut.getStyles,kt=ut.theme,Zt=ut.selectProps,Vn=Object(e.a)(ut,["className","cx","getStyles","theme","selectProps"]);return Object(p.c)("div",Object(a.a)({css:Ot("groupHeading",Tt({theme:kt},Vn)),className:On({"group-heading":!0},fn)},Vn))};function yt(Dn,ut){var fn=Object.keys(Dn);if(Object.getOwnPropertySymbols){var On=Object.getOwnPropertySymbols(Dn);ut&&(On=On.filter(function(Ot){return Object.getOwnPropertyDescriptor(Dn,Ot).enumerable})),fn.push.apply(fn,On)}return fn}function Qe(Dn){for(var ut=1;ut<arguments.length;ut++){var fn=arguments[ut]!=null?arguments[ut]:{};ut%2?yt(Object(fn),!0).forEach(function(On){Object(o.a)(Dn,On,fn[On])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Dn,Object.getOwnPropertyDescriptors(fn)):yt(Object(fn)).forEach(function(On){Object.defineProperty(Dn,On,Object.getOwnPropertyDescriptor(fn,On))})}return Dn}var At=function(ut){var fn=ut.isDisabled,On=ut.theme,Ot=On.spacing,kt=On.colors;return{margin:Ot.baseUnit/2,paddingBottom:Ot.baseUnit/2,paddingTop:Ot.baseUnit/2,visibility:fn?"hidden":"visible",color:kt.neutral80}},jt=function(ut){return{label:"input",background:0,border:0,fontSize:"inherit",opacity:ut?0:1,outline:0,padding:0,color:"inherit"}},ke=function(ut){var fn=ut.className,On=ut.cx,Ot=ut.getStyles,kt=ut.innerRef,Zt=ut.isHidden,Vn=ut.isDisabled,Gn=ut.theme,tr=ut.selectProps,rn=Object(e.a)(ut,["className","cx","getStyles","innerRef","isHidden","isDisabled","theme","selectProps"]);return Object(p.c)("div",{css:Ot("input",Qe({theme:Gn},rn))},Object(p.c)(i.a,Object(a.a)({className:On({input:!0},fn),inputRef:kt,inputStyle:jt(Zt),disabled:Vn},rn)))};function tn(Dn,ut){var fn=Object.keys(Dn);if(Object.getOwnPropertySymbols){var On=Object.getOwnPropertySymbols(Dn);ut&&(On=On.filter(function(Ot){return Object.getOwnPropertyDescriptor(Dn,Ot).enumerable})),fn.push.apply(fn,On)}return fn}function Pn(Dn){for(var ut=1;ut<arguments.length;ut++){var fn=arguments[ut]!=null?arguments[ut]:{};ut%2?tn(Object(fn),!0).forEach(function(On){Object(o.a)(Dn,On,fn[On])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Dn,Object.getOwnPropertyDescriptors(fn)):tn(Object(fn)).forEach(function(On){Object.defineProperty(Dn,On,Object.getOwnPropertyDescriptor(fn,On))})}return Dn}var Ft=function(ut){var fn=ut.theme,On=fn.spacing,Ot=fn.borderRadius,kt=fn.colors;return{label:"multiValue",backgroundColor:kt.neutral10,borderRadius:Ot/2,display:"flex",margin:On.baseUnit/2,minWidth:0}},lt=function(ut){var fn=ut.theme,On=fn.borderRadius,Ot=fn.colors,kt=ut.cropWithEllipsis;return{borderRadius:On/2,color:Ot.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:kt?"ellipsis":null,whiteSpace:"nowrap"}},Rt=function(ut){var fn=ut.theme,On=fn.spacing,Ot=fn.borderRadius,kt=fn.colors,Zt=ut.isFocused;return{alignItems:"center",borderRadius:Ot/2,backgroundColor:Zt&&kt.dangerLight,display:"flex",paddingLeft:On.baseUnit,paddingRight:On.baseUnit,":hover":{backgroundColor:kt.dangerLight,color:kt.danger}}},ln=function(ut){var fn=ut.children,On=ut.innerProps;return Object(p.c)("div",On,fn)},Mt=ln,$t=ln;function nn(Dn){var ut=Dn.children,fn=Dn.innerProps;return Object(p.c)("div",fn,ut||Object(p.c)(Me,{size:14}))}var Bt=function(ut){var fn=ut.children,On=ut.className,Ot=ut.components,kt=ut.cx,Zt=ut.data,Vn=ut.getStyles,Gn=ut.innerProps,tr=ut.isDisabled,rn=ut.removeProps,_n=ut.selectProps,Yn=Ot.Container,cr=Ot.Label,Jt=Ot.Remove;return Object(p.c)(p.b,null,function(cn){var bn=cn.css,zn=cn.cx;return Object(p.c)(Yn,{data:Zt,innerProps:Pn(Pn({},Gn),{},{className:zn(bn(Vn("multiValue",ut)),kt({"multi-value":!0,"multi-value--is-disabled":tr},On))}),selectProps:_n},Object(p.c)(cr,{data:Zt,innerProps:{className:zn(bn(Vn("multiValueLabel",ut)),kt({"multi-value__label":!0},On))},selectProps:_n},fn),Object(p.c)(Jt,{data:Zt,innerProps:Pn({className:zn(bn(Vn("multiValueRemove",ut)),kt({"multi-value__remove":!0},On))},rn),selectProps:_n}))})};Bt.defaultProps={cropWithEllipsis:!0};var Kt=function(ut){var fn=ut.isDisabled,On=ut.isFocused,Ot=ut.isSelected,kt=ut.theme,Zt=kt.spacing,Vn=kt.colors;return{label:"option",backgroundColor:Ot?Vn.primary:On?Vn.primary25:"transparent",color:fn?Vn.neutral20:Ot?Vn.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(Zt.baseUnit*2,"px ").concat(Zt.baseUnit*3,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!fn&&(Ot?Vn.primary:Vn.primary50)}}},Sn=function(ut){var fn=ut.children,On=ut.className,Ot=ut.cx,kt=ut.getStyles,Zt=ut.isDisabled,Vn=ut.isFocused,Gn=ut.isSelected,tr=ut.innerRef,rn=ut.innerProps;return Object(p.c)("div",Object(a.a)({css:kt("option",ut),className:Ot({option:!0,"option--is-disabled":Zt,"option--is-focused":Vn,"option--is-selected":Gn},On),ref:tr},rn),fn)},Qn=function(ut){var fn=ut.theme,On=fn.spacing,Ot=fn.colors;return{label:"placeholder",color:Ot.neutral50,marginLeft:On.baseUnit/2,marginRight:On.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},rr=function(ut){var fn=ut.children,On=ut.className,Ot=ut.cx,kt=ut.getStyles,Zt=ut.innerProps;return Object(p.c)("div",Object(a.a)({css:kt("placeholder",ut),className:Ot({placeholder:!0},On)},Zt),fn)},Mr=function(ut){var fn=ut.isDisabled,On=ut.theme,Ot=On.spacing,kt=On.colors;return{label:"singleValue",color:fn?kt.neutral40:kt.neutral80,marginLeft:Ot.baseUnit/2,marginRight:Ot.baseUnit/2,maxWidth:"calc(100% - ".concat(Ot.baseUnit*2,"px)"),overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},zr=function(ut){var fn=ut.children,On=ut.className,Ot=ut.cx,kt=ut.getStyles,Zt=ut.isDisabled,Vn=ut.innerProps;return Object(p.c)("div",Object(a.a)({css:kt("singleValue",ut),className:Ot({"single-value":!0,"single-value--is-disabled":Zt},On)},Vn),fn)};function dr(Dn,ut){var fn=Object.keys(Dn);if(Object.getOwnPropertySymbols){var On=Object.getOwnPropertySymbols(Dn);ut&&(On=On.filter(function(Ot){return Object.getOwnPropertyDescriptor(Dn,Ot).enumerable})),fn.push.apply(fn,On)}return fn}function Rr(Dn){for(var ut=1;ut<arguments.length;ut++){var fn=arguments[ut]!=null?arguments[ut]:{};ut%2?dr(Object(fn),!0).forEach(function(On){Object(o.a)(Dn,On,fn[On])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Dn,Object.getOwnPropertyDescriptors(fn)):dr(Object(fn)).forEach(function(On){Object.defineProperty(Dn,On,Object.getOwnPropertyDescriptor(fn,On))})}return Dn}var _r={ClearIndicator:Ie,Control:je,DropdownIndicator:we,DownChevron:Be,CrossIcon:Me,Group:ht,GroupHeading:wt,IndicatorsContainer:ze,IndicatorSeparator:Ve,Input:ke,LoadingIndicator:Oe,Menu:G,MenuList:he,MenuPortal:Ce,LoadingMessage:X,NoOptionsMessage:be,MultiValue:Bt,MultiValueContainer:Mt,MultiValueLabel:$t,MultiValueRemove:nn,Option:Sn,Placeholder:rr,SelectContainer:te,SingleValue:zr,ValueContainer:We},ro=function(ut){return Rr(Rr({},_r),ut.components)}},function(k,n,t){"use strict";t.d(n,"a",function(){return o});var e=t(3),a=t(104);let o=function(l){let d=Object(a.a)(l);return e.default.useCallback((...c)=>d.current(...c),[d])}},function(k,n,t){"use strict";t.r(n),t.d(n,"getConfigFor",function(){return o}),t.d(n,"SiteConfigGate",function(){return l});var e=t(0),a=t(35);function o(d){var c;if(!d||typeof window=="undefined"||!((c=window._preloads)==null?void 0:c.siteConfigs))return null;const u=window._preloads.siteConfigs[d];return u===void 0?null:u}n.default=o;function l({configKey:d,children:c,value:u=!0}){return Object(a.c)().getConfigFor(d)==u?Object(e.h)(e.Fragment,null,c):null}},function(k,n,t){"use strict";t.d(n,"a",function(){return H}),t.d(n,"b",function(){return E}),t.d(n,"c",function(){return o}),t.d(n,"d",function(){return T}),t.d(n,"e",function(){return F}),t.d(n,"f",function(){return p}),t.d(n,"g",function(){return c}),t.d(n,"h",function(){return u}),t.d(n,"i",function(){return f}),t.d(n,"j",function(){return _}),t.d(n,"k",function(){return d}),t.d(n,"l",function(){return m}),t.d(n,"m",function(){return l}),t.d(n,"n",function(){return P}),t.d(n,"o",function(){return a}),t.d(n,"p",function(){return O}),t.d(n,"q",function(){return s}),t.d(n,"r",function(){return g}),t.d(n,"s",function(){return r}),t.d(n,"t",function(){return i}),t.d(n,"u",function(){return h}),t.d(n,"v",function(){return v}),t.d(n,"w",function(){return y});var e=t(3);function a(...S){return Object(e.useMemo)(()=>D=>{S.forEach(w=>w(D))},S)}const o=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";function l(S){const D=Object.prototype.toString.call(S);return D==="[object Window]"||D==="[object global]"}function d(S){return"nodeType"in S}function c(S){var D,w;return S?l(S)?S:d(S)&&(D=(w=S.ownerDocument)==null?void 0:w.defaultView)!=null?D:window:window}function u(S){const{Document:D}=c(S);return S instanceof D}function f(S){return l(S)?!1:S instanceof c(S).HTMLElement}function m(S){return S instanceof c(S).SVGElement}function p(S){return S?l(S)?S.document:d(S)?u(S)?S:f(S)?S.ownerDocument:document:document:document}const g=o?e.useLayoutEffect:e.useEffect;function O(S){const D=Object(e.useRef)(S);return g(()=>{D.current=S}),Object(e.useCallback)(function(...w){return D.current==null?void 0:D.current(...w)},[])}function s(){const S=Object(e.useRef)(null),D=Object(e.useCallback)((U,V)=>{S.current=setInterval(U,V)},[]),w=Object(e.useCallback)(()=>{S.current!==null&&(clearInterval(S.current),S.current=null)},[]);return[D,w]}function r(S,D=[S]){const w=Object(e.useRef)(S);return g(()=>{w.current!==S&&(w.current=S)},D),w}function i(S,D){const w=Object(e.useRef)();return Object(e.useMemo)(()=>{const U=S(w.current);return w.current=U,U},[...D])}function h(S){const D=O(S),w=Object(e.useRef)(null),U=Object(e.useCallback)(V=>{V!==w.current&&(D==null||D(V,w.current)),w.current=V},[]);return[w,U]}function v(S){const D=Object(e.useRef)();return Object(e.useEffect)(()=>{D.current=S},[S]),D.current}let j={};function y(S,D){return Object(e.useMemo)(()=>{if(D)return D;const w=j[S]==null?0:j[S]+1;return j[S]=w,`${S}-${w}`},[S,D])}function b(S){return(D,...w)=>w.reduce((U,V)=>{const K=Object.entries(V);for(const[Y,W]of K){const R=U[Y];R!=null&&(U[Y]=R+S*W)}return U},pr({},D))}const E=b(1),P=b(-1);function A(S){return"clientX"in S&&"clientY"in S}function _(S){if(!S)return!1;const{KeyboardEvent:D}=c(S.target);return D&&S instanceof D}function M(S){if(!S)return!1;const{TouchEvent:D}=c(S.target);return D&&S instanceof D}function F(S){if(M(S)){if(S.touches&&S.touches.length){const{clientX:D,clientY:w}=S.touches[0];return{x:D,y:w}}else if(S.changedTouches&&S.changedTouches.length){const{clientX:D,clientY:w}=S.changedTouches[0];return{x:D,y:w}}}return A(S)?{x:S.clientX,y:S.clientY}:null}const H=Object.freeze({Translate:{toString(S){if(!S)return;const{x:D,y:w}=S;return`translate3d(${D?Math.round(D):0}px, ${w?Math.round(w):0}px, 0)`}},Scale:{toString(S){if(!S)return;const{scaleX:D,scaleY:w}=S;return`scaleX(${D}) scaleY(${w})`}},Transform:{toString(S){if(!!S)return[H.Translate.toString(S),H.Scale.toString(S)].join(" ")}},Transition:{toString({property:S,duration:D,easing:w}){return`${S} ${D}ms ${w}`}}}),C="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function T(S){return S.matches(C)?S:S.querySelector(C)}},function(k,n,t){"use strict";t.d(n,"e",function(){return v}),t.d(n,"f",function(){return y}),t.d(n,"c",function(){return b}),t.d(n,"d",function(){return E}),t.d(n,"b",function(){return P}),t.d(n,"a",function(){return A}),t.d(n,"g",function(){return _});var e=t(0),a=t(5),o=t.n(a),l=t(12),d=t.n(l),c=t(10),u=t.n(c),f=t(7),m=Object.defineProperty,p=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,s=(M,F,H)=>F in M?m(M,F,{enumerable:!0,configurable:!0,writable:!0,value:H}):M[F]=H,r=(M,F)=>{for(var H in F||(F={}))g.call(F,H)&&s(M,H,F[H]);if(p)for(var H of p(F))O.call(F,H)&&s(M,H,F[H]);return M},i=(M,F)=>{var H={};for(var C in M)g.call(M,C)&&F.indexOf(C)<0&&(H[C]=M[C]);if(M!=null&&p)for(var C of p(M))F.indexOf(C)<0&&O.call(M,C)&&(H[C]=M[C]);return H},h=(M,F,H)=>new Promise((C,T)=>{var S=U=>{try{w(H.next(U))}catch(V){T(V)}},D=U=>{try{w(H.throw(U))}catch(V){T(V)}},w=U=>U.done?C(U.value):Promise.resolve(U.value).then(S,D);w((H=H.apply(M,F)).next())});function v(M,F){if(typeof window=="undefined"||typeof window.Stripe=="undefined")return null;const H={};return F&&F.stripe_user_id?c.NO_PLATFORM_CUSTOMER_CLONE_COUNTRIES.includes(F.stripe_country)&&(H.stripeAccount=F.stripe_user_id):console.warn("No publication passed for Stripe connection"),window.Stripe(M,H)}function j(M,F){if(typeof window=="undefined"||typeof window.Stripe=="undefined"||!(F==null?void 0:F.stripe_user_id))return null;const H={stripeAccount:F.stripe_user_id};return window.Stripe(M,H)}function y(M){return M.elements({locale:window._preloads&&window._preloads.language||"auto"}).create("card",{style:{base:{fontSize:"14px",lineHeight:"40px",fontFamily:'-apple-system, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"'}}})}class b extends e.Component{componentDidMount(){this.props.card&&this.props.card.mount(this.cardElement)}componentWillUnmount(){if(this.props.card)try{this.props.card.unmount(this.cardElement)}catch(F){}}render({className:F,card:H}){if(!!H)return Object(e.h)("div",{className:`fancy-stripe ${F||""}`},Object(e.h)("div",{ref:C=>this.cardElement=C}))}}class E extends e.Component{constructor(F,H){super(F,H);if(F.stripe&&F.pub.stripe_country){Object(f.i)(f.a.APPLE_PAY_SETUP_STARTED);try{const C=this.props.stripe.paymentRequest({country:this.props.pub.stripe_country,currency:this.props.plan.currency,total:this.getPaymentTotal(),requestPayerName:!0,requestPayerEmail:!0}),T=this.props.stripe.elements().create("paymentRequestButton",{paymentRequest:C});this.state={paymentRequest:C,stripeButton:T}}catch(C){console.error(C),Object(f.i)(f.a.APPLE_PAY_SETUP_FINISHED,{success:!1})}}}componentDidMount(){return h(this,null,function*(){let F=!1;if(this.state.paymentRequest){try{const H=yield this.state.paymentRequest.canMakePayment();H&&H.applePay&&(F=!0)}catch(H){console.error(H)}Object(f.i)(f.a.APPLE_PAY_SETUP_FINISHED,{success:F})}yield this.setState({canMount:F}),F?(this.button||(yield new Promise(H=>setTimeout(H,0))),this.state.stripeButton.mount(this.button),this.state.paymentRequest.on("token",H=>this.onTokenReceived(H)),this.state.paymentRequest.update({currency:this.props.plan.currency,total:this.getPaymentTotal()})):this.props.onVisibilityChanged&&this.props.onVisibilityChanged(!1)})}componentDidUpdate(F){let H=!1;for(const C of["pub","plan","quantity","coupon","notRecurring","variableAmount"])if(F[C]!==this.props[C]||C==="coupon"&&F[C]&&F[C].loading&&(!this.props[C]||!this.props[C].loading)){H=!0;break}!H||this.state.paymentRequest&&this.state.paymentRequest.update({currency:this.props.plan.currency,total:this.getPaymentTotal()})}componentWillUnmount(){if(this.state.paymentRequest&&this.state.paymentRequest.off("token"),this.state.stripeButton)try{this.state.stripeButton.unmount(this.button)}catch(F){}}onTokenReceived(F){return h(this,null,function*(){Object(f.i)(f.a.APPLE_PAY_ATTEMPED);try{yield this.props.onSuccess({email:F.payerEmail,name:F.payerName,stripe_token:F.token}),F.complete("success"),Object(f.i)(f.a.APPLE_PAY_SUCCEEDED)}catch(H){console.error("Apple Pay submission failed:",F,H),F.complete("fail"),Object(f.i)(f.a.APPLE_PAY_FAILED,{reason:H.message})}})}getPaymentTotal(){var F;const{pub:H,plan:C,quantity:T,coupon:S,notRecurring:D,variableAmount:w}=this.props;let U=0,V=Math.max(0,C.trial_period_days||0,S&&!S.error&&!S.loading&&S.trial_period_days||0,H.trial_end_override&&Math.ceil((H.trial_end_override-Date.now()/1e3)/60/60/24));D&&(V=0);const Y=(((F=C.metadata)==null?void 0:F.founding)&&w||C.amount)*(T||1);let W=Y;S&&!S.error&&!S.loading&&(S.percent_off?W=Math.round(W*(1-(S.percent_off_precise||S.percent_off)/100)):S.amount_off&&(W=Math.max(0,W-S.amount_off)),W<=0&&(W=Y,S.duration==="once"?C.interval==="year"?U+=12*C.interval_count:U+=C.interval_count:S.duration==="repeating"&&(U+=S.duration_in_months)));let R;return D?R="one-time":(R=`${this.props.plan.interval}ly`,this.props.quantity>1&&(R+=" per person"),U?(V>15&&(U+=parseInt(V/30)),R+=` with ${U}-month trial`):V&&(R+=` with ${V}-day trial`)),{label:R,amount:W}}render({children:F,className:H,error:C},{canMount:T}){if(!(typeof T!="undefined"&&!T&&typeof window!="undefined"))return Object(e.h)("div",{className:"apple-pay-parent-container"},T?Object(e.h)("div",{className:`apple-pay-element ${H||""}`,ref:S=>this.button=S}):Object(e.h)("p",{className:`apple-pay-loader ${H||""}`},"Loading\u2026"),C&&Object(e.h)("div",{className:"error"},C),F)}}class P extends e.Component{render(F,H){var C=F,{children:T,ref:S}=C,D=i(C,["children","ref"]);return Object(e.h)("div",{className:"fancy-input"},Object(e.h)("input",r({ref:w=>this._input=w},D)),T)}blur(){this._input&&this._input.blur()}}class A extends Error{constructor(F){super(F);this.response={body:{error:this.message}}}}class _ extends e.Component{constructor(F,H){super(F,H);this.state={_paramErrors:{},_otherErrors:[],_stripeError:null,loading:!1},this.props.stripe_publishable_key&&(this._stripe=v(this.props.stripe_publishable_key,this.props.pub),this._stripe&&(this._stripeCard=y(this._stripe),this._connectedStripe=j(this.props.stripe_publishable_key,this.props.pub)))}getInputs(){const F=[];if(this.base){const H=Array.from(this.base.getElementsByTagName("*"));for(const C of H)["INPUT","TEXTAREA","SELECT"].includes(C.nodeName)&&C.getAttribute("name")&&F.push(C)}return F}resetErrors(){this.setState({_paramErrors:{},_otherErrors:[]})}clear(){this.resetErrors();for(const F of this.getInputs())F.blur&&F.blur(),F.type==="checkbox"?F.checked=!1:F.type==="select"?F.selectedIndex=-1:F.type==="radio"?F.checked=!1:F.target?F.target.value="":F.value=""}handleStripeChange({error:F}){F?this.setState({_stripeError:F.message}):this.setState({_stripeError:null})}componentDidMount(){this._mountTime=new Date,this._stripeCard&&this._stripeCard.addEventListener("change",F=>this.handleStripeChange(F))}componentWillUnmount(){this._stripeCard&&this._stripeCard.destroy()}onInputBlur(F){!this.props.analyticsName||new Date().getTime()-this._mountTime>1e3&&F.target&&F.target.value&&!F.target._blurTracked&&(Object(f.i)(`${this.props.analyticsName} Input Filled`,{name:F.target.name}),F.target._blurTracked=!0)}onPaymentRequestAttempt(F){return h(this,null,function*(){const H=yield this.handleSubmitAsync(null,F);if(H)throw H})}handleSubmit(F){F&&F.preventDefault(),this.handleSubmitAsync(F).catch(H=>{console.error(H)})}handleSubmitAsync(F){return h(this,arguments,function*(H,C={}){var T,S;if(H&&H.preventDefault(),this.props.analyticsName&&Object(f.i)(`${this.props.analyticsName} Submit Pressed`),this.props.loading||this.state.loading||this.props.disableSubmit)return;this.resetErrors(),this.setState({loading:!0});const D=this.props.method?this.props.method:"post";let w=null;if(this.stripeElement&&!C.stripe_token){const{token:Y,error:W}=this._stripe?yield this._stripe.createToken(this._stripeCard):{error:{message:""}};if(Y)w=Y;else{this.setState({loading:!1,_stripeError:W&&W.message}),this.props.analyticsName&&(console.log("error",W),Object(f.i)(`${this.props.analyticsName} Missing Payment`,{type:W&&W.type,code:W&&W.code,decline_code:W&&W.decline_code,reason:W&&W.message}));return}}let U={};for(const Y of this.getInputs())Y.blur&&Y.blur(),Y.type=="checkbox"?U[Y.name]=!!Y.checked:Y.type=="radio"?Y.checked&&(U[Y.name]=Y.value):Y.type==="select"?U[Y.name]=Y.options[Y.selectedIndex].value:U[Y.name]=Y.value;if(Object.keys(C).forEach(Y=>{!U[Y]&&C[Y]&&(U[Y]=C[Y])}),w&&(U.stripe_token=w),this.props.prepareData)try{const Y=yield this.props.prepareData(U,H);Y&&(U=Y)}catch(Y){throw this.setState({loading:!1}),Y}this.props.onChangeLoadingState&&this.props.onChangeLoadingState(!0);let V,K;try{if(this.props.performSubmit)V=yield this.props.performSubmit(U);else if(this.props.action){const Y=d.a[D](this.props.action);this.props.method&&this.props.method==="get"?V=yield Y.query(U):V=yield Y.send(U)}else this.props.onSubmit&&this.props.onSubmit(U)}catch(Y){K=Y}if(((T=V==null?void 0:V.body)==null?void 0:T.confirmPaymentUrl)&&V.body.clientSecret&&this._connectedStripe){Object(f.i)(f.a.PAYMENT_CONFIRMATION_STARTED);const Y=yield this._connectedStripe.confirmCardPayment(V.body.clientSecret);if(Y.error){Object(f.i)(f.a.PAYMENT_CONFIRMATION_FAILED,{error:(S=Y.error)==null?void 0:S.message});const W={error:Y.error.message||"Failed to confirm payment"};K={response:{body:W,text:JSON.stringify(W)}}}else Object(f.i)(f.a.PAYMENT_CONFIRMATION_SUCCEEDED)}if(this.setState({loading:!1}),this.props.onChangeLoadingState&&this.props.onChangeLoadingState(!1),!K)this.props.onSuccess&&this.props.onSuccess(V,U);else if(this.processErrors(K.response),this.props.onError&&this.props.onError(K),!K.response)throw K;return K})}processErrors(F){const H={},C=[];if(F&&F.body&&F.body.errors){const T=this.getInputs();F.body.errors.forEach(S=>{this.props.noInlineErrors!==!0&&S.param&&T.filter(D=>D.getAttribute("name")===S.param).length>0?H[S.param]?(console.log("Discarding repeated error"),console.log(S)):H[S.param]=S:C.push(S)})}else F&&F.body&&typeof F.body.error=="string"?C.push({msg:F.body.error}):C.push({msg:"Something went wrong"});this.setState({_paramErrors:H,_otherErrors:C}),this.props.analyticsName&&Object(f.i)(`${this.props.analyticsName} Error`,{paramErrors:JSON.stringify(H),otherErrors:JSON.stringify(C)})}render(F,H){const C=F.autoLock&&H.loading||F.loading;let T=!1,S=!1;const D=w=>{const U=[];return Object(e.toChildArray)(w).forEach(V=>{if(!V)return null;if((V.type===P||V.type==="input"||V.type==="textarea"||V.type==="select")&&V.props&&V.props.name){const K=V.props.name;if(U.push(Object(e.cloneElement)(V,{disabled:C||V.props.disabled,onChange:Y=>{var W,R;const B=((W=V.props)==null?void 0:W.onChange)||((R=V.props)==null?void 0:R.onInput);B&&B(Y),this.props.onChange&&this.props.onChange(Y)},onInput:Y=>{V.props&&V.props.onInput&&V.props.onInput(Y),this.props.onInput&&this.props.onInput(Y)},onBlur:Y=>{this.onInputBlur(Y),V.props&&V.props.onBlur&&V.props.onBlur(Y)}})),H._paramErrors[K]&&!C){const Y=H._paramErrors[K];Y.msgHTML?U.push(Object(e.h)("div",{className:"error",name:K,dangerouslySetInnerHTML:{__html:Y.msgHTML}})):U.push(Object(e.h)("div",{className:"error",name:K},Y.msg||"Invalid"))}}else if(V.props&&V.props.type==="submit")U.push(Object(e.cloneElement)(V,{disabled:C||V.props.disabled,onClick:K=>{V.props&&V.props.onClick&&V.props.onClick(K)!==!1&&this.handleSubmit(K)}}));else if(V.props&&V.props.id==="error-container"){if(H._otherErrors&&!C){const K=H._otherErrors.map(Y=>Y.msgHTML?Object(e.h)("div",{className:"error other-error",dangerouslySetInnerHTML:{__html:Y.msgHTML}}):Object(e.h)("div",{className:"error other-error"},Y.msg)).concat(V.props&&V.props.children?Object(e.toChildArray)(V.props.children):[]);U.push(Object(e.cloneElement)(V,{},K))}}else if(V.type===b){if(T)throw new Error("Can only handle one stripe element");T=!0,U.push(Object(e.cloneElement)(V,{ref:K=>{V.props&&V.props.ref&&V.props.ref(K),this.stripeElement=K},card:this._stripeCard})),(H._stripeError||!this._stripeCard)&&!C&&typeof window!="undefined"&&U.push(Object(e.h)("div",{className:o()("error",F.stripeErrorClassName),role:"alert"},H._stripeError||"Stripe payments not loaded. Are there blocked scripts?"))}else if(V.type===E){if(S)throw new Error("Can only handle one stripe payment request button");S=!0,U.push(Object(e.cloneElement)(V,{ref:K=>{V.props&&V.props.ref&&V.props.ref(K),this.stripePaymentRequestButton=K},stripe:this._stripe,onSuccess:K=>(V.props&&V.props.onSuccess&&V.props.onSuccess(K),this.onPaymentRequestAttempt(K))}))}else V.props&&V.props.children?U.push(Object(e.cloneElement)(V,{},D(V.props.children))):U.push(V)}),U};return Object(e.h)("form",r({className:`form ${F.className||""}`,action:F.noJsAction||F.action,method:F.method&&["get","post"].includes(F.method.toLowerCase())&&F.method.toLowerCase()||"post",autoComplete:F.autoComplete,onSubmit:w=>this.handleSubmit(w),noValidate:!0},F.enctype&&{enctype:F.enctype}),D(F.children))}}},,function(k,n,t){"use strict";t.d(n,"b",function(){return Z}),t.d(n,"a",function(){return Ne});var e=t(0),a=t(1),o=t(5),l=t.n(o),d=t(193),c=t(261),u=t(12),f=t.n(u),m=t(4),p=t.n(m),g=t(15),O=t(103),s=t(10),r=t.n(s),i=t(187),h=t(35),v=t(25),j=t(7),y=t(689),b=t(11),E=t(14),P=t(99),A=t(2),_=t(164),M=t(8),F=t(48),H=t(62),C=t(138),T=t(399),S=t(115),D=Object.defineProperty,w=Object.defineProperties,U=Object.getOwnPropertyDescriptors,V=Object.getOwnPropertySymbols,K=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable,W=(q,te,ue)=>te in q?D(q,te,{enumerable:!0,configurable:!0,writable:!0,value:ue}):q[te]=ue,R=(q,te)=>{for(var ue in te||(te={}))K.call(te,ue)&&W(q,ue,te[ue]);if(V)for(var ue of V(te))Y.call(te,ue)&&W(q,ue,te[ue]);return q},B=(q,te)=>w(q,U(te)),x=(q,te)=>{var ue={};for(var We in q)K.call(q,We)&&te.indexOf(We)<0&&(ue[We]=q[We]);if(q!=null&&V)for(var We of V(q))te.indexOf(We)<0&&Y.call(q,We)&&(ue[We]=q[We]);return ue},G=(q,te,ue)=>new Promise((We,ot)=>{var ze=zt=>{try{Wt(ue.next(zt))}catch(at){ot(at)}},vt=zt=>{try{Wt(ue.throw(zt))}catch(at){ot(at)}},Wt=zt=>zt.done?We(zt.value):Promise.resolve(zt.value).then(ze,vt);Wt((ue=ue.apply(q,te)).next())});const Q=3,he=1;function Z(q){var te=q,{dontStopPropagation:ue,inline:We,children:ot}=te,ze=x(te,["dontStopPropagation","inline","children"]);const vt=le(ze);return Object(O.isMobile)()?Object(e.h)(e.Fragment,null,ot):Object(e.h)("div",B(R(R({className:l()("profile-hover-card-target",S.a.profileHoverCardTarget,We&&S.a.inline,ze.className&&ze.className)},vt.triggerProps),vt.hoverProps),{onClick:Wt=>{ue||Wt.stopPropagation()}}),ot,vt.layer)}function le(q){var te=q,{subject:ue,utmSource:We}=te,ot=x(te,["subject","utmSource"]);const{loading:ze,refetch:vt,viewerProfile:Wt,subjectProfile:zt}=Object(i.b)({subjectId:(ue==null?void 0:ue.author_id)||(ue==null?void 0:ue.user_id)||(ue==null?void 0:ue.id),subjectName:ue==null?void 0:ue.name,delayLoading:!0}),at=ue&&Wt&&(ue==null?void 0:ue.id)===Wt.id,Me=ue==null?void 0:ue.id,Be=Object(a.a)(()=>{var Te;Me&&!zt&&vt(Me);const we=(((Te=zt==null?void 0:zt.publicationUsers)==null?void 0:Te.length)||0)>0;zt&&Object(j.i)(j.a.ACCOUNT_CARD_SHOWN,{profile_user_id:zt.id,is_self:!!at,has_publication:!!we})},[vt,Me,zt,at]),Xe=Object(_.b)(R({className:S.a.profileHoverCard,onOpen:Be,loading:ze&&!zt,hideOnScroll:!0,layerOptions:{placement:"right-center"},content:zt?Object(e.h)(Ne,{profile:zt,subject:ue,utmSource:We,forceRefresh:()=>vt(Me)}):null},ot));return Object(O.isMobile)()?{layer:null,hoverProps:null,triggerProps:null}:Xe}const de="account-card";function be(q){let te=[];q&&q.subscriptions&&(te=Object(s.sortSubscriptions)(q.subscriptions.filter(We=>!!We)));let ue=null;return te.length>Q&&(ue=`See all (${Object(s.numberToString)(te.length)})`),te=te.slice(0,Q),{subscriptions:te,moreSubsLabel:ue}}function X(q){let te=[];q&&q.publicationUsers&&(te=q.publicationUsers.filter(We=>!!We),te=te&&Object(y.a)(te));let ue=null;return te.length>he&&(ue=`See all (${Object(s.numberToString)(te.length)})`),te=te.slice(0,he),{publications:te,morePubsLabel:ue}}function ie({pub:q,isWrites:te,isFounding:ue,isPaid:We,utmSource:ot}){const ze=Object(m.getPubUrl)(q,{params:{utm_source:ot||de,utm_content:te?"writes":"reads"},signedIn:!!Object(v.c)()});return q?Object(e.h)("a",{href:ze,target:"_blank",onClick:()=>{Object(j.i)(te?j.a.ACCOUNT_CARD_WRITES_LINK_CLICKED:j.a.ACCOUNT_CARD_READS_LINK_CLICKED),Object(j.l)(q,"hover_profile")},className:S.a.hoverCardAvatar,rel:"noreferrer"},Object(e.h)(H.a,{pub:q,size:32,badgeType:ue?"founder":We?"subscribed":null}),Object(e.h)(M.b.B4,{weight:"medium",title:q.name},q.name)):null}function Ce({pub:q,utmSource:te}){const ue=Object(m.getPubUrl)(q,{params:{utm_source:te||de,utm_content:"writes"},signedIn:!!Object(v.c)()}),We=Object(s.getByLine)(q);return Object(e.h)("a",{href:ue,target:"_blank",onClick:()=>{Object(j.i)(j.a.ACCOUNT_CARD_WRITES_LINK_CLICKED),Object(j.l)(q,"hover_profile")},rel:"noreferrer",className:S.a.noUnderline},Object(e.h)(A.b,{padding:8},Object(e.h)(A.b,{padding:12,gap:12,className:S.a.writesCard},Object(e.h)(A.c,{gap:12},Object(e.h)(H.a,{pub:q,size:40}),Object(e.h)(A.b,{flex:"grow",minWidth:0,justifyContent:"center"},Object(e.h)(M.b.B4,{weight:"semibold"},q.name),We&&Object(e.h)(M.b.B4,{color:"secondary"},"By ",We))),q.hero_text&&Object(e.h)(M.b.B4,{color:"secondary",clamp:3},q.hero_text))))}function Le({subject:q,subscriptions:te,moreSubsLabel:ue,utmSource:We}){return Object(e.h)(A.b,null,Object(e.h)(C.a,{sectionTitle:"Reads",seeAllLabel:ue,link:ce(q,{utmSource:We})}),Object(e.h)(A.b,null,te.map(ot=>Object(e.h)(ie,{pub:ot.publication,isPaid:ot.membership_state==="subscribed",isFounding:ot.is_founding,utmSource:We}))))}function Ae({publication:q,utmSource:te}){return q?Object(e.h)(Ce,{pub:q,utmSource:te}):null}function Pe({pub:q,isSubscribed:te,user:ue,utmSource:We,forceRefreshCard:ot}){const[ze,vt]=Object(a.l)(!1),{popToast:Wt}=Object(b.L)(),zt=()=>G(this,null,function*(){ue||Wt(Me=>Object(e.h)(b.I,B(R({},Me),{text:"Something went wrong. Please try again.",Icon:d.a}))),vt(!0);try{yield f.a.post("/api/v1/reader/signup/pub").send({publication_id:q.id,email:ue==null?void 0:ue.email,visibility:"private",source:"subscribes-feed"}),Object(j.i)(j.a.FEED_ONE_CLICK_SUBSCRIBE,{source:"subscribes-feed",publication_id:q.id}),Wt(Me=>Object(e.h)(b.I,B(R({},Me),{text:`Subscribed to ${(q==null?void 0:q.name)||(ue==null?void 0:ue.name)||"user"}`,Icon:c.a}))),ot()}catch(Me){Wt(Be=>Object(e.h)(b.I,B(R({},Be),{text:"There was an issue subscribing to this profile.",Icon:d.a})))}vt(!1)}),at=q?Object(g.getSubscribeUrl)(q,{user:ue,addBase:!0,params:{utm_source:We||de,utm_content:"subscribes",next:document.location.href}}):"";return q&&(te?Object(e.h)(E.a,{priority:"secondary",fill:"outline",href:at,rounded:!0,onClick:()=>{Object(j.i)(j.a.ACCOUNT_CARD_SUBSCRIBE_CLICKED),Object(j.l)(q,"hover_profile")},title:q.name},"Subscribed"):We==="feed"&&ue?Object(e.h)(E.a,{priority:"primary",rounded:!0,onClick:()=>{zt()},title:q.name,disabled:ze},"Subscribe"):Object(e.h)(E.a,{priority:"primary",href:at,localNavigation:!1,rounded:!0,onClick:()=>{Object(j.i)(j.a.ACCOUNT_CARD_SUBSCRIBE_CLICKED),Object(j.l)(q,"hover_profile")},title:q.name},"Subscribe"))}function Ne({profile:q,subject:te,themed:ue,className:We,utmSource:ot,hideSubscribeButtons:ze,forceRefresh:vt}){var Wt,zt;const{getConfigFor:at}=Object(h.c)(),Me=Object(v.c)();if(!q)return null;const{subscriptions:Be,moreSubsLabel:Xe}=be(q),{publications:Te,morePubsLabel:we}=X(q),De=ce(te,{utmSource:ot}),Ie=(te==null?void 0:te.name)||"",He=q.primaryPublication&&((Wt=q.publicationUsers.find(je=>{var it;return je.publication_id===((it=q==null?void 0:q.primaryPublication)==null?void 0:it.id)}))==null?void 0:Wt.publication),Ve=te&&te.id===(Me==null?void 0:Me.id),z=Ve&&q&&!q.profile_set_up_at,se=Te.length>0&&!z,Se=Be.length>0&&!z&&!se,Oe=Me?null:()=>{window.location.href=Object(m.getSigninUrl)({redirect:`${window.location.href}`})},ge=(zt=q==null?void 0:q.handle)!=null?zt:null;return Object(e.h)("div",{className:l()(S.a.card,We)},Object(e.h)(A.b,null,Object(e.h)(A.c,{padding:8,justifyContent:"space-between"},Object(e.h)("a",{href:De},Object(e.h)(F.a,{user:te,size:64})),z?Object(e.h)(E.a,{priority:"secondary",fill:"outline",rounded:!0,href:Object(m.getProfileSetupUrl)({utm_source:ot||de})},"Set up profile"):Ve?Object(e.h)(E.a,{priority:"secondary",fill:"outline",rounded:!0,href:Object(m.getEditProfileUrl)()},"Edit profile"):ze?null:He?Object(e.h)(Pe,{pub:He,isSubscribed:q.isSubscribed,user:Me,utmSource:ot,forceRefreshCard:vt}):at("enable_presubscriptions")?Object(e.h)(T.a,{profile:q,requireLogin:Oe,source:{type:"card",utmSource:ot}}):null),Object(e.h)(A.b,{padding:8,gap:6},Object(e.h)(C.b,{themed:ue,title:Ie,handle:ge,blurb:q.bio,url:De,userId:te.id,bestsellerTier:q.bestseller_tier})),se&&Object(e.h)(Ae,{publication:He,utmSource:ot}),Se&&Object(e.h)(e.Fragment,null,Object(e.h)(P.a,{paddingX:8,paddingY:8}),Object(e.h)(Le,{subject:te,subscriptions:Be,moreSubsLabel:Xe,utmSource:ot}))))}function ce(q,{utmSource:te}={}){return Object(m.getReaderProfileUrl)(q,{noBase:typeof window!="undefined"&&window.location.href.startsWith(Object(g.getSubstackUrl)()),utm_source:te||de})}},function(k,n,t){"use strict";t.d(n,"a",function(){return v}),t.d(n,"f",function(){return j}),t.d(n,"c",function(){return y}),t.d(n,"b",function(){return b}),t.d(n,"g",function(){return E}),t.d(n,"d",function(){return P}),t.d(n,"e",function(){return A});var e=t(0),a=t(1),o=t(44),l=t(15),d=t(18),c=t(9),u=t.n(c),f=Object.defineProperty,m=Object.defineProperties,p=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,r=(C,T,S)=>T in C?f(C,T,{enumerable:!0,configurable:!0,writable:!0,value:S}):C[T]=S,i=(C,T)=>{for(var S in T||(T={}))O.call(T,S)&&r(C,S,T[S]);if(g)for(var S of g(T))s.call(T,S)&&r(C,S,T[S]);return C},h=(C,T)=>m(C,p(T));const v=Object(e.createContext)({dispatch:()=>{}});function j(){return Object(a.b)(v).dispatch}const y={isSigningIn:!1,signInNoExit:!1,pages:[],posts:new Map,publications:new Map,comments:new Map},b=Object(e.createContext)(y);function E(){return Object(a.b)(b)}function P(C,T){var S,D,w,U;switch(T.type){case"sign_in":return h(i({},C),{lastDispatchType:T.type,isSigningIn:T.payload.isSigningIn,signInNoExit:(S=T.payload.signInNoExit)!=null?S:!1});case"page_load":{const{result:V}=T.payload;return h(i({},C),{lastDispatchType:T.type,pages:Object(d.d)(C.pages,T),posts:new Map([...C.posts].concat(V.items.filter(K=>K.post).map(({post:K})=>[K.id,K])).concat(V.items.map(K=>{var Y;return(Y=K.comment)==null?void 0:Y.attachments}).filter(Boolean).flatMap(K=>K.filter(Y=>(Y==null?void 0:Y.type)==="post").map(Y=>[Y.post.id,Y.post])))),publications:new Map([...C.publications].concat(V.items.filter(K=>K.publication).map(({publication:K})=>[K.id,K])).concat(V.items.map(K=>{var Y;return(Y=K.comment)==null?void 0:Y.attachments}).filter(Boolean).flatMap(K=>K.filter(Y=>(Y==null?void 0:Y.type)==="post").map(Y=>[Y.publication.id,Y.publication])))),comments:new Map([...C.comments].concat(V.items.filter(K=>K.comment).map(({comment:K})=>[K.id,K])).concat(V.items.map(K=>K.parentComments||[]).flat().filter(Boolean).map(K=>[K.id,K])))})}case"post_load":{const{post:V,publication:K}=T.payload,Y=new Map(C.posts);Y.set(V.id,i(i({},Y.get(V.id)),V));const W=new Map(C.publications);return W.set(K.id,i(i({},W.get(K.id)),K)),h(i({},C),{posts:Y})}case"post_like":{const{postId:V,isLiked:K}=T.payload,Y=C.posts.get(V);return _(C,T.type,V,M(Y,K))}case"post_restack":{const{postId:V,isRestacked:K}=T.payload,Y=C.posts.get(V);return Y?_(C,T.type,V,F(Y,K)):C}case"post_delete":{const{publication:V,post:K}=T.payload,Y=new Map(C.posts);Y.delete(K.id);const W=new Map([...C.comments].filter(([R,B])=>B.post_id!==K.id));return[Object(l.getFeedPostUrl)(K.id,{noBase:!0}),Object(l.getFeedShortPostUrl)(V,K,{noBase:!0})].includes(window.location.pathname)&&Object(c.redirect)(o.a,{replace:!0}),h(i({},C),{lastDispatchType:T.type,posts:Y,comments:W,pages:C.pages.map(R=>h(i({},R),{result:R.result?h(i({},R.result),{items:R.result.items.filter(B=>{var x;return((x=B.post)==null?void 0:x.id)!==K.id})}):R.result}))})}case"post_save":{const{postId:V,isSaved:K}=T.payload;return C.posts.get(V)?_(C,T.type,V,{is_saved:K}):C}case"comment_like":{const{commentId:V,isLiked:K}=T.payload,Y=C.comments.get(V);return h(i({},C),{lastDispatchType:T.type,comments:H(C.comments,V,h(i({},Y),{reaction:K?"\u2764":void 0,reactions:h(i({},Y.reactions),{"\u2764":(((D=Y.reactions)==null?void 0:D["\u2764"])||0)+(K?1:-1)}),reaction_count:(Y.reaction_count||0)+(K?1:-1)}))})}case"comment_restack":{const{commentId:V,isRestacked:K}=T.payload,Y=C.comments.get(V);return h(i({},C),{lastDispatchType:T.type,comments:Y?H(C.comments,V,h(i({},Y),{restacked:K,restacks:(Y.restacks||0)+(K?1:-1)})):C.comments})}case"comment_delete":{const{comment:V}=T.payload,K=new Map(C.posts),Y=new Map([...C.comments].filter(([B,x])=>x.id!==V.id&&!new RegExp(`(^|.)${V.id}(.|$)`).test(x.ancestor_path))),W=K.get(V.post_id),R=V.ancestor_path&&Y.get(Number(V.ancestor_path.split(".").pop()));return R?Y.set(R.id,h(i({},R),{children_count:(R.children_count||1)-1,children:(R.children||[]).filter(B=>B.id!==V.id)})):W&&K.set(W.id,h(i({},W),{child_comment_count:(W.child_comment_count||1)-1})),[Object(l.getFeedCommentUrl)(V,{noBase:!0})].includes(window.location.pathname)&&Object(c.redirect)(o.a,{replace:!0}),h(i({},C),{lastDispatchType:T.type,posts:K,comments:Y,pages:C.pages.map(B=>h(i({},B),{result:B.result?h(i({},B.result),{items:B.result.items.filter(x=>{var G;return((G=x.comment)==null?void 0:G.id)!==V.id&&!(x.parentComments||[]).filter(Boolean).map(Q=>Q.id).includes(V.id)})}):B.result}))})}case"new_post":return h(i({},C),{lastDispatchType:T.type,publications:new Map([...C.publications].concat([[T.payload.publication.id,T.payload.publication]])),posts:new Map([...C.posts].concat([[T.payload.post.id,T.payload.post]])),pages:[{error:null,isLoading:!1,result:{items:[{type:"post",entity_key:Object(o.s)(T.payload.post.id),publication:T.payload.publication,post:T.payload.post,context:T.payload.context||{}}]}},...C.pages]});case"new_comment":{const{comment:V}=T.payload,K=new Map(C.posts),Y=K.get(V.post_id);Y&&K.set(Y.id,h(i({},Y),{child_comment_count:(Y.child_comment_count||0)+1}));const W=new Map(C.comments);W.set(V.id,V);const R=(((w=V.ancestor_path)==null?void 0:w.split("."))||[]).map(Number).filter(Boolean).map(Q=>W.get(Q)||null),B=(U=R[R.length-1])!=null?U:null;B&&W.set(B.id,h(i({},B),{children_count:(B.children_count||0)+1,children:[V].concat(B.children||[])}));const x={type:"comment",entity_key:Object(o.g)(V.id),comment:V,parentComments:R,publication:null,post:null,canReply:!0,context:{type:"comment",timestamp:new Date().toISOString(),users:[],fallbackReason:"",fallbackUrl:null}},G=[{error:null,isLoading:!1,result:{items:[x]}},...C.pages];return h(i({},C),{lastDispatchType:T.type,posts:K,comments:W,pages:G})}case"edit_comment":{const{comment:V}=T.payload,K=new Map(C.comments);return K.set(V.id,V),h(i({},C),{lastDispatchType:T.type,comments:K})}case"comments_load":{const{comments:V}=T.payload,K=[],Y=V.slice();for(;Y.length>0;){const W=Y.pop();K.push(W),Y.push(...W.children||[])}return h(i({},C),{lastDispatchType:T.type,comments:new Map([...C.comments].concat(K.map(W=>[W.id,W])))})}case"item_load":{const{item:V}=T.payload;return h(i({},A(C,V)),{lastDispatchType:T.type})}case"new_feed_items":{const V=[...C.pages];if(T.payload.insertLocation){const K={error:null,isLoading:!1,result:{items:T.payload.feedItems}};T.payload.insertLocation==="prepend"?V.unshift(K):T.payload.insertLocation==="append"&&V.push(K)}return h(i({},C),{lastDispatchType:T.type,publications:new Map([...C.publications].concat(T.payload.feedItems.map(K=>K.publication).filter(Boolean).map(K=>[K.id,K]))),posts:new Map([...C.posts].concat(T.payload.feedItems.map(K=>K.post).filter(Boolean).map(K=>[K.id,K]))),comments:new Map([...C.comments].concat(T.payload.feedItems.map(K=>K.comment).filter(Boolean).map(K=>[K.id,K])).concat(T.payload.feedItems.map(K=>K.parentComments||[]).flat().filter(Boolean).map(K=>[K.id,K]))),pages:V})}}return h(i({},C),{lastDispatchType:T.type,pages:Object(d.d)(C.pages,T)})}function A(C,T){var S;return h(i({},C),{posts:T.post?H(C.posts,T.post.id,T.post):C.posts,publications:T.publication?H(C.publications,T.publication.id,T.publication):C.publications,comments:new Map([...C.comments].concat([T.comment,...(S=T.parentComments)!=null?S:[]].filter(Boolean).map(D=>[D.id,D])))})}function _(C,T,S,D){const w=new Map(C.posts),U=w.get(S);return U&&w.set(U.id,i(i({},U),D)),h(i({},C),{lastDispatchType:T,posts:w})}function M(C,T){var S;const D=T!=null?T:!C.reaction,w="\u2764";return{reaction:D,reactions:{[w]:(((S=C.reactions)==null?void 0:S[w])||0)+(T?1:-1)}}}function F(C,T){return{restacked:T,restacks:(C.restacks||0)+(T?1:-1)}}function H(C,T,S){const D=new Map(C);return D.set(T,S),D}},function(k,n,t){const e=t(236);n.getStoredValue=(a,o=null)=>typeof window!="undefined"?e.get(a,o):o,n.setStoredValue=(a,o)=>{if(typeof window!="undefined")return e.set(a,o)},n.removeStoredValue=a=>{if(typeof window!="undefined")return e.remove(a)}},function(k,n,t){"use strict";t.d(n,"a",function(){return f});var e=t(0),a=t(5),o=t.n(a),l=t(65),d=t(573),c=t(269),u={root:"frontend-reader2-PubIcon-module__root--1N6Qk",custom:"frontend-reader2-PubIcon-module__custom--18GGc",hello:"frontend-reader2-PubIcon-module__hello--30PQZ",placeholder:"frontend-reader2-PubIcon-module__placeholder--VwKmQ"};function f({pub:m,logoUrl:p,publicationName:g,size:O=196,title:s,className:r,badgeType:i}){var h;return m&&!p&&(p=Object(l.getLogo)(m)),m&&!g&&(g=m.name||m.subdomain),Object(e.h)("div",{className:o()(u.root,r),title:s,style:{width:O,height:O}},p?Object(e.h)(c.a,{className:u.custom,src:p,size:O,alt:g}):Object(e.h)("span",{className:u.placeholder,style:{width:O,height:O,backgroundColor:m&&(m.is_www===!0?null:((h=m==null?void 0:m.theme)==null?void 0:h.background_pop_color)||(m==null?void 0:m.theme_var_background_pop)||null),color:null}},g==null?void 0:g[0]),i&&Object(e.h)(d.ReaderBadgeIcon,{className:"reader2-pub-badge",type:i,accentColor:m&&(m.is_www===!0?null:m.theme_var_background_pop)}))}},function(k,n,t){"use strict";t.d(n,"d",function(){return r}),t.d(n,"g",function(){return i}),t.d(n,"c",function(){return h}),t.d(n,"i",function(){return v}),t.d(n,"f",function(){return b}),t.d(n,"e",function(){return E}),t.d(n,"a",function(){return P}),t.d(n,"b",function(){return A}),t.d(n,"j",function(){return M}),t.d(n,"h",function(){return F});var e=t(0),a=t(241),o=t.n(a),l=t(4),d=t.n(l),c=t(44),u=t(10),f=t.n(u),m=t(61),p=t.n(m);const g="comment-collapse-state",O=250,s=_(),r=()=>{if(typeof window!="undefined"&&window.location.hash){const H=/^#comment-(\d+)/.exec(window.location.hash);if(H)return Number(H[1])}return null},i=()=>typeof window!="undefined"&&window.location.hash==="#input",h=(H,C)=>{if(!H||!C||!C.length)return null;for(const T of C){if(T.id===H)return T;if(T.children&&T.children.length){const S=h(H,T.children);if(S)return S}}return null};function v(H,C){return H.map(T=>T.id===C.id?C:(T.children=v(T.children,C),T)).filter(T=>T)}function j(H,C,{recurse:T=!0}={}){var S,D,w,U;return!!(H.id!==C.id||((S=H==null?void 0:H.metadata)==null?void 0:S.is_author)!==((D=C==null?void 0:C.metadata)==null?void 0:D.is_author)||((w=H==null?void 0:H.metadata)==null?void 0:w.founding)!==((U=C==null?void 0:C.metadata)==null?void 0:U.founding)||(H==null?void 0:H.body)!==(C==null?void 0:C.body)||(H==null?void 0:H.status)!==(C==null?void 0:C.status)||H.reaction!==C.reaction||H.user_banned!==C.user_banned||H.reported_by_user!==C.reported_by_user||(H.reactor_names?H.reactor_names.length:0)!==(C.reactor_names?C.reactor_names.length:0)||Object.values(H.reactions).reduce((V,K)=>V+K,0)!==Object.values(C.reactions).reduce((V,K)=>V+K,0)||T&&y(H.children,C.children,{recurse:T}))}function y(H,C,{recurse:T=!0}={}){if((H?H.length:0)!==(C?C.length:0))return!0;if(H)for(const S of H){const D=C.find(w=>w.id===S.id);if(!D||T&&j(S,D,{recurse:T}))return!0}return!1}function b(H,C,T){return Object(l.pathWithQuery)(Object(l.getPostUrl)(C,H,{comments:!Object(u.shouldUseInlineComments)(C,H)}),T)}function E(H,C,T,S){return C.post_id?Object(l.getPostCommentsUrl)(T,H,C,S):Object(c.k)(C,S)}function P(H){return(H||"").split(`
`).filter(C=>C.trim()).map(C=>Object(e.h)("p",null,Object(e.h)(o.a,{options:{validate:{url:T=>T&&!T.startsWith("/")},attributes:{rel:"nofollow ugc noopener"}}},C)))}const A=H=>{var C,T,S,D;return{id:H.user_id,photo_url:H.photo_url,name:H.name,bestseller_tier:H.user_bestseller_tier,primary_publication:H.user_primary_publication,is_free_subscribed:["free_signup, subscribed"].includes((C=H.metadata)==null?void 0:C.membership_state),is_subscribed:((T=H.metadata)==null?void 0:T.membership_state)==="subscribed",is_founding:(S=H.metadata)==null?void 0:S.founding,is_author:(D=H.metadata)==null?void 0:D.is_author}};function _(){try{return Object(m.getStoredValue)(g,[])}catch(H){return console.error("Failed to load comment collapse state:",H),[]}}function M(H,C){let T=!1;if(C)s.includes(H)||(T=!0,s.push(H),s.length>O&&s.splice(0,s.length-O));else{const S=s.indexOf(H);S>=0&&(T=!0,s.splice(S,1))}if(T)try{Object(m.setStoredValue)(g,s)}catch(S){console.error("Failed to store comment collapse state:",S)}}function F(H){return s.includes(H)}},function(k,n,t){"use strict";t.d(n,"a",function(){return s});var e=t(0),a=t(5),o=t.n(a),l=t(14),d=t(174),c=Object.defineProperty,u=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,p=(j,y,b)=>y in j?c(j,y,{enumerable:!0,configurable:!0,writable:!0,value:b}):j[y]=b,g=(j,y)=>{for(var b in y||(y={}))f.call(y,b)&&p(j,b,y[b]);if(u)for(var b of u(y))m.call(y,b)&&p(j,b,y[b]);return j},O=(j,y)=>{var b={};for(var E in j)f.call(j,E)&&y.indexOf(E)<0&&(b[E]=j[E]);if(j!=null&&u)for(var E of u(j))y.indexOf(E)<0&&m.call(j,E)&&(b[E]=j[E]);return b};function s(j){var y=j,{className:b,variant:E,look:P="button",fill:A="outline",fixedHeight:_=!0,size:M="medium",leftIcon:F,rightIcon:H,noPadding:C=!1,forwardedRef:T,children:S}=y,D=O(y,["className","variant","look","fill","fixedHeight","size","leftIcon","rightIcon","noPadding","forwardedRef","children"]);return Object(e.h)(l.d,g({className:o()(b,"tw-cursor-pointer tw-appearance-none tw-whitespace-nowrap tw-border-0 tw-border-solid disabled:tw-cursor-not-allowed",!v.includes(P)&&"tw-bg-transparent",i.includes(P)?[`tw-relative tw-flex tw-items-center tw-justify-center tw-gap-3 ${d.d}`,h.includes(P)&&!C&&"tw-px-5",_||P=="round"?M==="small"?"tw-h-8":"tw-h-button":"tw-py-[10px]"]:"tw-p-0",P==="button"&&"tw-rounded",P==="round"&&["tw-rounded-full tw-px-4",F&&"tw-pl-[10px]",H&&"tw-pr-[10px]"],P==="circle"&&["tw-justify-center tw-rounded-full",M==="small"?"tw-h-8 tw-w-8":"tw-h-button tw-w-button"],P==="text"&&`tw-inline ${r}`,P==="reset"&&`tw-inline-block ${r}`,P==="flex"&&`tw-flex ${r}`,E==="primary"?["hover:tw-opacity-80 disabled:tw-opacity-70",v.includes(P)?" tw-bg-substack-accent tw-text-substack-bg":"tw-bg-transparent tw-text-substack-accent"]:E==="themed-primary"?["hover:tw-opacity-80 disabled:tw-opacity-70",v.includes(P)?" tw-bg-pub-accent tw-text-pub-accent-inverse":"tw-bg-transparent tw-text-pub-accent"]:E==="secondary"?["tw-text-substack-secondary disabled:tw-opacity-70",v.includes(P)?A==="filled"?"tw-border tw-border-substack-detail tw-bg-substack-wash hover:tw-border-substack-tertiary hover:tw-bg-dark-primary hover:tw-text-substack-secondary":"tw-border tw-border-substack-detail tw-bg-substack-bg hover:tw-bg-substack-wash":"tw-bg-transparent"]:E==="themed-secondary"?["tw-border tw-border-pub-accent tw-bg-transparent tw-text-pub-accent hover:tw-bg-pub-detail-light disabled:tw-opacity-70"]:E==="tertiary"?["tw-text-substack-secondary disabled:tw-opacity-70",v.includes(P)&&"tw-border tw-border-substack-detail tw-bg-transparent hover:tw-bg-substack-wash"]:E==="destructive"?["hover:tw-opacity-80 disabled:tw-opacity-70",v.includes(P)?" tw-bg-error tw-text-substack-bg":" tw-bg-transparent tw-text-error"]:E==="twitter"&&["hover:tw-opacity-80 disabled:tw-opacity-70",v.includes(P)?"tw-bg-twitter tw-text-substack-bg":"tw-bg-transparent tw-text-twitter"]),ref:T},D),F,S,H)}const r="tw-text-[length:inherit] tw-text-[color:inherit] tw-font-[weight:inherit]",i=["button","borderless","circle","round"],h=["button","borderless"],v=["button","circle","round"]},function(k,n){n.isMultiPub=l=>l?l.child_publications&&l.child_publications.length>0:!1,n.isSectionedPub=l=>{var d;return!!(l==null?void 0:l.sections)&&((d=l.sections)==null?void 0:d.length)>0},n.canAddSections=l=>{var d;return!(!l||((d=l.child_publications)==null?void 0:d.length)||l.parent_publication_id||l.parent_publication)},n.canEditNavigationBar=l=>{var d;return!(!l||((d=l.child_publications)==null?void 0:d.length)||l.parent_publication_id||l.parent_publication)},n.hasMultiplePodcasts=l=>t(l)>1;const t=l=>{let d=[];return n.isMultiPub(l)&&(d=n.getMultiPubChildPodcasts(l)),n.isSectionedPub(l)&&(d=n.getSectionPodcasts(l)),(l.podcast_enabled?1:0)+d.length};n.hasPodcast=l=>t(l)>0,n.hasOnePodcast=l=>t(l)===1,n.getMultiPubChildPodcasts=l=>n.isMultiPub(l)?l.child_publications.filter(d=>d.type==="podcast"):[],n.getSectionPodcasts=l=>n.isSectionedPub(l)?l.sections.filter(d=>d.is_podcast):[];const e=l=>l&&!l.includes("substack");n.pubCouldHavePublicPodcastUrl=l=>e(l.podcast_feed_url),n.sectionCouldHavePublicPodcastUrl=l=>{var d;return e((d=l.podcastSettings)==null?void 0:d.podcast_feed_url)},n.userCouldSeePublicPodcastUrls=l=>{if(n.pubCouldHavePublicPodcastUrl(l))return!0;if(n.hasMultiplePodcasts(l)){if(n.isMultiPub(l)){const d=n.getMultiPubChildPodcasts(l);for(const c of d)if(n.pubCouldHavePublicPodcastUrl(c))return!0}if(n.isSectionedPub(l)){const d=n.getSectionPodcasts(l);for(const c of d)if(n.sectionCouldHavePublicPodcastUrl(c))return!0}}return!1},n.userCouldSubscribeToPodcast=(l,d)=>d?n.isMultiPub(d)?!0:!n.hasPodcast(d)||d.hide_podcast_feed_link?!1:d.has_free_podcast?!0:d.has_subscriber_only_podcast?n.userIsPaidSubscriber(l):!1:!1,n.userIsFreeOnly=l=>l?!!(l.is_free_subscribed&&!l.is_subscribed):!1,n.userIsPaidSubscriber=l=>l?!!l.is_subscribed:!1,n.paymentsAreEnabled=l=>l?l.payments_state==="enabled":!1;const a=(l,{usePreview:d=!1,useDraft:c=!1}={})=>{switch(l==null?void 0:l.type){case"newsletter":return c?l.draftVoiceoverUpload:l.voiceoverUpload;case"podcast":return d?c?l.draftPodcastPreviewUpload:l.podcastPreviewUpload:c?l.draftPodcastUpload:l.podcastUpload;case"video":return c?l.draftVideoUpload:l.videoUpload;default:return null}};n.getMediaDuration=(l,{usePreview:d=!1,useDraft:c=!1}={})=>{var u;const f=a(l,{usePreview:d,useDraft:c});if(f)return(u=f.duration)!=null?u:null;if((l==null?void 0:l.type)==="podcast"&&!d){const m=c?l.draft_podcast_duration:l.podcast_duration;return m!=null?m:null}return null},n.getMediaFileSize=(l,{usePreview:d=!1,useDraft:c=!1}={})=>{var u,f;const m=a(l,{usePreview:d,useDraft:c});return m?(u=m.primary_file_size)!=null?u:null:(l==null?void 0:l.type)==="podcast"&&!d&&!c&&(f=l.legacy_podcast_file_size)!=null?f:null},n.podcastPostIsFreePreview=l=>!l||l.type!=="podcast"||!l.podcastUpload?!1:!!l.podcastUpload.is_free_preview,n.hasPodcastPreview=l=>!!l&&!!l.podcast_preview_upload_id,n.getLogo=l=>{var d;return l.logo_url||l.cover_photo_url||l.author_photo_url||((d=l.author)==null?void 0:d.photo_url)},n.getFoundingTierPlan=l=>{var d;return Array.isArray(l==null?void 0:l.plans)&&(d=l.plans.find(c=>{var u;return((u=c.metadata)==null?void 0:u.founding)==="yes"}))!=null?d:null},n.getFoundingTierName=l=>{var d,c;const u=n.getFoundingTierPlan(l);return(c=(d=u==null?void 0:u.metadata)==null?void 0:d.short_description)!=null?c:null},n.mediaUploadHasProblem=l=>!l||!l.state?!1:l.state==="error"||l.state==="cancelled",n.getPaidOrFoundingTierNameForPost=(l,d)=>(d==null?void 0:d.audience)==="founding"&&n.getFoundingTierName(l)||"paid",n.hasVoiceover=l=>!!l&&!!l.voiceover_upload_id,n.canSyndicateVoiceoverDraft=(l,d)=>!l||!d||!n.hasPodcast(l)?!1:!!d.draft_voiceover_upload_id;const o=/\/images\/[-0-9a-fA-F]+_(\d+)x(\d+)(\.png)?$/i;n.getAspectRatioFromBucketeerUrl=l=>{const d=l.match(o);return d?parseInt(d[1])/parseInt(d[2]):null},n.isBulwarkPub=(l,{checkParent:d=!0}={})=>{var c;return d&&l.subdomain==="thebulwark"||((c=l.parent_publication)==null?void 0:c.subdomain)==="thebulwark"}},function(k,n,t){"use strict";t.d(n,"a",function(){return s}),t.d(n,"c",function(){return r}),t.d(n,"b",function(){return i});var e=t(0),a=t(5),o=t.n(a),l=t(21),d=t(52),c=Object.defineProperty,u=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,p=(h,v,j)=>v in h?c(h,v,{enumerable:!0,configurable:!0,writable:!0,value:j}):h[v]=j,g=(h,v)=>{for(var j in v||(v={}))f.call(v,j)&&p(h,j,v[j]);if(u)for(var j of u(v))m.call(v,j)&&p(h,j,v[j]);return h},O=(h,v)=>{var j={};for(var y in h)f.call(h,y)&&v.indexOf(y)<0&&(j[y]=h[y]);if(h!=null&&u)for(var y of u(h))v.indexOf(y)<0&&m.call(h,y)&&(j[y]=h[y]);return j};function s(h){var v=h,{className:j,variant:y,rounded:b,look:E="button",fixedHeight:P=!0,size:A="medium",hasLeftIcon:_,hasRightIcon:M,forwardedRef:F}=v,H=O(v,["className","variant","rounded","look","fixedHeight","size","hasLeftIcon","hasRightIcon","forwardedRef"]);return Object(e.h)(l.a,g({className:o()("reader2-button",j,`reader2-button-${E}`,P&&"fixedHeight",y&&(["text","borderless"].includes(E)?`reader2-button-text-${y}`:`reader2-button-${y}`),(b||E==="circle")&&"reader2-button-rounded",`reader2-button-${A}`,_&&"hasLeftIcon",M&&"hasRightIcon"),ref:F},H))}function r(h){var v=h,{isActive:j=!1,isSmall:y=!1,icon:b,children:E}=v,P=O(v,["isActive","isSmall","icon","children"]);return Object(e.h)("button",g({className:o()("reader2-button-reset reader2-tab",j&&"active",y&&"small",b?"hasIcon":null)},P),b,E)}const i=Object(d.a)("reader2-button-row")},function(k,n,t){"use strict";t.r(n),t.d(n,"MAX_COMMENT_LENGTH",function(){return o}),t.d(n,"MAX_FEED_COMMENT_LENGTH",function(){return l}),t.d(n,"NoteMinimumReplyLevel",function(){return d}),t.d(n,"RepliesDisabledReason",function(){return c}),t.d(n,"commentSortOptions",function(){return u}),t.d(n,"commentSortText",function(){return f}),t.d(n,"forEachComment",function(){return m}),t.d(n,"COMMENT_STATUS",function(){return p}),t.d(n,"VISIBLE_COMMENT_STATUSES",function(){return g}),t.d(n,"hasVisibleStatus",function(){return O}),t.d(n,"isRequirementException",function(){return s}),t.d(n,"getMentionedUserIds",function(){return r});var e=t(156),a=t(420);const o=1e4,l=9999;var d;(function(i){i.everyone="everyone",i.free_subscriber="free_subscriber",i.paid_subscriber="paid_subscriber"})(d||(d={}));var c;(function(i){i.comments_disabled="comments_disabled",i.free_subscription_required="free_subscription_required",i.paid_subscription_required="paid_subscription_required"})(c||(c={}));const u=({likesEnabled:i=!0}={})=>{const h=[];return h.push({key:"most_recent_first",text:"New First",description:"Newest first (good for live events)"}),i&&h.push({key:"best_first",text:"Top First",description:"Top ranked first"}),h.push({key:"oldest_first",text:"Chronological",description:"Chronological order (oldest first)"}),h},f=i=>u().find(h=>h.key===i).text,m=function(i,h){if(Symbol.iterator in Object(i)){for(const v of i)if(h(v)===!1||m(v.children||[],h)===!1)return!1}},p={review_required:"review_required",edit_review_required:"edit_review_required",published:"published",flagged:"flagged",deleted:"deleted",moderator_approved:"moderator_approved",moderator_removed:"moderator_removed",new_commenter_approval_required:"new_commenter_approval_required"},g=new Set([p.review_required,p.edit_review_required,p.published,p.moderator_approved,p.new_commenter_approval_required]),O=i=>i.deleted?!1:g.has(i.status);function s(i,h){const{attachments:v}=i;if(v&&v.length>0){for(const j of v)if(j.type==="post"){for(const y of j.post.publishedBylines)if(y.id===h)return!0;if(Object(e.b)(j.publication,h))return!0}else if(j.type==="comment"){if(j.comment.user_id===h)return!0}else if(j.type==="publication"&&Object(e.b)(j.publication,h))return!0}return!!r(i).has(h)}function r(i){var h;const v=[];if(i.body_json)for(const j of Object(a.a)(i.body_json))j.type==="substack_mention"&&v.push((h=j.attrs)==null?void 0:h.id);return new Set(v)}},function(k,n,t){"use strict";t.d(n,"b",function(){return g}),t.d(n,"a",function(){return O}),t.d(n,"f",function(){return i}),t.d(n,"e",function(){return h}),t.d(n,"d",function(){return j}),t.d(n,"c",function(){return y});var e=t(7),a=Object.defineProperty,o=Object.defineProperties,l=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,f=(b,E,P)=>E in b?a(b,E,{enumerable:!0,configurable:!0,writable:!0,value:P}):b[E]=P,m=(b,E)=>{for(var P in E||(E={}))c.call(E,P)&&f(b,P,E[P]);if(d)for(var P of d(E))u.call(E,P)&&f(b,P,E[P]);return b},p=(b,E)=>o(b,l(E));function g(b,E,{extraEventProps:P={},tabId:A}={}){r("seen",b,E,{extraEventProps:P,tabId:A})}function O(b,E,P,{extraEventProps:A={},tabId:_}={}){r("clicked",b,E,{extraEventProps:p(m({clicked_element:P},A),{tabId:_})})}function s(b,E){var P,A,_;return{item_entity_key:"entity_key"in b?b.entity_key:"",item_type:b.type,item_context_type:"context"in b?b.context.type:"",item_context_timestamp:new Date("context"in b?b.context.timestamp:new Date).toISOString(),item_publication_id:"publication"in b?(P=b.publication)==null?void 0:P.id:void 0,item_post_id:(A=b.post)==null?void 0:A.id,item_comment_id:(_=b.comment)==null?void 0:_.id,item_can_reply:"canReply"in b?b.canReply:!0,tab_id:E!=null?E:void 0}}function r(b,E,P,{extraEventProps:A={},tabId:_}={}){const M=s(E,_!=null?_:null);Object(e.i)(b==="seen"?e.a.FEED_ITEM_SEEN:e.a.FEED_ITEM_CLICKED,m(m({surface:P,tabId:_},M),A))}function i(b,E,{extraEventProps:P={}}={}){v("seen",b,E,{extraEventProps:P})}function h(b,E,P,{extraEventProps:A={}}={}){v("clicked",b,E,{extraEventProps:m({clicked_element:P},A)})}function v(b,E,P,{extraEventProps:A={}}={}){var _,M,F,H;Object(e.i)(b==="seen"?e.a.FEED_USER_SUGGESTION_SEEN:e.a.FEED_USER_SUGGESTION_CLICKED,m({suggested_user_id:E.user.id,suggested_publication_id:(M=(_=E.publication)==null?void 0:_.id)!=null?M:null,suggestion_source:(F=E.source)!=null?F:null,suggestion_id:(H=E.id)!=null?H:null,surface:P},A))}function j(b,{utm_source:E}={}){Object(e.i)(e.a.FEED_SCREEN_VIEWED,{utm_source:E,tab_id:b})}function y(b,{utm_source:E}={}){const P=s(b,null);Object(e.i)(e.a.FEED_PERMALINK_SCREEN_VIEWED,m({utm_source:E},P))}},function(k,n,t){"use strict";t.d(n,"a",function(){return e});function e(a,o,...l){if(a in o){let c=o[a];return typeof c=="function"?c(...l):c}let d=new Error(`Tried to handle "${a}" but there is no handler defined. Only defined handlers are: ${Object.keys(o).map(c=>`"${c}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(d,e),d}},function(k,n,t){"use strict";t.d(n,"b",function(){return r}),t.d(n,"a",function(){return i});var e=t(0),a=t(5),o=t.n(a),l=t(9),d=t.n(l),c=t(21),u=t(96),f=t(347);t.d(n,"c",function(){return f.a});var m=Object.defineProperty,p=(h,v,j)=>v in h?m(h,v,{enumerable:!0,configurable:!0,writable:!0,value:j}):h[v]=j,g=(h,v,j)=>(p(h,typeof v!="symbol"?v+"":v,j),j);const O="active",s=.7;class r extends e.Component{constructor(v,j){super(v,j);if(g(this,"onDocumentMouseUp",y=>{!Object(l.isRootOrChild)(y.target,this.base)&&this.state.active&&!this.blockToggle&&(this.close(),this.blockToggle=!0,setTimeout(()=>{this.blockToggle=!1},0))}),g(this,"onDocumentKeyDown",y=>{y.key==="Escape"&&this.state.active&&this.close()}),g(this,"onWindowResize",()=>{this.placeDropdown()}),g(this,"placeDropdown",()=>{var y,b;if(!this.base||this.useDrawerStyle()||this.props.noPlace){this.setState({left:null,right:null});return}const E=this.base.getBoundingClientRect(),P=E.width/(this.state.active?1:s),A=E.right+(P-E.width)/2,_=E.left-(P-E.width)/2,M=typeof window!="undefined"&&window.innerWidth;if(P>=M)return;const F=typeof window!="undefined"&&window.getComputedStyle(this.base),H=!isNaN(parseFloat(F.left))&&parseFloat(F.left),C=!isNaN(parseFloat(F.right))&&parseFloat(F.right),T=(y=this.state.originalLeft)!=null?y:F.left,S=(b=this.state.originalRight)!=null?b:F.right;typeof this.state.originalLeft=="undefined"&&this.setState({originalLeft:T}),typeof this.state.originalRight=="undefined"&&this.setState({originalRight:S}),_<0?typeof this.state.left=="number"?this.setState({left:this.state.left-_,right:null}):typeof this.state.right=="number"?this.setState({left:null,right:this.state.right+_}):typeof C=="number"?this.setState({left:null,right:C+_}):this.setState({left:(H||0)-_,right:null}):A>=M&&(typeof this.state.left=="number"?this.setState({left:this.state.left-A+M,right:null}):typeof this.state.right=="number"?this.setState({left:null,right:this.state.right+A-M}):typeof H=="number"?this.setState({left:H-A+M,right:null}):this.setState({left:null,right:(C||0)+A-M}))}),typeof window!="undefined"&&(window==null?void 0:window.matchMedia)){const y=window.matchMedia("screen and (max-width: 650px)");this.state={isMobileWidth:y.matches};const b=E=>{this.setState({isMobileWidth:E.matches})};y.addEventListener?y.addEventListener("change",b):y.addListener&&y.addListener(b)}}componentDidMount(){document.addEventListener("mouseup",this.onDocumentMouseUp),document.addEventListener("keydown",this.onDocumentKeyDown),typeof window!="undefined"&&window.addEventListener("resize",this.onWindowResize),this.placeDropdown()}componentWillUnmount(){document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("keydown",this.onDocumentKeyDown),typeof window!="undefined"&&window.removeEventListener("resize",this.onWindowResize)}open(){this.toggle({active:!0})}close(){this.toggle({active:!1})}toggle({active:v=null}={}){this.blockToggle||Object(l.stateTransaction)(this,j=>{v===null&&(v=!j.active),this.props.preventScrollBehindDrawer&&this.useDrawerStyle()&&document.documentElement.classList[v?"add":"remove"]("modal-in"),this.setState({active:v},()=>{this.props.onToggle&&this.props.onToggle({active:v})})})}isOpen(){return Boolean(this.state.active)}useDrawerStyle(){return this.props.useDrawerOnMobile&&this.state.isMobileWidth}drawerBackdropClicked(){this.props.backdropDismiss&&this.close()}render({noTail:v,attachOnActive:j,noDrawerCloseButton:y},{active:b}){const E=Object(e.toChildArray)(this.props.children),P={},A={};typeof this.state.left=="number"?(P.left=`${this.state.left}px`,P.right="unset",A.right=`calc(50% + ${this.state.left-parseFloat(this.state.originalLeft)||0}px)`):typeof this.state.right=="number"&&(P.left="unset",P.right=`${this.state.right}px`,A.right=`calc(50% - ${this.state.right-parseFloat(this.state.originalRight)||0}px)`);const _=this.useDrawerStyle();return Object(e.h)(e.Fragment,null,_&&Object(e.h)("div",{className:o()("dropdown-drawer-backdrop",{[O]:b}),onclick:()=>this.drawerBackdropClicked()}),(!j||b||_)&&Object(e.h)("ul",{className:o()("dropdown-menu",this.props.className,{[O]:b,"no-rect":this.props.noRectWhenClosed,drawer:_,tooltip:!_,"no-place":!!this.props.noPlace}),style:P},!v&&!this.useDrawerStyle()&&Object(e.h)(e.Fragment,null,Object(e.h)("div",{className:"dropdown-menu-tail",style:A}),Object(e.h)("div",{className:"dropdown-menu-tail-shadow",style:A})),Object(e.h)("div",{className:o()("dropdown-menu-wrapper",this.props.wrapperClassName)},_&&!y&&Object(e.h)(c.a,{className:"drawer-close-button",onClick:()=>this.close()},Object(e.h)(u.default,{height:24,className:"drawer-close-icon"})),this.props.noList?E:E.map(M=>Object(e.h)("li",null,M)))))}}class i extends e.Component{constructor(v){super(v);g(this,"onDocumentMouseUp",j=>{!Object(l.isRootOrChild)(j.target,this.base)&&this.state.active&&!this.blockToggle&&(this.close(),this.blockToggle=!0,setTimeout(()=>{this.blockToggle=!1},0))}),g(this,"onDocumentKeyDown",j=>{j.key==="Escape"&&this.close()}),g(this,"onWindowResize",()=>{this.placeDropdown()})}componentDidMount(){document.addEventListener("mouseup",this.onDocumentMouseUp),document.addEventListener("keydown",this.onDocumentKeyDown)}componentWillUnmount(){document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("keydown",this.onDocumentKeyDown)}open(){this.toggle({active:!0})}close(){this.toggle({active:!1})}toggle({active:v=null}={}){this.blockToggle||Object(l.stateTransaction)(this,j=>{v===null&&(v=!j.active),this.setState({active:v},()=>{this.props.onToggle&&this.props.onToggle()})})}isOpen(){return Boolean(this.state.active)}render(){const v=Object(e.toChildArray)(this.props.children);return this.props.noList?Object(e.h)("div",{className:o()("dropdown-menu tooltip",this.props.className,{[O]:this.state.active}),ref:this.props.forwardedRef},Object(e.h)("div",{className:"dropdown-menu-wrapper"},v)):Object(e.h)("ul",{className:o()("dropdown-menu tooltip",this.props.className,{[O]:this.state.active}),ref:this.props.forwardedRef},!this.props.hideMenuTail&&Object(e.h)("div",{className:"dropdown-menu-tail"}),!this.props.hideMenuTail&&Object(e.h)("div",{className:"dropdown-menu-tail-shadow"}),Object(e.h)("div",{className:"dropdown-menu-wrapper"},v.map(j=>Object(e.h)("li",null,j))))}}},function(k,n,t){"use strict";t.d(n,"c",function(){return v}),t.d(n,"f",function(){return b}),t.d(n,"a",function(){return E}),t.d(n,"b",function(){return P}),t.d(n,"d",function(){return A}),t.d(n,"e",function(){return _});var e=t(0),a=t(3),o=t(1),l=t(12),d=t.n(l),c=Object.defineProperty,u=Object.defineProperties,f=Object.getOwnPropertyDescriptors,m=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,O=(M,F,H)=>F in M?c(M,F,{enumerable:!0,configurable:!0,writable:!0,value:H}):M[F]=H,s=(M,F)=>{for(var H in F||(F={}))p.call(F,H)&&O(M,H,F[H]);if(m)for(var H of m(F))g.call(F,H)&&O(M,H,F[H]);return M},r=(M,F)=>u(M,f(F)),i=(M,F,H)=>new Promise((C,T)=>{var S=U=>{try{w(H.next(U))}catch(V){T(V)}},D=U=>{try{w(H.throw(U))}catch(V){T(V)}},w=U=>U.done?C(U.value):Promise.resolve(U.value).then(S,D);w((H=H.apply(M,F)).next())}),h;const v={variantOverrides:{},experimentFeatures:{},experimentExposures:{}},j=typeof window!="undefined"&&window._preloads||v,y=typeof window!="undefined"?(h=window._preloads)==null?void 0:h.siteConfigs:{},b=(M,F)=>{const H=D=>{if(!D||!M)return null;const w=M[D];return w===void 0?null:w},C=D=>{if(!D)return null;const w=H(D);if(w&&typeof w=="string"&&w!=="experiment")return{intendedVariant:w,shouldLog:!1};if(F.variantOverrides&&D in F.variantOverrides)return{intendedVariant:F.variantOverrides[D],shouldLog:!1};const U=F.experimentExposures||{};if(U[D])return{intendedVariant:U[D],shouldLog:!1};const V=F.experimentFeatures||{};return V[D]?{intendedVariant:V[D],shouldLog:!0}:null};return{getExperimentVariant:D=>{const w=C(D);return w?w.intendedVariant:null},exposeExperiment:D=>i(void 0,null,function*(){const{intendedVariant:w,shouldLog:U}=C(D)||{};if(!U)return!1;if(typeof window!="undefined"){window._preloads.experimentExposures=window._preloads.experimentExposures||{};const V=window._preloads.experimentExposures;V[D]=w;try{yield d.a.post("/api/v1/experiment_exposure").send({experiment_name:D,variant_name:w})}catch(K){delete V[D]}}return!0})}},E=Object(e.createContext)(b(y,j));E.displayName="ExperimentsContext";function P({siteConfigs:M={},experimentInfo:F,children:H}){const C=F||j,T=Object(o.i)(()=>b(M,C),[M,...Object.values(C)]);return Object(e.h)(E.Provider,{value:T},H)}function A(){return Object(o.b)(E)}const _=M=>{const F=Object(a.forwardRef)((H,C)=>{const T=A();return Object(e.h)(M,r(s(s({},T),H),{ref:C}))});return F.displayName=`withExperimentsContext(${M.displayName||M.name||"Anonymous"})`,F}},function(k,n,t){"use strict";t.d(n,"a",function(){return o});var e=t(3),a=t(218);let o=a.a?e.useEffect:e.useLayoutEffect},function(k,n,t){"use strict";var e=t(0),a=Object.defineProperty,o=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,c=(p,g,O)=>g in p?a(p,g,{enumerable:!0,configurable:!0,writable:!0,value:O}):p[g]=O,u=(p,g)=>{for(var O in g||(g={}))l.call(g,O)&&c(p,O,g[O]);if(o)for(var O of o(g))d.call(g,O)&&c(p,O,g[O]);return p},f=(p,g)=>{var O={};for(var s in p)l.call(p,s)&&g.indexOf(s)<0&&(O[s]=p[s]);if(p!=null&&o)for(var s of o(p))g.indexOf(s)<0&&d.call(p,s)&&(O[s]=p[s]);return O};const m=p=>{var g=p,{children:O,href:s,onClick:r}=g,i=f(g,["children","href","onClick"]);return Object(e.h)("a",u(u({role:"button",tabIndex:0,href:s!=null?s:"javascript:void(0)"},r&&{onClick:h=>{h.stopPropagation(),r(h)}}),i),O)};n.a=m},function(k,n,t){"use strict";t.d(n,"a",function(){return j}),t.d(n,"d",function(){return y}),t.d(n,"b",function(){return b}),t.d(n,"c",function(){return E});var e=t(0),a=t(3),o=t(1),l=t(18),d=Object.defineProperty,c=Object.defineProperties,u=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,g=(P,A,_)=>A in P?d(P,A,{enumerable:!0,configurable:!0,writable:!0,value:_}):P[A]=_,O=(P,A)=>{for(var _ in A||(A={}))m.call(A,_)&&g(P,_,A[_]);if(f)for(var _ of f(A))p.call(A,_)&&g(P,_,A[_]);return P},s=(P,A)=>c(P,u(A)),r=(P,A,_)=>new Promise((M,F)=>{var H=S=>{try{T(_.next(S))}catch(D){F(D)}},C=S=>{try{T(_.throw(S))}catch(D){F(D)}},T=S=>S.done?M(S.value):Promise.resolve(S.value).then(H,C);T((_=_.apply(P,A)).next())}),i;const h=typeof window!="undefined"?(i=window._preloads)==null?void 0:i.publicationSettings:{},v=P=>({getSettingFor:_=>{if(!_||!P)return null;const M=P[_];return M===void 0?null:M}}),j=Object(e.createContext)(s(O({},v(h)),{changeSetting:()=>Promise.resolve(void 0)}));j.displayName="PublicationSettingsContext";const y=P=>{const A=Object(a.forwardRef)((_,M)=>{const F=E();return Object(e.h)(P,s(O(O({},F),_),{ref:M}))});return A.displayName=`withPubSettingsContext(${P.displayName||P.name||"Anonymous"})`,A};function b({settings:P={},children:A}){const[_,M]=Object(o.l)(P),F=C=>r(this,null,function*(){M(O(O({},_),C));try{yield Object(l.c)("/api/v1/publication_settings",{method:"PUT",json:C})}catch(T){console.error(T)}}),H=Object(o.i)(()=>s(O({},v(_)),{changeSetting:F}),[_]);return Object(e.h)(j.Provider,{value:H},A)}function E(){return Object(o.b)(j)}},,function(k,n,t){var e=t(285);function a(o,l,d){var c=o==null?void 0:e(o,l);return c===void 0?d:c}k.exports=a},function(k,n,t){"use strict";t.d(n,"a",function(){return H}),t.d(n,"b",function(){return C});var e=t(0),a=t(1),o=t(5),l=t.n(o),d=t(117),c=t(435),u=t(561),f=t(7),m=t(2),p=t(8),g=t(124),O={inlineContainer:"frontend-pencraft-unstable-UserBadge-module__inlineContainer--1Iuel",container:"frontend-pencraft-unstable-UserBadge-module__container--1ZfxO",popover:"frontend-pencraft-unstable-UserBadge-module__popover--Eqqdr"},s=Object.defineProperty,r=Object.defineProperties,i=Object.getOwnPropertyDescriptors,h=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable,y=(T,S,D)=>S in T?s(T,S,{enumerable:!0,configurable:!0,writable:!0,value:D}):T[S]=D,b=(T,S)=>{for(var D in S||(S={}))v.call(S,D)&&y(T,D,S[D]);if(h)for(var D of h(S))j.call(S,D)&&y(T,D,S[D]);return T},E=(T,S)=>r(T,i(S));const P=100,A={sm:16,md:20,lg:24},_={100:u.default,1e3:c.default,1e4:c.default},M={1e4:{fill:"var(--color-accent-purple)"}},F={100:"Hundreds",1e3:"Thousands",1e4:"Tens of thousands"},H=({className:T,isStatic:S=!1,inline:D=!1,size:w="lg",tier:U,tooltipOnHover:V=!1,userId:K})=>{const[Y,W]=Object(d.b)({delayEnter:P,delayLeave:P,hideOnScroll:!0}),R=Y&&!V,{triggerProps:B,layerProps:x,renderLayer:G}=Object(d.c)({isOpen:R,overflowContainer:!1,auto:!0,snap:!0,possiblePlacements:["top-center","bottom-center","top-start","bottom-start","top-end","bottom-end"],placement:"top-center",containerOffset:10,triggerOffset:8}),Q=x.style;Object(a.d)(()=>{Y&&Object(f.i)(f.a.BESTSELLER_INFO_SHOWN,{tier:U,form:V?"tooltip":"popover",hovered_user_id:K})},[Y,U,V,K]);const he=A[w];if(!U)return null;const Z=_[U.toString()],le=M[U.toString()],de=l()(T,D?O.inlineContainer:O.container);return S&&U?Object(e.h)("div",{className:de},Object(e.h)(Z,E(b({},le),{height:he}))):Object(e.h)("div",E(b(b({},W),B),{className:de}),Object(e.h)(g.a,{text:`${F[U.toString()]} of paid subscribers`,dangerouslySetTooltipZIndex:103,disabled:!V},Object(e.h)(Z,E(b({},le),{height:he}))),R&&G(Object(e.h)("div",E(b(b({},x),W),{style:Q,className:O.popover}),Object(e.h)(m.b,{alignItems:"center",gap:16,padding:16,paddingBottom:32},Object(e.h)(Z,E(b({},le),{height:40})),Object(e.h)(m.b,{alignItems:"center",gap:4},Object(e.h)(p.b.H3,null,"Bestseller"),Object(e.h)(p.b.B4,{align:"center"},F[U.toString()]," of paid subscribers"))))))},C=({tier:T})=>{if(!T)return null;const S=_[T.toString()],D=M[T.toString()];return Object(e.h)(S,E(b({},D),{height:A.sm}))}},,function(k,n,t){"use strict";t.d(n,"f",function(){return s}),t.d(n,"a",function(){return r}),t.d(n,"e",function(){return i}),t.d(n,"b",function(){return h}),t.d(n,"d",function(){return v}),t.d(n,"c",function(){return y});var e=t(0),a=t(1),o=t(18),l=Object.defineProperty,d=Object.defineProperties,c=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,p=(b,E,P)=>E in b?l(b,E,{enumerable:!0,configurable:!0,writable:!0,value:P}):b[E]=P,g=(b,E)=>{for(var P in E||(E={}))f.call(E,P)&&p(b,P,E[P]);if(u)for(var P of u(E))m.call(E,P)&&p(b,P,E[P]);return b},O=(b,E)=>d(b,c(E));function s(b){const E=Object(o.f)({pathname:"/api/v1/subscriptions",auto:b,deps:[]});return Object(a.i)(()=>O(g({},E),{result:E.result?O(g({},E.result),{publicationMap:new Map(E.result.publications.map(A=>[A.id,A])),subscriptionMap:new Map(E.result.subscriptions.map(A=>[A.publication_id,A])),publicationUserMap:new Map(E.result.publicationUsers.map(A=>[A.publication_id,A]))}):null}),[E])}const r=Object(e.createContext)(o.a);function i(){return Object(a.b)(r)}function h(b){var E;const{subscriptionMap:P,publicationUserMap:A,publicationsWithPledges:_}=(E=i().result)!=null?E:{subscriptionMap:new Map,publicationUserMap:new Map,publicationsWithPledges:[]},M=P.get(b),F=A.get(b);return{subscription:M,publicationUser:F,is_pledged:!!(_==null?void 0:_.includes(b))}}function v(b){const{subscription:E,publicationUser:P,is_pledged:A}=h(b),_=(E==null?void 0:E.membership_state)==="free_signup",M=(E==null?void 0:E.membership_state)==="subscribed",F=!!(E==null?void 0:E.is_founding),H=Boolean(P&&["contributor","admin"].includes(P.role));return{subscription:E,publicationUser:P,isFreeSubscribed:_,isPaid:M,isAuthor:H,isFounding:F,isPledged:A}}function j(){var b,E,P;const{publicationUsers:A,publicationMap:_}=(b=i().result)!=null?b:{publicationMap:new Map,publicationUsers:[]},M=(P=(E=A.find(F=>F.is_primary))!=null?E:A.find(F=>F.role==="admin"))!=null?P:A.find(F=>F.role==="contributor");return M&&_.get(M.publication_id)}function y(b){var E,P;const{publicationUsers:A}=(E=i().result)!=null?E:{publicationUsers:[]};return(P=A.find(_=>_.publication_id===b))!=null?P:null}},function(k,n,t){"use strict";t.d(n,"b",function(){return h}),t.d(n,"a",function(){return v}),t.d(n,"c",function(){return j});var e=t(0),a=t(15),o=t(59),l=t(8),d=t(106),c=Object.defineProperty,u=Object.defineProperties,f=Object.getOwnPropertyDescriptors,m=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,O=(y,b,E)=>b in y?c(y,b,{enumerable:!0,configurable:!0,writable:!0,value:E}):y[b]=E,s=(y,b)=>{for(var E in b||(b={}))p.call(b,E)&&O(y,E,b[E]);if(m)for(var E of m(b))g.call(b,E)&&O(y,E,b[E]);return y},r=(y,b)=>u(y,f(b)),i=(y,b)=>{var E={};for(var P in y)p.call(y,P)&&b.indexOf(P)<0&&(E[P]=y[P]);if(y!=null&&m)for(var P of m(y))b.indexOf(P)<0&&g.call(y,P)&&(E[P]=y[P]);return E};function h(y){var b=y,{user:E,utm_source:P,utm_content:A,ellipsis:_,onClick:M}=b,F=i(b,["user","utm_source","utm_content","ellipsis","onClick"]);return Object(e.h)(v,s({user:E,utm_source:P,utm_content:A,ellipsis:_,onClick:M},F),E.name)}function v(y){var b=y,{user:E,utm_source:P,utm_content:A,children:_,ellipsis:M,onClick:F}=b,H=i(b,["user","utm_source","utm_content","children","ellipsis","onClick"]);const C=r(s({},E),{id:E.author_id||E.user_id||E.id,name:E.user_profile_name||E.author_name||E.name,handle:(E==null?void 0:E.handle)||(E==null?void 0:E.author_handle)});return Object(e.h)(o.b,{subject:C,dontStopPropagation:!0,utmSource:"feed"},Object(e.h)(j,s({href:Object(a.getReaderProfileUrl)(E,{noBase:d.a,utm_content:A,utm_source:P}),ellipsis:M,onClick:F},H),_))}function j(y){return Object(e.h)(l.b,s({as:"a",decoration:"hover-underline",ellipsis:!0},y))}},function(k,n,t){"use strict";var e=t(0),a=t(5),o=t.n(a),l=t(4),d=t.n(l),c=t(10),u=t.n(c),f=t(51);function m({href:g,linkify:O,children:s,openInNewTab:r}){return O?r?Object(e.h)("a",{href:g,target:"_blank"},s):Object(e.h)("a",{href:g,native:!0},s):s}const p=({pub:g,href:O="",logo_url:s,showHover:r=!1,byline:i=null,proof:h=null,size:v=196,linkify:j=!0,title:y=null,className:b="",noMargin:E=!1,openInNewTab:P=!1,isStatic:A=!1,belowTheFold:_=!1})=>{var M;return Object(e.h)("div",{className:o()("pub-icon",!E&&"pub-icon-margin",b),title:y},r&&Object(e.h)("div",{className:"logo-hover"},Object(e.h)("div",{className:"logo-hover-title"},Object(e.h)("a",{href:O||g.base_url,native:!0},(g.name||g.subdomain)+(i?` by ${i}`:""))),Object(e.h)("div",{className:"logo-hover-proof"},h),Object(e.h)("div",{className:"logo-hover-description"},g.hero_text)),Object(e.h)(m,{href:O||g.base_url,linkify:j,openInNewTab:P},s?A?Object(e.h)("img",{src:Object(l.cloudinary)(s,v*2,{height:v*2,crop:"fill"}),width:v,height:v,className:"custom",alt:g.name}):Object(e.h)(f.a,{className:"custom",alt:g.name,imageProps:{height:v*2,crop:"fill"},maxWidth:v*2,src:s,width:v,height:v,loading:_?"lazy":null}):Object(e.h)("span",{className:"placeholder",style:g.theme_var_background_pop?`border-color:${Object(c.colorLightness)(g.theme_var_background_pop,.7)} ${g.theme_var_background_pop} ${g.theme_var_background_pop} ${Object(c.colorLightness)(g.theme_var_background_pop,.7)}`:""},(M=g.name||g.subdomain)==null?void 0:M[0])))};n.a=p},function(k,n,t){"use strict";t.d(n,"a",function(){return l}),t.d(n,"b",function(){return d});var e=t(3),a=t(54);let o=Symbol();function l(c,u=!0){return Object.assign(c,{[o]:u})}function d(...c){let u=Object(e.useRef)(c);Object(e.useEffect)(()=>{u.current=c},[c]);let f=Object(a.a)(m=>{for(let p of u.current)p!=null&&(typeof p=="function"?p(m):p.current=m)});return c.every(m=>m==null||(m==null?void 0:m[o]))?void 0:f}},,function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"NoteForwardIcon",svgParams:{height:24,width:24,stroke:s.stroke,strokeWidth:s.strokeWidth}}),Object(e.h)("path",{d:"M21 3V8M21 8H16M21 8L18 5.29962C16.7056 4.14183 15.1038 3.38328 13.3879 3.11547C11.6719 2.84766 9.9152 3.08203 8.32951 3.79031C6.74382 4.49858 5.39691 5.65051 4.45125 7.10715C3.5056 8.5638 3.00158 10.2629 3 11.9996M3 21V16M3 16H8M3 16L6 18.7C7.29445 19.8578 8.89623 20.6163 10.6121 20.8841C12.3281 21.152 14.0848 20.9176 15.6705 20.2093C17.2562 19.501 18.6031 18.3491 19.5487 16.8925C20.4944 15.4358 20.9984 13.7367 21 12","stroke-linecap":"round","stroke-linejoin":"round"}));n.default=O},function(k,n){k.exports=t=>(t||"").replace(/&#(\d+);/g,(e,a)=>String.fromCharCode(a))},,,function(k,n,t){"use strict";t.d(n,"c",function(){return j}),t.d(n,"e",function(){return y}),t.d(n,"d",function(){return b}),t.d(n,"b",function(){return E}),t.d(n,"a",function(){return P});var e=t(0),a=t(5),o=t.n(a),l=t(17),d=t.n(l),c=t(2),u=t(8),f=t(48),m=t(37),p=t(24),g=Object.defineProperty,O=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,i=(A,_,M)=>_ in A?g(A,_,{enumerable:!0,configurable:!0,writable:!0,value:M}):A[_]=M,h=(A,_)=>{for(var M in _||(_={}))s.call(_,M)&&i(A,M,_[M]);if(O)for(var M of O(_))r.call(_,M)&&i(A,M,_[M]);return A},v=(A,_)=>{var M={};for(var F in A)s.call(A,F)&&_.indexOf(F)<0&&(M[F]=A[F]);if(A!=null&&O)for(var F of O(A))_.indexOf(F)<0&&r.call(A,F)&&(M[F]=A[F]);return M};function j(A){var _=A,{showGutter:M=!1,hasAvatar:F=!0,hasContext:H=!1,onClick:C}=_,T=v(_,["showGutter","hasAvatar","hasContext","onClick"]);const S=C?D=>{const{target:w}=D;w instanceof Element&&w.closest("button, a")||D.defaultPrevented||C(D)}:void 0;return Object(e.h)(c.b,h({className:o()(p.a.feedUnit,M?p.a.showThreadGutter:void 0,H?p.a.hasContext:void 0,C&&p.a.hasAction,F?p.a.hasAvatar:void 0),gap:4,onClick:S},T))}function y({timestamp:A}){return Object(e.h)(u.a,{color:"secondary"},A&&d()(A).fromNowShort())}function b({children:A}){return Object(e.h)(u.b.B3,null,Object(e.h)(c.a,{flex:"grow",minWidth:0},Object(e.h)(c.a,{gap:8,alignItems:"center",flex:"grow"},A)))}function E({user:A}){const _=Object(m.a)();return Object(e.h)(f.a,{size:_?40:48,user:A})}function P({large:A,children:_}){return Object(e.h)(u.b.B3,{className:p.a.feedCommentBodyInner,size:A?20:16,lineHeight:A?30:24,color:"primary"},_)}},function(k,n){k.exports={substack_color:"#FF6719",subscriber_green:"#318631",lifetime_lavender:"#792BA9",comped_salmon:"#E07F69",gifted_ocean:"#8BD1E0",free_trial_yellow:"#F7ED92",new_paid_cerulean:"#39a5f7",upgrades_teal:"#008080",downgrades_red:"#E06666",expirations_orange:"#FFB347",chart_line_color:"#444444",chart_grid_color:"#F4F4F4",chart_axis_label_color:"#AAAAAA",share_button_size_px:18,tweet_icon_size_px:48}},function(k,n,t){"use strict";t.d(n,"e",function(){return je}),t.d(n,"c",function(){return sn}),t.d(n,"b",function(){return ht}),t.d(n,"a",function(){return At}),t.d(n,"d",function(){return jt}),t.d(n,"f",function(){return Rt});var e=t(0),a=t(1),o=t(22),l=t(5),d=t.n(l),c=t(105),u=t.n(c),f=t(193),m=t(835),p=t(830),g=t(839),O=t(541),s=t(859),r=t(860),i=t(67),h=t(251),v=t(779),j=t.n(v);function y(Bt){return j()(Bt).length}var b=t(363),E=t(252),P=t(15),A=t(481),_=t(151),M=t(35),F=t(25),H=t(148),C=t(220),T=t(281),S=t(375),D=t(88),w=t(504);function U({onAddFiles:Bt}){const Kt=Object(a.k)(),Sn=Object(a.k)(),[Qn,rr]=Object(a.l)(!1),Mr=_r=>{_r instanceof DragEvent&&!_r.defaultPrevented&&_r.dataTransfer&&Object(w.a)(_r.dataTransfer)&&(_r.preventDefault(),Bt(Array.from(_r.dataTransfer.files)),rr(!1))},zr=_r=>{const{current:ro}=Kt,{target:Dn}=_r;!Qn&&ro&&Dn&&Dn instanceof HTMLDivElement&&(ro===Dn||ro.contains(Dn))&&_r.dataTransfer&&Object(w.a)(_r.dataTransfer)&&(_r.preventDefault(),Sn.current=Dn,rr(!0))},dr=_r=>{Sn.current&&_r.preventDefault()},Rr=_r=>{const{current:ro}=Sn;ro&&_r.relatedTarget!==ro&&!ro.contains(_r.relatedTarget)&&(Sn.current=void 0,rr(!1))};return{isDragging:Qn,props:{onDragEnter:zr,onDragOver:dr,onDragLeave:Rr,onDragEnd:Rr,onDrop:Mr,ref:Kt}}}var V=t(221),K=t(61),Y=t(18),W=t(9),R=t(14),B=t(99),x=t(2),G=t(23),Q=t(32),he=t(8),Z=t(26);const le=({error:Bt})=>{const Kt=Object(W.getNetworkErrorBody)(Bt);return(Kt==null?void 0:Kt.html)?Object(e.h)(he.b.B4,{weight:"medium",color:"error",dangerouslySetInnerHTML:{__html:Kt.html}}):Object(e.h)(he.b.B4,{weight:"medium",color:"error"},(Kt==null?void 0:Kt.msg)||"Something went wrong")};var de=t(77),be=t(48),X=t(60),ie=t(111),Ce=Object.defineProperty,Le=Object.defineProperties,Ae=Object.getOwnPropertyDescriptors,Pe=Object.getOwnPropertySymbols,Ne=Object.prototype.hasOwnProperty,ce=Object.prototype.propertyIsEnumerable,q=(Bt,Kt,Sn)=>Kt in Bt?Ce(Bt,Kt,{enumerable:!0,configurable:!0,writable:!0,value:Sn}):Bt[Kt]=Sn,te=(Bt,Kt)=>{for(var Sn in Kt||(Kt={}))Ne.call(Kt,Sn)&&q(Bt,Sn,Kt[Sn]);if(Pe)for(var Sn of Pe(Kt))ce.call(Kt,Sn)&&q(Bt,Sn,Kt[Sn]);return Bt},ue=(Bt,Kt)=>Le(Bt,Ae(Kt));function We(Bt){return Object(e.h)(ie.a,ue(te({},Bt),{module:"./TextEditor",resolve:Kt=>Kt.TextEditor,onRequest:()=>Promise.all([t.e(2),t.e(20)]).then(t.bind(null,1955))}))}var ot=t(91),ze=t(37),vt=t(159),Wt=t(79),zt=t(24),at=t(92),Me=Object.defineProperty,Be=Object.defineProperties,Xe=Object.getOwnPropertyDescriptors,Te=Object.getOwnPropertySymbols,we=Object.prototype.hasOwnProperty,De=Object.prototype.propertyIsEnumerable,Ie=(Bt,Kt,Sn)=>Kt in Bt?Me(Bt,Kt,{enumerable:!0,configurable:!0,writable:!0,value:Sn}):Bt[Kt]=Sn,He=(Bt,Kt)=>{for(var Sn in Kt||(Kt={}))we.call(Kt,Sn)&&Ie(Bt,Sn,Kt[Sn]);if(Te)for(var Sn of Te(Kt))De.call(Kt,Sn)&&Ie(Bt,Sn,Kt[Sn]);return Bt},Ve=(Bt,Kt)=>Be(Bt,Xe(Kt)),z=(Bt,Kt)=>{var Sn={};for(var Qn in Bt)we.call(Bt,Qn)&&Kt.indexOf(Qn)<0&&(Sn[Qn]=Bt[Qn]);if(Bt!=null&&Te)for(var Qn of Te(Bt))Kt.indexOf(Qn)<0&&De.call(Bt,Qn)&&(Sn[Qn]=Bt[Qn]);return Sn},se=(Bt,Kt,Sn)=>new Promise((Qn,rr)=>{var Mr=Rr=>{try{dr(Sn.next(Rr))}catch(_r){rr(_r)}},zr=Rr=>{try{dr(Sn.throw(Rr))}catch(_r){rr(_r)}},dr=Rr=>Rr.done?Qn(Rr.value):Promise.resolve(Rr.value).then(Mr,zr);dr((Sn=Sn.apply(Bt,Kt)).next())});const Se="unsent_composer_content_v3",Oe=10,ge={content:null,attachments:[]};function je({editComment:Bt}={}){const Kt=Object(Y.f)({pathname:Bt?`/api/v1/feed/comment/${Bt.id}`:"/api/v1/comment/feed"});return{create:Sn=>se(this,[Sn],function*({bodyJson:Qn,parentPostId:rr,parentPubId:Mr,parent_id:zr,attachmentIds:dr,tabId:Rr,replyMinimumRole:_r}){return yield Kt.refetch({pathname:Bt?`/api/v1/feed/comment/${Bt.id}`:rr?`/api/v1/post/${rr}/comment`:"/api/v1/comment/feed",method:Bt?"PATCH":"POST",json:{bodyJson:Qn,parent_id:zr,publication_id:Mr,attachmentIds:dr,tabId:Rr,replyMinimumRole:_r}})}),error:Kt.error,isLoading:Kt.isLoading}}function it({onSuccess:Bt,onError:Kt,onClose:Sn,editComment:Qn,restackUrl:rr,parentPostId:Mr,parentPubId:zr,parentCommentId:dr,initialText:Rr,initialFiles:_r,tabId:ro}){var Dn,ut,fn,On,Ot,kt,Zt,Vn;const Gn=Object(F.c)(),tr=Object(ze.a)(),rn=Object(M.c)(),_n=nn(),Yn={postId:(Dn=Qn==null?void 0:Qn.post_id)!=null?Dn:Mr,commentId:(ut=Qn==null?void 0:Qn.id)!=null?ut:dr},cr=Qn?ge:ke(Yn),[Jt,cn]=Object(a.l)("everyone"),[bn,zn]=Object(a.l)((Ot=(On=(fn=Qn==null?void 0:Qn.body_json)!=null?fn:(Qn==null?void 0:Qn.body)?Object(E.a)(Qn.body,o.generateJSON):null)!=null?On:Rr?Object(E.a)(Rr,o.generateJSON):null)!=null?Ot:cr.content),Rn=bn?Object(o.generateText)(bn,h.a):"",[xn,mr]=Object(a.l)(_r?[]:((kt=Qn==null?void 0:Qn.attachments)!=null?kt:cr.attachments).filter(St=>St.type==="image").map(St=>{const Gt={url:St.imageUrl,attachment:St};return Gt.promise=Promise.resolve(Gt),Gt})),[Or,Lt]=Object(a.l)(!1),qt=Object(a.a)(St=>{zn(St)},[Yn.postId,Yn.commentId]),wn=i.MAX_FEED_COMMENT_LENGTH,$n=y(Rn),Wn=$n>wn,Jn=St=>{const Gt=St.filter(vn=>vn.type.startsWith("image/"));if((Gt==null?void 0:Gt.length)>0){const vn=[...Gt].map(kn=>{const or={file:kn,url:URL.createObjectURL(kn)};return or.promise=Object(W.getDataUrlFromFile)(kn).then(fr=>se(this,null,function*(){const er=yield Object(Y.c)("/api/v1/image",{method:"POST",json:{image:fr}}),Ln=yield Object(Y.c)("/api/v1/comment/attachment",{method:"POST",json:{url:er.url,type:"image"}});return Ve(He({},or),{attachment:Ln})})).catch(fr=>Ve(He({},or),{error:fr})).then(fr=>(mr(er=>er.map(Ln=>Ln===or?fr:Ln)),fr)),or});mr(kn=>[...kn,...vn])}};Object(a.d)(()=>{_r&&Jn(_r)},[_r]);const Tr=St=>{if(Or)return;const{files:Gt}=St.currentTarget;Jn(Array.from(Gt))},Qr=St=>{mr(Gt=>Gt.filter(vn=>vn!==St))},ao=((Zt=Qn==null?void 0:Qn.attachments)!=null?Zt:cr.attachments).find(St=>St.type!=="missing"&&St.type!=="image"),oo=Object(Y.f)({pathname:"/api/v1/comment/attachment",method:"POST",initialResult:ao,deps:[]}),eo=rr!=null?rr:(Vn=Object(b.a)(Rn))==null?void 0:Vn.href,bo=Object(a.i)(()=>{let St=null,Gt=ao?Promise.resolve(ao):null;return vn=>(vn!==St&&(St=vn,vn&&(Gt=oo.refetch({json:{url:vn,type:"link"}}))),Gt)},[]),zo=Object(a.i)(()=>u()(bo,500),[bo]);Object(a.d)(()=>{(!Qn||!oo.result)&&zo(eo!=null?eo:null)},[eo]);const Eo=oo.result;Object(a.d)(()=>{const St=[];for(const Gt of xn)Gt.attachment&&St.push(Gt.attachment);Eo&&St.push(Eo),tn({content:bn,attachments:St},Yn)},[bn,xn,Eo]);const Co=Object(Z.e)(),{create:Mo,isLoading:ft,error:qe}=je({editComment:Qn}),rt=dr||Mr,mt=Or||Wn||ft||!(Rn||xn.length>0||Eo),un=()=>se(this,null,function*(){if(mt)return;Lt(!0);const St=!oo.result&&!oo.isLoading?null:yield bo(eo!=null?eo:null),Gt=St instanceof Error?null:St,vn=yield Promise.all(xn.map(fr=>fr.promise)),kn=[];for(const fr of vn)if(fr){const{attachment:er}=fr;er&&er.type!=="missing"&&kn.push(er.id)}Gt&&Gt.type!=="missing"&&kn.push(Gt.id);const or=yield Mo({bodyJson:bn,parentPostId:Mr,parentPubId:zr,parent_id:dr,attachmentIds:kn.length>0?kn:void 0,tabId:ro,replyMinimumRole:Jt});or instanceof Error?(Co.popToast(fr=>Object(e.h)(Z.c,Ve(He({},fr),{text:"Failed to share"}))),console.error(or),Kt&&Kt(or)):(tn(null,Yn),Co.popToast(fr=>Object(e.h)(Z.c,Ve(He({},fr),{text:Qn?"Note edited":rt?"Reply sent":rr?"Restacked":"Note sent",cta:"View",href:Object(P.getFeedCommentUrl)(or)}))),Bt(or)),Lt(!1)}),yn=St=>{St.preventDefault(),un()},An=St=>{St.stopPropagation(),Sn()},Je=U({onAddFiles:Jn});return Gn?Object(e.h)(Nt,{onClose:An,title:Qn?"Edit":rt?"Reply":rr?"Restack":"New note",postLabel:Qn?"Save":"Post",onSubmit:yn,disabled:mt,onImageChange:Tr,bodyProps:Je.props,menu:rn.getConfigFor("enable_paid_replies_ui")&&_n&&!dr&&!(Qn==null?void 0:Qn.ancestor_path)?Object(e.h)($t,{value:Jt,onChange:cn}):null},Object(e.h)(x.b,{flex:"grow"},dr&&Object(e.h)(Pn,{commentId:dr}),Object(e.h)(x.a,{gap:12},Object(e.h)(be.a,{size:tr?40:48,user:Gn}),Object(e.h)(We,{defaultValue:bn,placeholder:rt?"Leave a reply...":rr?"Write something...":"What's on your mind?",onChange:qt,onReturn:un,onEscape:Sn,isDragging:Je.isDragging,onDrop:Je.props.onDrop,onAddFiles:Jn,disabled:Or})),Object(e.h)(x.c,{gap:8,wrap:"wrap"},xn.map(St=>Object(e.h)(x.a,{className:at.a.imageContainer,key:St.url},Object(e.h)("img",{className:at.a.image,src:St.url}),Object(e.h)(R.c,{className:at.a.removeImage,size:32,priority:"media",onClick:()=>Qr(St)},Object(e.h)(f.a,{size:20})))))),(Wn||qe)&&Object(e.h)(x.c,{direction:"row-reverse",justifyContent:"space-between",paddingY:16},Wn&&Object(e.h)(he.b.Meta,{color:Wn?"error":void 0},wn-$n),qe&&Object(e.h)(le,{error:qe})),(Eo||oo.isLoading)&&Object(e.h)(x.b,{className:at.a.attachmentContainer},Eo?Object(e.h)(e.Fragment,null,Object(e.h)(H.a,{attachments:[Eo],readOnly:!0}),Object(e.h)(R.c,{className:at.a.removeImage,size:32,priority:"media",onClick:()=>oo.setResult(null)},Object(e.h)(f.a,{size:20}))):Object(e.h)(H.a,{attachments:[{id:"",type:"link",linkMetadata:{title:" ",description:" ",host:" "}}],readOnly:!0}))):null}function Tt(Bt){var Kt=Bt,{isOpen:Sn}=Kt,Qn=z(Kt,["isOpen"]);return Object(e.h)(Q.a,{className:at.a.composerModal,isOpen:Sn,onClose:Qn.onClose,fullscreenMobile:!0,disableCloseOnBackdropClick:!0},Object(e.h)(it,He({},Qn)))}function sn({disabled:Bt,parentPubId:Kt,parentPostId:Sn,parentCommentId:Qn,placeholder:rr,tabId:Mr}){const zr=jt(),dr=Object(F.c)(),Rr=Object(ze.a)(),{requireLogin:_r}=Object(ot.b)(),ro=()=>{Bt||(dr?zr.open({parentPubId:Kt,parentPostId:Sn,parentCommentId:Qn,tabId:Mr}):_r==null||_r())},Dn=U({onAddFiles:ut=>{zr.open({parentPubId:Kt,parentPostId:Sn,parentCommentId:Qn,initialFiles:ut,tabId:Mr})}});return Object(e.h)(x.b,He({},Dn.props),Object(e.h)(x.c,{gap:12,alignItems:"center",className:d()(at.a.inlineComposer,{[at.a.disabled]:Bt})},dr?Object(e.h)(x.a,{as:"a",flex:"auto",href:Object(P.getReaderProfileUrl)(dr,{noBase:!0})},Object(e.h)(be.a,{size:Rr?40:48,user:dr})):Object(e.h)(x.a,{flex:"auto"},Object(e.h)(be.a,{size:Rr?40:48})),Object(e.h)(R.d,{className:d()(at.a.inlineComposerButton,{[at.a.mobile]:Rr,[at.a.disabled]:Bt,[at.a.isDropping]:Dn.isDragging}),onClick:ro,disabled:Bt,resetCss:!0},Object(e.h)(he.b.B3,{size:Rr?14:16,align:"left",color:"secondary"},!Bt&&rr?rr:"What's on your mind?")),!Rr&&Object(e.h)(R.a,{disabled:!0,rounded:!0},"Post")))}function ht(){const Bt=jt(),Kt=Object(F.c)(),Sn=()=>{Bt.open({})};return Kt?Object(e.h)(R.c,{className:at.a.floatingComposer,priority:"primary",fill:"filled",size:56,onClick:Sn,shadow:"medium"},Object(e.h)(m.a,{size:24})):null}function Nt({title:Bt,postLabel:Kt,disabled:Sn,onImageChange:Qn,onSubmit:rr,onClose:Mr,children:zr,menu:dr,bodyProps:Rr}){const _r=Object(ze.a)();return Object(e.h)(S.a,null,Object(e.h)(x.b,{className:at.a.modalColumn},Object(e.h)(x.c,{borderBottom:"detail",alignItems:"center",paddingY:12,paddingX:16,justifyContent:"space-between"},Object(e.h)(x.a,{alignItems:"center",gap:8},_r&&Object(e.h)(R.c,{size:40,"aria-label":"Back",onClick:Mr},Object(e.h)(p.a,{size:20})),Object(e.h)(he.b.H3,null,Bt)),_r?Object(e.h)(R.a,{rounded:!0,disabled:Sn,onClick:rr},"Post"):Object(e.h)(R.c,{size:40,"aria-label":"Close",onClick:Mr},Object(e.h)(f.a,{size:20,"aria-hidden":"true"}))),Object(e.h)(x.b,He({padding:16,style:{flex:"1 1 auto",flexDirection:"column-reverse"},gap:12,overflowY:"auto"},Rr),Object(e.h)(x.b,null,zr)),dr&&Object(e.h)(x.a,{padding:16},dr),_r?Object(e.h)(x.b,{paddingX:16,style:{flex:"0 0 auto"},minHeight:0},Object(e.h)(x.c,{alignItems:"start",justifyContent:"start",paddingX:4,paddingY:12,borderTop:"detail",sizing:"border-box"},Qn&&Object(e.h)(wt,{onChange:Qn}))):Object(e.h)(x.c,{borderTop:"detail",padding:16,justifyContent:"space-between"},Qn&&Object(e.h)(wt,{onChange:Qn}),Object(e.h)(R.a,{rounded:!0,disabled:Sn,onClick:rr},Kt))))}function wt({onChange:Bt}){const Kt=Object(a.k)(),Sn=()=>{var rr;(rr=Kt.current)==null||rr.click()},Qn=rr=>{Bt(rr),Kt.current.value=""};return Object(e.h)(R.c,{onClick:Sn},Object(e.h)(g.a,{size:20}),Object(e.h)("input",{type:"file",accept:"image/*",multiple:!0,onChange:Qn,ref:Kt,style:{display:"none"}}))}const yt={isOpen:!1,firstComment:void 0},Qe=Object(e.createContext)({state:yt,open:()=>se(void 0,null,function*(){throw new Error("Not implemented")})});function At({children:Bt}){var Kt,Sn,Qn;const rr=Object(F.c)(),Mr=!(rr==null?void 0:rr.name),zr=Object(X.f)(),[dr,Rr]=Object(a.l)(yt),{feedItem:_r}=dr,ro=Rt(_r),Dn=(Sn=(Kt=_r==null?void 0:_r.parentComments)==null?void 0:Kt[0])!=null?Sn:_r==null?void 0:_r.comment,ut=Object(a.i)(()=>({state:dr,open:Ot=>new Promise((kt,Zt)=>{Rr(Ve(He({},Ot),{isOpen:!0,resolve:kt,reject:Zt}))})}),[dr]),fn=()=>{var Ot,kt;(kt=(Ot=document.activeElement)==null?void 0:Ot.blur)==null||kt.call(Ot),Rr({isOpen:!1})},On=!1;return Object(e.h)(Qe.Provider,{value:ut},Bt,Mr?Object(e.h)(lt,{isOpen:dr.isOpen,onClose:fn,onSuccess:()=>Rr(Ve(He({},dr),{isOpen:!0}))}):On?Object(e.h)(Q.a,{isOpen:dr.isOpen,onClose:fn,width:316},Object(e.h)(Mt,{onClose:fn})):ro?Object(e.h)(Q.a,{isOpen:dr.isOpen,onClose:fn,width:316},Object(e.h)(ln,{onClose:fn,requirement:ro,writerId:(Qn=Dn==null?void 0:Dn.user_id)!=null?Qn:0})):Object(e.h)(Tt,Ve(He({},dr),{isOpen:dr.isOpen,onClose:fn,onSuccess:Ot=>{var kt,Zt;Ot.isFirstFeedCommentByUser?Rr(Ve(He({},dr),{firstComment:Ot})):fn(),zr({type:dr.editComment?"edit_comment":"new_comment",payload:{comment:Ot}}),(kt=dr.onCompose)==null||kt.call(dr,Ot),(Zt=dr.resolve)==null||Zt.call(dr,Ot)},onError:dr.reject})),Object(e.h)(Q.a,{isOpen:dr.isOpen&&!!dr.firstComment},Object(e.h)(T.b,{onClose:fn,comment:dr.firstComment})))}function jt(){return Object(a.b)(Qe)}function ke({postId:Bt,commentId:Kt}={}){var Sn,Qn,rr;const Mr=Kt?`c:${Kt}`:Bt?`p:${Bt}`:"default";return(rr=(Qn=((Sn=Object(K.getStoredValue)(Se))!=null?Sn:[]).find(([dr])=>dr===Mr))==null?void 0:Qn[1])!=null?rr:ge}function tn(Bt,{postId:Kt,commentId:Sn}={}){var Qn;const rr=Sn?`c:${Sn}`:Kt?`p:${Kt}`:"default",Mr=(Qn=Object(K.getStoredValue)(Se))!=null?Qn:[],zr=Mr.findIndex(([dr])=>dr===rr);zr>=0&&Mr.splice(zr,1),Bt&&(Mr.unshift([rr,Bt]),Mr.splice(Oe)),Object(K.setStoredValue)(Se,Mr)}function Pn({commentId:Bt}){const{result:Kt,isLoading:Sn,error:Qn}=Object(Y.f)({pathname:`/api/v1/reader/comment/${Bt}`,deps:[Bt],auto:!0});return Kt?Object(e.h)(Ft,{comment:Kt.item.comment,parentComments:Kt.item.parentComments}):null}function Ft({comment:Bt,parentComments:Kt}){const{truncatedBodyJson:Sn}=Object(V.a)(Bt),Qn=Kt[Kt.length-1];return Object(e.h)(x.a,{className:zt.a.replyUnit,gap:12,paddingBottom:40},Object(e.h)(D.b,{user:Bt}),Object(e.h)(x.b,{minWidth:0,gap:16},Object(e.h)(x.b,null,Object(e.h)(D.d,null,Object(e.h)(he.a,{weight:"medium"},Bt.name),Object(e.h)(de.b,{tier:Bt.user_bestseller_tier}),Object(e.h)(D.e,{timestamp:Bt.date})),Qn&&Object(e.h)(he.b.Detail,null,"Replying to ",Qn.name),Object(e.h)(D.a,null,Sn&&Object(e.h)(C.a,{content:Sn}))),Bt.attachments&&Object(e.h)(H.a,{readOnly:!0,attachments:Bt.attachments})))}function lt({isOpen:Bt,onClose:Kt,onSuccess:Sn}){const Qn=Object(F.d)();return Object(e.h)(Q.a,{isOpen:Bt,onClose:Kt,fullscreenMobile:!0},Object(e.h)(Q.d,{title:"First, set up your profile",description:"Introduce yourself by adding a name, bio, and photo to your profile.",includeClose:!0,onClose:Kt}),Object(e.h)(_.b,{className:at.a.setupProfileModalContent,pageTitle:"",user:Qn.user,optionalPhoto:!0,noSubscribeCta:!0,complete:!0,onSuccess:rr=>{Qn.setUser(rr.body),Sn()}}))}function Rt(Bt){var Kt,Sn;const Qn=(Sn=(Kt=Bt==null?void 0:Bt.parentComments)==null?void 0:Kt[0])!=null?Sn:Bt==null?void 0:Bt.comment,{user_id:rr,reply_minimum_role:Mr}=Qn!=null?Qn:{},zr=Object(F.c)(),dr=Object(vt.b)(rr!=null?rr:0);if(!rr||!Mr||(Bt==null?void 0:Bt.canReply)||Qn&&zr&&Object(i.isRequirementException)(Qn,zr.id))return null;if(Mr){if(Mr==="free_subscriber"&&(!dr||!["free_subscription","subscribed"].includes(dr)))return"free_subscriber";if(Mr==="paid_subscriber"&&dr!=="subscribed")return"paid_subscriber"}return null}function ln({requirement:Bt,writerId:Kt,onClose:Sn}){var Qn;const rr=Object(F.c)(),{error:Mr,result:zr}=Object(Y.f)({pathname:`/api/v1/user/${Kt}/primary-publication`,deps:[Kt],auto:!0});return Object(e.h)(x.b,{padding:16},Object(e.h)(x.a,{justifyContent:"center",paddingTop:16,paddingBottom:20},Object(e.h)(O.a,{size:32,color:"var(--color-primary)"})),Object(e.h)(x.b,{gap:20},Object(e.h)(x.b,{gap:8,alignItems:"center"},Object(e.h)(he.b.H3,{align:"center"},Bt==="free_subscriber"?"Subscribers only":"Paid subscribers only"),zr&&Object(e.h)(he.b.B3,{color:"secondary",align:"center"},"To join the conversation, ",Bt==="free_subscriber"?"subscribe":"become a paying subscriber"," ","to ",(Qn=zr.name)!=null?Qn:"this publication",".")),Object(e.h)(x.b,{gap:8},zr&&Object(e.h)(R.a,{priority:"primary",rounded:!0,href:Object(P.getSubscribeUrl)(zr,{user:rr,addBase:!0,params:{utm_source:"feed-comment-reply-restriction"}})},"Subscribe"),Object(e.h)(R.a,{priority:"secondary",rounded:!0,onClick:Sn},"Cancel"))))}function Mt({onClose:Bt}){return Object(e.h)(x.b,{padding:16},Object(e.h)(x.b,{gap:20},Object(e.h)(x.b,{gap:8,alignItems:"center"},Object(e.h)(he.b.H3,{align:"center"},"Confirm your email address"),Object(e.h)(he.b.B3,{color:"secondary",align:"center"},"Please confirm your email address before using Notes.")),Object(e.h)(x.b,{gap:8},Object(e.h)(R.a,{priority:"primary",rounded:!0,onClick:Bt},"Ok"),Object(e.h)(R.a,{priority:"secondary",rounded:!0,href:"/settings"},"Resend confirmation email"))))}function $t({value:Bt,onChange:Kt}){return Object(e.h)(G.c,{layerOptions:{placement:"bottom-start"},trigger:Object(e.h)(R.a,{leftIcon:Bt==="everyone"?Object(e.h)(s.a,{size:20}):Bt==="free_subscriber"?Object(e.h)(r.a,{size:20}):Object(e.h)(A.default,{height:20}),priority:"secondary",fill:"empty",rounded:!0},Bt==="everyone"?"Everyone can reply":Bt==="free_subscriber"?"Only my subscribers can reply":"Only my paid subscribers can reply")},Object(e.h)(x.b,{paddingY:12,paddingX:8},Object(e.h)(he.b.B3,{weight:"semibold"},"Who can reply?"),Object(e.h)(he.b.B3,{color:"secondary"},"People you mention can always reply")),Object(e.h)(B.a,{paddingX:8,paddingBottom:4}),Object(e.h)(G.d,{icon:Object(e.h)(s.a,null),onClick:()=>Kt("everyone")},"Everyone"),Object(e.h)(G.d,{icon:Object(e.h)(A.default,null),onClick:()=>Kt("paid_subscriber")},"Only paid subscribers"))}function nn(){const Bt=Object(Wt.e)().result;if(!Bt)return!1;const{publicationUsers:Kt,publicationMap:Sn}=Bt;return Kt.some(Qn=>{var rr;return(rr=Sn.get(Qn.publication_id))==null?void 0:rr.plans})}},function(k,n,t){"use strict";t.d(n,"a",function(){return o}),t.d(n,"c",function(){return l}),t.d(n,"b",function(){return d});var e=t(0),a=t(1);const o=Object(e.createContext)({setChildOptions:()=>{},addRssFeed:()=>{},onboardingModalRef:{current:null},isLoading:!1,subscriptions:[],publicationUsers:[],onPageScroll:()=>{},setPinTitle:()=>{},setDrawer:()=>null,checkFocus:()=>!1,requireLogin:null});function l(c,{shouldShowGetAppPill:u=!0,style:f,alwaysPinTitle:m,backAction:p,onRefresh:g}={}){const O=d();return Object(a.h)(()=>{O.setChildOptions({title:c,style:f,alwaysPinTitle:m,backAction:p,shouldShowGetAppPill:u,onRefresh:g})},[O,c,f,p,u,g]),Object(a.h)(()=>{O.setPinTitle(!1)},[]),O}function d(){return Object(a.b)(o)}},function(k,n,t){"use strict";n.a={avatarLink:"frontend-reader2-NewPost-module__avatarLink--4qABb",inlineComposer:"frontend-reader2-NewPost-module__inlineComposer--3_sDn",disabled:"frontend-reader2-NewPost-module__disabled--1A0mF",shareImageButton:"frontend-reader2-NewPost-module__shareImageButton--1aFQs",inlineComposerButton:"frontend-reader2-NewPost-module__inlineComposerButton--CNcro",mobile:"frontend-reader2-NewPost-module__mobile--1n9Yo",isDropping:"frontend-reader2-NewPost-module__isDropping--I3rQl",floatingComposer:"frontend-reader2-NewPost-module__floatingComposer--1uxci",inputSpacer:"frontend-reader2-NewPost-module__inputSpacer--18hF8",wordCountIndicator:"frontend-reader2-NewPost-module__wordCountIndicator--1el0e",exceded:"frontend-reader2-NewPost-module__exceded--2a2wM",composerModal:"frontend-reader2-NewPost-module__composerModal--3hSk_",setupProfileModalContent:"frontend-reader2-NewPost-module__setupProfileModalContent--qf4Th",modalColumn:"frontend-reader2-NewPost-module__modalColumn--1BJMP",dropdownIcon:"frontend-reader2-NewPost-module__dropdownIcon--2OZFn",dropdownMenu:"frontend-reader2-NewPost-module__dropdownMenu--1H1uH",pubRow:"frontend-reader2-NewPost-module__pubRow--lNUy_",pubName:"frontend-reader2-NewPost-module__pubName--Te-mW",linkImage:"frontend-reader2-NewPost-module__linkImage--mf4aS",imageContainer:"frontend-reader2-NewPost-module__imageContainer--3983l",attachmentContainer:"frontend-reader2-NewPost-module__attachmentContainer--rE8YF",removeImage:"frontend-reader2-NewPost-module__removeImage--31VQW",removeAttachment:"frontend-reader2-NewPost-module__removeAttachment--3MxzN"}},function(k,n,t){"use strict";t.d(n,"a",function(){return e});function e(a){return e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(l){return l.__proto__||Object.getPrototypeOf(l)},e(a)}},function(k,n,t){"use strict";t.r(n),t.d(n,"AudioFeature",function(){return F}),t.d(n,"AudioFeatureDescription",function(){return H}),t.d(n,"ProgressBarTheme",function(){return C}),t.d(n,"ProgressBar",function(){return T}),t.d(n,"PlaybackRateToggle",function(){return D}),t.d(n,"PlayButton",function(){return w}),t.d(n,"PlayerControls",function(){return U}),t.d(n,"AudioEmbedPlayer",function(){return V}),t.d(n,"AudioEmbedPlayerStatic",function(){return K}),t.d(n,"VoiceoverPlayer",function(){return Y}),t.d(n,"VoiceoverPlayerStatic",function(){return W}),t.d(n,"AudioUploadErrorModal",function(){return R});var e=t(0),a=t(5),o=t.n(a),l=t(112),d=t(40),c=t(64),u=t(32),f=t(10),m=t(7),p=t(171),g=t(323),O=t(324),s=t(457),r=t(211),i=t(543),h={themedSelectOption:"frontend-components-audio-module__themedSelectOption--298hw",noUnderline:"frontend-components-audio-module__noUnderline--18Qgy",podcastPaywallMenuButton:"frontend-components-audio-module__podcastPaywallMenuButton--3VjHF",paywallMenuDropdown:"frontend-components-audio-module__paywallMenuDropdown--1iouo",paywallMenuDropdownItem:"frontend-components-audio-module__paywallMenuDropdownItem--M2K5v",paywallMenuDropdownIcon:"frontend-components-audio-module__paywallMenuDropdownIcon--2IcLQ",paywallMenuDropdownItemTop:"frontend-components-audio-module__paywallMenuDropdownItemTop--1ulJo",paywallMenuDropdownDeleteItem:"frontend-components-audio-module__paywallMenuDropdownDeleteItem--20sub"},v=Object.defineProperty,j=Object.defineProperties,y=Object.getOwnPropertyDescriptors,b=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,A=(B,x,G)=>x in B?v(B,x,{enumerable:!0,configurable:!0,writable:!0,value:G}):B[x]=G,_=(B,x)=>{for(var G in x||(x={}))E.call(x,G)&&A(B,G,x[G]);if(b)for(var G of b(x))P.call(x,G)&&A(B,G,x[G]);return B},M=(B,x)=>j(B,y(x)),F;(function(B){B.Embed="Embed audio",B.Voiceover="Add voiceover",B.Podcast="Podcast",B.PodcastPreview="Podcast free version"})(F||(F={}));var H;(function(B){B.Embed="Upload or record an audio file embedded into the text.",B.Voiceover="Upload or record a new voiceover: an audio version of your post.",B.Podcast="Create a new podcast episode by uploading or recording an audio file.",B.PodcastPreview="Upload a file that will appear to free users on the website and in their feeds."})(H||(H={}));var C;(function(B){B[B.PubAccent=0]="PubAccent",B[B.PubFull=1]="PubFull",B[B.Substack=2]="Substack"})(C||(C={}));const T=({containerRef:B,currentTime:x,remainingTime:G,progress:Q,onMouseDown:he,shouldCollapseOnMobile:Z=!1,theme:le=1})=>Object(e.h)("div",{className:"tw-flex tw-grow tw-items-center tw-gap-3 tw-font-meta tw-text-sm tw-text-pub-secondary-text sm:tw-gap-3"},Object(e.h)("div",{className:o()("tw-min-w-[40px] tw-text-right",{"tw-hidden sm:tw-block":Z})},x),Object(e.h)("div",{ref:B,className:o()("tw-relative tw-h-5 tw-grow ",{"tw-ml-2 sm:tw-ml-0":Z}),onMouseDown:he},Object(e.h)("div",{className:o()("audio-progress-bar tw-absolute tw-top-2 tw-right-0 tw-left-0 tw-h-1 tw-rounded",{"tw-bg-pub-detail":le===1,"tw-bg-substack-detail":le!==1})}),Object(e.h)("div",{className:o()("tw-absolute tw-top-2 tw-left-0 tw-h-1 tw-rounded-l-full",{"tw-bg-pub-accent":le!==2,"tw-bg-substack-accent":le===2}),style:{width:`${Q*100}%`}}),Object(e.h)("div",{className:o()("audio-playhead tw-absolute tw-ml-[-10px] tw-h-4 tw-w-4 tw-rounded-full tw-border-2 tw-border-solid ",{"tw-border-pub-background":le===1,"tw-border-substack-bg":le!==1,"tw-bg-substack-accent":le===2,"tw-bg-pub-accent":le!==2}),style:{left:`${Q*100}%`}})),Object(e.h)("div",{className:"tw-min-w-[40px]"},G)),S=[{value:1,display:"1"},{value:1.25,display:"1.25"},{value:1.5,display:"1.5"},{value:1.75,display:"1.75"},{value:2,display:"2"}],D=({onSetPlaybackRate:B,playbackRate:x,className:G})=>{const Q=S.findIndex(({value:he})=>he===x);return Object(e.h)("div",{onClick:()=>{const he=(Q+1)%S.length;B(S[he].value)},className:G},S[Q].display,"\xD7")},w=({togglePlayback:B,isPlaying:x,isDisabled:G=!1})=>Object(e.h)("div",{onClick:()=>{Object(m.i)(m.a.AUDIO_MODAL_PLAYPAUSE_CLICKED,{is_disabled:G}),G||B()},className:"tw-flex tw-justify-center tw-pb-8"},x?Object(e.h)("div",{className:"tw-flex tw-h-7 tw-w-6 tw-justify-between"},Object(e.h)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"}),Object(e.h)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"})):Object(e.h)(r.default,{className:o()("tw-relative tw-left-1",{"tw-cursor-pointer":!G,"tw-fill-pub-accent":!G,"tw-fill-substack-detail":G}),stroke:"none",height:28})),U=({isPlaying:B,onSkipBack:x,onSkipForward:G,onTogglePlayback:Q})=>Object(e.h)("div",{className:"tw-flex tw-items-center tw-justify-center tw-gap-4"},Object(e.h)("div",{onClick:x,role:"button",className:"tw-cursor-pointer"},Object(e.h)(g.default,{className:"tw-block tw-fill-pub-primary-text tw-transition-opacity sm:tw-opacity-70 sm:hover:tw-opacity-100"})),Object(e.h)("div",{className:o()("tw-relative tw-flex tw-h-16 tw-w-16 tw-cursor-pointer tw-items-center tw-justify-center tw-rounded-full tw-bg-pub-accent tw-transition-transform hover:tw-scale-105"),onClick:Q,role:"button"},B?Object(e.h)("div",{className:"tw-flex tw-h-6 tw-w-6 tw-justify-between"},Object(e.h)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent-inverse"}),Object(e.h)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent-inverse"})):Object(e.h)(r.default,{className:"tw-relative tw-left-0.5 tw-fill-pub-accent-inverse",stroke:"none",height:24})),Object(e.h)("div",{onClick:G,role:"button",className:"tw-cursor-pointer"},Object(e.h)(O.default,{className:"tw-block tw-fill-pub-primary-text tw-transition-opacity sm:tw-opacity-70 sm:hover:tw-opacity-100"}))),V=B=>Object(e.h)(p.a,M(_({},B),{metricsPost:B.post,feature:F.Embed,render:({currentTime:x,isPlaying:G,progress:Q,progressBarRef:he,progressBarOnMouseDown:Z,remainingTime:le,playbackRate:de,setPlaybackRate:be,togglePlayback:X})=>Object(e.h)("div",{"data-component-name":"AudioEmbedPlayer",className:"audio-embed tw-my-4 tw-box-border tw-flex tw-w-full tw-select-none tw-items-center tw-gap-4 tw-space-y-0 tw-rounded-full tw-bg-pub-wash tw-p-4 tw-font-sans sm:tw-gap-5"},Object(e.h)(D,{onSetPlaybackRate:be,playbackRate:de,className:"audio-button tw-w-12 tw-cursor-pointer tw-rounded-full tw-border tw-border-solid tw-border-pub-detail-light tw-py-1 tw-text-center tw-font-meta tw-text-sm tw-font-semibold tw-leading-none tw-text-pub-secondary-text hover:tw-border-pub-detail"}),Object(e.h)("div",{className:"tw-flex tw-w-full tw-flex-wrap"},B.label&&Object(e.h)("div",{className:"tw-basis-full tw-pb-2 tw-text-ssm tw-font-semibold tw-text-pub-primary-text"},B.label),Object(e.h)("div",{className:"tw-flex tw-w-full tw-items-center tw-justify-between tw-gap-2 sm:tw-gap-4"},Object(e.h)(T,{currentTime:x,remainingTime:le,containerRef:he,progress:Q,onMouseDown:Z}))),Object(e.h)("div",{className:"audio-embed-play-button tw-relative tw-flex tw-h-12 tw-w-12 tw-shrink-0 tw-cursor-pointer tw-items-center tw-justify-center tw-rounded-full tw-border-2 tw-border-solid tw-border-pub-detail tw-bg-pub-background tw-transition-transform hover:tw-scale-105",onClick:X,role:"button"},G?Object(e.h)("div",{className:"tw-flex tw-h-5 tw-w-5 tw-justify-between"},Object(e.h)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"}),Object(e.h)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"})):Object(e.h)(r.default,{className:"tw-relative tw-left-[.1rem] tw-fill-pub-accent ",stroke:"none",height:18})))})),K=({pub:B,post:x,duration:G,label:Q})=>{var he;return Object(e.h)("table",{"data-component-name":"AudioEmbedPlayerStatic",className:"tw-w-full tw-rounded-full tw-bg-substack-wash"},Object(e.h)("tr",null,Object(e.h)("td",{className:"tw-text-center tw-font-meta tw-text-ssm tw-uppercase tw-text-substack-primary"},Object(e.h)("a",{href:x.canonical_url,className:o()("tw-block tw-w-full tw-p-4 tw-text-substack-primary",h.noUnderline)},Object(e.h)(s.default,{className:"tw-w-max-4 tw-mr-2 tw-inline-block tw-w-4 tw-align-middle",stroke:(he=B.theme)==null?void 0:he.background_pop_color,isStatic:!0}),Object(e.h)("span",{className:"tw-align-middle"},Object(f.truncateText)(Q,10)||"Listen now"," \xB7 ",Object(f.secondsToHHMMSS)(G))))))},Y=B=>{const x=Object(l.useMediaQuery)({maxWidth:631}),G=`/api/v1/audio/upload/${B.mediaUploadId}/src`;return Object(e.h)(p.a,M(_({},B),{src:G,feature:F.Voiceover,metricsPost:B.post,render:({isPaywalled:Q,currentTime:he,isPlaying:Z,progress:le,progressBarRef:de,progressBarOnMouseDown:be,remainingTime:X,playbackRate:ie,setPlaybackRate:Ce,togglePlayback:Le})=>Object(e.h)("div",{className:"tw-mb-6 tw-flex sm:tw-gap-1"},Object(e.h)("div",{className:"tw-hidden tw-h-20 tw-shrink-0 tw-basis-20 tw-items-center tw-justify-center tw-rounded-md tw-bg-pub-wash tw-fill-pub-primary-text tw-text-pub-primary-text sm:tw-flex"},Object(e.h)(i.default,{className:"tw-stroke-pub-secondary-text"})),Object(e.h)("div",{className:"tw-box-border tw-flex tw-h-20 tw-w-full tw-select-none tw-items-center tw-gap-3 tw-space-y-0 tw-rounded-l-md tw-rounded-r-[64px] tw-bg-pub-wash  tw-p-4 tw-font-sans"},Q?Object(e.h)("div",{className:"tw-flex tw-w-full tw-flex-wrap tw-justify-center tw-text-ssm tw-text-pub-secondary-text sm:tw-text-sm"},"Upgrade to paid to play voiceover"):Object(e.h)("div",{className:"tw-flex tw-w-full tw-flex-wrap"},Object(e.h)("div",{className:"tw-basis-full tw-pb-2 tw-text-ssm tw-font-semibold tw-uppercase tw-text-pub-secondary-text"},"Article voiceover"),Object(e.h)("div",{className:"tw-flex tw-w-full tw-items-center tw-justify-between tw-gap-2 "},Object(e.h)(D,{onSetPlaybackRate:Ce,playbackRate:ie,className:"tw-w-12 tw-cursor-pointer tw-rounded-full tw-border tw-border-solid tw-border-pub-detail-light tw-py-1 tw-text-center tw-font-meta tw-text-sm tw-font-semibold tw-leading-none tw-text-pub-secondary-text hover:tw-border-pub-detail"}),Object(e.h)(T,{currentTime:he,remainingTime:X,containerRef:de,progress:le,onMouseDown:be,shouldCollapseOnMobile:!0}))),Q?Object(e.h)("div",{className:"tw-relative tw-flex tw-h-14 tw-w-14 tw-shrink-0 tw-cursor-not-allowed tw-items-center tw-justify-center tw-rounded-full tw-border-2 tw-border-solid tw-border-pub-detail tw-bg-pub-background tw-transition-transform"},Object(e.h)(r.default,{className:"tw-relative tw-left-[.15rem] tw-fill-pub-detail",stroke:"none",height:x?20:24})):Object(e.h)("div",{className:"tw-relative tw-flex tw-h-14 tw-w-14 tw-shrink-0 tw-cursor-pointer tw-items-center tw-justify-center tw-rounded-full tw-border-2 tw-border-solid  tw-border-pub-detail tw-bg-pub-background tw-transition-transform hover:tw-scale-105",onClick:Le,role:"button"},Z?Object(e.h)("div",{className:"tw-flex tw-h-5 tw-w-5 tw-justify-between"},Object(e.h)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"}),Object(e.h)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"})):Object(e.h)(r.default,{className:"tw-relative tw-left-[.15rem] tw-fill-pub-accent",stroke:"none",height:20}))))}))},W=({pub:B,post:x,isPaywalled:G})=>{var Q,he,Z;const le=G?"Upgrade to paid for post voiceover":`Listen to post ${((Q=x.voiceoverUpload)==null?void 0:Q.duration)&&`\xB7 ${Object(f.secondsToHHMMSS)(x.voiceoverUpload.duration)}`}`;return Object(e.h)("table",{className:"voiceover-player-static tw-w-full tw-rounded-full tw-bg-substack-wash"},Object(e.h)("tr",null,Object(e.h)("td",{className:"tw-text-center tw-font-meta tw-text-ssm tw-uppercase tw-text-substack-primary"},Object(e.h)("a",{href:`${d.Substitutions.PLAY_ON_SUBSTACK}&utm_source=substack&utm_medium=email#play`,className:o()("tw-block tw-w-full tw-p-4 tw-text-substack-primary",h.noUnderline)},Object(e.h)(s.default,{className:"tw-w-max-4 tw-mr-2 tw-inline-block tw-h-auto tw-w-4 tw-align-middle",stroke:G?(he=B.theme)==null?void 0:he.background_contrast_3:(Z=B.theme)==null?void 0:Z.background_pop_color,isStatic:!0}),Object(e.h)("span",{className:"voiceover-player-static-cta tw-align-middle"},le)))))},R=({isOpen:B,onDismiss:x,onDeleteAudio:G})=>Object(e.h)(u.a,{isOpen:B,onClose:x},Object(e.h)(u.d,{includeClose:!1,title:"Something went wrong..."}),Object(e.h)(u.b,null,"Unfortunately, there was a problem with your audio file upload. We'll investigate, but in the meantime, please try again, and we apologize for the inconvenience."),Object(e.h)(u.c,{includeDivider:!1,alignment:"default",primaryButton:Object(e.h)(c.a,{onClick:G,variant:"primary"},"Got it")}))},function(k,n){var t=Array.isArray;k.exports=t},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"CloseIcon",svgParams:{height:20,width:20,stroke:"#666666"}}),Object(e.h)("path",{d:"M15 5L5 15","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M5 5L15 15","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));n.default=O},function(k,n,t){(function(e,a){k.exports=a()})(this,function(){"use strict";var e="millisecond",a="second",o="minute",l="hour",d="day",c="week",u="month",f="quarter",m="year",p="date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,O=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,s={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},r=function(_,M,F){var H=String(_);return!H||H.length>=M?_:""+Array(M+1-H.length).join(F)+_},i={s:r,z:function(_){var M=-_.utcOffset(),F=Math.abs(M),H=Math.floor(F/60),C=F%60;return(M<=0?"+":"-")+r(H,2,"0")+":"+r(C,2,"0")},m:function _(M,F){if(M.date()<F.date())return-_(F,M);var H=12*(F.year()-M.year())+(F.month()-M.month()),C=M.clone().add(H,u),T=F-C<0,S=M.clone().add(H+(T?-1:1),u);return+(-(H+(F-C)/(T?C-S:S-C))||0)},a:function(_){return _<0?Math.ceil(_)||0:Math.floor(_)},p:function(_){return{M:u,y:m,w:c,d,D:p,h:l,m:o,s:a,ms:e,Q:f}[_]||String(_||"").toLowerCase().replace(/s$/,"")},u:function(_){return _===void 0}},h="en",v={};v[h]=s;var j=function(_){return _ instanceof P},y=function(_,M,F){var H;if(!_)return h;if(typeof _=="string")v[_]&&(H=_),M&&(v[_]=M,H=_);else{var C=_.name;v[C]=_,H=C}return!F&&H&&(h=H),H||!F&&h},b=function(_,M){if(j(_))return _.clone();var F=typeof M=="object"?M:{};return F.date=_,F.args=arguments,new P(F)},E=i;E.l=y,E.i=j,E.w=function(_,M){return b(_,{locale:M.$L,utc:M.$u,x:M.$x,$offset:M.$offset})};var P=function(){function _(F){this.$L=y(F.locale,null,!0),this.parse(F)}var M=_.prototype;return M.parse=function(F){this.$d=function(H){var C=H.date,T=H.utc;if(C===null)return new Date(NaN);if(E.u(C))return new Date;if(C instanceof Date)return new Date(C);if(typeof C=="string"&&!/Z$/i.test(C)){var S=C.match(g);if(S){var D=S[2]-1||0,w=(S[7]||"0").substring(0,3);return T?new Date(Date.UTC(S[1],D,S[3]||1,S[4]||0,S[5]||0,S[6]||0,w)):new Date(S[1],D,S[3]||1,S[4]||0,S[5]||0,S[6]||0,w)}}return new Date(C)}(F),this.$x=F.x||{},this.init()},M.init=function(){var F=this.$d;this.$y=F.getFullYear(),this.$M=F.getMonth(),this.$D=F.getDate(),this.$W=F.getDay(),this.$H=F.getHours(),this.$m=F.getMinutes(),this.$s=F.getSeconds(),this.$ms=F.getMilliseconds()},M.$utils=function(){return E},M.isValid=function(){return this.$d.toString()!=="Invalid Date"},M.isSame=function(F,H){var C=b(F);return this.startOf(H)<=C&&C<=this.endOf(H)},M.isAfter=function(F,H){return b(F)<this.startOf(H)},M.isBefore=function(F,H){return this.endOf(H)<b(F)},M.$g=function(F,H,C){return E.u(F)?this[H]:this.set(C,F)},M.unix=function(){return Math.floor(this.valueOf()/1e3)},M.valueOf=function(){return this.$d.getTime()},M.startOf=function(F,H){var C=this,T=!!E.u(H)||H,S=E.p(F),D=function(B,x){var G=E.w(C.$u?Date.UTC(C.$y,x,B):new Date(C.$y,x,B),C);return T?G:G.endOf(d)},w=function(B,x){return E.w(C.toDate()[B].apply(C.toDate("s"),(T?[0,0,0,0]:[23,59,59,999]).slice(x)),C)},U=this.$W,V=this.$M,K=this.$D,Y="set"+(this.$u?"UTC":"");switch(S){case m:return T?D(1,0):D(31,11);case u:return T?D(1,V):D(0,V+1);case c:var W=this.$locale().weekStart||0,R=(U<W?U+7:U)-W;return D(T?K-R:K+(6-R),V);case d:case p:return w(Y+"Hours",0);case l:return w(Y+"Minutes",1);case o:return w(Y+"Seconds",2);case a:return w(Y+"Milliseconds",3);default:return this.clone()}},M.endOf=function(F){return this.startOf(F,!1)},M.$set=function(F,H){var C,T=E.p(F),S="set"+(this.$u?"UTC":""),D=(C={},C[d]=S+"Date",C[p]=S+"Date",C[u]=S+"Month",C[m]=S+"FullYear",C[l]=S+"Hours",C[o]=S+"Minutes",C[a]=S+"Seconds",C[e]=S+"Milliseconds",C)[T],w=T===d?this.$D+(H-this.$W):H;if(T===u||T===m){var U=this.clone().set(p,1);U.$d[D](w),U.init(),this.$d=U.set(p,Math.min(this.$D,U.daysInMonth())).$d}else D&&this.$d[D](w);return this.init(),this},M.set=function(F,H){return this.clone().$set(F,H)},M.get=function(F){return this[E.p(F)]()},M.add=function(F,H){var C,T=this;F=Number(F);var S=E.p(H),D=function(V){var K=b(T);return E.w(K.date(K.date()+Math.round(V*F)),T)};if(S===u)return this.set(u,this.$M+F);if(S===m)return this.set(m,this.$y+F);if(S===d)return D(1);if(S===c)return D(7);var w=(C={},C[o]=6e4,C[l]=36e5,C[a]=1e3,C)[S]||1,U=this.$d.getTime()+F*w;return E.w(U,this)},M.subtract=function(F,H){return this.add(-1*F,H)},M.format=function(F){var H=this;if(!this.isValid())return"Invalid Date";var C=F||"YYYY-MM-DDTHH:mm:ssZ",T=E.z(this),S=this.$locale(),D=this.$H,w=this.$m,U=this.$M,V=S.weekdays,K=S.months,Y=function(x,G,Q,he){return x&&(x[G]||x(H,C))||Q[G].substr(0,he)},W=function(x){return E.s(D%12||12,x,"0")},R=S.meridiem||function(x,G,Q){var he=x<12?"AM":"PM";return Q?he.toLowerCase():he},B={YY:String(this.$y).slice(-2),YYYY:this.$y,M:U+1,MM:E.s(U+1,2,"0"),MMM:Y(S.monthsShort,U,K,3),MMMM:Y(K,U),D:this.$D,DD:E.s(this.$D,2,"0"),d:String(this.$W),dd:Y(S.weekdaysMin,this.$W,V,2),ddd:Y(S.weekdaysShort,this.$W,V,3),dddd:V[this.$W],H:String(D),HH:E.s(D,2,"0"),h:W(1),hh:W(2),a:R(D,w,!0),A:R(D,w,!1),m:String(w),mm:E.s(w,2,"0"),s:String(this.$s),ss:E.s(this.$s,2,"0"),SSS:E.s(this.$ms,3,"0"),Z:T};return C.replace(O,function(x,G){return G||B[x]||T.replace(":","")})},M.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},M.diff=function(F,H,C){var T,S=E.p(H),D=b(F),w=6e4*(D.utcOffset()-this.utcOffset()),U=this-D,V=E.m(this,D);return V=(T={},T[m]=V/12,T[u]=V,T[f]=V/3,T[c]=(U-w)/6048e5,T[d]=(U-w)/864e5,T[l]=U/36e5,T[o]=U/6e4,T[a]=U/1e3,T)[S]||U,C?V:E.a(V)},M.daysInMonth=function(){return this.endOf(u).$D},M.$locale=function(){return v[this.$L]},M.locale=function(F,H){if(!F)return this.$L;var C=this.clone(),T=y(F,H,!0);return T&&(C.$L=T),C},M.clone=function(){return E.w(this.$d,this)},M.toDate=function(){return new Date(this.valueOf())},M.toJSON=function(){return this.isValid()?this.toISOString():null},M.toISOString=function(){return this.$d.toISOString()},M.toString=function(){return this.$d.toUTCString()},_}(),A=P.prototype;return b.prototype=A,[["$ms",e],["$s",a],["$m",o],["$H",l],["$W",d],["$M",u],["$y",m],["$D",p]].forEach(function(_){A[_[1]]=function(M){return this.$g(M,_[0],_[1])}}),b.extend=function(_,M){return _.$i||(_(M,P,b),_.$i=!0),b},b.locale=y,b.isDayjs=j,b.unix=function(_){return b(1e3*_)},b.en=v[h],b.Ls=v,b.p={},b})},function(k,n,t){"use strict";t.d(n,"d",function(){return u}),t.d(n,"c",function(){return f}),t.d(n,"b",function(){return m}),t.d(n,"a",function(){return p});var e=t(236),a=t.n(e);const o="substack_ref_url",l="substack_ref";let d,c;typeof window!="undefined"&&window.location&&window.location.href&&(d=window.location.href,c=document.referrer,a.a.get(o)||(a.a.set(o,d),a.a.set(l,c)));const u=a.a.get(o),f=a.a.get(l),m=d,p=c},function(k,n,t){"use strict";t.d(n,"a",function(){return s});var e=t(0),a=t(5),o=t.n(a),l=t(2),d={divider:"frontend-pencraft-Divider-module__divider--B_Xw9","weight-1":"frontend-pencraft-Divider-module__weight-1--1al3S","weight-2":"frontend-pencraft-Divider-module__weight-2--1TjYf","priority_detail-themed":"frontend-pencraft-Divider-module__priority_detail-themed--faejz",priority_detail:"frontend-pencraft-Divider-module__priority_detail--2DkyT"},c=Object.defineProperty,u=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,p=(r,i,h)=>i in r?c(r,i,{enumerable:!0,configurable:!0,writable:!0,value:h}):r[i]=h,g=(r,i)=>{for(var h in i||(i={}))f.call(i,h)&&p(r,h,i[h]);if(u)for(var h of u(i))m.call(i,h)&&p(r,h,i[h]);return r},O=(r,i)=>{var h={};for(var v in r)f.call(r,v)&&i.indexOf(v)<0&&(h[v]=r[v]);if(r!=null&&u)for(var v of u(r))i.indexOf(v)<0&&m.call(r,v)&&(h[v]=r[v]);return h};const s=r=>{var i=r,{className:h,weight:v=1,priority:j="detail"}=i,y=O(i,["className","weight","priority"]);return Object(e.h)(l.a,g({className:o()(d.divider,h,d[`priority_${j}`],v&&d[`weight-${v}`])},y),Object(e.h)("hr",null))}},function(k,n,t){"use strict";t.d(n,"a",function(){return j}),t.d(n,"b",function(){return y});var e=t(0),a=t(3),o=t(5),l=t.n(o),d=t(31),c=t(41),u=Object.defineProperty,f=Object.defineProperties,m=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,s=(b,E,P)=>E in b?u(b,E,{enumerable:!0,configurable:!0,writable:!0,value:P}):b[E]=P,r=(b,E)=>{for(var P in E||(E={}))g.call(E,P)&&s(b,P,E[P]);if(p)for(var P of p(E))O.call(E,P)&&s(b,P,E[P]);return b},i=(b,E)=>f(b,m(E)),h=(b,E)=>{var P={};for(var A in b)g.call(b,A)&&E.indexOf(A)<0&&(P[A]=b[A]);if(b!=null&&p)for(var A of p(b))E.indexOf(A)<0&&O.call(b,A)&&(P[A]=b[A]);return P};const v=b=>{var E,P;return b?typeof b=="object"?[(E=b.desktop)!=null?E:null,(P=b.mobile)!=null?P:null]:[b,null]:[null,null]},j=Object(a.forwardRef)(function(E,P){var A=E,{display:_,as:M,className:F,direction:H,flex:C,inline:T,wrap:S,gap:D,padding:w,paddingX:U,paddingY:V,paddingTop:K,paddingBottom:Y,paddingLeft:W,paddingRight:R,justifyContent:B,alignItems:x,alignSelf:G,minWidth:Q,minHeight:he,style:Z,border:le,borderTop:de,borderBottom:be,borderLeft:X,borderRight:ie,borderY:Ce,radius:Le,shadow:Ae,bg:Pe,overflowY:Ne,overflowX:ce,sizing:q,ellipsis:te,pullX:ue,align:We,size:ot,weight:ze,color:vt,decoration:Wt,font:zt,fontStyle:at,isParagraph:Me,lineHeight:Be,transform:Xe,nowrap:Te,clamp:we}=A,De=h(A,["display","as","className","direction","flex","inline","wrap","gap","padding","paddingX","paddingY","paddingTop","paddingBottom","paddingLeft","paddingRight","justifyContent","alignItems","alignSelf","minWidth","minHeight","style","border","borderTop","borderBottom","borderLeft","borderRight","borderY","radius","shadow","bg","overflowY","overflowX","sizing","ellipsis","pullX","align","size","weight","color","decoration","font","fontStyle","isParagraph","lineHeight","transform","nowrap","clamp"]);const Ie=M!=null?M:"div",[He,Ve]=v(D),[z,se]=v(w),[Se,Oe]=v(U),[ge,je]=v(V),[it,Tt]=v(K),[sn,ht]=v(Y),[Nt,wt]=v(W),[yt,Qe]=v(R),[At,jt]=v(H),[ke,tn]=v(S),[Pn,Ft]=v(B),[lt,Rt]=v(x),[ln,Mt]=v(_);return Object(e.h)(Ie,r({ref:P,className:l()("pencraft",{[d.a.flexGrow]:C==="grow",[d.a.flexFill]:C==="fill",[d.a.flexAuto]:C==="auto"},d.a.reset,_!=null&&d.a[`display-${ln}`],T&&d.a["display-inline-flex"],At!=null&&d.a[`flex-direction-${At}`],ke!=null&&d.a[`flex-wrap-${ke}`],Pn!=null&&d.a[`flex-justify-${Pn}`],lt!=null&&d.a[`flex-align-${lt}`],G!=null&&d.a[`flex-align-self-${G}`],He!=null&&d.a[`flex-gap-${He}`],z!=null&&d.a[`padding-${z}`],Se!=null&&d.a[`padding-x-${Se}`],ge!=null&&d.a[`padding-y-${ge}`],it!=null&&d.a[`padding-top-${it}`],sn!=null&&d.a[`padding-bottom-${sn}`],Nt!=null&&d.a[`padding-left-${Nt}`],yt!=null&&d.a[`padding-right-${yt}`],jt!=null&&d.a[`flex-direction-mobile-${jt}`],tn!=null&&d.a[`flex-wrap-mobile-${tn}`],Ft!=null&&d.a[`flex-justify-mobile-${Ft}`],Ve!=null&&d.a[`flex-gap-mobile-${Ve}`],Rt!=null&&d.a[`flex-align-mobile-${Rt}`],se!=null&&d.a[`padding-mobile-${se}`],Oe!=null&&d.a[`padding-x-mobile-${Oe}`],je!=null&&d.a[`padding-y-mobile-${je}`],Tt!=null&&d.a[`padding-top-mobile-${Tt}`],ht!=null&&d.a[`padding-bottom-mobile-${ht}`],wt!=null&&d.a[`padding-left-mobile-${wt}`],Qe!=null&&d.a[`padding-right-mobile-${Qe}`],Mt!=null&&d.a[`display-mobile-${Mt}`],Q!=null&&d.a[`min-width-${Q}`],he!=null&&d.a[`min-height-${he}`],le&&d.a[`border-${le}`],de&&d.a[`border-top-${de}`],be&&d.a[`border-bottom-${be}`],X&&d.a[`border-left-${X}`],ie&&d.a[`border-right-${ie}`],Ce&&d.a[`border-y-${Ce}`],Le!=null&&d.a[`border-radius-${Le}`],Ae&&d.a[`shadow-${Ae}`],Pe!=null&&d.a[`bg-${Pe}`],Ne&&d.a[`overflowY-${Ne}`],ce&&d.a[`overflowX-${ce}`],q&&d.a[`sizing-${q}`],te&&d.a.ellipsis,ue&&d.a[`pullX-${ue}`],We&&c.a[`align-${We}`],ot&&c.a[`size-${ot}`],Be&&c.a[`line-height-${Be}`],ze&&c.a[`weight-${ze}`],zt&&c.a[`font-${zt}`],at&&c.a[`font-style-${at}`],vt&&c.a[`color-${vt}`],Xe&&c.a[`transform-${Xe}`],Te&&c.a.nowrap,we&&`${c.a.clamp} ${c.a[`clamp-${we}`]}`,Wt&&c.a[`decoration-${Wt}`],Me&&c.a.paragraph,F),style:Z},De))});function y(b){var E=b,{className:P,displayName:A}=E,_=h(E,["className","displayName"]);const M=F=>{var H=F,{className:C}=H,T=h(H,["className"]);return Object(e.h)(j,i(r(r({},_),T),{className:l()(P,C)}))};return M.displayName=A,M}},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(408);function a(o,l,d){return l=Object(e.a)(l),l in o?Object.defineProperty(o,l,{value:d,enumerable:!0,configurable:!0,writable:!0}):o[l]=d,o}},,function(k,n,t){"use strict";t.r(n),t.d(n,"MOBILE_USER_AGENT_PATTERN",function(){return e}),t.d(n,"MOBILE_USER_AGENT_FIRST_4_PATTERN",function(){return a}),t.d(n,"isMobile",function(){return o}),t.d(n,"isMobileUserAgent",function(){return l}),t.d(n,"getIosVersion",function(){return d}),t.d(n,"isIos",function(){return c}),t.d(n,"isAndroidUserAgent",function(){return f}),t.d(n,"isAndroid",function(){return m});const e=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,a=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i;function o(p={}){let g=typeof navigator!="undefined"?navigator.userAgent||navigator.vendor:void 0;return!g&&typeof window!="undefined"&&(g=window.opera),g?l(g,p):!1}function l(p,{checkFirst4:g}={}){return e.lastIndex=0,a.lastIndex=0,!!(e.test(p)||g&&a.test(p.substr(0,4)))}function d(){if(typeof navigator=="undefined")return null;const p=navigator.userAgent;if(!p.match(/iPad/i)&&!p.match(/iPhone/i))return null;const g=p.indexOf("OS ");return g===-1?null:parseInt(p.substr(g+3,3).replace("_","."))||null}function c(){return!!d()}const u=/Android/i;function f(p){return u.lastIndex=0,!!p&&u.test(p)}function m(){return typeof navigator=="undefined"?!1:f(navigator.userAgent)}},function(k,n,t){"use strict";t.d(n,"a",function(){return o});var e=t(3),a=t(72);function o(l){let d=Object(e.useRef)(l);return Object(a.a)(()=>{d.current=l},[l]),d}},function(k,n,t){var e=t(146),a=t(903),o=t(453),l="Expected a function",d=Math.max,c=Math.min;function u(f,m,p){var g,O,s,r,i,h,v=0,j=!1,y=!1,b=!0;if(typeof f!="function")throw new TypeError(l);m=o(m)||0,e(p)&&(j=!!p.leading,y="maxWait"in p,s=y?d(o(p.maxWait)||0,m):s,b="trailing"in p?!!p.trailing:b);function E(S){var D=g,w=O;return g=O=void 0,v=S,r=f.apply(w,D),r}function P(S){return v=S,i=setTimeout(M,m),j?E(S):r}function A(S){var D=S-h,w=S-v,U=m-D;return y?c(U,s-w):U}function _(S){var D=S-h,w=S-v;return h===void 0||D>=m||D<0||y&&w>=s}function M(){var S=a();if(_(S))return F(S);i=setTimeout(M,A(S))}function F(S){return i=void 0,b&&g?E(S):(g=O=void 0,r)}function H(){i!==void 0&&clearTimeout(i),v=0,g=h=O=i=void 0}function C(){return i===void 0?r:F(a())}function T(){var S=a(),D=_(S);if(g=arguments,O=this,h=S,D){if(i===void 0)return P(h);if(y)return clearTimeout(i),i=setTimeout(M,m),E(h)}return i===void 0&&(i=setTimeout(M,m)),r}return T.cancel=H,T.flush=C,T}k.exports=u},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(16);const a=document.location.origin===e.h},,function(k,n,t){var e=t(413),a=typeof self=="object"&&self&&self.Object===Object&&self,o=e||a||Function("return this")();k.exports=o},function(k,n,t){"use strict";n.a={mediaNodeView:"frontend-components-document_body-image3-Image3-module__mediaNodeView--3KD3P","align-left":"frontend-components-document_body-image3-Image3-module__align-left--1Ni29","align-center":"frontend-components-document_body-image3-Image3-module__align-center--2P38F","align-right":"frontend-components-document_body-image3-Image3-module__align-right--3av6h",staticView:"frontend-components-document_body-image3-Image3-module__staticView--3EEI4",staticImageWrap:"frontend-components-document_body-image3-Image3-module__staticImageWrap--EFsun",left:"frontend-components-document_body-image3-Image3-module__left--2f3H0",right:"frontend-components-document_body-image3-Image3-module__right--1iGYa",imageContainer:"frontend-components-document_body-image3-Image3-module__imageContainer--2jd8T",large:"frontend-components-document_body-image3-Image3-module__large--qEZPB",full:"frontend-components-document_body-image3-Image3-module__full--1nqBy",caption:"frontend-components-document_body-image3-Image3-module__caption--TcCkx",static:"frontend-components-document_body-image3-Image3-module__static--yhVfY",horizontalResizeHandle:"frontend-components-document_body-image3-Image3-module__horizontalResizeHandle--1NpYJ",mediaControlButtons:"frontend-components-document_body-image3-Image3-module__mediaControlButtons--1gSqJ",withCaption:"frontend-components-document_body-image3-Image3-module__withCaption--2_HZI",active:"frontend-components-document_body-image3-Image3-module__active--2QDUZ",captionEditor:"frontend-components-document_body-image3-Image3-module__captionEditor--1-VHb",captionContent:"frontend-components-document_body-image3-Image3-module__captionContent--1OyTK",zoom:"frontend-components-document_body-image3-Image3-module__zoom--1Ldou"}},function(k,n){n.cleanSlug=(t,{hashIfEmpty:e=!1,allowUnicode:a=!1}={})=>{const o=(t||"").toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/\s+/g,"-").replace(/&/g,"-and-").replace(a?/[^\p{L}-]+/gu:/[^\w-]+/g,"").replace(/-+/g,"-").replace(/^-|-$/g,"");return t&&typeof t=="string"&&!o&&e?Array.from(t).map(l=>l.codePointAt(0)).map(l=>l.toString(16)).join("").substring(0,12):o}},function(k,n,t){"use strict";t.d(n,"a",function(){return r}),t.d(n,"b",function(){return i});var e=t(0),a=t(18),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(b,E,P)=>E in b?o(b,E,{enumerable:!0,configurable:!0,writable:!0,value:P}):b[E]=P,p=(b,E)=>{for(var P in E||(E={}))u.call(E,P)&&m(b,P,E[P]);if(c)for(var P of c(E))f.call(E,P)&&m(b,P,E[P]);return b},g=(b,E)=>l(b,d(E)),O=(b,E)=>{var P={};for(var A in b)u.call(b,A)&&E.indexOf(A)<0&&(P[A]=b[A]);if(b!=null&&c)for(var A of c(b))E.indexOf(A)<0&&f.call(b,A)&&(P[A]=b[A]);return P},s=(b,E,P)=>new Promise((A,_)=>{var M=C=>{try{H(P.next(C))}catch(T){_(T)}},F=C=>{try{H(P.throw(C))}catch(T){_(T)}},H=C=>C.done?A(C.value):Promise.resolve(C.value).then(M,F);H((P=P.apply(b,E)).next())});function r(b){return Object(e.h)(h,g(p({},b),{key:b.module}))}function i({module:b,onRequest:E,fetchImmediately:P=!0}){const A=j.has(b),_=Object(a.h)(()=>y(b,E),[],{auto:P&&!A,initialResult:A?j.get(b):null});return _.error&&console.error(_.error),{error:_.error,isLoading:_.isLoading,result:_.result,fetch:_.refetch}}function h(b){var E=b,{onRequest:P,resolve:A,module:_,whileLoading:M}=E,F=O(E,["onRequest","resolve","module","whileLoading"]);const{error:H,isLoading:C,result:T}=i({module:_,onRequest:P});return Object(e.h)(e.Fragment,null,H?"Error":C||!T?M!=null?M:null:Object(e.h)(A(T),F))}function v(b){return Object(e.h)(r,g(p({},b),{resolve:E=>E.default}))}const j=new Map;function y(b,E){return s(this,null,function*(){let P=j.get(b);return P||(P=yield E(),j.set(b,P)),P})}},function(k,n,t){(function(e,a){k.exports=a(t(3))})(typeof self!="undefined"?self:this,function(e){return function(a){function o(d){if(l[d])return l[d].exports;var c=l[d]={i:d,l:!1,exports:{}};return a[d].call(c.exports,c,c.exports,o),c.l=!0,c.exports}var l={};return o.m=a,o.c=l,o.d=function(d,c,u){o.o(d,c)||Object.defineProperty(d,c,{configurable:!1,enumerable:!0,get:u})},o.n=function(d){var c=d&&d.__esModule?function(){return d.default}:function(){return d};return o.d(c,"a",c),c},o.o=function(d,c){return Object.prototype.hasOwnProperty.call(d,c)},o.p="",o(o.s=7)}([function(a,o,l){"use strict";function d(C,T){return p(C)||m(C,T)||u(C,T)||c()}function c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u(C,T){if(C){if(typeof C=="string")return f(C,T);var S=Object.prototype.toString.call(C).slice(8,-1);return S==="Object"&&C.constructor&&(S=C.constructor.name),S==="Map"||S==="Set"?Array.from(C):S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S)?f(C,T):void 0}}function f(C,T){(T==null||T>C.length)&&(T=C.length);for(var S=0,D=new Array(T);S<T;S++)D[S]=C[S];return D}function m(C,T){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(C)){var S=[],D=!0,w=!1,U=void 0;try{for(var V,K=C[Symbol.iterator]();!(D=(V=K.next()).done)&&(S.push(V.value),!T||S.length!==T);D=!0);}catch(Y){w=!0,U=Y}finally{try{D||K.return==null||K.return()}finally{if(w)throw U}}return S}}function p(C){if(Array.isArray(C))return C}var g=l(1),O=l.n(g),s=l(8),r=l.n(s),i=l(2),h=l(10),v=l.n(h),j=l(3),y=l(6),b=function(C){return C.query||Object(j.a)(C)},E=function(C){if(!C)return null;var T=Object.keys(C);return T.length===0?null:T.reduce(function(S,D){return S[Object(i.a)(D)]=C[D],S},{})},P=function(){var C=O.a.useRef(!1);return O.a.useEffect(function(){C.current=!0},[]),C.current},A=function(C){var T=O.a.useContext(y.a),S=function(){return E(C)||E(T)},D=O.a.useState(S),w=d(D,2),U=w[0],V=w[1];return O.a.useEffect(function(){var K=S();v()(U,K)||V(K)},[C,T]),U},_=function(C){var T=function(){return b(C)},S=O.a.useState(T),D=d(S,2),w=D[0],U=D[1];return O.a.useEffect(function(){var V=T();w!==V&&U(V)},[C]),w},M=function(C,T){var S=function(){return r()(C,T||{},!!T)},D=O.a.useState(S),w=d(D,2),U=w[0],V=w[1],K=P();return O.a.useEffect(function(){return K&&V(S()),function(){U.dispose()}},[C,T]),U},F=function(C){var T=O.a.useState(C.matches),S=d(T,2),D=S[0],w=S[1];return O.a.useEffect(function(){var U=function(){w(C.matches)};return C.addListener(U),U(),function(){C.removeListener(U)}},[C]),D},H=function(C,T,S){var D=A(T),w=_(C);if(!w)throw new Error("Invalid or missing MediaQuery!");var U=M(w,D),V=F(U),K=P();return O.a.useEffect(function(){K&&S&&S(V)},[V]),V};o.a=H},function(a,o){a.exports=e},function(a,o,l){"use strict";function d(p){return"-"+p.toLowerCase()}function c(p){if(m.hasOwnProperty(p))return m[p];var g=p.replace(u,d);return m[p]=f.test(g)?"-"+g:g}var u=/[A-Z]/g,f=/^ms-/,m={};o.a=c},function(a,o,l){"use strict";var d=l(2),c=l(11),u=function(g){return"not ".concat(g)},f=function(g,O){var s=Object(d.a)(g);return typeof O=="number"&&(O="".concat(O,"px")),O===!0?s:O===!1?u(s):"(".concat(s,": ").concat(O,")")},m=function(g){return g.join(" and ")},p=function(g){var O=[];return Object.keys(c.a.all).forEach(function(s){var r=g[s];r!=null&&O.push(f(s,r))}),m(O)};o.a=p},function(a,o,l){"use strict";a.exports=l(13)},function(a,o,l){"use strict";a.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(a,o,l){"use strict";var d=l(1),c=l.n(d),u=c.a.createContext();o.a=u},function(a,o,l){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var d=l(0),c=l(17),u=l(3),f=l(6);l.d(o,"default",function(){return c.a}),l.d(o,"useMediaQuery",function(){return d.a}),l.d(o,"toQuery",function(){return u.a}),l.d(o,"Context",function(){return f.a})},function(a,o,l){"use strict";function d(m,p,g){function O(j){v&&v.addListener(j)}function s(j){v&&v.removeListener(j)}function r(j){h.matches=j.matches,h.media=j.media}function i(){v&&v.removeListener(r)}var h=this;if(f&&!g){var v=f.call(window,m);this.matches=v.matches,this.media=v.media,v.addListener(r)}else this.matches=u(m,p),this.media=m;this.addListener=O,this.removeListener=s,this.dispose=i}function c(m,p,g){return new d(m,p,g)}var u=l(9).match,f=typeof window!="undefined"?window.matchMedia:null;a.exports=c},function(a,o,l){"use strict";function d(i,h){return c(i).some(function(v){var j=v.inverse,y=v.type==="all"||h.type===v.type;if(y&&j||!y&&!j)return!1;var b=v.expressions.every(function(E){var P=E.feature,A=E.modifier,_=E.value,M=h[P];if(!M)return!1;switch(P){case"orientation":case"scan":return M.toLowerCase()===_.toLowerCase();case"width":case"height":case"device-width":case"device-height":_=m(_),M=m(M);break;case"resolution":_=f(_),M=f(M);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":_=u(_),M=u(M);break;case"grid":case"color":case"color-index":case"monochrome":_=parseInt(_,10)||1,M=parseInt(M,10)||0}switch(A){case"min":return M>=_;case"max":return M<=_;default:return M===_}});return b&&!j||!b&&j})}function c(i){return i.split(",").map(function(h){h=h.trim();var v=h.match(p),j=v[1],y=v[2],b=v[3]||"",E={};return E.inverse=!!j&&j.toLowerCase()==="not",E.type=y?y.toLowerCase():"all",b=b.match(/\([^\)]+\)/g)||[],E.expressions=b.map(function(P){var A=P.match(g),_=A[1].toLowerCase().match(O);return{modifier:_[1],feature:_[2],value:A[2]}}),E})}function u(i){var h,v=Number(i);return v||(h=i.match(/^(\d+)\s*\/\s*(\d+)$/),v=h[1]/h[2]),v}function f(i){var h=parseFloat(i);switch(String(i).match(r)[1]){case"dpcm":return h/2.54;case"dppx":return 96*h;default:return h}}function m(i){var h=parseFloat(i);switch(String(i).match(s)[1]){case"em":case"rem":return 16*h;case"cm":return 96*h/2.54;case"mm":return 96*h/2.54/10;case"in":return 96*h;case"pt":return 72*h;case"pc":return 72*h/12;default:return h}}o.match=d,o.parse=c;var p=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,g=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,O=/^(?:(min|max)-)?(.+)/,s=/(em|rem|px|cm|mm|in|pt|pc)?$/,r=/(dpi|dpcm|dppx)?$/},function(a,o,l){"use strict";function d(c,u){if(c===u)return!0;if(!c||!u)return!1;var f=Object.keys(c),m=Object.keys(u),p=f.length;if(m.length!==p)return!1;for(var g=0;g<p;g++){var O=f[g];if(c[O]!==u[O]||!Object.prototype.hasOwnProperty.call(u,O))return!1}return!0}a.exports=d},function(a,o,l){"use strict";function d(i,h){var v=Object.keys(i);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(i);h&&(j=j.filter(function(y){return Object.getOwnPropertyDescriptor(i,y).enumerable})),v.push.apply(v,j)}return v}function c(i){for(var h=1;h<arguments.length;h++){var v=arguments[h]!=null?arguments[h]:{};h%2?d(Object(v),!0).forEach(function(j){u(i,j,v[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(v)):d(Object(v)).forEach(function(j){Object.defineProperty(i,j,Object.getOwnPropertyDescriptor(v,j))})}return i}function u(i,h,v){return h in i?Object.defineProperty(i,h,{value:v,enumerable:!0,configurable:!0,writable:!0}):i[h]=v,i}var f=l(12),m=l.n(f),p=m.a.oneOfType([m.a.string,m.a.number]),g={orientation:m.a.oneOf(["portrait","landscape"]),scan:m.a.oneOf(["progressive","interlace"]),aspectRatio:m.a.string,deviceAspectRatio:m.a.string,height:p,deviceHeight:p,width:p,deviceWidth:p,color:m.a.bool,colorIndex:m.a.bool,monochrome:m.a.bool,resolution:p},O=c({minAspectRatio:m.a.string,maxAspectRatio:m.a.string,minDeviceAspectRatio:m.a.string,maxDeviceAspectRatio:m.a.string,minHeight:p,maxHeight:p,minDeviceHeight:p,maxDeviceHeight:p,minWidth:p,maxWidth:p,minDeviceWidth:p,maxDeviceWidth:p,minColor:m.a.number,maxColor:m.a.number,minColorIndex:m.a.number,maxColorIndex:m.a.number,minMonochrome:m.a.number,maxMonochrome:m.a.number,minResolution:p,maxResolution:p},g),s={all:m.a.bool,grid:m.a.bool,aural:m.a.bool,braille:m.a.bool,handheld:m.a.bool,print:m.a.bool,projection:m.a.bool,screen:m.a.bool,tty:m.a.bool,tv:m.a.bool,embossed:m.a.bool},r=c(c({},s),O);g.type=Object.keys(s),o.a={all:r,types:s,matchers:g,features:O}},function(a,o,l){var d=l(4);a.exports=l(14)(d.isElement,!0)},function(a,o,l){"use strict";(function(){function d(Pe){return typeof Pe=="string"||typeof Pe=="function"||Pe===A||Pe===T||Pe===M||Pe===_||Pe===D||Pe===w||typeof Pe=="object"&&Pe!==null&&(Pe.$$typeof===V||Pe.$$typeof===U||Pe.$$typeof===F||Pe.$$typeof===H||Pe.$$typeof===S||Pe.$$typeof===Y||Pe.$$typeof===W||Pe.$$typeof===R||Pe.$$typeof===K)}function c(Pe){if(typeof Pe=="object"&&Pe!==null){var Ne=Pe.$$typeof;switch(Ne){case E:var ce=Pe.type;switch(ce){case C:case T:case A:case M:case _:case D:return ce;default:var q=ce&&ce.$$typeof;switch(q){case H:case S:case V:case U:case F:return q;default:return Ne}}case P:return Ne}}}function u(Pe){return Ae||(Ae=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),f(Pe)||c(Pe)===C}function f(Pe){return c(Pe)===T}function m(Pe){return c(Pe)===H}function p(Pe){return c(Pe)===F}function g(Pe){return typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===E}function O(Pe){return c(Pe)===S}function s(Pe){return c(Pe)===A}function r(Pe){return c(Pe)===V}function i(Pe){return c(Pe)===U}function h(Pe){return c(Pe)===P}function v(Pe){return c(Pe)===M}function j(Pe){return c(Pe)===_}function y(Pe){return c(Pe)===D}var b=typeof Symbol=="function"&&Symbol.for,E=b?Symbol.for("react.element"):60103,P=b?Symbol.for("react.portal"):60106,A=b?Symbol.for("react.fragment"):60107,_=b?Symbol.for("react.strict_mode"):60108,M=b?Symbol.for("react.profiler"):60114,F=b?Symbol.for("react.provider"):60109,H=b?Symbol.for("react.context"):60110,C=b?Symbol.for("react.async_mode"):60111,T=b?Symbol.for("react.concurrent_mode"):60111,S=b?Symbol.for("react.forward_ref"):60112,D=b?Symbol.for("react.suspense"):60113,w=b?Symbol.for("react.suspense_list"):60120,U=b?Symbol.for("react.memo"):60115,V=b?Symbol.for("react.lazy"):60116,K=b?Symbol.for("react.block"):60121,Y=b?Symbol.for("react.fundamental"):60117,W=b?Symbol.for("react.responder"):60118,R=b?Symbol.for("react.scope"):60119,B=C,x=T,G=H,Q=F,he=E,Z=S,le=A,de=V,be=U,X=P,ie=M,Ce=_,Le=D,Ae=!1;o.AsyncMode=B,o.ConcurrentMode=x,o.ContextConsumer=G,o.ContextProvider=Q,o.Element=he,o.ForwardRef=Z,o.Fragment=le,o.Lazy=de,o.Memo=be,o.Portal=X,o.Profiler=ie,o.StrictMode=Ce,o.Suspense=Le,o.isAsyncMode=u,o.isConcurrentMode=f,o.isContextConsumer=m,o.isContextProvider=p,o.isElement=g,o.isForwardRef=O,o.isFragment=s,o.isLazy=r,o.isMemo=i,o.isPortal=h,o.isProfiler=v,o.isStrictMode=j,o.isSuspense=y,o.isValidElementType=d,o.typeOf=c})()},function(a,o,l){"use strict";function d(){return null}var c=l(4),u=l(15),f=l(5),m=l(16),p=Function.call.bind(Object.prototype.hasOwnProperty),g=function(){};g=function(O){var s="Warning: "+O;typeof console!="undefined"&&console.error(s);try{throw new Error(s)}catch(r){}},a.exports=function(O,s){function r(Y){var W=Y&&(w&&Y[w]||Y[U]);if(typeof W=="function")return W}function i(Y,W){return Y===W?Y!==0||1/Y==1/W:Y!==Y&&W!==W}function h(Y){this.message=Y,this.stack=""}function v(Y){function W(G,Q,he,Z,le,de,be){if(Z=Z||V,de=de||he,be!==f){if(s){var X=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw X.name="Invariant Violation",X}if(typeof console!="undefined"){var ie=Z+":"+he;!R[ie]&&B<3&&(g("You are manually calling a React.PropTypes validation function for the `"+de+"` prop on `"+Z+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),R[ie]=!0,B++)}}return Q[he]==null?G?new h(Q[he]===null?"The "+le+" `"+de+"` is marked as required in `"+Z+"`, but its value is `null`.":"The "+le+" `"+de+"` is marked as required in `"+Z+"`, but its value is `undefined`."):null:Y(Q,he,Z,le,de)}var R={},B=0,x=W.bind(null,!1);return x.isRequired=W.bind(null,!0),x}function j(Y){function W(R,B,x,G,Q,he){var Z=R[B];return C(Z)!==Y?new h("Invalid "+G+" `"+Q+"` of type `"+T(Z)+"` supplied to `"+x+"`, expected `"+Y+"`."):null}return v(W)}function y(Y){function W(R,B,x,G,Q){if(typeof Y!="function")return new h("Property `"+Q+"` of component `"+x+"` has invalid PropType notation inside arrayOf.");var he=R[B];if(!Array.isArray(he))return new h("Invalid "+G+" `"+Q+"` of type `"+C(he)+"` supplied to `"+x+"`, expected an array.");for(var Z=0;Z<he.length;Z++){var le=Y(he,Z,x,G,Q+"["+Z+"]",f);if(le instanceof Error)return le}return null}return v(W)}function b(Y){function W(R,B,x,G,Q){if(!(R[B]instanceof Y)){var he=Y.name||V;return new h("Invalid "+G+" `"+Q+"` of type `"+D(R[B])+"` supplied to `"+x+"`, expected instance of `"+he+"`.")}return null}return v(W)}function E(Y){function W(R,B,x,G,Q){for(var he=R[B],Z=0;Z<Y.length;Z++)if(i(he,Y[Z]))return null;var le=JSON.stringify(Y,function(de,be){return T(be)==="symbol"?String(be):be});return new h("Invalid "+G+" `"+Q+"` of value `"+String(he)+"` supplied to `"+x+"`, expected one of "+le+".")}return Array.isArray(Y)?v(W):(g(arguments.length>1?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),d)}function P(Y){function W(R,B,x,G,Q){if(typeof Y!="function")return new h("Property `"+Q+"` of component `"+x+"` has invalid PropType notation inside objectOf.");var he=R[B],Z=C(he);if(Z!=="object")return new h("Invalid "+G+" `"+Q+"` of type `"+Z+"` supplied to `"+x+"`, expected an object.");for(var le in he)if(p(he,le)){var de=Y(he,le,x,G,Q+"."+le,f);if(de instanceof Error)return de}return null}return v(W)}function A(Y){function W(x,G,Q,he,Z){for(var le=0;le<Y.length;le++)if((0,Y[le])(x,G,Q,he,Z,f)==null)return null;return new h("Invalid "+he+" `"+Z+"` supplied to `"+Q+"`.")}if(!Array.isArray(Y))return g("Invalid argument supplied to oneOfType, expected an instance of array."),d;for(var R=0;R<Y.length;R++){var B=Y[R];if(typeof B!="function")return g("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+S(B)+" at index "+R+"."),d}return v(W)}function _(Y){function W(R,B,x,G,Q){var he=R[B],Z=C(he);if(Z!=="object")return new h("Invalid "+G+" `"+Q+"` of type `"+Z+"` supplied to `"+x+"`, expected `object`.");for(var le in Y){var de=Y[le];if(de){var be=de(he,le,x,G,Q+"."+le,f);if(be)return be}}return null}return v(W)}function M(Y){function W(R,B,x,G,Q){var he=R[B],Z=C(he);if(Z!=="object")return new h("Invalid "+G+" `"+Q+"` of type `"+Z+"` supplied to `"+x+"`, expected `object`.");var le=u({},R[B],Y);for(var de in le){var be=Y[de];if(!be)return new h("Invalid "+G+" `"+Q+"` key `"+de+"` supplied to `"+x+"`.\nBad object: "+JSON.stringify(R[B],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(Y),null,"  "));var X=be(he,de,x,G,Q+"."+de,f);if(X)return X}return null}return v(W)}function F(Y){switch(typeof Y){case"number":case"string":case"undefined":return!0;case"boolean":return!Y;case"object":if(Array.isArray(Y))return Y.every(F);if(Y===null||O(Y))return!0;var W=r(Y);if(!W)return!1;var R,B=W.call(Y);if(W!==Y.entries){for(;!(R=B.next()).done;)if(!F(R.value))return!1}else for(;!(R=B.next()).done;){var x=R.value;if(x&&!F(x[1]))return!1}return!0;default:return!1}}function H(Y,W){return Y==="symbol"||!!W&&(W["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&W instanceof Symbol)}function C(Y){var W=typeof Y;return Array.isArray(Y)?"array":Y instanceof RegExp?"object":H(W,Y)?"symbol":W}function T(Y){if(Y==null)return""+Y;var W=C(Y);if(W==="object"){if(Y instanceof Date)return"date";if(Y instanceof RegExp)return"regexp"}return W}function S(Y){var W=T(Y);switch(W){case"array":case"object":return"an "+W;case"boolean":case"date":case"regexp":return"a "+W;default:return W}}function D(Y){return Y.constructor&&Y.constructor.name?Y.constructor.name:V}var w=typeof Symbol=="function"&&Symbol.iterator,U="@@iterator",V="<<anonymous>>",K={array:j("array"),bool:j("boolean"),func:j("function"),number:j("number"),object:j("object"),string:j("string"),symbol:j("symbol"),any:function(){return v(d)}(),arrayOf:y,element:function(){function Y(W,R,B,x,G){var Q=W[R];return O(Q)?null:new h("Invalid "+x+" `"+G+"` of type `"+C(Q)+"` supplied to `"+B+"`, expected a single ReactElement.")}return v(Y)}(),elementType:function(){function Y(W,R,B,x,G){var Q=W[R];return c.isValidElementType(Q)?null:new h("Invalid "+x+" `"+G+"` of type `"+C(Q)+"` supplied to `"+B+"`, expected a single ReactElement type.")}return v(Y)}(),instanceOf:b,node:function(){function Y(W,R,B,x,G){return F(W[R])?null:new h("Invalid "+x+" `"+G+"` supplied to `"+B+"`, expected a ReactNode.")}return v(Y)}(),objectOf:P,oneOf:E,oneOfType:A,shape:_,exact:M};return h.prototype=Error.prototype,K.checkPropTypes=m,K.resetWarningCache=m.resetWarningCache,K.PropTypes=K,K}},function(a,o,l){"use strict";function d(m){if(m==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(m)}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable;a.exports=function(){try{if(!Object.assign)return!1;var m=new String("abc");if(m[5]="de",Object.getOwnPropertyNames(m)[0]==="5")return!1;for(var p={},g=0;g<10;g++)p["_"+String.fromCharCode(g)]=g;if(Object.getOwnPropertyNames(p).map(function(s){return p[s]}).join("")!=="0123456789")return!1;var O={};return"abcdefghijklmnopqrst".split("").forEach(function(s){O[s]=s}),Object.keys(Object.assign({},O)).join("")==="abcdefghijklmnopqrst"}catch(s){return!1}}()?Object.assign:function(m,p){for(var g,O,s=d(m),r=1;r<arguments.length;r++){g=Object(arguments[r]);for(var i in g)u.call(g,i)&&(s[i]=g[i]);if(c){O=c(g);for(var h=0;h<O.length;h++)f.call(g,O[h])&&(s[O[h]]=g[O[h]])}}return s}},function(a,o,l){"use strict";function d(p,g,O,s,r){for(var i in p)if(m(p,i)){var h;try{if(typeof p[i]!="function"){var v=Error((s||"React class")+": "+O+" type `"+i+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof p[i]+"`.");throw v.name="Invariant Violation",v}h=p[i](g,i,s,O,null,u)}catch(y){h=y}if(!h||h instanceof Error||c((s||"React class")+": type specification of "+O+" `"+i+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof h+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),h instanceof Error&&!(h.message in f)){f[h.message]=!0;var j=r?r():"";c("Failed "+O+" type: "+h.message+(j!=null?j:""))}}}var c=function(){},u=l(5),f={},m=Function.call.bind(Object.prototype.hasOwnProperty);c=function(p){var g="Warning: "+p;typeof console!="undefined"&&console.error(g);try{throw new Error(g)}catch(O){}},d.resetWarningCache=function(){f={}},a.exports=d},function(a,o,l){"use strict";function d(m,p){if(m==null)return{};var g,O,s=c(m,p);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(m);for(O=0;O<r.length;O++)g=r[O],p.indexOf(g)>=0||Object.prototype.propertyIsEnumerable.call(m,g)&&(s[g]=m[g])}return s}function c(m,p){if(m==null)return{};var g,O,s={},r=Object.keys(m);for(O=0;O<r.length;O++)g=r[O],p.indexOf(g)>=0||(s[g]=m[g]);return s}function u(m){var p=m.children,g=m.device,O=m.onChange,s=d(m,["children","device","onChange"]),r=Object(f.a)(s,g,O);return typeof p=="function"?p(r):r?p:null}o.a=u;var f=l(0)}])})},function(k,n,t){"use strict";t.d(n,"b",function(){return o}),t.d(n,"a",function(){return l});var e=t(1),a=t(49);function o(d,c){Object(e.d)(()=>{const u=f=>{d(f)};return a.subscribers.push(u),()=>{a.subscribers.splice(a.subscribers.indexOf(u)>>>0,1)}},c)}function l({path:d}={}){const[c,u]=Object(e.l)({}),f=Object(e.k)(null);o(g=>{f.current=g,u({})},[]);const m=f.current||Object(a.getCurrentUrl)(),p=m.replace(/\?.+$/,"");return f.current=null,[{url:m,path:p,matches:d&&Object(a.exec)(p,d,{})||null},a.route]}},,function(k,n,t){"use strict";n.a={card:"frontend-reader2-ProfileAndPublicationHoverCard-module__card--2byg0",publicationPopover:"frontend-reader2-ProfileAndPublicationHoverCard-module__publicationPopover--FP81S",hoverCardAvatar:"frontend-reader2-ProfileAndPublicationHoverCard-module__hoverCardAvatar--3ak__",hoverCardTitle:"frontend-reader2-ProfileAndPublicationHoverCard-module__hoverCardTitle--7fiVH",noUnderline:"frontend-reader2-ProfileAndPublicationHoverCard-module__noUnderline--1tMYZ",writesCard:"frontend-reader2-ProfileAndPublicationHoverCard-module__writesCard--2ACLm",hoverCardSeeAll:"frontend-reader2-ProfileAndPublicationHoverCard-module__hoverCardSeeAll--84ePI",profileHoverCardTarget:"frontend-reader2-ProfileAndPublicationHoverCard-module__profileHoverCardTarget--1uh2V",publicationHoverCardTarget:"frontend-reader2-ProfileAndPublicationHoverCard-module__publicationHoverCardTarget--3Krmf",inline:"frontend-reader2-ProfileAndPublicationHoverCard-module__inline--4M_p_",profileHoverCard:"frontend-reader2-ProfileAndPublicationHoverCard-module__profileHoverCard--FZ6_9",publicationHoverCard:"frontend-reader2-ProfileAndPublicationHoverCard-module__publicationHoverCard--1mZ_F",profileHoverCardHeader:"frontend-reader2-ProfileAndPublicationHoverCard-module__profileHoverCardHeader--2J4bS",profileHoverCardNameRow:"frontend-reader2-ProfileAndPublicationHoverCard-module__profileHoverCardNameRow--31X3I"}},function(k,n,t){"use strict";t.d(n,"a",function(){return r});var e=t(0),a=t(3),o=t(5),l=t.n(o),d=Object.defineProperty,c=Object.defineProperties,u=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,g=(i,h,v)=>h in i?d(i,h,{enumerable:!0,configurable:!0,writable:!0,value:v}):i[h]=v,O=(i,h)=>{for(var v in h||(h={}))m.call(h,v)&&g(i,v,h[v]);if(f)for(var v of f(h))p.call(h,v)&&g(i,v,h[v]);return i},s=(i,h)=>c(i,u(h));function r(i,h="div",v){return Object(a.forwardRef)((j,y)=>Object(e.createElement)(h,s(O(O({},v),j),{ref:y,className:l()(i,j==null?void 0:j.className)})))}},function(k,n,t){"use strict";t.d(n,"a",function(){return at}),t.d(n,"b",function(){return Be}),t.d(n,"c",function(){return Ae});var e=t(3);function a(Te,we){for(var De=0;De<we.length;De++){var Ie=we[De];Ie.enumerable=Ie.enumerable||!1,Ie.configurable=!0,"value"in Ie&&(Ie.writable=!0),Object.defineProperty(Te,Ie.key,Ie)}}function o(Te,we,De){return we&&a(Te.prototype,we),De&&a(Te,De),Te}function l(){return l=Object.assign||function(Te){for(var we=1;we<arguments.length;we++){var De=arguments[we];for(var Ie in De)Object.prototype.hasOwnProperty.call(De,Ie)&&(Te[Ie]=De[Ie])}return Te},l.apply(this,arguments)}function d(Te,we){Te.prototype=Object.create(we.prototype),Te.prototype.constructor=Te,c(Te,we)}function c(Te,we){return c=Object.setPrototypeOf||function(Ie,He){return Ie.__proto__=He,Ie},c(Te,we)}function u(Te,we){if(Te==null)return{};var De={},Ie=Object.keys(Te),He,Ve;for(Ve=0;Ve<Ie.length;Ve++)He=Ie[Ve],!(we.indexOf(He)>=0)&&(De[He]=Te[He]);return De}function f(Te,we){if(!!Te){if(typeof Te=="string")return m(Te,we);var De=Object.prototype.toString.call(Te).slice(8,-1);if(De==="Object"&&Te.constructor&&(De=Te.constructor.name),De==="Map"||De==="Set")return Array.from(Te);if(De==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(De))return m(Te,we)}}function m(Te,we){(we==null||we>Te.length)&&(we=Te.length);for(var De=0,Ie=new Array(we);De<we;De++)Ie[De]=Te[De];return Ie}function p(Te,we){var De=typeof Symbol!="undefined"&&Te[Symbol.iterator]||Te["@@iterator"];if(De)return(De=De.call(Te)).next.bind(De);if(Array.isArray(Te)||(De=f(Te))||we&&Te&&typeof Te.length=="number"){De&&(Te=De);var Ie=0;return function(){return Ie>=Te.length?{done:!0}:{done:!1,value:Te[Ie++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g(Te){var we=Object(e.useRef)(null);function De(Ie){!Ie||Ie===we.current||(we.current=Ie,Te(Ie))}return De}function O(Te){var we=Object(e.useRef)(Te);return Object(e.useMemo)(function(){function De(He){typeof He=="function"?we.current=He(we.current):we.current=He}function Ie(){return we.current}return[Ie,De]},[])}function s(){var Te=Object(e.useRef)([]);return Object(e.useMemo)(function(){function we(){return Te.current.length>0}function De(){for(var He=p(Te.current),Ve;!(Ve=He()).done;){var z=Ve.value;z()}Te.current=[]}function Ie(He){Te.current.push(He)}return{hasEventSubscriptions:we,removeAllEventSubscriptions:De,addEventSubscription:Ie}},[])}var r=typeof window!="undefined"?e.useLayoutEffect:e.useEffect;function i(Te,we){var De=Object(e.useRef)(Te);return we?(De.current=Te,De):(De.current=null,De)}var h={top:0,left:0,right:1,bottom:1,width:1,height:1};function v(Te){var we=Te===void 0?{}:Te,De=we.enabled,Ie=De===void 0?!0:De,He=we.preventDefault,Ve=He===void 0?!0:He,z=Object(e.useRef)(null),se=Object(e.useState)(h),Se=se[0],Oe=se[1];function ge(){Oe(h)}var je=Se!==h;function it(Tt){if(!!Ie){Ve&&Tt.preventDefault();var sn=Tt.clientX,ht=Tt.clientY;Oe({top:ht,left:sn,width:1,height:1,right:sn+1,bottom:ht+1})}}return{hasMousePosition:je,resetMousePosition:ge,handleMouseEvent:it,trigger:{getBounds:function(){return Se},getParent:z.current?function(){return z.current}:void 0},parentRef:z}}function j(Te){return parseFloat(Te.replace("px",""))}function y(Te,we,De){return Te<we?we:Te>De?De:Te}function b(Te){return Te!=null}function E(){for(var Te=arguments.length,we=new Array(Te),De=0;De<Te;De++)we[De]=arguments[De];return function(Ie){for(var He=p(we),Ve;!(Ve=He()).done;){var z=Ve.value;!z||(typeof z=="function"?z(Ie):z.current=Ie)}}}function P(Te,we){if(typeof Te!="undefined")return we||Te.ResizeObserver}function A(Te,we){var De=[];if(!Te||!we||Te===document.body)return De;var Ie=we.getComputedStyle(Te),He=Ie.overflow,Ve=Ie.overflowX,z=Ie.overflowY;return[He,Ve,z].some(function(se){return["auto","scroll"].includes(se)})&&De.push(Te),[].concat(De,A(Te.parentElement,we))}function _(Te){return"react-laag: Could not find a valid reference for the "+Te+` element. There might be 2 causes:
   - Make sure that the 'ref' is set correctly on the `+Te+` element when isOpen: true. Also make sure your component forwards the ref with "forwardRef()".
   - Make sure that you are actually rendering the `+Te+" when the isOpen prop is set to true"}function M(Te){var we=Te.enabled,De=Te.onChange,Ie=Te.environment,He=Te.ResizeObserverPolyfill,Ve=Te.overflowContainer,z=Te.triggerOption,se=P(Ie,He);Object(e.useEffect)(function(){},[se]);var Se=Object(e.useRef)(null),Oe=Boolean(z),ge=O({scrollContainers:[],trigger:null,layer:null}),je=ge[0],it=ge[1],Tt=s(),sn=Tt.hasEventSubscriptions,ht=Tt.addEventSubscription,Nt=Tt.removeAllEventSubscriptions,wt=Object(e.useCallback)(function(){var Ft=je(),lt=Ft.layer,Rt=Ft.trigger,ln=Ft.scrollContainers,Mt=ln[0];if(!lt)throw new Error(_("layer"));if(!Rt&&!Oe)throw new Error(_("trigger"));var $t={top:0,left:0};if(Mt){var nn=Mt.scrollLeft,Bt=Mt.scrollTop;$t={top:Bt,left:nn}}else{var Kt=Ie.scrollX,Sn=Ie.scrollY;$t={top:Sn,left:Kt}}var Qn={left:0,top:0};if(Mt){var rr=Ie.getComputedStyle(Mt),Mr=rr.borderLeftWidth,zr=rr.borderTopWidth;Qn={left:j(Mr)||0,top:j(zr)||0}}De({layer:lt,trigger:Rt,scrollContainers:ln,arrow:Se.current},$t,Qn)},[je,De,Ie,Se,Oe]),yt=Object(e.useCallback)(function(){var Ft=je(),lt=Ft.trigger,Rt=Ft.layer,ln=Ft.scrollContainers;if(!Rt)throw new Error(_("layer"));if(!lt&&!Oe)throw new Error(_("trigger"));if(se){for(var Mt=!1,$t=function(){if(!Mt){Mt=!0;return}wt()},nn=new se($t),Bt=0,Kt=[lt,Rt,document.body];Bt<Kt.length;Bt++){var Sn=Kt[Bt];Sn&&nn.observe(Sn)}ht(function(){for(var dr=0,Rr=[lt,Rt,document.body];dr<Rr.length;dr++){var _r=Rr[dr];_r&&nn.unobserve(_r)}nn.disconnect()})}for(var Qn=[Ie].concat(ln),rr=function(){var Rr=zr.value;Rr.addEventListener("scroll",wt),ht(function(){return Rr.removeEventListener("scroll",wt)})},Mr=p(Qn),zr;!(zr=Mr()).done;)rr()},[je,ht,wt,Ie,se,Oe]),Qe=Object(e.useCallback)(function(Pn,Ft){we&&Pn&&Pn!==Ft&&(Nt(),yt(),wt())},[Nt,yt,wt,we]),At=g(Object(e.useCallback)(function(Pn){var Ft=je(),lt=Ft.layer;it(function(Rt){return l({},Rt,{layer:Pn})}),Qe(lt,Pn)},[je,it,Qe])),jt=Object(e.useCallback)(function(Ft){var lt=A(Ft,Ie),Rt=lt[0];if(Rt){var ln=Ie.getComputedStyle(Rt).position,Mt=["relative","absolute","fixed"].includes(ln)||Ve;Mt||(Rt.style.position="relative")}return lt},[Ie,Ve]),ke=g(Object(e.useCallback)(function(Pn){var Ft=jt(Pn),lt=je(),Rt=lt.trigger;it(function(ln){return l({},ln,{trigger:Pn,scrollContainers:Ft})}),Qe(Rt,Pn)},[je,it,Qe,jt])),tn=z==null||z.getParent==null?void 0:z.getParent();return r(function(){!tn||it(function(Pn){return l({},Pn,{scrollContainers:jt(tn)})})},[tn,it,jt]),r(function(){return we&&(sn()||yt()),function(){sn()&&Nt()}},[we,sn,yt,Nt]),r(function(){we&&wt()}),{triggerRef:ke,layerRef:At,arrowRef:Se,closestScrollContainer:je().scrollContainers[0]||null}}var F=Object(e.createContext)({});function H(Te){var we=Te.children,De=Te.registrations,Ie=Object(e.useCallback)(function(Ve){return De.current.add(Ve),function(){return De.current.delete(Ve)}},[De]);return Object(e.createElement)(F.Provider,{value:Ie},we)}function C(Te,we){for(var De=p(Te),Ie;!(Ie=De()).done;){var He=Ie.value.shouldCloseWhenClickedOutside;if(!He(we))return!1}return!0}function T(Te){var we=Te.isOpen,De=Te.onOutsideClick,Ie=Te.onParentClose,He=Object(e.useRef)(null),Ve=Object(e.useRef)(null),z=Object(e.useRef)(new Set),se=Object(e.useContext)(F),Se=Object(e.useCallback)(function(ge){var je=ge.target,it=He.current&&He.current.contains(je),Tt=Ve.current&&Ve.current.contains(je),sn=C(z.current,ge);return Tt&&sn&&z.current.forEach(function(ht){var Nt=ht.closeChild;return Nt()}),!it&&!Tt&&sn},[He,Ve,z]);return Object(e.useEffect)(function(){if(typeof se=="function")return se({shouldCloseWhenClickedOutside:Se,closeChild:function(){Ie&&Ie()}})},[se,Se,Ie,z]),Object(e.useEffect)(function(){var Oe=typeof se=="function",ge=!we||!De||Oe;if(ge)return;function je(it){Se(it)&&De()}return document.addEventListener("click",je,!0),function(){return document.removeEventListener("click",je,!0)}},[we,De,Se,se]),Object(e.useEffect)(function(){we||z.current.forEach(function(Oe){var ge=Oe.closeChild;return ge()})},[we]),{closeOnOutsideClickRefs:{trigger:He,layer:Ve},registrations:z}}var S=["bottom-start","bottom-end","bottom-center","top-start","top-center","top-end","left-end","left-center","left-start","right-end","right-center","right-start","center"],D={top:"bottom",left:"right",bottom:"top",right:"left",center:"center"},w=function(){function Te(De,Ie,He,Ve,z,se,Se,Oe,ge){this.prop=void 0,this.opposite=void 0,this.isHorizontal=void 0,this.sizeProp=void 0,this.oppositeSizeProp=void 0,this.cssProp=void 0,this.oppositeCssProp=void 0,this.isCenter=void 0,this.isPush=void 0,this.prop=De,this.opposite=Ie,this.isHorizontal=He,this.sizeProp=Ve,this.oppositeSizeProp=z,this.cssProp=se,this.oppositeCssProp=Se,this.isCenter=Oe,this.isPush=ge}var we=Te.prototype;return we.factor=function(Ie){return Ie*(this.isPush?1:-1)},we.isOppositeDirection=function(Ie){return this.isHorizontal!==Ie.isHorizontal},Te}();function U(Te,we){we===void 0&&(we=!0);var De=["left","right"].includes(Te);return new w(Te,we?U(D[Te],!1):null,De,De?"width":"height",De?"height":"width",De?"left":"top",De?"top":"left",Te==="center",!["right","bottom"].includes(Te))}var V={top:U("top"),bottom:U("bottom"),left:U("left"),right:U("right")},K=l({},V,{center:U("center")}),Y=["top","left","bottom","right"],W=function(){function Te(we){return this.top=void 0,this.left=void 0,this.right=void 0,this.bottom=void 0,Object.assign(this,we)}return Te.mergeSmallestSides=function(De){var Ie=De[0],He=De.slice(1);if(!Ie)throw new Error("Please provide at least 1 bounds objects in order to merge");for(var Ve=Object.fromEntries(Y.map(function(it){return[it,Ie[it]]})),z=p(He),se;!(se=z()).done;)for(var Se=se.value,Oe=p(Y),ge;!(ge=Oe()).done;){var je=ge.value;Ve[je]=Math.min(Ve[je],Se[je])}return new Te(Ve)},o(Te,[{key:"allSidesArePositive",get:function(){var De=this;return Y.every(function(Ie){return De[Ie]>=0})}},{key:"negativeSides",get:function(){var De=this;return Object.fromEntries(Y.filter(function(Ie){return De[Ie]<0}).map(function(Ie){return[Ie,De[Ie]]}))}}]),Te}();function R(){for(var Te=arguments.length,we=new Array(Te),De=0;De<Te;De++)we[De]=arguments[De];return we.reduce(function(Ie,He){return Ie+(He?j(He):0)},0)}function B(Te){var we=Te.top,De=Te.left,Ie=Te.right,He=Te.bottom,Ve=Te.width,z=Te.height;return{top:we,left:De,right:Ie,bottom:He,width:Ve,height:z}}var x={top:0,left:0,right:0,bottom:0,width:0,height:0},G=function(){Te.create=function(Ie){return new Te(Ie)},Te.fromElement=function(Ie,He){He===void 0&&(He={});var Ve=He,z=Ve.withTransform,se=z===void 0?!0:z,Se=Ve.environment,Oe=Se===void 0?window:Se,ge=Ve.withScrollbars,je=ge===void 0?!0:ge,it=B(Ie.getBoundingClientRect()),Tt=new Te(it);if(!se){var sn=Oe.getComputedStyle(Ie),ht=sn.width,Nt=sn.height,wt=sn.boxSizing,yt=sn.borderLeft,Qe=sn.borderRight,At=sn.borderTop,jt=sn.borderBottom,ke=sn.paddingLeft,tn=sn.paddingRight,Pn=sn.paddingTop,Ft=sn.paddingBottom,lt=wt==="border-box"?j(ht):R(ht,yt,Qe,ke,tn),Rt=wt==="border-box"?j(Nt):R(Nt,At,jt,Pn,Ft);Tt=new Te(l({},Tt,{width:lt,height:Rt}))}if(!je){var ln=Tt.width-Ie.clientWidth,Mt=Tt.height-Ie.clientHeight;return Tt.substract({right:ln,bottom:Mt})}return Tt},Te.empty=function(){return new Te},Te.fromWindow=function(Ie){var He,Ve=(He=Ie==null?void 0:Ie.document.scrollingElement)!=null?He:Ie==null?void 0:Ie.document.documentElement,z=Ve!=null?Ve:{},se=z.clientWidth,Se=se===void 0?0:se,Oe=z.clientHeight,ge=Oe===void 0?0:Oe;return new Te({width:Se,height:ge,right:Se,bottom:ge})};function Te(De){return De===void 0&&(De={}),this.top=void 0,this.left=void 0,this.right=void 0,this.bottom=void 0,this.width=void 0,this.height=void 0,Object.assign(this,x,De)}var we=Te.prototype;return we.toObject=function(){return B(this)},we.merge=function(Ie){var He=this.toObject();return new Te(l({},He,typeof Ie=="function"?Ie(He):Ie))},we.substract=function(Ie){for(var He=this.toObject(),Ve=Object.entries(Ie),z=0,se=Ve;z<se.length;z++){var Se=se[z],Oe=Se[0],ge=Se[1];if(Oe in V){var je=V[Oe];He[Oe]+=je.factor(ge),He[je.isHorizontal?"width":"height"]-=ge}else He[Oe]-=ge||0}return new Te(He)},we.offsetsTo=function(Ie){return new W({top:Ie.top-this.top,bottom:this.bottom-Ie.bottom,left:Ie.left-this.left,right:this.right-Ie.right})},we.mapSides=function(Ie){for(var He=this.toObject(),Ve=Object.values(V),z=0,se=Ve;z<se.length;z++){var Se=se[z];He[Se.prop]=Ie(Se,He[Se.prop])}return new Te(He)},o(Te,[{key:"surface",get:function(){return this.width*this.height}}]),Te}(),Q=function(){function Te(De,Ie,He,Ve,z){this.primary=void 0,this.secondary=void 0,this.offsets=void 0,this.subjectsBounds=void 0,this._cachedLayerBounds=null,this._cachedContainerOffsets=null,this.primary=De,this.secondary=Ie,this.offsets=z,this.setSubjectsBounds(He,Ve)}var we=Te.prototype;return we.setSubjectsBounds=function(Ie,He){if(!He){this.subjectsBounds=Ie;return}var Ve=typeof He=="function"?He(this.primary.prop):He;this.subjectsBounds=Ie.merge({layer:l({},Ie.layer,Ve)})},we.getLayerBounds=function(Ie){if(Ie===void 0&&(Ie=0),this._cachedLayerBounds&&Ie===0)return this._cachedLayerBounds;var He=this.primary,Ve=this.secondary,z=this.subjectsBounds,se=z.trigger,Se=z.layer,Oe=z.arrow,ge=He.isHorizontal,je=He.oppositeCssProp,it=He.oppositeSizeProp,Tt=He.prop,sn=He.opposite,ht=G.empty();ht[sn.prop]=se[Tt]-He.factor(this.offsets.trigger),ht[Tt]=ht[sn.prop]-He.factor(Se[He.sizeProp]);var Nt=this.offsets.arrow*2,wt=se[je]-(Se[it]-Oe[it])+Nt,yt=se[je]+(se[it]-Oe[it])-Nt;if(Ve.isPush||(wt+=Se[it],yt+=Se[it]),Ve.isCenter){var Qe=(ge?V.top:V.left).prop,At=(ge?V.bottom:V.right).prop;ht[Qe]=y(se[Qe]+se[it]/2-Se[it]/2+Ie,wt,yt),ht[At]=ht[Qe]+Se[it]}else{var jt=Ve,ke=se[jt.prop],tn=ke<wt?wt-ke:ke>yt?yt-ke:0;ht[jt.prop]=y(ke+Ie+tn,wt,yt),ht[jt.opposite.prop]=ht[jt.prop]+Ve.factor(Se[it])}ht.width=ht.right-ht.left,ht.height=ht.bottom-ht.top;var Pn=G.create(ht);return Ie===0&&(this._cachedLayerBounds=Pn),Pn},we.getLayerCollisionBounds=function(){var Ie=this.offsets.container;return this.getLayerBounds().mapSides(function(He,Ve){return Ve-=He.factor(Ie)}).merge(function(He){var Ve=He.width,z=He.height;return{width:Ve+Ie*2,height:z+Ie*2}})},we.getContainerOffsets=function(Ie){if(this._cachedContainerOffsets&&!Ie)return this._cachedContainerOffsets;var He=this.subjectsBounds.merge({layer:Ie||this.getLayerCollisionBounds()}),Ve=W.mergeSmallestSides(He.layerOffsetsToScrollContainers);return Ie||(this._cachedContainerOffsets=Ve),Ve},o(Te,[{key:"type",get:function(){return this.primary.prop+"-"+(this.secondary.prop==="center"?"center":["bottom","right"].includes(this.secondary.prop)?"end":"start")}},{key:"triggerIsBigger",get:function(){var Ie=this.secondary.isHorizontal,He=this.subjectsBounds,Ve=He.triggerHasBiggerWidth,z=He.triggerHasBiggerHeight;return Ie&&Ve||!Ie&&z}},{key:"fitsContainer",get:function(){return this.getContainerOffsets().allSidesArePositive}},{key:"visibleSurface",get:function(){var Ie=this.getLayerBounds(),He=this.getContainerOffsets(Ie),Ve=He.negativeSides;for(var z in Ve)Ve[z]=-Ve[z];return Ie.substract(Ve).surface}},{key:"secondaryOffsetSide",get:function(){var Ie,He,Ve=this,z=this.getContainerOffsets(),se=(Ie=(He=Object.entries(z.negativeSides).map(function(Oe){var ge=Oe[0],je=Oe[1];return[V[ge],je]}).filter(function(Oe){var ge=Oe[0];return Ve.primary.isOppositeDirection(ge)}).sort(function(Oe,ge){var je=Oe[1],it=ge[1];return it-je}))==null?void 0:He[0])!=null?Ie:[],Se=se[0];return Se||null}}]),Te}(),he=function(Te){d(we,Te);function we(){return Te.apply(this,arguments)||this}var De=we.prototype;return De.getLayerBounds=function(){var He=this.subjectsBounds,Ve=He.trigger,z=He.layer,se=G.empty();return se.top=Ve.top+Ve.height/2-z.height/2,se.bottom=se.top+z.height,se.left=Ve.left+Ve.width/2-z.width/2,se.right=se.left+z.width,se.width=se.right-se.left,se.height=se.bottom-se.top,se},we}(Q);function Z(Te,we,De){var Ie=Te.layer,He=Te.trigger,Ve=Te.arrow,z=we.primary.oppositeSizeProp,se=we.primary.isHorizontal?["top","bottom"]:["left","right"],Se=se[0],Oe=se[1],ge=Ie[Se]+Ie[z]/2-He[Se]-Ve[z]/2-De,je=Ie[Oe]-Ie[z]/2-He[Oe]+Ve[z]/2+De;return(ge<0?-ge:0)+(je>0?-je:0)}var le={position:"absolute",willChange:"top, left",left:null,right:null,top:null,bottom:null};function de(Te,we,De){var Ie;if(we.primary.isCenter)return le;var He=Te.layer,Ve=Te.trigger,z=Te.arrow,se=we.primary.oppositeSizeProp,Se=Ve[se]>He[se],Oe=De+z[se]/2,ge=He[se]-z[se]/2-De,je=Z(Te,we,De),it=we.primary.prop,Tt=we.primary.oppositeCssProp,sn=Se?He[se]/2+je:Ve[Tt]+Ve[se]/2-He[Tt];return l({},le,(Ie={},Ie[it]="100%",Ie[Tt]=y(sn,Oe,ge),Ie))}var be=function(){function Te(De,Ie,He){this.placements=void 0,this.config=void 0,this.subjectsBounds=void 0,this.placements=De,this.config=Ie,this.subjectsBounds=He}Te.getSidesFromPlacementType=function(Ie){var He=Ie.split("-"),Ve=He[0],z=He[1],se=V[Ve],Se;return z==="center"?Se=K.center:se.isHorizontal?Se=z==="start"?K.top:K.bottom:Se=z==="start"?K.left:K.right,[se,Se]},Te.create=function(Ie,He){var Ve={arrow:He.arrowOffset,container:He.containerOffset,trigger:He.triggerOffset};function z(se){se===void 0&&(se=He.placement);var Se=Te.getSidesFromPlacementType(se),Oe=Se[0],ge=Se[1],je=V[Oe.isHorizontal?He.preferY:He.preferX],it=!Oe.isHorizontal&&Ie.triggerHasBiggerWidth||Oe.isHorizontal&&Ie.triggerHasBiggerHeight;function Tt(ht,Nt){return new Q(ht,Nt,Ie,He.layerDimensions,Ve)}var sn=[];return sn[0]=Tt(Oe,ge),sn[1]=Tt(Oe,ge.isCenter?je:K.center),sn[2]=Tt(Oe,K[(ge.opposite.isCenter?je.opposite:ge.opposite).prop]),sn[3]=Tt(je,it?Oe:K[Oe.opposite.prop]),sn[4]=Tt(je,K.center),sn[5]=Tt(je,it?K[Oe.opposite.prop]:Oe),sn[6]=Tt(V[je.opposite.prop],it?Oe:K[Oe.opposite.prop]),sn[7]=Tt(V[je.opposite.prop],K.center),sn[8]=Tt(V[je.opposite.prop],it?K[Oe.opposite.prop]:Oe),sn[9]=Tt(V[Oe.opposite.prop],ge),sn[10]=Tt(V[Oe.opposite.prop],ge.isCenter?je:K.center),sn[11]=Tt(V[Oe.opposite.prop],K[(ge.opposite.isCenter?je.opposite:ge.opposite).prop]),sn=sn.filter(function(ht){return ht.type===He.placement||He.possiblePlacements.includes(ht.type)}),sn}return He.placement==="center"?new Te([new he(K.center,K.center,Ie,He.layerDimensions,Ve)].concat(z(He.preferY+"-"+He.preferX)),He,Ie):new Te(z(),He,Ie)};var we=Te.prototype;return we.filterPlacementsBySide=function(Ie){return this.placements.filter(function(He){return He.primary===Ie})},we.findFirstPlacementThatFits=function(){return this.placements.find(function(Ie){return Ie.fitsContainer})},we.placementWithBiggestVisibleSurface=function(){var Ie=this.placements.map(function(Ve){return{placement:Ve,surface:Ve.visibleSurface}}).sort(function(Ve,z){return z.surface-Ve.surface}),He=Ie[0].placement;return He},we.findSuitablePlacement=function(){return this.config.auto?this.findFirstPlacementThatFits()||this.placementWithBiggestVisibleSurface():this.placements[0]},we.getSecondaryOffset=function(Ie){var He=this.config,Ve=He.auto,z=He.snap;if(!Ve||z||Ie instanceof he)return 0;var se=this.filterPlacementsBySide(Ie.primary),Se=se.indexOf(Ie)===0;if(Se&&Ie.fitsContainer)return 0;var Oe=se.find(function(ht){return!ht.fitsContainer});if(!Oe)return 0;var ge=Oe.secondaryOffsetSide;if(!ge)return 0;var je=Ie.getContainerOffsets(),it=Ie.secondary,Tt;Ie.triggerIsBigger||Oe===Ie?Tt=ge.isPush?-1:1:Tt=it===K.left||[K.top,K.center].includes(it)&&ge.isPush?-1:1;var sn=je[ge.prop];return sn*Tt},we.getStyles=function(Ie,He,Ve,z){var se={willChange:"top, left, width, height"},Se=de(this.subjectsBounds.merge({layer:Ie}),He,this.config.arrowOffset),Oe=this.config.overflowContainer?l({},se,{position:"fixed",top:Ie.top,left:Ie.left}):l({},se,{position:"absolute",top:Ie.top-this.subjectsBounds.parent.top+Ve.top-z.top,left:Ie.left-this.subjectsBounds.parent.left+Ve.left-z.left});return{arrow:Se,layer:Oe}},we.getHasDisappeared=function(Ie){var He=this.config.overflowContainer?this.subjectsBounds.trigger:Ie,Ve=W.mergeSmallestSides(this.subjectsBounds.offsetsToScrollContainers(He,!0)),z=Object.entries(Ve.negativeSides),se=z.some(function(Se){var Oe=Se[0],ge=Se[1],je=V[Oe];return ge<=-He[je.sizeProp]});return se?"full":Ve.allSidesArePositive?null:"partial"},we.result=function(Ie,He){var Ve=this.findSuitablePlacement(),z=this.getSecondaryOffset(Ve),se=Ve.getLayerBounds(z),Se=this.getStyles(se,Ve,Ie,He),Oe=Ve.primary.prop;return{styles:Se,layerSide:Oe,placement:Ve,layerBounds:se,hasDisappeared:this.getHasDisappeared(se)}},Te}(),X=function(){function Te(De,Ie){this.overflowContainer=void 0,this.trigger=void 0,this.layer=void 0,this.arrow=void 0,this.parent=void 0,this.window=void 0,this.scrollContainers=void 0,this.overflowContainer=Ie,Object.assign(this,De)}Te.create=function(Ie,He,Ve,z,se,Se,Oe,ge){var je=G.fromWindow(Ie);return new Te({layer:G.fromElement(He,{environment:Ie,withTransform:!1}),trigger:ge?G.create(B(ge())):G.fromElement(Ve),arrow:se?G.fromElement(se):G.empty(),parent:z?G.fromElement(z):je,window:je,scrollContainers:[je].concat(Se.map(function(it){return G.fromElement(it,{withScrollbars:!1})}))},Oe)};var we=Te.prototype;return we.merge=function(Ie){return new Te(l({},this,Ie),this.overflowContainer)},we.offsetsToScrollContainers=function(Ie,He){He===void 0&&(He=!1);var Ve=this.overflowContainer&&!He?[this.window]:this.scrollContainers;return Ve.map(function(z){return z.offsetsTo(Ie)})},o(Te,[{key:"layerOffsetsToScrollContainers",get:function(){return this.offsetsToScrollContainers(this.layer)}},{key:"triggerHasBiggerWidth",get:function(){return this.trigger.width>this.layer.width}},{key:"triggerHasBiggerHeight",get:function(){return this.trigger.height>this.layer.height}}]),Te}(),ie=null;function Ce(Te){typeof document!="undefined"&&(typeof Te=="function"?ie=Te():typeof Te=="string"?ie=document.getElementById(Te):ie=Te)}var Le={auto:!1,arrowOffset:0,containerOffset:10,triggerOffset:0,overflowContainer:!0,placement:"top-center",possiblePlacements:S,preferX:"right",preferY:"bottom",snap:!1,container:void 0,trigger:void 0};function Ae(Te){var we,De=Te.isOpen,Ie=De===void 0?!1:De,He=Te.overflowContainer,Ve=He===void 0?Le.overflowContainer:He,z=Te.environment,se=z===void 0?typeof window!="undefined"?window:void 0:z,Se=Te.ResizeObserver,Oe=Te.placement,ge=Oe===void 0?Le.placement:Oe,je=Te.possiblePlacements,it=je===void 0?Le.possiblePlacements:je,Tt=Te.preferX,sn=Tt===void 0?Le.preferX:Tt,ht=Te.preferY,Nt=ht===void 0?Le.preferY:ht,wt=Te.auto,yt=wt===void 0?Le.auto:wt,Qe=Te.snap,At=Qe===void 0?Le.snap:Qe,jt=Te.triggerOffset,ke=jt===void 0?Le.triggerOffset:jt,tn=Te.containerOffset,Pn=tn===void 0?Le.containerOffset:tn,Ft=Te.arrowOffset,lt=Ft===void 0?Le.arrowOffset:Ft,Rt=Te.container,ln=Rt===void 0?Le.container:Rt,Mt=Te.layerDimensions,$t=Mt===void 0?null:Mt,nn=Te.onDisappear,Bt=Te.onOutsideClick,Kt=Te.onParentClose,Sn=Te.trigger,Qn=Object(e.useState)(function(){return{layerSide:ge==="center"?"center":be.getSidesFromPlacementType(ge)[0].prop,styles:{layer:{position:Ve?"fixed":"absolute",top:0,left:0},arrow:{position:"absolute",top:0,left:0}}}}),rr=Qn[0],Mr=Qn[1],zr=Object(e.useRef)(null),dr=i(rr,Ie),Rr=Object(e.useRef)({cancelled:!1});Object(e.useEffect)(function(){return function(){Rr.current.cancelled=!0}},[]);var _r=Object(e.useCallback)(function(tr,rn,_n){var Yn=tr.arrow,cr=tr.layer,Jt=tr.scrollContainers,cn=tr.trigger,bn=Jt[0],zn=X.create(se,cr,cn,bn,Yn,Jt,Ve,Sn==null?void 0:Sn.getBounds),Rn={placement:ge,possiblePlacements:it,auto:yt,layerDimensions:$t,arrowOffset:lt,containerOffset:Pn,triggerOffset:ke,preferX:sn,preferY:Nt,snap:At,overflowContainer:Ve},xn=be.create(zn,Rn).result(rn,_n),mr=xn.hasDisappeared,Or=xn.layerSide,Lt=xn.styles,qt={layerSide:Or,styles:Lt};if(!dr.current||Pe(dr.current,qt)){dr.current=qt,Rr.current.cancelled=!0;var wn={cancelled:!1};Rr.current=wn,Promise.resolve().then(function(){wn.cancelled||Mr(qt)})}b(mr)&&b(nn)&&nn(mr)},[lt,yt,Pn,se,$t,nn,Ve,ge,it,sn,Nt,At,ke,dr,Sn]),ro=M({ResizeObserverPolyfill:Se,environment:se,enabled:Ie,overflowContainer:Ve,onChange:_r,triggerOption:Sn}),Dn=ro.triggerRef,ut=ro.layerRef,fn=ro.arrowRef,On=ro.closestScrollContainer,Ot=T({isOpen:Ie,onOutsideClick:Bt,onParentClose:Kt}),kt=Ot.closeOnOutsideClickRefs,Zt=Ot.registrations,Vn={triggerProps:Boolean(Sn)?{}:{ref:E(Dn,kt.trigger,zr)},layerProps:{ref:E(ut,kt.layer),style:rr.styles.layer},arrowProps:{ref:fn,style:rr.styles.arrow,layerSide:rr.layerSide},layerSide:rr.layerSide,triggerBounds:Ie?Sn?Sn.getBounds():(we=zr.current)==null?void 0:we.getBoundingClientRect():null,renderLayer:function(tr){return typeof document!="undefined"?Object(e.createPortal)(Object(e.createElement)(H,{registrations:Zt,children:tr}),Ve||!On?ce(ln):On):null}};return Vn}function Pe(Te,we){if(Te.layerSide!==we.layerSide)return!0;for(var De=["position","top","left","right","bottom"],Ie=0,He=De;Ie<He.length;Ie++){var Ve=He[Ie];if(Te.styles.layer[Ve]!==we.styles.layer[Ve]||Te.styles.arrow[Ve]!==we.styles.arrow[Ve])return!0}return!1}var Ne="layers";function ce(Te){var we;if(typeof Te=="function"){if(we=Te(),!we||!(we instanceof HTMLElement))throw new Error("react-laag: You've passed a function to the 'container' prop, but it returned no valid HTMLElement")}else if(Te instanceof HTMLElement)we=Te;else if(typeof Te=="string"){if(we=document.getElementById(Te),!we)throw new Error("react-laag: You've passed element with id '"+Te+"' to the 'container' prop, but it returned no valid HTMLElement")}else{if(ie instanceof HTMLElement)return ie;we=document.getElementById(Ne),we||(we=document.createElement("div"),we.id=Ne,we.style.cssText=`
        position: absolute;
        top: 0px;
        left: 0px;
        right: 0px;
      `,document.body.appendChild(we))}return we}var q=["size","angle","borderWidth","borderColor","roundness","backgroundColor","layerSide","style"],te="left",ue="top",We="bottom",ot="right";function ze(Te,we){return Math.tan(Te*(Math.PI/180))*we}function vt(Te,we,De,Ie){var He,Ve=(He={},He[We]="0 "+-Ie+" "+we+" "+Te,He[ue]="0 0 "+we+" "+(Te+Ie),He[ot]=-Ie+" 0 "+Te+" "+we,He[te]="0 0 "+(Te+Ie)+" "+we,He);return Ve[De.prop]}function Wt(Te,we,De,Ie,He){var Ve,z,se,Se=Ie/10*Te*2,Oe=(Ve={},Ve[We]=[0,Te],Ve[ue]=[0,0],Ve[ot]=[Te,we],Ve[te]=[0,we],Ve)[De.prop].join(" "),ge=De.isHorizontal?"V 0":"H "+we,je=we/2,it=we/2+ze(He,Te/8),Tt=Te/8,sn=(z={},z[We]=["C",it,Tt,je+Se,0,je,0],z[ue]=["C",it,Te-Tt,je+Se,Te,je,Te],z[ot]=["C",Tt,we-it,0,je-Se,0,je],z[te]=["C",Te-Tt,we-it,Te,je-Se,Te,je],z)[De.prop].join(" "),ht=we/2-ze(He,Te/8),Nt=Te/8,wt=(se={},se[We]=["C",je-Se,0,ht,Nt,Oe],se[ue]=["C",je-Se,Te,ht,Te-Nt,Oe],se[ot]=["C",0,je+Se,Nt,we-ht,Oe],se[te]=["C",Te,je+Se,Te-Nt,we-ht,Oe],se)[De.prop].join(" ");return["M",Oe,ge,sn,wt].join(" ")}function zt(Te,we,De,Ie,He){var Ve=ze(He,De),z=Ie.isPush?[0,De]:[Te,Te-De],se=z[0],Se=z[1];return Ie.isHorizontal?["M",se,De,"V",we-De,"L",Se,we-De-Ve,"V",Ve+De,"Z"].join(" "):["M",De,se,"H",we-De,"L",we-De-Ve,Se,"H",Ve+De,"Z"].join(" ")}var at=Object(e.forwardRef)(function(we,De){var Ie=we.size,He=Ie===void 0?8:Ie,Ve=we.angle,z=Ve===void 0?45:Ve,se=we.borderWidth,Se=se===void 0?0:se,Oe=we.borderColor,ge=Oe===void 0?"black":Oe,je=we.roundness,it=je===void 0?0:je,Tt=we.backgroundColor,sn=Tt===void 0?"white":Tt,ht=we.layerSide,Nt=ht===void 0?"top":ht,wt=we.style,yt=wt===void 0?{}:wt,Qe=u(we,q);if(Nt==="center")return null;var At=V[Nt],jt=He,ke=ze(z,He)*2,tn=Math.max(jt,ke);return Object(e.createElement)("svg",l({ref:De},Qe,{style:l({},yt,{transform:"translate"+(At.isHorizontal?"Y":"X")+"(-50%)"}),width:tn,height:tn,preserveAspectRatio:At.isPush?"xMinYMin":"xMaxYMax",viewBox:vt(jt,ke,At,Se)}),Object(e.createElement)("path",{fill:sn,strokeWidth:Se,stroke:ge,d:Wt(jt,ke,At,it,z)}),Object(e.createElement)("path",{fill:sn,d:zt(jt,ke,Se,At,z)}))}),Me;(function(Te){Te[Te.ENTERING=0]="ENTERING",Te[Te.LEAVING=1]="LEAVING",Te[Te.IDLE=2]="IDLE"})(Me||(Me={}));function Be(Te){var we=Te===void 0?{}:Te,De=we.delayEnter,Ie=De===void 0?0:De,He=we.delayLeave,Ve=He===void 0?0:He,z=we.hideOnScroll,se=z===void 0?!0:z,Se=Object(e.useState)(!1),Oe=Se[0],ge=Se[1],je=Object(e.useRef)(null),it=Object(e.useRef)(Me.IDLE),Tt=Object(e.useRef)(!1),sn=Object(e.useCallback)(function(){clearTimeout(je.current),je.current=null,it.current=Me.IDLE},[]);function ht(){it.current===Me.LEAVING&&je.current&&sn(),!Oe&&(it.current=Me.ENTERING,je.current=window.setTimeout(function(){ge(!0),je.current=null,it.current=Me.IDLE},Ie))}function Nt(yt,Qe){if(it.current===Me.ENTERING&&je.current&&sn(),!!Oe){if(Qe){ge(!1),je.current=null,it.current=Me.IDLE;return}it.current=Me.LEAVING,je.current=window.setTimeout(function(){ge(!1),je.current=null,it.current=Me.IDLE},Ve)}}Object(e.useEffect)(function(){function yt(){Oe&&se&&(sn(),ge(!1))}return window.addEventListener("scroll",yt,!0),function(){window.removeEventListener("scroll",yt,!0),je.current&&clearTimeout(je.current)}},[Oe,se,sn]);var wt={onMouseEnter:ht,onMouseLeave:Nt,onTouchStart:function(){Tt.current=!1},onTouchMove:function(){Tt.current=!0},onTouchEnd:function(){!Tt.current&&!Oe&&ge(!0),Tt.current=!1}};return[Oe,wt,function(){return Nt(null,!0)}]}function Xe(Te){var we=Te.isOpen,De=Te.children,Ie=Object(e.useState)({isOpenInternal:we,isLeaving:!1}),He=Ie[0],Ve=Ie[1],z=Object(e.useRef)(!1);return Object(e.useEffect)(function(){we?Ve({isOpenInternal:!0,isLeaving:!1}):z.current&&Ve({isOpenInternal:!1,isLeaving:!0})},[we,Ve]),Object(e.useEffect)(function(){},[De]),Object(e.useEffect)(function(){z.current=!0},[]),!we&&!He.isOpenInternal&&!He.isLeaving?null:De(He.isOpenInternal,function(){He.isOpenInternal||Ve(function(se){return l({},se,{isLeaving:!1})})},He.isLeaving)}},function(k,n,t){"use strict";t.d(n,"e",function(){return Ve}),t.d(n,"d",function(){return Mt}),t.d(n,"c",function(){return Mr}),t.d(n,"h",function(){return cr}),t.d(n,"g",function(){return zn}),t.d(n,"f",function(){return Rn}),t.d(n,"a",function(){return xn}),t.d(n,"b",function(){return mr});var e=t(0),a=t(1),o=t(5),l=t.n(o),d=t(241),c=t.n(d),u=t(840),f=t(841),m=t(842),p=t(843),g=t(444),O=t(844),s=t(792),r=t(833),i=t(845),h=t(811),v=t(783),j=t(541),y=t(831),b=t(15),E=t(708),P=t(283),A=t(265),_=t(59),M=t(51),F=t(25),H=t(7),C=t(266),T=t(18),S=t(9),D=t(14),w=t(2),U=t(23),V=t(238),K=t(8),Y=t(26),W=t(48),R=t(254),B=t(19),x=t(79),G=t(3),Q=t(713),he=t(11),Z=t(164),le=t(185),de={avatarContainer:"frontend-community-Reaction-module__avatarContainer--1g08F",reactionsContainer:"frontend-community-Reaction-module__reactionsContainer--3jVht",reaction:"frontend-community-Reaction-module__reaction--19Jra",blue:"frontend-community-Reaction-module__blue--2mUqh",nameCard:"frontend-community-Reaction-module__nameCard--23Lsy",reactionToPick:"frontend-community-Reaction-module__reactionToPick--2sjNQ",pickIcon:"frontend-community-Reaction-module__pickIcon--Qghn2",emojiPicker:"frontend-community-Reaction-module__emojiPicker--3vBxq",emojiPickerLayer:"frontend-community-Reaction-module__emojiPickerLayer--okkj0",reactionSection:"frontend-community-Reaction-module__reactionSection--35zhK",count:"frontend-community-Reaction-module__count--TtfhX",show:"frontend-community-Reaction-module__show--3rWfr"};const be=3,X=6;function ie({context:Lt,reactions:qt,currentReaction:wn,onReactionClick:$n,isReadOnly:Wn}){const Jn=qt&&Object.keys(qt).some(oo=>qt[oo]>0),{result:Tr,isLoading:Qr}=Object(T.f)({pathname:"/api/v1/threads/reactions",method:"GET",cacheTtl:1e3*60*10,auto:!0}),ao=Object(G.useMemo)(()=>!qt||!(Tr==null?void 0:Tr.reactionTypes)?[]:Object.entries(qt).sort((eo,bo)=>bo[1]===eo[1]?eo[0].localeCompare(bo[0]):bo[1]-eo[1]).filter(([eo,bo])=>bo>0&&Tr.reactionTypes[eo]).slice(0,be),[qt,Tr]);return(Tr==null?void 0:Tr.reactionTypes)?Object(e.h)(he.o,null,Object(e.h)(he.p,{onClick:ot,className:l()(de.reactionsContainer,{[de.show]:Jn})},ao.map(([oo,eo])=>Object(e.h)(Z.a,{layerClassName:de.nameCard,content:Object(e.h)(Ae,{context:Lt,reaction:oo}),layerOptions:{placement:"bottom-center"}},Object(e.h)(he.p,{key:oo,className:l()(de.reaction,{[de.blue]:oo===wn}),shadow:"sm",bg:"primary",gap:4,alignItems:"center",paddingX:6,onClick:()=>$n&&$n(oo)},Object(e.h)(ue,{reaction:Tr.reactionTypes[oo]}),Object(e.h)(q,{count:eo,textColor:oo===wn?"bg-light":"primary"})))),!Wn&&Object(e.h)(V.a,{content:oo=>Object(e.h)(Le,{emojis:Tr,isLoading:Qr,currentReaction:wn,onPick:eo=>{$n&&$n(eo),oo()}}),preferPlacement:"bottom-center",hideOnScroll:!0,layerClassName:de.emojiPickerLayer},Object(e.h)(Ce,null)))):null}function Ce(){return Object(e.h)(he.n,{className:de.pickIcon,shadow:"sm",bg:"primary",paddingX:4,alignItems:"center"},Object(e.h)(Q.default,null))}function Le({emojis:Lt,isLoading:qt,currentReaction:wn,onPick:$n}){var Wn;return qt?Object(e.h)(le.a,null):Object(e.h)(he.o,{gap:12,className:de.emojiPicker,onClick:ot,overflowY:"auto"},Object(e.h)(ce,{reactions:Lt.suggestedReactionTypes,currentReaction:wn,onPick:$n,emojiMap:Lt.reactionTypes,title:"Suggested Reactions"}),(Wn=Lt.categories)==null?void 0:Wn.map(Jn=>Object(e.h)(ce,{reactions:Jn.reactionTypes,currentReaction:wn,onPick:$n,emojiMap:Lt.reactionTypes,title:Jn.title})))}function Ae({reaction:Lt,context:qt}){var wn;const $n=qt.type==="posts"?`/api/v1/community/posts/${qt.id}/reactions`:`/api/v1/community/comments/${qt.id}/reactions`,{result:Wn,isLoading:Jn}=Object(T.f)({pathname:$n,method:"GET",auto:!0});if(Jn)return Object(e.h)(le.a,null);const Qr=((wn=Wn==null?void 0:Wn.reactions.filter(eo=>eo.reaction===Lt))!=null?wn:[]).map(eo=>eo.user.name),ao=Qr.slice(0,X),oo=Math.max(0,Qr.length-X);return Object(e.h)(he.o,{gap:2,className:de.emojiPicker,onClick:ot,overflowY:"auto"},ao.map(eo=>Object(e.h)(te,{text:eo})),oo>0&&Object(e.h)(te,{text:`+ ${oo} ${oo===1?"other":"others"}`}))}function Pe({title:Lt}){return Object(e.h)(he.D,{size:12,lineHeight:20,color:"secondary",weight:"semibold",font:"text"},Lt)}function Ne({reactions:Lt,currentReaction:qt,onPick:wn,emojiMap:$n}){return Object(e.h)(he.p,{className:de.reactionSection,gap:8},Lt==null?void 0:Lt.map(Wn=>Object(e.h)(he.n,{key:Wn,onClick:()=>wn(Wn),className:l()(de.reactionToPick,{[de.blue]:Wn===qt}),bg:"primary",alignItems:"center"},Object(e.h)(We,{reaction:$n[Wn]}))))}function ce({reactions:Lt,currentReaction:qt,onPick:wn,emojiMap:$n,title:Wn}){return Object(e.h)(he.o,{gap:12},Object(e.h)(Pe,{title:Wn}),Object(e.h)(Ne,{reactions:Lt,currentReaction:qt,onPick:wn,emojiMap:$n}))}function q({count:Lt,textColor:qt}){return Object(e.h)(he.D,{className:de.count,color:qt,lineHeight:20},Lt)}function te({text:Lt}){return Object(e.h)(he.D,{size:12,color:"primary",weight:"medium",font:"text"},Lt)}function ue({reaction:Lt}){return Object(e.h)(he.D,{size:14,lineHeight:20,color:"primary",weight:"medium",font:"emoji"},Lt)}function We({reaction:Lt}){return Object(e.h)(he.D,{size:20,lineHeight:20,color:"primary",weight:"medium",font:"emoji"},Lt)}const ot=Lt=>{Lt.stopPropagation(),Lt.preventDefault()};var ze={bubbleStack:"frontend-community-CommunityPostView-module__bubbleStack--fuau6",bubble:"frontend-community-CommunityPostView-module__bubble--1JsFx",linkBubble:"frontend-community-CommunityPostView-module__linkBubble--R327_",imageGroup:"frontend-community-CommunityPostView-module__imageGroup--2-Gyl",replyContainer:"frontend-community-CommunityPostView-module__replyContainer--1it0i",bubbleText:"frontend-community-CommunityPostView-module__bubbleText--3vH1P",authorName:"frontend-community-CommunityPostView-module__authorName--2seWH",facepileAvatar:"frontend-community-CommunityPostView-module__facepileAvatar--fy5KJ",facepile:"frontend-community-CommunityPostView-module__facepile--1vm_C",readMore:"frontend-community-CommunityPostView-module__readMore--1L4Pl",paywallBubble:"frontend-community-CommunityPostView-module__paywallBubble--3bNpN",pixels:"frontend-community-CommunityPostView-module__pixels--2xjDM",linkImg:"frontend-community-CommunityPostView-module__linkImg--2Anej",linkUrl:"frontend-community-CommunityPostView-module__linkUrl--35s-O",linkTitle:"frontend-community-CommunityPostView-module__linkTitle--3_F_s",ctaButton:"frontend-community-CommunityPostView-module__ctaButton--3zuZO",reactionsWrapper:"frontend-community-CommunityPostView-module__reactionsWrapper--cWCFG",actions:"frontend-community-CommunityPostView-module__actions--1esrr",actionButton:"frontend-community-CommunityPostView-module__actionButton--1XFw2",actionMenu:"frontend-community-CommunityPostView-module__actionMenu--2qDnX",actionMenuLayer:"frontend-community-CommunityPostView-module__actionMenuLayer--Q1mn8",avatarContainer:"frontend-community-CommunityPostView-module__avatarContainer--6oM6H",targetedAnimation:"frontend-community-CommunityPostView-module__targetedAnimation--mHTdF",yellowfade:"frontend-community-CommunityPostView-module__yellowfade--2Leu9",quoteBox:"frontend-community-CommunityPostView-module__quoteBox--1MyQY"},vt=Object.defineProperty,Wt=Object.defineProperties,zt=Object.getOwnPropertyDescriptors,at=Object.getOwnPropertySymbols,Me=Object.prototype.hasOwnProperty,Be=Object.prototype.propertyIsEnumerable,Xe=(Lt,qt,wn)=>qt in Lt?vt(Lt,qt,{enumerable:!0,configurable:!0,writable:!0,value:wn}):Lt[qt]=wn,Te=(Lt,qt)=>{for(var wn in qt||(qt={}))Me.call(qt,wn)&&Xe(Lt,wn,qt[wn]);if(at)for(var wn of at(qt))Be.call(qt,wn)&&Xe(Lt,wn,qt[wn]);return Lt},we=(Lt,qt)=>Wt(Lt,zt(qt)),De=(Lt,qt)=>{var wn={};for(var $n in Lt)Me.call(Lt,$n)&&qt.indexOf($n)<0&&(wn[$n]=Lt[$n]);if(Lt!=null&&at)for(var $n of at(Lt))qt.indexOf($n)<0&&Be.call(Lt,$n)&&(wn[$n]=Lt[$n]);return wn},Ie=(Lt,qt,wn)=>new Promise(($n,Wn)=>{var Jn=ao=>{try{Qr(wn.next(ao))}catch(oo){Wn(oo)}},Tr=ao=>{try{Qr(wn.throw(ao))}catch(oo){Wn(oo)}},Qr=ao=>ao.done?$n(ao.value):Promise.resolve(ao.value).then(Jn,Tr);Qr((wn=wn.apply(Lt,qt)).next())});const He="ffe5d072-ae52-11ed-afa1-0242ac120002";function Ve({communityPost:Lt,author:qt,extras:wn,withAttribution:$n,flex:Wn,hideReply:Jn,isReadOnly:Tr,onReply:Qr,onDelete:ao}){const oo=Object(a.k)(null),eo={type:"posts",id:Lt.id},bo=Object(R.useDispatch)(),zo=!(Lt.type==="media"&&Lt.media_assets);return Object(e.h)(Rr,{user:qt,flex:Wn,containerRef:oo},$n&&Object(e.h)(xn,{text:`From ${qt.name}\u2019s subscriber chat`}),Object(e.h)(z,{actionMenuProps:{communityEntity:Lt,publicationId:Lt.publication_id,onReply:Qr,onDelete:ao,isReadOnly:Tr,isFlagged:Lt.reported_by_user},flex:Wn},Object(e.h)(rn,null,Lt.type==="media"&&Lt.media_assets&&Object(e.h)(se,{context:eo,reactions:Lt.reactions,currentReaction:Lt.reaction,onReactionClick:Se(Lt.id,"posts",bo,Lt.reaction),isReadOnly:Tr},Object(e.h)(P.a,{assets:Lt.media_assets.map(Eo=>Eo.url),className:ze.imageGroup,readOnly:Tr})),Lt.link_url&&Object(e.h)(se,{context:eo,reactions:Lt.reactions,currentReaction:Lt.reaction,onReactionClick:Se(Lt.id,"posts",bo,Lt.reaction),setReactions:zo,isReadOnly:Tr},Object(e.h)(zn,{linkUrl:Lt.link_url})),Lt.body&&Object(e.h)(se,{context:eo,reactions:Lt.reactions,currentReaction:Lt.reaction,onReactionClick:Se(Lt.id,"posts",bo,Lt.reaction),setReactions:zo&&!Lt.link_url,isReadOnly:Tr},Object(e.h)(Yn,{authorName:qt.name,communityEntity:Lt})))),!Jn&&Object(e.h)(tr,null,Object(e.h)(cn,{commenters:Lt.recent_commenters,count:Lt.comment_count})),wn)}function z({children:Lt,actionMenuProps:qt,flex:wn="grow"}){return Object(e.h)(w.c,{alignItems:"start",gap:12,flex:wn},Object(e.h)(w.b,null,Lt),Object(e.h)(ro,Te({},qt)))}function se({children:Lt,context:qt,reactions:wn,currentReaction:$n,setReactions:Wn=!0,onReactionClick:Jn,isReadOnly:Tr}){return Wn?Object(e.h)(w.c,{className:ze.reactionsWrapper},Lt,Object(e.h)(ie,{context:qt,reactions:wn,currentReaction:$n,onReactionClick:Jn,isReadOnly:Tr})):Object(e.h)(e.Fragment,null,Lt)}const Se=(Lt,qt,wn,$n)=>Wn=>Ie(void 0,null,function*(){wn($n===Wn?ge(Wn,Lt,qt):Oe(Wn,Lt,qt,$n))}),Oe=(Lt,qt,wn,$n)=>(Wn,Jn)=>Ie(void 0,null,function*(){Wn({type:`${wn}-new_reaction`,payload:{id:qt,reaction:Lt}}),(yield Rt(Lt,qt,wn))instanceof Error&&Wn($n?{type:`${wn}-new_reaction`,payload:{id:qt,reaction:$n}}:{type:`${wn}-remove_reaction`,payload:{id:qt,reaction:Lt}})}),ge=(Lt,qt,wn)=>($n,Wn)=>Ie(void 0,null,function*(){$n({type:`${wn}-remove_reaction`,payload:{id:qt,reaction:Lt}}),(yield ln(Lt,qt,wn))instanceof Error&&$n({type:`${wn}-new_reaction`,payload:{id:qt,reaction:Lt}})}),je=(Lt,qt)=>(wn,$n)=>Ie(void 0,null,function*(){wn({type:"posts-delete_post",payload:{id:Lt,publication_id:qt}});const Wn=yield lt(Lt);Wn instanceof Error&&console.warn("error deleting thread",Wn)}),it=(Lt,qt,wn)=>($n,Wn)=>Ie(void 0,null,function*(){$n({type:"comments-delete_comment",payload:{id:Lt,postId:qt}});const Jn=yield tn(Lt);if(Jn instanceof Error&&console.warn("error deleting comment",Jn),wn){const Qr=yield Pn(wn);Qr instanceof Error||$n({type:"comments-update_comment",payload:{id:wn,comment:Qr.comment}})}const Tr=yield Ft(qt);Tr instanceof Error||$n({type:"posts-update_post",payload:{id:qt,post:Tr.communityPost}})}),Tt=(Lt,qt)=>(wn,$n)=>Ie(void 0,null,function*(){wn({type:"posts-lock_replies",payload:{id:Lt,isLocked:qt}});const Wn=yield yt(Lt,qt);Wn instanceof Error&&(console.warn("error locking post",Wn),alert(`There was an error ${qt?"locking":"unlocking"} replies to this post. Please try again later.`),wn({type:"posts-lock_replies",payload:{id:Lt,isLocked:!qt}}))}),sn=(Lt,qt)=>(wn,$n)=>Ie(void 0,null,function*(){wn({type:"comments-lock_replies",payload:{id:Lt,isLocked:qt}});const Wn=yield Qe(Lt,qt);Wn instanceof Error&&(console.warn("error locking comment",Wn),alert(`There was an error ${qt?"locking":"unlocking"} replies to this comment. Please try again later.`),wn({type:"comments-lock_replies",payload:{id:Lt,isLocked:!qt}}))}),ht=Lt=>(qt,wn)=>Ie(void 0,null,function*(){qt({type:"posts-flag_post",payload:{id:Lt}});const $n=yield jt(Lt);$n instanceof Error&&console.warn("error flagging post",$n)}),Nt=Lt=>(qt,wn)=>Ie(void 0,null,function*(){qt({type:"comments-flag_comment",payload:{id:Lt}});const $n=yield ke(Lt);$n instanceof Error&&console.warn("error flagging comment",$n)}),wt=(Lt,qt)=>(wn,$n)=>Ie(void 0,null,function*(){wn({type:"comments-ban_author",payload:{id:Lt,ban:qt}});const Wn=yield At(Lt,qt);Wn instanceof Error&&(console.warn("error toggling ban for comment author",Wn),alert(`There was an error ${qt?"banning":"unbanning"} this user. Please try again later.`),wn({type:"comments-ban_author",payload:{id:Lt,ban:!qt}}))});function yt(Lt,qt){return Ie(this,null,function*(){try{return yield fetch(`/api/v1/community/posts/${Lt}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_locked:qt})})}catch(wn){return wn}})}function Qe(Lt,qt){return Ie(this,null,function*(){try{return yield fetch(`/api/v1/community/comments/${Lt}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_locked:qt})})}catch(wn){return wn}})}function At(Lt,qt){return Ie(this,null,function*(){try{return yield fetch(`/api/v1/community/comments/${Lt}/publication_bans?ban=${qt.toString()}`,{method:"POST"})}catch(wn){return wn}})}function jt(Lt){return Ie(this,null,function*(){try{return yield Object(T.c)(`/api/v1/community/posts/${Lt}/reports`,{method:"POST",json:{postId:Lt}})}catch(qt){return qt}})}function ke(Lt){return Ie(this,null,function*(){try{return yield Object(T.c)(`/api/v1/community/comments/${Lt}/reports`,{method:"POST",json:{commentId:Lt}})}catch(qt){return qt}})}function tn(Lt){return Ie(this,null,function*(){try{return yield Object(T.c)(`/api/v1/community/comments/${Lt}`,{method:"DELETE",json:{commentId:Lt}})}catch(qt){return qt}})}function Pn(Lt){return Ie(this,null,function*(){try{return yield Object(T.c)(`/api/v1/community/comments/${Lt}`,{method:"GET"})}catch(qt){return console.warn(qt),qt}})}function Ft(Lt){return Ie(this,null,function*(){try{return yield Object(T.c)(`/api/v1/community/posts/${Lt}`,{method:"GET"})}catch(qt){return console.warn(qt),qt}})}function lt(Lt){return Ie(this,null,function*(){try{return yield Object(T.c)(`/api/v1/community/posts/${Lt}`,{method:"DELETE",json:{postId:Lt}})}catch(qt){return qt}})}function Rt(Lt,qt,wn){return Ie(this,null,function*(){try{return yield Object(T.c)(`/api/v1/community/${wn}/${qt}/reaction`,{method:"POST",json:{reaction:Lt}})}catch($n){return $n}})}function ln(Lt,qt,wn){return Ie(this,null,function*(){try{return yield Object(T.c)(`/api/v1/community/${wn}/${qt}/reaction`,{method:"DELETE",query:{reaction:Lt}})}catch($n){return $n}})}function Mt({author:Lt,extras:qt,showReply:wn=!0,analyticsParams:$n}){return Object(a.d)(()=>{$n&&Object(H.i)(H.a.THREAD_PAYWALL_SCREEN_VIEWED,$n)},[]),Object(e.h)(Rr,{user:Lt},Object(e.h)(rn,null,Object(e.h)(bn,null),wn&&Object(e.h)(cn,{isLocked:!0})),qt)}function $t(Lt){return typeof Lt.message=="string"}function nn({text:Lt,rawText:qt,specialText:wn,mentionMap:$n,limit:Wn=600}){const[Jn,Tr]=Object(a.l)(!1);if(wn)return Object(e.h)("em",null,wn);if(!Lt)return Object(e.h)(e.Fragment,null);let Qr=[{characters:Lt.length,message:Lt}];qt&&$n&&(Qr=Sn(qt,$n));const{alwaysShow:ao,afterExpansion:oo}=Kt(Qr,Wn),eo=oo.length>0;return Object(e.h)(e.Fragment,null,ao.map(bo=>$t(bo)?Object(e.h)(Bt,null,bo.message):bo.message),eo&&!Jn&&Object(e.h)(e.Fragment,null,Object(e.h)("span",null," "),Object(e.h)(D.d,{resetCss:!0,className:ze.readMore,onClick:bo=>{bo.preventDefault(),Tr(!0)}},"Read more")),eo&&Jn&&Object(e.h)(e.Fragment,null,oo.map(bo=>$t(bo)?Object(e.h)(Bt,null,bo.message):bo.message)))}function Bt({children:Lt}){return Object(e.h)(c.a,{options:{attributes:{rel:"nofollow ugc",onClick:qt=>qt.stopPropagation()}}},Lt)}function Kt(Lt,qt){let wn=0;const $n=[],Wn=[];for(const Jn of Lt){let Tr=Jn;if(wn<qt){if(wn+Tr.characters>qt&&$t(Tr)){const Qr=qt-wn,ao={characters:Qr,message:Tr.message.slice(0,Qr)},oo={characters:Tr.characters-Qr,message:Tr.message.slice(Qr)};Tr=ao,Wn.push(oo)}wn+=Tr.characters,$n.push(Tr)}else Wn.push(Tr)}return{alwaysShow:$n,afterExpansion:Wn}}function Sn(Lt,qt){const wn=/\$\{(\d+)\}/g;let $n=wn.exec(Lt);const Wn=Lt,Jn=[];let Tr=0;for(;$n;){const Qr=Number($n[1]),ao=qt[Qr];ao?($n.index>Tr&&Jn.push({characters:$n.index-Tr,message:Wn.slice(Tr,$n.index)}),Jn.push({characters:ao.text.length,message:rr(ao.user_id,Qn(ao.text),ao.text)})):Jn.push({characters:wn.lastIndex-Tr,message:Wn.slice(Tr,wn.lastIndex)}),Tr=wn.lastIndex,$n=wn.exec(Lt)}return Tr<Wn.length&&Jn.push({characters:Wn.length-Tr,message:Wn.slice(Tr)}),Jn}function Qn(Lt){return Lt.slice(1)}function rr(Lt,qt,wn){return Object(e.h)(A.default,{name:qt,id:Lt,mentionText:wn,type:"user",uuid:He,isStatic:!1,isEditorContext:!1})}function Mr(Lt){var qt=Lt,{communityComment:wn,quoteReply:$n,isTargeted:Wn,isBanned:Jn}=qt,Tr=De(qt,["communityComment","quoteReply","isTargeted","isBanned"]);return Object(e.h)(zr,Te({isTargeted:Wn,commentInfoArr:[{communityComment:wn,quoteReply:$n,isBanned:Jn}]},Tr))}function zr({commentInfoArr:Lt,author:qt,chatPublicationId:wn,hideReply:$n,onReply:Wn,onNewQuote:Jn,onQuoteReplyClick:Tr,onDelete:Qr,commentRef:ao,isTargeted:oo}){const eo=Object(R.useDispatch)(),bo=Lt[Lt.length-1].communityComment,{reply_count:zo=0,recent_commenters:Eo=[]}=bo!=null?bo:{};return Object(e.h)(Rr,{user:qt,containerRef:ao,id:`comment-${bo==null?void 0:bo.id}`},Object(e.h)(z,{actionMenuProps:{communityEntity:Lt[0].communityComment,isBanned:Lt[0].isBanned,isFlagged:Lt[0].communityComment.reported_by_user,onReply:Wn,onDelete:Qr,onNewQuote:Jn,isReadOnly:!1,publicationId:wn}},Object(e.h)(rn,null,Lt.map(({communityComment:{id:Co,body:Mo,quote_id:ft,media_uploads:qe,reactions:rt,reaction:mt,reported_by_user:un},quoteReply:yn},An)=>Object(e.h)(e.Fragment,{key:Co},!un&&qe&&qe.length>0&&ft===null&&Object(e.h)(se,{context:{type:"comments",id:Co},reactions:rt,currentReaction:mt,onReactionClick:Se(Co,"comments",eo,mt)},Object(e.h)(P.a,{assets:qe.map(Je=>Je.url),className:ze.imageGroup})," "),ft&&yn&&Object(e.h)(cr,{authorName:yn.user.name,communityEntity:yn.comment,onClick:Tr}),Mo&&Object(e.h)(se,{context:{type:"comments",id:Co},reactions:rt,currentReaction:mt,onReactionClick:Se(Co,"comments",eo,mt),setReactions:!qe||qe.length===0},Object(e.h)(Yn,{authorName:qt.name,communityEntity:Lt[An].communityComment,isTargeted:oo})))))),!$n&&zo>0&&Object(e.h)(tr,null,Object(e.h)(cn,{commenters:Eo,count:zo})))}function dr(Lt){return Lt.post_id===void 0}function Rr({user:Lt,children:qt,flex:wn="grow",containerRef:$n,id:Wn}){return Object(e.h)(w.a,{id:Wn,alignItems:"start",gap:12,flex:wn,ref:$n,className:l()(de.avatarContainer,ze.avatarContainer)},Object(e.h)(w.a,{paddingTop:4},Lt?Object(e.h)(mr,{user:Lt,size:40}):Object(e.h)(B.B,{type:"circle",size:40})),Object(e.h)(w.b,{flex:"grow",gap:4},qt))}function _r(){return Object(e.h)(w.a,{className:ze.actionButton,paddingX:4,alignItems:"center"},Object(e.h)(u.a,null))}function ro({communityEntity:Lt,onReply:qt,onDelete:wn,isReadOnly:$n,publicationId:Wn,isBanned:Jn,isFlagged:Tr,onNewQuote:Qr}){const ao=Object(a.k)(!1),oo=eo=>{ao.current=eo};return Object(e.h)(w.a,{alignItems:"center",className:ze.actions},Object(e.h)(V.a,{content:eo=>Object(e.h)(Dn,{communityEntity:Lt,onReply:qt,onDelete:wn,closePopover:eo,isReadOnly:$n,publicationId:Wn,isBanned:Jn,isFlagged:Tr,onNewQuote:Qr}),preferPlacement:"bottom-center",hideOnScroll:!0,layerClassName:ze.actionMenuLayer,onOpen:()=>oo&&oo(!0),onClose:()=>oo&&oo(!1)},Object(e.h)(_r,null)))}function Dn({communityEntity:Lt,onReply:qt,onDelete:wn,isReadOnly:$n,publicationId:Wn,isBanned:Jn,isFlagged:Tr,closePopover:Qr,onNewQuote:ao}){const oo=Object(F.c)(),{isAuthor:eo}=Object(x.d)(Wn!=null?Wn:0),bo=Wn&&eo,zo=Lt&&oo&&Lt.user_id===oo.id,Eo=Lt&&!dr(Lt),Co=Eo&&"parent_id"in Lt&&Lt.parent_id!==null,Mo=zo||bo,ft=zo||bo,qe=!zo&&!Tr,rt=bo&&Eo&&!zo;return Object(e.h)(w.b,{className:ze.actionMenu,bg:"primary",gap:12,overflowY:"auto"},!$n&&qt&&Object(e.h)(fn,{disabled:!!(Lt==null?void 0:Lt.is_locked),onReply:qt}),!$n&&ao&&Eo&&Object(e.h)(ut,{onNewQuote:ao,communityComment:Lt,closePopover:Qr}),Lt&&Lt.body&&Object(e.h)(On,{communityEntity:Lt,closePopover:Qr}),Lt&&dr(Lt)&&Object(e.h)(Ot,{communityPost:Lt,closePopover:Qr}),!$n&&Lt&&!Co&&ft&&Object(e.h)(kt,{communityEntity:Lt,closePopover:Qr}),!$n&&Lt&&Mo&&Object(e.h)(Gn,{communityEntity:Lt,closePopover:Qr,onDelete:wn}),!$n&&Lt&&qe&&Object(e.h)(Zt,{communityEntity:Lt,closePopover:Qr}),!$n&&Lt&&Jn!==void 0&&rt&&Object(e.h)(Vn,{communityEntity:Lt,closePopover:Qr,isBanned:Jn}))}function ut({onNewQuote:Lt,communityComment:qt,closePopover:wn}){return Object(e.h)(U.d,{icon:Object(e.h)(f.a,null),onClick:()=>{Lt(qt),wn()}},"Quote")}function fn({disabled:Lt,onReply:qt}){return Object(e.h)(U.d,{icon:Object(e.h)(m.a,null),onClick:qt,disabled:Lt},"Reply")}function On({communityEntity:Lt,closePopover:qt}){const wn=Object(Y.e)(),$n=()=>{if(Lt){const{body:Wn}=Lt;Object(S.copyToClipboard)(Wn),wn.popToast(Jn=>Object(e.h)(Y.c,we(Te({},Jn),{text:"Text copied",Icon:p.a})))}qt()};return Object(e.h)(U.d,{icon:Object(e.h)(p.a,null),onClick:$n},"Copy Text")}function Ot({communityPost:Lt,closePopover:qt}){const wn=Object(C.a)(),$n=()=>{if(Lt){const{id:Wn}=Lt,Jn=`${window.location.protocol}//open.${window.location.host}/chat/posts/${Wn}`;wn(Jn)}qt()};return Object(e.h)(U.d,{icon:Object(e.h)(g.a,null),onClick:$n},"Copy Link")}function kt({communityEntity:Lt,closePopover:qt}){const wn=Object(R.useDispatch)(),{id:$n,is_locked:Wn}=Lt,Jn=dr(Lt),Tr=()=>Ie(this,null,function*(){wn(Jn?Tt($n,!Wn):sn($n,!Wn)),qt()});return Object(e.h)(U.d,{icon:Wn?Object(e.h)(O.a,null):Object(e.h)(s.a,null),onClick:Tr,priority:Wn?"primary":"destructive"},Wn?"Turn on replies":"Turn off replies")}function Zt({communityEntity:Lt,closePopover:qt}){const wn=Object(R.useDispatch)(),$n=dr(Lt),Wn=()=>Ie(this,null,function*(){const Jn=`Are you sure you want to flag this ${$n?"thread":"reply"}?`;if(confirm(Jn)){const{id:Tr}=Lt;wn($n?ht(Tr):Nt(Tr)),qt()}});return Object(e.h)(U.d,{icon:Object(e.h)(r.a,null),onClick:Wn,priority:"destructive"},$n?"Flag thread":"Flag reply")}function Vn({communityEntity:Lt,closePopover:qt,isBanned:wn}){const $n=Object(R.useDispatch)(),Wn=()=>Ie(this,null,function*(){if(confirm("Are you sure you want to ban this user?")){const{id:Tr}=Lt;$n(wt(Tr,!wn)),qt()}});return Object(e.h)(U.d,{icon:wn?Object(e.h)(i.a,null):Object(e.h)(h.a,null),onClick:Wn,priority:"destructive"},wn?"Unban user":"Ban user")}function Gn({communityEntity:Lt,closePopover:qt,onDelete:wn}){const $n=Object(R.useDispatch)(),Wn=dr(Lt),Jn=()=>Ie(this,null,function*(){const Tr=`Are you sure you want to delete this ${Wn?"thread":"comment"}?`;if(confirm(Tr)){const{id:Qr}=Lt;if(Wn){const{publication_id:ao}=Lt;$n(je(Qr,ao))}else{const{post_id:ao,parent_id:oo}=Lt;$n(it(Qr,ao,oo))}wn&&setTimeout(wn,500)}qt()});return Object(e.h)(U.d,{icon:Object(e.h)(v.a,null),onClick:Jn,priority:"destructive"},Wn?"Delete thread":"Delete reply")}function tr(Lt){return Object(e.h)(w.b,Te({className:ze.replyContainer,alignItems:"start"},Lt))}function rn(Lt){return Object(e.h)(w.b,Te({className:ze.bubbleStack,gap:4,alignItems:"start"},Lt))}function _n(Lt){var qt=Lt,{isTargeted:wn}=qt,$n=De(qt,["isTargeted"]);return Object(e.h)(w.a,Te({className:l()(ze.bubble,wn&&ze.targetedAnimation),padding:12,bg:"secondary",minWidth:0},$n))}function Yn({authorName:Lt,communityEntity:qt,isTargeted:wn}){return Object(e.h)(_n,{isTargeted:wn},Object(e.h)(Jt,{authorName:Lt,communityEntity:qt}))}function cr({authorName:Lt,communityEntity:qt,onClick:wn}){return Object(e.h)(w.a,{className:l()(ze.bubble,ze.quoteBox),onClick:wn,padding:12,minWidth:0},Object(e.h)(Jt,{authorName:Lt,communityEntity:qt}))}function Jt({authorName:Lt,communityEntity:qt}){var wn,$n,Wn,Jn;let Tr=null;const Qr=dr(qt)?"thread":"reply";return qt.reported_by_user&&(Tr=`You flagged this ${Qr}`),(qt.status==="deleted"||!qt.body)&&(Tr=`This ${Qr} is not available`),qt.body||(dr(qt)?((wn=qt.media_assets)==null?void 0:wn.length)?Tr=`${qt.media_assets.length} ${qt.media_assets.length>1?"photos":"photo"}.`:qt.link_url&&(Tr=`Link: ${qt.link_url}`,(($n=qt.link_url_data)==null?void 0:$n.title)&&(Tr=`Link: "${qt.link_url_data.title}"`)):((Wn=qt.media_uploads)==null?void 0:Wn.length)&&(Tr=`${qt.media_uploads.length} ${qt.media_uploads.length>1?"photos":"photo"}.`)),Object(e.h)(K.a,{isParagraph:!0,className:ze.bubbleText},Object(e.h)(K.a,{weight:"semibold",className:ze.authorName},Lt)," ",(qt.body||Tr)&&Object(e.h)(nn,{text:(Jn=qt.raw_body)!=null?Jn:qt.body,rawText:qt.raw_body,specialText:Tr,mentionMap:qt.mentions}))}function cn({isLocked:Lt,count:qt=0,commenters:wn}){const $n=Lt?j.a:y.a;return Object(e.h)(_n,{alignSelf:"stretch"},Object(e.h)(w.a,{flex:"grow",justifyContent:"space-between",alignItems:"center",gap:12},Object(e.h)(w.a,{alignItems:"center",gap:8},wn&&Object(e.h)(w.a,{className:ze.facepile,alignItems:"center"},wn.map(Wn=>Object(e.h)(mr,{className:ze.facepileAvatar,user:Wn,size:24}))),Object(e.h)(K.a,{color:"secondary"},qt>0?`${qt.toLocaleString()} replies...`:"Reply...")),Object(e.h)($n,{size:20,stroke:"var(--color-secondary)"})))}function bn(){const Lt=1e3,qt=160,wn=8;return Object(e.h)(w.a,{className:ze.paywallBubble,alignSelf:"stretch",alignItems:"center",justifyContent:"center",bg:"secondary"},Object(e.h)("svg",{className:ze.pixels},[...Or(0,Lt,wn)].map($n=>[...Or(0,qt,wn)].map(Wn=>Object(e.h)("rect",{width:wn,height:wn,x:$n,y:Wn,fill:`rgba(0, 0, 0, ${(Math.random()*.1).toFixed(2)})`})))),Object(e.h)(w.a,{alignItems:"center",gap:4},Object(e.h)(j.a,{size:12,stroke:"var(--color-secondary)"}),Object(e.h)(K.b.Meta,null,"PAID SUBSCRIBERS ONLY")))}function zn({linkUrl:Lt}){let qt;try{const Jn=new URL(Lt);qt=`${Jn.host}${Jn.pathname}${Jn.search}${Jn.hash}`}catch(Jn){qt=Lt}const{result:wn,isLoading:$n,error:Wn}=Object(T.f)({pathname:"/api/v1/link-metadata",query:{url:Lt},auto:!0,deps:[Lt]});return Object(e.h)(_n,null,Object(e.h)(w.a,{as:"a",href:Lt,target:"_blank",justifyContent:"space-between",gap:12,className:ze.linkBubble,onClick:Jn=>Jn.stopPropagation()},Object(e.h)(w.b,{gap:4},(wn==null?void 0:wn.title)&&Object(e.h)(K.b,{font:"serif",weight:"semibold",className:ze.linkTitle},wn.title),Object(e.h)(K.b.Detail,{ellipsis:!0,className:ze.linkUrl},qt)),(wn==null?void 0:wn.image)&&Object(e.h)(M.a,{className:ze.linkImg,src:wn.image,maxWidth:72})))}function Rn(Lt){return Object(e.h)(D.a,Te({className:ze.ctaButton,priority:"primary-theme"},Lt))}function xn({text:Lt,isStatic:qt}){return Object(e.h)(w.a,{paddingX:8,paddingY:4},Object(e.h)(K.b.Detail,{weight:"semibold"},Object(e.h)(E.default,{strokeWidth:2,height:12,stroke:"#808080",fill:"transparent",isStatic:qt})," ",Lt))}function mr({user:Lt,size:qt,className:wn}){return Object(e.h)(w.a,{as:"a",flex:"auto",alignSelf:"start",href:Object(b.getReaderProfileUrl)(Lt,{noBase:!0}),target:"_blank"},Object(e.h)(_.b,{subject:Lt,dontStopPropagation:!1},Object(e.h)(W.a,{className:wn,size:qt,user:Lt})))}function*Or(Lt,qt,wn=1){for(let $n=Lt;$n<qt;$n+=wn)yield $n}},function(k,n,t){"use strict";t.d(n,"a",function(){return d}),t.d(n,"b",function(){return o}),t.d(n,"c",function(){return l});var e=t(3);let a=Object(e.createContext)(null);a.displayName="OpenClosedContext";var o=(c=>(c[c.Open=0]="Open",c[c.Closed=1]="Closed",c))(o||{});function l(){return Object(e.useContext)(a)}function d({value:c,children:u}){return e.default.createElement(a.Provider,{value:c},u)}},function(k,n,t){"use strict";t.d(n,"c",function(){return de}),t.d(n,"b",function(){return be}),t.d(n,"a",function(){return Ce});var e=t(0),a=t(1),o=t(5),l=t.n(o),d=t(261),c=t(193),u=t(845),f=t(12),m=t.n(f),p=t(4),g=t(10),O=t(25),s=t(80),r=t(7),i=t(18),h=t(9),v=t(14),j=t(2),y=t(32),b=t(8),E=t(26),P=t(48),A=t(19),_=t(138);const M=40,F=.5*M,H=.2,C=2;function T(Ae){return{width:(Ae-1)*M*(1-H)+M+2*C,height:M+2*C}}function S({faces:Ae}){const Ne=Ae.slice(0).reverse().map(({id:te,photo_url:ue},We)=>({id:te,photo_url:ue||Object(p.getDefaultUserPhotoById)(te),x:(Ae.length-We-1)*(1-H)*M+C})),{width:ce,height:q}=T(Ae.length);return Object(e.h)("svg",{version:"1.1",width:ce,height:q,viewBox:`0 0 ${ce} ${q}`,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},Object(e.h)("defs",null,Ne.map(({id:te,photo_url:ue,x:We})=>Object(e.h)("pattern",{id:`image-${te}`,x:We,y:C,patternUnits:"userSpaceOnUse",height:M,width:M},Object(e.h)("image",{height:M,width:M,preserveAspectRatio:"xMidYMid slice","data-clip-path":"url(#circularPhoto)",href:ue})))),Ne.map(({id:te,x:ue})=>Object(e.h)("circle",{cx:ue+F,cy:F+C,r:F,fill:`url(#image-${te})`,stroke:"#fff","stroke-width":C})))}var D=t(59),w=t(51),U=t(349),V={pointer:"frontend-components-Facepile-module__pointer--2Ma_T",faces:"frontend-components-Facepile-module__faces--1bg9v","size-40":"frontend-components-Facepile-module__size-40--2mkEJ","size-32":"frontend-components-Facepile-module__size-32--3uQbw",face:"frontend-components-Facepile-module__face--25ICo",first:"frontend-components-Facepile-module__first--1ft9j",last:"frontend-components-Facepile-module__last--1q1qZ",elevated:"frontend-components-Facepile-module__elevated--1eLrz",avatar:"frontend-components-Facepile-module__avatar--17CCo",avatarOther:"frontend-components-Facepile-module__avatarOther--W0tfL",avatarOtherIcon:"frontend-components-Facepile-module__avatarOtherIcon--3yHXT",link:"frontend-components-Facepile-module__link--1OLTl",column:"frontend-components-Facepile-module__column--obtNh",row:"frontend-components-Facepile-module__row--2lLj0",button:"frontend-components-Facepile-module__button--3Mvuw"},K=Object.defineProperty,Y=Object.defineProperties,W=Object.getOwnPropertyDescriptors,R=Object.getOwnPropertySymbols,B=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,G=(Ae,Pe,Ne)=>Pe in Ae?K(Ae,Pe,{enumerable:!0,configurable:!0,writable:!0,value:Ne}):Ae[Pe]=Ne,Q=(Ae,Pe)=>{for(var Ne in Pe||(Pe={}))B.call(Pe,Ne)&&G(Ae,Ne,Pe[Ne]);if(R)for(var Ne of R(Pe))x.call(Pe,Ne)&&G(Ae,Ne,Pe[Ne]);return Ae},he=(Ae,Pe)=>Y(Ae,W(Pe)),Z=(Ae,Pe)=>{var Ne={};for(var ce in Ae)B.call(Ae,ce)&&Pe.indexOf(ce)<0&&(Ne[ce]=Ae[ce]);if(Ae!=null&&R)for(var ce of R(Ae))Pe.indexOf(ce)<0&&x.call(Ae,ce)&&(Ne[ce]=Ae[ce]);return Ne},le=(Ae,Pe,Ne)=>new Promise((ce,q)=>{var te=ot=>{try{We(Ne.next(ot))}catch(ze){q(ze)}},ue=ot=>{try{We(Ne.throw(ot))}catch(ze){q(ze)}},We=ot=>ot.done?ce(ot.value):Promise.resolve(ot.value).then(te,ue);We((Ne=Ne.apply(Ae,Pe)).next())});function de({faces:Ae,secondaryFaces:Pe,maximum:Ne=5,size:ce=40,pileLabel:q,modalLabel:te,secondaryLabel:ue,loading:We,hoverProfiles:ot,enableModal:ze,className:vt,totalCount:Wt,faceUtmSource:zt,detailUtmSource:at,onDialogOpen:Me,showFaces:Be=!0,elevated:Xe,reverse:Te,clickable:we=!0}){const[De,Ie]=Object(a.l)(!1),[He,Ve]=Object(a.l)(!1),se=Ae.concat((Pe==null?void 0:Pe.filter(Oe=>!Ae.find(ge=>ge.id===Oe.id)))||[]).filter(({photo_url:Oe})=>!!Oe).slice(0,Ne);Te||se.reverse();const Se=Object(h.isMobileBrowser)();return Object(e.h)(j.a,{alignItems:"center",gap:8,flex:"grow",className:l()("facepile",vt)},!We&&se.length>0&&Be&&Object(e.h)(j.a,{alignItems:"center",className:l()(V.faces,V[`size-${ce}`],vt)},se.map(({id:Oe,name:ge,photo_url:je,className:it,tooltipTitle:Tt,tooltipContent:sn,noLink:ht},Nt)=>{const wt=Object(p.getReaderProfileUrl)({id:Oe,name:ge},{utm_source:zt});return ht||!we?Object(e.h)(w.a,{className:l()("facepile-face",V.face,V[`size-${ce}`],it,Nt===0&&V.first,Nt===se.length-1&&V.last,Xe&&V.elevated),maxWidth:ce*2,src:Object(p.cloudinary)(je||Object(p.getDefaultUserPhotoById)(Oe),64)}):Object(e.h)(D.b,{disabled:!ot||Se,key:Oe,subject:{id:Oe,name:ge,photo_url:je},utmSource:zt},Object(e.h)(U.a,{disabled:!Tt&&!sn,title:Tt,content:sn,className:"inverse bottom"},Object(e.h)(j.a,{as:"a",flex:"auto",href:wt,target:"_blank",rel:"noreferrer"},Object(e.h)(w.a,{className:l()("facepile-face",V.face,V[`size-${ce}`],it,Nt===0&&V.first,Nt===se.length-1&&V.last,Xe&&V.elevated),maxWidth:ce*2,src:Object(p.cloudinary)(je||Object(p.getDefaultUserPhotoById)(Oe),64)}))))})),We&&Be&&Object(e.h)(X,{maximum:Ne,size:ce}),q&&Object(e.h)(ie,{label:q,clickable:!!(ze&&Ae.length),onClick:()=>{!ze||!(Ae==null?void 0:Ae.length)||(Ie(!0),Me&&Me())}}),ue&&Object(e.h)(b.b.B4,{color:"pub-secondary-text",weight:"medium"},"\xB7"),ue&&Object(e.h)(ie,{label:ue,clickable:!!(ze&&(Pe==null?void 0:Pe.length)),onClick:()=>{!ze||!(Pe==null?void 0:Pe.length)||(Ve(!0),Me&&Me())}}),De&&Object(e.h)(Ce,{isOpen:De,modalLabel:te,faces:Ae,totalCount:Wt,onClose:()=>Ie(!1),utmSource:at}),He&&Pe&&Object(e.h)(Ce,{isOpen:He,modalLabel:ue,faces:Pe,totalCount:Pe.length,onClose:()=>Ve(!1),utmSource:at}))}function be({pub:Ae,post:Pe}){var Ne;const ce=Object(p.cloudinary)(`${Object(p.getBaseUrl)(Ae)}/p/${Pe.slug}/authors.svg`,400*2,{format:"png",crop:"scale"}),{height:q,width:te}=T((Ne=Pe==null?void 0:Pe.publishedBylines)==null?void 0:Ne.length);return Object(e.h)("img",{src:ce,width:te,height:q})}function X({maximum:Ae,size:Pe}){return Object(e.h)(j.a,{gap:12},new Array(Ae).fill(null).map(()=>Object(e.h)(A.B,{type:"circle",height:Pe,width:Pe})))}function ie({label:Ae,clickable:Pe,onClick:Ne}){return Object(e.h)(b.b.B4,null,Object(e.h)(s.c,{className:Pe?V.pointer:"",weight:"medium",color:"pub-secondary-text",decoration:Pe?"hover-underline":"none",onClick:Ne},Ae))}function Ce(Ae){var Pe=Ae,{isOpen:Ne,onClose:ce}=Pe,q=Z(Pe,["isOpen","onClose"]);return Object(e.h)(y.a,{isOpen:Boolean(Ne),onClose:ce,width:500},Object(e.h)(Le,Q({onClose:ce},q)))}function Le({faces:Ae,modalLabel:Pe,onClose:Ne,openLinksInNewTab:ce,totalCount:q,utmSource:te}){const ue=te||"facepile",We=(Te,we,De)=>le(this,null,function*(){try{De?(yield m.a.post("/api/v1/reader/signup/pub").send({email:Me==null?void 0:Me.email,publication_id:De.id,visibility:"private",source:ue}),(te==null?void 0:te.match(/^(notes)|(feed)[-_]/))&&Object(r.i)(r.a.FEED_ONE_CLICK_SUBSCRIBE,{publication_id:De.id,source:ue})):yield m.a.post(`/api/v1/presubscribe/${Te}`).send({source:ue}),vt([...ze!=null?ze:[],Te]),at(Ie=>Object(e.h)(E.c,he(Q({},Ie),{text:`Subscribed to ${(De==null?void 0:De.name)||we||"user"}`,Icon:d.a})))}catch(Ie){at(He=>Object(e.h)(E.c,he(Q({},He),{text:Object(h.getNetworkErrorMessage)(Ie),Icon:c.a})))}}),ot=(Te,we,De)=>le(this,null,function*(){var Ie;try{if(De){if((yield m.a.get("/api/v1/subscription/publications?only_full=true")).body.some(Ve=>Ve.id===De.id))return Object(h.redirect)(Object(p.getPubAccountSettingsUrl)(De,{addBase:!0}),{local_navigation:!1,newTab:ce});yield m.a.delete("/api/v1/free").send({publication_id:De.id,source:ue})}else yield m.a.delete(`/api/v1/presubscribe/${Te}`);vt((Ie=ze==null?void 0:ze.filter(He=>He!==Te))!=null?Ie:null),at(He=>{var Ve;return Object(e.h)(E.c,he(Q({},He),{text:`Unsubscribed from ${(Ve=De==null?void 0:De.name)!=null?Ve:we}.`,Icon:d.a}))})}catch(He){const Ve=(He==null?void 0:He.status)===404?`Already unsubscribed to ${(De==null?void 0:De.name)||we||"this user"}`:"Something went wrong. Please try again";at(z=>Object(e.h)(E.c,he(Q({},z),{text:Ve,Icon:c.a})))}}),{result:ze,setResult:vt,isLoading:Wt,error:zt}=Object(i.f)({pathname:"/api/v1/subscription/users",query:{ids:JSON.stringify(Ae.map(Te=>Te.id))},auto:!0,initialResult:Ae.filter(Te=>Te.is_subscribed).map(Te=>Te.id)}),{popToast:at}=Object(E.e)(),Me=Object(O.c)();Object(a.d)(()=>{!Me||zt&&alert(Object(h.getNetworkErrorMessage)(zt))},[zt,Me]);const Be=(q||0)-Ae.length,Xe=Object(h.isMobileBrowser)();return Object(e.h)(e.Fragment,null,Object(e.h)(j.a,{alignItems:"center",justifyContent:"space-between",paddingX:16,paddingY:12,borderBottom:"detail",flex:"grow"},Object(e.h)(b.b.H2,null," ",Pe),Ne&&Object(e.h)(v.c,{onClick:Ne},Object(e.h)(c.a,{height:20}))),Object(e.h)(j.b,{overflowY:"auto",className:V.column},Object(e.h)(j.b,{gap:4,padding:8,flex:"grow"},Ae.map(Te=>{const{id:we,name:De,photo_url:Ie,primary_publication:He,writes:Ve,className:z,noLink:se}=Te,Se=Object(p.getReaderProfileUrl)({id:we,name:De},{utm_source:te}),Oe=ze==null?void 0:ze.includes(we);return Object(e.h)(j.a,{key:we,flex:"grow"},se?Object(e.h)(j.a,{gap:16,padding:8,radius:8,className:V.row,alignItems:"center",flex:"grow"},Object(e.h)(P.b,{user:Te,pub:He,size:40,className:z}),Object(e.h)(j.b,{minWidth:0,flex:"grow"},Object(e.h)(b.b.B4,{decoration:"hover-underline",weight:"semibold",className:(V.link,l()({"no-name":!(De||"").trim().length}))},De))):Object(e.h)(j.a,Q({as:"a",flex:"grow",gap:16,padding:8,alignItems:"center",radius:8,className:V.row,href:Se},ce?{target:"_blank"}:{}),Object(e.h)(P.b,{user:Te,pub:He,size:40,className:z}),Object(e.h)(j.b,{minWidth:0,flex:"grow"},Object(e.h)(D.b,{disabled:se||Xe,subject:{id:we,name:De,photo_url:Ie},utmSource:te,className:V.link},Object(e.h)(b.b.B4,{decoration:"hover-underline",weight:"semibold",className:(V.link,l()({"no-name":!(De||"").trim().length}))},De)),Ve&&He&&Object(e.h)(_.c,{disabled:Xe,publication_id:He==null?void 0:He.id,className:V.link},Object(e.h)(b.b.B4,{color:"secondary",decoration:"hover-underline",className:l()(V.link,{"no-name":!(De||"").trim().length})},Ve))),Me&&Me.id!==we&&Object(e.h)(v.a,{fill:"empty",disabled:Wt,priority:Oe?"secondary":"primary",className:V.button,onClick:ge=>{ge.preventDefault(),Oe?ot(we,De,He):We(we,De,He)}},Oe?"Subscribed":"Subscribe")))}),Be>0&&Object(e.h)(j.a,{gap:16,alignItems:"center",padding:8},Object(e.h)(j.a,{className:V.avatarOther,alignItems:"center",justifyContent:"center"},Object(e.h)(u.a,{className:V.avatarOtherIcon,size:20})),Object(e.h)(b.b.B4,{color:"secondary"},"+",Object(g.pluralize)(Be,"other reader"))))))}},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(562),o=t(13),l=Object.defineProperty,d=Object.defineProperties,c=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,p=(r,i,h)=>i in r?l(r,i,{enumerable:!0,configurable:!0,writable:!0,value:h}):r[i]=h,g=(r,i)=>{for(var h in i||(i={}))f.call(i,h)&&p(r,h,i[h]);if(u)for(var h of u(i))m.call(i,h)&&p(r,h,i[h]);return r},O=(r,i)=>d(r,c(i));const s=r=>Object(e.h)(o.a,O(g({},r),{name:"LucideHeart",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),Object(e.h)(a.a,{height:24,stroke:r.stroke,fill:r.fill,strokeWidth:r.strokeWidth}));n.default=s},function(k,n,t){"use strict";t.d(n,"b",function(){return K}),t.d(n,"c",function(){return Y}),t.d(n,"a",function(){return R});var e=t(0),a=t(4),o=t.n(a),l=t(15),d=t(10),c=t.n(d),u=t(7),f=t(61),m=t.n(f),p=t(9),g=t.n(p),O=t(2),s=t(8),r=t(21),i=t(518),h=t(514),v=t(376),j=t(466),y=t(570),b=t(571),E=t(50),P=t(51),A=t(129),_=t(150),M=Object.defineProperty,F=Object.defineProperties,H=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,D=(B,x,G)=>x in B?M(B,x,{enumerable:!0,configurable:!0,writable:!0,value:G}):B[x]=G,w=(B,x)=>{for(var G in x||(x={}))T.call(x,G)&&D(B,G,x[G]);if(C)for(var G of C(x))S.call(x,G)&&D(B,G,x[G]);return B},U=(B,x)=>F(B,H(x)),V=(B,x,G)=>new Promise((Q,he)=>{var Z=be=>{try{de(G.next(be))}catch(X){he(X)}},le=be=>{try{de(G.throw(be))}catch(X){he(X)}},de=be=>be.done?Q(be.value):Promise.resolve(be.value).then(Z,le);de((G=G.apply(B,x)).next())});const K=({pub:B,post:x,profile:G})=>{let Q=typeof document!="undefined"?document.title:"",he="",Z="";const le=Object(a.getBaseUrl)(B).replace(/^https?:\/\//,"").replace(/\/$/);return x?(Q=x.title||x.draft_title,he=le,Z=x.cover_image||null):B?(Q=B.name,he=le,Z=B.logo_url):G&&(Q=G.name,he=G.bio,Z=Object(a.getUserPhotoUrl)(G)),Object(e.h)(O.c,{className:`social-preview-box ${x?"post":B?"pub":"user"}`,radius:8,border:"detail",padding:8},Object(e.h)("div",{className:"social-image-box"},(x||B)&&Z&&Object(e.h)(P.a,{className:"social-image",src:Z,alt:"",maxWidth:120,loading:"lazy"}),!x&&!B&&Z&&Object(e.h)(_.b,{className:"social-image",imageUrl:Z,size:52}),!Z&&Object(e.h)(i.default,{className:"social-image-default"})),Object(e.h)(O.b,{paddingLeft:12,paddingY:8},Object(e.h)(s.b.H4,null,Q),Object(e.h)(s.b.B4,{color:"secondary"},he)))};class Y extends E.a{constructor(x,G){super(x,G);this.noFullscreen=!0}open(){var x=G=>super[G];return V(this,null,function*(){const G="direct",Q={title:this.shareName(),url:this.getShareUrl(G)};if(Object(p.isMobileBrowser)()&&navigator.share&&navigator.canShare&&navigator.canShare(Q))try{yield navigator.share(Q),Object(u.i)(u.a.NATIVE_SHARE_SUCCESS,{medium:this.state.medium||this.props.medium||"web",post_id:this.props.post?this.props.post.id:null,utm_campaign:this.state.utm_campaign||"default"}),Object(f.setStoredValue)(`${this.props.pub.subdomain} shared`,!0);return}catch(he){if(he.name==="AbortError")return;Object(u.i)(u.a.NATIVE_SHARE_FAILED,{errorName:he.name,errorMessage:he.message})}x("open").call(this)})}fromEmail(){this.setState({medium:"email"},()=>{this.open()})}getClassName(){return"share-dialog"}onBeforeOpen(){this.setState({showButtons:!0})}onOpen(){Object(u.i)(u.a.SHARE_DIALOG_OPENED,{medium:this.state.medium||this.props.medium||"web",post_id:this.props.post?this.props.post.id:null,utm_campaign:this.state.utm_campaign||"default"})}onClose(){this.setState({copied:!1,utm_campaign:null})}shareName(){const{post:x,pub:G,profile:Q}=this.props;return x?x.title:G?G.name:Q?`${Q.name} on Substack`:document.title}getShareUrl(x){const{pub:G,post:Q,profile:he,user:Z,utm_campaign:le}=this.props,de={r:(Z==null?void 0:Z.id)?Z.id.toString(36):null,utm_campaign:le||(Q?"post":he?"profile":G?"pub":"unknown"),utm_medium:this.state.medium||"web",utm_source:x};return(G==null?void 0:G.subdomain)&&(Q==null?void 0:Q.slug)?Object(a.getPostAppLinkUrl)(G.subdomain,Q.slug,{params:de}):Object(a.pathWithQuery)(`${Q?Object(a.getPostUrl)(G,Q):G?`${G.base_url}/`:typeof window!="undefined"?window.location.href.split("?")[0]:""}`,de)}renderChildren({post:x,pub:G,profile:Q}){const he=x?"post":G?"publication":Q?"profile":null,Z=he?`Share this ${he}`:"Share";return Object(e.h)(e.Fragment,null,Object(e.h)("div",{className:"share-dialog-title"},Z),Object(e.h)(O.b,{gap:32,paddingX:24,paddingTop:32,paddingBottom:48},(x||G||Q)&&Object(e.h)(K,{post:x,pub:G,profile:Q}),Object(e.h)(R,U(w({utm_campaign:this.state.utm_campaign},this.props),{shareName:this.shareName(),shareUrl:this.getShareUrl()}))))}}class W extends e.Component{onShareViaTwitter(){const{pub:x,post:G,sharingSelfPub:Q}=this.props,he=(x==null?void 0:x.twitter_screen_name)||d.twitterScreenNames[x==null?void 0:x.subdomain];let Z=this.props.shareName;x&&Q?Z="I just started a Substack! You can subscribe to it here":(x&&!G&&(Z=`Subscribe to ${Z}`),he&&(!G||x&&(!G.publishedBylines.length||G.publishedBylines.some(le=>le.id===x.author_id)))&&(Z+=`, by @${he}`)),this.triggerShare("twitter",le=>Object(a.pathWithQuery)("https://twitter.com/share",{url:le,text:Z}))}onShareViaCopyLink(){this.triggerShare("copy",x=>(Object(p.copyToClipboard)(x),!1)),Object(A.b)("Link copied to clipboard")}onShareViaEmail(){this.triggerShare("email",x=>Object(a.pathWithQuery)("mailto:",{subject:this.props.shareName,body:x}))}onShareViaNotes(){this.triggerShare("notes",x=>Object(a.pathWithQuery)(Object(l.getCreateNotesUrl)({message:x})))}onShareViaFacebook(){this.triggerShare("facebook",x=>Object(a.pathWithQuery)("https://www.facebook.com/sharer/sharer.php",{u:x}))}triggerShare(x,G){const{post:Q,pub:he}=this.props;Object(u.i)(u.a.SHARE_LINK_CLICKED,{name:x,post_id:Q?Q.id:null});const Z=G(this.props.shareUrl);Z&&(Z.startsWith("http")?window.open(Z,"_blank"):document.location.href=Z),Object(f.setStoredValue)(`${he.subdomain} shared`,!0)}}class R extends W{maybeOnChange(){const{onChange:x}=this.props;x&&x()}render({}){return Object(e.h)(O.c,{className:"share-dialog-buttons-wrapper",justifyContent:"space-between"},Object(e.h)(r.b,{onClick:()=>{this.onShareViaCopyLink(),this.maybeOnChange()},className:"share-action"},Object(e.h)("div",{className:"action-icon"},Object(e.h)(v.default,null)),Object(e.h)(s.b.B4,{color:"secondary"},"Copy link")),Object(e.h)(r.b,{className:"share-action",onClick:()=>{this.onShareViaTwitter(),this.maybeOnChange()}},Object(e.h)("div",{className:"action-icon"},Object(e.h)(b.default,null)),Object(e.h)(s.b.B4,{color:"secondary"},"Twitter")),Object(e.h)(r.b,{className:"share-action",onClick:()=>{this.onShareViaFacebook(),this.maybeOnChange()}},Object(e.h)("div",{className:"action-icon"},Object(e.h)(y.default,null)),Object(e.h)(s.b.B4,{color:"secondary"},"Facebook")),Object(e.h)(r.b,{className:"share-action",onClick:()=>{this.onShareViaEmail(),this.maybeOnChange()}},Object(e.h)("div",{className:"action-icon"},Object(e.h)(j.default,null)),Object(e.h)(s.b.B4,{color:"secondary"},"Email")),Object(e.h)(r.b,{className:"share-action",onClick:()=>{this.onShareViaNotes(),this.maybeOnChange()}},Object(e.h)("div",{className:"action-icon"},Object(e.h)(h.default,null)),Object(e.h)(s.b.B4,{color:"secondary"},"Notes")))}}},function(k,n,t){"use strict";t.d(n,"a",function(){return u}),t.d(n,"b",function(){return f});var e=t(1),a=t(17),o=t.n(a),l=t(61),d=t.n(l);const c=()=>{};function u(m,p=null,g=c){const[O,s]=Object(e.l)(!1);if(!m)return[!0,c];const r=()=>{g();const h=new Date;Object(l.setStoredValue)(m,h.toString()),s(!0)};return[O||f(m,p),r]}function f(m,p){let g;const O=typeof window=="undefined"?new Date().toString():Object(l.getStoredValue)(m);return O&&p?g=o()(O).add(p,"second").isAfterNow():g=Boolean(O),g}},function(k,n,t){"use strict";t.d(n,"a",function(){return v}),t.d(n,"b",function(){return j});var e=t(0),a=t(2),o=t(205),l={tooltip:"frontend-pencraft-Tooltip-module__tooltip--2HBYV",tooltipContent:"frontend-pencraft-Tooltip-module__tooltipContent--1Ntv2"},d=Object.defineProperty,c=Object.defineProperties,u=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,g=(y,b,E)=>b in y?d(y,b,{enumerable:!0,configurable:!0,writable:!0,value:E}):y[b]=E,O=(y,b)=>{for(var E in b||(b={}))m.call(b,E)&&g(y,E,b[E]);if(f)for(var E of f(b))p.call(b,E)&&g(y,E,b[E]);return y},s=(y,b)=>c(y,u(b)),r=(y,b)=>{var E={};for(var P in y)m.call(y,P)&&b.indexOf(P)<0&&(E[P]=y[P]);if(y!=null&&f)for(var P of f(y))b.indexOf(P)<0&&p.call(y,P)&&(E[P]=y[P]);return E};const i=["top-start","top-center","top-end","bottom-start","bottom-center","bottom-end"],h=["left-start","left-center","left-end","right-start","right-center","right-end"],v=y=>{var b=y,{children:E,text:P,as:A="span",icon:_,preferPlacement:M="bottom-center",disabled:F,dangerouslySetTooltipZIndex:H,maxWidth:C}=b,T=r(b,["children","text","as","icon","preferPlacement","disabled","dangerouslySetTooltipZIndex","maxWidth"]);const{layerProps:S,triggerProps:D,transitionProps:w,renderLayer:U,shouldShow:V}=Object(o.b)({layerOptions:{placement:M,possiblePlacements:h.includes(M)?h:i}}),K=S,{style:Y}=K,W=r(K,["style"]);return F?Object(e.h)(e.Fragment,null,E):Object(e.h)(e.Fragment,null,Object(e.h)(A,O(O({},D),T),E),V&&U(Object(e.h)(j,{transitionProps:w,tooltipProps:s(O({},W),{style:s(O({},Y),{maxWidth:C&&`${C}px`,zIndex:H||Number.MAX_SAFE_INTEGER})}),icon:_,text:P})))};function j({transitionProps:y,tooltipProps:b,icon:E,text:P}){return Object(e.h)(o.a,O({},y),Object(e.h)("div",O({className:l.tooltip},b),Object(e.h)(a.c,{alignItems:"center",gap:8,className:l.tooltipContent},E&&Object(e.cloneElement)(E,{size:20})," ",P)))}},function(k,n,t){"use strict";t.d(n,"a",function(){return l});var e=t(0),a=t(74),o=t(35);const l=Object(e.createContext)({isStatic:!1,isAmp:!1,isFreeSubscribed:!0,isFreemail:!0,siteConfigValues:{},isPledged:!1});function d({isAmp:c,isFreeSubscribed:u,isFreemail:f,siteConfigValues:m,children:p,isPledged:g,publicationSettings:O}){return Object(e.h)(l.Provider,{value:{isStatic:!0,isAmp:c,isFreeSubscribed:u!==!1,isFreemail:f,siteConfigValues:m,isPledged:g}},Object(e.h)(o.b,{siteConfigs:m},Object(e.h)(a.b,{settings:O},p)))}},function(k,n,t){"use strict";t.d(n,"a",function(){return m}),t.d(n,"c",function(){return p}),t.d(n,"b",function(){return g});var e=t(0),a=t(1),o=Object.defineProperty,l=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,u=(O,s,r)=>s in O?o(O,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):O[s]=r,f=(O,s)=>{for(var r in s||(s={}))d.call(s,r)&&u(O,r,s[r]);if(l)for(var r of l(s))c.call(s,r)&&u(O,r,s[r]);return O};const m=Object(e.createContext)({publication:{},pub:{},setPublication:({pub:O,publication:s})=>{}});m.displayName="PublishContext";const p=O=>{const s=r=>{const i=g();return Object(e.h)(O,f(f({},i),r))};return s.displayName=`withPublishContext(${O.name||O.displayName||"Anonymous"})`,s},g=()=>Object(a.b)(m)},function(k,n,t){"use strict";t.d(n,"a",function(){return g}),t.d(n,"b",function(){return O}),t.d(n,"c",function(){return i}),t.d(n,"d",function(){return b}),t.d(n,"e",function(){return M}),t.d(n,"f",function(){return A}),t.d(n,"g",function(){return H});var e=t(22),a=t(36),o=t(315);class l{constructor({editor:T,element:S,view:D,tippyOptions:w={},updateDelay:U=250,shouldShow:V}){this.preventHide=!1,this.shouldShow=({view:K,state:Y,from:W,to:R})=>{const{doc:B,selection:x}=Y,{empty:G}=x,Q=!B.textBetween(W,R).length&&Object(e.isTextSelection)(Y.selection),he=this.element.contains(document.activeElement);return!(!(K.hasFocus()||he)||G||Q||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:K})=>{var Y;if(this.preventHide){this.preventHide=!1;return}(K==null?void 0:K.relatedTarget)&&((Y=this.element.parentNode)===null||Y===void 0?void 0:Y.contains(K.relatedTarget))||this.hide()},this.tippyBlurHandler=K=>{this.blurHandler({event:K})},this.handleDebouncedUpdate=(K,Y)=>{this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(K,Y)},this.updateDelay)},this.updateHandler=(K,Y)=>{var W,R,B;const{state:x,composing:G}=K,{doc:Q,selection:he}=x,Z=Y&&Y.doc.eq(Q)&&Y.selection.eq(he);if(G||Z)return;this.createTooltip();const{ranges:le}=he,de=Math.min(...le.map(ie=>ie.$from.pos)),be=Math.max(...le.map(ie=>ie.$to.pos));if(!((W=this.shouldShow)===null||W===void 0?void 0:W.call(this,{editor:this.editor,view:K,state:x,oldState:Y,from:de,to:be}))){this.hide();return}(R=this.tippy)===null||R===void 0||R.setProps({getReferenceClientRect:((B=this.tippyOptions)===null||B===void 0?void 0:B.getReferenceClientRect)||(()=>{if(Object(e.isNodeSelection)(x.selection)){let ie=K.nodeDOM(de);const Ce=ie.dataset.nodeViewWrapper?ie:ie.querySelector("[data-node-view-wrapper]");if(Ce&&(ie=Ce.firstChild),ie)return ie.getBoundingClientRect()}return Object(e.posToDOMRect)(K,de,be)})}),this.show()},this.editor=T,this.element=S,this.view=D,this.updateDelay=U,V&&(this.shouldShow=V),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=w,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:T}=this.editor.options,S=!!T.parentElement;this.tippy||!S||(this.tippy=Object(o.default)(T,pr({duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle"},this.tippyOptions)),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(T,S){const{state:D}=T,w=D.selection.$from.pos!==D.selection.$to.pos;if(this.updateDelay>0&&w){this.handleDebouncedUpdate(T,S);return}this.updateHandler(T,S)}show(){var T;(T=this.tippy)===null||T===void 0||T.show()}hide(){var T;(T=this.tippy)===null||T===void 0||T.hide()}destroy(){var T,S;((T=this.tippy)===null||T===void 0?void 0:T.popper.firstChild)&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(S=this.tippy)===null||S===void 0||S.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const d=C=>new a.c({key:typeof C.pluginKey=="string"?new a.d(C.pluginKey):C.pluginKey,view:T=>new l(pr({view:T},C))}),c=e.Extension.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[d({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}});var u=t(3);class f{constructor({editor:T,element:S,view:D,tippyOptions:w={},shouldShow:U}){this.preventHide=!1,this.shouldShow=({view:V,state:K})=>{const{selection:Y}=K,{$anchor:W,empty:R}=Y,B=W.depth===1,x=W.parent.isTextblock&&!W.parent.type.spec.code&&!W.parent.textContent;return!(!V.hasFocus()||!R||!B||!x||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:V})=>{var K;if(this.preventHide){this.preventHide=!1;return}(V==null?void 0:V.relatedTarget)&&((K=this.element.parentNode)===null||K===void 0?void 0:K.contains(V.relatedTarget))||this.hide()},this.tippyBlurHandler=V=>{this.blurHandler({event:V})},this.editor=T,this.element=S,this.view=D,U&&(this.shouldShow=U),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=w,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:T}=this.editor.options,S=!!T.parentElement;this.tippy||!S||(this.tippy=Object(o.default)(T,pr({duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"right",hideOnClick:"toggle"},this.tippyOptions)),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(T,S){var D,w,U;const{state:V}=T,{doc:K,selection:Y}=V,{from:W,to:R}=Y;if(S&&S.doc.eq(K)&&S.selection.eq(Y))return;if(this.createTooltip(),!((D=this.shouldShow)===null||D===void 0?void 0:D.call(this,{editor:this.editor,view:T,state:V,oldState:S}))){this.hide();return}(w=this.tippy)===null||w===void 0||w.setProps({getReferenceClientRect:((U=this.tippyOptions)===null||U===void 0?void 0:U.getReferenceClientRect)||(()=>Object(e.posToDOMRect)(T,W,R))}),this.show()}show(){var T;(T=this.tippy)===null||T===void 0||T.show()}hide(){var T;(T=this.tippy)===null||T===void 0||T.hide()}destroy(){var T,S;((T=this.tippy)===null||T===void 0?void 0:T.popper.firstChild)&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(S=this.tippy)===null||S===void 0||S.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const m=C=>new a.c({key:typeof C.pluginKey=="string"?new a.d(C.pluginKey):C.pluginKey,view:T=>new f(pr({view:T},C))}),p=e.Extension.create({name:"floatingMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"floatingMenu",shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[m({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}}),g=C=>{const[T,S]=Object(u.useState)(null);return Object(u.useEffect)(()=>{if(!T||C.editor.isDestroyed)return;const{pluginKey:D="bubbleMenu",editor:w,tippyOptions:U={},updateDelay:V,shouldShow:K=null}=C,Y=d({updateDelay:V,editor:w,element:T,pluginKey:D,shouldShow:K,tippyOptions:U});return w.registerPlugin(Y),()=>w.unregisterPlugin(D)},[C.editor,T]),u.default.createElement("div",{ref:S,className:C.className,style:{visibility:"hidden"}},C.children)};class O extends e.Editor{constructor(){super(...arguments);this.contentComponent=null}}const s=({renderers:C})=>u.default.createElement(u.default.Fragment,null,Object.entries(C).map(([T,S])=>u.default.createPortal(S.reactElement,S.element,T)));class r extends u.default.Component{constructor(T){super(T);this.editorContentRef=u.default.createRef(),this.initialized=!1,this.state={renderers:{}}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const{editor:T}=this.props;if(T&&T.options.element){if(T.contentComponent)return;const S=this.editorContentRef.current;S.append(...T.options.element.childNodes),T.setOptions({element:S}),T.contentComponent=this,T.createNodeViews(),this.initialized=!0}}maybeFlushSync(T){this.initialized?Object(u.flushSync)(T):T()}setRenderer(T,S){this.maybeFlushSync(()=>{this.setState(({renderers:D})=>({renderers:_o(pr({},D),{[T]:S})}))})}removeRenderer(T){this.maybeFlushSync(()=>{this.setState(({renderers:S})=>{const D=pr({},S);return delete D[T],{renderers:D}})})}componentWillUnmount(){const{editor:T}=this.props;if(!T||(this.initialized=!1,T.isDestroyed||T.view.setProps({nodeViews:{}}),T.contentComponent=null,!T.options.element.firstChild))return;const S=document.createElement("div");S.append(...T.options.element.childNodes),T.setOptions({element:S})}render(){const D=this.props,{editor:T}=D,S=Ji(D,["editor"]);return u.default.createElement(u.default.Fragment,null,u.default.createElement("div",pr({ref:this.editorContentRef},S)),u.default.createElement(s,{renderers:this.state.renderers}))}}const i=u.default.memo(r),h=C=>{const[T,S]=Object(u.useState)(null);return Object(u.useEffect)(()=>{if(!T||C.editor.isDestroyed)return;const{pluginKey:D="floatingMenu",editor:w,tippyOptions:U={},shouldShow:V=null}=C,K=m({pluginKey:D,editor:w,element:T,tippyOptions:U,shouldShow:V});return w.registerPlugin(K),()=>w.unregisterPlugin(D)},[C.editor,T]),u.default.createElement("div",{ref:S,className:C.className,style:{visibility:"hidden"}},C.children)},v=Object(u.createContext)({onDragStart:void 0}),j=()=>Object(u.useContext)(v),y=C=>{const T=C.as||"div",{nodeViewContentRef:S}=j();return u.default.createElement(T,_o(pr({},C),{ref:S,"data-node-view-content":"",style:pr({whiteSpace:"pre-wrap"},C.style)}))},b=u.default.forwardRef((C,T)=>{const{onDragStart:S}=j(),D=C.as||"div";return u.default.createElement(D,_o(pr({},C),{ref:T,"data-node-view-wrapper":"",onDragStart:S,style:pr({whiteSpace:"normal"},C.style)}))});function E(C){return!!(typeof C=="function"&&C.prototype&&C.prototype.isReactComponent)}function P(C){var T;return typeof C=="object"&&((T=C.$$typeof)===null||T===void 0?void 0:T.toString())==="Symbol(react.forward_ref)"}class A{constructor(T,{editor:S,props:D={},as:w="div",className:U="",attrs:V}){this.ref=null,this.id=Math.floor(Math.random()*4294967295).toString(),this.component=T,this.editor=S,this.props=D,this.element=document.createElement(w),this.element.classList.add("react-renderer"),U&&this.element.classList.add(...U.split(" ")),V&&Object.keys(V).forEach(K=>{this.element.setAttribute(K,V[K])}),this.render()}render(){var T,S;const D=this.component,w=this.props;(E(D)||P(D))&&(w.ref=U=>{this.ref=U}),this.reactElement=u.default.createElement(D,pr({},w)),(S=(T=this.editor)===null||T===void 0?void 0:T.contentComponent)===null||S===void 0||S.setRenderer(this.id,this)}updateProps(T={}){this.props=pr(pr({},this.props),T),this.render()}destroy(){var T,S;(S=(T=this.editor)===null||T===void 0?void 0:T.contentComponent)===null||S===void 0||S.removeRenderer(this.id)}}class _ extends e.NodeView{mount(){const T={editor:this.editor,node:this.node,decorations:this.decorations,selected:!1,extension:this.extension,getPos:()=>this.getPos(),updateAttributes:(U={})=>this.updateAttributes(U),deleteNode:()=>this.deleteNode()};if(!this.component.displayName){const U=V=>V.charAt(0).toUpperCase()+V.substring(1);this.component.displayName=U(this.extension.name)}const S=U=>{const V=this.component,K=this.onDragStart.bind(this),Y=W=>{W&&this.contentDOMElement&&W.firstChild!==this.contentDOMElement&&W.appendChild(this.contentDOMElement)};return u.default.createElement(u.default.Fragment,null,u.default.createElement(v.Provider,{value:{onDragStart:K,nodeViewContentRef:Y}},u.default.createElement(V,pr({},U))))};S.displayName="ReactNodeView",this.contentDOMElement=this.node.isLeaf?null:document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement&&(this.contentDOMElement.style.whiteSpace="inherit");let D=this.node.isInline?"span":"div";this.options.as&&(D=this.options.as);const{className:w=""}=this.options;this.renderer=new A(S,{editor:this.editor,props:T,as:D,className:`node-${this.node.type.name} ${w}`.trim(),attrs:this.options.attrs})}get dom(){var T;if(this.renderer.element.firstElementChild&&!((T=this.renderer.element.firstElementChild)===null||T===void 0?void 0:T.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}update(T,S){const D=w=>{this.renderer.updateProps(w)};if(T.type!==this.node.type)return!1;if(typeof this.options.update=="function"){const w=this.node,U=this.decorations;return this.node=T,this.decorations=S,this.options.update({oldNode:w,oldDecorations:U,newNode:T,newDecorations:S,updateProps:()=>D({node:T,decorations:S})})}return T===this.node&&this.decorations===S||(this.node=T,this.decorations=S,D({node:T,decorations:S})),!0}selectNode(){this.renderer.updateProps({selected:!0})}deselectNode(){this.renderer.updateProps({selected:!1})}destroy(){this.renderer.destroy(),this.contentDOMElement=null}}function M(C,T){return S=>S.editor.contentComponent?new _(C,S,T):{}}function F(){const[,C]=Object(u.useState)(0);return()=>C(T=>T+1)}const H=(C={},T=[])=>{const[S,D]=Object(u.useState)(null),w=F(),{onBeforeCreate:U,onBlur:V,onCreate:K,onDestroy:Y,onFocus:W,onSelectionUpdate:R,onTransaction:B,onUpdate:x}=C;return Object(u.useEffect)(()=>{!S||(U&&(S.off("beforeCreate"),S.on("beforeCreate",U)),V&&(S.off("blur"),S.on("blur",V)),K&&(S.off("create"),S.on("create",K)),Y&&(S.off("destroy"),S.on("destroy",Y)),W&&(S.off("focus"),S.on("focus",W)),R&&(S.off("selectionUpdate"),S.on("selectionUpdate",R)),B&&(S.off("transaction"),S.on("transaction",B)),x&&(S.off("update"),S.on("update",x)))},[U,V,K,Y,W,R,B,x]),Object(u.useEffect)(()=>{let G=!0;const Q=new O(C);return D(Q),Q.on("transaction",()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{G&&w()})})}),()=>{Q.destroy(),G=!1}},T),S}},function(k,n,t){"use strict";t.d(n,"a",function(){return a});const e=Intl.NumberFormat(void 0,{maximumSignificantDigits:4});function a(o){return e.format(o)}},function(k,n,t){"use strict";t.d(n,"a",function(){return s});var e=t(0),a=t(1),o=t(12),l=t.n(o),d=t(17),c=t.n(d),u=t(10),f=t.n(u),m=t(7),p=t(123);const g=(h,{timeout:v=5e3,className:j="",dismissable:y=!1,beforeDismiss:b=null}={},E=document.body)=>{const P=document.createElement("div");P.setAttribute("id","toast"),P.setAttribute("role","alert"),j&&P.classList.add(j),E.appendChild(P);const A=()=>{b&&b(),P.classList.remove("in"),setTimeout(()=>{P.remove()},500)};Object(e.render)([Object(e.h)("p",null,h),y&&Object(e.h)("a",{className:"dismiss",onClick:A},"Dismiss")],P),setTimeout(()=>{P.classList.add("in")}),!y&&setTimeout(A,v)},O=({children:h,className:v,dismissKey:j,dismissDurationInSeconds:y,beforeDismiss:b,container:E})=>{const[P,A]=Object(p.a)(j,y,b);if(!P)return g(h,{className:v,beforeDismiss:A,dismissable:!0},E)},s=({user:h,pub:v,container:j})=>{if(!(!h||!v||!h.is_subscribed))return Object(e.h)(i,{pub:v,container:j})},r=h=>{if(h&&h.cardExpiresAt){const v=c()(h.expiry).subtract(u.GRACE_PERIOD_DAYS,"day"),j=c()(h.cardExpiresAt),y=c()().add(12,"day");return j.isBefore(v)&&v.isBefore(y)}return!1},i=({pub:h,container:v})=>{const[j,y]=Object(a.l)(null);if(Object(a.d)(()=>{l.a.get("/api/v1/subscription").then(b=>y(b.body)).catch(b=>{console.error("Failed to fetch subscription data: ",b)})},[]),r(j))return Object(e.h)(O,{className:"urgent",dismissKey:"card-expiring-toast.dismissed",dismissDurationInSeconds:1*u.WEEK_IN_SECONDS,beforeDismiss:()=>{Object(m.i)(m.a.CARD_EXPIRED_WARNING_DISMISSED,{type:"toast"})},container:v},"Your credit card is expiring soon."," ",Object(e.h)("a",{href:"/account/billing",native:!0,onClick:()=>{Object(m.i)(m.a.UPDATE_EXPIRED_CARD_LINK_CLICKED,{type:"toast"})}},"Update your card"),` before you lose access to ${h.name}`,".")};n.b=g},function(k,n,t){"use strict";t.d(n,"b",function(){return d}),t.d(n,"a",function(){return c});var e=t(0),a=t(3),o=t(1);const l=Object(e.createContext)(null);function d({root:u,children:f}){const m=Object(o.k)(u);return Object(e.h)(l.Provider,{value:m},f,!u&&Object(e.h)("div",{ref:m}))}function c({children:u}){const f=Object(o.b)(l).current;return f?Object(a.createPortal)(u,f):null}},function(k,n,t){"use strict";t.d(n,"a",function(){return u});var e=t(3),a=t(72),o=t(139),l;let d=0;function c(){return++d}let u=(l=e.default.useId)!=null?l:function(){let f=Object(o.a)(),[m,p]=e.default.useState(f?c:null);return Object(a.a)(()=>{m===null&&p(c())},[m]),m!=null?""+m:void 0}},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(219);function a(){let o=[],l=[],d={enqueue(c){l.push(c)},addEventListener(c,u,f,m){return c.addEventListener(u,f,m),d.add(()=>c.removeEventListener(u,f,m))},requestAnimationFrame(...c){let u=requestAnimationFrame(...c);return d.add(()=>cancelAnimationFrame(u))},nextFrame(...c){return d.requestAnimationFrame(()=>d.requestAnimationFrame(...c))},setTimeout(...c){let u=setTimeout(...c);return d.add(()=>clearTimeout(u))},microTask(...c){let u={current:!0};return Object(e.a)(()=>{u.current&&c[0]()}),d.add(()=>{u.current=!1})},add(c){return o.push(c),()=>{let u=o.indexOf(c);if(u>=0){let[f]=o.splice(u,1);f()}}},dispose(){for(let c of o.splice(0))c()},workQueue(){return Zl(this,null,function*(){for(let c of l.splice(0))yield c()})}};return d}},function(k,n,t){"use strict";t.d(n,"a",function(){return e});function e(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")}},function(k,n,t){"use strict";t.d(n,"a",function(){return o});var e=t(408);function a(l,d){for(var c=0;c<d.length;c++){var u=d[c];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(l,Object(e.a)(u.key),u)}}function o(l,d,c){return d&&a(l.prototype,d),c&&a(l,c),Object.defineProperty(l,"prototype",{writable:!1}),l}},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(401);function a(o,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(l&&l.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),l&&Object(e.a)(o,l)}},function(k,n,t){"use strict";t.d(n,"d",function(){return D}),t.d(n,"e",function(){return w}),t.d(n,"c",function(){return K}),t.d(n,"a",function(){return Y}),t.d(n,"b",function(){return W});var e=t(0),a=t(5),o=t.n(a),l=t(198),d=t.n(l),c=t(12),u=t.n(c),f=t(40),m=t(4),p=t.n(m),g=t(10),O=t.n(g),s=t(149),r=t(7),i=t(9),h=t.n(i),v=t(2),j=t(8),y=t(183),b=t(121),E=t(50),P=Object.defineProperty,A=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,F=(R,B,x)=>B in R?P(R,B,{enumerable:!0,configurable:!0,writable:!0,value:x}):R[B]=x,H=(R,B)=>{for(var x in B||(B={}))_.call(B,x)&&F(R,x,B[x]);if(A)for(var x of A(B))M.call(B,x)&&F(R,x,B[x]);return R},C=(R,B,x)=>(F(R,typeof B!="symbol"?B+"":B,x),x),T=(R,B,x)=>new Promise((G,Q)=>{var he=de=>{try{le(x.next(de))}catch(be){Q(be)}},Z=de=>{try{le(x.throw(de))}catch(be){Q(be)}},le=de=>de.done?G(de.value):Promise.resolve(de.value).then(he,Z);le((x=x.apply(R,B)).next())});const S="\u2764",D=(R,B,x)=>{const{reaction:G,reactions:Q,reactor_names:he}=U(R,B,x);V(B,G,Q,he)},w=(R,B)=>U(R,B,!B.reaction),U=(R,B,x)=>{let{reaction:G,reactions:Q={},reactor_names:he=[]}=B;return Q=H({},Q),he=[...he],x&&!G?(G=S,Q[G]=Q[G]?Q[G]+1:1,R&&R.is_public_admin&&he.push(R.name||"author")):!x&&G&&(Q[S]=Q[S]?Q[S]-1:0,R&&R.is_public_admin&&(he=he.filter(Z=>Z!==(R.name||"author"))),G=null),{reaction:G,reactions:Q,reactor_names:he}},V=(R,B,x,G)=>{R.reaction=B,R.reactions=x,R.reactor_names=G};function K(R,B,x,G){const Q=Object(m.pathWithQuery)(`/api/v1/${B?"comment":"post"}/${R.id}/reaction`,{token:G});return x?u.a.post(Q).send({reaction:S}):u.a.delete(Q)}class Y extends e.Component{constructor(){super(...arguments);C(this,"state",{includeModal:!1}),C(this,"modalRef",Object(e.createRef)(null)),C(this,"react",B=>T(this,null,function*(){if(this.props.isStatic)return;B&&B.stopPropagation();const G=!(this.props.comment||this.props.post).reaction;if(this.props.onReactedChange&&this.props.onReactedChange(G),this.props.noSelfUpdate)return;const Q=yield Object(i.stateLock)(this,"locked",(he,Z)=>T(this,null,function*(){const le=Z.comment||Z.post,de=K(le,!!Z.comment,G,Z.token),{reaction:be,reactions:X,reactor_names:ie}=w(Z.user,le);this.notifyParent({reactions:X,reaction:be,reactor_names:ie});let Ce;try{yield de}catch(Le){Ce=Le,this.notifyParent(le)}return{error:Ce,reaction:be}}));return Q&&Q.error&&(Q.error.response&&Q.error.response.statusCode===401?yield this.reactionRejected(Q.reaction):alert(Object(i.getNetworkErrorMessage)(Q.error))),!!Q&&!Q.error}))}notifyParent({reaction:B,reactions:x,reactor_names:G}){const Q=H({},this.props.post),he=this.props.comment&&H({},this.props.comment);V(he||Q,B,x,G),this.props.onChange&&this.props.onChange({post:Q,comment:he})}reactionRejected(B){return T(this,null,function*(){Object(r.i)(r.a.REACTION_REJECTED,{comment_id:this.props.comment&&this.props.comment.id,post_id:this.props.post&&this.props.post.id,reason:"Not logged in",unreact:!B}),yield new Promise(x=>{this.state.includeModal?this.modalRef.current.open(x):this.setState({includeModal:!0},()=>this.modalRef.current.open(x))})})}render({className:B,user:x,pub:G,comment:Q,height:he,isStatic:Z,post:le,buttonStyle:de,hideReactionCount:be,countInParenthesesStyle:X}){const ie=Q||le,Ce=ie.reaction,Le=ie.reactions||{},Ae=d()(Object.values(Le));let Pe;return le&&le.reaction_url_override?Pe=le.reaction_url_override:Z?Pe=f.Substitutions.REACTION_URL:Pe="javascript:void(0)",Object(e.h)(j.b,{as:"span",decoration:"hover-underline",color:Ce?"accent-red":"pub-secondary-text",className:B},this.props.render?this.props.render({liked:Ce,numReactions:Ae>0?Object(g.numberToString)(Ae):null,onClick:Ne=>{this.react(Ne)}}):Object(e.h)("a",{href:Pe,className:o()("like-button",{button:de,"post-meta-button":de,liked:Ce}),onClick:Ne=>this.react(Ne)},Object(e.h)(v.a,{gap:6,alignItems:"center",className:B},Z?Object(e.h)(b.default,{ampProps:{layout:"fixed"},isStatic:!0,height:he,stroke:"var(--color-secondary-themed)",fill:"transparent"}):Object(e.h)(v.a,{className:"reaction-container"},Object(e.h)(b.default,{className:"animation"}),!Ce&&Object(e.h)(b.default,{strokeWidth:2,height:he,fill:"transparent",stroke:"var(--color-secondary-themed)"}),Ce&&Object(e.h)(b.default,{height:he,strokeWidth:2})),X?Object(e.h)(j.b.Meta,{color:Ce?"accent-red":"pub-secondary-text",className:"like-count"},Ce?"Liked":"Like",!be&&Ae>0?` (${Object(g.numberToString)(Ae)})`:""):!be&&Ae>0?Object(e.h)("span",{className:"like-count"},Object(g.numberToString)(Ae)):de?Object(e.h)("span",{className:"like-count"},"Like"):null)),!Z&&this.state.includeModal&&Object(e.h)(W,{modalRef:this.modalRef,user:x,pub:G,comment:Q,react:this.react}))}}function W({comment:R,pub:B,user:x,modalRef:G,onClose:Q,react:he}){return Object(e.h)(E.b,{className:"modal-free-signup",ref:G,onClose:Q},Object(e.h)("h2",{className:"page-title"},"Subscribe to like this ",R?"comment":"post"),Object(e.h)(y.a,{user:x,pub:B,source:"like_button",onSuccess:Z=>T(this,null,function*(){const le=Z&&Z.body&&Z.body.email;Z&&Z.body&&Z.body.prompt_to_login||!(yield he())?window.location.href=Object(m.getSigninUrl)({for_pub:B.subdomain,email:le}):(G==null?void 0:G.current)&&(Object(s.b)({freeSignup:!0,freeSignupEmail:le}),yield G.current.close())})}))}},function(k,n,t){"use strict";t.d(n,"a",function(){return p});var e=t(0),a=t(5),o=t.n(a),l=t(9),d=t.n(l),c=Object.defineProperty,u=(g,O,s)=>O in g?c(g,O,{enumerable:!0,configurable:!0,writable:!0,value:s}):g[O]=s,f=(g,O,s)=>(u(g,typeof O!="symbol"?O+"":O,s),s),m=(g,O,s)=>new Promise((r,i)=>{var h=y=>{try{j(s.next(y))}catch(b){i(b)}},v=y=>{try{j(s.throw(y))}catch(b){i(b)}},j=y=>y.done?r(y.value):Promise.resolve(y.value).then(h,v);j((s=s.apply(g,O)).next())});class p extends e.Component{constructor(){super(...arguments);f(this,"checkVisibility",()=>{if(!this.ref)return;const O=this.ref.getBoundingClientRect(),s=this.props.threshold||0,r=this.props.parent?this.props.parent.clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight),i=!(O.bottom<0-s||O.top>=r+s);Object(l.stateTransaction)(this,(h,v)=>m(this,null,function*(){if(h.isVisible!==i)this.setState({isVisible:i});else if(!v.noDedupe)return;const y=i?"hadFirstVisible":"hadFirstInvisible",b=!h[y];b&&this.setState({[y]:!0}),(yield Promise.all([i&&v.onVisible&&v.onVisible(),i&&v.onFirstVisible&&b&&v.onFirstVisible(),!i&&v.onInvisible&&v.onInvisible(),!i&&v.onFirstInvisible&&b&&v.onFirstInvisible()])).reduce((P,A)=>A===!0||P)&&this.checkVisibility()}))})}componentDidMount(){return m(this,null,function*(){typeof window!="undefined"&&(this.ref||(yield new Promise(O=>setTimeout(O,0))),this.checkVisibility(),(this.props.parent||window).addEventListener("scroll",this.checkVisibility))})}componentWillUnmount(){typeof window!="undefined"&&(this.props.parent||window).removeEventListener("scroll",this.checkVisibility)}render({className:O,children:s}){return Object(e.h)("div",{ref:r=>this.ref=r,className:o()("visibility-check",O)},s)}}},function(k,n,t){"use strict";t.d(n,"c",function(){return S}),t.d(n,"b",function(){return Y}),t.d(n,"a",function(){return W});var e=t(0),a=t(5),o=t.n(a),l=t(261),d=t(4),c=t.n(d),u=t(10),f=t.n(u),m=t(71),p=t(25),g=t(7),O=t(18),s=t(14),r=t(2),i=t(164),h=t(8),v=t(77),j=t(48),y=t(19),b=t(62),E=t(203),P=t(115),A=Object.defineProperty,_=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable,H=(R,B,x)=>B in R?A(R,B,{enumerable:!0,configurable:!0,writable:!0,value:x}):R[B]=x,C=(R,B)=>{for(var x in B||(B={}))M.call(B,x)&&H(R,x,B[x]);if(_)for(var x of _(B))F.call(B,x)&&H(R,x,B[x]);return R},T=(R,B)=>{var x={};for(var G in R)M.call(R,G)&&B.indexOf(G)<0&&(x[G]=R[G]);if(R!=null&&_)for(var G of _(R))B.indexOf(G)<0&&F.call(R,G)&&(x[G]=R[G]);return x};const S=R=>{var B=R,{publication_id:x,inline:G,utmSource:Q}=B,he=T(B,["publication_id","inline","utmSource"]);const{result:Z,refetch:le}=Object(O.f)({pathname:`/api/v1/publication/public/${x}`,auto:!1,deps:[x]}),de=Object(p.c)();return Object(e.h)(i.a,C({className:o()(P.a.publicationHoverCardTarget,G&&P.a.inline),content:Z?Object(e.h)(D,{result:Z,user:de,utmSource:Q}):Object(e.h)(K,null),onFetch:le,layerClassName:P.a.publicationHoverCard},he))};function D({result:R,user:B,utmSource:x}){const{getExperimentVariant:G,exposeExperiment:Q}=Object(m.d)(),{pub:he}=R,Z=he.rankingDetail&&G("over_copy_profile_hover_cards")&&he.rankingDetailFreeSubscriberCount,le=Z&&G("over_copy_profile_hover_cards")==="treatment";let de={};Z&&(de={experiment:"over_copy_profile_hover_cards",variant:Z?"treatment":"control"},Q("over_copy_profile_hover_cards")),Object(g.i)(g.a.PUBLICATION_HOVER_CARD_SHOWN,C({publication_id:he.id},de));let be=R==null?void 0:R.pub.contributors,X=null;be&&be.length>3&&(X=`See all (${Object(u.numberToString)(be.length)})`,be=be.slice(0,3));const ie=`${R.pub.base_url}?utm_source=${x}`;return Object(e.h)(r.b,null,Object(e.h)(r.c,{padding:8},Object(e.h)("a",{href:ie},Object(e.h)(b.a,{pub:R.pub,size:56}))),Object(e.h)(r.b,{padding:8,gap:6},Object(e.h)(Y,{title:R.pub.name,handle:void 0,blurb:R.pub.hero_text,url:R.pub.base_url}),he.rankingDetail&&Object(e.h)(h.b,{font:"meta",color:"secondary",size:12,weight:"medium",lineHeight:20},le?he.rankingDetailFreeSubscriberCount.toUpperCase():R.pub.rankingDetail.toUpperCase())),Object(e.h)(r.b,{padding:8},Object(e.h)(w,{isContr:R.isContributor,isSubs:R.isSubscribed,pub:R.pub,user:B,dashboardUrl:R.pub.base_url,utmSource:x})),Object(e.h)(r.c,{padding:8},Object(e.h)("div",{className:P.a.hoverCardDivider})),Object(e.h)(r.b,null,Object(e.h)(U,{contributors:be,seeAllLabel:X,redirLink:R.pub.base_url,utmSource:x})))}function w({isContr:R,isSubs:B,pub:x,user:G,dashboardUrl:Q,utmSource:he}){const Z=Object(E.g)("profile");return Object(e.h)(r.b,null,R?Object(e.h)(e.Fragment,null,Object(e.h)(s.a,{priority:"secondary",fill:"outline",href:`${Q}/publish`},"Dashboard")):B?Object(e.h)(s.a,{priority:"secondary",fill:"outline",href:Object(d.getSubscribeUrl)(x,{user:G,addBase:!0,utm_source:he||"pub_hover_card",utm_medium:"web",utm_campaign:"profile_page"}),leftIcon:Object(e.h)(l.a,null)},"Subscribed"):Object(e.h)(s.a,{priority:"primary",href:Object(d.getSubscribeUrl)(x,{user:G,addBase:!0,utm_source:he|"pub_hover_card",utm_medium:"web",utm_campaign:"profile_page"}),onClick:Z(x)},"Subscribe"))}function U({contributors:R,seeAllLabel:B,redirLink:x,utmSource:G}){return Object(e.h)(r.b,null,Object(e.h)(W,{sectionTitle:"Written by",seeAllLabel:B,link:`${x}/about?sort=people`}),Object(e.h)(r.b,null,R.map(Q=>Object(e.h)(V,{profile:Q,utmSource:G}))))}function V({profile:R,utmSource:B}){return Object(e.h)("a",{href:Object(d.getProfileUrlById)(R.user_id,R.name,{searchParams:{utm_source:B}}),className:P.a.hoverCardAvatar},Object(e.h)(j.a,{user:R,size:32}),Object(e.h)(h.b,{font:"text",weight:"semibold",size:14,lineHeight:20},R.name))}function K(){return Object(e.h)(r.b,{padding:8,gap:8},Object(e.h)(y.B,{size:56,style:{borderRadius:4}}),Object(e.h)(y.B,{type:"bar",width:"100%",height:20}),Object(e.h)(y.B,{type:"bar",width:"20%",height:20}),Object(e.h)(y.B,{type:"bar",width:"60%",height:20}))}function Y({title:R,handle:B,blurb:x,url:G,themed:Q,bestsellerTier:he,userId:Z}){return Object(e.h)(e.Fragment,null,Object(e.h)("a",{style:{textDecoration:"none"},href:G},Object(e.h)(h.b.H3,{color:Q?"pub-primary-text":"primary",className:P.a.hoverCardTitle},R,!!he&&!!Z&&Object(e.h)("span",{style:{whiteSpace:"nowrap",position:"relative",top:2,left:2}},"\xA0",Object(e.h)(v.a,{inline:!0,tier:he,userId:Z,tooltipOnHover:!0,size:"md"})))),B&&Object(e.h)(h.b.Meta,null,`@${B}`),x&&Object(e.h)(h.b.B3,{color:Q?"pub-secondary-text":"secondary",clamp:4},x))}function W({sectionTitle:R,seeAllLabel:B,link:x}){return Object(e.h)(r.c,{padding:8,justifyContent:"space-between"},Object(e.h)(h.b.Meta,{color:"secondary"},R),B&&Object(e.h)("a",{className:P.a.hoverCardSeeAll,href:x},Object(e.h)(h.b.B4,{color:"accent-blue"},B)))}},function(k,n,t){"use strict";t.d(n,"a",function(){return o});var e=t(3);let a={serverHandoffComplete:!1};function o(){let[l,d]=Object(e.useState)(a.serverHandoffComplete);return Object(e.useEffect)(()=>{l!==!0&&d(!0)},[l]),Object(e.useEffect)(()=>{a.serverHandoffComplete===!1&&(a.serverHandoffComplete=!0)},[]),l}},,function(k,n,t){"use strict";t.d(n,"d",function(){return p}),t.d(n,"b",function(){return g}),t.d(n,"c",function(){return O}),t.d(n,"a",function(){return s}),t.d(n,"e",function(){return r});var e=t(110),a=t.n(e),o=t(16),l=Object.defineProperty,d=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,f=(i,h,v)=>h in i?l(i,h,{enumerable:!0,configurable:!0,writable:!0,value:v}):i[h]=v,m=(i,h)=>{for(var v in h||(h={}))c.call(h,v)&&f(i,v,h[v]);if(d)for(var v of d(h))u.call(h,v)&&f(i,v,h[v]);return i};function p(i,h,{searchParams:v,noBase:j,baseUrl:y}={}){let E=`${j?"":y!=null?y:Object(o.e)()}/profile/${i}`;const P=Object(e.cleanSlug)(h,{hashIfEmpty:!0});return P&&(E+=`-${P}`),Object(o.f)(E,v)}const g=(i,{searchParams:h,noBase:v}={})=>{const y=`${v?"":Object(o.e)()}/@${i}`;return Object(o.f)(y,h)};function O(i,{searchParams:h,noBase:v,baseUrl:j}={}){const b=`${v?"":j!=null?j:Object(o.e)()}/@${i}`;return Object(o.f)(b,h)}function s(){return`${Object(o.e)()}/profile/edit`}function r(i,{utm_source:h,utm_content:v,noBase:j,extraParams:y}={}){const b=h||v?{utm_source:h,utm_content:v}:void 0,E=m(m({},y),b),P=(i==null?void 0:i.handle)||(i==null?void 0:i.author_handle);return P?g(P,{noBase:j,searchParams:E}):p(i.author_id||i.user_id||i.id,i.user_profile_name||i.author_name||i.name,{noBase:j,searchParams:E})}},,function(k,n,t){"use strict";t.d(n,"a",function(){return x});var e=t(0),a=t(3),o=t(38),l=t(131),d=t(293),c=t(358),u=t(72),f=t(82),m=t(54);let p=Object(a.createContext)(null);function g(){let Q=Object(a.useContext)(p);if(Q===null){let he=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(he,g),he}return Q}function O(){let[Q,he]=Object(a.useState)([]);return[Q.length>0?Q.join(" "):void 0,Object(a.useMemo)(()=>function(Z){let le=Object(m.a)(be=>(he(X=>[...X,be]),()=>he(X=>{let ie=X.slice(),Ce=ie.indexOf(be);return Ce!==-1&&ie.splice(Ce,1),ie}))),de=Object(a.useMemo)(()=>({register:le,slot:Z.slot,name:Z.name,props:Z.props}),[le,Z.slot,Z.name,Z.props]);return a.default.createElement(p.Provider,{value:de},Z.children)},[he])]}let s="label",r=Object(o.d)(function(Q,he){let Ce=Q,{passive:Z=!1}=Ce,le=Ji(Ce,["passive"]),de=g(),be=`headlessui-label-${Object(l.a)()}`,X=Object(f.b)(he);Object(u.a)(()=>de.register(be),[be,de.register]);let ie=_o(pr({ref:X},de.props),{id:be});return Z&&("onClick"in ie&&delete ie.onClick,"onClick"in le&&delete le.onClick),Object(o.e)({ourProps:ie,theirProps:le,slot:de.slot||{},defaultTag:s,name:de.name||"Label"})});var i=t(257);function h(Q){var he;if(Q.type)return Q.type;let Z=(he=Q.as)!=null?he:"button";if(typeof Z=="string"&&Z.toLowerCase()==="button")return"button"}function v(Q,he){let[Z,le]=Object(a.useState)(()=>h(Q));return Object(u.a)(()=>{le(h(Q))},[Q.type,Q.as]),Object(u.a)(()=>{Z||!he.current||he.current instanceof HTMLButtonElement&&!he.current.hasAttribute("type")&&le("button")},[Z,he]),Z}var j=t(145);function y(Q={},he=null,Z=[]){for(let[le,de]of Object.entries(Q))E(Z,b(he,le),de);return Z}function b(Q,he){return Q?Q+"["+he+"]":he}function E(Q,he,Z){if(Array.isArray(Z))for(let[le,de]of Z.entries())E(Q,b(he,le.toString()),de);else Z instanceof Date?Q.push([he,Z.toISOString()]):typeof Z=="boolean"?Q.push([he,Z?"1":"0"]):typeof Z=="string"?Q.push([he,Z]):typeof Z=="number"?Q.push([he,`${Z}`]):Z==null?Q.push([he,""]):y(Z,he,Q)}function P(Q){var he;let Z=(he=Q==null?void 0:Q.form)!=null?he:Q.closest("form");if(Z){for(let le of Z.elements)if(le.tagName==="INPUT"&&le.type==="submit"||le.tagName==="BUTTON"&&le.type==="submit"||le.nodeName==="INPUT"&&le.type==="image"){le.click();return}}}function A(Q,he,Z){let[le,de]=Object(a.useState)(Z),be=Q!==void 0,X=Object(a.useRef)(be),ie=Object(a.useRef)(!1),Ce=Object(a.useRef)(!1);return be&&!X.current&&!ie.current?(ie.current=!0,X.current=be,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!be&&X.current&&!Ce.current&&(Ce.current=!0,X.current=be,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[be?Q:le,Object(m.a)(Le=>(be||de(Le),he==null?void 0:he(Le)))]}let _=Object(a.createContext)(null);_.displayName="GroupContext";let M=a.Fragment;function F(Q){let[he,Z]=Object(a.useState)(null),[le,de]=O(),[be,X]=Object(i.b)(),ie=Object(a.useMemo)(()=>({switch:he,setSwitch:Z,labelledby:le,describedby:be}),[he,Z,le,be]),Ce={},Le=Q;return a.default.createElement(X,{name:"Switch.Description"},a.default.createElement(de,{name:"Switch.Label",props:{onClick(){!he||(he.click(),he.focus({preventScroll:!0}))}}},a.default.createElement(_.Provider,{value:ie},Object(o.e)({ourProps:Ce,theirProps:Le,defaultTag:M,name:"Switch.Group"}))))}let H="button",C=Object(o.d)(function(Q,he){let vt=Q,{checked:Z,defaultChecked:le=!1,onChange:de,name:be,value:X}=vt,ie=Ji(vt,["checked","defaultChecked","onChange","name","value"]),Ce=`headlessui-switch-${Object(l.a)()}`,Le=Object(a.useContext)(_),Ae=Object(a.useRef)(null),Pe=Object(f.b)(Ae,he,Le===null?null:Le.setSwitch),[Ne,ce]=A(Z,de,le),q=Object(m.a)(()=>ce==null?void 0:ce(!Ne)),te=Object(m.a)(Wt=>{if(Object(c.a)(Wt.currentTarget))return Wt.preventDefault();Wt.preventDefault(),q()}),ue=Object(m.a)(Wt=>{Wt.key===d.a.Space?(Wt.preventDefault(),q()):Wt.key===d.a.Enter&&P(Wt.currentTarget)}),We=Object(m.a)(Wt=>Wt.preventDefault()),ot=Object(a.useMemo)(()=>({checked:Ne}),[Ne]),ze={id:Ce,ref:Pe,role:"switch",type:v(Q,Ae),tabIndex:0,"aria-checked":Ne,"aria-labelledby":Le==null?void 0:Le.labelledby,"aria-describedby":Le==null?void 0:Le.describedby,onClick:te,onKeyUp:ue,onKeyPress:We};return a.default.createElement(a.default.Fragment,null,be!=null&&Ne&&a.default.createElement(j.b,pr({features:j.a.Hidden},Object(o.c)({as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:Ne,name:be,value:X}))),Object(o.e)({ourProps:ze,theirProps:ie,slot:ot,defaultTag:H,name:"Switch"}))}),T=Object.assign(C,{Group:F,Label:r,Description:i.a});var S=t(5),D=t.n(S),w=t(359),U=Object.defineProperty,V=Object.getOwnPropertySymbols,K=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable,W=(Q,he,Z)=>he in Q?U(Q,he,{enumerable:!0,configurable:!0,writable:!0,value:Z}):Q[he]=Z,R=(Q,he)=>{for(var Z in he||(he={}))K.call(he,Z)&&W(Q,Z,he[Z]);if(V)for(var Z of V(he))Y.call(he,Z)&&W(Q,Z,he[Z]);return Q},B=(Q,he)=>{var Z={};for(var le in Q)K.call(Q,le)&&he.indexOf(le)<0&&(Z[le]=Q[le]);if(Q!=null&&V)for(var le of V(Q))he.indexOf(le)<0&&Y.call(Q,le)&&(Z[le]=Q[le]);return Z};const x=Q=>{var he=Q,{color:Z="default",accessibilityLabel:le="Toggle setting",classNames:de,checked:be,small:X=!1,preflightClassName:ie}=he,Ce=B(he,["color","accessibilityLabel","classNames","checked","small","preflightClassName"]);const Le=Z==="default"?"tw-bg-accent-green":"tw-bg-pub-accent";return Object(e.h)(w.a,{className:ie},Object(e.h)(T,R({className:D()(be?Le:"tw-bg-neutral-400",X?"tw-h4 tw-w-7":"tw-h-6 tw-w-11","tw-relative tw-inline-flex tw-flex-shrink-0 tw-cursor-pointer tw-rounded-full tw-border-2 tw-border-transparent tw-transition-colors tw-duration-200 tw-ease-in-out disabled:tw-bg-neutral-200",de),checked:be},Ce),Object(e.h)("span",{className:"tw-sr-only"},le),Object(e.h)("span",{"aria-hidden":"true",className:D()(be?`${X?"tw-translate-x-3":"tw-translate-x-5"}`:"tw-translate-x-0",X?"tw-h-3 tw-w-3":"tw-h-5 tw-w-5","tw-pointer-events-none tw-inline-block tw-transform tw-rounded-full tw-bg-white tw-shadow tw-ring-0 tw-transition tw-duration-200 tw-ease-in-out")})))};var G=n.b=x},function(k,n,t){"use strict";t.d(n,"a",function(){return o});var e=t(162),a=t(336);function o(l,d){if(d&&(Object(e.a)(d)==="object"||typeof d=="function"))return d;if(d!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Object(a.a)(l)}},function(k,n,t){"use strict";t.d(n,"a",function(){return o}),t.d(n,"b",function(){return l});var e=t(38);let a="div";var o=(d=>(d[d.None=1]="None",d[d.Focusable=2]="Focusable",d[d.Hidden=4]="Hidden",d))(o||{});let l=Object(e.d)(function(d,c){let p=d,{features:u=1}=p,f=Ji(p,["features"]),m={ref:c,"aria-hidden":(u&2)==2?!0:void 0,style:pr({position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},(u&4)==4&&(u&2)!=2&&{display:"none"})};return Object(e.e)({ourProps:m,theirProps:f,slot:{},defaultTag:a,name:"Hidden"})})},function(k,n){function t(e){var a=typeof e;return e!=null&&(a=="object"||a=="function")}k.exports=t},function(k,n,t){"use strict";t.d(n,"b",function(){return S}),t.d(n,"a",function(){return V}),t.d(n,"c",function(){return K}),t.d(n,"d",function(){return Y});var e=t(0),a=t(12),o=t.n(a),l=t(40),d=t(65),c=t.n(d),u=t(4),f=t.n(u),m=t(10),p=t.n(m),g=t(71),O=t(7),s=t(98),r=t(171),i=t(21),h=t(183),v=t(344),j=t(50),y=t(172),b=t(178),E=Object.defineProperty,P=Object.getOwnPropertySymbols,A=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,M=(R,B,x)=>B in R?E(R,B,{enumerable:!0,configurable:!0,writable:!0,value:x}):R[B]=x,F=(R,B)=>{for(var x in B||(B={}))A.call(B,x)&&M(R,x,B[x]);if(P)for(var x of P(B))_.call(B,x)&&M(R,x,B[x]);return R},H=(R,B)=>{var x={};for(var G in R)A.call(R,G)&&B.indexOf(G)<0&&(x[G]=R[G]);if(R!=null&&P)for(var G of P(R))B.indexOf(G)<0&&_.call(R,G)&&(x[G]=R[G]);return x},C=(R,B,x)=>(M(R,typeof B!="symbol"?B+"":B,x),x),T=(R,B,x)=>new Promise((G,Q)=>{var he=de=>{try{le(x.next(de))}catch(be){Q(be)}},Z=de=>{try{le(x.throw(de))}catch(be){Q(be)}},le=de=>de.done?G(de.value):Promise.resolve(de.value).then(he,Z);le((x=x.apply(R,B)).next())});const S=({className:R=null,title:B,subtitle:x=null,reauthenticationTitle:G,publication:Q,post:he,user:Z,freeSignup:le=null,freeSignupEmail:de=null,email_form:be=!1,autoFocus:X=!1,isStatic:ie=!1,coupon:Ce=null})=>{const Le=Z&&Z.email||de||null,Ae=Boolean((Z==null?void 0:Z.is_subscribed)&&(Z==null?void 0:Z.is_magic)),Pe=Boolean((he==null?void 0:he.audience)==="founding"),Ne=Boolean((Z==null?void 0:Z.is_free_subscribed)||le),ce=Object(u.getPostUrl)(Q,he),q=Ce&&Ce.id&&!Pe;let te;q?(he==null?void 0:he.type)==="podcast"?te="Listen to this episode with a 7-day free trial":(he==null?void 0:he.type)==="video"?te="Watch with a 7-day free trial":te=`Keep ${Object(m.getPostCtaPresentParticiple)(he==null?void 0:he.type)} with a 7-day free trial`:Ae?te=G:te=B;let ue;return q&&((he==null?void 0:he.type)==="podcast"?ue="listen to this episode":(he==null?void 0:he.type)==="video"?ue="watch this video":ue=`keep ${Object(m.getPostCtaPresentParticiple)(he==null?void 0:he.type)} this ${Object(m.getPrintedPostType)(he==null?void 0:he.type)}`),Object(e.h)("div",{className:`paywall ${R||""}`,"data-testid":"paywall"},Le&&Object(e.h)("div",{className:"paywall-intro"},"Hi ",Object(e.h)("b",null,Le)),Object(e.h)("h2",{className:"paywall-title"},te),x&&!q&&Object(e.h)("p",{className:"paywall-subtitle"},x),q&&Object(e.h)("div",{className:"paywall-free-trial-subtitle"},Object(e.h)("p",{className:"paywall-subtitle"},"Subscribe to"," ",Object(e.h)("b",null,Object(e.h)("i",null,Q.name))," ","to ",ue," and get 7 days of free access to the full post archives.")),be?!Ne&&Object(e.h)("div",{className:"paywall-cta"},Object(e.h)(h.a,{source:"post-unlock",email:Le,user:Z,pub:Q,freeSignup:le,freeSignupEmail:de,onSuccess:()=>document.location.reload(),hideLogin:!0,hideTerms:!0,autoFocus:X!=null?X:!0,submitButtonText:`Start ${Object(m.getPostCtaPresentParticiple)(he==null?void 0:he.type,{isFinalWord:!0})}`})):Object(e.h)(D,{coupon:Ce,email:Le,isStatic:ie,post:he,postUrl:ce,publication:Q,useCoupon:q,user:Z}),!Ae&&!ie&&Object(e.h)("div",{className:"paywall-login"},Object(e.h)("a",{href:Object(u.getSigninUrl)({for_pub:Q.subdomain,change_user:!!Le}),native:!0},W({post:he,publication:Q,isPaid:!be})," ",Object(e.h)("b",null,Le?"Switch accounts":"Sign in"))))},D=({coupon:R,email:B,isStatic:x,post:G,postUrl:Q,publication:he,useCoupon:Z,user:le})=>{const de=Boolean(le==null?void 0:le.is_founding),be=Boolean(le==null?void 0:le.is_subscribed),X=Boolean((le==null?void 0:le.is_subscribed)&&(le==null?void 0:le.is_magic)),ie=(G==null?void 0:G.audience)==="founding",{exposeExperiment:Ce,getExperimentVariant:Le}=Object(g.d)(),Ae=Le("autosubscribe_from_paywall")==="treatment";if(x){if(!he.plans)return null;const Pe=ie?l.Substitutions.FOUNDING_CHECKOUT_URL:l.Substitutions.CHECKOUT_URL,Ne=Z?`&coupon=${R.id}`:"",ce=ie?`Upgrade to ${Object(d.getFoundingTierName)(he)}`:Z?"Start trial":Object(e.h)(y.a,{pub:he,user:le,isStatic:x});return Object(e.h)(w,{href:`${Pe}simple=true&utm_source=paywall&utm_medium=email&utm_content=${G.id}&next=${Q}${Ne}`},ce)}return!de&&ie?he.plans?Object(e.h)(U,{href:Object(u.getCheckoutUrl)(he,{simple:!0,next:document.location.href,utm_source:"paywall",utm_medium:"web",utm_content:G?G.id:null,plan:"founding"})},`Upgrade to ${Object(d.getFoundingTierName)(he)}`):null:be?X?Object(e.h)(U,{href:Object(u.getSigninUrl)({for_pub:he.subdomain,email:B})},"Click here to sign in"):null:he.plans?(le==null?void 0:le.email)&&!Z?Object(e.h)(U,{onClick:()=>T(void 0,null,function*(){if(yield Ce("autosubscribe_from_paywall"),Ae)try{yield o.a.post("/api/v1/free").send({source:"paywall",email:B,first_url:s.d,first_referrer:s.c,current_url:s.b,current_referrer:s.a})}catch(Pe){Object(O.i)(O.a.PAYWALL_FREE_SIGNUP_FAILED,{reason:Pe.message})}window.location.href=Object(u.getCheckoutUrl)(he,{simple:!0,next:document.location.href,utm_source:"paywall",utm_medium:x?"email":"web",utm_content:G?G.id:null,just_signed_up:Ae})})},Object(e.h)(y.a,{pub:he,user:le,isStatic:x})):Object(e.h)(U,{href:Object(u.getCheckoutUrl)(he,{simple:!0,next:document.location.href,utm_source:Z?"paywall-free-trial":"paywall",utm_medium:x?"email":"web",utm_content:G?G.id:null,coupon:Z?R.id:null})},Z?"Start trial":Object(e.h)(y.a,{pub:he,user:le,isStatic:x})):null},w=({children:R,href:B})=>Object(e.h)("div",{className:"paywall-cta"},Object(e.h)("a",{className:"button primary subscribe-btn",href:B},Object(e.h)("span",null,R))),U=({children:R,href:B,onClick:x})=>Object(e.h)("div",{className:"paywall-cta"},Object(e.h)("a",{href:B,onClick:x,native:!0},Object(e.h)(i.b,{className:"subscribe-btn"},R)));class V extends j.a{renderChildren(){const B=this.props,{ref:x}=B,G=H(B,["ref"]);return Object(e.h)(S,F({className:"modal-paywall"},G))}}class K extends r.a{renderButtons({pub:B,post:x,isStatic:G,paywallAudience:Q}){return Object(e.h)("div",{className:"audio-player-buttons audio-player-paywall"},Object(e.h)("a",{className:"primary",href:Object(u.getCheckoutUrl)(B,{simple:!0,next:document.location.href,utm_source:"paywall",utm_medium:"web",utm_content:x?x.id:null}),native:!0},Object(e.h)(i.b,null,Object(e.h)(v.default,{alt:"play",isStatic:G,stroke:"#000000",fill:"#000000"}),`This episode is for ${Q!=null?Q:"paid subscribers"}`)))}}class Y extends b.a{constructor(){super(...arguments);C(this,"playbackEnabled",()=>this.props.mediaUpload.preview_duration>0),C(this,"cta",()=>this.playbackEnabled()&&!this.state.allSourcesFailed&&!this.state.hasReachedEnd?"":this.playbackEnabled()?"Subscribe for full video":"Subscribe and watch"),C(this,"href",()=>{var B;return this.playbackEnabled()&&!this.state.allSourcesFailed&&!this.state.hasReachedEnd?this.props.href:this.props.href||Object(u.getCheckoutUrl)(this.props.pub,{simple:!0,next:document.location.href,utm_source:"paywall",utm_medium:"web",utm_content:(B=this.props.post)==null?void 0:B.id})})}}function W({post:R,publication:B,isPaid:x=!0}={}){var G;return x?(R==null?void 0:R.audience)==="founding"?`Already in the ${(G=Object(d.getFoundingTierName)(B))!=null?G:"Founding Member"} plan?`:"Already a paid subscriber?":"Already a subscriber?"}},function(k,n,t){"use strict";t.d(n,"a",function(){return U}),t.d(n,"b",function(){return G});var e=t(0),a=t(5),o=t.n(a),l=t(97),d=t.n(l),c=t(839),u=t(15),f=t(283),m=t(2),p=t(8),g=t(48),O=t(106),s=t(37),r=t(220),i=t(335),h=t(831),v=t(45),j=t(59),y=t(158),b=t(159),E=t(80),P=t(24);const A="notes_quote_attachment";function _({attachment:Q,readOnly:he,onClick:Z}){const le=Object(s.a)(),{postSelection:de,post:be,publication:X,author:ie}=Q,Ce=ie!=null?ie:Object(v.getPostAuthor)(X,be),Le=Object(b.a)({publication:X,subscriptionSource:A,publicationName:X.name}),Ae=Object(e.h)(g.a,{size:36,user:Ce});return Object(e.h)(m.b,{className:P.a.quote,as:he?"div":"a",border:"detail",radius:12,onClick:Pe=>{Z&&Z(),!le&&O.a&&!he&&Object(y.a)(Pe,Object(u.getPostUrl)(X,be,{noBase:!le,feedViewer:!le,urlParams:{selection:de.id}}))},href:he?void 0:Object(u.getPostUrl)(X,be,{feedViewer:!1,urlParams:{selection:de.id}})},Object(e.h)(m.b,{padding:{mobile:12,desktop:16},borderBottom:"detail"},Object(e.h)(p.b,{font:"serif",className:o()(P.a.quoteText,le&&P.a.mobile)},"\u201C",M(de.text),"\u201D")),Object(e.h)(m.a,{className:P.a.quoteBottom,alignItems:"center",paddingX:le?12:16,paddingY:le?8:12,gap:12},Object(e.h)(m.a,{gap:12,flex:"grow",alignItems:"center",minWidth:0},he?Ae:Object(e.h)(j.b,{subject:Ce,dontStopPropagation:!0,utmSource:"feed"},Ae),Object(e.h)(m.b,{minWidth:0,flex:"grow"},Object(e.h)(p.b.B4,{weight:"medium",ellipsis:!0},he?Ce.name:Object(e.h)(E.b,{user:Ce,ellipsis:!0,utm_source:A})),Object(e.h)(m.a,{gap:6,minWidth:0},Object(e.h)(p.b.B4,{color:"secondary",ellipsis:!0},be.title),Le.showCta&&Object(e.h)(e.Fragment,null,Object(e.h)(p.b.B4,{color:"secondary",ellipsis:!0},"\u2219"),Object(e.h)(p.b.B4,{color:Le.isSubscribed?"secondary":"substack"},Object(e.h)(E.c,{href:"javascript:void",onClick:he?void 0:Le.isSubscribed?Le.unsubscribe:Le.subscribe},Le.isSubscribed?"Subscribed":"Subscribe")))))),Object(e.h)(h.a,{size:24,color:"var(--color-secondary)"})))}function M(Q){return Q.replace(/[“]/g,"\u2018").replace(/[”]/g,"\u2019").replace(/["]/g,"'")}var F=t(221),H=Object.defineProperty,C=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,D=(Q,he,Z)=>he in Q?H(Q,he,{enumerable:!0,configurable:!0,writable:!0,value:Z}):Q[he]=Z,w=(Q,he)=>{for(var Z in he||(he={}))T.call(he,Z)&&D(Q,Z,he[Z]);if(C)for(var Z of C(he))S.call(he,Z)&&D(Q,Z,he[Z]);return Q};function U({attachments:Q,readOnly:he,isRestack:Z,onAttachmentClick:le,utm_content:de}){if(Q.length===0)return null;const be=Q.filter(ie=>ie.type==="image"),X=Q.filter(ie=>ie.type!=="image");return Object(e.h)(e.Fragment,null,be.length>0&&Object(e.h)(f.a,{readOnly:he,isRestack:Z,assets:be.map(ie=>ie.imageUrl)}),X.map(ie=>Object(e.h)(V,{attachment:ie,readOnly:he,isRestack:Z,onAttachmentClick:le,utm_content:de})))}function V({attachment:Q,readOnly:he,isRestack:Z,onAttachmentClick:le,utm_content:de}){var be;return Q.type==="missing"?Object(e.h)(Y,null):Q.type==="image"?Object(e.h)(f.a,{readOnly:he,isRestack:Z,assets:[Q.imageUrl],onClick:le}):Q.type==="link"?Object(e.h)(B,w({readOnly:he,onClick:le},Q.linkMetadata)):Q.type==="comment"?Object(e.h)(W,{readOnly:he,publication:(be=Q.publication)!=null?be:void 0,post:Q.post,comment:Q.comment,onAttachmentClick:le,utm_content:de}):Q.type==="post"?Q.postSelection?Object(e.h)(_,{readOnly:he,attachment:Q,onClick:le}):Object(e.h)(i.a,{readOnly:he,publication:Q.publication,post:Q.post,onClick:le}):Q.type==="publication"?Object(e.h)(R,{readOnly:he,publication:Q.publication,onClick:le}):Object(e.h)(K,{attachment:Q})}function K({attachment:Q}){return Object(e.h)(m.a,null)}function Y(){return Object(e.h)(m.a,{bg:"elevated",border:"detail",justifyContent:"center",alignItems:"center",radius:12,padding:16},Object(e.h)(p.b.B4,{color:"secondary",align:"center"},"This attachment is not available."))}function W({comment:Q,publication:he,readOnly:Z,onAttachmentClick:le,utm_content:de}){var be,X,ie;const{truncatedBodyJson:Ce}=Object(F.a)(Q,{limit:280,triggerLimit:280});return Object(e.h)(m.b,{className:P.a.post,as:Z?"div":"a",bg:"elevated",border:"detail",radius:12,href:Z?void 0:Object(u.getFeedCommentUrl)(Q),onClick:()=>le==null?void 0:le({commentId:Q.id}),padding:12,gap:8},Object(e.h)(m.a,{gap:8,alignItems:"center"},Object(e.h)("a",{href:Object(u.getReaderProfileUrl)(Q.user,{noBase:O.a,utm_content:"substack-feed-item",utm_source:de!=null?de:void 0})},Object(e.h)(g.a,{size:20,user:Q.user})),Object(e.h)(m.a,{alignItems:"center",gap:8},Object(e.h)(p.b.B4,{weight:"medium"},Z?Q.user.name:Object(e.h)(E.a,{user:Q.user,utm_source:"substack-feed-item",utm_content:de},Q.user.name)),Object(e.h)(x,{comment:Q}))),Q.body&&Object(e.h)(p.b.B4,{className:P.a.feedCommentBodyInner},Q.hidden?he&&Object(e.h)("i",null,"This comment is only visible to paid subscribers of ",he.name):Ce&&Object(e.h)(r.a,{content:Ce})),((X=(be=Q.attachments)==null?void 0:be.length)!=null?X:0)>0&&Object(e.h)(U,{isRestack:!0,attachments:(ie=Q.attachments)!=null?ie:[],onAttachmentClick:le,utm_content:de}))}function R({publication:Q,readOnly:he,onClick:Z}){var le;return Object(e.h)(B,{image:(le=Q.logo_url)!=null?le:void 0,title:Q.name,description:Q.hero_text,url:Q.base_url,onClick:Z,host:Q.base_url.replace(/^https?:\/\//,""),readOnly:he})}function B({image:Q,title:he,description:Z,url:le,host:de,readOnly:be,onClick:X}){const ie=Object(s.a)();return Object(e.h)(m.a,{className:P.a.post,padding:12,gap:12,as:be?"div":"a",bg:"elevated",border:"detail",radius:12,href:be?void 0:le,onClick:X,rel:"nofollow noopener ugc",target:"_blank"},Object(e.h)(m.b,{gap:2,flex:"grow",minWidth:0},Object(e.h)(p.b.Meta,{color:"secondary",ellipsis:!0},de),ie?Object(e.h)(p.b.B4,{clamp:1},he):Object(e.h)(p.b.B3,{clamp:2,weight:"medium"},he),Z&&Object(e.h)(p.b.B4,{as:"p",color:"secondary",clamp:ie?1:2},Z)),Q&&Object(e.h)("img",{className:o()(P.a.linkImage,ie&&P.a.mobile),src:Q}),!Q&&Object(e.h)(m.a,{alignItems:"center",justifyContent:"center",radius:8,className:o()(P.a.linkImage,P.a.linkImagePlaceholder,ie&&P.a.mobile)},Object(e.h)(c.a,null)))}function x({post:Q,comment:he}){return Object(e.h)(p.b.B4,{color:"secondary"},d()((he==null?void 0:he.date)||(Q==null?void 0:Q.post_date)).fromNowShort())}function G(Q){var he;switch(Q.type){case"post":return Q.postSelection?Object(u.getPostUrl)(Q.publication,Q.post,{urlParams:{selection:Q.postSelection.id}}):Q.post.canonical_url;case"comment":return Object(u.getFeedCommentUrl)(Q.comment);case"publication":return Q.publication.base_url;case"link":return(he=Q.linkMetadata.url)!=null?he:null;default:return null}}},function(k,n,t){"use strict";t.d(n,"b",function(){return O});var e=t(3),a=t(604),o=t(0),l=t(190),d=t(4),c=t(9),u=t(289);t(603);const f="entry",m="ajs_anonymous_id";let p;var g=n.a=function(j){var y,b;if(p)throw new Error("Cannot re-render the things");p=j,window._preloads&&(window._preloads.original_url=window.location.href),Object(u.a)((b=(y=window._preloads)==null?void 0:y.user)==null?void 0:b.id),h(),s(),r(),i(),v()};function O(j){let y=!1;if(typeof window._preloads=="object"&&window._preloads!==null)for(const b in j)(typeof j[b]=="object"&&j[b]!==null||j[b]!==window._preloads[b])&&(window._preloads[b]=j[b],y=!0);y&&i()}function s(){const j=Object(d.parseQuery)(window.location.href);if(!j.token&&!j.lli||!window.history.replaceState)return;delete j.token,delete j.lli;const y=`${Object(d.pathWithQuery)(window.location.pathname,j)}${window.location.hash}`;window.history.replaceState({},document.title,y)}function r(){if(!window.history||!window.history.pushState||!window.scrollTo)return;const j=window.history.pushState;history.pushState=function(y,b,E){const P=j.apply(history,arguments);return E.indexOf("#")===-1&&window.scrollTo(0,0),P}}function i(){if(!p)return;const j=document.getElementById(f);Object(o.render)(Object(o.h)(p,{initialData:window._preloads}),j||document.body)}function h(){if(typeof window._analyticsConfig=="object"&&window._analyticsConfig!==null&&!window._analyticsConfig.anonymousId){let j;try{j=JSON.parse(l.get(m))}catch(y){}j||(j=Object(c.uuidV4)(),l.set(m,JSON.stringify(j),{expires:365})),window._analyticsConfig.anonymousId=j}}function v(){var j;!(console==null?void 0:console.log)||window.location.hostname.includes(".localhost")||window.location.pathname.startsWith("/embed")||((j=window._preloads.user)==null?void 0:j.is_global_admin)||console.log(`%c
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591 SUBSTACK WANTS YOU \u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2592\u2592\u2592\u2592\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2592\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2592\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2592\u2592\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2592\u2592\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2592\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2592\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2592\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2592\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591 TO BUILD A BETTER BUSINESS MODEL FOR WRITING \u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
                   https://substack.com/jobs
`,"font-family:monospace")}},function(k,n,t){"use strict";t.d(n,"c",function(){return M}),t.d(n,"a",function(){return F}),t.d(n,"b",function(){return D});var e=t(0),a=t(1),o=t(5),l=t.n(o),d=t(4),c=t.n(d),u=t(7),f=t(111),m=t(511),p=t(313),g=t(343),O=t(154),s=t(151),r=t(51),i=t(465),h=t(202),v=Object.defineProperty,j=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,E=(w,U,V)=>U in w?v(w,U,{enumerable:!0,configurable:!0,writable:!0,value:V}):w[U]=V,P=(w,U)=>{for(var V in U||(U={}))y.call(U,V)&&E(w,V,U[V]);if(j)for(var V of j(U))b.call(U,V)&&E(w,V,U[V]);return w},A=(w,U,V)=>(E(w,typeof U!="symbol"?U+"":U,V),V);const _=33;class M extends e.Component{constructor(){super(...arguments);A(this,"onClick",U=>{if(this.props.onClick)this.props.onClick(U);else if(this.props.modalProfile)U.preventDefault(),U.stopPropagation(),this.profileShown||(this.profileShown=!0,Object(u.i)(u.a.USER_HEAD_CLICKED,{is_self:this.isSelf()})),this.state.includeProfile?this.profile.open():this.setState({includeProfile:!0},()=>this.profile.open());else return!1})}static getSubject(U){return U?U.author_id?{id:U.author_id,name:U.author_name,photo_url:Object(d.getUserPhotoUrl)(U,{preferAuthorPhoto:!0}),publications:U.subdomain?[U]:[]}:U.user_id?{id:U.user_id,name:U.name,photo_url:Object(d.getUserPhotoUrl)(U),publications:[]}:{id:U.id,name:U.name,photo_url:Object(d.getUserPhotoUrl)(U),publications:[]}:{id:null,name:null,photo_url:d.DEFAULT_PHOTO_URL,publications:[]}}static hasCustomProfilePhoto(U){return!!M.getSubject(U).photo_url}isSelf(){return this.props.user&&this.props.user.id===M.getSubject(this.props.subject).id||!this.props.subject}profileUrl(){return this.props.isAuthor?Object(d.getProfileUrl)(M.getSubject(this.props.subject),this.props.pub,{base:this.props.isStatic}):Object(d.getReaderProfileUrl)(M.getSubject(this.props.subject))}onBeforeProfileClose(U){if(!!U)if(this.props.onEdit)this.props.onEdit();else return document.location.reload(),!1}render({subject:U,pub:V,user:K,badge:Y,freeSignup:W,freeSignupEmail:R,token:B,isStatic:x,size:G,modalProfile:Q,isBanned:he,lazy:Z,tooltip:le,noLink:de,className:be}){G=G||_;const X=M.getSubject(U);return Object(e.h)("div",{className:l()("user-head",{banned:he},be)},de?Object(e.h)(F,{photo_url:X.photo_url,size:G,isStatic:x,isBanned:he,lazy:Z,badge:Y,tooltip:le,className:"default-pointer"}):Object(e.h)("a",{href:x||!Q?this.profileUrl():null,onClick:this.onClick},Object(e.h)(F,{photo_url:X.photo_url,size:G,isStatic:x,isBanned:he,lazy:Z,badge:Y,tooltip:le})),this.props.modalProfile&&!x&&typeof window!="undefined"&&this.state.includeProfile&&(this.isSelf()?Object(e.h)(s.c,{ref:ie=>this.profile=ie,user:K,freeSignup:W,freeSignupEmail:R,needsPhoto:!0,token:B,onBeforeClose:ie=>this.onBeforeProfileClose(ie)}):Object(e.h)(h.a,{ref:ie=>this.profile=ie,profileUser:X,pub:V,isBanned:he})))}}const F=({photo_url:w,size:U,isStatic:V,isBanned:K,lazy:Y,badge:W,tooltip:R,style:B,expandable:x,children:G,className:Q})=>{const[he,Z]=Object(a.l)(!1),le=!w&&!!G,de={founding:g.default,author:m.default}[W];return Object(e.h)("div",{onClick:()=>{x&&Z(!0)},className:l()("profile-img-wrap",Q)},le?G:Y?Object(e.h)(C,P({},{photo_url:w,size:U,isStatic:V,badge:W,style:B})):Object(e.h)(T,P({},{photo_url:w,size:U,isStatic:V,badge:W,style:B})),de&&Object(e.h)("div",{className:"profile-img-badge",title:R},Object(e.h)(de,{height:14,width:14,stroke:"var(--print_on_pop)",title:R})),K&&Object(e.h)(p.default,null),Object(e.h)(f.a,{module:"./ImageViewerModal",resolve:be=>be.ImageViewerModal,onRequest:()=>Promise.all([t.e(18),t.e(19)]).then(t.bind(null,231)),showModal:he,modalContent:[{src:le?G:w,attrs:{src:le?G:w}}],onClose:()=>{Z(!1)},step:0,includeDownloadButton:!1}))},H=(w,U)=>Object(d.cloudinary)(w,U*2,{height:U*2,crop:"fill"}),C=({photo_url:w,size:U,isStatic:V,badge:K,style:Y})=>{const[W,R]=Object(i.a)({}),B=!R||R.isIntersecting?w:d.DEFAULT_PHOTO_URL;return Object(e.h)(S,{url:H(B,U),size:U,ref:W,badge:K,isStatic:V,style:Y})},T=({photo_url:w,size:U,isStatic:V,badge:K,style:Y})=>Object(e.h)(S,{url:H(w,U),size:U,badge:K,isStatic:V,style:Y}),S=({url:w,size:U,isStatic:V,ref:K,badge:Y,className:W})=>V?Object(e.h)(O.a,{className:W,src:Object(d.cloudinary)(w,U*2,{height:U*2,crop:"fill"}),ref:K,height:U,width:U,alt:Y||""}):Object(e.h)(r.a,{className:W,src:w,imageProps:{height:U*2,crop:"fill"},maxWidth:U*2,ref:K,alt:Y||""}),D=({imageUrl:w,alt:U,size:V,className:K})=>Object(e.h)(S,{className:`user-photo ${K||""}`,url:w,badge:U,size:V})},function(k,n,t){"use strict";t.d(n,"a",function(){return w}),t.d(n,"b",function(){return U}),t.d(n,"c",function(){return V});var e=t(0),a=t(1),o=t(5),l=t.n(o),d=t(12),c=t.n(d),u=t(4),f=t(10),m=t(7),p=t(9),g=t(153),O=t(21),s=t(793),r=(Y,W,R)=>new Promise((B,x)=>{var G=Z=>{try{he(R.next(Z))}catch(le){x(le)}},Q=Z=>{try{he(R.throw(Z))}catch(le){x(le)}},he=Z=>Z.done?B(Z.value):Promise.resolve(Z.value).then(G,Q);he((R=R.apply(Y,W)).next())}),h=({photoUrl:Y,newPhotoUrl:W,newPhotoOrientation:R,updatePhoto:B})=>{const x=Object(a.k)(null),G=()=>r(void 0,null,function*(){const Q=x.current.files[0];if(x.current.value="",!Q){B({newPhotoUrl:null,newPhotoOrientation:null});return}let he;try{he=yield Object(p.getDataUrlFromFile)(Q)}catch(le){console.error("Failed to get data URL from file:",le),alert(le.message);return}let Z;try{Z=yield Object(p.getExifOrientationFromFile)(Q)}catch(le){console.error("Failed to extract EXIF data from file:",le)}B({newPhotoUrl:he,newPhotoOrientation:Z})});return Object(e.h)("div",{className:"profile-photo-wrap"},Y&&Object(e.h)("div",{className:"profile-photo-image",style:{backgroundImage:`url(${W||Object(u.cloudinary)(Y,144)})`,transform:Object(p.transformExifOrientation)(R)}}),!Y&&Object(e.h)("div",{className:"profile-photo-image",style:{backgroundImage:`url(${Object(u.cloudinary)(u.DEFAULT_PHOTO_URL,144)})`,transform:Object(p.transformExifOrientation)(R)}}),Object(e.h)(O.b,{onClick:()=>{(Object(p.isIE)()||Object(p.isFirefox)())&&x.current.click()}},Object(e.h)("input",{ref:x,type:"file",name:"photo",accept:"image/*",onChange:G}),Object(e.h)("div",{className:"add-photo-fab",onClick:Q=>{Q.preventDefault(),x.current.click()}},Object(e.h)(s.a,{size:20,color:"var(--color-light-primary)"}))))},v=t(57),j=t(50),y=t(81),b=Object.defineProperty,E=Object.defineProperties,P=Object.getOwnPropertyDescriptors,A=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,F=(Y,W,R)=>W in Y?b(Y,W,{enumerable:!0,configurable:!0,writable:!0,value:R}):Y[W]=R,H=(Y,W)=>{for(var R in W||(W={}))_.call(W,R)&&F(Y,R,W[R]);if(A)for(var R of A(W))M.call(W,R)&&F(Y,R,W[R]);return Y},C=(Y,W)=>E(Y,P(W)),T=(Y,W)=>{var R={};for(var B in Y)_.call(Y,B)&&W.indexOf(B)<0&&(R[B]=Y[B]);if(Y!=null&&A)for(var B of A(Y))W.indexOf(B)<0&&M.call(Y,B)&&(R[B]=Y[B]);return R},S=(Y,W,R)=>new Promise((B,x)=>{var G=Z=>{try{he(R.next(Z))}catch(le){x(le)}},Q=Z=>{try{he(R.throw(Z))}catch(le){x(le)}},he=Z=>Z.done?B(Z.value):Promise.resolve(Z.value).then(G,Q);he((R=R.apply(Y,W)).next())});const D=({sub:Y,onSetVisibility:W,source:R})=>{const B=Y.publication;return Object(e.h)("div",{className:"edit-sub-visibility-row"},Object(e.h)("div",{className:"left"},Object(e.h)(y.a,{pub:B,logo_url:B.logo_url||B.author_photo_url}),Object(e.h)("span",null,B.name)),Object(e.h)("div",{className:"right"},Object(e.h)(g.a,{checked:Y.visibility==="public",onChange:()=>W(Y.visibility==="public"?"private":"public")})))},w=({profile:Y,onFinalizeVisibility:W,onSetVisibility:R,source:B})=>{if(!Y)return;const x=Y.subscriptions.every(({visibility:Z})=>Z==="public"),G=()=>{R(Y.subscriptions.reduce((Z,{publication:le})=>C(H({},Z),{[le.id]:x?"private":"public"}),{})),Object(m.i)(m.a.PROFILE_EDITED,{type:"visibility_toggled_all",for:"reads",count:Y.subscriptions.length})},Q=Z=>le=>{R(Y.subscriptions.reduce((de,{visibility:be,publication:X})=>C(H({},de),{[X.id]:X.id===Z.id?le:be}),{})),Object(m.i)(m.a.PROFILE_EDITED,{type:"read_visibility_toggled",visibility:le})},he=Object(e.h)("button",{className:"small",onClick:G},x?"Hide all":"Show all");return Object(e.h)("div",{className:"edit-sub-visibility-form"},Object(e.h)("div",{className:"bulk-action-row"},he),Object(e.h)("div",{className:"edit-sub-visibility-frame"},Y.subscriptions.map(Z=>Object(e.h)(D,{sub:Z,onSetVisibility:Q(Z.publication),source:B}))),Object(e.h)("div",{className:"modal-ctas"},Object(e.h)(O.b,{className:"primary",onClick:W},"Done")))};class U extends e.Component{constructor(W,R){super(W,R);var B;this.formRef=Object(e.createRef)(),this.state={newName:null,newBio:null,newEmail:W.user&&W.user.is_magic?W.user.email:null},W.isPostInvite&&!((B=W.user)==null?void 0:B.has_publication)&&(this.state.createPublication=!0)}componentDidMount(){var W,R,B;this.props.autoSubmit&&(this.isComplete()?(W=this.formRef.current)==null||W.handleSubmit():(B=(R=this.props).onAutoSubmitFailed)==null||B.call(R))}isComplete(){const{user:W,needsPhoto:R}=this.props;return W&&!W.is_magic&&W.name&&(!R||W.photo_url)}onFileInputChanged(){return S(this,null,function*(){const W=this.fileInput.files[0];if(this.fileInput.value="",!W){this.setState({newPhotoUrl:null,newPhotoOrientation:null});return}let R;try{R=yield Object(p.getDataUrlFromFile)(W)}catch(x){console.error("Failed to get data URL from file:",x),alert(x.message);return}let B;try{B=yield Object(p.getExifOrientationFromFile)(W)}catch(x){console.error("Failed to extract EXIF data from file:",x)}this.setState({newPhotoUrl:R,newPhotoOrientation:B})})}onError(W){var R,B;this.props.autoSubmit&&!this.state.autoSubmitFailed&&(this.setState({autoSubmitFailed:!0}),(B=(R=this.props).onAutoSubmitFailed)==null||B.call(R)),this.setState({sentLoginEmail:!1}),W.status===401&&this.sendLoginEmail()}createDefaultPublication(W,R){return S(this,null,function*(){try{const B=yield c.a.get("/api/v1/publication/suggestion"),x=R||`${W} on Substack`;yield c.a.post("/api/v1/publication").send({name:W,subdomain:B.body.subdomain,hero_text:x,tos:!0})}catch(B){Object(m.i)(m.a.DEFAULT_PUBLICATION_CREATION_FAILED),console.log("couldn't set up a default publication",B)}})}sendLoginEmail(){return S(this,null,function*(){const W=this.state.newEmail||this.props.freeSignupEmail;if(!(this.state.loading||!W)){this.setState({loading:!0});try{yield c.a.post("/api/v1/email-login").send({email:W,redirect:document.location.href}),this.setState({sentLoginEmail:!0})}catch(R){console.error("Failed send login email:",R)}this.setState({loading:!1})}})}render({className:W,user:R,numVisibleSubscriptions:B,numSubscriptions:x,freeSignup:G,freeSignupEmail:Q,initialPhotoUrl:he,needsPhoto:Z,optionalPhoto:le,token:de,text:be,onSuccess:X,prepareData:ie,pageTitle:Ce,primaryEligiblePublications:Le,isPostInvite:Ae,complete:Pe,profileExists:Ne,onSkip:ce,onEditReadVisibility:q,barebones:te,onEditRecommendations:ue,numRecommendationsToMake:We,noSubscribeCta:ot,style:ze},{newPhotoUrl:vt,newPhotoOrientation:Wt,newName:zt,newEmail:at,loading:Me,sentLoginEmail:Be,newBio:Xe,createPublication:Te}){const we=vt||he||Object(u.getUserPhotoUrl)(R,{noFallbackToSignedOut:!0}),De=typeof Ce=="string"?Ce:`${this.isComplete()?"Update":"Create"} your profile`,Ie=zt||R&&R.name||"",He=typeof Xe=="string"?Xe:R&&R.bio||"",Ve=(z,se)=>S(this,null,function*(){Te&&(yield this.createDefaultPublication(Ie,He)),X(z,se)});return Object(e.h)("div",{className:l()("profile-updater",W),style:ze},Object(e.h)("h2",{className:"page-title profile-updater-title"},De),(we||Z||le)&&Object(e.h)(h,{photoUrl:we,newPhotoUrl:vt,newPhotoOrientation:Wt,updatePhoto:({newPhotoOrientation:z,newPhotoUrl:se})=>this.setState({newPhotoOrientation:z,newPhotoUrl:se}),onFileInputChanged:()=>this.onFileInputChanged()}),Object(e.h)(v.g,{ref:this.formRef,method:"put",action:"/api/v1/user/profile",prepareData:ie,onSuccess:Ve,onError:z=>this.onError(z),noInlineErrors:!0,loading:Me,autoLock:!0},Object(e.h)("label",{htmlFor:"name"},"Name (Required)"),Object(e.h)("input",{autoFocus:!0,type:"text",className:"profile-name",placeholder:"Type your name\u2026",name:"name",id:"name",value:Ie,onInput:z=>this.setState({newName:z.target.value})}),!te&&Object(e.h)("label",{htmlFor:"bio"},"Bio"),!te&&Object(e.h)("textarea",{className:"profile-bio",placeholder:"Say something about yourself\u2026",name:"bio",id:"bio",value:He,onInput:z=>this.setState({newBio:z.target.value})}),Ae&&Object(e.h)("input",{type:"hidden",name:"needs_bio",value:"true"}),Ae&&Object(e.h)("div",{className:"bio-guest-tip"},"Tip: this will be shown at the bottom of your guest post"),Ae&&Le&&(R==null?void 0:R.has_publication)&&Le.length>1&&Object(e.h)(e.Fragment,null,Object(e.h)("label",null,"Publication to display"),Object(e.h)("div",{className:"primary-publication-selector"},Le.map((z,se)=>Object(e.h)("label",{className:"publication-selector-row",for:`primary-radio-${z.id}`},Object(e.h)("input",{id:`primary-radio-${z.id}`,type:"radio",name:"primary_publication_user_id",value:z.id,checked:se===0}),Object(e.h)(y.a,{pub:z.publication,logo_url:Object(u.cloudinary)(z.publication.logo_url,28*2,{height:28*2,crop:"fill"}),linkify:!1,size:28,title:z.publication.name}),Object(e.h)("div",{className:"primary-publication-name"},z.publication.name))))),(!R||R.is_magic)&&!Q&&!Ae&&Object(e.h)("input",{type:"email",className:"profile-email",placeholder:"Your email\u2026",name:"email",value:at,onInput:z=>this.setState({newEmail:z.target.value})}),!ot&&!(R&&(R.is_subscribed||R.is_free_subscribed)||G)&&Object(e.h)("label",{className:"profile-signup-checkbox"},Object(e.h)("input",{type:"checkbox",name:"free_signup",defaultChecked:!0})," Subscribe to the newsletter"),Ae&&!(R==null?void 0:R.has_publication)&&Object(e.h)("label",{className:"profile-signup-checkbox"},Object(e.h)("input",{type:"checkbox",name:"create_publication",id:"create-publication-checkbox",checked:Te,onChange:z=>this.setState({createPublication:z.target.checked})}),"Create a Substack publication for me"),Object(e.h)("input",{type:"hidden",name:"photo_url",value:we}),Object(e.h)("input",{type:"hidden",name:"user_id",value:(R==null?void 0:R.id)||""}),Object(e.h)("input",{type:"hidden",name:"needs_photo",value:!!Z}),Object(e.h)("input",{type:"hidden",name:"token",value:de}),Pe&&Object(e.h)("input",{type:"hidden",name:"complete",value:!0}),Object(e.h)("div",{id:"error-container"},Be&&Object(e.h)("div",{className:"error other-error"},"If you have an account with us, we've sent an email to ",Object(e.h)("b",null,at)," with a link that you can use to sign in.")),Object(e.h)("p",{className:l()("left",{hidden:!(typeof B=="number"&&x>0&&q)})},Object(f.pluralize)(B||0,"subscription")," ",Ne?"are":"will be"," displayed on your profile (",Object(e.h)("a",{onClick:q},"edit"),")"),!Ne&&ue&&We>0&&Object(e.h)("p",{className:"left second"},Object(f.pluralize)(We||0,"recommendation")," will be made on your publication (",Object(e.h)("a",{onClick:ue},"edit"),")"),Object(e.h)("div",{className:"modal-ctas"},Object(e.h)("p",{className:l()("skip",{hidden:!ce})},Object(e.h)("a",{className:"small",onClick:ce||(()=>{})},"Skip for now")),Object(e.h)(O.b,{className:"primary",type:"submit"},be||"Save"),Ae&&Object(e.h)(e.Fragment,null,Object(e.h)("input",{type:"hidden",name:"accept_tos",value:"true"}),Object(e.h)("div",{className:"agreement-note"},"By signing up you agree to Substack\u2019s"," ",Object(e.h)("a",{href:`${Object(u.getSubstackUrl)()}/pa`,target:"_blank",rel:"noopener"},"publisher agreement"))))))}}class V extends j.a{renderChildren(){const W=this.props,{ref:R,onBeforeClose:B,contributor:x}=W,G=T(W,["ref","onBeforeClose","contributor"]);return Object(e.h)("div",{className:"profile-updater-modal"},x?Object(e.h)(K,C(H({},G),{onSuccess:()=>this.close(!0)})):Object(e.h)(U,C(H({},G),{onSuccess:()=>this.close(!0)})))}}const K=({profile:Y,user:W,pub:R,onSuccess:B,isOwnProfile:x})=>{const G=Object(a.k)(),[Q,he]=Object(a.l)(null),[Z,le]=Object(a.l)(null),de=Q||Y&&Y.photo_url,[be,X]=Object(a.l)(Y.name),[ie,Ce]=Object(a.l)(Y.bio),Le=()=>S(void 0,null,function*(){var Ae;const Pe=((Ae=G.current)==null?void 0:Ae.files)?G.current.files[0]:null;if(G.value="",!Pe){he(null),le(null);return}let Ne;try{Ne=yield Object(p.getDataUrlFromFile)(Pe)}catch(q){console.error("Failed to get data URL from file:",q),alert(q.message);return}let ce;try{ce=yield Object(p.getExifOrientationFromFile)(Pe)}catch(q){console.error("Failed to extract EXIF data from file:",q)}he(Ne),le(ce)});return Object(e.h)("div",{className:"profile-updater"},Object(e.h)("h2",{className:"page-title profile-updater-title"},"Edit contributor profile"),Object(e.h)("div",{className:"profile-photo-wrap"},de&&Object(e.h)("div",{className:"profile-photo-image",style:{backgroundImage:`url(${Q||Object(u.cloudinary)(Y.photo_url,144)})`,transform:Object(p.transformExifOrientation)(Z)}}),Object(e.h)(O.b,{onClick:()=>{(Object(p.isIE)()||Object(p.isFirefox)())&&G.click()}},!de&&"Set photo",Object(e.h)("input",{ref:G,type:"file",name:"photo",accept:"image/*",onChange:()=>Le()}))),Object(e.h)(v.g,{method:"patch",action:`/api/v1/publication/users/${Y.id}`,onSuccess:B,autoLock:!0},Object(e.h)("input",{type:"text",className:"profile-name",placeholder:"Contributor's name\u2026",name:"name",value:be,onInput:Ae=>X(Ae.target.value)}),Object(e.h)("textarea",{className:"profile-bio",placeholder:"Contributor's bio\u2026",name:"bio",value:ie,onInput:Ae=>Ce(Ae.target.value)}),Object(e.h)("input",{type:"hidden",name:"photo_url",value:de}),Object(e.h)("span",{className:"notice"},Object(e.h)("p",null,Object(e.h)("b",null,"Note:")," This is a contributor profile, viewable by ",R.name,"'s readers."),x&&Object(e.h)("p",null,"You may also edit your"," ",Object(e.h)("a",{native:!0,href:`${Object(u.getReaderProfileUrl)(W)}`},"personal profile"),".")),Object(e.h)(O.b,{className:"primary",type:"submit"},"Update profile")))}},function(k,n,t){var e=t(642),a=t(647);function o(l,d){var c=a(l,d);return e(c)?c:void 0}k.exports=o},function(k,n,t){"use strict";t.d(n,"a",function(){return d});var e=t(0),a=t(5),o=t.n(a),l=t(512);const d=({name:c,label:u,info:f,checked:m,disabled:p,onChange:g,isRow:O=!0,className:s})=>{const r=Object(e.h)(e.Fragment,null,Object(e.h)("span",{className:o()("big-checkbox",{checked:m,disabled:p}),onClick:()=>!p&&(g==null?void 0:g(!m)),onKeyDown:i=>{i.key===" "&&(g==null||g(!m))},role:"checkbox","aria-checked":m,"aria-label":u||c,tabIndex:0},Object(e.h)(l.default,{fill:"#ffffff"})));return Object(e.h)("label",{className:o()("big-checkbox-input",s,{"big-checkbox-input-row":O})},!O&&r,Object(e.h)("div",{onClick:()=>{(u||f)&&!p&&(g==null||g(!m))}},u,f&&Object(e.h)("div",{className:"info"},f)),O&&r,Object(e.h)("input",{type:"hidden",name:c,"data-testid":c,value:String(m)}))}},function(k,n,t){"use strict";var e=t(0),a=t(1),o=t(125),l=Object.defineProperty,d=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,f=(O,s,r)=>s in O?l(O,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):O[s]=r,m=(O,s)=>{for(var r in s||(s={}))c.call(s,r)&&f(O,r,s[r]);if(d)for(var r of d(s))u.call(s,r)&&f(O,r,s[r]);return O},p=(O,s)=>{var r={};for(var i in O)c.call(O,i)&&s.indexOf(i)<0&&(r[i]=O[i]);if(O!=null&&d)for(var i of d(O))s.indexOf(i)<0&&u.call(O,i)&&(r[i]=O[i]);return r};const g=O=>{const s=O,{ampProps:r}=s,i=p(s,["ampProps"]);return Object(a.b)(o.a).isAmp?Object(e.h)("amp-img",m(m({},r),i)):Object(e.h)("img",m({},i))};n.a=g},function(k,n){function t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}k.exports=t,k.exports.__esModule=!0,k.exports.default=k.exports},function(k,n,t){"use strict";t.d(n,"a",function(){return l}),t.d(n,"c",function(){return d}),t.d(n,"b",function(){return c});var e=t(10),a=t.n(e);const o=function(u){const f=u.trim();return Object(e.endsWithPunctuation)(f)?f:`${f}.`},l=function(u,f=3){if(!(u==null?void 0:u.length)||!u[0].owner)return null;const m=u[0].name;if(u.length===1)return{owner:m,others:null};let p=u.slice(1);if(p.length>f&&(p=p.filter(g=>g.role==="admin")),p.length&&p.length<=f){const g=p.map(O=>O.name);return{owner:m,others:Object(e.oxfordComma)(g).toString()}}return{owner:m,others:null}},d=function(u,f,m,p,g){const O=u?o(u):"";let s;f&&!f.others?p.toLowerCase().includes(f.owner.toLowerCase())?s="":s=` by ${f.owner},`:s="";let r;return m?r=` a Substack publication with ${m}.`:g?r=` a Substack publication. ${g}.`:r=" a Substack publication.",o(`${O} Click to read ${p},${s}${r}`)};function c(u,f){if(u){if(u.author_id===f)return!0;for(const m of u.contributors)if(m.user_id===f)return!0}return!1}},function(k,n,t){"use strict";t.d(n,"a",function(){return b});var e=t(0),a=t(3),o=t(5),l=t.n(o),d=t(25),c=t(9),u={portalWrapper:"frontend-components-interactive_tooltip-module__portalWrapper--HAo23",contentWrapper:"frontend-components-interactive_tooltip-module__contentWrapper--3_6UI",contentWrapperShown:"frontend-components-interactive_tooltip-module__contentWrapperShown--a62Wc"},f=Object.defineProperty,m=(E,P,A)=>P in E?f(E,P,{enumerable:!0,configurable:!0,writable:!0,value:A}):E[P]=A,p=(E,P,A)=>(m(E,typeof P!="symbol"?P+"":P,A),A);const g=300,O=8,s=100;class r extends e.Component{constructor(P,A){super(P,A);this.cardRef=Object(e.createRef)(),this.state={isOpen:!1},this.hoverPid=null,this.closePid=null,this.wrapperRef=Object(e.createRef)(null)}onMouseEnter(){if(!this.props.disabled){if(this.closePid&&clearTimeout(this.closePid),this.setState({attachCard:!0}),this.props.delay===0){this.setIsShown(!0);return}this.hoverPid=setTimeout(()=>{this.setIsShown(!0),this.hoverPid=null},this.props.delay)}}onMouseLeave(){this.hoverPid&&clearTimeout(this.hoverPid),this.closePid=setTimeout(()=>{this.setIsShown(!1)},s)}setIsShown(P){this.setState({isOpen:P,attachCard:P})}onClick(P){P.stopPropagation()}render({content:P,preferPositionLeft:A,className:_,children:M},{attachCard:F,isOpen:H}){var C,T,S;let D={},w=!1;if(F&&((C=this.wrapperRef)==null?void 0:C.current)){const{top:U,left:V}=this.wrapperRef.current.getBoundingClientRect(),{height:K,width:Y}=(S=(T=this.cardRef.current)==null?void 0:T.getBoundingClientRect())!=null?S:{};w=A&&V-Y>0,w?D={top:U-O-K,left:V-Y-O,"max-width":g}:D={top:U-O-K,"max-width":g,left:V}}return Object(e.h)("div",{className:l()(u.portalWrapper,_),onMouseEnter:()=>this.onMouseEnter(),onMouseLeave:()=>this.onMouseLeave(),onClick:U=>this.onClick(U),ref:this.wrapperRef},typeof M=="function"?M({}):M,F&&Object(a.createPortal)(Object(e.h)("div",{className:l()(u.contentWrapper,{[u.contentWrapperShown]:H,"animate-opacity":!Object(c.isSafari)(),"position-left":w}),ref:this.cardRef,style:D,onMouseEnter:()=>this.onMouseEnter(),onMouseLeave:()=>this.onMouseLeave()},P),document.body))}}p(r,"defaultProps",{delay:s}),p(r,"contextType",d.a);var i=r,h={learnMoreChip:"frontend-editor-post-settings-help_tooltip-module__learnMoreChip---EAlo"};const v=({content:E})=>Object(e.h)(i,{content:E},Object(e.h)("div",{className:h.learnMoreChip},"?"));var j=t(2),y=t(8);const b=Object(a.forwardRef)(({action:E,children:P,className:A,errors:_,helpText:M,details:F,label:H,paddingBottom:C,paddingTop:T,wrapWithLabel:S},D)=>Object(e.h)(j.b,{ref:D,alignItems:"stretch",className:A,gap:8,paddingBottom:C,paddingTop:T},Object(e.h)(j.b,{alignItems:"stretch",gap:8,as:S?"label":"div"},H&&Object(e.h)(j.c,{gap:8,alignItems:"center"},Object(e.h)(y.b.B4,{weight:"semibold",as:S?"div":"label",color:"primary"},H),M&&Object(e.h)(v,{content:M}),E&&Object(e.h)(j.c,{flex:"grow",justifyContent:"end"},E)),Object(e.h)("div",null,P)),F&&!Array.isArray(F)&&Object(e.h)(y.b.Detail,null,F),F&&Array.isArray(F)&&F.length>0&&Object(e.h)(j.b,{gap:4},F.map(w=>Object(e.h)(y.b.Detail,null,w))),_&&_.map(w=>Object(e.h)(y.b.B4,{color:"error",key:w},w))))},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(49);function a(o,l,{native:d=!1,newTab:c=!1}={}){o.defaultPrevented||(o.preventDefault(),d?c||o.metaKey||o.ctrlKey?Object.assign(document.createElement("a"),{target:"_blank",rel:"noopener",href:l}).click():window.location.assign(l):Object(e.route)(l))}},function(k,n,t){"use strict";t.d(n,"a",function(){return b}),t.d(n,"b",function(){return E});var e=t(0),a=t(1),o=t(690),l=t(15),d=t(35),c=t(25),u=t(18),f=t(26),m=t(79),p=Object.defineProperty,g=Object.defineProperties,O=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,h=(T,S,D)=>S in T?p(T,S,{enumerable:!0,configurable:!0,writable:!0,value:D}):T[S]=D,v=(T,S)=>{for(var D in S||(S={}))r.call(S,D)&&h(T,D,S[D]);if(s)for(var D of s(S))i.call(S,D)&&h(T,D,S[D]);return T},j=(T,S)=>g(T,O(S)),y=(T,S,D)=>new Promise((w,U)=>{var V=W=>{try{Y(D.next(W))}catch(R){U(R)}},K=W=>{try{Y(D.throw(W))}catch(R){U(R)}},Y=W=>W.done?w(W.value):Promise.resolve(W.value).then(V,K);Y((D=D.apply(T,S)).next())});function b({publicationId:T,publication:S,publicationName:D,user:w,allowSecondaryPublications:U=!0,allowPresubscribe:V,subscriptionSource:K,sourceNoteId:Y}){var W,R,B;T=(B=(W=S==null?void 0:S.id)!=null?W:T)!=null?B:(R=w==null?void 0:w.primary_publication)==null?void 0:R.id;const{getConfigFor:x}=Object(d.c)(),G=x("enable_presubscriptions"),Q=Object(c.c)(),he=Object(f.e)(),Z=Object(m.e)(),[le,de]=Object(a.l)(!1),be=A(Q,T,Z)||P(Q,w,Z,{allowSecondaryPublications:U}),[X,ie]=Object(a.l)(null),Ce=Boolean(T||V&&G&&w),Le=Z.isLoading||Boolean(X)||!Ce;return{isSubscribed:be&&!X||X==="subscribing",showCta:Ce&&(!Q||Z.hasLoadedOnce)&&!(Q&&Q.id===(w==null?void 0:w.id))&&(!be||le||X==="unsubscribing"),subscribe:Ae=>y(this,null,function*(){var Pe;if(Ae&&(Ae.preventDefault(),Ae.stopPropagation()),Le||be||!Ce)return;ie("subscribing");const Ne=T?yield M(T,K,{publication:S,user:Q,sourceNoteId:Y}):w?yield H(Q,w,K):{didAction:!1,errorMessage:"No subscription target"},ce=`Subscribed to ${T?(Pe=D!=null?D:S==null?void 0:S.name)!=null?Pe:"publication":w?w.name:"profile"}`;if(Ne.didAction){if(de(!0),he.popToast(q=>Object(e.h)(f.c,j(v({},q),{text:ce}))),Q)try{yield Z.refetch()}catch(q){console.error("Failed to reload subscriptions:",q)}}else Ne.errorMessage&&he.popToast(q=>{var te;return Object(e.h)(f.c,j(v({},q),{text:(te=Ne.errorMessage)!=null?te:""}))});ie(null)}),unsubscribe:Ae=>y(this,null,function*(){var Pe;if(Ae&&(Ae.preventDefault(),Ae.stopPropagation()),Le||!be||!Ce)return;ie("unsubscribing");const Ne=T?yield F(T,K):w?yield C(Q,w,K):{didAction:!1,errorMessage:"No subscription target"},ce=`Unsubscribed from ${T?(Pe=D!=null?D:S==null?void 0:S.name)!=null?Pe:"publication":w?w.name:"profile"}`;if(Ne.didAction){if(de(!1),he.popToast(q=>Object(e.h)(f.c,j(v({},q),{text:ce}))),Q)try{yield Z.refetch()}catch(q){console.error("Failed to reload subscriptions:",q)}}else Ne.errorMessage&&he.popToast(q=>{var te;return Object(e.h)(f.c,j(v({},q),{text:(te=Ne.errorMessage)!=null?te:""}))});ie(null)})}}function E(T){var S;const D=Object(m.e)(),w=Object(c.c)();if((w==null?void 0:w.id)===T)return"subscribed";const{result:U}=D;if(!U)return null;const{subscriptions:V,publicationUsers:K}=U;for(const W of K)if(["admin","contributor"].includes(W.role)&&_(T,W.publication_id,D))return"subscribed";let Y=null;for(const W of V)_(T,W.publication_id,D)&&(Y=(S=Object(o.b)(W.membership_state,Y)?W.membership_state:Y)!=null?S:null);return Y}function P(T,S,D,{allowSecondaryPublications:w}={}){if(!T||!S||!D.hasLoadedOnce||!D.result)return!1;const{presubscriptions:U,subscriptions:V,publicationUsers:K}=D.result;if(U.includes(S.id))return!0;if(w){for(const Y of V)if(Y.membership_state!=="unsubscribed"&&_(S.id,Y.publication_id,D))return!0;for(const Y of K)if(["admin","contributor"].includes(Y.role)&&_(S.id,Y.publication_id,D))return!0}return!1}function A(T,S,D){if(!T||!S||!D.hasLoadedOnce||!D.result)return!1;const w=D.result.subscriptionMap.get(S);if(w&&w.membership_state!=="unsubscribed")return!0;const U=D.result.publicationUserMap.get(S);return!!(U&&["admin","contributor"].includes(U.role))}function _(T,S,D){if(D.isLoading||!D.result)return!1;const w=D.result.publicationMap.get(S);if(w){if(w.author_id===T)return!0;for(const U of w.contributors)if(U.user_id===T)return!0}return!1}function M(T,S){return y(this,arguments,function*(D,w,{publication:U,user:V,sourceNoteId:K}={}){let Y=!1,W;if(V)try{(yield Object(u.c)("/api/v1/reader/signup/pub",{method:"POST",json:{publication_id:D,email:V.email,source:w,noWelcomeEmail:!0,sourceNoteId:K}})).requires_confirmation?W="Check your email to confirm subscription":Y=!0}catch(R){console.error(R),W="Failed to subscribe"}else if(!V){if(!U)try{U=yield Object(u.c)(`/api/v1/reader/publication/${D}`)}catch(R){console.error(R)}if(U){const R=Object(l.getSubscribeUrl)(U,{addBase:!0,user:V!=null?V:void 0});window.open(R,"_blank")}}return{didAction:Y,errorMessage:W}})}function F(T,S){return y(this,null,function*(){let D=!1,w;try{yield Object(u.c)("/api/v1/subscription/email",{method:"POST",json:{publication_id:T,email_disabled:!0,digest_enabled:!1,receive_podcast_emails:!1,source:S}}),D=!0}catch(U){console.error(U),w="Failed to unsubscribe"}return{didAction:D,errorMessage:w}})}function H(T,S,D){return y(this,null,function*(){let w=!1,U;try{yield Object(u.c)(Object(l.getPresubscribeUrl)(S),{method:"POST",json:{source:D}}),w=!0}catch(V){console.error(V),U="Failed to subscribe"}return{didAction:w,errorMessage:U}})}function C(T,S,D){return y(this,null,function*(){let w=!1,U;try{yield Object(u.c)(Object(l.getPresubscribeUrl)(S),{method:"DELETE",json:{source:D}}),w=!0}catch(V){console.error(V),U="Failed to unsubscribe"}return{didAction:w,errorMessage:U}})}},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"NoteReplyIcon",svgParams:{height:24,width:24,stroke:s.stroke,strokeWidth:s.strokeWidth}}),Object(e.h)("path",{d:"M22 11.4445C22.0038 12.911 21.6612 14.3577 21 15.6667C20.216 17.2353 19.0108 18.5546 17.5194 19.477C16.0279 20.3993 14.3091 20.8882 12.5555 20.8889C11.089 20.8927 9.64234 20.5501 8.33332 19.8889L2 22L4.11111 15.6667C3.44992 14.3577 3.10729 12.911 3.11111 11.4445C3.11179 9.69086 3.60068 7.97208 4.52302 6.48064C5.44536 4.98919 6.76472 3.78399 8.33332 3.00003C9.64234 2.33884 11.089 1.99621 12.5555 2.00003H13.1111C15.427 2.1278 17.6145 3.10532 19.2546 4.74543C20.8947 6.38553 21.8722 8.57297 22 10.8889V11.4445Z","stroke-linecap":"round","stroke-linejoin":"round"}));n.default=O},,function(k,n,t){"use strict";t.d(n,"a",function(){return e});function e(a){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},e(a)}},function(k,n){function t(e){return e!=null&&typeof e=="object"}k.exports=t},function(k,n,t){"use strict";t.d(n,"a",function(){return b}),t.d(n,"b",function(){return E});var e=t(0),a=t(1),o=t(551),l=t(5),d=t.n(l),c=t(117),u={hoverCardBase:"frontend-pencraft-HoverCard-module__hoverCardBase--bYjNY"},f=Object.defineProperty,m=Object.defineProperties,p=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,r=(P,A,_)=>A in P?f(P,A,{enumerable:!0,configurable:!0,writable:!0,value:_}):P[A]=_,i=(P,A)=>{for(var _ in A||(A={}))O.call(A,_)&&r(P,_,A[_]);if(g)for(var _ of g(A))s.call(A,_)&&r(P,_,A[_]);return P},h=(P,A)=>m(P,p(A)),v=(P,A)=>{var _={};for(var M in P)O.call(P,M)&&A.indexOf(M)<0&&(_[M]=P[M]);if(P!=null&&g)for(var M of g(P))A.indexOf(M)<0&&s.call(P,M)&&(_[M]=P[M]);return _};const j=500,y=250,b=P=>{var A=P,{className:_="",children:M,layerClassName:F,dontStopPropagation:H}=A,C=v(A,["className","children","layerClassName","dontStopPropagation"]);const T=E(i({className:F},C));return Object(e.h)("div",h(i(i({className:_},T.triggerProps),T.hoverProps),{onClick:S=>{H||S.stopPropagation()}}),M,T.layer)};function E(P){var A=P,{disabled:_,onFetch:M,onOpen:F,content:H,className:C,layerOptions:T,hideOnScroll:S=!1}=A,D=v(A,["disabled","onFetch","onOpen","content","className","layerOptions","hideOnScroll"]);const[w,U,V]=Object(c.b)({delayEnter:j,delayLeave:y,hideOnScroll:S}),K=Object(a.k)(!1);Object(a.d)(()=>{w&&(!K.current&&M&&(K.current=!0,M()),F&&F())},[w,M,F]);const[Y,W]=Object(a.l)(!1),{triggerProps:R,layerProps:B,renderLayer:x,layerSide:G}=Object(c.c)(i({isOpen:_?!1:w,auto:!0,containerOffset:10,triggerOffset:8,snap:!1,possiblePlacements:["bottom-center","top-center","left-center","right-center"],preferX:"left",preferY:"bottom"},T));return{triggerProps:R,hoverProps:U,layer:(w||Y)&&!_&&x(Object(e.h)(o.a,{appear:!0,show:w&&!D.loading,beforeEnter:()=>W(!0),afterLeave:()=>W(!1),enter:"tw-transition-all tw-ease-in-out tw-duration-150 transform-gpu",enterFrom:"tw-opacity-0",enterTo:"tw-opacity-100",leave:"tw-transition-all tw-ease-in-out tw-duration-150 transform-gpu",leaveFrom:"tw-opacity-100",leaveTo:"tw-opacity-0"},Object(e.h)("div",i(i({onClick:()=>{V()},className:d()(C,u.hoverCardBase)},B),U),H)))}}},function(k,n,t){"use strict";n.a={input:"frontend-pencraft-unstable-Input-module__input--1t1sf",error:"frontend-pencraft-unstable-Input-module__error--1QVCq",textarea:"frontend-pencraft-unstable-Input-module__textarea--2a8zL","font-text":"frontend-pencraft-unstable-Input-module__font-text--3915n","font-monospace":"frontend-pencraft-unstable-Input-module__font-monospace--ecAA4"}},function(k,n,t){"use strict";t.d(n,"a",function(){return be}),t.d(n,"b",function(){return G}),t.d(n,"c",function(){return A}),t.d(n,"d",function(){return l}),t.d(n,"e",function(){return P}),t.d(n,"f",function(){return c}),t.d(n,"g",function(){return j}),t.d(n,"h",function(){return r}),t.d(n,"i",function(){return v}),t.d(n,"j",function(){return y}),t.d(n,"k",function(){return _}),t.d(n,"l",function(){return b}),t.d(n,"m",function(){return g}),t.d(n,"n",function(){return i}),t.d(n,"o",function(){return C}),t.d(n,"p",function(){return V}),t.d(n,"q",function(){return U}),t.d(n,"r",function(){return Y}),t.d(n,"s",function(){return R}),t.d(n,"t",function(){return K});var e=t(46),a=t(20),o=t(27);const l=(X,ie)=>X.selection.empty?!1:(ie&&ie(X.tr.deleteSelection().scrollIntoView()),!0);function d(X,ie){let{$cursor:Ce}=X.selection;return!Ce||(ie?!ie.endOfTextblock("backward",X):Ce.parentOffset>0)?null:Ce}const c=(X,ie,Ce)=>{let Le=d(X,Ce);if(!Le)return!1;let Ae=O(Le);if(!Ae){let Ne=Le.blockRange(),ce=Ne&&Object(e.liftTarget)(Ne);return ce==null?!1:(ie&&ie(X.tr.lift(Ne,ce).scrollIntoView()),!0)}let Pe=Ae.nodeBefore;if(!Pe.type.spec.isolating&&D(X,Ae,ie))return!0;if(Le.parent.content.size==0&&(p(Pe,"end")||o.NodeSelection.isSelectable(Pe))){let Ne=Object(e.replaceStep)(X.doc,Le.before(),Le.after(),a.Slice.empty);if(Ne&&Ne.slice.size<Ne.to-Ne.from){if(ie){let ce=X.tr.step(Ne);ce.setSelection(p(Pe,"end")?o.Selection.findFrom(ce.doc.resolve(ce.mapping.map(Ae.pos,-1)),-1):o.NodeSelection.create(ce.doc,Ae.pos-Pe.nodeSize)),ie(ce.scrollIntoView())}return!0}}return Pe.isAtom&&Ae.depth==Le.depth-1?(ie&&ie(X.tr.delete(Ae.pos-Pe.nodeSize,Ae.pos).scrollIntoView()),!0):!1},u=(X,ie,Ce)=>{let Le=d(X,Ce);if(!Le)return!1;let Ae=O(Le);return Ae?m(X,Ae,ie):!1},f=(X,ie,Ce)=>{let Le=s(X,Ce);if(!Le)return!1;let Ae=h(Le);return Ae?m(X,Ae,ie):!1};function m(X,ie,Ce){let Le=ie.nodeBefore,Ae=Le,Pe=ie.pos-1;for(;!Ae.isTextblock;Pe--){if(Ae.type.spec.isolating)return!1;let ue=Ae.lastChild;if(!ue)return!1;Ae=ue}let Ne=ie.nodeAfter,ce=Ne,q=ie.pos+1;for(;!ce.isTextblock;q++){if(ce.type.spec.isolating)return!1;let ue=ce.firstChild;if(!ue)return!1;ce=ue}let te=Object(e.replaceStep)(X.doc,Pe,q,a.Slice.empty);if(!te||te.from!=Pe||te.slice.size>=q-Pe)return!1;if(Ce){let ue=X.tr.step(te);ue.setSelection(o.TextSelection.create(ue.doc,Pe)),Ce(ue.scrollIntoView())}return!0}function p(X,ie,Ce=!1){for(let Le=X;Le;Le=ie=="start"?Le.firstChild:Le.lastChild){if(Le.isTextblock)return!0;if(Ce&&Le.childCount!=1)return!1}return!1}const g=(X,ie,Ce)=>{let{$head:Le,empty:Ae}=X.selection,Pe=Le;if(!Ae)return!1;if(Le.parent.isTextblock){if(Ce?!Ce.endOfTextblock("backward",X):Le.parentOffset>0)return!1;Pe=O(Le)}let Ne=Pe&&Pe.nodeBefore;return!Ne||!o.NodeSelection.isSelectable(Ne)?!1:(ie&&ie(X.tr.setSelection(o.NodeSelection.create(X.doc,Pe.pos-Ne.nodeSize)).scrollIntoView()),!0)};function O(X){if(!X.parent.type.spec.isolating)for(let ie=X.depth-1;ie>=0;ie--){if(X.index(ie)>0)return X.doc.resolve(X.before(ie+1));if(X.node(ie).type.spec.isolating)break}return null}function s(X,ie){let{$cursor:Ce}=X.selection;return!Ce||(ie?!ie.endOfTextblock("forward",X):Ce.parentOffset<Ce.parent.content.size)?null:Ce}const r=(X,ie,Ce)=>{let Le=s(X,Ce);if(!Le)return!1;let Ae=h(Le);if(!Ae)return!1;let Pe=Ae.nodeAfter;if(D(X,Ae,ie))return!0;if(Le.parent.content.size==0&&(p(Pe,"start")||o.NodeSelection.isSelectable(Pe))){let Ne=Object(e.replaceStep)(X.doc,Le.before(),Le.after(),a.Slice.empty);if(Ne&&Ne.slice.size<Ne.to-Ne.from){if(ie){let ce=X.tr.step(Ne);ce.setSelection(p(Pe,"start")?o.Selection.findFrom(ce.doc.resolve(ce.mapping.map(Ae.pos)),1):o.NodeSelection.create(ce.doc,ce.mapping.map(Ae.pos))),ie(ce.scrollIntoView())}return!0}}return Pe.isAtom&&Ae.depth==Le.depth-1?(ie&&ie(X.tr.delete(Ae.pos,Ae.pos+Pe.nodeSize).scrollIntoView()),!0):!1},i=(X,ie,Ce)=>{let{$head:Le,empty:Ae}=X.selection,Pe=Le;if(!Ae)return!1;if(Le.parent.isTextblock){if(Ce?!Ce.endOfTextblock("forward",X):Le.parentOffset<Le.parent.content.size)return!1;Pe=h(Le)}let Ne=Pe&&Pe.nodeAfter;return!Ne||!o.NodeSelection.isSelectable(Ne)?!1:(ie&&ie(X.tr.setSelection(o.NodeSelection.create(X.doc,Pe.pos)).scrollIntoView()),!0)};function h(X){if(!X.parent.type.spec.isolating)for(let ie=X.depth-1;ie>=0;ie--){let Ce=X.node(ie);if(X.index(ie)+1<Ce.childCount)return X.doc.resolve(X.after(ie+1));if(Ce.type.spec.isolating)break}return null}const v=(X,ie)=>{let Ce=X.selection,Le=Ce instanceof o.NodeSelection,Ae;if(Le){if(Ce.node.isTextblock||!Object(e.canJoin)(X.doc,Ce.from))return!1;Ae=Ce.from}else if(Ae=Object(e.joinPoint)(X.doc,Ce.from,-1),Ae==null)return!1;if(ie){let Pe=X.tr.join(Ae);Le&&Pe.setSelection(o.NodeSelection.create(Pe.doc,Ae-X.doc.resolve(Ae).nodeBefore.nodeSize)),ie(Pe.scrollIntoView())}return!0},j=(X,ie)=>{let Ce=X.selection,Le;if(Ce instanceof o.NodeSelection){if(Ce.node.isTextblock||!Object(e.canJoin)(X.doc,Ce.to))return!1;Le=Ce.to}else if(Le=Object(e.joinPoint)(X.doc,Ce.to,1),Le==null)return!1;return ie&&ie(X.tr.join(Le).scrollIntoView()),!0},y=(X,ie)=>{let{$from:Ce,$to:Le}=X.selection,Ae=Ce.blockRange(Le),Pe=Ae&&Object(e.liftTarget)(Ae);return Pe==null?!1:(ie&&ie(X.tr.lift(Ae,Pe).scrollIntoView()),!0)},b=(X,ie)=>{let{$head:Ce,$anchor:Le}=X.selection;return!Ce.parent.type.spec.code||!Ce.sameParent(Le)?!1:(ie&&ie(X.tr.insertText(`
`).scrollIntoView()),!0)};function E(X){for(let ie=0;ie<X.edgeCount;ie++){let{type:Ce}=X.edge(ie);if(Ce.isTextblock&&!Ce.hasRequiredAttrs())return Ce}return null}const P=(X,ie)=>{let{$head:Ce,$anchor:Le}=X.selection;if(!Ce.parent.type.spec.code||!Ce.sameParent(Le))return!1;let Ae=Ce.node(-1),Pe=Ce.indexAfter(-1),Ne=E(Ae.contentMatchAt(Pe));if(!Ne||!Ae.canReplaceWith(Pe,Pe,Ne))return!1;if(ie){let ce=Ce.after(),q=X.tr.replaceWith(ce,ce,Ne.createAndFill());q.setSelection(o.Selection.near(q.doc.resolve(ce),1)),ie(q.scrollIntoView())}return!0},A=(X,ie)=>{let Ce=X.selection,{$from:Le,$to:Ae}=Ce;if(Ce instanceof o.AllSelection||Le.parent.inlineContent||Ae.parent.inlineContent)return!1;let Pe=E(Ae.parent.contentMatchAt(Ae.indexAfter()));if(!Pe||!Pe.isTextblock)return!1;if(ie){let Ne=(!Le.parentOffset&&Ae.index()<Ae.parent.childCount?Le:Ae).pos,ce=X.tr.insert(Ne,Pe.createAndFill());ce.setSelection(o.TextSelection.create(ce.doc,Ne+1)),ie(ce.scrollIntoView())}return!0},_=(X,ie)=>{let{$cursor:Ce}=X.selection;if(!Ce||Ce.parent.content.size)return!1;if(Ce.depth>1&&Ce.after()!=Ce.end(-1)){let Pe=Ce.before();if(Object(e.canSplit)(X.doc,Pe))return ie&&ie(X.tr.split(Pe).scrollIntoView()),!0}let Le=Ce.blockRange(),Ae=Le&&Object(e.liftTarget)(Le);return Ae==null?!1:(ie&&ie(X.tr.lift(Le,Ae).scrollIntoView()),!0)};function M(X){return(ie,Ce)=>{let{$from:Le,$to:Ae}=ie.selection;if(ie.selection instanceof o.NodeSelection&&ie.selection.node.isBlock)return!Le.parentOffset||!Object(e.canSplit)(ie.doc,Le.pos)?!1:(Ce&&Ce(ie.tr.split(Le.pos).scrollIntoView()),!0);if(!Le.parent.isBlock)return!1;if(Ce){let Pe=Ae.parentOffset==Ae.parent.content.size,Ne=ie.tr;(ie.selection instanceof o.TextSelection||ie.selection instanceof o.AllSelection)&&Ne.deleteSelection();let ce=Le.depth==0?null:E(Le.node(-1).contentMatchAt(Le.indexAfter(-1))),q=X&&X(Ae.parent,Pe),te=q?[q]:Pe&&ce?[{type:ce}]:void 0,ue=Object(e.canSplit)(Ne.doc,Ne.mapping.map(Le.pos),1,te);if(!te&&!ue&&Object(e.canSplit)(Ne.doc,Ne.mapping.map(Le.pos),1,ce?[{type:ce}]:void 0)&&(ce&&(te=[{type:ce}]),ue=!0),ue&&(Ne.split(Ne.mapping.map(Le.pos),1,te),!Pe&&!Le.parentOffset&&Le.parent.type!=ce)){let We=Ne.mapping.map(Le.before()),ot=Ne.doc.resolve(We);ce&&Le.node(-1).canReplaceWith(ot.index(),ot.index()+1,ce)&&Ne.setNodeMarkup(Ne.mapping.map(Le.before()),ce)}Ce(Ne.scrollIntoView())}return!0}}const F=M(),H=(X,ie)=>F(X,ie&&(Ce=>{let Le=X.storedMarks||X.selection.$to.parentOffset&&X.selection.$from.marks();Le&&Ce.ensureMarks(Le),ie(Ce)})),C=(X,ie)=>{let{$from:Ce,to:Le}=X.selection,Ae,Pe=Ce.sharedDepth(Le);return Pe==0?!1:(Ae=Ce.before(Pe),ie&&ie(X.tr.setSelection(o.NodeSelection.create(X.doc,Ae))),!0)},T=(X,ie)=>(ie&&ie(X.tr.setSelection(new o.AllSelection(X.doc))),!0);function S(X,ie,Ce){let Le=ie.nodeBefore,Ae=ie.nodeAfter,Pe=ie.index();return!Le||!Ae||!Le.type.compatibleContent(Ae.type)?!1:!Le.content.size&&ie.parent.canReplace(Pe-1,Pe)?(Ce&&Ce(X.tr.delete(ie.pos-Le.nodeSize,ie.pos).scrollIntoView()),!0):!ie.parent.canReplace(Pe,Pe+1)||!(Ae.isTextblock||Object(e.canJoin)(X.doc,ie.pos))?!1:(Ce&&Ce(X.tr.clearIncompatible(ie.pos,Le.type,Le.contentMatchAt(Le.childCount)).join(ie.pos).scrollIntoView()),!0)}function D(X,ie,Ce){let Le=ie.nodeBefore,Ae=ie.nodeAfter,Pe,Ne;if(Le.type.spec.isolating||Ae.type.spec.isolating)return!1;if(S(X,ie,Ce))return!0;let ce=ie.parent.canReplace(ie.index(),ie.index()+1);if(ce&&(Pe=(Ne=Le.contentMatchAt(Le.childCount)).findWrapping(Ae.type))&&Ne.matchType(Pe[0]||Ae.type).validEnd){if(Ce){let We=ie.pos+Ae.nodeSize,ot=a.Fragment.empty;for(let Wt=Pe.length-1;Wt>=0;Wt--)ot=a.Fragment.from(Pe[Wt].create(null,ot));ot=a.Fragment.from(Le.copy(ot));let ze=X.tr.step(new e.ReplaceAroundStep(ie.pos-1,We,ie.pos,We,new a.Slice(ot,1,0),Pe.length,!0)),vt=We+2*Pe.length;Object(e.canJoin)(ze.doc,vt)&&ze.join(vt),Ce(ze.scrollIntoView())}return!0}let q=o.Selection.findFrom(ie,1),te=q&&q.$from.blockRange(q.$to),ue=te&&Object(e.liftTarget)(te);if(ue!=null&&ue>=ie.depth)return Ce&&Ce(X.tr.lift(te,ue).scrollIntoView()),!0;if(ce&&p(Ae,"start",!0)&&p(Le,"end")){let We=Le,ot=[];for(;ot.push(We),!We.isTextblock;)We=We.lastChild;let ze=Ae,vt=1;for(;!ze.isTextblock;ze=ze.firstChild)vt++;if(We.canReplace(We.childCount,We.childCount,ze.content)){if(Ce){let Wt=a.Fragment.empty;for(let at=ot.length-1;at>=0;at--)Wt=a.Fragment.from(ot[at].copy(Wt));let zt=X.tr.step(new e.ReplaceAroundStep(ie.pos-ot.length,ie.pos+Ae.nodeSize,ie.pos+vt,ie.pos+Ae.nodeSize-vt,new a.Slice(Wt,ot.length,0),0,!0));Ce(zt.scrollIntoView())}return!0}}return!1}function w(X){return function(ie,Ce){let Le=ie.selection,Ae=X<0?Le.$from:Le.$to,Pe=Ae.depth;for(;Ae.node(Pe).isInline;){if(!Pe)return!1;Pe--}return Ae.node(Pe).isTextblock?(Ce&&Ce(ie.tr.setSelection(o.TextSelection.create(ie.doc,X<0?Ae.start(Pe):Ae.end(Pe)))),!0):!1}}const U=w(-1),V=w(1);function K(X,ie=null){return function(Ce,Le){let{$from:Ae,$to:Pe}=Ce.selection,Ne=Ae.blockRange(Pe),ce=Ne&&Object(e.findWrapping)(Ne,X,ie);return ce?(Le&&Le(Ce.tr.wrap(Ne,ce).scrollIntoView()),!0):!1}}function Y(X,ie=null){return function(Ce,Le){let Ae=!1;for(let Pe=0;Pe<Ce.selection.ranges.length&&!Ae;Pe++){let{$from:{pos:Ne},$to:{pos:ce}}=Ce.selection.ranges[Pe];Ce.doc.nodesBetween(Ne,ce,(q,te)=>{if(Ae)return!1;if(!(!q.isTextblock||q.hasMarkup(X,ie)))if(q.type==X)Ae=!0;else{let ue=Ce.doc.resolve(te),We=ue.index();Ae=ue.parent.canReplaceWith(We,We+1,X)}})}if(!Ae)return!1;if(Le){let Pe=Ce.tr;for(let Ne=0;Ne<Ce.selection.ranges.length;Ne++){let{$from:{pos:ce},$to:{pos:q}}=Ce.selection.ranges[Ne];Pe.setBlockType(ce,q,X,ie)}Le(Pe.scrollIntoView())}return!0}}function W(X,ie,Ce){for(let Le=0;Le<ie.length;Le++){let{$from:Ae,$to:Pe}=ie[Le],Ne=Ae.depth==0?X.inlineContent&&X.type.allowsMarkType(Ce):!1;if(X.nodesBetween(Ae.pos,Pe.pos,ce=>{if(Ne)return!1;Ne=ce.inlineContent&&ce.type.allowsMarkType(Ce)}),Ne)return!0}return!1}function R(X,ie=null){return function(Ce,Le){let{empty:Ae,$cursor:Pe,ranges:Ne}=Ce.selection;if(Ae&&!Pe||!W(Ce.doc,Ne,X))return!1;if(Le)if(Pe)X.isInSet(Ce.storedMarks||Pe.marks())?Le(Ce.tr.removeStoredMark(X)):Le(Ce.tr.addStoredMark(X.create(ie)));else{let ce=!1,q=Ce.tr;for(let te=0;!ce&&te<Ne.length;te++){let{$from:ue,$to:We}=Ne[te];ce=Ce.doc.rangeHasMark(ue.pos,We.pos,X)}for(let te=0;te<Ne.length;te++){let{$from:ue,$to:We}=Ne[te];if(ce)q.removeMark(ue.pos,We.pos,X);else{let ot=ue.pos,ze=We.pos,vt=ue.nodeAfter,Wt=We.nodeBefore,zt=vt&&vt.isText?/^\s*/.exec(vt.text)[0].length:0,at=Wt&&Wt.isText?/\s*$/.exec(Wt.text)[0].length:0;ot+zt<ze&&(ot+=zt,ze-=at),q.addMark(ot,ze,X.create(ie))}}Le(q.scrollIntoView())}return!0}}function B(X,ie){return Ce=>{if(!Ce.isGeneric)return X(Ce);let Le=[];for(let Pe=0;Pe<Ce.mapping.maps.length;Pe++){let Ne=Ce.mapping.maps[Pe];for(let ce=0;ce<Le.length;ce++)Le[ce]=Ne.map(Le[ce]);Ne.forEach((ce,q,te,ue)=>Le.push(te,ue))}let Ae=[];for(let Pe=0;Pe<Le.length;Pe+=2){let Ne=Le[Pe],ce=Le[Pe+1],q=Ce.doc.resolve(Ne),te=q.sharedDepth(ce),ue=q.node(te);for(let We=q.indexAfter(te),ot=q.after(te+1);ot<=ce;++We){let ze=ue.maybeChild(We);if(!ze)break;if(We&&Ae.indexOf(ot)==-1){let vt=ue.child(We-1);vt.type==ze.type&&ie(vt,ze)&&Ae.push(ot)}ot+=ze.nodeSize}}Ae.sort((Pe,Ne)=>Pe-Ne);for(let Pe=Ae.length-1;Pe>=0;Pe--)Object(e.canJoin)(Ce.doc,Ae[Pe])&&Ce.join(Ae[Pe]);X(Ce)}}function x(X,ie){let Ce=Array.isArray(ie)?Le=>ie.indexOf(Le.type.name)>-1:ie;return(Le,Ae,Pe)=>X(Le,Ae&&B(Ae,Ce),Pe)}function G(...X){return function(ie,Ce,Le){for(let Ae=0;Ae<X.length;Ae++)if(X[Ae](ie,Ce,Le))return!0;return!1}}let Q=G(l,c,g),he=G(l,r,i);const Z={Enter:G(b,A,_,F),"Mod-Enter":P,Backspace:Q,"Mod-Backspace":Q,"Shift-Backspace":Q,Delete:he,"Mod-Delete":he,"Mod-a":T},le={"Ctrl-h":Z.Backspace,"Alt-Backspace":Z["Mod-Backspace"],"Ctrl-d":Z.Delete,"Ctrl-Alt-Backspace":Z["Mod-Delete"],"Alt-Delete":Z["Mod-Delete"],"Alt-d":Z["Mod-Delete"],"Ctrl-a":U,"Ctrl-e":V};for(let X in Z)le[X]=Z[X];const be=(typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os!="undefined"&&os.platform?os.platform()=="darwin":!1)?le:Z},,,function(k,n,t){"use strict";t.d(n,"a",function(){return b}),t.d(n,"b",function(){return P}),t.d(n,"c",function(){return F});var e=t(0),a=t(1),o=t(12),l=t.n(o),d=t(213),c=t(286),u=t(18),f=t(9),m=t.n(f),p=Object.defineProperty,g=Object.defineProperties,O=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,h=(C,T,S)=>T in C?p(C,T,{enumerable:!0,configurable:!0,writable:!0,value:S}):C[T]=S,v=(C,T)=>{for(var S in T||(T={}))r.call(T,S)&&h(C,S,T[S]);if(s)for(var S of s(T))i.call(T,S)&&h(C,S,T[S]);return C},j=(C,T)=>g(C,O(T)),y=(C,T,S)=>new Promise((D,w)=>{var U=Y=>{try{K(S.next(Y))}catch(W){w(W)}},V=Y=>{try{K(S.throw(Y))}catch(W){w(W)}},K=Y=>Y.done?D(Y.value):Promise.resolve(Y.value).then(U,V);K((S=S.apply(C,T)).next())});function b({defaultState:C,shouldLoad:T=!0,shouldPoll:S=!1,children:D}){return Object(e.h)(A,{defaultState:C==null?void 0:C.activity,shouldLoad:T,shouldPoll:S},Object(e.h)(H,{shouldLoad:T},D))}const E=Object(e.createContext)({lastViewedAt:null,activityUnreadCount:0,activityUnreadAtMax:!1,refetch:()=>y(void 0,null,function*(){return!0}),markAllAsRead:()=>y(void 0,null,function*(){}),hasLoadedOnce:!1});E.displayName="NotificationsContext";function P(){return Object(a.b)(E)}function A({defaultState:C,shouldLoad:T=!0,shouldPoll:S=!1,children:D}){const w=Object(u.f)({pathname:"/api/v1/activity/unread",deps:[],auto:T,initialResult:C}),U=()=>y(this,null,function*(){const K=yield l.a.post("/api/v1/activity/unread").send({after:new Date().toISOString()});w.setResult(K.body)});Object(c.a)(()=>y(this,null,function*(){var K;if(S&&T&&Object(f.isWindowVisible)()){const Y=((K=w.result)==null?void 0:K.count)||0,W=yield w.refetch(),R=!(W instanceof Error)&&W.count||0;if(Y!==R)return!0}}),6e4);const V=w.result!=null?w.result.count:0;return Object(a.d)(()=>{var K;try{(K=navigator.setAppBadge)==null||K.call(navigator,V)}catch(Y){console.warn(Y)}},[V]),Object(e.h)(E.Provider,{value:{lastViewedAt:w.result!=null?w.result.lastViewedAt:null,activityUnreadCount:V,activityUnreadAtMax:w.result!=null?w.result.max:!1,refetch:w.refetch,markAllAsRead:U,hasLoadedOnce:w.hasLoadedOnce}},Object(e.h)(d.Metadata,{badge:V}),D)}const _={count:0,max:!1,refetch:()=>y(void 0,null,function*(){return!0}),markAllAsRead:()=>y(void 0,null,function*(){}),hasLoadedOnce:!1},M=Object(e.createContext)(_);M.displayName="SavedPostsContext";function F(){return Object(a.b)(M)}function H({shouldLoad:C=!0,children:T}){const S=Object(u.f)({pathname:"/api/v1/posts/saved/unread-count",deps:[],auto:C,initialResult:_}),D=()=>S.refetch({method:"PUT"});return Object(e.h)(M.Provider,{value:j(v({},S.result),{refetch:S.refetch,markAllAsRead:D,hasLoadedOnce:S.hasLoadedOnce})},T)}},function(k,n,t){"use strict";t.d(n,"b",function(){return M}),t.d(n,"d",function(){return F}),t.d(n,"f",function(){return H}),t.d(n,"e",function(){return C}),t.d(n,"a",function(){return S}),t.d(n,"c",function(){return D});var e=t(0),a=t(1),o=t(351),l=t(10),d=t.n(l),c=t(391),u=t(18),f=t(9),m=t.n(f),p=t(11),g=t(23),O=t(25),s=Object.defineProperty,r=Object.defineProperties,i=Object.getOwnPropertyDescriptors,h=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable,y=(w,U,V)=>U in w?s(w,U,{enumerable:!0,configurable:!0,writable:!0,value:V}):w[U]=V,b=(w,U)=>{for(var V in U||(U={}))v.call(U,V)&&y(w,V,U[V]);if(h)for(var V of h(U))j.call(U,V)&&y(w,V,U[V]);return w},E=(w,U)=>r(w,i(U)),P=(w,U,V)=>new Promise((K,Y)=>{var W=x=>{try{B(V.next(x))}catch(G){Y(G)}},R=x=>{try{B(V.throw(x))}catch(G){Y(G)}},B=x=>x.done?K(x.value):Promise.resolve(x.value).then(W,R);B((V=V.apply(w,U)).next())});const A={mutes:[],blocks:[],blocked:[]},_=Object(e.createContext)({result:A,refetch:()=>null});_.displayName="UserBlockContext";function M({user:w,children:U}){var V;const K=Object(u.f)({pathname:"/api/v1/blocks/ids",deps:[w],auto:!!w});return Object(e.h)(_.Provider,{value:{result:(V=K.result)!=null?V:A,refetch:K.refetch}},U)}function F(){return Object(a.b)(_)}function H(w){const{result:{mutes:U,blocks:V,blocked:K}}=Object(a.b)(_);return w?U.includes(w)?"muting":V.includes(w)?"blocking":K.includes(w)?"blocked":null:null}function C(w,U){const V=Object(O.c)(),K=Boolean(V&&w&&V.id!==w.id),Y=F(),W=H(w==null?void 0:w.id),R=Object(p.L)(),B=Object(l.guessFirstName)(w==null?void 0:w.name),x=()=>P(this,null,function*(){if(!!w){try{yield Object(u.c)(`/api/v1/blocks/${w.id}`,{method:"POST",json:{type:"mute",surface:U}})}catch(le){R.popToast(de=>Object(e.h)(p.I,E(b({},de),{text:Object(f.getNetworkErrorMessage)(le)})));return}Y.refetch(),R.popToast(le=>Object(e.h)(p.I,E(b({},le),{text:`${w.name||"User"} muted`,Icon:c.default})))}}),G=()=>P(this,null,function*(){if(!!w){try{yield Object(u.c)(`/api/v1/blocks/${w.id}`,{method:"DELETE",query:{surface:U}})}catch(le){R.popToast(de=>Object(e.h)(p.I,E(b({},de),{text:Object(f.getNetworkErrorMessage)(le)})));return}Y.refetch(),R.popToast(le=>Object(e.h)(p.I,E(b({},le),{text:`${w.name||"User"} unmuted`,Icon:c.default})))}}),Q=()=>P(this,null,function*(){if(!!w){try{yield Object(u.c)(`/api/v1/blocks/${w.id}`,{method:"POST",json:{type:"block",surface:U}})}catch(le){R.popToast(de=>Object(e.h)(p.I,E(b({},de),{text:Object(f.getNetworkErrorMessage)(le)})));return}Y.refetch(),R.popToast(le=>Object(e.h)(p.I,E(b({},le),{text:`${w.name||"User"} blocked`,Icon:o.a})))}}),he=()=>P(this,null,function*(){if(!!w){try{yield Object(u.c)(`/api/v1/blocks/${w.id}`,{method:"DELETE",query:{surface:U}})}catch(le){R.popToast(de=>Object(e.h)(p.I,E(b({},de),{text:Object(f.getNetworkErrorMessage)(le)})));return}Y.refetch(),R.popToast(le=>Object(e.h)(p.I,E(b({},le),{text:`${w.name||"User"} unblocked`,Icon:o.a})))}}),Z=[];return K&&(W!=="blocking"&&Z.push(Object(e.h)(g.d,{icon:Object(e.h)(c.default,null),onClick:W==="muting"?G:x},W==="muting"?`Unmute ${B||(w==null?void 0:w.name)||"this person"}`:`Mute ${B||(w==null?void 0:w.name)||"this person"}`)),Z.push(Object(e.h)(g.d,{icon:Object(e.h)(o.a,null),onClick:W==="blocking"?he:Q},W==="blocking"?`Unblock ${B||(w==null?void 0:w.name)||"this person"}`:`Block ${B||(w==null?void 0:w.name)||"this person"}`))),Z}const T=Object(e.createContext)(!1);T.displayName="MuteFreeZone";function S({muteFree:w=!0,children:U}){return Object(e.h)(T.Provider,{value:w},U)}function D(){return Object(a.b)(T)}},function(k,n,t){"use strict";t.d(n,"a",function(){return Y});var e=t(0),a=t(5),o=t.n(a),l=t(65),d=t.n(l),c=t(4),u=t.n(c),f=t(10),m=t.n(f),p=t(7),g=t(61),O=t.n(g),s=t(9),r=t.n(s),i=t(21),h=t(323),v=t(324),j=t(542),y=t(715),b=t(177),E=Object.defineProperty,P=Object.defineProperties,A=Object.getOwnPropertyDescriptors,_=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable,H=(W,R,B)=>R in W?E(W,R,{enumerable:!0,configurable:!0,writable:!0,value:B}):W[R]=B,C=(W,R)=>{for(var B in R||(R={}))M.call(R,B)&&H(W,B,R[B]);if(_)for(var B of _(R))F.call(R,B)&&H(W,B,R[B]);return W},T=(W,R)=>P(W,A(R)),S=(W,R,B)=>(H(W,typeof R!="symbol"?R+"":R,B),B),D=(W,R,B)=>new Promise((x,G)=>{var Q=le=>{try{Z(B.next(le))}catch(de){G(de)}},he=le=>{try{Z(B.throw(le))}catch(de){G(de)}},Z=le=>le.done?x(le.value):Promise.resolve(le.value).then(Q,he);Z((B=B.apply(W,R)).next())});const w="AudioPlayer.playbackRate",U=5,V={utm_source:"twitter",utm_medium:"social",utm_campaign:"twitter-embed"};class K extends e.Component{constructor(R){super(R)}shouldComponentUpdate(R){return this.props.currentPlaybackRate!==R.currentPlaybackRate||this.props.setPlaybackRate!==R.setPlaybackRate}render(){const{currentPlaybackRate:R,setPlaybackRate:B}=this.props;return Object(e.h)("select",{className:"audio-player-playback-rate",dir:"rtl",onInput:x=>B(Number(x.target.value))},Object(e.h)("option",{value:"1",selected:R===1},"1x"),Object(e.h)("option",{value:"1.25",selected:R===1.25},"1.25x"),Object(e.h)("option",{value:"1.5",selected:R===1.5},"1.5x"),Object(e.h)("option",{value:"1.75",selected:R===1.75},"1.75x"),Object(e.h)("option",{value:"2",selected:R===2},"2x"))}}class Y extends e.Component{constructor(R,B){super(R,B);S(this,"setPlaybackRate",x=>{this.state.playbackRate!==x&&(this.player&&(this.player.playbackRate=x),this.setState({playbackRate:x}),Object(g.setStoredValue)(w,x))}),S(this,"maybeAppendIframeVisitId",x=>{var G;const Q=(G=Object(p.b)())==null?void 0:G.id;return Q&&(x=Object(c.updateQuery)(x,{src_iid:Q})),x}),S(this,"openEpisodePage",()=>{let x=this.props.post.canonical_url;x=this.maybeAppendIframeVisitId(x),x=Object(c.updateQuery)(x,V),window.open(x,"_blank")}),this._onGlobalPlay=this.onGlobalPlay.bind(this),this._onUnload=this.onUnload.bind(this),this._onMouseMove=this.onMouseMove.bind(this),this._onTouchStart=this.onTouchStart.bind(this),this._onTouchMove=this.onTouchMove.bind(this),this._onDragEnd=this.onDragEnd.bind(this),this._onCanPlay=this.onCanPlay.bind(this),this._onPlay=this.onPlay.bind(this),this._onPause=this.onPause.bind(this),this._onTimeUpdate=this.onTimeUpdate.bind(this),this._onRateChange=this.onRateChange.bind(this),this._onWaiting=this.onWaiting.bind(this),this._onPlaying=this.onPlaying.bind(this),this.state={playbackRate:R.playbackRate||Object(g.getStoredValue)(w,1),currentTime:0,waiting:!0,duration:R.duration||void 0,lastDragClearedAt:null}}componentDidMount(){var R,B;(R=s.globalPlaybackNotifier)==null||R.on("play",this._onGlobalPlay),typeof window!="undefined"&&window.addEventListener("beforeunload",this._onUnload,!1),document.body&&(document.body.addEventListener("mousemove",this._onMouseMove,!1),document.body.addEventListener("mouseup",this._onDragEnd,!1),document.body.addEventListener("touchmove",this._onTouchMove,{passive:!1}),document.body.addEventListener("touchend",this._onDragEnd,!1),document.body.addEventListener("touchcancel",this._onDragEnd,!1)),this.player&&(this.player.volume=1,this.player.playbackRate=this.state.playbackRate,this.player.addEventListener("canplay",this._onCanPlay),this.player.addEventListener("play",this._onPlay),this.player.addEventListener("pause",this._onPause),this.player.addEventListener("timeupdate",this._onTimeUpdate),this.player.addEventListener("ratechange",this._onRateChange),this.player.addEventListener("waiting",this._onWaiting),this.player.addEventListener("playing",this._onPlaying)),this.progressBar&&this.progressBar.addEventListener("touchstart",this._onTouchStart,{passive:!0}),this.onTimeUpdate(),this.props.onGetDuration&&!isNaN((B=this.player)==null?void 0:B.duration)&&this.props.onGetDuration(this.player.duration),Object(s.preloadImage)(Object(c.cloudinary)("/img/audio-player-pause.png",96))}componentWillUnmount(){var R;(R=s.globalPlaybackNotifier)==null||R.off("play",this._onGlobalPlay),typeof window!="undefined"&&window.removeEventListener("beforeunload",this._onUnload,!1),document.body&&(document.body.removeEventListener("mousemove",this._onMouseMove,!1),document.body.removeEventListener("mouseup",this._onDragEnd,!1),document.body.removeEventListener("touchmove",this._onTouchMove,!1),document.body.removeEventListener("touchend",this._onDragEnd,!1),document.body.removeEventListener("touchcancel",this._onDragEnd,!1)),this.player&&(this.player.removeEventListener("canplay",this._onCanPlay),this.player.removeEventListener("play",this._onPlay),this.player.removeEventListener("pause",this._onPause),this.player.removeEventListener("timeupdate",this._onTimeUpdate),this.player.removeEventListener("ratechange",this._onRateChange),this.player.removeEventListener("waiting",this._onWaiting),this.player.removeEventListener("playing",this._onPlaying)),this.progressBar&&this.progressBar.removeEventListener("touchstart",this._onTouchStart)}componentDidUpdate(R,B){!this.state.playing&&typeof this.state.waiting=="number"&&typeof B.waiting!="number"&&this.track(p.a.AUDIO_BUFFERING_STARTED),this.state.playing&&!B.playing&&!this.state.waiting&&typeof B.waiting=="number"&&this.track(p.a.AUDIO_BUFFERING_COMPLETED,{buffering_duration:Date.now()-B.waiting}),this.state.playing&&Math.floor(this.state.currentTime)!==Math.floor(B.currentTime)&&Math.floor(this.state.currentTime)%U==0&&this.track(p.a.AUDIO_PLAYBACK_CONTINUED,{current_time:Math.floor(this.state.currentTime),feature:this.props.feature}),!this.state.playing&&B.playing&&this.player&&this.player.ended&&this.track(p.a.AUDIO_PLAYBACK_COMPLETE)}onCanPlay(){this.props.onGetDuration&&this.props.onGetDuration(this.player.duration),this.onTimeUpdate()}onPlay(){var R;(R=s.globalPlaybackNotifier)==null||R.emit("play",this),this.setState({playing:!0})}onPause(){this.setState({playing:!1,waiting:!1})}onTimeUpdate(){if(!(!this.player||!isFinite(this.player.duration))){if(this.player.currentTime>this.player.duration){this.player.currentTime=this.player.duration;return}this.state.duration!==this.player.duration||this.state.currentTime!==this.player.currentTime?(this.setState({duration:this.player.duration||this.props.duration,currentTime:this.player.currentTime,waiting:!1}),this.props.onTimeUpdate&&this.props.onTimeUpdate({duration:Math.max(this.state.duration||0,this.player.duration||this.props.duration||0),currentTime:this.player.currentTime})):this.setState({waiting:!1})}}onRateChange(){this.player&&this.state.playbackRate!==this.player.playbackRate&&this.setState({playbackRate:this.player.playbackRate})}onWaiting(){this.setState({waiting:Date.now()})}onPlaying(){this.setState({playing:!0,waiting:!1})}onMouseDown(R){this.onDragStart(R.clientX)}onMouseMove(R){this.onDragMove(R.clientX)}onTouchStart(R){R.touches&&R.touches.length>0&&this.onDragStart(R.touches[0].pageX)}onTouchMove(R){typeof this.state.dragTime=="number"&&R.preventDefault(),R.touches&&R.touches.length>0&&this.onDragMove(R.touches[0].pageX)}onDragStart(R){typeof this.state.dragTime!="number"&&this.setDragTime(R)}onDragMove(R){typeof this.state.dragTime=="number"&&this.setDragTime(R)}onDragEnd(){this.clearDragTime()}onUnload(R){this.state.playing&&(R.returnValue="If you close this the audio will stop. Are you sure you want to navigate away from this page?")}onGlobalPlay(R){this!==R&&this.player&&(this.track(p.a.CLICKED_PAUSE_BUTTON,{implicit:!0,feature:this.props.feature}),this.player.pause())}togglePlayback(){return D(this,null,function*(){if(this.player)if(this.player.paused){this.track(p.a.CLICKED_PLAY_BUTTON,{feature:this.props.feature});try{yield this.player.play()}catch(R){if(R.name==="NotSupportedError")alert("Failed to play this media: it may not be supported by this browser.");else throw R}}else this.track(p.a.CLICKED_PAUSE_BUTTON,{feature:this.props.feature}),yield this.player.pause()})}skipBack(){if(this.player){const R=Math.max(0,this.state.currentTime-15);this.track(p.a.SEEKED_AUDIO,{new_time:R,source:"skip"}),this.player.currentTime=R}}skipForward(){if(this.player){const R=Math.min(this.state.duration,this.state.currentTime+30);this.track(p.a.SEEKED_AUDIO,{new_time:R,source:"skip"}),this.player.currentTime=R}}setDragTime(R){if(!this.props.src||!this.state.duration||!this.player||!document.body||!document.body.getBoundingClientRect)return;const B=document.body.getBoundingClientRect(),x=this.progressBar.getBoundingClientRect(),G=x.left-B.left,Q=x.right;let Z=(Math.max(G,Math.min(Q,R))-G)/(Q-G)*this.state.duration;this.isDragTimeCloseToCurrentTime(Z)&&(Z=this.state.currentTime),this.setState({dragTime:Z})}clearDragTime(){if(typeof this.state.dragTime!="number")return;const R=this.state.dragTime;this.track(p.a.SEEKED_AUDIO,{new_time:R,source:"slider"}),this.isDragTimeCloseToCurrentTime(R)?this.setState({dragTime:null}):(this.setState({currentTime:R,dragTime:null,lastDragClearedAt:performance.now()}),this.player&&(this.player.currentTime=R))}isDragTimeCloseToCurrentTime(R){if(typeof this.state.currentTime!="number")return!1;let B;return this.state.duration<10?B=0:this.state.duration<30?B=3:B=5,Math.abs(this.state.currentTime-R)<B}track(R,B={}){const x=this.props.metricsPost;!x||Object(p.i)(R,Object.assign({post_id:x.id,publication_id:x.publication_id,is_podcast_free_preview:Object(l.podcastPostIsFreePreview)(x),current_time:this.state.currentTime?Math.floor(this.state.currentTime):0,duration:this.state.duration?Math.floor(this.state.duration):0,playback_rate:this.state.playbackRate},B))}render({src:R,autoPlay:B,pub:x,post:G,isFancy:Q,showCTAs:he,metricsPost:Z,addToPodcastLink:le,isPaywalled:de,render:be}){if(be){const{dragTime:X,duration:ie,currentTime:Ce,playbackRate:Le}=this.state;return Object(e.h)(e.Fragment,null,be({isPaywalled:de,progress:ie?(typeof X=="number"?X:Ce)/ie:0,currentTime:ie?Object(f.secondsToHHMMSS)(Ce):"--:--",remainingTime:ie?`-${Object(f.secondsToHHMMSS)(ie-Math.min(Ce,ie))}`:"--:--",isPlaying:this.state.playing,playbackRate:Le,progressBarOnMouseDown:Ae=>{this.onMouseDown(Ae)},progressBarRef:Ae=>{this.progressBar=Ae},setPlaybackRate:Ae=>{this.setPlaybackRate(Ae)},skipBack:()=>{this.skipBack()},skipForward:()=>{this.skipForward()},togglePlayback:()=>{this.togglePlayback()}}),R&&!de&&Object(e.h)("audio",{ref:Ae=>{this.player=Ae},src:R,autoPlay:B},"Audio playback is not supported on your browser. Please upgrade."))}return Q?this.renderFancy({src:R,autoPlay:B,pub:x,post:G,metricsPost:Z,showCTAs:he}):this.renderOriginal({src:R,autoPlay:B,pub:x,metricsPost:Z,addToPodcastLink:le})}renderFancy({src:R,autoPlay:B,pub:x,post:G,showCTAs:Q}){const he=Object(s.getPodcastEpisodeImageUrl)(x,G);return Object(e.h)(e.Fragment,null,Object(e.h)("div",{className:"audio-player-wrapper-fancy"},Object(e.h)("div",{className:"audio-player"},Object(e.h)("div",{className:"audio-player-substack-logo audio-player-clickable",onClick:this.openEpisodePage},Object(e.h)(b.default,{color:"#F8F8F8"})),Object(e.h)("div",{className:"audio-player-hero-image-container audio-player-clickable",onClick:this.openEpisodePage},he&&Object(e.h)("img",{className:"audio-player-hero-image audio-player-clickable",src:Object(c.cloudinary)(he,500,{height:500,crop:"fill"}),onClick:this.openEpisodePage})),Object(e.h)("div",{className:"audio-player-title audio-player-clickable",onClick:this.openEpisodePage},G.title),Object(e.h)("div",{className:"audio-player-subtitle audio-player-clickable",onClick:this.openEpisodePage},G.subtitle),R&&Object(e.h)("audio",{"data-testid":"audio-element",ref:Z=>this.player=Z,src:R,autoPlay:B},"Audio playback is not supported on your browser. Please upgrade."),this.renderProgressFancy(this.props,this.state),this.renderButtonsFancy(this.props,this.state),Q&&Object(e.h)("div",{className:"btn-group"},Object(e.h)(i.b,{className:"bold text-gray-foreground",newTab:!0,onClick:this.openEpisodePage},"View post"),Object(e.h)(i.b,{className:"primary bold subscribe-btn",href:this.maybeAppendIframeVisitId(Object(c.getSubscribeUrl)(x,T(C({},V),{simple:!0,next:Object(c.getPostUrl)(x,G)}))),newTab:!0},Object(f.getSubscribeText)(x))))))}renderOriginal({src:R,autoPlay:B,pub:x,addToPodcastLink:G}){return Object(e.h)("div",{className:"audio-player-wrapper"},Object(e.h)("div",{className:"audio-player"},R&&Object(e.h)("audio",{ref:Q=>this.player=Q,src:R,autoPlay:B},"Audio playback is not supported on your browser. Please upgrade."),this.renderButtons(this.props,this.state),this.renderProgress(this.props,this.state)),G&&!x.hide_podcast_feed_link&&Object(e.h)("div",{className:"audio-player-add-to-podcast-link",href:G},Object(e.h)("a",{href:G,target:"_blank",rel:"noopener"},"Listen in podcast app")))}renderButtonsFancy({src:R,href:B},{playing:x,waiting:G,playbackRate:Q}){return Object(e.h)("div",{className:"audio-player-buttons"},Object(e.h)("button",{className:"audio-player-backward","aria-pressed":"false",onClick:()=>this.skipBack()},Object(e.h)(h.default,{className:"skip-icon"})),Object(e.h)("button",{className:o()("audio-player-play",{pause:"playing",waiting:G}),"aria-pressed":"false",onClick:()=>this.togglePlayback()},x?Object(e.h)(j.default,{className:"playback-icon pause",fill:"#1C110B"}):Object(e.h)(y.default,{className:"playback-icon play",fill:"#1C110B"})),Object(e.h)("button",{className:"audio-player-forward","aria-pressed":"false",onClick:()=>this.skipForward()},Object(e.h)(v.default,{className:"skip-icon"})))}renderButtons({src:R,href:B,isStatic:x},{playing:G,waiting:Q,playbackRate:he}){return Object(e.h)("div",{className:"audio-player-buttons"},Object(e.h)("table",{className:"custom"},Object(e.h)("tr",null,Object(e.h)("td",{className:"audio-player-buttons-spacing"},"\xA0"),Object(e.h)("td",{className:"audio-player-backward"},Object(e.h)("a",{role:"button",className:"button",tabIndex:"0","aria-pressed":"false",href:B||"javascript:void(0)",onClick:()=>this.skipBack()},Object(e.h)(h.default,{className:"skip-icon",fill:"#3c3c3c",height:"30",isStatic:x}))),Object(e.h)("td",{className:`audio-player-play ${G?"pause":""} ${Q?"waiting":""}`},Object(e.h)("a",{className:"button",role:"button",tabIndex:"0","aria-pressed":"false",href:B||"javascript:void(0)",onClick:()=>this.togglePlayback()},Object(e.h)("img",{src:Object(c.cloudinary)(G?"/img/audio-player-pause.png":"/img/audio-player-play.png",96)}))),Object(e.h)("td",{className:"audio-player-forward"},Object(e.h)("a",{role:"button",className:"button",tabIndex:"0","aria-pressed":"false",href:B||"javascript:void(0)",onClick:()=>this.skipForward()},Object(e.h)(v.default,{className:"skip-icon",fill:"#3c3c3c",height:"30",isStatic:x}))),Object(e.h)("td",{className:"audio-player-buttons-spacing"},"\xA0"))),R&&Object(e.h)(K,{currentPlaybackRate:he,setPlaybackRate:this.setPlaybackRate}))}renderProgress({},{duration:R,currentTime:B,dragTime:x}){return Object(e.h)("div",{className:"audio-player-progress"},Object(e.h)("table",{className:"custom"},Object(e.h)("tr",null,Object(e.h)("td",{className:"audio-player-progress-past"},R?Object(f.secondsToHHMMSS)(B):"--:--"),Object(e.h)("td",{ref:G=>this.progressBar=G,className:"audio-player-progress-bar",onMouseDown:G=>this.onMouseDown(G)},Object(e.h)("div",{className:"audio-player-progress-bar-track"}),Object(e.h)("div",{className:"audio-player-progress-bar-filled",style:`width:${R?100*(typeof x=="number"?x:B)/R:0}%`}),Object(e.h)("div",{className:"audio-player-progress-bar-current",style:`left:${R?100*B/R:0}%`}),Object(e.h)("div",{className:"audio-player-progress-bar-button",style:`left:${R?100*(typeof x=="number"?x:B)/R:0}%`}),typeof x=="number"&&Object(e.h)("div",{className:"audio-player-progress-bar-popup",style:`left:${R?100*x/R:0}%`},Object(f.secondsToHHMMSS)(x))),Object(e.h)("td",{className:"audio-player-progress-left"},R?`-${Object(f.secondsToHHMMSS)(R-Math.min(B,R))}`:"--:--"))))}renderProgressFancy({},{duration:R,currentTime:B,dragTime:x,lastDragClearedAt:G}){const Q=typeof x=="number",he=G?performance.now()-G<50:!1;return Object(e.h)(e.Fragment,null,Object(e.h)("div",{className:"audio-player-progress"},Object(e.h)("div",{ref:Z=>this.progressBar=Z,className:"audio-player-progress-bar",onMouseDown:Z=>this.onMouseDown(Z)},Object(e.h)("div",{className:"audio-player-progress-bar-track"}),Object(e.h)("div",{className:"audio-player-progress-bar-filled",style:{width:`${R?100*(Q?x:B)/R:0}%`}}),Object(e.h)("div",{className:o()("audio-player-progress-bar-current",{"audio-player-progress-bar-current-placeholder":Q,"audio-player-progress-bar-current-disable-animations":he}),style:`left:${R?100*B/R:0}%`}),Q&&Object(e.h)("div",{className:"audio-player-progress-bar-current audio-player-progress-bar-current-dragging",style:`left:${R?100*x/R:0}%`}),Q&&Object(e.h)("div",{className:"audio-player-progress-bar-popup",style:`left:${R?100*x/R:0}%`},Object(f.secondsToHHMMSS)(x)))),Object(e.h)("div",{className:"audio-player-time-wrapper"},Object(e.h)("div",{className:"audio-player-progress-past"},R?Object(f.secondsToHHMMSS)(B):"--:--"),Object(e.h)("div",{className:"audio-player-progress-left"},R?`-${Object(f.secondsToHHMMSS)(R-Math.min(B,R))}`:"--:--")))}}},function(k,n,t){"use strict";t.d(n,"a",function(){return T}),t.d(n,"b",function(){return S});var e=t(0),a=t(5),o=t.n(a),l=t(261),d=t(40),c=t(4),u=t.n(c),f=t(10),m=t.n(f),p=t(692),g=t(74),O=t(125),s=t(89),r=t.n(s),i=t(64),h=t(183),v=t(590),j=Object.defineProperty,y=Object.defineProperties,b=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable,_=(D,w,U)=>w in D?j(D,w,{enumerable:!0,configurable:!0,writable:!0,value:U}):D[w]=U,M=(D,w)=>{for(var U in w||(w={}))P.call(w,U)&&_(D,U,w[U]);if(E)for(var U of E(w))A.call(w,U)&&_(D,U,w[U]);return D},F=(D,w)=>y(D,b(w));const H=["Subscribe","Subscribe now","Sign up","Sign up now"];function C({isStatic:D,pub:w,user:U,freeSignup:V,children:K,pledgesEnabled:Y}){if(D)return Object(e.h)(O.a.Consumer,null,({isFreemail:x,isFreeSubscribed:G,isPledged:Q})=>K({isFreeSubscribed:G,isSubscribed:!x,isFullySubscribed:w.plans?!x:!Y||Q,isForPaidSubscription:!!w.plans&&x,isPledged:Q}));const W=V||(U==null?void 0:U.is_free_subscribed),R=U==null?void 0:U.is_subscribed,B=U==null?void 0:U.is_pledged;return K({isFreeSubscribed:W,isSubscribed:R,isFullySubscribed:w.plans?R:W&&(!Y||B),isForPaidSubscription:!!w.plans&&W&&!R,isPledged:B})}function T({pub:D,user:w,now:U,isStatic:V}){return Object(e.h)(g.a.Consumer,null,({getSettingFor:K})=>{const Y=D.payments_state==="disabled"&&!D.invite_only&&K("payment_pledges_enabled");return Object(e.h)(C,{isStatic:V,user:w,pub:D,pledgesEnabled:Y},({isFreeSubscribed:W,isPledged:R})=>Object(f.getSubscribeText)(D,{now:U,isFreeSubscribed:W,isPledged:R,pledgesEnabled:Y}))})}class S extends e.Component{onSignup(w){this.setState({loading:!0}),this.props.onSignup?this.props.onSignup(w):!this.props.forceEmailInput&&(this.props.pub.plans||this.props.pub.has_recommendations)?document.location.href=Object(c.getSubscribeUrl)(this.props.pub,F(M({addBase:!0,utm_medium:"web",utm_source:this.props.source||"subscribe-widget",utm_content:this.props.post&&this.props.post.id,just_signed_up:!0,requires_confirmation:w.body.requires_confirmation?"true":""},w.body.subscription_id&&{subscription_id:w.body.subscription_id}),{next:this.props.next||document.location.href})):document.location.reload()}getHref(w){const{pub:U,subscribeButtonAttrs:V,isStatic:K,source:Y,post:W,next:R}=this.props,B={utm_medium:K?"email":"web",utm_source:Y||"subscribe-widget",utm_content:W&&W.id,next:R,referring_pub_ids:K?void 0:Object(c.getQueryItem)("referring_pub_ids")};return w?K?d.Substitutions.ACCOUNT_URL:Object(c.getPubAccountSettingsUrl)(U,{params:B}):Object(c.getSubscribeUrl)(U,M({addBase:!0,root:V?V.url:K&&d.Substitutions.CHECKOUT_URL},B))}getButtonLabel(w,U,{isPledged:V,pledgesEnabled:K}){if(w||V)return"Subscribed";const{pub:Y,subscribeButtonAttrs:W}=this.props,R=W&&W.text;if(R&&!H.includes(R))return R;const B=U;return Object(f.getSubscribeText)(Y,{now:!B,isFreeSubscribed:B,isPledged:V,pledgesEnabled:K})}render({pub:w,user:U,freeSignup:V,freeSignupEmail:K,source:Y,isStatic:W,forceEmailInput:R,onPrepareData:B,onError:x},{loading:G}){return Object(e.h)(g.a.Consumer,null,({getSettingFor:Q})=>Object(e.h)(p.a.Consumer,null,he=>Object(e.h)(C,{pub:w,user:U,isStatic:W,freeSignup:V,pledgesEnabled:w.payments_state==="disabled"&&!w.invite_only&&Q("payment_pledges_enabled")},({isFreeSubscribed:Z,isSubscribed:le,isFullySubscribed:de,isPledged:be})=>{var X;const ie=this.getButtonLabel(le,Z,{isPledged:be,pledgesEnabled:w.payments_state==="disabled"&&!w.invite_only&&Q("payment_pledges_enabled")}),Ce=Z||le;return Object(e.h)("div",{className:o()("subscribe-widget",{"is-signed-up":Ce,"is-fully-subscribed":de})},!R&&(Ce||W)?Object(e.h)("p",{className:"button-wrapper"},W?Object(e.h)("a",{className:o()("button subscribe-btn",de?"outline":"primary"),href:this.getHref(de),native:!W},de&&Object(e.h)(v.default,{stroke:((X=w==null?void 0:w.theme)==null?void 0:X.background_pop_color)||(w==null?void 0:w.theme_var_background_pop)||s.substack_color,fill:"transparent",isStatic:!0,className:"check-icon static",height:20}),Object(e.h)("span",null,ie)):Object(e.h)(i.a,{className:"subscribe-btn",href:this.getHref(de),localNavigation:!1,variant:de?"themed-secondary":"themed-primary",leftIcon:de?Object(e.h)(l.a,{size:20}):null},Object(e.h)("span",null,ie))):Object(e.h)(h.a,{source:Y||"subscribe-widget",user:U,pub:w,freeSignup:V,freeSignupEmail:K,onPrepareData:B,onSuccess:Le=>this.onSignup(Le),onConfirmationRequired:(w==null?void 0:w.payments_state)==="enabled"?()=>null:void 0,onError:x,hideTerms:!0,hideLogin:!0,disabled:Ce||G,submitButtonText:Ce?"\u2713":Object(f.getSubscribeText)(w),useSubscribeLink:he==null?void 0:he.isSubstack}))})))}}},function(k,n){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(e){typeof window=="object"&&(t=window)}k.exports=t},function(k,n,t){"use strict";t.d(n,"b",function(){return v}),t.d(n,"a",function(){return j}),t.d(n,"d",function(){return y}),t.d(n,"c",function(){return b});var e=t(0),a=t(5),o=t.n(a),l=t(52),d={reset:"frontend-pencraft-common-module__reset--1p7T1","color-primary":"frontend-pencraft-common-module__color-primary--dX2PK","color-secondary":"frontend-pencraft-common-module__color-secondary--31o27"},c=Object.defineProperty,u=Object.defineProperties,f=Object.getOwnPropertyDescriptors,m=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,O=(E,P,A)=>P in E?c(E,P,{enumerable:!0,configurable:!0,writable:!0,value:A}):E[P]=A,s=(E,P)=>{for(var A in P||(P={}))p.call(P,A)&&O(E,A,P[A]);if(m)for(var A of m(P))g.call(P,A)&&O(E,A,P[A]);return E},r=(E,P)=>u(E,f(P)),i=(E,P)=>{var A={};for(var _ in E)p.call(E,_)&&P.indexOf(_)<0&&(A[_]=E[_]);if(E!=null&&m)for(var _ of m(E))P.indexOf(_)<0&&g.call(E,_)&&(A[_]=E[_]);return A};const h=Object(l.a)("tw-font-title tw-text-h2 tw-leading-h2 tw-tracking-h2 tw-font-bold"),v=Object(l.a)("tw-text-sm tw-leading-sm tw-tracking-sm tw-font-body");function j(E){var P=E,{className:A,color:_,as:M="span"}=P,F=i(P,["className","color","as"]);return Object(e.h)(M,r(s({},F),{className:o()(A,_&&d[`color-${_}`])}))}const y="tw-font-body tw-text-sm tw-leading-sm tw-tracking-sm tw-font-semibold",b=Object(l.a)(y,j)},,function(k,n,t){"use strict";t.d(n,"b",function(){return r}),t.d(n,"a",function(){return i});var e=t(0),a=t(10),o=t.n(a),l=t(9),d=t.n(l),c=Object.defineProperty,u=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,p=(h,v,j)=>v in h?c(h,v,{enumerable:!0,configurable:!0,writable:!0,value:j}):h[v]=j,g=(h,v)=>{for(var j in v||(v={}))f.call(v,j)&&p(h,j,v[j]);if(u)for(var j of u(v))m.call(v,j)&&p(h,j,v[j]);return h},O=(h,v)=>{var j={};for(var y in h)f.call(h,y)&&v.indexOf(y)<0&&(j[y]=h[y]);if(h!=null&&u)for(var y of u(h))v.indexOf(y)<0&&m.call(h,y)&&(j[y]=h[y]);return j},s=(h,v,j)=>(p(h,typeof v!="symbol"?v+"":v,j),j);const r={"data-gramm":"false","data-gramm_editor":"false","data-enable-grammarly":"false"};class i extends e.Component{constructor(){super(...arguments);s(this,"onWindowResize",v=>{this.setAutoHeight()}),s(this,"onKeyDown",v=>(this.props.inline&&v.key==="Enter"&&v.preventDefault(),this.props.onKeyDown&&this.props.onKeyDown(v))),s(this,"onInput",v=>(this.setAutoHeight(),this.props.onInput&&this.props.onInput(v))),s(this,"onBlur",()=>{var v;if(this.props.inline){const j=(v=this.base)==null?void 0:v.value,y=Object(a.sanitizeInlineText)(j);j&&j!==y&&(this.base.value=y,this.props.onInput&&this.props.onInput(event))}})}componentDidMount(){this.setAutoHeight(),window.addEventListener("resize",this.onWindowResize)}componentWillUnmount(){window.removeEventListener("resize",this.onWindowResize)}componentDidUpdate(v,j,y){v.value!==this.props.value&&this.setAutoHeight()}get value(){return this.base?this.base.value:""}setAutoHeight(){!this.props.autoHeight||!this.base||typeof window=="undefined"||!window.getComputedStyle||Object(l.stateTransaction)(this,v=>{this.base.style.height="";const j=window.getComputedStyle(this.base),y=parseInt(j.getPropertyValue("height")),b=parseInt(j.getPropertyValue("padding-top"))+parseInt(j.getPropertyValue("padding-bottom")),E=parseInt(j.getPropertyValue("line-height")),P=Math.min(Math.round((this.base.scrollHeight-b)/E),this.props.maxLines||1/0);this.base.style.height=`${Math.max(P*E+b,y)}px`,this.base.style.height!==v.height&&this.setState({height:this.base.style.height})})}render(v,{height:j}){var y=v,{children:b,ref:E,style:P,onKeyDown:A,onInput:_,inline:M,autoHeight:F,maxLines:H}=y,C=O(y,["children","ref","style","onKeyDown","onInput","inline","autoHeight","maxLines"]);return F&&(P=Object.assign({},P,{height:j})),Object(e.h)("textarea",g(g({style:P,onKeyDown:this.onKeyDown,onInput:this.onInput,onBlur:this.onBlur},r),C),b)}}},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(89),o=t.n(a),l=t(13),d=Object.defineProperty,c=Object.defineProperties,u=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,g=(h,v,j)=>v in h?d(h,v,{enumerable:!0,configurable:!0,writable:!0,value:j}):h[v]=j,O=(h,v)=>{for(var j in v||(v={}))m.call(v,j)&&g(h,j,v[j]);if(f)for(var j of f(v))p.call(v,j)&&g(h,j,v[j]);return h},s=(h,v)=>c(h,u(v)),r=(h,v)=>{var j={};for(var y in h)m.call(h,y)&&v.indexOf(y)<0&&(j[y]=h[y]);if(h!=null&&f)for(var y of f(h))v.indexOf(y)<0&&p.call(h,y)&&(j[y]=h[y]);return j};const i=h=>{var v=h,{color:j=a.substack_color}=v,y=r(v,["color"]);return Object(e.h)(l.a,s(O({},y),{name:"SubstackIconNoPadding",svgParams:{height:24,width:21,fill:j,stroke:"none"}}),Object(e.h)("path",{d:"M20.9991 5.40625H0V8.24275H20.9991V5.40625Z"}),Object(e.h)("path",{d:"M0 10.8125V24.0004L10.4991 18.1107L21 24.0004V10.8125H0Z"}),Object(e.h)("path",{d:"M20.9991 0H0V2.83603H20.9991V0Z"}))};n.default=i},function(k,n,t){"use strict";t.d(n,"a",function(){return D});var e=t(0),a=t(5),o=t.n(a),l=t(505),d=t.n(l),c=t(4),u=t.n(c),f=t(10),m=t.n(f),p=t(7),g=t(61),O=t.n(g),s=t(9),r=t.n(s),i=t(21),h=t(344),v=Object.defineProperty,j=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,E=(w,U,V)=>U in w?v(w,U,{enumerable:!0,configurable:!0,writable:!0,value:V}):w[U]=V,P=(w,U)=>{for(var V in U||(U={}))y.call(U,V)&&E(w,V,U[V]);if(j)for(var V of j(U))b.call(U,V)&&E(w,V,U[V]);return w};const A=5,_="video:playback_location:",M=4*60,F=60,H=60,C=3,T=60,S={hls:"application/x-mpegURL",mp4:"video/mp4"};class D extends e.Component{constructor(U,V){super(U,V);this.player=null,this.previewHiddingTimeout=null,this.onLoadedMetadata=()=>{this.state.playbackRestoreLocation&&(this.player&&(this.player.currentTime=this.state.playbackRestoreLocation),this.previewHiddingTimeout=window.setTimeout(()=>this.setState({playbackRestoreLocation:null,previewHidden:!0}),3*1e3))},this.onLoadedData=()=>{this.state.playbackRestoreLocation&&(this.previewHiddingTimeout&&clearTimeout(this.previewHiddingTimeout),this.setState({playbackRestoreLocation:null,previewHidden:!0}))},this.onCanPlay=()=>{this.onTimeUpdate()},this.onPlay=()=>{var W;(W=s.globalPlaybackNotifier)==null||W.emit("play",this),this.setState({playing:!0})},this.onPause=()=>{this.setPlaybackRestoreLocation(),this.setState({playing:!1,waiting:!1}),this.player&&this.player.currentTime>this.player.duration-.1&&this.onVideoReachEnd()},this.onTimeUpdate=()=>{!this.player||!isFinite(this.player.duration)||(!this.props.duration&&this.state.duration!==this.player.duration||this.state.currentTime!==this.player.currentTime?this.setState({duration:this.props.duration||this.player.duration,currentTime:this.player.currentTime,waiting:!1}):this.setState({waiting:!1}))},this.onWaiting=()=>{this.setState({waiting:Date.now()})},this.onPlaying=()=>{this.previewHiddingTimeout&&clearTimeout(this.previewHiddingTimeout),this.setState({playing:!0,waiting:!1,previewHidden:!0,attemptingToPlay:!1,autoPlay:!1,hasPlayed:!0})},this.onVideoReachEnd=({resetTime:W=!0}={})=>{this.player&&!this.player.paused&&this.player.pause(),this.state.previewHidden&&this.setState({previewHidden:!1,attemptingToPlay:!1,hasReachedEnd:!0}),W&&this.player&&!Object(s.isIOs)()&&(this.player.currentTime=0),Object(s.exitFullscreen)(),Object(s.exitPictureInPicture)()},this.onPreviewClick=()=>{var W,R;this.state.previewHidden||this.href()||!this.playbackEnabled()||(this.state.attemptingToPlay?(this.setState({attemptingToPlay:!1,autoPlay:!1}),(W=this.player)==null||W.pause(),this.previewHiddingTimeout&&clearTimeout(this.previewHiddingTimeout)):(this.setState({attemptingToPlay:!0}),(R=this.player)==null||R.play(),this.previewHiddingTimeout=window.setTimeout(()=>this.setState({previewHidden:!0}),3*1e3)))},this.onContextMenu=W=>{W.preventDefault()},this.onAllSourcesFailed=()=>{var W,R;console.error("Failed to load all video sources, falling back to preview image"),this.setState({previewHidden:!1,attemptingToPlay:!1,autoPlay:!1,allSourcesFailed:!0}),(R=(W=this.props).onPlaybackFailed)==null||R.call(W)},this.onBeforeUnload=()=>{this.setPlaybackRestoreLocation(),this.state.previewHidden&&this.setState({previewHidden:!1,attemptingToPlay:!1}),this.player&&!this.player.paused&&this.player.pause()},this.onGlobalPlay=W=>{this!==W&&this.player&&(this.track(p.a.VIDEO_PAUSE_BUTTON_CLICKED,{implicit:!0}),this.player.pause())},this.onGlobalKeyDown=W=>{var R;this.props.noKeyboardShortcuts||W.metaKey||W.altKey||W.ctrlKey||document.activeElement!==document.body||!this.player||((R=s.globalPlaybackNotifier)==null?void 0:R.listenerCount("play"))>1&&this.player.paused||(W.key==="f"?Object(s.isFullscreen)()?Object(s.exitFullscreen)()&&W.preventDefault():(Object(s.goFullscreen)(this.player)&&W.preventDefault(),this.player.paused&&this.player.play()):W.key===" "&&!Object(s.isFullscreen)()?(W.preventDefault(),this.player.paused?this.player.play():this.player.pause()):W.key==="ArrowRight"?this.player.currentTime+5>this.player.duration?this.onVideoReachEnd():(this.player.currentTime+=5,this.state.previewHidden||this.setState({previewHidden:!0,attemptingToPlay:!1})):W.key==="ArrowLeft"&&(this.player.currentTime-=5))},this.cta=()=>"",this.href=()=>this.props.href,this.playbackEnabled=()=>!0;var K;const Y=this.getPlaybackRestoreLocation();this.state={playbackRestoreLocation:Y,currentTime:0,waiting:!0,duration:(K=U.mediaUpload.duration)!=null?K:null,autoPlay:U.autoPlay,playing:!1,attemptingToPlay:U.autoPlay,previewHidden:Y!==null&&Y>0,hasPlayed:!1,hasReachedEnd:!1,browserCanPlayHLS:!1,useHLSJS:!0,HLSerrored:!1,allSourcesFailed:!1}}componentDidMount(){var U;this._initHlsjs(),(U=s.globalPlaybackNotifier)==null||U.on("play",this.onGlobalPlay),typeof window!="undefined"&&(document.addEventListener("keydown",this.onGlobalKeyDown,!1),window.addEventListener("beforeunload",this.onBeforeUnload,!1)),this.player&&(this.player.volume=1,this.player.addEventListener("loadedmetadata",this.onLoadedMetadata),this.player.addEventListener("loadeddata",this.onLoadedData),this.player.addEventListener("canplay",this.onCanPlay),this.player.addEventListener("play",this.onPlay),this.player.addEventListener("pause",this.onPause),this.player.addEventListener("timeupdate",this.onTimeUpdate),this.player.addEventListener("waiting",this.onWaiting),this.player.addEventListener("playing",this.onPlaying),this.player.addEventListener("contextmenu",this.onContextMenu)),this.onTimeUpdate(),window&&window._preloads.mux_env_key&&d.a.monitor(this.player,{Hls:this.hlsModule,hlsjs:this.hls,debug:!1,data:{env_key:window._preloads.mux_env_key,player_name:"substack",player_init_time:d.a.utils.now()}})}componentWillUnmount(){var U;this.setPlaybackRestoreLocation(),(U=s.globalPlaybackNotifier)==null||U.off("play",this.onGlobalPlay),typeof window!="undefined"&&(document.removeEventListener("keydown",this.onGlobalKeyDown,!1),window.removeEventListener("beforeunload",this.onBeforeUnload,!1)),this.player&&(this.player.removeEventListener("loadedmetadata",this.onLoadedMetadata),this.player.removeEventListener("loadeddata",this.onLoadedData),this.player.removeEventListener("canplay",this.onCanPlay),this.player.removeEventListener("play",this.onPlay),this.player.removeEventListener("pause",this.onPause),this.player.removeEventListener("timeupdate",this.onTimeUpdate),this.player.removeEventListener("waiting",this.onWaiting),this.player.removeEventListener("playing",this.onPlaying),this.player.removeEventListener("contextmenu",this.onContextMenu)),this.onVideoReachEnd({resetTime:!1}),this.hls!=null&&this.hls.destroy()}componentDidUpdate(U,V){var K;if((this.props.noPreview!==U.noPreview||this.props.noControls!==U.noControls||this.props.noKeyboardShortcuts!==U.noKeyboardShortcuts)&&this._initHlsjs(),!this.state.playing&&typeof this.state.waiting=="number"&&typeof V.waiting!="number"){const{useHLSJS:Y,browserCanPlayHLS:W,HLSerrored:R}=this.state;this.track(p.a.VIDEO_BUFFERING_STARTED,{use_hlsjs:Y,browser_can_play_hls:W,hls_errored:R})}this.state.playing&&!V.playing&&!this.state.waiting&&typeof V.waiting=="number"&&this.track(p.a.VIDEO_BUFFERING_COMPLETED,{buffering_duration:Date.now()-V.waiting}),this.state.playing&&Math.floor(this.state.currentTime)!==Math.floor(V.currentTime)&&Math.floor(this.state.currentTime)%A==0&&this.track(p.a.VIDEO_PLAYBACK_CONTINUED,{current_time:Math.floor(this.state.currentTime)}),!this.state.playing&&V.playing&&((K=this.player)==null?void 0:K.ended)&&this.track(p.a.VIDEO_PLAYBACK_COMPLETED)}getPlaybackLocationKey(){return`${_}${this.props.mediaUpload.id}`}getPlaybackRestoreLocation(){if(this.playbackEnabled()&&this.props.restorePlaybackLocation&&this.props.mediaUpload.duration&&this.props.mediaUpload.duration>M){const U=Object(g.getStoredValue)(this.getPlaybackLocationKey());if((U==null?void 0:U.currentTime)>F&&this.props.duration!==null&&this.props.duration!==void 0&&this.props.duration-U.currentTime>H){const V=Date.now()-U.watchedAt>T?C:0,K=Math.max(0,U.currentTime-V);if(K)return K}}return null}setPlaybackRestoreLocation(){var U;this.playbackEnabled()&&((U=this.player)==null?void 0:U.currentTime)&&Object(g.setStoredValue)(this.getPlaybackLocationKey(),{currentTime:this.player.currentTime,watchedAt:Date.now()})}track(U,V={}){const K=this.props.post;!K||Object(p.i)(U,Object.assign({post_id:K.id,current_time:this.state.currentTime?Math.floor(this.state.currentTime):0,duration:this.state.duration?Math.floor(this.state.duration):0},V))}render(U,V){const{height:K,width:Y}=Object(f.videoPlayerDimensions)(U.mediaUpload,{isStatic:U.isStatic}),W={paddingBottom:`${Math.min(100,100*K/Y).toFixed(4)}%`};return Object(e.h)("div",{className:o()("video-player-wrapper",{"with-preview":!V.previewHidden,"is-static":U.isStatic,"full-width":Y>=960}),onClick:this.onPreviewClick},this.href()?Object(e.h)("a",{className:"video-player",href:this.href(),style:W},this.renderPlayer(this.props,this.state)):Object(e.h)("div",{className:"video-player",style:W},this.renderPlayer(this.props,this.state)))}renderPlayer({mediaUpload:U,pub:V,reaction_token:K=null,isStatic:Y,noControls:W,noPreview:R},{autoPlay:B,attemptingToPlay:x,previewHidden:G,useHLSJS:Q,browserCanPlayHLS:he,HLSerrored:Z}){const le=!R&&!G,de=Y||!this.playbackEnabled(),be=Object(c.updateQuery)(`/api/v1/video/upload/${U.id}/src`,{token:K,override_publication_id:V==null?void 0:V.id});let X=[];return Object(s.isAndroid)()?X=["mp4"]:he?X=["hls","mp4"]:Q?X=[]:Z?X=["mp4"]:X=["hls","mp4"],[this.playbackEnabled()&&!Y&&typeof window!="undefined"&&Object(e.h)("video",{ref:ie=>this.player=ie,controls:!W&&!le,controlsList:"nodownload",autoPlay:B&&this.playbackEnabled(),poster:Object(c.getMediaUploadThumbnailUrlForPlayer)(U)},X.map((ie,Ce)=>Object(e.h)("source",{src:Object(c.updateQuery)(be,{type:ie}),type:S[ie],onError:Ce===X.length-1?this.onAllSourcesFailed:void 0}))),le&&[de&&Object(e.h)("img",{className:"video-player-preview","data-testid":Y?"video-player-static-preview-image":"",width:550,src:Object(c.getMediaUploadThumbnailUrlForPlayer)(U,{pub:V,isStatic:Y})}),!de&&Object(e.h)("div",{className:o()("video-player-button",{"no-text":!this.cta()})},Object(e.h)("a",{className:"primary",href:this.href(),native:!0},Object(e.h)(i.b,{className:o()({loading:x&&this.playbackEnabled()})},Object(e.h)(h.default,{alt:"play",stroke:"#FFFFFF",fill:"#FFFFFF"}),Object(e.h)("span",null,this.cta()))))]]}_initHlsjs(){const U=!!(this.player&&this.player.canPlayType("application/vnd.apple.mpegurl"));if(U){this.setState({browserCanPlayHLS:U});return}t.e(25).then(t.t.bind(null,1232,7)).then(V=>{this._initHlsjsWrapped(V.default)})}_initHlsjsWrapped(U){const V=this,K=U.isSupported();if(!U.isSupported()){this.setState({useHLSJS:K});return}this.hls!=null&&this.hls.destroy();const Y={},W=new U(P({enableWorker:!1},Y));this.player!=null&&W.attachMedia(this.player);const{mediaUpload:R,pub:B,reaction_token:x=null}=this.props,G=Object(c.updateQuery)(`/api/v1/video/upload/${R.id}/src`,{token:x,override_publication_id:B==null?void 0:B.id,type:"hls"});W.on(U.Events.MEDIA_ATTACHED,()=>{W.loadSource(G),W.on(U.Events.MANIFEST_PARSED,()=>{var Q;this.state.autoPlay&&((Q=this.player)==null||Q.play().catch(()=>console.log("Unable to autoplay prior to user interaction with the dom.")))})}),W.on(U.Events.ERROR,function(Q,he){if(he.fatal)switch(he.type){case U.ErrorTypes.NETWORK_ERROR:V.setState({useHLSJS:!1}),V.hls.destroy(),W.startLoad();break;case U.ErrorTypes.MEDIA_ERROR:W.recoverMediaError();break;default:this._initHlsjs();break}}),this.hls=W,this.hlsModule=U}}},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(515);function a(o,l){if(o==null)return{};var d=Object(e.a)(o,l),c,u;if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(o);for(u=0;u<f.length;u++)c=f[u],!(l.indexOf(c)>=0)&&(!Object.prototype.propertyIsEnumerable.call(o,c)||(d[c]=o[c]))}return d}},function(k,n,t){"use strict";const{AbortController:e,AbortSignal:a}=typeof self!="undefined"?self:typeof window!="undefined"?window:void 0;k.exports=e,k.exports.AbortSignal=a,k.exports.default=e},,function(k,n,t){var e=t(194),a=t(643),o=t(644),l="[object Null]",d="[object Undefined]",c=e?e.toStringTag:void 0;function u(f){return f==null?f===void 0?d:l:c&&c in Object(f)?a(f):o(f)}k.exports=u},function(k,n,t){"use strict";t.d(n,"a",function(){return Q});var e=t(0),a=t(5),o=t.n(a),l=t(4),d=t(10),c=t(71),u=t(149),f=t(7),m=t(98),p=t(9),g=t(1),O=t(551),s=t(64),r=t(2),i=t(8),h={animationWrapper:"frontend-login-typo_handler-EmailTypoHandler-module__animationWrapper--1W2AP",wrapper:"frontend-login-typo_handler-EmailTypoHandler-module__wrapper--3KwYe",secondaryText:"frontend-login-typo_handler-EmailTypoHandler-module__secondaryText--1ffYG",primaryText:"frontend-login-typo_handler-EmailTypoHandler-module__primaryText--1iiny",typoHandler:"frontend-login-typo_handler-EmailTypoHandler-module__typoHandler--1EvKC",buttonFill:"frontend-login-typo_handler-EmailTypoHandler-module__buttonFill--1MXI5",buttonWrapper:"frontend-login-typo_handler-EmailTypoHandler-module__buttonWrapper--1KhOY"};const v=({emailSuggestions:he,currentEmail:Z,onAccept:le,onReject:de})=>{const be=Object(p.isMobileBrowser)(),[X,ie]=Object(g.l)(!1),[Ce,Le]=Object(g.l)(null),Ae=Object(g.k)(null),Pe=q=>{ie(!1),Object(f.i)(f.a.EMAIL_TYPO_SUGGESTION_REJECTED,{email_provided:Z,email_suggested:q}),de&&de()},Ne=he&&Z&&he[Z]&&he[Z]!=Z.trim(),ce=q=>{ie(!1),Object(f.i)(f.a.EMAIL_TYPO_SUGGESTION_ACCEPTED,{email_provided:Z,email_suggested:q}),le(q)};return Object(g.d)(()=>{if(Ne){const q=he[Z];Object(f.i)(f.a.EMAIL_TYPO_SUGGESTION_SHOWN,{email_provided:Z,email_suggested:q}),Le(q),ie(!0)}else ie(!1)},[Ne,he,Z]),Object(e.h)("div",{className:h.animationWrapper},Object(e.h)(O.a,{show:X,enter:"tw-transition-all tw-duration-300 transform-gpu",enterFrom:"tw-opacity-0 tw-translate-y-[-40%]",enterTo:"tw-opacity-100 tw-translate-y-0",leave:"tw-transition-all tw-duration-300 transform-gpu",leaveFrom:"tw-opacity-100 tw-translate-y-0",leaveTo:"tw-opacity-0 tw-translate-y-[-40%]",ref:Ae},Object(e.h)(r.a,{className:h.wrapper,paddingTop:16,paddingX:{mobile:16},alignItems:"start"},Object(e.h)(r.b,{className:h.typoHandler,border:"detail",paddingY:24,paddingX:20,radius:4,alignItems:"start",gap:20},Object(e.h)(i.b,{size:16,font:"display",className:h.secondaryText},"Did you mean",Object(e.h)("br",null),Object(e.h)(i.b,{as:"span",weight:"semibold",className:h.primaryText},Ce),"?"),Object(e.h)(r.c,{justifyContent:"space-between",flex:"grow",gap:12,className:h.buttonWrapper},Object(e.h)(s.a,{onClick:()=>ce(Ce),className:h.buttonFill,variant:"themed-primary"},be?"Yes":"Yes, Subscribe with correction"),Object(e.h)(s.a,{className:h.buttonFill,variant:"secondary",onClick:()=>Pe(Ce)},"No"))))))};var j=t(105),y=t.n(j),b=t(12),E=t.n(b),P=t(592),A=t.n(P),_=(he,Z,le)=>new Promise((de,be)=>{var X=Le=>{try{Ce(le.next(Le))}catch(Ae){be(Ae)}},ie=Le=>{try{Ce(le.throw(Le))}catch(Ae){be(Ae)}},Ce=Le=>Le.done?de(Le.value):Promise.resolve(Le.value).then(X,ie);Ce((le=le.apply(he,Z)).next())});const M=(he,Z)=>_(void 0,null,function*(){const le=yield E.a.get("/api/v1/check-email").query({email:he});Z([he,le.body])}),F=y()((he,Z)=>_(void 0,null,function*(){yield M(he,Z)}),200),H=he=>_(void 0,null,function*(){return A()(he)?new Promise((Z,le)=>{F(he,Z)}):[]});var C=t(21),T=t(57),S=t(96),D=Object.defineProperty,w=Object.defineProperties,U=Object.getOwnPropertyDescriptors,V=Object.getOwnPropertySymbols,K=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable,W=(he,Z,le)=>Z in he?D(he,Z,{enumerable:!0,configurable:!0,writable:!0,value:le}):he[Z]=le,R=(he,Z)=>{for(var le in Z||(Z={}))K.call(Z,le)&&W(he,le,Z[le]);if(V)for(var le of V(Z))Y.call(Z,le)&&W(he,le,Z[le]);return he},B=(he,Z)=>w(he,U(Z)),x=(he,Z,le)=>(W(he,typeof Z!="symbol"?Z+"":Z,le),le),G=(he,Z,le)=>new Promise((de,be)=>{var X=Le=>{try{Ce(le.next(Le))}catch(Ae){be(Ae)}},ie=Le=>{try{Ce(le.throw(Le))}catch(Ae){be(Ae)}},Ce=Le=>Le.done?de(Le.value):Promise.resolve(Le.value).then(X,ie);Ce((le=le.apply(he,Z)).next())});class Q extends e.Component{constructor(Z){super(Z);x(this,"handleEmailChange",()=>{const le=this.emailInput.value;!le||(this.setState({currentEmail:le}),!(this.state.emailSuggestions&&this.state.emailSuggestions.hasOwnProperty(le))&&H(le).then(de=>{const[be,X]=de;this.setState({emailSuggestions:B(R({},this.state.emailSuggestions),{[be]:X})})}))}),x(this,"_onSuccess",le=>G(this,null,function*(){le.body.prompt_to_login||f.h(),le.body.requires_confirmation&&(this.props.onConfirmationRequired?yield this.props.onConfirmationRequired(le):alert(`Confirmation required: we sent an email to ${le.body.email}. Click the link there to finish subscribing.`)),this.props.freeSignupEmail&&this.props.freeSignupEmail!==le.body.email&&Object(u.b)({freeSignupEmail:le.body.email}),this.props.onSuccess&&(yield this.props.onSuccess(le))})),x(this,"onSuccess",le=>G(this,null,function*(){typeof window!="undefined"&&window.campaign&&Object(l.getQueryItem)("referralCode")?window.campaign.identify({email:le.body.email},()=>this._onSuccess(le)):yield this._onSuccess(le)})),x(this,"onAcceptSuggestion",le=>{this.emailInput.value=le,this.form.handleSubmit(null,!0)}),this.state={emailSuggestions:{}}}getSavedEmail(){return this.props.user&&this.props.user.email||null}getPrefilledEmail(){return this.props.email||this.props.freeSignupEmail||this.getSavedEmail()}componentDidMount(){return G(this,null,function*(){this.getPrefilledEmail()&&(this.emailInput.value=this.getPrefilledEmail())})}onLoadingState(Z){this.setState({loading:Z,requires_confirmation:!1})}onError(Z){Z.status===425&&this.setState({requires_confirmation:!0}),this.props.onError&&this.props.onError(Z)}render({pub:Z,className:le,referralCode:de,submitButtonText:be,showArchives:X,hideLogin:ie,hideTerms:Ce,contentLinks:Le,source:Ae,loginRedirect:Pe,autoFocus:Ne,disabled:ce,onPrepareData:q,children:te,onMaybeLater:ue,useSubscribeLink:We,user:ot},{loading:ze,requires_confirmation:vt}){var Wt,zt,at,Me,Be,Xe;const Te=Ae==="treatment_bold_fade",we=((at=(zt=(Wt=Object(l.getQueryItem)("referring_pub_ids"))==null?void 0:Wt.split)==null?void 0:zt.call(Wt,","))==null?void 0:at[0])||void 0,De=((Xe=(Be=(Me=Object(l.getQueryItem)("referring_pub_ids"))==null?void 0:Me.split)==null?void 0:Be.call(Me,","))==null?void 0:Xe.slice(1))||void 0,Ie=this.getPrefilledEmail();return Object(e.h)(e.Fragment,null,Object(e.h)(T.g,{ref:He=>this.form=He,className:le,noInlineErrors:!0,action:Object(l.pathWithQuery)("/api/v1/free"),noJsAction:Object(l.pathWithQuery)("/api/v1/free",{nojs:!0}),prepareData:He=>{vt&&(He.resend_confirmation=!0),q&&q(He)},onChangeLoadingState:this.onLoadingState.bind(this),onError:He=>this.onError(He),onSuccess:He=>this.onSuccess(He),typoFound:He=>this.setState({emailSuggestion:He}),disableSubmit:We},Object(e.h)("input",{type:"hidden",name:"first_url",value:m.d}),Object(e.h)("input",{type:"hidden",name:"first_referrer",value:m.c}),Object(e.h)("input",{type:"hidden",name:"current_url",value:m.b}),Object(e.h)("input",{type:"hidden",name:"current_referrer",value:m.a}),Object(e.h)("input",{type:"hidden",name:"referral_code",value:de}),Object(e.h)("input",{type:"hidden",name:"source",value:Ae}),Object(e.h)("input",{type:"hidden",name:"referring_pub_id",value:we}),Object(e.h)("input",{type:"hidden",name:"additional_referring_pub_ids",value:De}),Object(e.h)("div",{className:"sideBySideWrap"},!!Ie&&Object(p.inputPrefillHack)(),Object(e.h)("input",{onChange:this.handleEmailChange,onInput:this.handleEmailChange,ref:He=>this.emailInput=He,type:"email",name:Te?"email-pop":"email",readOnly:!!(this.getSavedEmail()||ze||ce),disabled:!!(ze||ce),autoFocus:Ne&&!(this.getPrefilledEmail()||ce)&&!Object(p.isMobileBrowser)(),placeholder:I`Type your email…`}),Object(e.h)(C.b,{className:`rightButton ${Te?"pop":""} primary subscribe-btn`,type:"submit",disabled:!!(ze||ce),onClick:He=>{We&&(location.href=Object(l.getSubscribeUrl)(Z,{addBase:!0,user:ot,utm_source:"substack",utm_medium:"web",utm_campaign:"reader2"}))}},Object(e.h)("b",{className:`button-text ${Te?"pop":""}`},be||Object(d.getSubscribeText)(Z)))),vt?Object(e.h)("div",null,Object(e.h)("div",{className:"error other-error"},"This email address is not confirmed yet.",Object(e.h)("br",null),Object(e.h)("a",{href:"javascript:void(0)",onClick:()=>this.form.handleSubmit()},"Click here")," ","to resend the confirmation email.")):Object(e.h)("div",{id:"error-container"}),Le&&Object(e.h)("div",{className:"welcome-links-mobile"},Object(e.h)("div",null,this.getSavedEmail()?Object(e.h)("a",{className:"welcome-content-link",href:Object(l.getSignoutUrl)({for_pub:Z.subdomain}),native:!0},I`Not you?`):Object(e.h)("a",{className:"welcome-content-link",href:Object(l.getSigninUrl)({for_pub:Z.subdomain,redirect:Pe}),native:!0},I`Login`),Object(e.h)("a",{className:"welcome-content-link",href:Object(l.getAboutUrl)(Z),onClick:this.props.markWelcomePageAsHidden,native:!0},I`About`),Object(e.h)("a",{className:"welcome-content-link",href:Object(l.getArchiveUrl)(Z),onClick:this.props.markWelcomePageAsHidden,native:!0},I`Archive`)),ue&&Object(e.h)("button",{className:"button close-welcome-modal-mobile",onClick:He=>{He.preventDefault(),ue()},"aria-label":"Close"},Object(e.h)(S.default,null))),Object(e.h)("div",{className:o()("subtle-help-text below-input",{"welcome-modal":Le})},!ie&&(this.getSavedEmail()?Object(e.h)("a",{className:"login-button",href:Object(l.getSignoutUrl)({for_pub:Z.subdomain}),native:!0},I`Not you?`):Object(e.h)("a",{className:"login-button",href:Object(l.getSigninUrl)({for_pub:Z.subdomain,redirect:Pe}),native:!0},I`Login`)),X&&Object(e.h)("a",{className:"legal",href:Object(l.getBaseArchiveUrl)(Z),native:!0},"Archives"),!Ce&&[Object(e.h)("a",{className:"legal",href:Object(l.getPrivacyUrl)(Z),target:"_blank",native:!0},I`Privacy`),Object(e.h)("a",{className:"legal",href:"/tos",target:"_blank",native:!0},I`Terms`),Object(e.h)("a",{className:"legal",href:`${Object(l.getSubstackUrl)()}/ccpa#personal-data-collected`,target:"_blank",native:!0},"Information collection notice")],Le&&[Object(e.h)("a",{className:"welcome-content-link",href:Object(l.getArchiveUrl)(Z,{params:{sort:"top"}}),onClick:this.props.markWelcomePageAsHidden},I`Top posts`),Object(e.h)("a",{className:"welcome-content-link",href:Object(l.getAboutUrl)(Z),onClick:this.props.markWelcomePageAsHidden,native:!0},I`About`),Object(e.h)("a",{className:"welcome-content-link",href:Object(l.getArchiveUrl)(Z),onClick:this.props.markWelcomePageAsHidden,native:!0},I`Archive`),Object(e.h)("a",{className:"welcome-content-link",href:Object(l.getAboutUrl)(Z,{params:{sort:"people"}}),onClick:this.props.markWelcomePageAsHidden,native:!0},I`Authors`),this.getSavedEmail()?Object(e.h)("a",{className:"welcome-content-link",href:Object(l.getSignoutUrl)({for_pub:Z.subdomain}),native:!0},I`Not you?`):Object(e.h)("a",{className:"welcome-content-link",href:Object(l.getSigninUrl)({for_pub:Z.subdomain,redirect:Pe}),native:!0},I`Login`)],te)),Object(e.h)(v,{emailSuggestions:this.state.emailSuggestions,currentEmail:this.state.currentEmail,onAccept:this.onAcceptSuggestion}))}}x(Q,"contextType",c.a)},function(k,n,t){"use strict";t.d(n,"a",function(){return m}),t.d(n,"c",function(){return p}),t.d(n,"b",function(){return g});var e=t(0),a=t(1),o=Object.defineProperty,l=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,u=(O,s,r)=>s in O?o(O,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):O[s]=r,f=(O,s)=>{for(var r in s||(s={}))d.call(s,r)&&u(O,r,s[r]);if(l)for(var r of l(s))c.call(s,r)&&u(O,r,s[r]);return O};const m=Object(e.createContext)({});m.displayName="WWWContext";const p=O=>{const s=r=>{const i=Object(a.b)(m);return Object(e.h)(O,f(f({},i),r))};return s.displayName=`withWWWContext(${O.name||O.displayName||"Anonymous"})`,s},g=()=>Object(a.b)(m)},function(k,n,t){"use strict";t.d(n,"a",function(){return s});var e=t(0),a=t(5),o=t.n(a),l=t(2),d={container:"frontend-reader2-DrunkSpinner-module__container--2ZTeC",drunkSpinner:"frontend-reader2-DrunkSpinner-module__drunkSpinner--gxqKi",drunkSpin:"frontend-reader2-DrunkSpinner-module__drunkSpin--1a9jP"},c=Object.defineProperty,u=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,p=(r,i,h)=>i in r?c(r,i,{enumerable:!0,configurable:!0,writable:!0,value:h}):r[i]=h,g=(r,i)=>{for(var h in i||(i={}))f.call(i,h)&&p(r,h,i[h]);if(u)for(var h of u(i))m.call(i,h)&&p(r,h,i[h]);return r},O=(r,i)=>{var h={};for(var v in r)f.call(r,v)&&i.indexOf(v)<0&&(h[v]=r[v]);if(r!=null&&u)for(var v of u(r))i.indexOf(v)<0&&m.call(r,v)&&(h[v]=r[v]);return h};function s(r){var i=r,{className:h}=i,v=O(i,["className"]);return Object(e.h)(l.a,g({justifyContent:"center",alignItems:"center",className:o()(d.container,h)},v),Object(e.h)("div",{className:d.drunkSpinner}))}},function(k,n,t){"use strict";t.d(n,"a",function(){return w}),t.d(n,"b",function(){return U});var e=t(0),a=t(1),o=t(445),l=t(569),d=t(44),c=t(15),u=t(84),f=t(720),m=t(25),p=t(18),g=t(9),O=t.n(g),s=t(210),r=t(14),i=t(2),h=t(23),v=t(32),j=t(8),y=t(26),b=t(60),E=t(90),P=Object.defineProperty,A=Object.defineProperties,_=Object.getOwnPropertyDescriptors,M=Object.getOwnPropertySymbols,F=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable,C=(Y,W,R)=>W in Y?P(Y,W,{enumerable:!0,configurable:!0,writable:!0,value:R}):Y[W]=R,T=(Y,W)=>{for(var R in W||(W={}))F.call(W,R)&&C(Y,R,W[R]);if(M)for(var R of M(W))H.call(W,R)&&C(Y,R,W[R]);return Y},S=(Y,W)=>A(Y,_(W)),D=(Y,W,R)=>new Promise((B,x)=>{var G=Z=>{try{he(R.next(Z))}catch(le){x(le)}},Q=Z=>{try{he(R.throw(Z))}catch(le){x(le)}},he=Z=>Z.done?B(Z.value):Promise.resolve(Z.value).then(G,Q);he((R=R.apply(Y,W)).next())});function w({pub:Y,post:W,comment:R,feedItem:B,onRestack:x,tabId:G}){var Q,he;const Z=Object(m.c)(),le=Object(y.e)(),de=!!Z,be=Boolean((Q=R||W)==null?void 0:Q.restacked),X=((he=R||W)==null?void 0:he.restacks)||0,ie=Object(b.f)(),Ce=Object(E.d)(),Le=Object(p.f)({pathname:"/api/v1/restack/feed"}),{nuxModal:Ae,showRestackNux:Pe}=U(R&&!R.post_id?"note":R?"comment":"post"),Ne=()=>D(this,null,function*(){const te=yield Le.refetch({method:"POST",json:{postId:R?null:W==null?void 0:W.id,commentId:(R==null?void 0:R.id)||null,tabId:G}});if(te instanceof Error){alert(Object(g.getNetworkErrorMessage)(te));return}le.popToast(ue=>Object(e.h)(y.c,S(T({},ue),{text:`${te.comment?"Note":"Post"} restacked`,Icon:u.default,cta:"View",href:Object(d.o)()}))),te.comment?ie({type:"comment_restack",payload:{commentId:te.comment.id,isRestacked:!0}}):ie({type:"post_restack",payload:{postId:te.post.id,isRestacked:!0}}),Pe(),x==null||x(!0)}),ce=()=>D(this,null,function*(){const te=yield Le.refetch({method:"DELETE",json:{postId:R?null:W==null?void 0:W.id,commentId:(R==null?void 0:R.id)||null,tabId:G}});if(te instanceof Error){alert(Object(g.getNetworkErrorMessage)(te));return}le.popToast(ue=>Object(e.h)(y.c,S(T({},ue),{text:"Restack undone",Icon:o.a}))),R?ie({type:"comment_restack",payload:{commentId:R.id,isRestacked:!1}}):W&&ie({type:"post_restack",payload:{postId:W.id,isRestacked:!1}}),x==null||x(!1)}),q=te=>D(this,null,function*(){te.preventDefault();try{yield Ce.open({feedItem:B,restackUrl:R?Object(s.h)(W,R,Y):Object(c.getPostUrl)(Y,W),tabId:G}),Pe()}catch(ue){}});return{canRestack:de,isRestacked:be,restacks:X,nuxModal:Ae,menuItems:[be?Object(e.h)(h.d,{icon:Object(e.h)(o.a,null),onClick:ce},"Undo restack"):Object(e.h)(h.d,{icon:Object(e.h)(u.default,null),onClick:Ne},"Restack"),Object(e.h)(h.d,{icon:Object(e.h)(f.default,null),onClick:q},"Restack with a note")]}}function U(Y){const W=V({entityType:Y}),R=Object(p.f)({pathname:"/api/v1/feed/has-restacked",auto:!1,cacheTtl:1/0}),B=()=>D(this,null,function*(){var x;const G=(x=R.result)!=null?x:yield R.refetch();!(G instanceof Error)&&(G==null?void 0:G.hasRestacked)===!1&&(W.open(),R.setResult({hasRestacked:!0}))});return{nuxModal:W.element,showRestackNux:B}}function V({entityType:Y}){const[W,R]=Object(a.l)(!1),B=()=>{R(!1)};return{open:()=>{R(!0)},element:Object(e.h)(v.a,{isOpen:W,onClose:B},Object(e.h)(K,{onClose:B,entityType:Y}))}}function K({onClose:Y,entityType:W}){return Object(e.h)(i.b,{paddingX:16},Object(e.h)(i.a,{justifyContent:"center",paddingTop:32,paddingBottom:24},Object(e.h)(l.a,{size:40,stroke:"var(--color-primary)"})),Object(e.h)(i.b,{gap:12},Object(e.h)(j.b.H3,{align:"center"},"You restacked a ",W),Object(e.h)(j.b.B3,{color:"secondary",align:"center"},"Restack ",W,"s that inspire you to share them with more people. Subscribers can see your restacks in the Notes tab and on your profile.")),Object(e.h)(i.b,{paddingBottom:16,paddingTop:20,gap:8},Object(e.h)(r.a,{rounded:!0,href:Object(d.o)()},"View now"),Object(e.h)(r.a,{priority:"secondary",fill:"outline",rounded:!0,onClick:Y},"OK")))}},function(k,n,t){"use strict";t.d(n,"a",function(){return p}),t.d(n,"b",function(){return g});var e=t(0),a=t(1),o=t(12),l=t.n(o),d=t(110),c=t.n(d),u=t(25),f=(O,s,r)=>new Promise((i,h)=>{var v=b=>{try{y(r.next(b))}catch(E){h(E)}},j=b=>{try{y(r.throw(b))}catch(E){h(E)}},y=b=>b.done?i(b.value):Promise.resolve(b.value).then(v,j);y((r=r.apply(O,s)).next())});const m=Object(e.createContext)({viewerProfile:{profile:null,loading:!1},setViewerProfile:()=>{},profiles:new Map,setProfile:()=>{}});m.displayName="ProfileContext";function p({value:O,handle:s,children:r}){const[i,h]=Object(a.l)({profile:null,loading:!1}),[v,j]=Object(a.l)(new Map(O?[[s||O.id,{profile:O,loading:!1}]]:[])),y={viewerProfile:i,setViewerProfile:Object(a.a)((b,E)=>{h(P=>P.profile===b&&P.loading===E?P:{profile:b,loading:E})},[]),profiles:v,setProfile:Object(a.a)((b,E,P)=>{j(A=>{var _,M;if(((_=A.get(b))==null?void 0:_.profile)===E&&((M=A.get(b))==null?void 0:M.loading)===P)return A;const F=new Map(A);return F.set(b,{profile:E,loading:P}),F})},[])};return Object(e.h)(m.Provider,{value:y},r)}function g({subjectId:O,subjectName:s,delayLoading:r}){const i=Object(u.c)(),{viewerProfile:h,setViewerProfile:v,profiles:j,setProfile:y}=Object(a.b)(m),[b,E]=Object(a.l)(null),P=j.get(O),A=Object(a.a)(H=>f(this,null,function*(){v(h.profile,!0);const C=Object(d.cleanSlug)(H.name,{hashIfEmpty:!0});try{const T=yield l.a.get(`/api/v1/user/${H.id}-${C}/public_profile/self`).then(S=>S.body);v(T,!1)}catch(T){T instanceof Error&&E(T),v(null,!1)}}),[h,v,E]),_=P==null?void 0:P.profile,M=h.profile,F=Object(a.a)(H=>f(this,null,function*(){!M&&i&&A(i),y(H,_,!0);try{const C=s&&Object(d.cleanSlug)(s,{hashIfEmpty:!0}),T=yield C?l.a.get(`/api/v1/user/${H}-${C}/public_profile`).then(S=>S.body):l.a.get(`/api/v1/user/${H}/public_profile`).then(S=>S.body);y(H,T,!1)}catch(C){C instanceof Error&&E(C),y(H,_,!1)}}),[_,y,s,M,A,i]);return Object(a.d)(()=>{!r&&!(P==null?void 0:P.profile)&&!(P==null?void 0:P.loading)&&!b&&F(O),!r&&!h.loading&&!h.profile&&!b&&i&&A(i)},[r,O,F,P,b,h,A,i]),{loading:Boolean(P==null?void 0:P.loading),viewerProfile:h.profile,subjectProfile:P==null?void 0:P.profile,refetch:F,error:b}}},function(k,n,t){"use strict";t.d(n,"a",function(){return o});var e=t(1);function a(l,d,{root:c,threshold:u=0,rootMargin:f,disabled:m=!1}={}){Object(e.d)(()=>{if(typeof IntersectionObserver=="undefined"||!l.current||m)return;const p=new IntersectionObserver(O=>{d(O.some(s=>s.isIntersecting))},{root:c,threshold:u,rootMargin:f});p.observe(l.current);function g(){p.disconnect()}return g},[l,d,c,u,f,m])}function o(l,d,{root:c,threshold:u=0,rootMargin:f,disabled:m=!1}={}){const p=Object(e.k)(!1),g=Object(e.a)(O=>{O&&!p.current&&(p.current=!0,d())},[d,p]);a(l,g,{root:c,threshold:u,rootMargin:f,disabled:m||p.current})}},function(k,n,t){"use strict";t.d(n,"a",function(){return o});var e=t(0),a=t(8);const o=(l,d,c)=>{if(!l)return"";if(!d)return l;const u=new RegExp(d.join("|"),"ig"),f=l.split(u),m=[...l.matchAll(u)];return f.map((g,O)=>Object(e.h)(e.Fragment,null,g,O!==f.length-1&&Object(e.h)(a.b,{as:"span",weight:c||"bold",fontStyle:"italic"},m[O])))}},function(k,n,t){var e,a;/*!
* JavaScript Cookie v2.2.0
* https://github.com/js-cookie/js-cookie
*
* Copyright 2006, 2015 Klaus Hartl & Fagner Brack
* Released under the MIT license
*/(function(o){var l=!1;if(e=o,a=typeof e=="function"?e.call(n,t,n,k):e,a!==void 0&&(k.exports=a),l=!0,k.exports=o(),l=!0,!l){var d=window.Cookies,c=window.Cookies=o();c.noConflict=function(){return window.Cookies=d,c}}})(function(){function o(){for(var d=0,c={};d<arguments.length;d++){var u=arguments[d];for(var f in u)c[f]=u[f]}return c}function l(d){function c(u,f,m){var p;if(typeof document!="undefined"){if(arguments.length>1){if(m=o({path:"/"},c.defaults,m),typeof m.expires=="number"){var g=new Date;g.setMilliseconds(g.getMilliseconds()+m.expires*864e5),m.expires=g}m.expires=m.expires?m.expires.toUTCString():"";try{p=JSON.stringify(f),/^[\{\[]/.test(p)&&(f=p)}catch(b){}d.write?f=d.write(f,u):f=encodeURIComponent(String(f)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),u=encodeURIComponent(String(u)),u=u.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),u=u.replace(/[\(\)]/g,escape);var O="";for(var s in m)!m[s]||(O+="; "+s,m[s]!==!0&&(O+="="+m[s]));return document.cookie=u+"="+f+O}u||(p={});for(var r=document.cookie?document.cookie.split("; "):[],i=/(%[0-9A-Z]{2})+/g,h=0;h<r.length;h++){var v=r[h].split("="),j=v.slice(1).join("=");!this.json&&j.charAt(0)==='"'&&(j=j.slice(1,-1));try{var y=v[0].replace(i,decodeURIComponent);if(j=d.read?d.read(j,y):d(j,y)||j.replace(i,decodeURIComponent),this.json)try{j=JSON.parse(j)}catch(b){}if(u===y){p=j;break}u||(p[y]=j)}catch(b){}}return p}}return c.set=c,c.get=function(u){return c.call(c,u)},c.getJSON=function(){return c.apply({json:!0},[].slice.call(arguments))},c.defaults={},c.remove=function(u,f){c(u,"",o(f,{expires:-1}))},c.withConverter=l,c}return l(function(){})})},function(k,n,t){"use strict";t.d(n,"a",function(){return cn}),t.d(n,"b",function(){return Mo}),t.d(n,"c",function(){return Xe}),t.d(n,"d",function(){return De}),t.d(n,"e",function(){return se}),t.d(n,"f",function(){return F}),t.d(n,"g",function(){return H}),t.d(n,"h",function(){return ao}),t.d(n,"i",function(){return B}),t.d(n,"j",function(){return _}),t.d(n,"k",function(){return Z}),t.d(n,"l",function(){return mr}),t.d(n,"m",function(){return xn}),t.d(n,"n",function(){return qt}),t.d(n,"o",function(){return h}),t.d(n,"p",function(){return v});var e=t(3),a=t(56);const o={display:"none"};function l(ft){let{id:qe,value:rt}=ft;return e.default.createElement("div",{id:qe,style:o},rt)}const d={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};function c(ft){let{id:qe,announcement:rt}=ft;return e.default.createElement("div",{id:qe,style:d,role:"status","aria-live":"assertive","aria-atomic":!0},rt)}function u(){const[ft,qe]=Object(e.useState)("");return{announce:Object(e.useCallback)(mt=>{mt!=null&&qe(mt)},[]),announcement:ft}}const f=Object(e.createContext)(null);function m(ft){const qe=Object(e.useContext)(f);Object(e.useEffect)(()=>{if(!qe)throw new Error("useDndMonitor must be used within a children of <DndContext>");return qe(ft)},[ft,qe])}function p(){const[ft]=Object(e.useState)(()=>new Set),qe=Object(e.useCallback)(mt=>(ft.add(mt),()=>ft.delete(mt)),[ft]);return[Object(e.useCallback)(mt=>{let{type:un,event:yn}=mt;ft.forEach(An=>{var Je;return(Je=An[un])==null?void 0:Je.call(An,yn)})},[ft]),qe]}const g={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},O={onDragStart(ft){let{active:qe}=ft;return"Picked up draggable item "+qe.id+"."},onDragOver(ft){let{active:qe,over:rt}=ft;return rt?"Draggable item "+qe.id+" was moved over droppable area "+rt.id+".":"Draggable item "+qe.id+" is no longer over a droppable area."},onDragEnd(ft){let{active:qe,over:rt}=ft;return rt?"Draggable item "+qe.id+" was dropped over droppable area "+rt.id:"Draggable item "+qe.id+" was dropped."},onDragCancel(ft){let{active:qe}=ft;return"Dragging was cancelled. Draggable item "+qe.id+" was dropped."}};function s(ft){let{announcements:qe=O,container:rt,hiddenTextDescribedById:mt,screenReaderInstructions:un=g}=ft;const{announce:yn,announcement:An}=u(),Je=Object(a.w)("DndLiveRegion"),[St,Gt]=Object(e.useState)(!1);if(Object(e.useEffect)(()=>{Gt(!0)},[]),m(Object(e.useMemo)(()=>({onDragStart(kn){let{active:or}=kn;yn(qe.onDragStart({active:or}))},onDragMove(kn){let{active:or,over:fr}=kn;qe.onDragMove&&yn(qe.onDragMove({active:or,over:fr}))},onDragOver(kn){let{active:or,over:fr}=kn;yn(qe.onDragOver({active:or,over:fr}))},onDragEnd(kn){let{active:or,over:fr}=kn;yn(qe.onDragEnd({active:or,over:fr}))},onDragCancel(kn){let{active:or,over:fr}=kn;yn(qe.onDragCancel({active:or,over:fr}))}}),[yn,qe])),!St)return null;const vn=e.default.createElement(e.default.Fragment,null,e.default.createElement(l,{id:mt,value:un.draggable}),e.default.createElement(c,{id:Je,announcement:An}));return rt?Object(e.createPortal)(vn,rt):vn}var r;(function(ft){ft.DragStart="dragStart",ft.DragMove="dragMove",ft.DragEnd="dragEnd",ft.DragCancel="dragCancel",ft.DragOver="dragOver",ft.RegisterDroppable="registerDroppable",ft.SetDroppableDisabled="setDroppableDisabled",ft.UnregisterDroppable="unregisterDroppable"})(r||(r={}));function i(){}function h(ft,qe){return Object(e.useMemo)(()=>({sensor:ft,options:qe!=null?qe:{}}),[ft,qe])}function v(){for(var ft=arguments.length,qe=new Array(ft),rt=0;rt<ft;rt++)qe[rt]=arguments[rt];return Object(e.useMemo)(()=>[...qe].filter(mt=>mt!=null),[...qe])}const j=Object.freeze({x:0,y:0});function y(ft,qe){return Math.sqrt(Math.pow(ft.x-qe.x,2)+Math.pow(ft.y-qe.y,2))}function b(ft,qe){const rt=Object(a.e)(ft);if(!rt)return"0 0";const mt={x:(rt.x-qe.left)/qe.width*100,y:(rt.y-qe.top)/qe.height*100};return mt.x+"% "+mt.y+"%"}function E(ft,qe){let{data:{value:rt}}=ft,{data:{value:mt}}=qe;return rt-mt}function P(ft,qe){let{data:{value:rt}}=ft,{data:{value:mt}}=qe;return mt-rt}function A(ft){let{left:qe,top:rt,height:mt,width:un}=ft;return[{x:qe,y:rt},{x:qe+un,y:rt},{x:qe,y:rt+mt},{x:qe+un,y:rt+mt}]}function _(ft,qe){if(!ft||ft.length===0)return null;const[rt]=ft;return qe?rt[qe]:rt}function M(ft,qe,rt){return qe===void 0&&(qe=ft.left),rt===void 0&&(rt=ft.top),{x:qe+ft.width*.5,y:rt+ft.height*.5}}const F=ft=>{let{collisionRect:qe,droppableRects:rt,droppableContainers:mt}=ft;const un=M(qe,qe.left,qe.top),yn=[];for(const An of mt){const{id:Je}=An,St=rt.get(Je);if(St){const Gt=y(M(St),un);yn.push({id:Je,data:{droppableContainer:An,value:Gt}})}}return yn.sort(E)},H=ft=>{let{collisionRect:qe,droppableRects:rt,droppableContainers:mt}=ft;const un=A(qe),yn=[];for(const An of mt){const{id:Je}=An,St=rt.get(Je);if(St){const Gt=A(St),vn=un.reduce((or,fr,er)=>or+y(Gt[er],fr),0),kn=Number((vn/4).toFixed(4));yn.push({id:Je,data:{droppableContainer:An,value:kn}})}}return yn.sort(E)};function C(ft,qe){const rt=Math.max(qe.top,ft.top),mt=Math.max(qe.left,ft.left),un=Math.min(qe.left+qe.width,ft.left+ft.width),yn=Math.min(qe.top+qe.height,ft.top+ft.height),An=un-mt,Je=yn-rt;if(mt<un&&rt<yn){const St=qe.width*qe.height,Gt=ft.width*ft.height,vn=An*Je,kn=vn/(St+Gt-vn);return Number(kn.toFixed(4))}return 0}const T=ft=>{let{collisionRect:qe,droppableRects:rt,droppableContainers:mt}=ft;const un=[];for(const yn of mt){const{id:An}=yn,Je=rt.get(An);if(Je){const St=C(Je,qe);St>0&&un.push({id:An,data:{droppableContainer:yn,value:St}})}}return un.sort(P)};function S(ft,qe){const{top:rt,left:mt,bottom:un,right:yn}=qe;return rt<=ft.y&&ft.y<=un&&mt<=ft.x&&ft.x<=yn}const D=ft=>{let{droppableContainers:qe,droppableRects:rt,pointerCoordinates:mt}=ft;if(!mt)return[];const un=[];for(const yn of qe){const{id:An}=yn,Je=rt.get(An);if(Je&&S(mt,Je)){const Gt=A(Je).reduce((kn,or)=>kn+y(mt,or),0),vn=Number((Gt/4).toFixed(4));un.push({id:An,data:{droppableContainer:yn,value:vn}})}}return un.sort(E)};function w(ft,qe,rt){return _o(pr({},ft),{scaleX:qe&&rt?qe.width/rt.width:1,scaleY:qe&&rt?qe.height/rt.height:1})}function U(ft,qe){return ft&&qe?{x:ft.left-qe.left,y:ft.top-qe.top}:j}function V(ft){return function(rt){for(var mt=arguments.length,un=new Array(mt>1?mt-1:0),yn=1;yn<mt;yn++)un[yn-1]=arguments[yn];return un.reduce((An,Je)=>_o(pr({},An),{top:An.top+ft*Je.y,bottom:An.bottom+ft*Je.y,left:An.left+ft*Je.x,right:An.right+ft*Je.x}),pr({},rt))}}const K=V(1);function Y(ft){if(ft.startsWith("matrix3d(")){const qe=ft.slice(9,-1).split(/, /);return{x:+qe[12],y:+qe[13],scaleX:+qe[0],scaleY:+qe[5]}}else if(ft.startsWith("matrix(")){const qe=ft.slice(7,-1).split(/, /);return{x:+qe[4],y:+qe[5],scaleX:+qe[0],scaleY:+qe[3]}}return null}function W(ft,qe,rt){const mt=Y(qe);if(!mt)return ft;const{scaleX:un,scaleY:yn,x:An,y:Je}=mt,St=ft.left-An-(1-un)*parseFloat(rt),Gt=ft.top-Je-(1-yn)*parseFloat(rt.slice(rt.indexOf(" ")+1)),vn=un?ft.width/un:ft.width,kn=yn?ft.height/yn:ft.height;return{width:vn,height:kn,top:Gt,right:St+vn,bottom:Gt+kn,left:St}}const R={ignoreTransform:!1};function B(ft,qe){qe===void 0&&(qe=R);let rt=ft.getBoundingClientRect();if(qe.ignoreTransform){const{getComputedStyle:Gt}=Object(a.g)(ft),{transform:vn,transformOrigin:kn}=Gt(ft);vn&&(rt=W(rt,vn,kn))}const{top:mt,left:un,width:yn,height:An,bottom:Je,right:St}=rt;return{top:mt,left:un,width:yn,height:An,bottom:Je,right:St}}function x(ft){return B(ft,{ignoreTransform:!0})}function G(ft){const qe=ft.innerWidth,rt=ft.innerHeight;return{top:0,left:0,right:qe,bottom:rt,width:qe,height:rt}}function Q(ft,qe){return qe===void 0&&(qe=Object(a.g)(ft).getComputedStyle(ft)),qe.position==="fixed"}function he(ft,qe){qe===void 0&&(qe=Object(a.g)(ft).getComputedStyle(ft));const rt=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(un=>{const yn=qe[un];return typeof yn=="string"?rt.test(yn):!1})}function Z(ft,qe){const rt=[];function mt(un){if(qe!=null&&rt.length>=qe||!un)return rt;if(Object(a.h)(un)&&un.scrollingElement!=null&&!rt.includes(un.scrollingElement))return rt.push(un.scrollingElement),rt;if(!Object(a.i)(un)||Object(a.l)(un)||rt.includes(un))return rt;const{getComputedStyle:yn}=Object(a.g)(un),An=yn(un);return un!==ft&&he(un,An)&&rt.push(un),Q(un,An)?rt:mt(un.parentNode)}return ft?mt(ft):rt}function le(ft){const[qe]=Z(ft,1);return qe!=null?qe:null}function de(ft){return!a.c||!ft?null:Object(a.m)(ft)?ft:Object(a.k)(ft)?Object(a.h)(ft)||ft===Object(a.f)(ft).scrollingElement?window:Object(a.i)(ft)?ft:null:null}function be(ft){return Object(a.m)(ft)?ft.scrollX:ft.scrollLeft}function X(ft){return Object(a.m)(ft)?ft.scrollY:ft.scrollTop}function ie(ft){return{x:be(ft),y:X(ft)}}var Ce;(function(ft){ft[ft.Forward=1]="Forward",ft[ft.Backward=-1]="Backward"})(Ce||(Ce={}));function Le(ft){return!a.c||!ft?!1:ft===document.scrollingElement}function Ae(ft){const qe={x:0,y:0},rt=Le(ft)?{height:window.innerHeight,width:window.innerWidth}:{height:ft.clientHeight,width:ft.clientWidth},mt={x:ft.scrollWidth-rt.width,y:ft.scrollHeight-rt.height},un=ft.scrollTop<=qe.y,yn=ft.scrollLeft<=qe.x,An=ft.scrollTop>=mt.y,Je=ft.scrollLeft>=mt.x;return{isTop:un,isLeft:yn,isBottom:An,isRight:Je,maxScroll:mt,minScroll:qe}}const Pe={x:.2,y:.2};function Ne(ft,qe,rt,mt,un){let{top:yn,left:An,right:Je,bottom:St}=rt;mt===void 0&&(mt=10),un===void 0&&(un=Pe);const{isTop:Gt,isBottom:vn,isLeft:kn,isRight:or}=Ae(ft),fr={x:0,y:0},er={x:0,y:0},Ln={height:qe.height*un.y,width:qe.width*un.x};return!Gt&&yn<=qe.top+Ln.height?(fr.y=Ce.Backward,er.y=mt*Math.abs((qe.top+Ln.height-yn)/Ln.height)):!vn&&St>=qe.bottom-Ln.height&&(fr.y=Ce.Forward,er.y=mt*Math.abs((qe.bottom-Ln.height-St)/Ln.height)),!or&&Je>=qe.right-Ln.width?(fr.x=Ce.Forward,er.x=mt*Math.abs((qe.right-Ln.width-Je)/Ln.width)):!kn&&An<=qe.left+Ln.width&&(fr.x=Ce.Backward,er.x=mt*Math.abs((qe.left+Ln.width-An)/Ln.width)),{direction:fr,speed:er}}function ce(ft){if(ft===document.scrollingElement){const{innerWidth:yn,innerHeight:An}=window;return{top:0,left:0,right:yn,bottom:An,width:yn,height:An}}const{top:qe,left:rt,right:mt,bottom:un}=ft.getBoundingClientRect();return{top:qe,left:rt,right:mt,bottom:un,width:ft.clientWidth,height:ft.clientHeight}}function q(ft){return ft.reduce((qe,rt)=>Object(a.b)(qe,ie(rt)),j)}function te(ft){return ft.reduce((qe,rt)=>qe+be(rt),0)}function ue(ft){return ft.reduce((qe,rt)=>qe+X(rt),0)}function We(ft,qe){if(qe===void 0&&(qe=B),!ft)return;const{top:rt,left:mt,bottom:un,right:yn}=qe(ft);!le(ft)||(un<=0||yn<=0||rt>=window.innerHeight||mt>=window.innerWidth)&&ft.scrollIntoView({block:"center",inline:"center"})}const ot=[["x",["left","right"],te],["y",["top","bottom"],ue]];class ze{constructor(qe,rt){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const mt=Z(rt),un=q(mt);this.rect=pr({},qe),this.width=qe.width,this.height=qe.height;for(const[yn,An,Je]of ot)for(const St of An)Object.defineProperty(this,St,{get:()=>{const Gt=Je(mt),vn=un[yn]-Gt;return this.rect[St]+vn},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class vt{constructor(qe){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(rt=>{var mt;return(mt=this.target)==null?void 0:mt.removeEventListener(...rt)})},this.target=qe}add(qe,rt,mt){var un;(un=this.target)==null||un.addEventListener(qe,rt,mt),this.listeners.push([qe,rt,mt])}}function Wt(ft){const{EventTarget:qe}=Object(a.g)(ft);return ft instanceof qe?ft:Object(a.f)(ft)}function zt(ft,qe){const rt=Math.abs(ft.x),mt=Math.abs(ft.y);return typeof qe=="number"?Math.sqrt(bu(rt,2)+bu(mt,2))>qe:"x"in qe&&"y"in qe?rt>qe.x&&mt>qe.y:"x"in qe?rt>qe.x:"y"in qe?mt>qe.y:!1}var at;(function(ft){ft.Click="click",ft.DragStart="dragstart",ft.Keydown="keydown",ft.ContextMenu="contextmenu",ft.Resize="resize",ft.SelectionChange="selectionchange",ft.VisibilityChange="visibilitychange"})(at||(at={}));function Me(ft){ft.preventDefault()}function Be(ft){ft.stopPropagation()}var Xe;(function(ft){ft.Space="Space",ft.Down="ArrowDown",ft.Right="ArrowRight",ft.Left="ArrowLeft",ft.Up="ArrowUp",ft.Esc="Escape",ft.Enter="Enter"})(Xe||(Xe={}));const Te={start:[Xe.Space,Xe.Enter],cancel:[Xe.Esc],end:[Xe.Space,Xe.Enter]},we=(ft,qe)=>{let{currentCoordinates:rt}=qe;switch(ft.code){case Xe.Right:return _o(pr({},rt),{x:rt.x+25});case Xe.Left:return _o(pr({},rt),{x:rt.x-25});case Xe.Down:return _o(pr({},rt),{y:rt.y+25});case Xe.Up:return _o(pr({},rt),{y:rt.y-25})}};class De{constructor(qe){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=qe;const{event:{target:rt}}=qe;this.props=qe,this.listeners=new vt(Object(a.f)(rt)),this.windowListeners=new vt(Object(a.g)(rt)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(at.Resize,this.handleCancel),this.windowListeners.add(at.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(at.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:qe,onStart:rt}=this.props,mt=qe.node.current;mt&&We(mt),rt(j)}handleKeyDown(qe){if(Object(a.j)(qe)){const{active:rt,context:mt,options:un}=this.props,{keyboardCodes:yn=Te,coordinateGetter:An=we,scrollBehavior:Je="smooth"}=un,{code:St}=qe;if(yn.end.includes(St)){this.handleEnd(qe);return}if(yn.cancel.includes(St)){this.handleCancel(qe);return}const{collisionRect:Gt}=mt.current,vn=Gt?{x:Gt.left,y:Gt.top}:j;this.referenceCoordinates||(this.referenceCoordinates=vn);const kn=An(qe,{active:rt,context:mt.current,currentCoordinates:vn});if(kn){const or=Object(a.n)(kn,vn),fr={x:0,y:0},{scrollableAncestors:er}=mt.current;for(const Ln of er){const ur=qe.code,{isTop:br,isRight:et,isLeft:Ge,isBottom:tt,maxScroll:Pt,minScroll:gt}=Ae(Ln),me=ce(Ln),fe={x:Math.min(ur===Xe.Right?me.right-me.width/2:me.right,Math.max(ur===Xe.Right?me.left:me.left+me.width/2,kn.x)),y:Math.min(ur===Xe.Down?me.bottom-me.height/2:me.bottom,Math.max(ur===Xe.Down?me.top:me.top+me.height/2,kn.y))},Ee=ur===Xe.Right&&!et||ur===Xe.Left&&!Ge,Ue=ur===Xe.Down&&!tt||ur===Xe.Up&&!br;if(Ee&&fe.x!==kn.x){const Ye=Ln.scrollLeft+or.x,ct=ur===Xe.Right&&Ye<=Pt.x||ur===Xe.Left&&Ye>=gt.x;if(ct&&!or.y){Ln.scrollTo({left:Ye,behavior:Je});return}ct?fr.x=Ln.scrollLeft-Ye:fr.x=ur===Xe.Right?Ln.scrollLeft-Pt.x:Ln.scrollLeft-gt.x,fr.x&&Ln.scrollBy({left:-fr.x,behavior:Je});break}else if(Ue&&fe.y!==kn.y){const Ye=Ln.scrollTop+or.y,ct=ur===Xe.Down&&Ye<=Pt.y||ur===Xe.Up&&Ye>=gt.y;if(ct&&!or.x){Ln.scrollTo({top:Ye,behavior:Je});return}ct?fr.y=Ln.scrollTop-Ye:fr.y=ur===Xe.Down?Ln.scrollTop-Pt.y:Ln.scrollTop-gt.y,fr.y&&Ln.scrollBy({top:-fr.y,behavior:Je});break}}this.handleMove(qe,Object(a.b)(Object(a.n)(kn,this.referenceCoordinates),fr))}}}handleMove(qe,rt){const{onMove:mt}=this.props;qe.preventDefault(),mt(rt)}handleEnd(qe){const{onEnd:rt}=this.props;qe.preventDefault(),this.detach(),rt()}handleCancel(qe){const{onCancel:rt}=this.props;qe.preventDefault(),this.detach(),rt()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}De.activators=[{eventName:"onKeyDown",handler:(ft,qe,rt)=>{let{keyboardCodes:mt=Te,onActivation:un}=qe,{active:yn}=rt;const{code:An}=ft.nativeEvent;if(mt.start.includes(An)){const Je=yn.activatorNode.current;return Je&&ft.target!==Je?!1:(ft.preventDefault(),un==null||un({event:ft.nativeEvent}),!0)}return!1}}];function Ie(ft){return Boolean(ft&&"distance"in ft)}function He(ft){return Boolean(ft&&"delay"in ft)}class Ve{constructor(qe,rt,mt){var un;mt===void 0&&(mt=Wt(qe.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=qe,this.events=rt;const{event:yn}=qe,{target:An}=yn;this.props=qe,this.events=rt,this.document=Object(a.f)(An),this.documentListeners=new vt(this.document),this.listeners=new vt(mt),this.windowListeners=new vt(Object(a.g)(An)),this.initialCoordinates=(un=Object(a.e)(yn))!=null?un:j,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:qe,props:{options:{activationConstraint:rt}}}=this;if(this.listeners.add(qe.move.name,this.handleMove,{passive:!1}),this.listeners.add(qe.end.name,this.handleEnd),this.windowListeners.add(at.Resize,this.handleCancel),this.windowListeners.add(at.DragStart,Me),this.windowListeners.add(at.VisibilityChange,this.handleCancel),this.windowListeners.add(at.ContextMenu,Me),this.documentListeners.add(at.Keydown,this.handleKeydown),rt){if(Ie(rt))return;if(He(rt)){this.timeoutId=setTimeout(this.handleStart,rt.delay);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:qe}=this,{onStart:rt}=this.props;qe&&(this.activated=!0,this.documentListeners.add(at.Click,Be,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(at.SelectionChange,this.removeTextSelection),rt(qe))}handleMove(qe){var rt;const{activated:mt,initialCoordinates:un,props:yn}=this,{onMove:An,options:{activationConstraint:Je}}=yn;if(!un)return;const St=(rt=Object(a.e)(qe))!=null?rt:j,Gt=Object(a.n)(un,St);if(!mt&&Je){if(He(Je))return zt(Gt,Je.tolerance)?this.handleCancel():void 0;if(Ie(Je))return Je.tolerance!=null&&zt(Gt,Je.tolerance)?this.handleCancel():zt(Gt,Je.distance)?this.handleStart():void 0}qe.cancelable&&qe.preventDefault(),An(St)}handleEnd(){const{onEnd:qe}=this.props;this.detach(),qe()}handleCancel(){const{onCancel:qe}=this.props;this.detach(),qe()}handleKeydown(qe){qe.code===Xe.Esc&&this.handleCancel()}removeTextSelection(){var qe;(qe=this.document.getSelection())==null||qe.removeAllRanges()}}const z={move:{name:"pointermove"},end:{name:"pointerup"}};class se extends Ve{constructor(qe){const{event:rt}=qe,mt=Object(a.f)(rt.target);super(qe,z,mt)}}se.activators=[{eventName:"onPointerDown",handler:(ft,qe)=>{let{nativeEvent:rt}=ft,{onActivation:mt}=qe;return!rt.isPrimary||rt.button!==0?!1:(mt==null||mt({event:rt}),!0)}}];const Se={move:{name:"mousemove"},end:{name:"mouseup"}};var Oe;(function(ft){ft[ft.RightClick=2]="RightClick"})(Oe||(Oe={}));class ge extends Ve{constructor(qe){super(qe,Se,Object(a.f)(qe.event.target))}}ge.activators=[{eventName:"onMouseDown",handler:(ft,qe)=>{let{nativeEvent:rt}=ft,{onActivation:mt}=qe;return rt.button===Oe.RightClick?!1:(mt==null||mt({event:rt}),!0)}}];const je={move:{name:"touchmove"},end:{name:"touchend"}};class it extends Ve{constructor(qe){super(qe,je)}static setup(){return window.addEventListener(je.move.name,qe,{capture:!1,passive:!1}),function(){window.removeEventListener(je.move.name,qe)};function qe(){}}}it.activators=[{eventName:"onTouchStart",handler:(ft,qe)=>{let{nativeEvent:rt}=ft,{onActivation:mt}=qe;const{touches:un}=rt;return un.length>1?!1:(mt==null||mt({event:rt}),!0)}}];var Tt;(function(ft){ft[ft.Pointer=0]="Pointer",ft[ft.DraggableRect=1]="DraggableRect"})(Tt||(Tt={}));var sn;(function(ft){ft[ft.TreeOrder=0]="TreeOrder",ft[ft.ReversedTreeOrder=1]="ReversedTreeOrder"})(sn||(sn={}));function ht(ft){let{acceleration:qe,activator:rt=Tt.Pointer,canScroll:mt,draggingRect:un,enabled:yn,interval:An=5,order:Je=sn.TreeOrder,pointerCoordinates:St,scrollableAncestors:Gt,scrollableAncestorRects:vn,delta:kn,threshold:or}=ft;const fr=wt({delta:kn,disabled:!yn}),[er,Ln]=Object(a.q)(),ur=Object(e.useRef)({x:0,y:0}),br=Object(e.useRef)({x:0,y:0}),et=Object(e.useMemo)(()=>{switch(rt){case Tt.Pointer:return St?{top:St.y,bottom:St.y,left:St.x,right:St.x}:null;case Tt.DraggableRect:return un}},[rt,un,St]),Ge=Object(e.useRef)(null),tt=Object(e.useCallback)(()=>{const gt=Ge.current;if(!gt)return;const me=ur.current.x*br.current.x,fe=ur.current.y*br.current.y;gt.scrollBy(me,fe)},[]),Pt=Object(e.useMemo)(()=>Je===sn.TreeOrder?[...Gt].reverse():Gt,[Je,Gt]);Object(e.useEffect)(()=>{if(!yn||!Gt.length||!et){Ln();return}for(const gt of Pt){if((mt==null?void 0:mt(gt))===!1)continue;const me=Gt.indexOf(gt),fe=vn[me];if(!fe)continue;const{direction:Ee,speed:Ue}=Ne(gt,fe,et,qe,or);for(const Ye of["x","y"])fr[Ye][Ee[Ye]]||(Ue[Ye]=0,Ee[Ye]=0);if(Ue.x>0||Ue.y>0){Ln(),Ge.current=gt,er(tt,An),ur.current=Ue,br.current=Ee;return}}ur.current={x:0,y:0},br.current={x:0,y:0},Ln()},[qe,tt,mt,Ln,yn,An,JSON.stringify(et),JSON.stringify(fr),er,Gt,Pt,vn,JSON.stringify(or)])}const Nt={x:{[Ce.Backward]:!1,[Ce.Forward]:!1},y:{[Ce.Backward]:!1,[Ce.Forward]:!1}};function wt(ft){let{delta:qe,disabled:rt}=ft;const mt=Object(a.v)(qe);return Object(a.t)(un=>{if(rt||!mt||!un)return Nt;const yn={x:Math.sign(qe.x-mt.x),y:Math.sign(qe.y-mt.y)};return{x:{[Ce.Backward]:un.x[Ce.Backward]||yn.x===-1,[Ce.Forward]:un.x[Ce.Forward]||yn.x===1},y:{[Ce.Backward]:un.y[Ce.Backward]||yn.y===-1,[Ce.Forward]:un.y[Ce.Forward]||yn.y===1}}},[rt,qe,mt])}function yt(ft,qe){const rt=qe!==null?ft.get(qe):void 0,mt=rt?rt.node.current:null;return Object(a.t)(un=>{var yn;return qe===null?null:(yn=mt!=null?mt:un)!=null?yn:null},[mt,qe])}function Qe(ft,qe){return Object(e.useMemo)(()=>ft.reduce((rt,mt)=>{const{sensor:un}=mt,yn=un.activators.map(An=>({eventName:An.eventName,handler:qe(An.handler,mt)}));return[...rt,...yn]},[]),[ft,qe])}var At;(function(ft){ft[ft.Always=0]="Always",ft[ft.BeforeDragging=1]="BeforeDragging",ft[ft.WhileDragging=2]="WhileDragging"})(At||(At={}));var jt;(function(ft){ft.Optimized="optimized"})(jt||(jt={}));const ke=new Map;function tn(ft,qe){let{dragging:rt,dependencies:mt,config:un}=qe;const[yn,An]=Object(e.useState)(null),Je=yn!=null,{frequency:St,measure:Gt,strategy:vn}=un,kn=Object(e.useRef)(ft),or=br(),fr=Object(a.s)(or),er=Object(e.useCallback)(function(et){et===void 0&&(et=[]),!fr.current&&An(Ge=>Ge?Ge.concat(et):et)},[fr]),Ln=Object(e.useRef)(null),ur=Object(a.t)(et=>{if(or&&!rt)return ke;const Ge=yn;if(!et||et===ke||kn.current!==ft||Ge!=null){const tt=new Map;for(let Pt of ft){if(!Pt)continue;if(Ge&&Ge.length>0&&!Ge.includes(Pt.id)&&Pt.rect.current){tt.set(Pt.id,Pt.rect.current);continue}const gt=Pt.node.current,me=gt?new ze(Gt(gt),gt):null;Pt.rect.current=me,me&&tt.set(Pt.id,me)}return tt}return et},[ft,yn,rt,or,Gt]);return Object(e.useEffect)(()=>{kn.current=ft},[ft]),Object(e.useEffect)(()=>{or||requestAnimationFrame(()=>er())},[rt,or]),Object(e.useEffect)(()=>{Je&&An(null)},[Je]),Object(e.useEffect)(()=>{or||typeof St!="number"||Ln.current!==null||(Ln.current=setTimeout(()=>{er(),Ln.current=null},St))},[St,or,er,...mt]),{droppableRects:ur,measureDroppableContainers:er,measuringScheduled:Je};function br(){switch(vn){case At.Always:return!1;case At.BeforeDragging:return rt;default:return!rt}}}function Pn(ft,qe){return Object(a.t)(rt=>ft?rt||(typeof qe=="function"?qe(ft):ft):null,[qe,ft])}function Ft(ft,qe){return Pn(ft,qe)}function lt(ft){let{callback:qe,disabled:rt}=ft;const mt=Object(a.p)(qe),un=Object(e.useMemo)(()=>{if(rt||typeof window=="undefined"||typeof window.MutationObserver=="undefined")return;const{MutationObserver:yn}=window;return new yn(mt)},[mt,rt]);return Object(e.useEffect)(()=>()=>un==null?void 0:un.disconnect(),[un]),un}function Rt(ft){let{callback:qe,disabled:rt}=ft;const mt=Object(a.p)(qe),un=Object(e.useMemo)(()=>{if(rt||typeof window=="undefined"||typeof window.ResizeObserver=="undefined")return;const{ResizeObserver:yn}=window;return new yn(mt)},[rt]);return Object(e.useEffect)(()=>()=>un==null?void 0:un.disconnect(),[un]),un}function ln(ft){return new ze(B(ft),ft)}function Mt(ft,qe,rt){qe===void 0&&(qe=ln);const[mt,un]=Object(e.useReducer)(Je,null),yn=lt({callback(St){if(!!ft)for(const Gt of St){const{type:vn,target:kn}=Gt;if(vn==="childList"&&kn instanceof HTMLElement&&kn.contains(ft)){un();break}}}}),An=Rt({callback:un});return Object(a.r)(()=>{un(),ft?(An==null||An.observe(ft),yn==null||yn.observe(document.body,{childList:!0,subtree:!0})):(An==null||An.disconnect(),yn==null||yn.disconnect())},[ft]),mt;function Je(St){if(!ft)return null;if(ft.isConnected===!1){var Gt;return(Gt=St!=null?St:rt)!=null?Gt:null}const vn=qe(ft);return JSON.stringify(St)===JSON.stringify(vn)?St:vn}}function $t(ft){const qe=Pn(ft);return U(ft,qe)}const nn=[];function Bt(ft){const qe=Object(e.useRef)(ft),rt=Object(a.t)(mt=>ft?mt&&mt!==nn&&ft&&qe.current&&ft.parentNode===qe.current.parentNode?mt:Z(ft):nn,[ft]);return Object(e.useEffect)(()=>{qe.current=ft},[ft]),rt}function Kt(ft){const[qe,rt]=Object(e.useState)(null),mt=Object(e.useRef)(ft),un=Object(e.useCallback)(yn=>{const An=de(yn.target);!An||rt(Je=>Je?(Je.set(An,ie(An)),new Map(Je)):null)},[]);return Object(e.useEffect)(()=>{const yn=mt.current;if(ft!==yn){An(yn);const Je=ft.map(St=>{const Gt=de(St);return Gt?(Gt.addEventListener("scroll",un,{passive:!0}),[Gt,ie(Gt)]):null}).filter(St=>St!=null);rt(Je.length?new Map(Je):null),mt.current=ft}return()=>{An(ft),An(yn)};function An(Je){Je.forEach(St=>{const Gt=de(St);Gt==null||Gt.removeEventListener("scroll",un)})}},[un,ft]),Object(e.useMemo)(()=>ft.length?qe?Array.from(qe.values()).reduce((yn,An)=>Object(a.b)(yn,An),j):q(ft):j,[ft,qe])}function Sn(ft,qe){qe===void 0&&(qe=[]);const rt=Object(e.useRef)(null);return Object(e.useEffect)(()=>{rt.current=null},qe),Object(e.useEffect)(()=>{const mt=ft!==j;mt&&!rt.current&&(rt.current=ft),!mt&&rt.current&&(rt.current=null)},[ft]),rt.current?Object(a.n)(ft,rt.current):j}function Qn(ft){Object(e.useEffect)(()=>{if(!a.c)return;const qe=ft.map(rt=>{let{sensor:mt}=rt;return mt.setup==null?void 0:mt.setup()});return()=>{for(const rt of qe)rt==null||rt()}},ft.map(qe=>{let{sensor:rt}=qe;return rt}))}function rr(ft,qe){return Object(e.useMemo)(()=>ft.reduce((rt,mt)=>{let{eventName:un,handler:yn}=mt;return rt[un]=An=>{yn(An,qe)},rt},{}),[ft,qe])}function Mr(ft){return Object(e.useMemo)(()=>ft?G(ft):null,[ft])}const zr=[];function dr(ft,qe){qe===void 0&&(qe=B);const[rt]=ft,mt=Mr(rt?Object(a.g)(rt):null),[un,yn]=Object(e.useReducer)(Je,zr),An=Rt({callback:yn});return ft.length>0&&un===zr&&yn(),Object(a.r)(()=>{ft.length?ft.forEach(St=>An==null?void 0:An.observe(St)):(An==null||An.disconnect(),yn())},[ft]),un;function Je(){return ft.length?ft.map(St=>Le(St)?mt:new ze(qe(St),St)):zr}}function Rr(ft){if(!ft)return null;if(ft.children.length>1)return ft;const qe=ft.children[0];return Object(a.i)(qe)?qe:ft}function _r(ft){let{measure:qe}=ft;const[rt,mt]=Object(e.useState)(null),un=Object(e.useCallback)(Gt=>{for(const{target:vn}of Gt)if(Object(a.i)(vn)){mt(kn=>{const or=qe(vn);return kn?_o(pr({},kn),{width:or.width,height:or.height}):or});break}},[qe]),yn=Rt({callback:un}),An=Object(e.useCallback)(Gt=>{const vn=Rr(Gt);yn==null||yn.disconnect(),vn&&(yn==null||yn.observe(vn)),mt(vn?qe(vn):null)},[qe,yn]),[Je,St]=Object(a.u)(An);return Object(e.useMemo)(()=>({nodeRef:Je,rect:rt,setRef:St}),[rt,Je,St])}const ro=[{sensor:se,options:{}},{sensor:De,options:{}}],Dn={current:{}},ut={draggable:{measure:x},droppable:{measure:x,strategy:At.WhileDragging,frequency:jt.Optimized},dragOverlay:{measure:B}};class fn extends Map{get(qe){var rt;return qe!=null&&(rt=super.get(qe))!=null?rt:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(qe=>{let{disabled:rt}=qe;return!rt})}getNodeFor(qe){var rt,mt;return(rt=(mt=this.get(qe))==null?void 0:mt.node.current)!=null?rt:void 0}}const On={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new fn,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:i},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:ut,measureDroppableContainers:i,windowRect:null,measuringScheduled:!1},Ot={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:i,draggableNodes:new Map,over:null,measureDroppableContainers:i},kt=Object(e.createContext)(Ot),Zt=Object(e.createContext)(On);function Vn(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new fn}}}function Gn(ft,qe){switch(qe.type){case r.DragStart:return _o(pr({},ft),{draggable:_o(pr({},ft.draggable),{initialCoordinates:qe.initialCoordinates,active:qe.active})});case r.DragMove:return ft.draggable.active?_o(pr({},ft),{draggable:_o(pr({},ft.draggable),{translate:{x:qe.coordinates.x-ft.draggable.initialCoordinates.x,y:qe.coordinates.y-ft.draggable.initialCoordinates.y}})}):ft;case r.DragEnd:case r.DragCancel:return _o(pr({},ft),{draggable:_o(pr({},ft.draggable),{active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}})});case r.RegisterDroppable:{const{element:rt}=qe,{id:mt}=rt,un=new fn(ft.droppable.containers);return un.set(mt,rt),_o(pr({},ft),{droppable:_o(pr({},ft.droppable),{containers:un})})}case r.SetDroppableDisabled:{const{id:rt,key:mt,disabled:un}=qe,yn=ft.droppable.containers.get(rt);if(!yn||mt!==yn.key)return ft;const An=new fn(ft.droppable.containers);return An.set(rt,_o(pr({},yn),{disabled:un})),_o(pr({},ft),{droppable:_o(pr({},ft.droppable),{containers:An})})}case r.UnregisterDroppable:{const{id:rt,key:mt}=qe,un=ft.droppable.containers.get(rt);if(!un||mt!==un.key)return ft;const yn=new fn(ft.droppable.containers);return yn.delete(rt),_o(pr({},ft),{droppable:_o(pr({},ft.droppable),{containers:yn})})}default:return ft}}function tr(ft){let{disabled:qe}=ft;const{active:rt,activatorEvent:mt,draggableNodes:un}=Object(e.useContext)(kt),yn=Object(a.v)(mt),An=Object(a.v)(rt==null?void 0:rt.id);return Object(e.useEffect)(()=>{if(!qe&&!mt&&yn&&An!=null){if(!Object(a.j)(yn)||document.activeElement===yn.target)return;const Je=un.get(An);if(!Je)return;const{activatorNode:St,node:Gt}=Je;if(!St.current&&!Gt.current)return;requestAnimationFrame(()=>{for(const vn of[St.current,Gt.current]){if(!vn)continue;const kn=Object(a.d)(vn);if(kn){kn.focus();break}}})}},[mt,qe,un,An,yn]),null}function rn(ft,qe){let un=qe,{transform:rt}=un,mt=Ji(un,["transform"]);return ft!=null&&ft.length?ft.reduce((yn,An)=>An(pr({transform:yn},mt)),rt):rt}function _n(ft){return Object(e.useMemo)(()=>({draggable:pr(pr({},ut.draggable),ft==null?void 0:ft.draggable),droppable:pr(pr({},ut.droppable),ft==null?void 0:ft.droppable),dragOverlay:pr(pr({},ut.dragOverlay),ft==null?void 0:ft.dragOverlay)}),[ft==null?void 0:ft.draggable,ft==null?void 0:ft.droppable,ft==null?void 0:ft.dragOverlay])}function Yn(ft){let{activeNode:qe,measure:rt,initialRect:mt,config:un=!0}=ft;const yn=Object(e.useRef)(!1),{x:An,y:Je}=typeof un=="boolean"?{x:un,y:un}:un;Object(a.r)(()=>{if(!An&&!Je||!qe){yn.current=!1;return}if(yn.current||!mt)return;const Gt=qe==null?void 0:qe.node.current;if(!Gt||Gt.isConnected===!1)return;const vn=rt(Gt),kn=U(vn,mt);if(An||(kn.x=0),Je||(kn.y=0),yn.current=!0,Math.abs(kn.x)>0||Math.abs(kn.y)>0){const or=le(Gt);or&&or.scrollBy({top:kn.y,left:kn.x})}},[qe,An,Je,mt,rt])}const cr=Object(e.createContext)(_o(pr({},j),{scaleX:1,scaleY:1}));var Jt;(function(ft){ft[ft.Uninitialized=0]="Uninitialized",ft[ft.Initializing=1]="Initializing",ft[ft.Initialized=2]="Initialized"})(Jt||(Jt={}));const cn=Object(e.memo)(function(qe){var rt,mt,un,yn;let $=qe,{id:An,accessibility:Je,autoScroll:St=!0,children:Gt,sensors:vn=ro,collisionDetection:kn=T,measuring:or,modifiers:fr}=$,er=Ji($,["id","accessibility","autoScroll","children","sensors","collisionDetection","measuring","modifiers"]);const Ln=Object(e.useReducer)(Gn,void 0,Vn),[ur,br]=Ln,[et,Ge]=p(),[tt,Pt]=Object(e.useState)(Jt.Uninitialized),gt=tt===Jt.Initialized,{draggable:{active:me,nodes:fe,translate:Ee},droppable:{containers:Ue}}=ur,Ye=me?fe.get(me):null,ct=Object(e.useRef)({initial:null,translated:null}),Yt=Object(e.useMemo)(()=>{var ne;return me!=null?{id:me,data:(ne=Ye==null?void 0:Ye.data)!=null?ne:Dn,rect:ct}:null},[me,Ye]),Qt=Object(e.useRef)(null),[En,hn]=Object(e.useState)(null),[In,Fn]=Object(e.useState)(null),Un=Object(a.s)(er,Object.values(er)),nr=Object(a.w)("DndDescribedBy",An),jr=Object(e.useMemo)(()=>Ue.getEnabled(),[Ue]),Hr=_n(or),{droppableRects:Br,measureDroppableContainers:Jr,measuringScheduled:so}=tn(jr,{dragging:gt,dependencies:[Ee.x,Ee.y],config:Hr.droppable}),Pr=yt(fe,me),Ur=Object(e.useMemo)(()=>In?Object(a.e)(In):null,[In]),Cr=L(),io=Ft(Pr,Hr.draggable.measure);Yn({activeNode:me?fe.get(me):null,config:Cr.layoutShiftCompensation,initialRect:io,measure:Hr.draggable.measure});const co=Mt(Pr,Hr.draggable.measure,io),Wo=Mt(Pr?Pr.parentElement:null),qo=Object(e.useRef)({activatorEvent:null,active:null,activeNode:Pr,collisionRect:null,collisions:null,droppableRects:Br,draggableNodes:fe,draggingNode:null,draggingNodeRect:null,droppableContainers:Ue,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Jo=Ue.getNodeFor((rt=qo.current.over)==null?void 0:rt.id),Go=_r({measure:Hr.dragOverlay.measure}),ko=(mt=Go.nodeRef.current)!=null?mt:Pr,Ho=gt?(un=Go.rect)!=null?un:co:null,Vo=Boolean(Go.nodeRef.current&&Go.rect),Ti=$t(Vo?null:co),dt=Mr(ko?Object(a.g)(ko):null),pt=Bt(gt?Jo!=null?Jo:Pr:null),Xt=dr(pt),Hn=rn(fr,{transform:{x:Ee.x-Ti.x,y:Ee.y-Ti.y,scaleX:1,scaleY:1},activatorEvent:In,active:Yt,activeNodeRect:co,containerNodeRect:Wo,draggingNodeRect:Ho,over:qo.current.over,overlayNodeRect:Go.rect,scrollableAncestors:pt,scrollableAncestorRects:Xt,windowRect:dt}),ir=Ur?Object(a.b)(Ur,Ee):null,It=Kt(pt),_t=Sn(It),Vt=Sn(It,[co]),Tn=Object(a.b)(Hn,_t),sr=Ho?K(Ho,Hn):null,qn=Yt&&sr?kn({active:Yt,collisionRect:sr,droppableRects:Br,droppableContainers:jr,pointerCoordinates:ir}):null,qr=_(qn,"id"),[Vr,Gr]=Object(e.useState)(null),$r=Vo?Hn:Object(a.b)(Hn,Vt),yr=w($r,(yn=Vr==null?void 0:Vr.rect)!=null?yn:null,co),Nr=Object(e.useCallback)((ne,ee)=>{let{sensor:ae,options:ve}=ee;if(Qt.current==null)return;const Re=fe.get(Qt.current);if(!Re)return;const $e=ne.nativeEvent,bt=new ae({active:Qt.current,activeNode:Re,event:$e,options:ve,context:qo,onStart(dn){const pn=Qt.current;if(pn==null)return;const jn=fe.get(pn);if(!jn)return;const{onDragStart:Nn}=Un.current,Xn={active:{id:pn,data:jn.data,rect:ct}};Object(e.unstable_batchedUpdates)(()=>{Nn==null||Nn(Xn),Pt(Jt.Initializing),br({type:r.DragStart,initialCoordinates:dn,active:pn}),et({type:"onDragStart",event:Xn})})},onMove(dn){br({type:r.DragMove,coordinates:dn})},onEnd:Ut(r.DragEnd),onCancel:Ut(r.DragCancel)});Object(e.unstable_batchedUpdates)(()=>{hn(bt),Fn(ne.nativeEvent)});function Ut(dn){return function(){return Zl(this,null,function*(){const{active:jn,collisions:Nn,over:Xn,scrollAdjustedTranslate:Lr}=qo.current;let Wr=null;if(jn&&Lr){const{cancelDrop:Kr}=Un.current;Wr={activatorEvent:$e,active:jn,collisions:Nn,delta:Lr,over:Xn},dn===r.DragEnd&&typeof Kr=="function"&&(yield Promise.resolve(Kr(Wr)))&&(dn=r.DragCancel)}Qt.current=null,Object(e.unstable_batchedUpdates)(()=>{br({type:dn}),Pt(Jt.Uninitialized),Gr(null),hn(null),Fn(null);const Kr=dn===r.DragEnd?"onDragEnd":"onDragCancel";if(Wr){const Zr=Un.current[Kr];Zr==null||Zr(Wr),et({type:Kr,event:Wr})}})})}}},[fe]),gr=Object(e.useCallback)((ne,ee)=>(ae,ve)=>{const Re=ae.nativeEvent,$e=fe.get(ve);if(Qt.current!==null||!$e||Re.dndKit||Re.defaultPrevented)return;const bt={active:$e};ne(ae,ee.options,bt)===!0&&(Re.dndKit={capturedBy:ee.sensor},Qt.current=ve,Nr(ae,ee))},[fe,Nr]),Xr=Qe(vn,gr);Qn(vn),Object(a.r)(()=>{co&&tt===Jt.Initializing&&Pt(Jt.Initialized)},[co,tt]),Object(e.useEffect)(()=>{const{onDragMove:ne}=Un.current,{active:ee,activatorEvent:ae,collisions:ve,over:Re}=qo.current;if(!ee||!ae)return;const $e={active:ee,activatorEvent:ae,collisions:ve,delta:{x:Tn.x,y:Tn.y},over:Re};Object(e.unstable_batchedUpdates)(()=>{ne==null||ne($e),et({type:"onDragMove",event:$e})})},[Tn.x,Tn.y]),Object(e.useEffect)(()=>{const{active:ne,activatorEvent:ee,collisions:ae,droppableContainers:ve,scrollAdjustedTranslate:Re}=qo.current;if(!ne||Qt.current==null||!ee||!Re)return;const{onDragOver:$e}=Un.current,bt=ve.get(qr),Ut=bt&&bt.rect.current?{id:bt.id,rect:bt.rect.current,data:bt.data,disabled:bt.disabled}:null,dn={active:ne,activatorEvent:ee,collisions:ae,delta:{x:Re.x,y:Re.y},over:Ut};Object(e.unstable_batchedUpdates)(()=>{Gr(Ut),$e==null||$e(dn),et({type:"onDragOver",event:dn})})},[qr]),Object(a.r)(()=>{qo.current={activatorEvent:In,active:Yt,activeNode:Pr,collisionRect:sr,collisions:qn,droppableRects:Br,draggableNodes:fe,draggingNode:ko,draggingNodeRect:Ho,droppableContainers:Ue,over:Vr,scrollableAncestors:pt,scrollAdjustedTranslate:Tn},ct.current={initial:Ho,translated:sr}},[Yt,Pr,qn,sr,fe,ko,Ho,Br,Ue,Vr,pt,Tn]),ht(_o(pr({},Cr),{delta:Ee,draggingRect:sr,pointerCoordinates:ir,scrollableAncestors:pt,scrollableAncestorRects:Xt}));const Dt=Object(e.useMemo)(()=>({active:Yt,activeNode:Pr,activeNodeRect:co,activatorEvent:In,collisions:qn,containerNodeRect:Wo,dragOverlay:Go,draggableNodes:fe,droppableContainers:Ue,droppableRects:Br,over:Vr,measureDroppableContainers:Jr,scrollableAncestors:pt,scrollableAncestorRects:Xt,measuringConfiguration:Hr,measuringScheduled:so,windowRect:dt}),[Yt,Pr,co,In,qn,Wo,Go,fe,Ue,Br,Vr,Jr,pt,Xt,Hr,so,dt]),N=Object(e.useMemo)(()=>({activatorEvent:In,activators:Xr,active:Yt,activeNodeRect:co,ariaDescribedById:{draggable:nr},dispatch:br,draggableNodes:fe,over:Vr,measureDroppableContainers:Jr}),[In,Xr,Yt,co,br,nr,fe,Vr,Jr]);return e.default.createElement(f.Provider,{value:Ge},e.default.createElement(kt.Provider,{value:N},e.default.createElement(Zt.Provider,{value:Dt},e.default.createElement(cr.Provider,{value:yr},Gt)),e.default.createElement(tr,{disabled:(Je==null?void 0:Je.restoreFocus)===!1})),e.default.createElement(s,_o(pr({},Je),{hiddenTextDescribedById:nr})));function L(){const ne=(En==null?void 0:En.autoScrollEnabled)===!1,ee=typeof St=="object"?St.enabled===!1:St===!1,ae=gt&&!ne&&!ee;return typeof St=="object"?_o(pr({},St),{enabled:ae}):{enabled:ae}}}),bn=Object(e.createContext)(null),zn="button",Rn="Droppable";function xn(ft){let{id:qe,data:rt,disabled:mt=!1,attributes:un}=ft;const yn=Object(a.w)(Rn),{activators:An,activatorEvent:Je,active:St,activeNodeRect:Gt,ariaDescribedById:vn,draggableNodes:kn,over:or}=Object(e.useContext)(kt),{role:fr=zn,roleDescription:er="draggable",tabIndex:Ln=0}=un!=null?un:{},ur=(St==null?void 0:St.id)===qe,br=Object(e.useContext)(ur?cr:bn),[et,Ge]=Object(a.u)(),[tt,Pt]=Object(a.u)(),gt=rr(An,qe),me=Object(a.s)(rt);Object(a.r)(()=>(kn.set(qe,{id:qe,key:yn,node:et,activatorNode:tt,data:me}),()=>{const Ee=kn.get(qe);Ee&&Ee.key===yn&&kn.delete(qe)}),[kn,qe]);const fe=Object(e.useMemo)(()=>({role:fr,tabIndex:Ln,"aria-disabled":mt,"aria-pressed":ur&&fr===zn?!0:void 0,"aria-roledescription":er,"aria-describedby":vn.draggable}),[mt,fr,Ln,ur,er,vn.draggable]);return{active:St,activatorEvent:Je,activeNodeRect:Gt,attributes:fe,isDragging:ur,listeners:mt?void 0:gt,node:et,over:or,setNodeRef:Ge,setActivatorNodeRef:Pt,transform:br}}function mr(){return Object(e.useContext)(Zt)}const Or="Droppable",Lt={timeout:25};function qt(ft){let{data:qe,disabled:rt=!1,id:mt,resizeObserverConfig:un}=ft;const yn=Object(a.w)(Or),{active:An,dispatch:Je,over:St,measureDroppableContainers:Gt}=Object(e.useContext)(kt),vn=Object(e.useRef)({disabled:rt}),kn=Object(e.useRef)(!1),or=Object(e.useRef)(null),fr=Object(e.useRef)(null),{disabled:er,updateMeasurementsFor:Ln,timeout:ur}=pr(pr({},Lt),un),br=Object(a.s)(Ln!=null?Ln:mt),et=Object(e.useCallback)(()=>{if(!kn.current){kn.current=!0;return}fr.current!=null&&clearTimeout(fr.current),fr.current=setTimeout(()=>{Gt(Array.isArray(br.current)?br.current:[br.current]),fr.current=null},ur)},[ur]),Ge=Rt({callback:et,disabled:er||!An}),tt=Object(e.useCallback)((fe,Ee)=>{!Ge||(Ee&&(Ge.unobserve(Ee),kn.current=!1),fe&&Ge.observe(fe))},[Ge]),[Pt,gt]=Object(a.u)(tt),me=Object(a.s)(qe);return Object(e.useEffect)(()=>{!Ge||!Pt.current||(Ge.disconnect(),kn.current=!1,Ge.observe(Pt.current))},[Pt,Ge]),Object(a.r)(()=>(Je({type:r.RegisterDroppable,element:{id:mt,key:yn,disabled:rt,node:Pt,rect:or,data:me}}),()=>Je({type:r.UnregisterDroppable,key:yn,id:mt})),[mt]),Object(e.useEffect)(()=>{rt!==vn.current.disabled&&(Je({type:r.SetDroppableDisabled,id:mt,key:yn,disabled:rt}),vn.current.disabled=rt)},[mt,yn,rt,Je]),{active:An,rect:or,isOver:(St==null?void 0:St.id)===mt,node:Pt,over:St,setNodeRef:gt}}function wn(ft){let{animation:qe,children:rt}=ft;const[mt,un]=Object(e.useState)(null),[yn,An]=Object(e.useState)(null),Je=Object(a.v)(rt);return!rt&&!mt&&Je&&un(Je),Object(a.r)(()=>{if(!yn)return;const St=mt==null?void 0:mt.key,Gt=mt==null?void 0:mt.props.id;if(St==null||Gt==null){un(null);return}Promise.resolve(qe(Gt,yn)).then(()=>{un(null)})},[qe,mt,yn]),e.default.createElement(e.default.Fragment,null,rt,mt?Object(e.cloneElement)(mt,{ref:An}):null)}const $n={x:0,y:0,scaleX:1,scaleY:1};function Wn(ft){let{children:qe}=ft;return e.default.createElement(kt.Provider,{value:Ot},e.default.createElement(cr.Provider,{value:$n},qe))}const Jn={position:"fixed",touchAction:"none"},Tr=ft=>Object(a.j)(ft)?"transform 250ms ease":void 0,Qr=Object(e.forwardRef)((ft,qe)=>{let{as:rt,activatorEvent:mt,adjustScale:un,children:yn,className:An,rect:Je,style:St,transform:Gt,transition:vn=Tr}=ft;if(!Je)return null;const kn=un?Gt:_o(pr({},Gt),{scaleX:1,scaleY:1}),or=pr(_o(pr({},Jn),{width:Je.width,height:Je.height,top:Je.top,left:Je.left,transform:a.a.Transform.toString(kn),transformOrigin:un&&mt?b(mt,Je):void 0,transition:typeof vn=="function"?vn(mt):vn}),St);return e.default.createElement(rt,{className:An,style:or,ref:qe},yn)}),ao=ft=>qe=>{let{active:rt,dragOverlay:mt}=qe;const un={},{styles:yn,className:An}=ft;if(yn!=null&&yn.active)for(const[Je,St]of Object.entries(yn.active))St!==void 0&&(un[Je]=rt.node.style.getPropertyValue(Je),rt.node.style.setProperty(Je,St));if(yn!=null&&yn.dragOverlay)for(const[Je,St]of Object.entries(yn.dragOverlay))St!==void 0&&mt.node.style.setProperty(Je,St);return An!=null&&An.active&&rt.node.classList.add(An.active),An!=null&&An.dragOverlay&&mt.node.classList.add(An.dragOverlay),function(){for(const[St,Gt]of Object.entries(un))rt.node.style.setProperty(St,Gt);An!=null&&An.active&&rt.node.classList.remove(An.active)}},eo={duration:250,easing:"ease",keyframes:ft=>{let{transform:{initial:qe,final:rt}}=ft;return[{transform:a.a.Transform.toString(qe)},{transform:a.a.Transform.toString(rt)}]},sideEffects:ao({styles:{active:{opacity:"0"}}})};function bo(ft){let{config:qe,draggableNodes:rt,droppableContainers:mt,measuringConfiguration:un}=ft;return Object(a.p)((yn,An)=>{if(qe===null)return;const Je=rt.get(yn);if(!Je)return;const St=Je.node.current;if(!St)return;const Gt=Rr(An);if(!Gt)return;const{transform:vn}=Object(a.g)(An).getComputedStyle(An),kn=Y(vn);if(!kn)return;const or=typeof qe=="function"?qe:zo(qe);return We(St,un.draggable.measure),or({active:{id:yn,data:Je.data,node:St,rect:un.draggable.measure(St)},draggableNodes:rt,dragOverlay:{node:An,rect:un.dragOverlay.measure(Gt)},droppableContainers:mt,measuringConfiguration:un,transform:kn})})}function zo(ft){const{duration:qe,easing:rt,sideEffects:mt,keyframes:un}=pr(pr({},eo),ft);return yn=>{let et=yn,{active:An,dragOverlay:Je,transform:St}=et,Gt=Ji(et,["active","dragOverlay","transform"]);if(!qe)return;const vn={x:Je.rect.left-An.rect.left,y:Je.rect.top-An.rect.top},kn={scaleX:St.scaleX!==1?An.rect.width*St.scaleX/Je.rect.width:1,scaleY:St.scaleY!==1?An.rect.height*St.scaleY/Je.rect.height:1},or=pr({x:St.x-vn.x,y:St.y-vn.y},kn),fr=un(_o(pr({},Gt),{active:An,dragOverlay:Je,transform:{initial:St,final:or}})),[er]=fr,Ln=fr[fr.length-1];if(JSON.stringify(er)===JSON.stringify(Ln))return;const ur=mt==null?void 0:mt(pr({active:An,dragOverlay:Je},Gt)),br=Je.node.animate(fr,{duration:qe,easing:rt,fill:"forwards"});return new Promise(Ge=>{br.onfinish=()=>{ur==null||ur(),Ge()}})}}let Eo=0;function Co(ft){return Object(e.useMemo)(()=>{if(ft!=null)return Eo++,Eo},[ft])}const Mo=e.default.memo(ft=>{let{adjustScale:qe=!1,children:rt,dropAnimation:mt,style:un,transition:yn,modifiers:An,wrapperElement:Je="div",className:St,zIndex:Gt=999}=ft;const{activatorEvent:vn,active:kn,activeNodeRect:or,containerNodeRect:fr,draggableNodes:er,droppableContainers:Ln,dragOverlay:ur,over:br,measuringConfiguration:et,scrollableAncestors:Ge,scrollableAncestorRects:tt,windowRect:Pt}=mr(),gt=Object(e.useContext)(cr),me=Co(kn==null?void 0:kn.id),fe=rn(An,{activatorEvent:vn,active:kn,activeNodeRect:or,containerNodeRect:fr,draggingNodeRect:ur.rect,over:br,overlayNodeRect:ur.rect,scrollableAncestors:Ge,scrollableAncestorRects:tt,transform:gt,windowRect:Pt}),Ee=Pn(or),Ue=bo({config:mt,draggableNodes:er,droppableContainers:Ln,measuringConfiguration:et}),Ye=Ee?ur.setRef:void 0;return e.default.createElement(Wn,null,e.default.createElement(wn,{animation:Ue},kn&&me?e.default.createElement(Qr,{key:me,id:kn.id,ref:Ye,as:Je,activatorEvent:vn,adjustScale:qe,className:St,transition:yn,rect:Ee,style:pr({zIndex:Gt},un),transform:fe},rt):null))})},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(443),o=t(13),l=Object.defineProperty,d=Object.defineProperties,c=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,p=(r,i,h)=>i in r?l(r,i,{enumerable:!0,configurable:!0,writable:!0,value:h}):r[i]=h,g=(r,i)=>{for(var h in i||(i={}))f.call(i,h)&&p(r,h,i[h]);if(u)for(var h of u(i))m.call(i,h)&&p(r,h,i[h]);return r},O=(r,i)=>d(r,c(i));const s=r=>Object(e.h)(o.a,O(g({},r),{name:"LucideComments",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),Object(e.h)(a.a,{height:24,stroke:r.stroke,fill:r.fill,strokeWidth:r.strokeWidth}));n.default=s},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("X",[["line",{x1:"18",x2:"6",y1:"6",y2:"18",key:"15jfxm"}],["line",{x1:"6",x2:"18",y1:"6",y2:"18",key:"d1lma3"}]])},function(k,n,t){var e=t(108),a=e.Symbol;k.exports=a},function(k,n){var t=k.exports={},e,a;function o(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=o}catch(i){e=o}try{typeof clearTimeout=="function"?a=clearTimeout:a=l}catch(i){a=l}})();function d(i){if(e===setTimeout)return setTimeout(i,0);if((e===o||!e)&&setTimeout)return e=setTimeout,setTimeout(i,0);try{return e(i,0)}catch(h){try{return e.call(null,i,0)}catch(v){return e.call(this,i,0)}}}function c(i){if(a===clearTimeout)return clearTimeout(i);if((a===l||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(i);try{return a(i)}catch(h){try{return a.call(null,i)}catch(v){return a.call(this,i)}}}var u=[],f=!1,m,p=-1;function g(){!f||!m||(f=!1,m.length?u=m.concat(u):p=-1,u.length&&O())}function O(){if(!f){var i=d(g);f=!0;for(var h=u.length;h;){for(m=u,u=[];++p<h;)m&&m[p].run();p=-1,h=u.length}m=null,f=!1,c(i)}}t.nextTick=function(i){var h=new Array(arguments.length-1);if(arguments.length>1)for(var v=1;v<arguments.length;v++)h[v-1]=arguments[v];u.push(new s(i,h)),u.length===1&&!f&&d(O)};function s(i,h){this.fun=i,this.array=h}s.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function r(){}t.on=r,t.addListener=r,t.once=r,t.off=r,t.removeListener=r,t.removeAllListeners=r,t.emit=r,t.prependListener=r,t.prependOnceListener=r,t.listeners=function(i){return[]},t.binding=function(i){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(i){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},function(k,n,t){"use strict";var e=t(227);function a(){for(var o=arguments.length,l=new Array(o),d=0;d<o;d++)l[d]=arguments[d];return Object(e.a)(l)}n.a=a},function(k,n,t){"use strict";t.d(n,"a",function(){return l});var e=t(0),a=t(10),o=t.n(a);function l({array:d,limit:c,formatter:u=g=>g,restWord:f="other",showRestCount:m=!0,pluralizeRest:p=!0}){const g=d.map(u).filter(Boolean).slice(0,c);if(g.length===0)return Object(a.pluralize)(d.length,"people");const O=d.length-g.length;return O>0&&g.push(`${m?O:""} ${f}${O>1&&p?"s":""}`),g.length===1?g[0]:g.length===2?Object(e.h)(e.Fragment,null,g[0]," and ",g[1]):Object(e.h)(e.Fragment,null,g.slice(0,-1).map(s=>Object(e.h)(e.Fragment,null,s,", "))," ","and ",g[g.length-1])}},function(k,n,t){var e=t(942),a=t(229);function o(l){return l&&l.length?e(l,a):0}k.exports=o},function(k,n,t){var e=t(340);function a(o,l){return e(o,l)}k.exports=a},function(k,n,t){"use strict";(function(e){t.d(n,"a",function(){return Ud}),t.d(n,"b",function(){return Fd}),t.d(n,"c",function(){return kd}),t.d(n,"d",function(){return Wd}),t.d(n,"e",function(){return Vd}),t.d(n,"f",function(){return $d}),t.d(n,"g",function(){return Hd}),t.d(n,"h",function(){return Kd});var a=t(3);function o(Fe){const Ke=new Error(Fe);if(Ke.stack===void 0)try{throw Ke}catch(st){}return Ke}var l=o,d=l;function c(Fe){return!!Fe&&typeof Fe.then=="function"}var u=c;function f(Fe,Ke){if(Fe!=null)return Fe;throw d(Ke!=null?Ke:"Got unexpected null or undefined")}var m=f;function p(Fe,Ke,st){return Ke in Fe?Object.defineProperty(Fe,Ke,{value:st,enumerable:!0,configurable:!0,writable:!0}):Fe[Ke]=st,Fe}class g{getValue(){throw d("BaseLoadable")}toPromise(){throw d("BaseLoadable")}valueMaybe(){throw d("BaseLoadable")}valueOrThrow(){throw d(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw d("BaseLoadable")}promiseOrThrow(){throw d(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw d("BaseLoadable")}errorOrThrow(){throw d(`Loadable expected error, but in "${this.state}" state`)}is(Ke){return Ke.state===this.state&&Ke.contents===this.contents}map(Ke){throw d("BaseLoadable")}}class O extends g{constructor(Ke){super();p(this,"state","hasValue"),p(this,"contents",void 0),this.contents=Ke}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(Ke){try{const st=Ke(this.contents);return u(st)?v(st):E(st)?st:i(st)}catch(st){return u(st)?v(st.next(()=>this.map(Ke))):h(st)}}}class s extends g{constructor(Ke){super();p(this,"state","hasError"),p(this,"contents",void 0),this.contents=Ke}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(Ke){return this}}class r extends g{constructor(Ke){super();p(this,"state","loading"),p(this,"contents",void 0),this.contents=Ke}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(Ke){return v(this.contents.then(st=>{const xt=Ke(st);if(E(xt)){const en=xt;switch(en.state){case"hasValue":return en.contents;case"hasError":throw en.contents;case"loading":return en.contents}}return xt}).catch(st=>{if(u(st))return st.then(()=>this.map(Ke).contents);throw st}))}}function i(Fe){return Object.freeze(new O(Fe))}function h(Fe){return Object.freeze(new s(Fe))}function v(Fe){return Object.freeze(new r(Fe))}function j(){return Object.freeze(new r(new Promise(()=>{})))}function y(Fe){return Fe.every(Ke=>Ke.state==="hasValue")?i(Fe.map(Ke=>Ke.contents)):Fe.some(Ke=>Ke.state==="hasError")?h(m(Fe.find(Ke=>Ke.state==="hasError"),"Invalid loadable passed to loadableAll").contents):v(Promise.all(Fe.map(Ke=>Ke.contents)))}function b(Fe){const st=(Array.isArray(Fe)?Fe:Object.getOwnPropertyNames(Fe).map(en=>Fe[en])).map(en=>E(en)?en:u(en)?v(en):i(en)),xt=y(st);return Array.isArray(Fe)?xt:xt.map(en=>Object.getOwnPropertyNames(Fe).reduce((Kn,ar,Dr)=>_o(pr({},Kn),{[ar]:en[Dr]}),{}))}function E(Fe){return Fe instanceof g}var A={loadableWithValue:i,loadableWithError:h,loadableWithPromise:v,loadableLoading:j,loadableAll:b,isLoadable:E,RecoilLoadable:{of:Fe=>u(Fe)?v(Fe):E(Fe)?Fe:i(Fe),error:Fe=>h(Fe),loading:()=>j(),all:b,isLoadable:E}},_=A.loadableWithValue,M=A.loadableWithError,F=A.loadableWithPromise,H=A.loadableLoading,C=A.loadableAll,T=A.isLoadable,S=A.RecoilLoadable,D=Object.freeze({__proto__:null,loadableWithValue:_,loadableWithError:M,loadableWithPromise:F,loadableLoading:H,loadableAll:C,isLoadable:T,RecoilLoadable:S});const w=new Map().set("recoil_hamt_2020",!0).set("recoil_sync_external_store",!0).set("recoil_suppress_rerender_in_callback",!0).set("recoil_memory_managament_2020",!0);function U(Fe){var Ke;return(Ke=w.get(Fe))!==null&&Ke!==void 0?Ke:!1}U.setPass=Fe=>{w.set(Fe,!0)},U.setFail=Fe=>{w.set(Fe,!1)},U.clear=()=>{w.clear()};var V=U;function K(Fe,Ke,{error:st}={}){return null}var Y=K,W=Y,R,B,x;const G=(R=a.default.createMutableSource)!==null&&R!==void 0?R:a.default.unstable_createMutableSource,Q=(B=a.default.useMutableSource)!==null&&B!==void 0?B:a.default.unstable_useMutableSource,he=(x=a.default.useSyncExternalStore)!==null&&x!==void 0?x:a.default.unstable_useSyncExternalStore;let Z=!1;function le(){var Fe;const{ReactCurrentDispatcher:Ke,ReactCurrentOwner:st}=a.default.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,en=((Fe=Ke==null?void 0:Ke.current)!==null&&Fe!==void 0?Fe:st.currentDispatcher).useSyncExternalStore!=null;return he&&!en&&!Z&&(Z=!0,W("A React renderer without React 18+ API support is being used with React 18+.")),en}function de(){return V("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:V("recoil_sync_external_store")&&he!=null?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:V("recoil_mutable_source")&&Q!=null&&typeof window!="undefined"&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?V("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:V("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}function be(){return!1}var X={createMutableSource:G,useMutableSource:Q,useSyncExternalStore:he,currentRendererSupportsUseSyncExternalStore:le,reactMode:de,isFastRefreshEnabled:be};const ie={RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED:!0};function Ce(){var Fe,Ke,st;if(typeof e=="undefined"||((Fe=e)===null||Fe===void 0?void 0:Fe.env)==null)return;const xt=(Ke=e.env.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED)===null||Ke===void 0||(st=Ke.toLowerCase())===null||st===void 0?void 0:st.trim();if(xt==null||xt==="")return;if(!["true","false"].includes(xt))throw d(`process.env.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED value must be 'true', 'false', or empty: ${xt}`);ie.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=xt==="true"}Ce();var Le=ie;class Ae{constructor(Ke){p(this,"key",void 0),this.key=Ke}toJSON(){return{key:this.key}}}class Pe extends Ae{}class Ne extends Ae{}function ce(Fe){return Fe instanceof Pe||Fe instanceof Ne}var q={AbstractRecoilValue:Ae,RecoilState:Pe,RecoilValueReadOnly:Ne,isRecoilValue:ce},te=q.AbstractRecoilValue,ue=q.RecoilState,We=q.RecoilValueReadOnly,ot=q.isRecoilValue,ze=Object.freeze({__proto__:null,AbstractRecoilValue:te,RecoilState:ue,RecoilValueReadOnly:We,isRecoilValue:ot});function vt(Fe,...Ke){let st=0;return Fe.replace(/%s/g,()=>String(Ke[st++]))}var Wt=vt;function zt(Fe,...Ke){}var at=zt,Me=at;function Be(Fe,Ke){return function*(){let st=0;for(const xt of Fe)yield Ke(xt,st++)}()}var Xe=Be;const{isFastRefreshEnabled:Te}=X;class we{}const De=new we,Ie=new Map,He=new Map;function Ve(Fe){return Xe(Fe,Ke=>m(He.get(Ke)))}function z(Fe){if(Ie.has(Fe)){const Ke=`Duplicate atom key "${Fe}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(Ke)}}function se(Fe){Le.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED&&z(Fe.key),Ie.set(Fe.key,Fe);const Ke=Fe.set==null?new ze.RecoilValueReadOnly(Fe.key):new ze.RecoilState(Fe.key);return He.set(Fe.key,Ke),Ke}class Se extends Error{}function Oe(Fe){const Ke=Ie.get(Fe);if(Ke==null)throw new Se(`Missing definition for RecoilValue: "${Fe}""`);return Ke}function ge(Fe){return Ie.get(Fe)}const je=new Map;function it(Fe){var Ke;if(!V("recoil_memory_managament_2020"))return;const st=Ie.get(Fe);if(st!=null&&(Ke=st.shouldDeleteConfigOnRelease)!==null&&Ke!==void 0&&Ke.call(st)){var xt;Ie.delete(Fe),(xt=sn(Fe))===null||xt===void 0||xt(),je.delete(Fe)}}function Tt(Fe,Ke){!V("recoil_memory_managament_2020")||(Ke===void 0?je.delete(Fe):je.set(Fe,Ke))}function sn(Fe){return je.get(Fe)}var ht={nodes:Ie,recoilValues:He,registerNode:se,getNode:Oe,getNodeMaybe:ge,deleteNodeConfigIfPossible:it,setConfigDeletionHandler:Tt,getConfigDeletionHandler:sn,recoilValuesForKeys:Ve,NodeMissingError:Se,DefaultValue:we,DEFAULT_VALUE:De};function Nt(Fe,Ke){Ke()}var wt={enqueueExecution:Nt};function yt(Fe,Ke){return Ke={exports:{}},Fe(Ke,Ke.exports),Ke.exports}var Qe=yt(function(Fe){var Ke=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(vr){return typeof vr}:function(vr){return vr&&typeof Symbol=="function"&&vr.constructor===Symbol&&vr!==Symbol.prototype?"symbol":typeof vr},st={},xt=5,en=Math.pow(2,xt),Kn=en-1,ar=en/2,Dr=en/4,wr={},Fr=function(hr){return function(){return hr}},po=st.hash=function(vr){var hr=typeof vr=="undefined"?"undefined":Ke(vr);if(hr==="number")return vr;hr!=="string"&&(vr+="");for(var fo=0,To=0,wo=vr.length;To<wo;++To){var Uo=vr.charCodeAt(To);fo=(fo<<5)-fo+Uo|0}return fo},So=function(hr){return hr-=hr>>1&1431655765,hr=(hr&858993459)+(hr>>2&858993459),hr=hr+(hr>>4)&252645135,hr+=hr>>8,hr+=hr>>16,hr&127},ri=function(hr,fo){return fo>>>hr&Kn},ci=function(hr){return 1<<hr},Lo=function(hr,fo){return So(hr&fo-1)},ni=function(hr,fo,To,wo){var Uo=wo;if(!hr){var ai=wo.length;Uo=new Array(ai);for(var oi=0;oi<ai;++oi)Uo[oi]=wo[oi]}return Uo[fo]=To,Uo},Hi=function(hr,fo,To){var wo=To.length-1,Uo=0,ai=0,oi=To;if(hr)Uo=ai=fo;else for(oi=new Array(wo);Uo<fo;)oi[ai++]=To[Uo++];for(++Uo;Uo<=wo;)oi[ai++]=To[Uo++];return hr&&(oi.length=wo),oi},ta=function(hr,fo,To,wo){var Uo=wo.length;if(hr){for(var ai=Uo;ai>=fo;)wo[ai--]=wo[ai];return wo[fo]=To,wo}for(var oi=0,ii=0,bi=new Array(Uo+1);oi<fo;)bi[ii++]=wo[oi++];for(bi[fo]=To;oi<Uo;)bi[++ii]=wo[oi++];return bi},ei=1,Pi=2,Ki=3,Ri=4,Bi={__hamt_isEmpty:!0},$i=function(hr){return hr===Bi||hr&&hr.__hamt_isEmpty},ya=function(hr,fo,To,wo){return{type:ei,edit:hr,hash:fo,key:To,value:wo,_modify:Yl}},Os=function(hr,fo,To){return{type:Pi,edit:hr,hash:fo,children:To,_modify:Jl}},_i=function(hr,fo,To){return{type:Ki,edit:hr,mask:fo,children:To,_modify:Si}},ma=function(hr,fo,To){return{type:Ri,edit:hr,size:fo,children:To,_modify:Mi}},cl=function(hr){return hr===Bi||hr.type===ei||hr.type===Pi},aa=function(hr,fo,To,wo,Uo){for(var ai=[],oi=wo,ii=0,bi=0;oi;++bi)oi&1&&(ai[bi]=Uo[ii++]),oi>>>=1;return ai[fo]=To,ma(hr,ii+1,ai)},wa=function(hr,fo,To,wo){for(var Uo=new Array(fo-1),ai=0,oi=0,ii=0,bi=wo.length;ii<bi;++ii)if(ii!==To){var Fi=wo[ii];Fi&&!$i(Fi)&&(Uo[ai++]=Fi,oi|=1<<ii)}return _i(hr,oi,Uo)},zl=function vr(hr,fo,To,wo,Uo,ai){if(To===Uo)return Os(hr,To,[ai,wo]);var oi=ri(fo,To),ii=ri(fo,Uo);return _i(hr,ci(oi)|ci(ii),oi===ii?[vr(hr,fo+xt,To,wo,Uo,ai)]:oi<ii?[wo,ai]:[ai,wo])},Gl=function(hr,fo,To,wo,Uo,ai,oi,ii){for(var bi=Uo.length,Fi=0;Fi<bi;++Fi){var Ea=Uo[Fi];if(To(oi,Ea.key)){var na=Ea.value,xa=ai(na);return xa===na?Uo:xa===wr?(--ii.value,Hi(hr,Fi,Uo)):ni(hr,Fi,ya(fo,wo,oi,xa),Uo)}}var Wa=ai();return Wa===wr?Uo:(++ii.value,ni(hr,bi,ya(fo,wo,oi,Wa),Uo))},ys=function(hr,fo){return hr===fo.edit},Yl=function(hr,fo,To,wo,Uo,ai,oi){if(fo(ai,this.key)){var ii=wo(this.value);return ii===this.value?this:ii===wr?(--oi.value,Bi):ys(hr,this)?(this.value=ii,this):ya(hr,Uo,ai,ii)}var bi=wo();return bi===wr?this:(++oi.value,zl(hr,To,this.hash,this,Uo,ya(hr,Uo,ai,bi)))},Jl=function(hr,fo,To,wo,Uo,ai,oi){if(Uo===this.hash){var ii=ys(hr,this),bi=Gl(ii,hr,fo,this.hash,this.children,wo,ai,oi);return bi===this.children?this:bi.length>1?Os(hr,this.hash,bi):bi[0]}var Fi=wo();return Fi===wr?this:(++oi.value,zl(hr,To,this.hash,this,Uo,ya(hr,Uo,ai,Fi)))},Si=function(hr,fo,To,wo,Uo,ai,oi){var ii=this.mask,bi=this.children,Fi=ri(To,Uo),Ea=ci(Fi),na=Lo(ii,Ea),xa=ii&Ea,Wa=xa?bi[na]:Bi,Xl=Wa._modify(hr,fo,To+xt,wo,Uo,ai,oi);if(Wa===Xl)return this;var iu=ys(hr,this),zc=ii,Gc=void 0;if(xa&&$i(Xl)){if(zc&=~Ea,!zc)return Bi;if(bi.length<=2&&cl(bi[na^1]))return bi[na^1];Gc=Hi(iu,na,bi)}else if(!xa&&!$i(Xl)){if(bi.length>=ar)return aa(hr,Fi,Xl,ii,bi);zc|=Ea,Gc=ta(iu,na,Xl,bi)}else Gc=ni(iu,na,Xl,bi);return iu?(this.mask=zc,this.children=Gc,this):_i(hr,zc,Gc)},Mi=function(hr,fo,To,wo,Uo,ai,oi){var ii=this.size,bi=this.children,Fi=ri(To,Uo),Ea=bi[Fi],na=(Ea||Bi)._modify(hr,fo,To+xt,wo,Uo,ai,oi);if(Ea===na)return this;var xa=ys(hr,this),Wa=void 0;if($i(Ea)&&!$i(na))++ii,Wa=ni(xa,Fi,na,bi);else if(!$i(Ea)&&$i(na)){if(--ii,ii<=Dr)return wa(hr,ii,Fi,bi);Wa=ni(xa,Fi,Bi,bi)}else Wa=ni(xa,Fi,na,bi);return xa?(this.size=ii,this.children=Wa,this):ma(hr,ii,Wa)};Bi._modify=function(vr,hr,fo,To,wo,Uo,ai){var oi=To();return oi===wr?Bi:(++ai.value,ya(vr,wo,Uo,oi))};function Ir(vr,hr,fo,To,wo){this._editable=vr,this._edit=hr,this._config=fo,this._root=To,this._size=wo}Ir.prototype.setTree=function(vr,hr){return this._editable?(this._root=vr,this._size=hr,this):vr===this._root?this:new Ir(this._editable,this._edit,this._config,vr,hr)};var jo=st.tryGetHash=function(vr,hr,fo,To){for(var wo=To._root,Uo=0,ai=To._config.keyEq;;)switch(wo.type){case ei:return ai(fo,wo.key)?wo.value:vr;case Pi:{if(hr===wo.hash)for(var oi=wo.children,ii=0,bi=oi.length;ii<bi;++ii){var Fi=oi[ii];if(ai(fo,Fi.key))return Fi.value}return vr}case Ki:{var Ea=ri(Uo,hr),na=ci(Ea);if(wo.mask&na){wo=wo.children[Lo(wo.mask,na)],Uo+=xt;break}return vr}case Ri:{if(wo=wo.children[ri(Uo,hr)],wo){Uo+=xt;break}return vr}default:return vr}};Ir.prototype.tryGetHash=function(vr,hr,fo){return jo(vr,hr,fo,this)};var Do=st.tryGet=function(vr,hr,fo){return jo(vr,fo._config.hash(hr),hr,fo)};Ir.prototype.tryGet=function(vr,hr){return Do(vr,hr,this)};var ui=st.getHash=function(vr,hr,fo){return jo(void 0,vr,hr,fo)};Ir.prototype.getHash=function(vr,hr){return ui(vr,hr,this)};var $o=st.get=function(vr,hr){return jo(void 0,hr._config.hash(vr),vr,hr)};Ir.prototype.get=function(vr,hr){return Do(hr,vr,this)};var vi=st.has=function(vr,hr,fo){return jo(wr,vr,hr,fo)!==wr};Ir.prototype.hasHash=function(vr,hr){return vi(vr,hr,this)};var Oi=st.has=function(vr,hr){return vi(hr._config.hash(vr),vr,hr)};Ir.prototype.has=function(vr){return Oi(vr,this)};var Zo=function(hr,fo){return hr===fo};st.make=function(vr){return new Ir(0,0,{keyEq:vr&&vr.keyEq||Zo,hash:vr&&vr.hash||po},Bi,0)},st.empty=st.make();var Yi=st.isEmpty=function(vr){return vr&&!!$i(vr._root)};Ir.prototype.isEmpty=function(){return Yi(this)};var zi=st.modifyHash=function(vr,hr,fo,To){var wo={value:To._size},Uo=To._root._modify(To._editable?To._edit:NaN,To._config.keyEq,0,vr,hr,fo,wo);return To.setTree(Uo,wo.value)};Ir.prototype.modifyHash=function(vr,hr,fo){return zi(fo,vr,hr,this)};var Ni=st.modify=function(vr,hr,fo){return zi(vr,fo._config.hash(hr),hr,fo)};Ir.prototype.modify=function(vr,hr){return Ni(hr,vr,this)};var Ui=st.setHash=function(vr,hr,fo,To){return zi(Fr(fo),vr,hr,To)};Ir.prototype.setHash=function(vr,hr,fo){return Ui(vr,hr,fo,this)};var Na=st.set=function(vr,hr,fo){return Ui(fo._config.hash(vr),vr,hr,fo)};Ir.prototype.set=function(vr,hr){return Na(vr,hr,this)};var Ql=Fr(wr),ga=st.removeHash=function(vr,hr,fo){return zi(Ql,vr,hr,fo)};Ir.prototype.removeHash=Ir.prototype.deleteHash=function(vr,hr){return ga(vr,hr,this)};var La=st.remove=function(vr,hr){return ga(hr._config.hash(vr),vr,hr)};Ir.prototype.remove=Ir.prototype.delete=function(vr){return La(vr,this)};var Du=st.beginMutation=function(vr){return new Ir(vr._editable+1,vr._edit+1,vr._config,vr._root,vr._size)};Ir.prototype.beginMutation=function(){return Du(this)};var Tu=st.endMutation=function(vr){return vr._editable=vr._editable&&vr._editable-1,vr};Ir.prototype.endMutation=function(){return Tu(this)};var zd=st.mutate=function(vr,hr){var fo=Du(hr);return vr(fo),Tu(fo)};Ir.prototype.mutate=function(vr){return zd(vr,this)};var pu=function(hr){return hr&&wu(hr[0],hr[1],hr[2],hr[3],hr[4])},wu=function(hr,fo,To,wo,Uo){for(;To<hr;){var ai=fo[To++];if(ai&&!$i(ai))return Au(ai,wo,[hr,fo,To,wo,Uo])}return pu(Uo)},Au=function(hr,fo,To){switch(hr.type){case ei:return{value:fo(hr),rest:To};case Pi:case Ri:case Ki:var wo=hr.children;return wu(wo.length,wo,0,fo,To);default:return pu(To)}},Gd={done:!0};function mu(vr){this.v=vr}mu.prototype.next=function(){if(!this.v)return Gd;var vr=this.v;return this.v=pu(vr.rest),vr},mu.prototype[Symbol.iterator]=function(){return this};var gu=function(hr,fo){return new mu(Au(hr._root,fo))},Yd=function(hr){return[hr.key,hr.value]},Jd=st.entries=function(vr){return gu(vr,Yd)};Ir.prototype.entries=Ir.prototype[Symbol.iterator]=function(){return Jd(this)};var Qd=function(hr){return hr.key},Xd=st.keys=function(vr){return gu(vr,Qd)};Ir.prototype.keys=function(){return Xd(this)};var Zd=function(hr){return hr.value},qd=st.values=Ir.prototype.values=function(vr){return gu(vr,Zd)};Ir.prototype.values=function(){return qd(this)};var Mu=st.fold=function(vr,hr,fo){var To=fo._root;if(To.type===ei)return vr(hr,To.value,To.key);for(var wo=[To.children],Uo=void 0;Uo=wo.pop();)for(var ai=0,oi=Uo.length;ai<oi;){var ii=Uo[ai++];ii&&ii.type&&(ii.type===ei?hr=vr(hr,ii.value,ii.key):wo.push(ii.children))}return hr};Ir.prototype.fold=function(vr,hr){return Mu(vr,hr,this)};var ef=st.forEach=function(vr,hr){return Mu(function(fo,To,wo){return vr(To,wo,hr)},null,hr)};Ir.prototype.forEach=function(vr){return ef(vr,this)};var tf=st.count=function(vr){return vr._size};Ir.prototype.count=function(){return tf(this)},Object.defineProperty(Ir.prototype,"size",{get:Ir.prototype.count}),Fe.exports?Fe.exports=st:(void 0).hamt=st});class At{constructor(Ke){p(this,"_map",void 0),this._map=new Map(Ke==null?void 0:Ke.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(Ke){return this._map.get(Ke)}has(Ke){return this._map.has(Ke)}set(Ke,st){return this._map.set(Ke,st),this}delete(Ke){return this._map.delete(Ke),this}clone(){return ke(this)}toMap(){return new Map(this._map)}}class jt{constructor(Ke){if(p(this,"_hamt",Qe.empty.beginMutation()),Ke instanceof jt){const st=Ke._hamt.endMutation();Ke._hamt=st.beginMutation(),this._hamt=st.beginMutation()}else if(Ke)for(const[st,xt]of Ke.entries())this._hamt.set(st,xt)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(Ke){return this._hamt.get(Ke)}has(Ke){return this._hamt.has(Ke)}set(Ke,st){return this._hamt.set(Ke,st),this}delete(Ke){return this._hamt.delete(Ke),this}clone(){return ke(this)}toMap(){return new Map(this._hamt)}}function ke(Fe){return V("recoil_hamt_2020")?new jt(Fe):new At(Fe)}var tn={persistentMap:ke},Pn=tn.persistentMap,Ft=Object.freeze({__proto__:null,persistentMap:Pn});function lt(Fe,...Ke){const st=new Set;e:for(const xt of Fe){for(const en of Ke)if(en.has(xt))continue e;st.add(xt)}return st}var Rt=lt;function ln(Fe,Ke){const st=new Map;return Fe.forEach((xt,en)=>{st.set(en,Ke(xt,en))}),st}var Mt=ln;function $t(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function nn(Fe){return{nodeDeps:Mt(Fe.nodeDeps,Ke=>new Set(Ke)),nodeToNodeSubscriptions:Mt(Fe.nodeToNodeSubscriptions,Ke=>new Set(Ke))}}function Bt(Fe,Ke,st,xt){const{nodeDeps:en,nodeToNodeSubscriptions:Kn}=st,ar=en.get(Fe);if(ar&&xt&&ar!==xt.nodeDeps.get(Fe))return;en.set(Fe,Ke);const Dr=ar==null?Ke:Rt(Ke,ar);for(const wr of Dr)Kn.has(wr)||Kn.set(wr,new Set),m(Kn.get(wr)).add(Fe);if(ar){const wr=Rt(ar,Ke);for(const Fr of wr){if(!Kn.has(Fr))return;const po=m(Kn.get(Fr));po.delete(Fe),po.size===0&&Kn.delete(Fr)}}}function Kt(Fe,Ke,st,xt){var en,Kn,ar,Dr;const wr=st.getState();xt===wr.currentTree.version||xt===((en=wr.nextTree)===null||en===void 0?void 0:en.version)||xt===((Kn=wr.previousTree)===null||Kn===void 0?void 0:Kn.version)||W("Tried to save dependencies to a discarded tree");const Fr=st.getGraph(xt);if(Bt(Fe,Ke,Fr),xt===((ar=wr.previousTree)===null||ar===void 0?void 0:ar.version)){const So=st.getGraph(wr.currentTree.version);Bt(Fe,Ke,So,Fr)}if(xt===((Dr=wr.previousTree)===null||Dr===void 0?void 0:Dr.version)||xt===wr.currentTree.version){var po;const So=(po=wr.nextTree)===null||po===void 0?void 0:po.version;if(So!==void 0){const ri=st.getGraph(So);Bt(Fe,Ke,ri,Fr)}}}var Sn={cloneGraph:nn,graph:$t,saveDepsToStore:Kt};let Qn=0;const rr=()=>Qn++;let Mr=0;const zr=()=>Mr++;let dr=0;var _r={getNextTreeStateVersion:rr,getNextStoreID:zr,getNextComponentID:()=>dr++};const{persistentMap:ro}=Ft,{graph:Dn}=Sn,{getNextTreeStateVersion:ut}=_r;function fn(){const Fe=ut();return{version:Fe,stateID:Fe,transactionMetadata:{},dirtyAtoms:new Set,atomValues:ro(),nonvalidatedAtoms:ro()}}function On(){const Fe=fn();return{currentTree:Fe,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(Fe.version,Dn()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var Ot={makeEmptyTreeState:fn,makeEmptyStoreState:On,getNextTreeStateVersion:ut};class kt{}function Zt(){return new kt}var Vn={RetentionZone:kt,retentionZone:Zt};function Gn(Fe,Ke){const st=new Set(Fe);return st.add(Ke),st}function tr(Fe,Ke){const st=new Set(Fe);return st.delete(Ke),st}function rn(Fe,Ke,st){const xt=new Map(Fe);return xt.set(Ke,st),xt}function _n(Fe,Ke,st){const xt=new Map(Fe);return xt.set(Ke,st(xt.get(Ke))),xt}function Yn(Fe,Ke){const st=new Map(Fe);return st.delete(Ke),st}function cr(Fe,Ke){const st=new Map(Fe);return Ke.forEach(xt=>st.delete(xt)),st}var Jt={setByAddingToSet:Gn,setByDeletingFromSet:tr,mapBySettingInMap:rn,mapByUpdatingInMap:_n,mapByDeletingFromMap:Yn,mapByDeletingMultipleFromMap:cr};function*cn(Fe,Ke){let st=0;for(const xt of Fe)Ke(xt,st++)&&(yield xt)}var bn=cn;function zn(Fe,Ke){return new Proxy(Fe,{get:(xt,en)=>(!(en in xt)&&en in Ke&&(xt[en]=Ke[en]()),xt[en]),ownKeys:xt=>Object.keys(xt)})}var Rn=zn;const{getNode:xn,getNodeMaybe:mr,recoilValuesForKeys:Or}=ht,{RetentionZone:Lt}=Vn,{setByAddingToSet:qt}=Jt,wn=Object.freeze(new Set);class $n extends Error{}function Wn(Fe,Ke,st){if(!V("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:xt}=Fe.getState().retention;function en(Kn){let ar=xt.get(Kn);ar||xt.set(Kn,ar=new Set),ar.add(Ke)}if(st instanceof Lt)en(st);else if(Array.isArray(st))for(const Kn of st)en(Kn);return()=>{if(!V("recoil_memory_managament_2020"))return;const{retention:Kn}=Fe.getState();function ar(Dr){const wr=Kn.nodesRetainedByZone.get(Dr);wr==null||wr.delete(Ke),wr&&wr.size===0&&Kn.nodesRetainedByZone.delete(Dr)}if(st instanceof Lt)ar(st);else if(Array.isArray(st))for(const Dr of st)ar(Dr)}}function Jn(Fe,Ke,st,xt){const en=Fe.getState();if(en.nodeCleanupFunctions.has(st))return;const Kn=xn(st),ar=Wn(Fe,st,Kn.retainedBy),Dr=Kn.init(Fe,Ke,xt);en.nodeCleanupFunctions.set(st,()=>{Dr(),ar()})}function Tr(Fe,Ke,st){Jn(Fe,Fe.getState().currentTree,Ke,st)}function Qr(Fe,Ke){var st;const xt=Fe.getState();(st=xt.nodeCleanupFunctions.get(Ke))===null||st===void 0||st(),xt.nodeCleanupFunctions.delete(Ke)}function ao(Fe,Ke,st){return Jn(Fe,Ke,st,"get"),xn(st).get(Fe,Ke)}function oo(Fe,Ke,st){return xn(st).peek(Fe,Ke)}function eo(Fe,Ke,st){var xt;const en=mr(Ke);return en==null||(xt=en.invalidate)===null||xt===void 0||xt.call(en,Fe),_o(pr({},Fe),{atomValues:Fe.atomValues.clone().delete(Ke),nonvalidatedAtoms:Fe.nonvalidatedAtoms.clone().set(Ke,st),dirtyAtoms:qt(Fe.dirtyAtoms,Ke)})}function bo(Fe,Ke,st,xt){const en=xn(st);if(en.set==null)throw new $n(`Attempt to set read-only RecoilValue: ${st}`);const Kn=en.set;return Jn(Fe,Ke,st,"set"),Kn(Fe,Ke,xt)}function zo(Fe,Ke,st){const xt=Fe.getState(),en=Fe.getGraph(Ke.version),Kn=xn(st).nodeType;return Rn({type:Kn},{loadable:()=>oo(Fe,Ke,st),isActive:()=>xt.knownAtoms.has(st)||xt.knownSelectors.has(st),isSet:()=>Kn==="selector"?!1:Ke.atomValues.has(st),isModified:()=>Ke.dirtyAtoms.has(st),deps:()=>{var ar;return Or((ar=en.nodeDeps.get(st))!==null&&ar!==void 0?ar:[])},subscribers:()=>{var ar,Dr;return{nodes:Or(bn(Eo(Fe,Ke,new Set([st])),wr=>wr!==st)),components:Xe((ar=(Dr=xt.nodeToComponentSubscriptions.get(st))===null||Dr===void 0?void 0:Dr.values())!==null&&ar!==void 0?ar:[],([wr])=>({name:wr}))}}})}function Eo(Fe,Ke,st){const xt=new Set,en=Array.from(st),Kn=Fe.getGraph(Ke.version);for(let Dr=en.pop();Dr;Dr=en.pop()){var ar;xt.add(Dr);const wr=(ar=Kn.nodeToNodeSubscriptions.get(Dr))!==null&&ar!==void 0?ar:wn;for(const Fr of wr)xt.has(Fr)||en.push(Fr)}return xt}var Co={getNodeLoadable:ao,peekNodeLoadable:oo,setNodeValue:bo,initializeNode:Tr,cleanUpNode:Qr,setUnvalidatedAtomValue_DEPRECATED:eo,peekNodeInfo:zo,getDownstreamNodes:Eo};let Mo=null;function ft(Fe){Mo=Fe}function qe(){var Fe;(Fe=Mo)===null||Fe===void 0||Fe()}var rt={setInvalidateMemoizedSnapshot:ft,invalidateMemoizedSnapshot:qe};const{getDownstreamNodes:mt,getNodeLoadable:un,setNodeValue:yn}=Co,{getNextComponentID:An}=_r,{getNode:Je,getNodeMaybe:St}=ht,{DefaultValue:Gt}=ht,{reactMode:vn}=X,{AbstractRecoilValue:kn,RecoilState:or,RecoilValueReadOnly:fr,isRecoilValue:er}=ze,{invalidateMemoizedSnapshot:Ln}=rt;function ur(Fe,{key:Ke},st=Fe.getState().currentTree){var xt,en;const Kn=Fe.getState();st.version===Kn.currentTree.version||st.version===((xt=Kn.nextTree)===null||xt===void 0?void 0:xt.version)||st.version===((en=Kn.previousTree)===null||en===void 0?void 0:en.version)||W("Tried to read from a discarded tree");const ar=un(Fe,st,Ke);return ar.state==="loading"&&ar.contents.catch(()=>{}),ar}function br(Fe,Ke){const st=Fe.clone();return Ke.forEach((xt,en)=>{xt.state==="hasValue"&&xt.contents instanceof Gt?st.delete(en):st.set(en,xt)}),st}function et(Fe,Ke,{key:st},xt){if(typeof xt=="function"){const en=un(Fe,Ke,st);if(en.state==="loading"){const Kn=`Tried to set atom or selector "${st}" using an updater function while the current state is pending, this is not currently supported.`;throw W(Kn),d(Kn)}else if(en.state==="hasError")throw en.contents;return xt(en.contents)}else return xt}function Ge(Fe,Ke,st){if(st.type==="set"){const{recoilValue:en,valueOrUpdater:Kn}=st,ar=et(Fe,Ke,en,Kn),Dr=yn(Fe,Ke,en.key,ar);for(const[wr,Fr]of Dr.entries())tt(Ke,wr,Fr)}else if(st.type==="setLoadable"){const{recoilValue:{key:en},loadable:Kn}=st;tt(Ke,en,Kn)}else if(st.type==="markModified"){const{recoilValue:{key:en}}=st;Ke.dirtyAtoms.add(en)}else if(st.type==="setUnvalidated"){var xt;const{recoilValue:{key:en},unvalidatedValue:Kn}=st,ar=St(en);ar==null||(xt=ar.invalidate)===null||xt===void 0||xt.call(ar,Ke),Ke.atomValues.delete(en),Ke.nonvalidatedAtoms.set(en,Kn),Ke.dirtyAtoms.add(en)}else W(`Unknown action ${st.type}`)}function tt(Fe,Ke,st){st.state==="hasValue"&&st.contents instanceof Gt?Fe.atomValues.delete(Ke):Fe.atomValues.set(Ke,st),Fe.dirtyAtoms.add(Ke),Fe.nonvalidatedAtoms.delete(Ke)}function Pt(Fe,Ke){Fe.replaceState(st=>{const xt=Ee(st);for(const en of Ke)Ge(Fe,xt,en);return Ue(Fe,xt),Ln(),xt})}function gt(Fe,Ke){if(me.length){const st=me[me.length-1];let xt=st.get(Fe);xt||st.set(Fe,xt=[]),xt.push(Ke)}else Pt(Fe,[Ke])}const me=[];function fe(){const Fe=new Map;return me.push(Fe),()=>{for(const[st,xt]of Fe)Pt(st,xt);me.pop()!==Fe&&W("Incorrect order of batch popping")}}function Ee(Fe){return _o(pr({},Fe),{atomValues:Fe.atomValues.clone(),nonvalidatedAtoms:Fe.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(Fe.dirtyAtoms)})}function Ue(Fe,Ke){const st=mt(Fe,Ke,Ke.dirtyAtoms);for(const Kn of st){var xt,en;(xt=St(Kn))===null||xt===void 0||(en=xt.invalidate)===null||en===void 0||en.call(xt,Ke)}}function Ye(Fe,Ke,st){gt(Fe,{type:"set",recoilValue:Ke,valueOrUpdater:st})}function ct(Fe,Ke,st){if(st instanceof Gt)return Ye(Fe,Ke,st);gt(Fe,{type:"setLoadable",recoilValue:Ke,loadable:st})}function Yt(Fe,Ke){gt(Fe,{type:"markModified",recoilValue:Ke})}function Qt(Fe,Ke,st){gt(Fe,{type:"setUnvalidated",recoilValue:Ke,unvalidatedValue:st})}function En(Fe,{key:Ke},st,xt=null){const en=An(),Kn=Fe.getState();Kn.nodeToComponentSubscriptions.has(Ke)||Kn.nodeToComponentSubscriptions.set(Ke,new Map),m(Kn.nodeToComponentSubscriptions.get(Ke)).set(en,[xt!=null?xt:"<not captured>",st]);const ar=vn();if(ar.early&&(ar.mode==="LEGACY"||ar.mode==="MUTABLE_SOURCE")){const Dr=Fe.getState().nextTree;Dr&&Dr.dirtyAtoms.has(Ke)&&st(Dr)}return{release:()=>{const Dr=Fe.getState(),wr=Dr.nodeToComponentSubscriptions.get(Ke);if(wr===void 0||!wr.has(en)){W(`Subscription missing at release time for atom ${Ke}. This is a bug in Recoil.`);return}wr.delete(en),wr.size===0&&Dr.nodeToComponentSubscriptions.delete(Ke)}}}function hn(Fe,Ke){var st;const{currentTree:xt}=Fe.getState(),en=Je(Ke.key);(st=en.clearCache)===null||st===void 0||st.call(en,Fe,xt)}var In={RecoilValueReadOnly:fr,AbstractRecoilValue:kn,RecoilState:or,getRecoilValueAsLoadable:ur,setRecoilValue:Ye,setRecoilValueLoadable:ct,markRecoilValueModified:Yt,setUnvalidatedRecoilValue:Qt,subscribeToRecoilValue:En,isRecoilValue:er,applyAtomValueWrites:br,batchStart:fe,writeLoadableToTreeState:tt,invalidateDownstreams:Ue,copyTreeState:Ee,refreshRecoilValue:hn};function Fn(Fe,Ke,st){const xt=Fe.entries();let en=xt.next();for(;!en.done;){const Kn=en.value;if(Ke.call(st,Kn[1],Kn[0],Fe))return!0;en=xt.next()}return!1}var Un=Fn;const{cleanUpNode:nr}=Co,{deleteNodeConfigIfPossible:jr,getNode:Hr}=ht,{RetentionZone:Br}=Vn,Jr=12e4,so=new Set;function Pr(Fe,Ke){const st=Fe.getState(),xt=st.currentTree;if(st.nextTree){W("releaseNodesNowOnCurrentTree should only be called at the end of a batch");return}const en=new Set;for(const ar of Ke)if(ar instanceof Br)for(const Dr of co(st,ar))en.add(Dr);else en.add(ar);const Kn=Ur(Fe,en);for(const ar of Kn)io(Fe,xt,ar)}function Ur(Fe,Ke){const st=Fe.getState(),xt=st.currentTree,en=Fe.getGraph(xt.version),Kn=new Set,ar=new Set;return Dr(Ke),Kn;function Dr(wr){const Fr=new Set,po=Cr(Fe,xt,wr,Kn,ar);for(const Lo of po){var So;if(Hr(Lo).retainedBy==="recoilRoot"){ar.add(Lo);continue}if(((So=st.retention.referenceCounts.get(Lo))!==null&&So!==void 0?So:0)>0){ar.add(Lo);continue}if(Wo(Lo).some(Hi=>st.retention.referenceCounts.get(Hi))){ar.add(Lo);continue}const ni=en.nodeToNodeSubscriptions.get(Lo);if(ni&&Un(ni,Hi=>ar.has(Hi))){ar.add(Lo);continue}Kn.add(Lo),Fr.add(Lo)}const ri=new Set;for(const Lo of Fr)for(const ni of(ci=en.nodeDeps.get(Lo))!==null&&ci!==void 0?ci:so){var ci;Kn.has(ni)||ri.add(ni)}ri.size&&Dr(ri)}}function Cr(Fe,Ke,st,xt,en){const Kn=Fe.getGraph(Ke.version),ar=[],Dr=new Set;for(;st.size>0;)wr(m(st.values().next().value));return ar;function wr(Fr){if(xt.has(Fr)||en.has(Fr)){st.delete(Fr);return}if(Dr.has(Fr))return;const po=Kn.nodeToNodeSubscriptions.get(Fr);if(po)for(const So of po)wr(So);Dr.add(Fr),st.delete(Fr),ar.push(Fr)}}function io(Fe,Ke,st){if(!V("recoil_memory_managament_2020"))return;nr(Fe,st);const xt=Fe.getState();xt.knownAtoms.delete(st),xt.knownSelectors.delete(st),xt.nodeTransactionSubscriptions.delete(st),xt.retention.referenceCounts.delete(st);const en=Wo(st);for(const wr of en){var Kn;(Kn=xt.retention.nodesRetainedByZone.get(wr))===null||Kn===void 0||Kn.delete(st)}Ke.atomValues.delete(st),Ke.dirtyAtoms.delete(st),Ke.nonvalidatedAtoms.delete(st);const ar=xt.graphsByVersion.get(Ke.version);if(ar){const wr=ar.nodeDeps.get(st);if(wr!==void 0){ar.nodeDeps.delete(st);for(const Fr of wr){var Dr;(Dr=ar.nodeToNodeSubscriptions.get(Fr))===null||Dr===void 0||Dr.delete(st)}}ar.nodeToNodeSubscriptions.delete(st)}jr(st)}function co(Fe,Ke){var st;return(st=Fe.retention.nodesRetainedByZone.get(Ke))!==null&&st!==void 0?st:so}function Wo(Fe){const Ke=Hr(Fe).retainedBy;return Ke===void 0||Ke==="components"||Ke==="recoilRoot"?[]:Ke instanceof Br?[Ke]:Ke}function qo(Fe,Ke){const st=Fe.getState();st.nextTree?st.retention.retainablesToCheckForRelease.add(Ke):Pr(Fe,new Set([Ke]))}function Jo(Fe,Ke,st){var xt;if(!V("recoil_memory_managament_2020"))return;const en=Fe.getState().retention.referenceCounts,Kn=((xt=en.get(Ke))!==null&&xt!==void 0?xt:0)+st;Kn===0?Go(Fe,Ke):en.set(Ke,Kn)}function Go(Fe,Ke){if(!V("recoil_memory_managament_2020"))return;Fe.getState().retention.referenceCounts.delete(Ke),qo(Fe,Ke)}function ko(Fe){if(!V("recoil_memory_managament_2020"))return;const Ke=Fe.getState();Pr(Fe,Ke.retention.retainablesToCheckForRelease),Ke.retention.retainablesToCheckForRelease.clear()}function Ho(Fe){return Fe===void 0?"recoilRoot":Fe}var Vo={SUSPENSE_TIMEOUT_MS:Jr,updateRetainCount:Jo,updateRetainCountToZero:Go,releaseScheduledRetainablesNow:ko,retainedByOptionWithDefault:Ho};const{unstable_batchedUpdates:Ti}=a.default;var dt={unstable_batchedUpdates:Ti};const{unstable_batchedUpdates:pt}=dt;var Xt={unstable_batchedUpdates:pt};const{batchStart:Hn}=In,{unstable_batchedUpdates:ir}=Xt;let It=ir;var sr={getBatcher:()=>It,setBatcher:Fe=>{It=Fe},batchUpdates:Fe=>{It(()=>{let Ke=()=>{};try{Ke=Hn(),Fe()}finally{Ke()}})}};function*qn(Fe){for(const Ke of Fe)for(const st of Ke)yield st}var qr=qn;const Vr=typeof Window=="undefined"||typeof window=="undefined",Gr=Fe=>!Vr&&(Fe===window||Fe instanceof Window),$r=typeof navigator!="undefined"&&navigator.product==="ReactNative";var yr={isSSR:Vr,isReactNative:$r,isWindow:Gr};function Nr(Fe,Ke){let st;return(...en)=>{st||(st={});const Kn=Ke(...en);return Object.hasOwnProperty.call(st,Kn)||(st[Kn]=Fe(...en)),st[Kn]}}function gr(Fe,Ke){let st,xt;return(...Kn)=>{const ar=Ke(...Kn);return st===ar||(st=ar,xt=Fe(...Kn)),xt}}function Xr(Fe,Ke){let st,xt;return[(...ar)=>{const Dr=Ke(...ar);return st===Dr||(st=Dr,xt=Fe(...ar)),xt},()=>{st=null}]}var Dt={memoizeWithArgsHash:Nr,memoizeOneWithArgsHash:gr,memoizeOneWithArgsHashAndInvalidation:Xr};const{batchUpdates:N}=sr,{initializeNode:L,peekNodeInfo:$}=Co,{graph:ne}=Sn,{getNextStoreID:ee}=_r,{DEFAULT_VALUE:ae,recoilValues:ve,recoilValuesForKeys:Re}=ht,{AbstractRecoilValue:$e,getRecoilValueAsLoadable:bt,setRecoilValue:Ut,setUnvalidatedRecoilValue:dn}=In,{updateRetainCount:pn}=Vo,{setInvalidateMemoizedSnapshot:jn}=rt,{getNextTreeStateVersion:Nn,makeEmptyStoreState:Xn}=Ot,{isSSR:Lr}=yr,{memoizeOneWithArgsHashAndInvalidation:Wr}=Dt,Kr=`
Recoil Snapshots only last for the duration of the callback they are provided to. To keep a Snapshot longer, do this:

  const release = snapshot.retain();
  try {
    await doSomethingWithSnapshot(snapshot);
  } finally {
    release();
  }

This is currently a DEV-only warning but will become a thrown exception in the next release of Recoil.
`;class Zr{constructor(Ke,st){p(this,"_store",void 0),p(this,"_refCount",1),p(this,"getLoadable",xt=>(this.checkRefCount_INTERNAL(),bt(this._store,xt))),p(this,"getPromise",xt=>(this.checkRefCount_INTERNAL(),this.getLoadable(xt).toPromise())),p(this,"getNodes_UNSTABLE",xt=>{if(this.checkRefCount_INTERNAL(),(xt==null?void 0:xt.isModified)===!0){if((xt==null?void 0:xt.isInitialized)===!1)return[];const ar=this._store.getState().currentTree;return Re(ar.dirtyAtoms)}const en=this._store.getState().knownAtoms,Kn=this._store.getState().knownSelectors;return(xt==null?void 0:xt.isInitialized)==null?ve.values():xt.isInitialized===!0?Re(qr([en,Kn])):bn(ve.values(),({key:ar})=>!en.has(ar)&&!Kn.has(ar))}),p(this,"getInfo_UNSTABLE",({key:xt})=>(this.checkRefCount_INTERNAL(),$(this._store,this._store.getState().currentTree,xt))),p(this,"map",xt=>{this.checkRefCount_INTERNAL();const en=new Ro(this,N);return xt(en),en}),p(this,"asyncMap",xt=>Zl(this,null,function*(){this.checkRefCount_INTERNAL();const en=new Ro(this,N);return en.retain(),yield xt(en),en.autoRelease_INTERNAL(),en})),this._store={storeID:ee(),parentStoreID:st,getState:()=>Ke,replaceState:xt=>{Ke.currentTree=xt(Ke.currentTree)},getGraph:xt=>{const en=Ke.graphsByVersion;if(en.has(xt))return m(en.get(xt));const Kn=ne();return en.set(xt,Kn),Kn},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw d("Cannot subscribe to Snapshots")}};for(const xt of this._store.getState().knownAtoms)L(this._store,xt,"get"),pn(this._store,xt,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0&&W("Attempt to retain() Snapshot that was already released."),this._refCount++;let Ke=!1;return()=>{Ke||(Ke=!0,this._release())}}autoRelease_INTERNAL(){Lr||window.setTimeout(()=>this._release(),10)}_release(){if(this._refCount--,this._refCount===0){if(this._store.getState().nodeCleanupFunctions.forEach(Ke=>Ke()),this._store.getState().nodeCleanupFunctions.clear(),!V("recoil_memory_managament_2020"))return}else this._refCount<0}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){V("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function uo(Fe,Ke,st=!1){const xt=Fe.getState(),en=st?Nn():Ke.version;return{currentTree:{version:st?en:Ke.version,stateID:st?en:Ke.stateID,transactionMetadata:pr({},Ke.transactionMetadata),dirtyAtoms:new Set(Ke.dirtyAtoms),atomValues:Ke.atomValues.clone(),nonvalidatedAtoms:Ke.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(xt.knownAtoms),knownSelectors:new Set(xt.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(en,Fe.getGraph(Ke.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(Xe(xt.nodeCleanupFunctions.entries(),([Kn])=>[Kn,()=>{}]))}}function go(Fe){const Ke=new Zr(Xn());return Fe!=null?Ke.map(Fe):Ke}const[yo,vo]=Wr((Fe,Ke)=>{var st;const xt=Fe.getState(),en=Ke==="latest"?(st=xt.nextTree)!==null&&st!==void 0?st:xt.currentTree:m(xt.previousTree);return new Zr(uo(Fe,en),Fe.storeID)},(Fe,Ke)=>{var st,xt;return String(Ke)+String(Fe.storeID)+String((st=Fe.getState().nextTree)===null||st===void 0?void 0:st.version)+String(Fe.getState().currentTree.version)+String((xt=Fe.getState().previousTree)===null||xt===void 0?void 0:xt.version)});jn(vo);function Sr(Fe,Ke="latest"){const st=yo(Fe,Ke);return st.isRetained()?st:(vo(),yo(Fe,Ke))}class Ro extends Zr{constructor(Ke,st){super(uo(Ke.getStore_INTERNAL(),Ke.getStore_INTERNAL().getState().currentTree,!0),Ke.getStoreID());p(this,"_batch",void 0),p(this,"set",(xt,en)=>{this.checkRefCount_INTERNAL();const Kn=this.getStore_INTERNAL();this._batch(()=>{pn(Kn,xt.key,1),Ut(this.getStore_INTERNAL(),xt,en)})}),p(this,"reset",xt=>{this.checkRefCount_INTERNAL();const en=this.getStore_INTERNAL();this._batch(()=>{pn(en,xt.key,1),Ut(this.getStore_INTERNAL(),xt,ae)})}),p(this,"setUnvalidatedAtomValues_DEPRECATED",xt=>{this.checkRefCount_INTERNAL();const en=this.getStore_INTERNAL();N(()=>{for(const[Kn,ar]of xt.entries())pn(en,Kn,1),dn(en,new $e(Kn),ar)})}),this._batch=st}}var Po={Snapshot:Zr,MutableSnapshot:Ro,freshSnapshot:go,cloneSnapshot:Sr},Yo=Po.Snapshot,lo=Po.MutableSnapshot,No=Po.freshSnapshot,Ko=Po.cloneSnapshot,Qo=Object.freeze({__proto__:null,Snapshot:Yo,MutableSnapshot:lo,freshSnapshot:No,cloneSnapshot:Ko});function Xo(...Fe){const Ke=new Set;for(const st of Fe)for(const xt of st)Ke.add(xt);return Ke}var mi=Xo;const{useRef:si}=a.default;function li(Fe){const Ke=si(Fe);return Ke.current===Fe&&typeof Fe=="function"&&(Ke.current=Fe()),Ke}var Io=li;const{getNextTreeStateVersion:pi,makeEmptyStoreState:Di}=Ot,{cleanUpNode:Li,getDownstreamNodes:Wi,initializeNode:Xi,setNodeValue:di,setUnvalidatedAtomValue_DEPRECATED:yi}=Co,{graph:Ii}=Sn,{cloneGraph:qi}=Sn,{getNextStoreID:sa}=_r,{createMutableSource:ji,reactMode:wi}=X,{applyAtomValueWrites:ti}=In,{releaseScheduledRetainablesNow:Ar}=Vo,{freshSnapshot:Ao}=Qo,{useCallback:Fo,useContext:hi,useEffect:fi,useMemo:ki,useRef:Vi,useState:la}=a.default;function ca(){throw d("This component must be used inside a <RecoilRoot> component.")}const Pa=Object.freeze({storeID:sa(),getState:ca,replaceState:ca,getGraph:ca,subscribeToTransactions:ca,addTransactionMetadata:ca});let Ba=!1;function Aa(Fe){if(Ba)throw d("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const Ke=Fe.getState();if(Ke.nextTree===null){V("recoil_memory_managament_2020")&&V("recoil_release_on_cascading_update_killswitch_2021")&&Ke.commitDepth>0&&Ar(Fe);const st=Ke.currentTree.version,xt=pi();Ke.nextTree=_o(pr({},Ke.currentTree),{version:xt,stateID:xt,dirtyAtoms:new Set,transactionMetadata:{}}),Ke.graphsByVersion.set(xt,qi(m(Ke.graphsByVersion.get(st))))}}const ja=a.default.createContext({current:Pa}),ka=()=>hi(ja),Va=a.default.createContext(null);function Ha(){const Fe=hi(Va);return Fe==null&&Me("Attempted to use a Recoil hook outside of a <RecoilRoot>. <RecoilRoot> must be an ancestor of any component that uses Recoil hooks."),Fe}function Ns(Fe,Ke,st){const xt=Wi(Fe,st,st.dirtyAtoms);for(const en of xt){const Kn=Ke.nodeToComponentSubscriptions.get(en);if(Kn)for(const[ar,[Dr,wr]]of Kn)wr(st)}}function ul(Fe){const Ke=Fe.getState(),st=Ke.currentTree,xt=st.dirtyAtoms;if(xt.size){for(const[en,Kn]of Ke.nodeTransactionSubscriptions)if(xt.has(en))for(const[ar,Dr]of Kn)Dr(Fe);for(const[en,Kn]of Ke.transactionSubscriptions)Kn(Fe);(!wi().early||Ke.suspendedComponentResolvers.size>0)&&(Ns(Fe,Ke,st),Ke.suspendedComponentResolvers.forEach(en=>en()),Ke.suspendedComponentResolvers.clear())}Ke.queuedComponentCallbacks_DEPRECATED.forEach(en=>en(st)),Ke.queuedComponentCallbacks_DEPRECATED.splice(0,Ke.queuedComponentCallbacks_DEPRECATED.length)}function Ka(Fe){const Ke=Fe.getState();Ke.commitDepth++;try{const{nextTree:st}=Ke;if(st==null)return;Ke.previousTree=Ke.currentTree,Ke.currentTree=st,Ke.nextTree=null,ul(Fe),Ke.previousTree!=null?Ke.graphsByVersion.delete(Ke.previousTree.version):W("Ended batch with no previous state, which is unexpected","recoil"),Ke.previousTree=null,V("recoil_memory_managament_2020")&&st==null&&Ar(Fe)}finally{Ke.commitDepth--}}function Ls({setNotifyBatcherOfChange:Fe}){const Ke=ka(),[,st]=la([]);return Fe(()=>st({})),fi(()=>(Fe(()=>st({})),()=>{Fe(()=>{})}),[Fe]),fi(()=>{wt.enqueueExecution("Batcher",()=>{Ka(Ke.current)})}),null}function ql(Fe,Ke){const st=Di();return Ke({set:(xt,en)=>{const Kn=st.currentTree,ar=di(Fe,Kn,xt.key,en),Dr=new Set(ar.keys()),wr=Kn.nonvalidatedAtoms.clone();for(const Fr of Dr)wr.delete(Fr);st.currentTree=_o(pr({},Kn),{dirtyAtoms:mi(Kn.dirtyAtoms,Dr),atomValues:ti(Kn.atomValues,ar),nonvalidatedAtoms:wr})},setUnvalidatedAtomValues:xt=>{xt.forEach((en,Kn)=>{st.currentTree=yi(st.currentTree,Kn,en)})}}),st}function ec(Fe){const Ke=Ao(Fe),st=Ke.getStore_INTERNAL().getState();return Ke.retain(),st.nodeCleanupFunctions.forEach(xt=>xt()),st.nodeCleanupFunctions.clear(),st}let $a=0;function tc({initializeState_DEPRECATED:Fe,initializeState:Ke,store_INTERNAL:st,children:xt}){let en;const Kn=ci=>{const Lo=en.current.graphsByVersion;if(Lo.has(ci))return m(Lo.get(ci));const ni=Ii();return Lo.set(ci,ni),ni},ar=(ci,Lo)=>{if(Lo==null){const{transactionSubscriptions:ni}=So.current.getState(),Hi=$a++;return ni.set(Hi,ci),{release:()=>{ni.delete(Hi)}}}else{const{nodeTransactionSubscriptions:ni}=So.current.getState();ni.has(Lo)||ni.set(Lo,new Map);const Hi=$a++;return m(ni.get(Lo)).set(Hi,ci),{release:()=>{const ta=ni.get(Lo);ta&&(ta.delete(Hi),ta.size===0&&ni.delete(Lo))}}}},Dr=ci=>{Aa(So.current);for(const Lo of Object.keys(ci))m(So.current.getState().nextTree).transactionMetadata[Lo]=ci[Lo]},wr=ci=>{Aa(So.current);const Lo=m(en.current.nextTree);let ni;try{Ba=!0,ni=ci(Lo)}finally{Ba=!1}ni!==Lo&&(en.current.nextTree=ni,wi().early&&Ns(So.current,en.current,ni),m(Fr.current)())},Fr=Vi(null),po=Fo(ci=>{Fr.current=ci},[Fr]),So=Io(()=>st!=null?st:{storeID:sa(),getState:()=>en.current,replaceState:wr,getGraph:Kn,subscribeToTransactions:ar,addTransactionMetadata:Dr});st!=null&&(So.current=st),en=Io(()=>Fe!=null?ql(So.current,Fe):Ke!=null?ec(Ke):Di());const ri=ki(()=>ji==null?void 0:ji(en,()=>en.current.currentTree.version),[en]);return fi(()=>{const ci=So.current;for(const Lo of new Set(ci.getState().knownAtoms))Xi(ci,Lo,"get");return()=>{for(const Lo of ci.getState().knownAtoms)Li(ci,Lo)}},[So]),a.default.createElement(ja.Provider,{value:So},a.default.createElement(Va.Provider,{value:ri},a.default.createElement(Ls,{setNotifyBatcherOfChange:po}),xt))}function xs(Fe){const en=Fe,{override:Ke}=en,st=Ji(en,["override"]),xt=ka();return Ke===!1&&xt.current!==Pa?Fe.children:a.default.createElement(tc,st)}function Bs(){return ka().current.storeID}var Ca={RecoilRoot:xs,useStoreRef:ka,useRecoilMutableSource:Ha,useRecoilStoreID:Bs,notifyComponents_FOR_TESTING:Ns,sendEndOfBatchNotifications_FOR_TESTING:ul};function za(Fe,Ke){if(Fe===Ke)return!0;if(Fe.length!==Ke.length)return!1;for(let st=0,xt=Fe.length;st<xt;st++)if(Fe[st]!==Ke[st])return!1;return!0}var Es=za;const{useEffect:ls,useRef:nc}=a.default;function Ga(Fe){const Ke=nc();return ls(()=>{Ke.current=Fe}),Ke.current}var Ya=Ga;const{useStoreRef:dl}=Ca,{SUSPENSE_TIMEOUT_MS:rc}=Vo,{updateRetainCount:cs}=Vo,{RetentionZone:Ps}=Vn,{useEffect:oc,useRef:ic}=a.default,{isSSR:fl}=yr;function js(Fe){if(!!V("recoil_memory_managament_2020"))return hl(Fe)}function hl(Fe){const st=(Array.isArray(Fe)?Fe:[Fe]).map(ar=>ar instanceof Ps?ar:ar.key),xt=dl();oc(()=>{if(!V("recoil_memory_managament_2020"))return;const ar=xt.current;if(en.current&&!fl)window.clearTimeout(en.current),en.current=null;else for(const Dr of st)cs(ar,Dr,1);return()=>{for(const Dr of st)cs(ar,Dr,-1)}},[xt,...st]);const en=ic(),Kn=Ya(st);if(!fl&&(Kn===void 0||!Es(Kn,st))){const ar=xt.current;for(const Dr of st)cs(ar,Dr,1);if(Kn)for(const Dr of Kn)cs(ar,Dr,-1);en.current&&window.clearTimeout(en.current),en.current=window.setTimeout(()=>{en.current=null;for(const Dr of st)cs(ar,Dr,-1)},rc)}}var ra=js;function Us(){return"<component name not available>"}var ba=Us;const{batchUpdates:ac}=sr,{DEFAULT_VALUE:pl}=ht,{currentRendererSupportsUseSyncExternalStore:sc,reactMode:Ua,useMutableSource:lc,useSyncExternalStore:cc}=X,{useRecoilMutableSource:uc,useStoreRef:fa}=Ca,{isRecoilValue:dc}=ze,{AbstractRecoilValue:Fs,getRecoilValueAsLoadable:Ja,setRecoilValue:Cs,setUnvalidatedRecoilValue:fc,subscribeToRecoilValue:Qa}=In,{useCallback:Zi,useEffect:Ma,useMemo:ml,useRef:us,useState:Ws}=a.default,{setByAddingToSet:ks}=Jt;function Vs(Fe,Ke,st){if(Fe.state==="hasValue")return Fe.contents;throw Fe.state==="loading"?new Promise(en=>{st.current.getState().suspendedComponentResolvers.add(en)}):Fe.state==="hasError"?Fe.contents:d(`Invalid value of loadable atom "${Ke.key}"`)}function hc(Fe,Ke){if(!dc(Fe))throw d(`Invalid argument to ${Ke}: expected an atom or selector but got ${String(Fe)}`)}function pc(){const Fe=ba(),Ke=fa(),[,st]=Ws([]),xt=us(new Set);xt.current=new Set;const en=us(new Set),Kn=us(new Map),ar=Zi(wr=>{const Fr=Kn.current.get(wr);Fr&&(Fr.release(),Kn.current.delete(wr))},[Kn]),Dr=Zi((wr,Fr)=>{Kn.current.has(Fr)&&st([])},[]);return Ma(()=>{const wr=Ke.current;Rt(xt.current,en.current).forEach(Fr=>{if(Kn.current.has(Fr)){Me(`Double subscription to RecoilValue "${Fr}"`);return}const po=Qa(wr,new Fs(Fr),ri=>Dr(ri,Fr),Fe);Kn.current.set(Fr,po),wr.getState().nextTree?wr.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{Dr(wr.getState(),Fr)}):Dr(wr.getState(),Fr)}),Rt(en.current,xt.current).forEach(Fr=>{ar(Fr)}),en.current=xt.current}),Ma(()=>{const wr=Kn.current;return Rt(xt.current,new Set(wr.keys())).forEach(Fr=>{const po=Qa(Ke.current,new Fs(Fr),So=>Dr(So,Fr),Fe);wr.set(Fr,po)}),()=>wr.forEach((Fr,po)=>ar(po))},[Fe,Ke,ar,Dr]),ml(()=>{function wr(Lo){return ni=>{Cs(Ke.current,Lo,ni)}}function Fr(Lo){return()=>Cs(Ke.current,Lo,pl)}function po(Lo){var ni;xt.current.has(Lo.key)||(xt.current=ks(xt.current,Lo.key));const Hi=Ke.current.getState();return Ja(Ke.current,Lo,Ua().early&&(ni=Hi.nextTree)!==null&&ni!==void 0?ni:Hi.currentTree)}function So(Lo){const ni=po(Lo);return Vs(ni,Lo,Ke)}function ri(Lo){return[So(Lo),wr(Lo)]}function ci(Lo){return[po(Lo),wr(Lo)]}return{getRecoilValue:So,getRecoilValueLoadable:po,getRecoilState:ri,getRecoilStateLoadable:ci,getSetRecoilState:wr,getResetRecoilState:Fr}},[xt,Ke])}const Hs={current:0};function oa(Fe){const Ke=fa(),st=ba(),xt=Zi(()=>{var Dr;const wr=Ke.current,Fr=wr.getState(),po=Ua().early&&(Dr=Fr.nextTree)!==null&&Dr!==void 0?Dr:Fr.currentTree;return{loadable:Ja(wr,Fe,po),key:Fe.key}},[Ke,Fe]),en=Zi(Dr=>{let wr;return()=>{var Fr,po;const So=Dr();return(Fr=wr)!==null&&Fr!==void 0&&Fr.loadable.is(So.loadable)&&((po=wr)===null||po===void 0?void 0:po.key)===So.key?wr:(wr=So,So)}},[]),Kn=ml(()=>en(xt),[xt,en]),ar=Zi(Dr=>{const wr=Ke.current;return Qa(wr,Fe,Dr,st).release},[Ke,Fe,st]);return cc(ar,Kn,Kn).loadable}function Ks(Fe){const Ke=fa(),st=Zi(()=>{var Fr;const po=Ke.current,So=po.getState(),ri=Ua().early&&(Fr=So.nextTree)!==null&&Fr!==void 0?Fr:So.currentTree;return Ja(po,Fe,ri)},[Ke,Fe]),xt=Zi(()=>st(),[st]),en=ba(),Kn=Zi((Fr,po)=>{const So=Ke.current;return Qa(So,Fe,()=>{if(!V("recoil_suppress_rerender_in_callback"))return po();const ci=st();wr.current.is(ci)||po(),wr.current=ci},en).release},[Ke,Fe,en,st]),ar=uc();if(ar==null)throw d("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const Dr=lc(ar,xt,Kn),wr=us(Dr);return Ma(()=>{wr.current=Dr}),Dr}function $s(Fe){const Ke=fa(),st=ba(),xt=Zi(()=>{var wr;const Fr=Ke.current,po=Fr.getState(),So=Ua().early&&(wr=po.nextTree)!==null&&wr!==void 0?wr:po.currentTree;return Ja(Fr,Fe,So)},[Ke,Fe]),en=Zi(()=>({loadable:xt(),key:Fe.key}),[xt,Fe.key]),Kn=Zi(wr=>{const Fr=en();return wr.loadable.is(Fr.loadable)&&wr.key===Fr.key?wr:Fr},[en]);Ma(()=>{const wr=Qa(Ke.current,Fe,Fr=>{Dr(Kn)},st);return Dr(Kn),wr.release},[st,Fe,Ke,Kn]);const[ar,Dr]=Ws(en);return ar.key!==Fe.key?en().loadable:ar.loadable}function ds(Fe){const Ke=fa(),[,st]=Ws([]),xt=ba(),en=Zi(()=>{var Dr;const wr=Ke.current,Fr=wr.getState(),po=Ua().early&&(Dr=Fr.nextTree)!==null&&Dr!==void 0?Dr:Fr.currentTree;return Ja(wr,Fe,po)},[Ke,Fe]),Kn=en(),ar=us(Kn);return Ma(()=>{ar.current=Kn}),Ma(()=>{const Dr=Ke.current,wr=Dr.getState(),Fr=Qa(Dr,Fe,So=>{var ri;if(!V("recoil_suppress_rerender_in_callback"))return st([]);const ci=en();(ri=ar.current)!==null&&ri!==void 0&&ri.is(ci)||st(ci),ar.current=ci},xt);if(wr.nextTree)Dr.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{ar.current=null,st([])});else{var po;if(!V("recoil_suppress_rerender_in_callback"))return st([]);const So=en();(po=ar.current)!==null&&po!==void 0&&po.is(So)||st(So),ar.current=So}return Fr.release},[xt,en,Fe,Ke]),Kn}function Sa(Fe){return V("recoil_memory_managament_2020")&&ra(Fe),{TRANSITION_SUPPORT:$s,SYNC_EXTERNAL_STORE:sc()?oa:$s,MUTABLE_SOURCE:Ks,LEGACY:ds}[Ua().mode](Fe)}function Ia(Fe){const Ke=fa(),st=Sa(Fe);return Vs(st,Fe,Ke)}function Xa(Fe){const Ke=fa();return Zi(st=>{Cs(Ke.current,Fe,st)},[Ke,Fe])}function mc(Fe){const Ke=fa();return Zi(()=>{Cs(Ke.current,Fe,pl)},[Ke,Fe])}function Za(Fe){return[Ia(Fe),Xa(Fe)]}function gl(Fe){return[Sa(Fe),Xa(Fe)]}function gc(){const Fe=fa();return(Ke,st={})=>{ac(()=>{Fe.current.addTransactionMetadata(st),Ke.forEach((xt,en)=>fc(Fe.current,new Fs(en),xt))})}}function bl(Fe){return V("recoil_memory_managament_2020")&&ra(Fe),$s(Fe)}function _a(Fe){const Ke=fa(),st=bl(Fe);return Vs(st,Fe,Ke)}function zs(Fe){return[_a(Fe),Xa(Fe)]}var bc={recoilComponentGetRecoilValueCount_FOR_TESTING:Hs,useRecoilInterface:pc,useRecoilState:Za,useRecoilStateLoadable:gl,useRecoilValue:Ia,useRecoilValueLoadable:Sa,useResetRecoilState:mc,useSetRecoilState:Xa,useSetUnvalidatedAtomValues:gc,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:bl,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:_a,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:zs};function vl(Fe,Ke){const st=new Map;for(const[xt,en]of Fe)Ke(en,xt)&&st.set(xt,en);return st}var Ol=vl;function fs(Fe,Ke){const st=new Set;for(const xt of Fe)Ke(xt)&&st.add(xt);return st}var vc=fs;function Yc(...Fe){const Ke=new Map;for(let st=0;st<Fe.length;st++){const xt=Fe[st].keys();let en;for(;!(en=xt.next()).done;)Ke.set(en.value,Fe[st].get(en.value))}return Ke}var Gs=Yc;const{batchUpdates:Oc}=sr,{DEFAULT_VALUE:yc,getNode:yl,nodes:El}=ht,{useStoreRef:qa}=Ca,{AbstractRecoilValue:Ys,setRecoilValueLoadable:Pl}=In,{SUSPENSE_TIMEOUT_MS:jl}=Vo,{cloneSnapshot:ia}=Qo,{useCallback:Ss,useEffect:Cl,useRef:hs,useState:Ec}=a.default,{isSSR:Ds}=yr;function Ts(Fe){const Ke=qa();Cl(()=>Ke.current.subscribeToTransactions(Fe).release,[Fe,Ke])}function ws(Fe){const Ke=Fe.atomValues.toMap(),st=Mt(Ol(Ke,(xt,en)=>{const ar=yl(en).persistence_UNSTABLE;return ar!=null&&ar.type!=="none"&&xt.state==="hasValue"}),xt=>xt.contents);return Gs(Fe.nonvalidatedAtoms.toMap(),st)}function Pc(Fe){Ts(Ss(Ke=>{let st=Ke.getState().previousTree;const xt=Ke.getState().currentTree;st||(W("Transaction subscribers notified without a previous tree being present -- this is a bug in Recoil"),st=Ke.getState().currentTree);const en=ws(xt),Kn=ws(st),ar=Mt(El,wr=>{var Fr,po,So,ri;return{persistence_UNSTABLE:{type:(Fr=(po=wr.persistence_UNSTABLE)===null||po===void 0?void 0:po.type)!==null&&Fr!==void 0?Fr:"none",backButton:(So=(ri=wr.persistence_UNSTABLE)===null||ri===void 0?void 0:ri.backButton)!==null&&So!==void 0?So:!1}}}),Dr=vc(xt.dirtyAtoms,wr=>en.has(wr)||Kn.has(wr));Fe({atomValues:en,previousAtomValues:Kn,atomInfo:ar,modifiedAtoms:Dr,transactionMetadata:pr({},xt.transactionMetadata)})},[Fe]))}function jc(Fe){Ts(Ss(Ke=>{const st=ia(Ke,"latest"),xt=ia(Ke,"previous");Fe({snapshot:st,previousSnapshot:xt})},[Fe]))}function Cc(){const Fe=qa(),[Ke,st]=Ec(()=>ia(Fe.current)),xt=Ya(Ke),en=hs(),Kn=hs();if(Ts(Ss(Dr=>st(ia(Dr)),[])),Cl(()=>{const Dr=Ke.retain();if(en.current&&!Ds){var wr;window.clearTimeout(en.current),en.current=null,(wr=Kn.current)===null||wr===void 0||wr.call(Kn),Kn.current=null}return()=>{window.setTimeout(Dr,10)}},[Ke]),xt!==Ke&&!Ds){if(en.current){var ar;window.clearTimeout(en.current),en.current=null,(ar=Kn.current)===null||ar===void 0||ar.call(Kn),Kn.current=null}Kn.current=Ke.retain(),en.current=window.setTimeout(()=>{var Dr;en.current=null,(Dr=Kn.current)===null||Dr===void 0||Dr.call(Kn),Kn.current=null},jl)}return Ke}function ps(Fe,Ke){var st;const xt=Fe.getState(),en=(st=xt.nextTree)!==null&&st!==void 0?st:xt.currentTree,Kn=Ke.getStore_INTERNAL().getState().currentTree;Oc(()=>{const ar=new Set;for(const Fr of[en.atomValues.keys(),Kn.atomValues.keys()])for(const po of Fr){var Dr,wr;((Dr=en.atomValues.get(po))===null||Dr===void 0?void 0:Dr.contents)!==((wr=Kn.atomValues.get(po))===null||wr===void 0?void 0:wr.contents)&&yl(po).shouldRestoreFromSnapshots&&ar.add(po)}ar.forEach(Fr=>{Pl(Fe,new Ys(Fr),Kn.atomValues.has(Fr)?m(Kn.atomValues.get(Fr)):yc)}),Fe.replaceState(Fr=>_o(pr({},Fr),{stateID:Ke.getID()}))})}function As(){const Fe=qa();return Ss(Ke=>ps(Fe.current,Ke),[Fe])}var Js={useRecoilSnapshot:Cc,gotoSnapshot:ps,useGotoRecoilSnapshot:As,useRecoilTransactionObserver:jc,useTransactionObservation_DEPRECATED:Pc,useTransactionSubscription_DEPRECATED:Ts};const{peekNodeInfo:Sl}=Co,{useStoreRef:Sc}=Ca;function Dc(){const Fe=Sc();return({key:Ke})=>Sl(Fe.current,Fe.current.getState().currentTree,Ke)}var Dl=Dc;const{reactMode:Tc}=X,{RecoilRoot:ms,useStoreRef:Qs}=Ca,{useMemo:wc}=a.default;function Ac(){Tc().mode==="MUTABLE_SOURCE"&&console.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");const Fe=Qs().current;return wc(()=>{function Ke({children:st}){return a.default.createElement(ms,{store_INTERNAL:Fe},st)}return Ke},[Fe])}var Tl=Ac;const{loadableWithValue:Mc}=D,{initializeNode:Ic}=Co,{DEFAULT_VALUE:Xs,getNode:_c}=ht,{copyTreeState:wl,getRecoilValueAsLoadable:es,invalidateDownstreams:Ms,writeLoadableToTreeState:Al}=In;function Zs(Fe){return _c(Fe.key).nodeType==="atom"}class Rc{constructor(Ke,st){p(this,"_store",void 0),p(this,"_treeState",void 0),p(this,"_changes",void 0),p(this,"get",xt=>{if(this._changes.has(xt.key))return this._changes.get(xt.key);if(!Zs(xt))throw d("Reading selectors within atomicUpdate is not supported");const en=es(this._store,xt,this._treeState);if(en.state==="hasValue")return en.contents;throw en.state==="hasError"?en.contents:d(`Expected Recoil atom ${xt.key} to have a value, but it is in a loading state.`)}),p(this,"set",(xt,en)=>{if(!Zs(xt))throw d("Setting selectors within atomicUpdate is not supported");if(typeof en=="function"){const Kn=this.get(xt);this._changes.set(xt.key,en(Kn))}else Ic(this._store,xt.key,"set"),this._changes.set(xt.key,en)}),p(this,"reset",xt=>{this.set(xt,Xs)}),this._store=Ke,this._treeState=st,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;const Ke=wl(this._treeState);for(const[st,xt]of this._changes)Al(Ke,st,Mc(xt));return Ms(this._store,Ke),Ke}}function Nc(Fe){return Ke=>{Fe.replaceState(st=>{const xt=new Rc(Fe,st);return Ke(xt),xt.newTreeState_INTERNAL()})}}var Lc={atomicUpdater:Nc},xc=Lc.atomicUpdater,va=Object.freeze({__proto__:null,atomicUpdater:xc});function Bc(Fe,Ke){if(!Fe)throw new Error(Ke)}var Jc=Bc,ha=Jc;const{atomicUpdater:Fa}=va,{batchUpdates:gs}=sr,{DEFAULT_VALUE:Uc}=ht,{useStoreRef:Fc}=Ca,{refreshRecoilValue:Ml,setRecoilValue:qs}=In,{cloneSnapshot:Il}=Qo,{gotoSnapshot:el}=Js,{useCallback:_l}=a.default;class ts{}const xi=new ts;function tl(Fe,Ke,st,xt){let en=xi,Kn;if(gs(()=>{const Dr="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof Ke!="function")throw d(Dr);const wr=Rn(_o(pr({},xt!=null?xt:{}),{set:(po,So)=>qs(Fe,po,So),reset:po=>qs(Fe,po,Uc),refresh:po=>Ml(Fe,po),gotoSnapshot:po=>el(Fe,po),transact_UNSTABLE:po=>Fa(Fe)(po)}),{snapshot:()=>{const po=Il(Fe);return Kn=po.retain(),po}}),Fr=Ke(wr);if(typeof Fr!="function")throw d(Dr);en=Fr(...st)}),en instanceof ts&&ha(!1),u(en))en.finally(()=>{var Dr;(Dr=Kn)===null||Dr===void 0||Dr()});else{var ar;(ar=Kn)===null||ar===void 0||ar()}return en}function Rl(Fe,Ke){const st=Fc();return _l((...xt)=>tl(st.current,Fe,xt),Ke!=null?[...Ke,st]:void 0)}var Ra={recoilCallback:tl,useRecoilCallback:Rl};const{useStoreRef:Nl}=Ca,{refreshRecoilValue:Wc}=In,{useCallback:Ll}=a.default;function xl(Fe){const Ke=Nl();return Ll(()=>{const st=Ke.current;Wc(st,Fe)},[Fe,Ke])}var Bl=xl;const{atomicUpdater:nl}=va,{useStoreRef:Ul}=Ca,{useMemo:Fl}=a.default;function Ze(Fe,Ke){const st=Ul();return Fl(()=>(...xt)=>{nl(st.current)(Kn=>{Fe(Kn)(...xt)})},Ke!=null?[...Ke,st]:void 0)}var _e=Ze;class xe{constructor(Ke){p(this,"value",void 0),this.value=Ke}}var Et={WrappedValue:xe},Ct=Et.WrappedValue,mn=Object.freeze({__proto__:null,WrappedValue:Ct});const{isFastRefreshEnabled:Cn}=X;class an extends Error{}class gn{constructor(Ke){var st,xt,en;p(this,"_name",void 0),p(this,"_numLeafs",void 0),p(this,"_root",void 0),p(this,"_onHit",void 0),p(this,"_onSet",void 0),p(this,"_mapNodeValue",void 0),this._name=Ke==null?void 0:Ke.name,this._numLeafs=0,this._root=null,this._onHit=(st=Ke==null?void 0:Ke.onHit)!==null&&st!==void 0?st:()=>{},this._onSet=(xt=Ke==null?void 0:Ke.onSet)!==null&&xt!==void 0?xt:()=>{},this._mapNodeValue=(en=Ke==null?void 0:Ke.mapNodeValue)!==null&&en!==void 0?en:Kn=>Kn}size(){return this._numLeafs}root(){return this._root}get(Ke,st){var xt;return(xt=this.getLeafNode(Ke,st))===null||xt===void 0?void 0:xt.value}getLeafNode(Ke,st){if(this._root==null)return;let xt=this._root;for(;xt;){if(st==null||st.onNodeVisit(xt),xt.type==="leaf")return this._onHit(xt),xt;const en=this._mapNodeValue(Ke(xt.nodeKey));xt=xt.branches.get(en)}}set(Ke,st,xt){const en=()=>{var Kn,ar,Dr,wr;let Fr,po;for(const[Hi,ta]of Ke){var So,ri,ci;const ei=this._root;if((ei==null?void 0:ei.type)==="leaf")throw this.invalidCacheError();const Pi=Fr;if(Fr=Pi?Pi.branches.get(po):ei,Fr=(So=Fr)!==null&&So!==void 0?So:{type:"branch",nodeKey:Hi,parent:Pi,branches:new Map,branchKey:po},Fr.type!=="branch"||Fr.nodeKey!==Hi)throw this.invalidCacheError();Pi==null||Pi.branches.set(po,Fr),xt==null||(ri=xt.onNodeVisit)===null||ri===void 0||ri.call(xt,Fr),po=this._mapNodeValue(ta),this._root=(ci=this._root)!==null&&ci!==void 0?ci:Fr}const Lo=Fr?(Kn=Fr)===null||Kn===void 0?void 0:Kn.branches.get(po):this._root;if(Lo!=null&&(Lo.type!=="leaf"||Lo.branchKey!==po))throw this.invalidCacheError();const ni={type:"leaf",value:st,parent:Fr,branchKey:po};(ar=Fr)===null||ar===void 0||ar.branches.set(po,ni),this._root=(Dr=this._root)!==null&&Dr!==void 0?Dr:ni,this._numLeafs++,this._onSet(ni),xt==null||(wr=xt.onNodeVisit)===null||wr===void 0||wr.call(xt,ni)};try{en()}catch(Kn){if(Kn instanceof an)this.clear(),en();else throw Kn}}delete(Ke){const st=this.root();if(!st)return!1;if(Ke===st)return this._root=null,this._numLeafs=0,!0;let xt=Ke.parent,en=Ke.branchKey;for(;xt;){var Kn;if(xt.branches.delete(en),xt===st)return xt.branches.size===0?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(xt.branches.size>0)break;en=(Kn=xt)===null||Kn===void 0?void 0:Kn.branchKey,xt=xt.parent}for(;xt!==st;xt=xt.parent)if(xt==null)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){const Ke=Cn()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";throw W(Ke+(this._name!=null?` - ${this._name}`:"")),new an}}var Bn={TreeCache:gn},lr=Bn.TreeCache,Er=Object.freeze({__proto__:null,TreeCache:lr});class kr{constructor(Ke){var st;p(this,"_maxSize",void 0),p(this,"_size",void 0),p(this,"_head",void 0),p(this,"_tail",void 0),p(this,"_map",void 0),p(this,"_keyMapper",void 0),this._maxSize=Ke.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(st=Ke.mapKey)!==null&&st!==void 0?st:xt=>xt}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(Ke){return this._map.has(this._keyMapper(Ke))}get(Ke){const st=this._keyMapper(Ke),xt=this._map.get(st);if(!!xt)return this.set(Ke,xt.value),xt.value}set(Ke,st){const xt=this._keyMapper(Ke);this._map.get(xt)&&this.delete(Ke);const Kn=this.head(),ar={key:Ke,right:Kn,left:null,value:st};Kn?Kn.left=ar:this._tail=ar,this._map.set(xt,ar),this._head=ar,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const Ke=this.tail();Ke&&this.delete(Ke.key)}delete(Ke){const st=this._keyMapper(Ke);if(!this._size||!this._map.has(st))return;const xt=m(this._map.get(st)),en=xt.right,Kn=xt.left;en&&(en.left=xt.left),Kn&&(Kn.right=xt.right),xt===this.head()&&(this._head=en),xt===this.tail()&&(this._tail=Kn),this._map.delete(st),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}var xr={LRUCache:kr},J=xr.LRUCache,oe=Object.freeze({__proto__:null,LRUCache:J});const{LRUCache:pe}=oe,{TreeCache:re}=Er;function ye({name:Fe,maxSize:Ke,mapNodeValue:st=xt=>xt}){const xt=new pe({maxSize:Ke}),en=new re({name:Fe,mapNodeValue:st,onHit:Kn=>{xt.set(Kn,!0)},onSet:Kn=>{const ar=xt.tail();xt.set(Kn,!0),ar&&en.size()>Ke&&en.delete(ar.key)}});return en}var nt=ye;const Ht=15;function on(Fe,Ke,st){if(typeof Fe=="string"&&!Fe.includes('"')&&!Fe.includes("\\"))return`"${Fe}"`;switch(typeof Fe){case"undefined":return"";case"boolean":return Fe?"true":"false";case"number":case"symbol":return String(Fe);case"string":return JSON.stringify(Fe);case"function":if((Ke==null?void 0:Ke.allowFunctions)!==!0)throw d("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${Fe.name})__`}if(Fe===null)return"null";if(typeof Fe!="object"){var xt;return(xt=JSON.stringify(Fe))!==null&&xt!==void 0?xt:""}if(u(Fe))return"__PROMISE__";if(Array.isArray(Fe))return`[${Fe.map((en,Kn)=>on(en,Ke,Kn.toString()))}]`;if(typeof Fe.toJSON=="function")return on(Fe.toJSON(st),Ke,st);if(Fe instanceof Map){const en={};for(const[Kn,ar]of Fe)en[typeof Kn=="string"?Kn:on(Kn,Ke)]=ar;return on(en,Ke,st)}return Fe instanceof Set?on(Array.from(Fe).sort((en,Kn)=>on(en,Ke).localeCompare(on(Kn,Ke))),Ke,st):Symbol!==void 0&&Fe[Symbol.iterator]!=null&&typeof Fe[Symbol.iterator]=="function"?on(Array.from(Fe),Ke,st):`{${Object.keys(Fe).filter(en=>Fe[en]!==void 0).sort().map(en=>`${on(en,Ke)}:${on(Fe[en],Ke,en)}`).join(",")}}`}function Mn(Fe,Ke={allowFunctions:!1}){return on(Fe,Ke)}var Zn=Mn;const{TreeCache:to}=Er,Yr={equality:"reference",eviction:"keep-all",maxSize:1/0};function Oo({equality:Fe=Yr.equality,eviction:Ke=Yr.eviction,maxSize:st=Yr.maxSize}=Yr,xt){const en=mo(Fe);return xo(Ke,st,en,xt)}function mo(Fe){switch(Fe){case"reference":return Ke=>Ke;case"value":return Ke=>Zn(Ke)}throw d(`Unrecognized equality policy ${Fe}`)}function xo(Fe,Ke,st,xt){switch(Fe){case"keep-all":return new to({name:xt,mapNodeValue:st});case"lru":return nt({name:xt,maxSize:m(Ke),mapNodeValue:st});case"most-recent":return nt({name:xt,maxSize:1,mapNodeValue:st})}throw d(`Unrecognized eviction policy ${Fe}`)}var no=Oo;function Bo(Fe){var Ke,st;if(typeof window=="undefined")return!1;const en=(st=(Fe!=null?(Ke=Fe.ownerDocument)!==null&&Ke!==void 0?Ke:Fe:document).defaultView)!==null&&st!==void 0?st:window;return Fe!=null&&(typeof en.Node=="function"?Fe instanceof en.Node:typeof Fe=="object"&&typeof Fe.nodeType=="number"&&typeof Fe.nodeName=="string")}var ho=Bo;const{isReactNative:Ei,isWindow:Ci}=yr;function Qi(Fe){if(Fe===null||typeof Fe!="object")return!0;switch(typeof Fe.$$typeof){case"symbol":return!0;case"number":return!0}return!!(Fe["@@__IMMUTABLE_ITERABLE__@@"]!=null||Fe["@@__IMMUTABLE_KEYED__@@"]!=null||Fe["@@__IMMUTABLE_INDEXED__@@"]!=null||Fe["@@__IMMUTABLE_ORDERED__@@"]!=null||Fe["@@__IMMUTABLE_RECORD__@@"]!=null||ho(Fe)||u(Fe)||Fe instanceof Error||ArrayBuffer.isView(Fe)||!Ei&&Ci(Fe))}function pa(Fe){if(!(typeof Fe!="object"||Qi(Fe))){Object.freeze(Fe);for(const Ke in Fe)if(Object.prototype.hasOwnProperty.call(Fe,Ke)){const st=Fe[Ke];typeof st=="object"&&st!=null&&!Object.isFrozen(st)&&pa(st)}Object.seal(Fe)}}var Da=pa;function ns(Fe){return()=>null}var Ta={startPerfBlock:ns};const{isLoadable:rl,loadableWithError:Gi,loadableWithPromise:ea,loadableWithValue:bs}=D,{WrappedValue:vs}=mn,{getNodeLoadable:ua,peekNodeLoadable:Wl,setNodeValue:da}=Co,{saveDepsToStore:ol}=Sn,{DEFAULT_VALUE:kl,getConfigDeletionHandler:Vl,getNode:Hl,registerNode:kc}=ht,{isRecoilValue:su}=ze,{markRecoilValueModified:Qc}=In,{retainedByOptionWithDefault:lu}=Vo,{recoilCallback:vu}=Ra,{startPerfBlock:Ou}=Ta;class Vc{}const il=new Vc,Is=[],rs=new Map,cu=(()=>{let Fe=0;return()=>Fe++})();function Kl(Fe){let Ke=null;const{key:st,get:xt,cachePolicy_UNSTABLE:en}=Fe,Kn=Fe.set!=null?Fe.set:void 0,ar=new Set,Dr=no(en!=null?en:{equality:"reference",eviction:"keep-all"},st),wr=lu(Fe.retainedBy_UNSTABLE),Fr=new Map;let po=0;function So(){return!V("recoil_memory_managament_2020")||po>0}function ri(Ir){return Ir.getState().knownSelectors.add(st),po++,()=>{po--}}function ci(){return Vl(st)!==void 0&&!So()}function Lo(Ir,jo,Do,ui,$o){Gl(jo,ui,$o),ni(Ir,Do)}function ni(Ir,jo){wa(Ir,jo)&&aa(Ir),ta(jo,!0)}function Hi(Ir,jo){wa(Ir,jo)&&(m(_i(Ir)).stateVersions.clear(),ta(jo,!1))}function ta(Ir,jo){const Do=rs.get(Ir);if(Do!=null){for(const ui of Do)Qc(ui,m(Ke));jo&&rs.delete(Ir)}}function ei(Ir,jo){let Do=rs.get(jo);Do==null&&rs.set(jo,Do=new Set),Do.add(Ir)}function Pi(Ir,jo,Do,ui,$o,vi){return jo.then(Oi=>{if(!So())throw aa(Ir),il;const Zo=bs(Oi);return Lo(Ir,Do,$o,Zo,ui),Oi}).catch(Oi=>{if(!So())throw aa(Ir),il;if(u(Oi))return Ki(Ir,Oi,Do,ui,$o,vi);const Zo=Gi(Oi);throw Lo(Ir,Do,$o,Zo,ui),Oi})}function Ki(Ir,jo,Do,ui,$o,vi){return jo.then(Oi=>{if(!So())throw aa(Ir),il;vi.loadingDepKey!=null&&vi.loadingDepPromise===jo?Do.atomValues.set(vi.loadingDepKey,bs(Oi)):Ir.getState().knownSelectors.forEach(Ni=>{Do.atomValues.delete(Ni)});const Zo=$i(Ir,Do);if(Zo&&Zo.state!=="loading"){if((wa(Ir,$o)||_i(Ir)==null)&&ni(Ir,$o),Zo.state==="hasValue")return Zo.contents;throw Zo.contents}if(!wa(Ir,$o)){const Ni=Os(Ir,Do);if(Ni!=null)return Ni.loadingLoadable.contents}const[Yi,zi]=Bi(Ir,Do,$o);if(Yi.state!=="loading"&&Lo(Ir,Do,$o,Yi,zi),Yi.state==="hasError")throw Yi.contents;return Yi.contents}).catch(Oi=>{if(Oi instanceof Vc)throw il;if(!So())throw aa(Ir),il;const Zo=Gi(Oi);throw Lo(Ir,Do,$o,Zo,ui),Oi})}function Ri(Ir,jo,Do,ui){var $o,vi,Oi,Zo;if(wa(Ir,ui)||jo.version===(($o=Ir.getState())===null||$o===void 0||(vi=$o.currentTree)===null||vi===void 0?void 0:vi.version)||jo.version===((Oi=Ir.getState())===null||Oi===void 0||(Zo=Oi.nextTree)===null||Zo===void 0?void 0:Zo.version)){var Yi,zi,Ni;ol(st,Do,Ir,(Yi=(zi=Ir.getState())===null||zi===void 0||(Ni=zi.nextTree)===null||Ni===void 0?void 0:Ni.version)!==null&&Yi!==void 0?Yi:Ir.getState().currentTree.version)}for(const Ui of Do)ar.add(Ui)}function Bi(Ir,jo,Do){const ui=Ou(st);let $o=!0,vi=!0;const Oi=()=>{ui(),vi=!1};let Zo,Yi=!1,zi;const Ni={loadingDepKey:null,loadingDepPromise:null},Ui=new Map;function Na({key:ga}){const La=ua(Ir,jo,ga);switch(Ui.set(ga,La),$o||(Ri(Ir,jo,new Set(Ui.keys()),Do),Hi(Ir,Do)),La.state){case"hasValue":return La.contents;case"hasError":throw La.contents;case"loading":throw Ni.loadingDepKey=ga,Ni.loadingDepPromise=La.contents,La.contents}throw d("Invalid Loadable state")}const Ql=ga=>(...La)=>{if(vi)throw d("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return Ke==null&&ha(!1),vu(Ir,ga,La,{node:Ke})};try{Zo=xt({get:Na,getCallback:Ql}),Zo=su(Zo)?Na(Zo):Zo,rl(Zo)&&(Zo.state==="hasError"&&(Yi=!0),Zo=Zo.contents),u(Zo)?Zo=Pi(Ir,Zo,jo,Ui,Do,Ni).finally(Oi):Oi(),Zo=Zo instanceof vs?Zo.value:Zo}catch(ga){Zo=ga,u(Zo)?Zo=Ki(Ir,Zo,jo,Ui,Do,Ni).finally(Oi):(Yi=!0,Oi())}return Yi?zi=Gi(Zo):u(Zo)?zi=ea(Zo):zi=bs(Zo),$o=!1,cl(Ir,Do,Ui),Ri(Ir,jo,new Set(Ui.keys()),Do),[zi,Ui]}function $i(Ir,jo){let Do=jo.atomValues.get(st);if(Do!=null)return Do;const ui=new Set;try{Do=Dr.get(vi=>(typeof vi!="string"&&ha(!1),ua(Ir,jo,vi).contents),{onNodeVisit:vi=>{vi.type==="branch"&&vi.nodeKey!==st&&ui.add(vi.nodeKey)}})}catch(vi){throw d(`Problem with cache lookup for selector "${st}": ${vi.message}`)}if(Do){var $o;jo.atomValues.set(st,Do),Ri(Ir,jo,ui,($o=_i(Ir))===null||$o===void 0?void 0:$o.executionID)}return Do}function ya(Ir,jo){const Do=$i(Ir,jo);if(Do!=null)return aa(Ir),Do;const ui=Os(Ir,jo);if(ui!=null){var $o;return(($o=ui.loadingLoadable)===null||$o===void 0?void 0:$o.state)==="loading"&&ei(Ir,ui.executionID),ui.loadingLoadable}const vi=cu(),[Oi,Zo]=Bi(Ir,jo,vi);return Oi.state==="loading"?(ma(Ir,vi,Oi,Zo,jo),ei(Ir,vi)):(aa(Ir),Gl(jo,Oi,Zo)),Oi}function Os(Ir,jo){const Do=qr([Fr.has(Ir)?[m(Fr.get(Ir))]:[],Xe(bn(Fr,([$o])=>$o!==Ir),([,$o])=>$o)]);function ui($o){for(const[vi,Oi]of $o)if(!ua(Ir,jo,vi).is(Oi))return!0;return!1}for(const $o of Do){if($o.stateVersions.get(jo.version)||!ui($o.depValuesDiscoveredSoFarDuringAsyncWork))return $o.stateVersions.set(jo.version,!0),$o;$o.stateVersions.set(jo.version,!1)}}function _i(Ir){return Fr.get(Ir)}function ma(Ir,jo,Do,ui,$o){Fr.set(Ir,{depValuesDiscoveredSoFarDuringAsyncWork:ui,executionID:jo,loadingLoadable:Do,stateVersions:new Map([[$o.version,!0]])})}function cl(Ir,jo,Do){if(wa(Ir,jo)){const ui=_i(Ir);ui!=null&&(ui.depValuesDiscoveredSoFarDuringAsyncWork=Do)}}function aa(Ir){Fr.delete(Ir)}function wa(Ir,jo){var Do;return jo===((Do=_i(Ir))===null||Do===void 0?void 0:Do.executionID)}function zl(Ir){return Array.from(Ir.entries()).map(([jo,Do])=>[jo,Do.contents])}function Gl(Ir,jo,Do){Ir.atomValues.set(st,jo);try{Dr.set(zl(Do),jo)}catch(ui){throw d(`Problem with setting cache for selector "${st}": ${ui.message}`)}}function ys(Ir){if(Is.includes(st)){const jo=`Recoil selector has circular dependencies: ${Is.slice(Is.indexOf(st)).join(" \u2192 ")}`;return Gi(d(jo))}Is.push(st);try{return Ir()}finally{Is.pop()}}function Yl(Ir,jo){const Do=jo.atomValues.get(st);return Do!=null?Do:Dr.get(ui=>{var $o;return typeof ui!="string"&&ha(!1),($o=Wl(Ir,jo,ui))===null||$o===void 0?void 0:$o.contents})}function Jl(Ir,jo){return ys(()=>ya(Ir,jo))}function Si(Ir){Ir.atomValues.delete(st)}function Mi(Ir,jo){Ke==null&&ha(!1);for(const ui of ar){var Do;const $o=Hl(ui);(Do=$o.clearCache)===null||Do===void 0||Do.call($o,Ir,jo)}ar.clear(),Si(jo),Dr.clear(),Qc(Ir,Ke)}return Kn!=null?Ke=kc({key:st,nodeType:"selector",peek:Yl,get:Jl,set:(jo,Do,ui)=>{let $o=!1;const vi=new Map;function Oi({key:Ni}){if($o)throw d("Recoil: Async selector sets are not currently supported.");const Ui=ua(jo,Do,Ni);if(Ui.state==="hasValue")return Ui.contents;if(Ui.state==="loading"){const Na=`Getting value of asynchronous atom or selector "${Ni}" in a pending state while setting selector "${st}" is not yet supported.`;throw W(Na),d(Na)}else throw Ui.contents}function Zo(Ni,Ui){if($o){const ga="Recoil: Async selector sets are not currently supported.";throw W(ga),d(ga)}const Na=typeof Ui=="function"?Ui(Oi(Ni)):Ui;da(jo,Do,Ni.key,Na).forEach((ga,La)=>vi.set(La,ga))}function Yi(Ni){Zo(Ni,kl)}const zi=Kn({set:Zo,get:Oi,reset:Yi},ui);if(zi!==void 0)throw u(zi)?d("Recoil: Async selector sets are not currently supported."):d("Recoil: selector set should be a void function.");return $o=!0,vi},init:ri,invalidate:Si,clearCache:Mi,shouldDeleteConfigOnRelease:ci,dangerouslyAllowMutability:Fe.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:wr}):Ke=kc({key:st,nodeType:"selector",peek:Yl,get:Jl,init:ri,invalidate:Si,clearCache:Mi,shouldDeleteConfigOnRelease:ci,dangerouslyAllowMutability:Fe.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:wr})}Kl.value=Fe=>new vs(Fe);var is=Kl;const{isLoadable:uu,loadableWithError:Hc,loadableWithPromise:Kc,loadableWithValue:_s}=D,{WrappedValue:al}=mn,{peekNodeInfo:Xc}=Co,{DEFAULT_VALUE:as,DefaultValue:ss,getConfigDeletionHandler:Ai,registerNode:Zc,setConfigDeletionHandler:qc}=ht,{isRecoilValue:Oa}=ze,{getRecoilValueAsLoadable:sl,markRecoilValueModified:eu,setRecoilValue:$c,setRecoilValueLoadable:tu}=In,{retainedByOptionWithDefault:du}=Vo,ll=Fe=>Fe instanceof al?Fe.value:Fe;function Lu(Fe){const{key:Ke,persistence_UNSTABLE:st}=Fe,xt=du(Fe.retainedBy_UNSTABLE);let en=0;function Kn(ei){return Kc(ei.then(Pi=>(ar=_s(Pi),Pi)).catch(Pi=>{throw ar=Hc(Pi),Pi}))}let ar=u(Fe.default)?Kn(Fe.default):uu(Fe.default)?Fe.default.state==="loading"?Kn(Fe.default.contents):Fe.default:_s(ll(Fe.default));Fr(ar.contents);let Dr;const wr=new Map;function Fr(ei){return ei}function po(ei,Pi){const Ki=Pi.then(Ri=>{var Bi,$i;return(($i=((Bi=ei.getState().nextTree)!==null&&Bi!==void 0?Bi:ei.getState().currentTree).atomValues.get(Ke))===null||$i===void 0?void 0:$i.contents)===Ki&&$c(ei,ta,Ri),Ri}).catch(Ri=>{var Bi,$i;throw(($i=((Bi=ei.getState().nextTree)!==null&&Bi!==void 0?Bi:ei.getState().currentTree).atomValues.get(Ke))===null||$i===void 0?void 0:$i.contents)===Ki&&tu(ei,ta,Hc(Ri)),Ri});return Ki}function So(ei,Pi,Ki){var Ri;en++;const Bi=()=>{var _i;en--,(_i=wr.get(ei))===null||_i===void 0||_i.forEach(ma=>ma()),wr.delete(ei)};if(ei.getState().knownAtoms.add(Ke),ar.state==="loading"){const _i=()=>{var ma;((ma=ei.getState().nextTree)!==null&&ma!==void 0?ma:ei.getState().currentTree).atomValues.has(Ke)||eu(ei,ta)};ar.contents.finally(_i)}const $i=(Ri=Fe.effects)!==null&&Ri!==void 0?Ri:Fe.effects_UNSTABLE;if($i!=null){let wa=function(Si){if(ma&&Si.key===Ke){const Mi=_i;return Mi instanceof ss?ri(ei,Pi):u(Mi)?Kc(Mi.then(Ir=>Ir instanceof ss?ar.toPromise():Ir)):_s(Mi)}return sl(ei,Si)},zl=function(Si){return wa(Si).toPromise()},Gl=function(Si){var Mi;const Ir=Xc(ei,(Mi=ei.getState().nextTree)!==null&&Mi!==void 0?Mi:ei.getState().currentTree,Si.key);return ma&&Si.key===Ke&&!(_i instanceof ss)?_o(pr({},Ir),{isSet:!0,loadable:wa(Si)}):Ir},_i=as,ma=!0,cl=!1,aa=null;const ys=Si=>Mi=>{if(ma){const Ir=wa(ta),jo=Ir.state==="hasValue"?Ir.contents:as;_i=typeof Mi=="function"?Mi(jo):Mi,u(_i)&&(_i=_i.then(Do=>(aa={effect:Si,value:Do},Do)))}else{if(u(Mi))throw d("Setting atoms to async values is not implemented.");typeof Mi!="function"&&(aa={effect:Si,value:ll(Mi)}),$c(ei,ta,typeof Mi=="function"?Ir=>{const jo=ll(Mi(Ir));return aa={effect:Si,value:jo},jo}:ll(Mi))}},Yl=Si=>()=>ys(Si)(as),Jl=Si=>Mi=>{var Ir;const{release:jo}=ei.subscribeToTransactions(Do=>{var ui;let{currentTree:$o,previousTree:vi}=Do.getState();vi||(W("Transaction subscribers notified without a next tree being present -- this is a bug in Recoil"),vi=$o);const Oi=(ui=$o.atomValues.get(Ke))!==null&&ui!==void 0?ui:ar;if(Oi.state==="hasValue"){var Zo,Yi,zi,Ni;const Ui=Oi.contents,Na=(Zo=vi.atomValues.get(Ke))!==null&&Zo!==void 0?Zo:ar,Ql=Na.state==="hasValue"?Na.contents:as;((Yi=aa)===null||Yi===void 0?void 0:Yi.effect)!==Si||((zi=aa)===null||zi===void 0?void 0:zi.value)!==Ui?Mi(Ui,Ql,!$o.atomValues.has(Ke)):((Ni=aa)===null||Ni===void 0?void 0:Ni.effect)===Si&&(aa=null)}},Ke);wr.set(ei,[...(Ir=wr.get(ei))!==null&&Ir!==void 0?Ir:[],jo])};for(const Si of $i)try{const Mi=Si({node:ta,storeID:ei.storeID,parentStoreID_UNSTABLE:ei.parentStoreID,trigger:Ki,setSelf:ys(Si),resetSelf:Yl(Si),onSet:Jl(Si),getPromise:zl,getLoadable:wa,getInfo_UNSTABLE:Gl});if(Mi!=null){var ya;wr.set(ei,[...(ya=wr.get(ei))!==null&&ya!==void 0?ya:[],Mi])}}catch(Mi){_i=Mi,cl=!0}if(ma=!1,!(_i instanceof ss)){var Os;const Si=cl?Hc(_i):u(_i)?Kc(po(ei,_i)):_s(ll(_i));Fr(Si.contents),Pi.atomValues.set(Ke,Si),(Os=ei.getState().nextTree)===null||Os===void 0||Os.atomValues.set(Ke,Si)}}return Bi}function ri(ei,Pi){var Ki,Ri;return(Ki=(Ri=Pi.atomValues.get(Ke))!==null&&Ri!==void 0?Ri:Dr)!==null&&Ki!==void 0?Ki:ar}function ci(ei,Pi){if(Pi.atomValues.has(Ke))return m(Pi.atomValues.get(Ke));if(Pi.nonvalidatedAtoms.has(Ke)){if(Dr!=null)return Dr;if(st==null)return Me(`Tried to restore a persisted value for atom ${Ke} but it has no persistence settings.`),ar;const Ki=Pi.nonvalidatedAtoms.get(Ke),Ri=st.validator(Ki,as);return Dr=Ri instanceof ss?ar:_s(Ri),Dr}else return ar}function Lo(){Dr=void 0}function ni(ei,Pi,Ki){if(Pi.atomValues.has(Ke)){const Ri=m(Pi.atomValues.get(Ke));if(Ri.state==="hasValue"&&Ki===Ri.contents)return new Map}else if(!Pi.nonvalidatedAtoms.has(Ke)&&Ki instanceof ss)return new Map;return Fr(Ki),Dr=void 0,new Map().set(Ke,_s(Ki))}function Hi(){return Ai(Ke)!==void 0&&en<=0}const ta=Zc({key:Ke,nodeType:"atom",peek:ri,get:ci,set:ni,init:So,invalidate:Lo,shouldDeleteConfigOnRelease:Hi,dangerouslyAllowMutability:Fe.dangerouslyAllowMutability,persistence_UNSTABLE:Fe.persistence_UNSTABLE?{type:Fe.persistence_UNSTABLE.type,backButton:Fe.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:xt});return ta}function fu(Fe){const Ke=Ji(Fe,[]),st="default"in Fe?Fe.default:new Promise(()=>{});return Oa(st)?xu(_o(pr({},Ke),{default:st})):Lu(_o(pr({},Ke),{default:st}))}function xu(Fe){const Ke=fu(_o(pr({},Fe),{default:as,persistence_UNSTABLE:Fe.persistence_UNSTABLE===void 0?void 0:_o(pr({},Fe.persistence_UNSTABLE),{validator:xt=>xt instanceof ss?xt:m(Fe.persistence_UNSTABLE).validator(xt,as)}),effects:Fe.effects,effects_UNSTABLE:Fe.effects_UNSTABLE})),st=is({key:`${Fe.key}__withFallback`,get:({get:xt})=>{const en=xt(Ke);return en instanceof ss?Fe.default:en},set:({set:xt},en)=>xt(Ke,en),cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:Fe.dangerouslyAllowMutability});return qc(st.key,Ai(Fe.key)),st}fu.value=Fe=>new al(Fe);var yu=fu;class Bu{constructor(Ke){var st;p(this,"_map",void 0),p(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(st=Ke==null?void 0:Ke.mapKey)!==null&&st!==void 0?st:xt=>xt}size(){return this._map.size}has(Ke){return this._map.has(this._keyMapper(Ke))}get(Ke){return this._map.get(this._keyMapper(Ke))}set(Ke,st){this._map.set(this._keyMapper(Ke),st)}delete(Ke){this._map.delete(this._keyMapper(Ke))}clear(){this._map.clear()}}var Uu={MapCache:Bu},Fu=Uu.MapCache,Wu=Object.freeze({__proto__:null,MapCache:Fu});const{LRUCache:Eu}=oe,{MapCache:ku}=Wu,nu={equality:"reference",eviction:"none",maxSize:1/0};function Vu({equality:Fe=nu.equality,eviction:Ke=nu.eviction,maxSize:st=nu.maxSize}=nu){const xt=Hu(Fe);return Ku(Ke,st,xt)}function Hu(Fe){switch(Fe){case"reference":return Ke=>Ke;case"value":return Ke=>Zn(Ke)}throw d(`Unrecognized equality policy ${Fe}`)}function Ku(Fe,Ke,st){switch(Fe){case"keep-all":return new ku({mapKey:st});case"lru":return new Eu({mapKey:st,maxSize:m(Ke)});case"most-recent":return new Eu({mapKey:st,maxSize:1})}throw d(`Unrecognized eviction policy ${Fe}`)}var Pu=Vu;const{setConfigDeletionHandler:$u}=ht;function zu(Fe){var Ke,st;const xt=Pu({equality:(Ke=(st=Fe.cachePolicyForParams_UNSTABLE)===null||st===void 0?void 0:st.equality)!==null&&Ke!==void 0?Ke:"value",eviction:"keep-all"});return en=>{var Kn,ar;const Dr=xt.get(en);if(Dr!=null)return Dr;const ri=Fe,{cachePolicyForParams_UNSTABLE:wr}=ri,Fr=Ji(ri,["cachePolicyForParams_UNSTABLE"]),po="default"in Fe?Fe.default:new Promise(()=>{}),So=yu(_o(pr({},Fr),{key:`${Fe.key}__${(Kn=Zn(en))!==null&&Kn!==void 0?Kn:"void"}`,default:typeof po=="function"?po(en):po,retainedBy_UNSTABLE:typeof Fe.retainedBy_UNSTABLE=="function"?Fe.retainedBy_UNSTABLE(en):Fe.retainedBy_UNSTABLE,effects:typeof Fe.effects=="function"?Fe.effects(en):typeof Fe.effects_UNSTABLE=="function"?Fe.effects_UNSTABLE(en):(ar=Fe.effects)!==null&&ar!==void 0?ar:Fe.effects_UNSTABLE}));return xt.set(en,So),$u(So.key,()=>{xt.delete(en)}),So}}var Gu=zu;const{setConfigDeletionHandler:Yu}=ht;let Ju=0;function Qu(Fe){var Ke,st;const xt=Pu({equality:(Ke=(st=Fe.cachePolicyForParams_UNSTABLE)===null||st===void 0?void 0:st.equality)!==null&&Ke!==void 0?Ke:"value",eviction:"keep-all"});return en=>{var Kn;let ar;try{ar=xt.get(en)}catch(ri){throw d(`Problem with cache lookup for selector ${Fe.key}: ${ri.message}`)}if(ar!=null)return ar;const Dr=`${Fe.key}__selectorFamily/${(Kn=Zn(en,{allowFunctions:!0}))!==null&&Kn!==void 0?Kn:"void"}/${Ju++}`,wr=ri=>Fe.get(en)(ri),Fr=Fe.cachePolicy_UNSTABLE,po=typeof Fe.retainedBy_UNSTABLE=="function"?Fe.retainedBy_UNSTABLE(en):Fe.retainedBy_UNSTABLE;let So;if(Fe.set!=null){const ri=Fe.set;So=is({key:Dr,get:wr,set:(Lo,ni)=>ri(en)(Lo,ni),cachePolicy_UNSTABLE:Fr,dangerouslyAllowMutability:Fe.dangerouslyAllowMutability,retainedBy_UNSTABLE:po})}else So=is({key:Dr,get:wr,cachePolicy_UNSTABLE:Fr,dangerouslyAllowMutability:Fe.dangerouslyAllowMutability,retainedBy_UNSTABLE:po});return xt.set(en,So),Yu(So.key,()=>{xt.delete(en)}),So}}var Rs=Qu;const Xu=Rs({key:"__constant",get:Fe=>()=>Fe,cachePolicyForParams_UNSTABLE:{equality:"reference"}});function Zu(Fe){return Xu(Fe)}var qu=Zu;const ed=Rs({key:"__error",get:Fe=>()=>{throw d(Fe)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function td(Fe){return ed(Fe)}var nd=td;function rd(Fe){return Fe}var od=rd;const{loadableWithError:ju,loadableWithPromise:Cu,loadableWithValue:Su}=D;function ru(Fe,Ke){const st=Array(Ke.length).fill(void 0),xt=Array(Ke.length).fill(void 0);for(const[en,Kn]of Ke.entries())try{st[en]=Fe(Kn)}catch(ar){xt[en]=ar}return[st,xt]}function id(Fe){return Fe!=null&&!u(Fe)}function ou(Fe){return Array.isArray(Fe)?Fe:Object.getOwnPropertyNames(Fe).map(Ke=>Fe[Ke])}function hu(Fe,Ke){return Array.isArray(Fe)?Ke:Object.getOwnPropertyNames(Fe).reduce((st,xt,en)=>_o(pr({},st),{[xt]:Ke[en]}),{})}function $l(Fe,Ke,st){const xt=st.map((en,Kn)=>en==null?Su(Ke[Kn]):u(en)?Cu(en):ju(en));return hu(Fe,xt)}function ad(Fe,Ke){return Ke.map((st,xt)=>st===void 0?Fe[xt]:st)}const sd=Rs({key:"__waitForNone",get:Fe=>({get:Ke})=>{const st=ou(Fe),[xt,en]=ru(Ke,st);return $l(Fe,xt,en)},dangerouslyAllowMutability:!0}),ld=Rs({key:"__waitForAny",get:Fe=>({get:Ke})=>{const st=ou(Fe),[xt,en]=ru(Ke,st);return en.some(Kn=>!u(Kn))?$l(Fe,xt,en):new Promise(Kn=>{for(const[ar,Dr]of en.entries())u(Dr)&&Dr.then(wr=>{xt[ar]=wr,en[ar]=void 0,Kn($l(Fe,xt,en))}).catch(wr=>{en[ar]=wr,Kn($l(Fe,xt,en))})})},dangerouslyAllowMutability:!0}),cd=Rs({key:"__waitForAll",get:Fe=>({get:Ke})=>{const st=ou(Fe),[xt,en]=ru(Ke,st);if(en.every(ar=>ar==null))return hu(Fe,xt);const Kn=en.find(id);if(Kn!=null)throw Kn;return Promise.all(en).then(ar=>hu(Fe,ad(xt,ar)))},dangerouslyAllowMutability:!0}),ud=Rs({key:"__waitForAllSettled",get:Fe=>({get:Ke})=>{const st=ou(Fe),[xt,en]=ru(Ke,st);return en.every(Kn=>!u(Kn))?$l(Fe,xt,en):Promise.all(en.map((Kn,ar)=>u(Kn)?Kn.then(Dr=>{xt[ar]=Dr,en[ar]=void 0}).catch(Dr=>{xt[ar]=void 0,en[ar]=Dr}):null)).then(()=>$l(Fe,xt,en))},dangerouslyAllowMutability:!0}),dd=Rs({key:"__noWait",get:Fe=>({get:Ke})=>{try{return is.value(Su(Ke(Fe)))}catch(st){return is.value(u(st)?Cu(st):ju(st))}},dangerouslyAllowMutability:!0});var fd={waitForNone:sd,waitForAny:ld,waitForAll:cd,waitForAllSettled:ud,noWait:dd};const{RecoilLoadable:hd}=D,{DefaultValue:pd}=ht,{RecoilRoot:md,useRecoilStoreID:gd}=Ca,{isRecoilValue:bd}=ze,{retentionZone:vd}=Vn,{freshSnapshot:Od}=Qo,{useRecoilState:yd,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:Ed,useRecoilStateLoadable:Pd,useRecoilValue:jd,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:Cd,useRecoilValueLoadable:Sd,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:Dd,useResetRecoilState:Td,useSetRecoilState:wd}=bc,{useGotoRecoilSnapshot:Ad,useRecoilSnapshot:Md,useRecoilTransactionObserver:Id}=Js,{useRecoilCallback:_d}=Ra,{noWait:Rd,waitForAll:Nd,waitForAllSettled:Ld,waitForAny:xd,waitForNone:Bd}=fd;var gi={DefaultValue:pd,isRecoilValue:bd,RecoilLoadable:hd,RecoilEnv:Le,RecoilRoot:md,useRecoilStoreID:gd,useRecoilBridgeAcrossReactRoots_UNSTABLE:Tl,atom:yu,selector:is,atomFamily:Gu,selectorFamily:Rs,constSelector:qu,errorSelector:nd,readOnlySelector:od,noWait:Rd,waitForNone:Bd,waitForAny:xd,waitForAll:Nd,waitForAllSettled:Ld,useRecoilValue:jd,useRecoilValueLoadable:Sd,useRecoilState:yd,useRecoilStateLoadable:Pd,useSetRecoilState:wd,useResetRecoilState:Td,useGetRecoilValueInfo_UNSTABLE:Dl,useRecoilRefresher_UNSTABLE:Bl,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:Dd,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:Cd,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:Ed,useRecoilCallback:_d,useRecoilTransaction_UNSTABLE:_e,useGotoRecoilSnapshot:Ad,useRecoilSnapshot:Md,useRecoilTransactionObserver_UNSTABLE:Id,snapshot_UNSTABLE:Od,useRetain:ra,retentionZone:vd},lf=gi.DefaultValue,cf=gi.isRecoilValue,uf=gi.RecoilLoadable,df=gi.RecoilEnv,Ud=gi.RecoilRoot,ff=gi.useRecoilStoreID,hf=gi.useRecoilBridgeAcrossReactRoots_UNSTABLE,Fd=gi.atom,Wd=gi.selector,kd=gi.atomFamily,Vd=gi.selectorFamily,pf=gi.constSelector,mf=gi.errorSelector,gf=gi.readOnlySelector,bf=gi.noWait,vf=gi.waitForNone,Of=gi.waitForAny,yf=gi.waitForAll,Ef=gi.waitForAllSettled,Hd=gi.useRecoilValue,Pf=gi.useRecoilValueLoadable,jf=gi.useRecoilState,Cf=gi.useRecoilStateLoadable,Kd=gi.useSetRecoilState,Sf=gi.useResetRecoilState,Df=gi.useGetRecoilValueInfo_UNSTABLE,Tf=gi.useRecoilRefresher_UNSTABLE,wf=gi.useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE,Af=gi.useRecoilValue_TRANSITION_SUPPORT_UNSTABLE,Mf=gi.useRecoilState_TRANSITION_SUPPORT_UNSTABLE,$d=gi.useRecoilCallback,If=gi.useRecoilTransaction_UNSTABLE,_f=gi.useGotoRecoilSnapshot,Rf=gi.useRecoilSnapshot,Nf=gi.useRecoilTransactionObserver_UNSTABLE,Lf=gi.snapshot_UNSTABLE,xf=gi.useRetain,Bf=gi.retentionZone,Uf=gi}).call(this,t(195))},function(k,n,t){var e=t(182),a=t(163),o="[object Symbol]";function l(d){return typeof d=="symbol"||a(d)&&e(d)==o}k.exports=l},function(k,n,t){"use strict";t.d(n,"a",function(){return _}),t.d(n,"b",function(){return F});var e=t(0),a=t(5),o=t.n(a),l=t(12),d=t.n(l),c=t(17),u=t.n(c),f=t(4),m=t.n(f),p=t(10),g=t.n(p),O=t(313),s=t(50),r=Object.defineProperty,i=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,j=(H,C,T)=>C in H?r(H,C,{enumerable:!0,configurable:!0,writable:!0,value:T}):H[C]=T,y=(H,C)=>{for(var T in C||(C={}))h.call(C,T)&&j(H,T,C[T]);if(i)for(var T of i(C))v.call(C,T)&&j(H,T,C[T]);return H},b=(H,C)=>{var T={};for(var S in H)h.call(H,S)&&C.indexOf(S)<0&&(T[S]=H[S]);if(H!=null&&i)for(var S of i(H))C.indexOf(S)<0&&v.call(H,S)&&(T[S]=H[S]);return T},E=(H,C,T)=>new Promise((S,D)=>{var w=K=>{try{V(T.next(K))}catch(Y){D(Y)}},U=K=>{try{V(T.throw(K))}catch(Y){D(Y)}},V=K=>K.done?S(K.value):Promise.resolve(K.value).then(w,U);V((T=T.apply(H,C)).next())});const P=92;class A extends e.Component{componentDidMount(){this.props.manualLoad||this.loadProfileUser()}componentDidUpdate(C){!this.props.manualLoad&&C.profileUser.id!==this.props.profileUser.id&&(this.setState({profileUser:null}),this.loadProfileUser())}loadProfileUser(){return E(this,null,function*(){if(!this.state.loadingProfile){this.setState({loadingProfile:!0});try{const C=yield d.a.get(`/api/v1/user/${this.props.profileUser.id}/profile`);this.setState({profileUser:C.body})}catch(C){console.error("Failed to load profile:",C)}this.setState({loadingProfile:!1})}})}getProfileUser(){return this.state.profileUser||this.props.profileUser}render({pub:C}){var T;const S=((T=this.getProfileUser().publications)==null?void 0:T.filter(D=>D.id!==C.id))||[];return Object(e.h)("div",{className:`user-profile ${this.props.isBanned?"banned":""}`},Object(e.h)(F,{photo_url:Object(f.getUserPhotoUrl)(this.getProfileUser()),banned:this.props.isBanned,email:this.getProfileUser().email,pub:C}),Object(e.h)("div",{className:"user-profile-name"},this.getProfileUser().name),Object(e.h)("div",{className:"user-profile-status"},this.getProfileUser().id===C.author_id?Object(e.h)("b",null,"Author of ",C.name):this.getProfileUser().subscribed_at?`Subscriber to ${C.name} since ${u()(this.getProfileUser().subscribed_at).standardDate()}`:"\xA0"),S.length>0&&Object(e.h)("div",{className:"user-profile-publication"},"Author of"," ",Object(p.oxfordComma)(S.map(D=>Object(e.h)("a",{href:D.base_url,native:!0},D.name)))),this.props.isBanned&&Object(e.h)("div",{className:"user-profile-banned"},"Banned from commenting on ",C.name))}}class _ extends s.a{onBeforeOpen(){this.profile.loadProfileUser()}renderChildren(){const C=this.props,{ref:T}=C,S=b(C,["ref"]);return Object(e.h)("div",{className:"user-profile-modal"},Object(e.h)(A,y({ref:D=>this.profile=D,manualLoad:!0},S)))}}const M=({children:H,email:C,pub:T})=>Object(e.h)("a",{target:"_blank",href:Object(f.getSubscriberDetailsUrl)(T,C)},H),F=({photo_url:H,size:C=P,banned:T=!1,email:S="",className:D="",pub:w=null,children:U=void 0})=>{const V=Object(e.h)("img",{className:"user-profile-head",height:C,width:C,src:Object(f.cloudinary)(H,C*2,{height:C*2,crop:"fill"})});return Object(e.h)("div",{className:o()(D,"profile-image-wrapper")},S&&w?Object(e.h)(M,{email:S,pub:w},V):V,T&&Object(e.h)(O.default,{height:C}),U)}},function(k,n,t){"use strict";t.d(n,"a",function(){return D}),t.d(n,"e",function(){return U}),t.d(n,"b",function(){return V}),t.d(n,"d",function(){return K}),t.d(n,"c",function(){return R}),t.d(n,"f",function(){return B}),t.d(n,"g",function(){return x});var e=t(0),a=t(5),o=t.n(a),l=t(261),d=t(835),c=t(4),u=t(71),f=t(25),m=t(7),p=t(100),g=t(2),O=t(8),s=t(91),r=t(66),i=t(19),h=t(233),v=t(62),j=t(189),y=t(79),b={checkmarkWrapper:"frontend-reader2-Publication-module__checkmarkWrapper--3R1sb"},E=Object.defineProperty,P=Object.defineProperties,A=Object.getOwnPropertyDescriptors,_=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable,H=(G,Q,he)=>Q in G?E(G,Q,{enumerable:!0,configurable:!0,writable:!0,value:he}):G[Q]=he,C=(G,Q)=>{for(var he in Q||(Q={}))M.call(Q,he)&&H(G,he,Q[he]);if(_)for(var he of _(Q))F.call(Q,he)&&H(G,he,Q[he]);return G},T=(G,Q)=>P(G,A(Q)),S=(G,Q)=>{var he={};for(var Z in G)M.call(G,Z)&&Q.indexOf(Z)<0&&(he[Z]=G[Z]);if(G!=null&&_)for(var Z of _(G))Q.indexOf(Z)<0&&F.call(G,Z)&&(he[Z]=G[Z]);return he};function D(G){var Q=G,{pub:he,subscribeButtonStyle:Z,className:le,onClick:de}=Q,be=S(Q,["pub","subscribeButtonStyle","className","onClick"]);const X=!!Object(f.c)();return Object(e.h)(i.m,{linkClassName:o()("reader2-pub-link",le),href:Object(c.getPubUrl)(he,{params:{utm_source:"substack",utm_medium:"web",utm_campaign:"reader2"},signedIn:X}),newTab:Z!=null,onClick:de},Object(e.h)(w,T(C({},be),{pub:he,subscribeButtonStyle:Z})))}function w({pub:G,author:Q,subscribeButtonStyle:he,surface:Z,highlights:le={},highlightedPost:de}){var be;const{getExperimentVariant:X,exposeExperiment:ie}=Object(u.d)(),Ce=G.rankingDetail&&X("over_copy_publication_search_results")&&G.rankingDetailFreeSubscriberCount;Ce&&ie("over_copy_publication_search_results");const Le=Ce&&X("over_copy_publication_search_results")==="treatment",Ae=(Q==null?void 0:Q.name)||G.author_name||((be=G.author)==null?void 0:be.name)||G.name,Pe=!!Object(f.c)();return Object(e.h)(U,null,Object(e.h)(K,{className:"head",pub:G,subtitle:Object(e.h)("span",null,"By ",Object(j.a)(Ae,le.author_name)),subscribeButtonStyle:he,surface:Z,highlights:le}),(G.editorial_bio||G.hero_text)&&Object(e.h)(i.A,{variant:"secondary",className:"description",isConstrained:!0},G.editorial_bio||Object(j.a)(G.hero_text,le.hero_text)),de&&Object(e.h)("a",{target:"_blank",rel:"noreferrer",href:Object(c.getPostUrl)(G,de,{signedIn:Pe})},Object(e.h)(p.a,{border:"detail",padding:12,radius:4,shadow:"md"},Object(e.h)(h.c,{highlights:le,post:de}))),G.rankingDetail&&Object(e.h)(O.b.Meta,null,Le?G.rankingDetailFreeSubscriberCount:G.rankingDetail))}function U(G){return Object(e.h)(g.a,C({className:"reader2-pub-link",gap:12},G))}function V({children:G}){return Object(e.h)(i.A,{variant:"secondary",className:"description",isConstrained:!0},G)}function K({pub:G,subtitle:Q,subscribeButtonStyle:he=null,isSubscribed:Z,className:le,badgeType:de,surface:be,highlights:X={}}){const ie=Object(f.c)();return Object(e.h)(g.a,{gap:12,flex:"grow",minWidth:0,className:le},Object(e.h)(v.a,{className:"logo",pub:G,size:40,badgeType:de}),Object(e.h)(g.b,{minWidth:0,flex:"grow"},Object(e.h)(O.b.B4,{weight:"semibold",ellipsis:!0},Object(j.a)(G.name,X.name,"extrabold")),Object(e.h)(O.b.B4,{color:"secondary",ellipsis:!0},Q)),Z?Object(e.h)(g.a,{className:b.checkmarkWrapper,alignItems:"center",justifyContent:"center"},Object(e.h)(l.a,{size:16,stroke:"var(--color-tertiary)"})):he&&Object(e.h)(Y,{pub:G,user:ie,buttonStyle:he,surface:be}))}function Y({pub:G,user:Q,buttonStyle:he,surface:Z}){const le=Object(y.e)(),de=x(Z)(G);return Object(e.h)(r.a,{variant:"primary",look:he==="big"?"round":"circle",size:"small",hasLeftIcon:he==="big",newTab:!0,href:Object(c.getSubscribeUrl)(G,{addBase:!0,user:Q,utm_source:"substack",utm_medium:"web",utm_campaign:"reader2"}),onClick:be=>{if(be.stopPropagation(),Q){const X="visibilitychange",ie=()=>{document.visibilityState==="visible"&&(le.refetch(),document.removeEventListener(X,ie))};document.addEventListener(X,ie)}de(be)}},he==="big"?Object(e.h)(e.Fragment,null,Object(e.h)("div",{className:"reader2-button-icon-circle"},Object(e.h)(d.a,{size:12,strokeWidth:3})),"Subscribe"):Object(e.h)(e.Fragment,null,Object(e.h)(d.a,{size:20})))}function W(G){var Q;return G.author_name||((Q=G.author)==null?void 0:Q.name)}function R({pub:G,author:Q}){const he=(Q==null?void 0:Q.name)||W(G);return Object(e.h)(O.b.B4,null,"By ",he)}function B({className:G}){return Object(e.h)(i.m,{linkClassName:o()("reader2-pub-link",G)},Object(e.h)("div",{className:"reader2-publication-card"},Object(e.h)(i.B,{size:48}),Object(e.h)("div",{className:"meta",style:{gap:8}},Object(e.h)(i.B,{type:"bar",width:120}),Object(e.h)(i.B,{type:"bar",width:80}))),Object(e.h)("div",{className:"body"},Object(e.h)(i.B,{type:"bar",width:"90%"}),Object(e.h)(i.B,{type:"bar",width:"100%"}),Object(e.h)(i.B,{type:"bar",width:"80%"})))}function x(G){const Q=Object(f.c)(),{onboardingModalRef:he}=Object(s.b)();return(Z,le)=>de=>{var be,X;if(!Q){if(!he.current)return;de.preventDefault(),le?(be=he.current)==null||be.openForPub(Z,le):(X=he.current)==null||X.openToPubSignup(Z);return}Object(m.l)(Z,G)}}},function(k,n,t){"use strict";t.r(n),t.d(n,"getSectionPodcastSettings",function(){return i}),t.d(n,"getNewSectionPodcastSettings",function(){return h}),t.d(n,"getPubPodcastSettings",function(){return v}),t.d(n,"getNewPubPodcastSettings",function(){return j}),t.d(n,"getPodcastEpisodeImageUrl",function(){return y});var e=t(4),a=t.n(e),o=t(10),l=t.n(o),d=Object.defineProperty,c=Object.defineProperties,u=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,g=(b,E,P)=>E in b?d(b,E,{enumerable:!0,configurable:!0,writable:!0,value:P}):b[E]=P,O=(b,E)=>{for(var P in E||(E={}))m.call(E,P)&&g(b,P,E[P]);if(f)for(var P of f(E))p.call(E,P)&&g(b,P,E[P]);return b},s=(b,E)=>c(b,u(E));const r=b=>{if(!b)return[];const E=[];for(const P of b){if(E.length===2)break;const A=P.toLowerCase();for(const[_,M]of Object.entries(o.PODCAST_CATEGORIES)){if(E.length===2)break;if(_.toLowerCase()===A||_.toLowerCase().split(" & ").includes(A)){E.push({category:_});break}for(const F of M){if(E.length===2)break;if(F.toLowerCase()===A||F.toLowerCase().split(" & ").includes(A)){E.push({category:_,subcategory:F});break}}}}return E},i=({pub:b,section:E})=>{var P,A,_,M,F,H,C,T;const S=E==null?void 0:E.podcastSettings,D=(A=(P=S==null?void 0:S.podcast_title)!=null?P:E==null?void 0:E.name)!=null?A:null,w=(M=(_=S==null?void 0:S.podcast_description)!=null?_:E==null?void 0:E.description)!=null?M:null,U=(F=S==null?void 0:S.itunes_podcast_primary_category)!=null?F:null,V=(H=S==null?void 0:S.itunes_podcast_primary_subcategory)!=null?H:null,K=(C=S==null?void 0:S.itunes_podcast_secondary_category)!=null?C:null,Y=(T=S==null?void 0:S.itunes_podcast_secondary_subcategory)!=null?T:null,W=(S==null?void 0:S.itunes_explicit)||!1,R=(S==null?void 0:S.podcast_art_url)||Object(e.getDefaultPodcastArtUrlCDN)(),B=(S==null?void 0:S.paid_podcast_episode_art_url)||null,x=(S==null?void 0:S.podcast_byline)||b.podcast_byline||b.author_name||"",G=(S==null?void 0:S.language)||b.podcast_language||"",Q=!!S&&!!S.podcast_feed_url,he=Q?S.podcast_feed_url:Object(e.getPodcastRssUrl)({pub:s(O({},b),{section:E})});return{title:D,description:w,primaryCategory:U,primarySubcategory:V,secondaryCategory:K,secondarySubcategory:Y,isExplicit:W,artUrl:R,byline:x,language:G,isRedirected:Q,podcastRssUrl:he,paidEpisodeArtUrl:B}},h=({pub:b,section:E})=>{var P,A;const _=(P=E==null?void 0:E.name)!=null?P:null,M=(A=E==null?void 0:E.description)!=null?A:null,F=null,H=null,C=null,T=null,S=!1,D=Object(e.getDefaultPodcastArtUrlCDN)(),w=b.podcast_byline||b.author_name||"",U=b.podcast_language||"";return{title:_,description:M,primaryCategory:F,primarySubcategory:H,secondaryCategory:C,secondarySubcategory:T,isExplicit:S,artUrl:D,byline:w,language:U,isRedirected:!1,podcastRssUrl:null,paidEpisodeArtUrl:null}},v=({pub:b})=>{var E,P;const A=b.podcast_title||b.name,_=b.podcast_description||b.hero_text,M=b.itunes_podcast_primary_category,F=b.itunes_podcast_primary_subcategory,H=b.itunes_podcast_secondary_category,C=b.itunes_podcast_secondary_subcategory,T=(E=b.itunes_explicit)!=null?E:!1,S=b.podcast_art_url||Object(e.getDefaultPodcastArtUrlCDN)(),D=b.podcast_byline||b.author_name,w=b.podcast_language||"",U=!!b.show_pub_podcast_tab,V=!!b.podcast_feed_url,K=O({},b);delete K.section;const Y=V?b.podcast_feed_url:Object(e.getPodcastRssUrl)({pub:K});return{title:A,description:_,primaryCategory:M,primarySubcategory:F,secondaryCategory:H,secondarySubcategory:C,isExplicit:T,artUrl:S,byline:D,language:w,isRedirected:V,podcastRssUrl:Y,showPodcastTab:U,paidEpisodeArtUrl:(P=b.paid_podcast_episode_art_url)!=null?P:null}},j=({pub:b,publication:E})=>{var P,A,_;const[M,F]=r(E.tags.map(({canonical_name:R})=>R)),H=`${b.name} Podcast`,C=b.hero_text,T=M==null?void 0:M.category,S=(P=M==null?void 0:M.subcategory)!=null?P:null,D=F==null?void 0:F.category,w=(A=F==null?void 0:F.subcategory)!=null?A:null,U=b.explicit||!1,V=Object(e.getDefaultPodcastArtUrlCDN)(),K=b.author_name;return{title:H,description:C,primaryCategory:T,primarySubcategory:S,secondaryCategory:D,secondarySubcategory:w,isExplicit:U,artUrl:V,byline:K,language:"",isRedirected:null,podcastRssUrl:null,showPodcastTab:!0,paidEpisodeArtUrl:(_=b.paid_podcast_episode_art_url)!=null?_:null}};function y(b,E){return(E==null?void 0:E.cover_image)||(E==null?void 0:E.podcast_art_url)||(b==null?void 0:b.podcast_art_url)}},function(k,n,t){"use strict";t.d(n,"b",function(){return g}),t.d(n,"a",function(){return O});var e=t(0),a=t(1),o=t(551),l=t(117),d=Object.defineProperty,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?d(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s};function g({hoverOptions:s,layerOptions:r}={}){const[i,h]=Object(a.l)(!1),[v,j]=Object(l.b)(p({delayEnter:500,delayLeave:500},s)),{triggerProps:y,layerProps:b,renderLayer:E}=Object(l.c)(p({isOpen:v,auto:!0,triggerOffset:8},r));return{layerProps:b,triggerProps:p(p({},y),j),transitionProps:{show:v,beforeEnter:()=>h(!0),afterLeave:()=>h(!1)},renderLayer:E,shouldShow:v||i}}function O(s){return Object(e.h)(o.a,p({appear:!0,enter:"tw-transition-all tw-ease-in-out tw-duration-200 tw-transform-gpu",enterFrom:"tw-opacity-0",enterTo:"tw-opacity-100",leave:"tw-transition-all tw-ease-in-out tw-duration-200 tw-transform-gpu",leaveFrom:"tw-opacity-100",leaveTo:"tw-opacity-0"},s))}},,function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"TwitterIcon",svgParams:{height:24,width:24}}),Object(e.h)("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"}));n.default=O},function(k,n,t){var e=t(705),a=t(788),o=t(821),l=t(706),d=o(function(c,u){if(c==null)return[];var f=u.length;return f>1&&l(c,u[0],u[1])?u=[]:f>2&&l(u[0],u[1],u[2])&&(u=[u[0]]),a(c,e(u,1),[])});k.exports=d},function(k,n,t){"use strict";t.d(n,"b",function(){return Vo}),t.d(n,"c",function(){return Hn}),t.d(n,"g",function(){return It}),t.d(n,"d",function(){return _t}),t.d(n,"e",function(){return Vt}),t.d(n,"h",function(){return Tn}),t.d(n,"f",function(){return qn}),t.d(n,"a",function(){return Vr});var e=t(0),a=t(3),o=t(1),l=t(5),d=t.n(l),c=t(794),u=t(12),f=t.n(u),m=t(40),p=t(17),g=t.n(p),O=t(85),s=t.n(O),r=t(65),i=t(45),h=t(4),v=t(15),j=t(103),y=t(10),b=t(120),E=t(71),P=t(272),A=t(74),_=t(35),M=t(7),F=t(55),H=t(525),C=t(319),T=t(9),S=t(334),D=t(11),w=t(14),U=t(64),V=t(77),K=t(280),Y=t.n(K),W=t(147),R=t(210),B=t(407),G=({comments:Dt,expectedCommentCount:N,inputRef:L,post:$,pub:ne,sort:ee,token:ae,user:ve,onAddComment:Re,onUpdateComment:$e,onUpdateSort:bt})=>Object(y.canSeeComments)(ve,$)?Object(e.h)("div",null,Object(e.h)(R.a,{ref:L,formClassName:"tw-m-0",user:ve,pub:ne,post:$,token:ae,onSuccess:Re}),N>0&&Object(e.h)(B.a,{sort:ee,loading:!Dt,onSortSelected:bt,pub:ne}),Dt?Object(e.h)(R.b,{comments:Dt,post:$,pub:ne,reaction_token:ae,user:ve,onChange:$e,noRestack:!0}):Object(e.h)("div",{className:"tw-mt-4"},Y()(Math.min(N,5),()=>Object(e.h)(R.c,null)))):Object(e.h)(W.b,{user:ve,publication:ne,post:$,title:"Comments on this episode are for paid subscribers",reauthenticationTitle:"To see the comments, please re-authenticate."}),Q=t(278),he=t(2),Z=t(365),le=t(384),de=t(47),be=t(59);function X({post:Dt,pub:N,user:L,showDate:$,showDatetime:ne,isStatic:ee,className:ae,postReactionToken:ve,onChange:Re,allowEdit:$e,hidePinning:bt,showEmailSent:Ut,allowSendEmail:dn,allowMobileFooter:pn,reactors:jn,onCommentsClick:Nn,useWashBackground:Xn,showRestackModal:Lr,setFooterShown:Wr}){const Kr=Object(j.isMobile)({checkFirst4:!0}),Zr=typeof window=="undefined",uo=Object(_.c)(),go=Object(y.getBylineUsers)(Dt),yo=ne?g()(Dt.post_date).standardDatetime():ee?g()(Dt.post_date).standardDate():g()(Dt.post_date).standardDateOrTime(),{getSettingFor:vo}=Object(A.c)(),Sr=N.bylines_enabled&&Object(y.getPrintedByline)(N,Dt)&&Dt.type!=="podcast",Ro=Sr&&N.byline_images_enabled&&go.some(({photo_url:Qo})=>!!Qo),Po=Dt.type!=="page",Yo=Kr&&Ro&&go.length>2,lo=(N==null?void 0:N.community_enabled)&&Dt.slug&&!Dt.is_draft&&Object(y.showCommentsOnPost)({publication:N,post:Dt}),No=Sr&&go.length===1&&go[0].is_guest&&go[0].primaryPublicationSubscribeUrl&&go[0].primaryPublicationId!==N.id&&!N.parent_publication&&!Dt.is_draft&&!Object(F.default)("dont_show_guest_byline"),Ko=Object(y.oxfordComma)(go.map(Qo=>ee?Object(e.h)("a",{className:"byline-profile-link",href:Object(h.getProfileUrl)(Qo,N,{base:ee}),onClick:Xo=>Xo.stopPropagation()},Qo.name):Object(e.h)(he.c,{inline:!0,gap:4,alignItems:"center"},Object(e.h)(be.b,{subject:Qo,utmSource:"byline"},Object(e.h)("a",{className:"byline-profile-link",href:Object(h.getProfileUrl)(Qo,N,{base:ee}),onClick:Xo=>Xo.stopPropagation()},Qo.name)),!ee&&Object(e.h)(V.a,{tier:Qo.bestseller_tier,size:"sm",userId:Qo.id}))));return Object(e.h)("div",{className:d()("post-subheader",ae)},Object(e.h)("div",{className:d()("left",{vertical:Yo})},Ro&&(ee?Object(e.h)(b.b,{pub:N,post:Dt}):Object(e.h)(b.c,{className:"bylines-facepile",maximum:5,hoverProfiles:!0,faces:go.map(({id:Qo,name:Xo,photo_url:mi})=>({id:Qo,name:Xo,photo_url:mi})),faceUtmSource:"author-byline-face",elevated:Xn})),Object(e.h)("div",{className:"label-stack"},Sr&&Object(e.h)("div",{className:"bylines"},Object(e.h)("span",{className:"byline-names"},Ko)),No&&Object(e.h)("div",{className:"guest-author-publication"},"Writes\xA0",Object(e.h)("a",{className:"guest-author-publication-name",href:go[0].primaryPublicationUrl,title:go[0].primaryPublicationName},go[0].primaryPublicationName),"\xA0\xB7\xA0",Object(e.h)("a",{className:"guest-author-publication-subscribe",href:go[0].primaryPublicationSubscribeUrl},"Subscribe")),Object(e.h)("div",{className:"publish-context"},Dt.type==="adhoc_email"?Object(e.h)(le.default,{className:"audience-icon adhoc-email-icon",height:16,isStatic:ee}):Po&&Object(i.isPaidAudience)(Dt.audience)&&Object(e.h)(Z.a,{audience:Dt.audience,className:"audience-icon audience-lock-icon",size:16,isStatic:ee,thin:!0}),($||ne)&&Dt.post_date&&!Dt.is_draft&&Object(e.h)("time",{dateTime:g()(Dt.post_date).toISOString()},yo),Dt.is_draft&&($||ne)&&"Draft"))),Object(e.h)("div",{className:"right"},Kr&&!Zr&&pn&&Object(e.h)(de.b,{post:Dt,pub:N,user:L,isStatic:ee,onChange:Re,allowEdit:$e,hidePinning:bt,showEmailSent:Ut,allowSendEmail:dn,hideComments:!lo,onCommentsClick:Nn,showRestackModal:Lr,setFooterShown:Wr}),!Kr&&Object(e.h)(de.c,{post:Dt,pub:N,user:L,isStatic:ee,style:"button",onChange:Re,allowEdit:$e,hidePinning:bt,showEmailSent:Ut,allowSendEmail:dn,labelStyle:"counts-or-none",hideComments:!lo,onCommentsClick:Nn,position:"post-header",showRestackButton:!Dt.is_draft&&Object(Q.a)(L,{enable_restacking:!!vo("enable_restacking")},Dt,N,ee),showRestackModal:Lr})))}var ie=t(137),Ce=t(8),Le=t(211),Pe=({post:Dt})=>Object(e.h)("a",{className:"tw-no-underline hover:tw-underline",href:Object(h.pathWithQuery)("/subscribe",{simple:!0,next:document.location.href,utm_source:"paywall",utm_medium:"web",utm_content:Dt.id}),native:!0},Object(e.h)("div",{className:"podcast-embed tw-flex tw-items-center tw-justify-center tw-gap-3 tw-rounded tw-bg-pub-background tw-p-6 tw-font-sans tw-font-sans tw-text-base tw-shadow"},Object(e.h)(Le.default,{className:"tw-fill-pub-accent tw-stroke-0"}),Object(e.h)("span",{className:"tw-text-sm tw-font-semibold tw-text-pub-accent"},"Upgrade to listen"))),Ne=t(94),ce=t(171),q=t(832),te=t(21),ue=t(70),We=t(347),ot=t(250),ze=t(388),vt=t(591),Wt=t(232),zt=t(73),at=t(447),Be=({className:Dt,pub:N,utmSource:L})=>{const $=typeof window!="undefined"?window.location.href:"",ne=Object(v.getSubscribeUrl)(N,{params:{utm_source:L,simple:!0,next:$}});return Object(e.h)(te.b,{className:d()("primary tw-text-sm tw-font-semibold",Dt),href:ne},Object(y.getSubscribeText)(N))},Xe=Object.defineProperty,Te=Object.getOwnPropertySymbols,we=Object.prototype.hasOwnProperty,De=Object.prototype.propertyIsEnumerable,Ie=(Dt,N,L)=>N in Dt?Xe(Dt,N,{enumerable:!0,configurable:!0,writable:!0,value:L}):Dt[N]=L,He=(Dt,N)=>{for(var L in N||(N={}))we.call(N,L)&&Ie(Dt,L,N[L]);if(Te)for(var L of Te(N))De.call(N,L)&&Ie(Dt,L,N[L]);return Dt},Ve=(Dt,N)=>{var L={};for(var $ in Dt)we.call(Dt,$)&&N.indexOf($)<0&&(L[$]=Dt[$]);if(Dt!=null&&Te)for(var $ of Te(Dt))N.indexOf($)<0&&De.call(Dt,$)&&(L[$]=Dt[$]);return L},z=(Dt,N,L)=>new Promise(($,ne)=>{var ee=Re=>{try{ve(L.next(Re))}catch($e){ne($e)}},ae=Re=>{try{ve(L.throw(Re))}catch($e){ne($e)}},ve=Re=>Re.done?$(Re.value):Promise.resolve(Re.value).then(ee,ae);ve((L=L.apply(Dt,N)).next())});const se=["Podcast Addict"],Se=["Apple Podcasts"],Oe=["Apple Podcasts"],ge=[],je="https://support.substack.com/hc/en-us/articles/4519588148244-How-do-I-listen-to-episodes-on-my-podcast-app-",it=({feedUrl:Dt,post:N,pub:L,sectionId:$,hasAccessToPrivatePodcastFeed:ne,fileSrc:ee})=>{const[ae,ve]=Object(o.l)(!1),[Re,$e]=Object(We.a)();return Object(e.h)("div",{className:"tw-relative"},Object(e.h)("div",{className:d()("audio-button tw-flex tw-cursor-pointer tw-items-center tw-justify-center tw-gap-3 tw-rounded tw-border tw-border-solid tw-px-5 tw-py-3 tw-text-sm tw-font-semibold tw-text-pub-secondary-text tw-transition-colors sm:tw-py-2",ae?"tw-border-pub-detail-dark":"tw-border-pub-detail-light hover:tw-border-pub-detail"),role:"button",onClick:$e},Object(e.h)("span",{className:"sm:tw-hidden"},"Open in player"),Object(e.h)("span",{className:"tw-hidden sm:tw-block"},"Listen on"),Object(e.h)(ot.default,{className:"tw-hidden tw-fill-pub-secondary-text tw-stroke-pub-secondary-text sm:tw-block",height:4})),Object(e.h)(Tt,{feedUrl:Dt,menuRef:Re,post:N,pub:L,sectionId:$,onToggle:ve,hasAccessToPrivatePodcastFeed:ne,fileSrc:ee}))},Tt=({feedUrl:Dt,menuRef:N,post:L,pub:$,sectionId:ne,onToggle:ee,hasAccessToPrivatePodcastFeed:ae,fileSrc:ve})=>{const Re=Object(T.isMobileBrowser)(),$e=()=>{Object(M.i)(M.a.PODCAST_FEED_URL_COPIED),Object(T.copyToClipboard)(Dt),alert("Copied")},bt=()=>{Object(M.i)(M.a.PODCAST_APP_LINK_CLICK,{appName:"Substack App",feedUrl:Dt}),document.location.href=Object(h.getPostAppLinkUrl)($==null?void 0:$.subdomain,L==null?void 0:L.slug,{redirect:"app-marketing",source:"podcast-dropdown"})};return Object(e.h)(ue.b,{ref:N,noTail:!0,noList:!0,noPlace:!0,useDrawerOnMobile:!0,className:"tw-right-0 tw-border-pub-wash tw-bg-pub-background tw-p-0 tw-font-sans tw-transition sm:tw-max-w-none",wrapperClassName:"tw-max-h-[90vh]",onToggle:({active:Ut})=>{Object(M.i)(M.a.PODCAST_LISTEN_ON_CLICKED),ee(Ut)}},Re?Object(e.h)(sn,{feedUrl:Dt,pub:$,onCopyFeed:$e,onClickSubstackApp:bt,hasAccessToPrivatePodcastFeed:ae,fileSrc:ve}):Object(e.h)(ht,{feedUrl:Dt,pub:$,sectionId:ne,onCopyFeed:$e,onClickSubstackApp:bt,hasAccessToPrivatePodcastFeed:ae,fileSrc:ve}))},sn=({feedUrl:Dt,pub:N,onCopyFeed:L,onClickSubstackApp:$,hasAccessToPrivatePodcastFeed:ne,fileSrc:ee})=>{var ae;return Object(e.h)("div",{className:"tw-px-2 tw-pt-5 tw-pb-6"},Object(e.h)("div",{className:"tw-mb-2 tw-px-2 tw-text-xl tw-font-bold tw-text-pub-primary-text"},"Listen in app"),Object(T.isIOs)()&&Object(e.h)(Nt,{onClick:$},Object(e.h)("div",{className:"tw-flex tw-w-6 tw-justify-center"},Object(e.h)(Wt.default,null)),Object(e.h)("span",null,"Substack App")),Dt&&at.a.filter(ve=>Object(T.isIOs)()?Se.includes(ve.name):se.includes(ve.name)).map(({name:ve,icon:Re,onClick:$e})=>Object(e.h)(Nt,{key:ve,onClick:()=>{Object(M.i)(M.a.PODCAST_APP_LINK_CLICK,{appName:ve,feedUrl:Dt}),$e(Dt)}},Object(e.h)("img",{src:Re,alt:`${ve} logo`,className:"tw-w-6"}),Object(e.h)("span",{className:"tw-whitespace-nowrap"},ve))),Object(e.h)(Nt,{onClick:()=>{Object(T.downloadSrc)(Object(h.updateQuery)(ee,{download:!0}))}},Object(e.h)("div",{className:"tw-flex tw-w-6 tw-justify-center"},Object(e.h)(q.a,null)),Object(e.h)("span",null,"Download MP3")),Dt?Object(e.h)("div",{className:"tw-px-2 tw-pt-2"},Object(e.h)("div",{className:"tw-mb-4 tw-text-base tw-font-bold"},"Private RSS feed"),Object(e.h)("div",{className:"tw-mb-6 tw-text-sm tw-text-pub-secondary-text"},"Listen to paid episodes on your favorite podcast app with your private RSS feed. ",Object(e.h)(yt,null)),Object(e.h)("div",null,Object(e.h)(wt,{className:"tw-w-full",onClick:L},Object(e.h)(ze.default,{className:"tw-stroke-pub-secondary-text"}),Object(e.h)("span",null,"Copy link")))):ne?Object(e.h)("div",{className:"tw-mt-3 tw-border-0 tw-border-t tw-border-solid tw-border-pub-detail-light tw-px-2 tw-pt-6 tw-text-sm"},Object(e.h)("div",{className:"tw-mb-2 tw-font-bold"},"Private RSS feed"),Object(e.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},"Listen to paid episodes on your favorite podcast app with your private RSS feed."),Object(e.h)("div",null,Object(e.h)(Qe,{pub:N}))):Object(e.h)("div",{className:"tw-mt-3 tw-border-0 tw-border-t tw-border-solid tw-border-pub-detail-light tw-px-2 tw-pt-6 tw-text-sm"},Object(e.h)("div",{className:"tw-mb-2 tw-font-bold"},"Subscribe to ",(ae=N.podcast_title)!=null?ae:"this podcast"),Object(e.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},"Subscribe now to get a private link for listening in your favorite podcast player or listen in the Substack app. ",Object(e.h)(yt,null)),Object(e.h)(Be,{className:"tw-w-full",pub:N,utmSource:"podcast_post_listen_on"})))},ht=({feedUrl:Dt,pub:N,sectionId:L,onCopyFeed:$,onClickSubstackApp:ne,hasAccessToPrivatePodcastFeed:ee,fileSrc:ae})=>{var ve;const[Re,$e]=Object(o.l)(!1),[bt,Ut]=Object(o.l)(null),dn=()=>z(void 0,null,function*(){try{Object(M.i)(M.a.PODCAST_EMAIL_LINK_CLICKED),yield f.a.post("/api/v1/subscription/send_podcast_email").send({section_id:L}),alert("Email sent"),$e(!0)}catch(pn){console.error("Failed to send podcast setup email:",pn),Ut(pn)}});return Object(e.h)("div",{className:"tw-min-w-[280px] tw-px-2 tw-py-2"},Object(e.h)("div",{className:"tw-border-0 tw-border-b tw-border-solid tw-border-pub-detail-light tw-pb-2"},Object(e.h)(Nt,{onClick:ne},Object(e.h)("div",{className:"tw-flex tw-w-6 tw-justify-center"},Object(e.h)(Wt.default,null)),Object(e.h)("span",null,"Substack App")),Dt&&at.a.filter(pn=>Object(T.isMac)()?Oe.includes(pn.name):ge.includes(pn.name)).map(({name:pn,icon:jn,onClick:Nn})=>Object(e.h)(Nt,{key:pn,onClick:()=>{Object(M.i)(M.a.PODCAST_APP_LINK_CLICK,{appName:pn,feedUrl:Dt}),Nn(Dt)}},Object(e.h)("img",{src:jn,alt:`${pn} logo`,className:"tw-w-6"}),Object(e.h)("span",{className:"tw-whitespace-nowrap"},pn))),Object(e.h)(Nt,{onClick:()=>{Object(T.downloadSrc)(Object(h.updateQuery)(ae,{download:!0}))}},Object(e.h)("div",{className:"tw-flex tw-w-6 tw-justify-center"},Object(e.h)(q.a,null)),Object(e.h)("span",null,"Download MP3"))),Object(e.h)("div",{className:"tw-p-2 tw-pt-4 tw-text-sm"},Dt?Object(e.h)(e.Fragment,null,Object(e.h)("div",{className:"tw-mb-2 tw-font-bold"},"Your private RSS feed"),Object(e.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},"Copy your RSS link and paste it in your podcast app. ",Object(e.h)(yt,null)),Object(e.h)("div",{className:"tw-flex tw-gap-2"},Object(e.h)(wt,{onClick:$},Object(e.h)(ze.default,{className:"tw-stroke-pub-secondary-text",strokeWidth:1.5}),Object(e.h)("span",null,"Copy link")),Object(e.h)(wt,{onClick:dn,disabled:Re},Object(e.h)(vt.default,{className:"tw-stroke-pub-secondary-text"}),Object(e.h)("span",null,"Email link"))),bt&&Object(e.h)("div",{className:"tw-mt-2 tw-text-red-600"},Object(T.getNetworkErrorMessage)(bt))):ee?Object(e.h)(e.Fragment,null,Object(e.h)("div",{className:"tw-mb-2 tw-font-bold"},"Your private RSS feed"),Object(e.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},"Listen to paid episodes on your favorite podcast app with your private RSS feed."),Object(e.h)("div",null,Object(e.h)(Qe,{pub:N}))):Object(e.h)(e.Fragment,null,Object(e.h)("div",{className:"tw-mb-2 tw-font-bold"},"Get a private RSS link for listening"),Object(e.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},"Subscribe to ",(ve=N.podcast_title)!=null?ve:"this podcast"," to get a private link for listening in your favorite podcast player. ",Object(e.h)(yt,null)),Object(e.h)(Be,{pub:N,utmSource:"podcast_post_listen_on"}))))},Nt=Dt=>{var N=Dt,{children:L,href:$}=N,ne=Ve(N,["children","href"]);const ee="tw-box-border tw-flex tw-items-center tw-gap-3 tw-whitespace-nowrap tw-rounded tw-py-3 tw-px-2 tw-text-base tw-font-bold tw-text-pub-primary-text tw-transition-colors hover:tw-bg-pub-wash sm:tw-gap-2 sm:tw-py-2 sm:tw-text-sm sm:tw-font-medium";return $?Object(e.h)("a",He({className:d()("tw-no-underline",ee),href:$},ne),L):Object(e.h)("div",He({className:d()("tw-cursor-pointer",ee),role:"button"},ne),L)},wt=({children:Dt,className:N="",disabled:L=!1,onClick:$})=>Object(e.h)(te.b,{className:d()("outline-grayscale tw-flex tw-items-center tw-justify-center tw-gap-3 tw-border-pub-detail-light tw-text-sm tw-font-medium tw-text-pub-secondary-text hover:tw-border-pub-detail",N),onClick:$,disabled:L},Dt),yt=()=>Object(e.h)("a",{href:je,target:"_blank",rel:"noopener noreferrer",className:"tw-text-pub-accent"},"Learn about RSS."),Qe=({pub:Dt})=>Object(e.h)(wt,{className:"tw-w-full",onClick:()=>{}},Object(e.h)(zt.a,{className:"tw-stroke-pub-secondary-text tw-no-underline",href:Object(h.getPodcatcherSetupUrl)(Dt),onClick:()=>{}},"Set up feed"));var At=it,jt=(Dt,N,L)=>new Promise(($,ne)=>{var ee=Re=>{try{ve(L.next(Re))}catch($e){ne($e)}},ae=Re=>{try{ve(L.throw(Re))}catch($e){ne($e)}},ve=Re=>Re.done?$(Re.value):Promise.resolve(Re.value).then(ee,ae);ve((L=L.apply(Dt,N)).next())}),tn=({isFreeSubscribed:Dt,isSubscribed:N,pub:L,post:$,magicToken:ne,onGetDuration:ee,isPreview:ae})=>{const[ve,Re]=Object(o.l)(null);return Object(o.d)(()=>{if(!N&&!Dt)return;(()=>jt(void 0,null,function*(){const bt=yield f.a.get("/api/v1/subscription/podcast_rss_url").query({token:ne,section_id:$.section_id});bt.body.podcast_rss_url&&Re(bt.body.podcast_rss_url)}))()},[Dt,N,ne]),Object(e.h)(ce.a,{feature:"Podcast",pub:L,src:$.podcast_url,duration:$.podcast_duration,autoPlay:!1,metricsPost:$,addToPodcastLink:null,onGetDuration:ee,render:({currentTime:$e,isPlaying:bt,progress:Ut,progressBarRef:dn,progressBarOnMouseDown:pn,remainingTime:jn,playbackRate:Nn,setPlaybackRate:Xn,skipBack:Lr,skipForward:Wr,togglePlayback:Kr})=>Object(e.h)("div",{className:"podcast-embed tw-select-none tw-items-center tw-space-y-4 tw-rounded tw-bg-pub-background tw-p-6 tw-font-sans tw-shadow sm:tw-flex sm:tw-gap-4 sm:tw-space-y-0"},Object(e.h)("div",{className:"tw-flex tw-items-center tw-justify-between tw-gap-4"},Object(e.h)("div",{className:"tw-w-16 sm:tw-hidden"},"\xA0"),Object(e.h)(Ne.PlayerControls,{isPlaying:bt,onSkipBack:Lr,onSkipForward:Wr,onTogglePlayback:Kr}),Object(e.h)("div",{className:"tw-flex tw-w-16 tw-justify-end sm:tw-w-auto"},Object(e.h)(Ne.PlaybackRateToggle,{onSetPlaybackRate:Xn,playbackRate:Nn,className:"audio-button tw-w-12 tw-cursor-pointer tw-rounded-full tw-border-0 tw-border-solid tw-border-pub-detail-light tw-py-1 tw-text-center tw-font-meta tw-text-sm tw-font-semibold tw-leading-none tw-text-pub-primary-text hover:tw-border-pub-detail sm:tw-border sm:tw-text-pub-secondary-text"}))),Object(e.h)(Ne.ProgressBar,{currentTime:$e,remainingTime:jn,containerRef:dn,progress:Ut,onMouseDown:pn}),ae?Object(e.h)("div",{className:"tw-m-auto tw-w-min tw-whitespace-nowrap tw-rounded-full tw-bg-pub-detail-light tw-py-1 tw-px-3 tw-font-meta tw-text-xs tw-font-medium tw-leading-5 tw-text-pub-secondary-text"},"FREE PREVIEW"):Object(e.h)(At,{feedUrl:ve,post:$,pub:L,sectionId:$.section_id,hasAccessToPrivatePodcastFeed:N||Dt,fileSrc:$.podcast_url}))})},Ft=({expiry:Dt,podcastName:N,pub:L,postId:$})=>{const ne=g()(Dt).calendar(null,{sameDay:"[today]",nextDay:"[tomorrow]",nextWeek:"MMMM D",sameElse:"MMMM D"});return Object(e.h)("div",{className:"tw-co tw-mt-12 tw-flex tw-flex-col tw-items-center tw-rounded-md tw-text-center"},Object(e.h)("div",{className:"tw-leading-5 md:tw-w-3/4"},Object(e.h)("p",{className:"tw-mb-2 tw-font-sans tw-text-lg tw-font-bold"},"Set up your subscription"),Object(e.h)("p",{className:"podcast-description tw-mb-4 tw-font-sans tw-text-base tw-text-pub-secondary-text"},"Your complimentary subscription to ",N," ends ",ne,". To keep access and continue your support, finish setting up your subscription.")),Object(e.h)(U.a,{look:"button",variant:"themed-primary",size:"medium",href:Object(h.getSubscribeUrl)(L,{utm_source:"continue_your_support",utm_medium:"web",utm_content:$,simple:!0,next:document.location.href})},"Continue your support"))},lt=t(183),ln=({freeSignupEmail:Dt,pub:N,source:L,user:$,onSuccess:ne})=>Object(e.h)("div",{className:"inline-free-email-form"},Object(e.h)(lt.a,{user:$,pub:N,freeSignupEmail:Dt,source:L,onSuccess:ne,hideLogin:!0,hideTerms:!0,submitButtonText:Object(y.getSubscribeText)(N)}));const Mt="podcast_post_header";var nn=({freeSignupEmail:Dt,isFreeSubscribed:N,pub:L,user:$})=>{const[ne,ee]=Object(o.l)(!1),[ae,ve]=Object(o.l)(!1),Re=Object(o.k)(null),$e=L.section?L.section.description:L.podcast_description,bt=dn=>{if(L.plans){let pn=Object(h.getSubscribeUrl)(L,{just_signed_up:!0});dn.body.prompt_to_login&&(pn=`/account/login?redirect=${encodeURIComponent(pn)}&email=${encodeURIComponent(dn.body.email)}`),document.location.href=pn}else window.location.reload()},Ut=Object(o.a)(()=>{ee(!ne)},[ee,ne]);return Object(o.h)(()=>{const dn=()=>{const jn=Re.current&&Re.current.scrollHeight>Re.current.clientHeight;ve(ne||jn)};dn();const pn=Object(T.debounce)(dn);return window.addEventListener("resize",pn),()=>{window.removeEventListener("resize",pn)}},[ve,Re,ne]),Object(e.h)("div",{className:"tw-mt-6 tw-text-center"},$e&&Object(e.h)("div",{className:"podcast-description tw-mb-6 tw-font-sans tw-text-base tw-text-pub-secondary-text"},Object(e.h)("span",{ref:Re,"data-testid":"podcast-description",className:d()({"podcast-description--clamped":!ne})},$e),ae&&Object(e.h)("span",{className:"tw-cursor-pointer tw-font-bold",onClick:Ut},!ne&&Object(e.h)("span",null,"show more"),ne&&Object(e.h)("span",null," show less"))),N?Object(e.h)(te.b,{href:Object(h.getSubscribeUrl)(L,{utm_source:Mt}),className:"primary tw-w-full tw-text-sm tw-font-semibold sm:tw-w-auto"},Object(y.getSubscribeText)(L,{isFreeSubscribed:!0})):Object(T.isMobileBrowser)()?Object(e.h)(te.b,{href:Object(h.getSubscribeUrl)(L,{utm_source:Mt,simple:!0,next:document.location.href}),className:"primary tw-w-full tw-text-sm tw-font-semibold sm:tw-w-auto"},Object(y.getSubscribeText)(L)):Object(e.h)(ln,{freeSignupEmail:Dt,pub:L,source:Mt,user:$,onSuccess:bt}))},Kt=({freeSignupEmail:Dt,isFreeSignup:N,isPaywall:L,post:$,pub:ne,magicToken:ee,user:ae,onChange:ve,onClickCommentButton:Re,onTopReached:$e})=>{var bt;const[Ut,dn]=Object(o.l)((bt=$.podcast_duration)!=null?bt:0),pn=Zr=>{dn(Zr)},jn=!!(ae==null?void 0:ae.is_subscribed),Nn=!!(N||(ae==null?void 0:ae.is_free_subscribed)),Xn=!Nn||!jn&&!!ne.plans,Lr=jn&&(ae==null?void 0:ae.subscription_type)==="comp"&&g()(ae==null?void 0:ae.subscription_expiry).subtract(30,"days").isBeforeNow(),Wr=Nn&&!jn&&(ae==null?void 0:ae.comp_expired_recently),Kr=Object(y.getBylineUsers)($).sort((Zr,uo)=>Zr.id===ne.author_id?-1:uo.id===ne.author_id?1:Zr.is_guest&&!uo.is_guest?-1:!Zr.is_guest&&uo.is_guest?1:(Zr.name||"").localeCompare(uo.name||""));return Object(e.h)("div",{className:"tw-bg-pub-wash tw-py-8 sm:tw-pb-16"},Object(e.h)("div",{className:"container"},Object(e.h)(Sn,{post:$,podcastDuration:Ut}),Object(e.h)(X,{allowEdit:ae==null?void 0:ae.is_contributor,allowMobileFooter:!0,isStatic:!1,post:$,postReactionToken:ee,pub:ne,showDate:!0,showDatetime:!1,user:ae,onChange:ve,onCommentsClick:Re,useWashBackground:!0}),Object(e.h)(ie.a,{onVisible:$e}),L&&!Object(r.podcastPostIsFreePreview)($)?Object(e.h)(Pe,{post:$}):Object(e.h)(tn,{isFreeSubscribed:Nn,isSubscribed:jn,post:$,pub:ne,magicToken:ee,onGetDuration:pn,isPreview:Object(r.podcastPostIsFreePreview)($)}),ne.bylines_enabled&&Kr&&Kr.length?Object(e.h)(F.SiteConfigGate,{configKey:"podcast_bylines"},Object(e.h)(he.a,{direction:"column",gap:24,paddingTop:24},Object(e.h)(Ce.b.H4,{color:"pub-primary-text"},"Appears in this episode"),Kr.map(Zr=>Object(e.h)(he.a,{direction:"column",gap:24},Object(e.h)(he.a,{direction:"row",alignItems:"center",gap:8},Object(e.h)(b.c,{className:"podcast-post-header-facepile",maximum:1,hoverProfiles:!0,faces:[Zr],faceUtmSource:"author-byline-face-podcast",elevated:!0}),Object(e.h)(he.a,{direction:"column"},Object(e.h)(he.c,{gap:4,alignItems:"center"},Object(e.h)(Ce.b.B4,{color:"pub-primary-text",weight:"bold"},Zr.name),Object(e.h)(V.a,{userId:Zr.id,tier:Zr.bestseller_tier,size:"sm"})),Zr.primaryPublicationName&&Object(e.h)(Ce.b.B4,{color:"pub-secondary-text"},Zr.primaryPublicationUrl?Object(e.h)(e.Fragment,null,"Writes ",Object(e.h)("a",{style:{textDecoration:"none"},href:Zr.primaryPublicationUrl},Zr.primaryPublicationName)," ",Object(e.h)("a",{href:`${Zr.primaryPublicationUrl}/subscribe`},"Subscribe")):`Writes ${Zr.primaryPublicationName}`))))))):null,Lr||Wr?Object(e.h)(Ft,{expiry:ae.subscription_expiry,postId:$.id,podcastName:ne.podcast_title,pub:ne}):Xn?Object(e.h)(nn,{freeSignupEmail:Dt,isFreeSubscribed:Nn,pub:ne,user:ae}):null))};function Sn({post:Dt,podcastDuration:N}){return Object(e.h)("div",{className:"tw-items-end tw-gap-8 sm:tw-flex"},Dt.podcast_episode_image_url&&Object(e.h)("div",{className:"tw-mx-auto tw-mb-6 tw-box-border tw-h-32 tw-w-32 tw-shrink-0 tw-overflow-hidden tw-rounded-lg tw-border-4 tw-border-solid tw-border-white tw-bg-gray-400 tw-shadow-md sm:tw-mx-0 sm:tw-mb-0 sm:tw-h-56 sm:tw-w-56"},Object(e.h)("img",{className:"tw-h-full tw-w-full tw-object-cover",src:Object(h.cloudinary)(Dt.podcast_episode_image_url,512,{height:512,crop:"fill"})})),Object(e.h)("div",{className:"tw-text-center sm:tw-text-left"},Object(e.h)("div",{className:"tw-mb-1 tw-font-sans tw-text-sm tw-font-semibold tw-uppercase tw-text-pub-secondary-text"},Dt.post_date?g()(Dt.post_date).standardDate():g()().standardDate(),N>0&&` \u2022 ${Object(y.formatPodcastDuration)(N)}`),Dt.title&&Object(e.h)("h1",{className:d()("tw-mt-0 tw-mb-2 tw-leading-tight sm:tw-mb-1",{"tw-text-3xl sm:tw-text-4xl":Dt.title.length<60,"tw-text-3xl sm:tw-text-3xl":Dt.title.length>=60&&Dt.title.length<110,"tw-text-2xl sm:tw-text-2xl":Dt.title.length>=110&&Dt.title.length<140,"tw-text-xl sm:tw-text-xl":Dt.title.length>=140})},Dt.title),Dt.subtitle&&Object(e.h)("h3",{className:d()("tw-my-0 tw-font-sans tw-font-normal tw-text-pub-secondary-text",{"tw-text-lg":Dt.subtitle.length<110,"tw-text-base":Dt.subtitle.length>=110})},Dt.subtitle)))}function Qn({post:Dt,pub:N,user:L,isPaywall:$}){const ne=!!(L==null?void 0:L.is_subscribed),ee=Boolean(L.is_subscribed||L.is_free_subscribed),ae="";return $&&!Object(r.podcastPostIsFreePreview)(Dt)?Object(e.h)(Pe,{post:Dt}):Object(e.h)(tn,{isFreeSubscribed:ee,isSubscribed:ne,post:Dt,pub:N,magicToken:ae,isPreview:Object(r.podcastPostIsFreePreview)(Dt)})}var rr=t(813),Mr=t(192),zr=t(695),Rr=({activeTab:Dt,commentCount:N,onClickTab:L,loadedWithHeaderLink:$})=>{const[ne,ee]=Object(o.l)($);return Object(o.d)(()=>{if(typeof window=="undefined"||ne){ee(!1);return}window.history.replaceState?window.history.replaceState(null,null,`#${Dt}`):window.location.hash=`#${Dt}`},[Dt]),Object(e.h)("div",{className:"tw-border tw-border-solid tw-border-pub-detail-light"},Object(e.h)("div",{className:"container"},Object(e.h)(zr.a,{items:[{key:"details",icon:Object(e.h)(rr.a,{height:18}),label:"Episode details"},{key:"comments",icon:({active:ae})=>Object(e.h)(Mr.default,{className:d()("tw-fill-transparent",ae?"tw-stroke-pub-primary-text":"tw-stroke-pub-secondary-text"),height:18,strokeWidth:1.5}),label:N===0?"Comments":N===1?"1 comment":`${N} comments`}],onSelect:L,activeTab:Dt})))},_r=t(62),Dn=({children:Dt,href:N})=>Object(e.h)(e.Fragment,null,Object(e.h)("table",{cellSpacing:"0",cellPadding:"8",border:"0",width:"100%"},Object(e.h)("tr",null,Object(e.h)("td",{align:"center"},Object(e.h)("a",{href:N,className:"tw-font-sans tw-text-[13px] tw-font-semibold tw-text-error"},Dt)))));const ut=({post:Dt,compAlreadyExpired:N=!1})=>{const L=`${m.Substitutions.CHECKOUT_URL}&utm_medium=email&utm_campaign=continue_your_support&utm_content=${Dt.id}`;return Object(e.h)("table",{width:"100%",cellSpacing:"0",cellPadding:"0",border:"0",className:"tw-bg-error-wash",bgcolor:"#FFFAFA"},Object(e.h)("tr",null,Object(e.h)("td",{height:"16"})),Object(e.h)("tr",null,Object(e.h)("td",{align:"center",className:"tw-leading-5"},Object(e.h)("span",{className:"tw-font-sans tw-text-base tw-font-bold tw-text-error"},"Continue your support"),Object(e.h)("br",null),N?Object(e.h)("span",{className:"tw-font-sans tw-text-ssm tw-text-error"},"Your free trial has ended!",Object(e.h)("br",null),"Continue your support to access paid-only content."):Object(e.h)("span",{className:"tw-font-sans tw-text-ssm tw-text-error"},"Subscribe now to keep your paid status. You won't be",Object(e.h)("br",null),"charged until your free trial ends on ",m.Substitutions.SUBSCRIPTION_EXPIRY_DATE,"."))),Object(e.h)("tr",null,Object(e.h)("td",{height:"16"})),Object(e.h)("tr",null,Object(e.h)("td",null,Object(e.h)(Dn,{href:L},"Subscribe now"))),Object(e.h)("tr",null,Object(e.h)("td",{height:"16"})))};var fn=t(197),On=t(240),Ot=t(356),kt=t(357),Zt=t(253),Vn=t(198),Gn=t.n(Vn),tr=t(112),rn=t(33),_n=t(18),Yn=t(377),cr=t(724),Jt=t(725),cn=t(385),bn=t(726),zn=t(386),Rn=t(387),xn=t(122);class mr extends e.Component{onShare(N){this.props.position&&Object(M.i)(M.a.POST_SHARE_BUTTON_CLICKED,{position:this.props.position}),!this.props.isStatic&&(N&&N.stopPropagation(),this.props.sharedShareDialog?N.target.dispatchEvent(new CustomEvent("share-post",{bubbles:!0})):this.modal.open())}render({className:N,linkClassName:L,user:$,pub:ne,post:ee,reaction_token:ae,height:ve,onChange:Re,isStatic:$e,children:bt,sharedShareDialog:Ut,noIcon:dn}){let pn;return ee.share_url_override?pn=ee.share_url_override:$e?ee?pn=m.Substitutions.SHARE_URL:pn=m.Substitutions.SHARE_PUB_URL:pn="javascript:void(0)",Object(e.h)("span",{className:N},Object(e.h)("a",{href:pn,onClick:jn=>this.onShare(jn),className:L},!dn&&Object(e.h)(Rn.default,{className:"recommend-icon post-meta-icon",isStatic:$e,height:ve,alt:"Share",stroke:"#757575",fill:"transparent",strokeWidth:$e?1:1.5}),bt),!$e&&!Ut&&Object(e.h)(xn.c,{ref:jn=>this.modal=jn,user:$,pub:ne,post:ee,reaction_token:ae,onChange:Re}))}}var Or=t(136),Lt=t(424),qt=t(279),wn=Object.defineProperty,$n=Object.defineProperties,Wn=Object.getOwnPropertyDescriptors,Jn=Object.getOwnPropertySymbols,Tr=Object.prototype.hasOwnProperty,Qr=Object.prototype.propertyIsEnumerable,ao=(Dt,N,L)=>N in Dt?wn(Dt,N,{enumerable:!0,configurable:!0,writable:!0,value:L}):Dt[N]=L,oo=(Dt,N)=>{for(var L in N||(N={}))Tr.call(N,L)&&ao(Dt,L,N[L]);if(Jn)for(var L of Jn(N))Qr.call(N,L)&&ao(Dt,L,N[L]);return Dt},eo=(Dt,N)=>$n(Dt,Wn(N)),bo=(Dt,N,L)=>(ao(Dt,typeof N!="symbol"?N+"":N,L),L);const{getPaidOrFoundingTierNameForPost:zo}=t(65),Eo=46438;class Co extends e.Component{constructor(N,L){super(N,L);if(bo(this,"withAuthorLine",($,ne)=>{const{pub:ee,post:ae,showAuthor:ve,showPhoto:Re}=$,$e=ae.type==="adhoc_email",bt=Object(y.getBylineUsers)(ae).length,Ut=bt===1,dn=Ut&&Object(y.getBylineUsers)(ae)[0],pn=Ut&&dn.is_guest&&!Object(F.default)("dont_show_guest_byline")&&!$e,jn=$.showDate||$.showDatetime,Nn=!ae.is_published&&!$.inThreadHead&&jn&&!$e,Xn=$.isFreePreview&&$.showAudience&&jn&&!$e,Lr=Object(i.isFoundingAudience)(ae.audience)&&$.showAudience&&!Xn&&jn&&!$e,Wr=Object(i.isPaidAudience)(ae.audience)&&$.showAudience&&!Lr&&!Xn&&jn&&!$e,Kr=Object(de.o)({pub:ee,post:ae,showAuthor:ve,showPhoto:Re});return Object(e.h)(rn.e,{width:"100%",className:d()("post-meta")},Object(e.h)("tr",null,Object(e.h)("td",null,Object(e.h)(rn.d,null,Object(e.h)(rn.c,{gap:4},Object(e.h)(Ce.b.Meta,{color:"primary",className:qt.a.postAuthor},bt>0?Object(y.oxfordComma)(Object(y.getBylineUsers)(ae).map(Zr=>Object(e.h)(Ce.b.Meta,{as:"a",href:Object(h.getProfileUrl)(Zr,ee,{base:$.isStatic}),color:"primary",style:"text-decoration: none"},Zr.name))):Object(y.getPrintedByline)(ee,ae))),Object(e.h)(rn.c,{gap:4},Object(e.h)(Ce.b.Meta,null,($.showDate||$.showDatetime)&&ae.post_date&&Object(e.h)("time",{dateTime:g()(ae.post_date).toISOString()},g()(ae.post_date).standardDate())),Wr&&Object(e.h)(rn.c,{gap:4},Object(e.h)(Ce.b.Meta,null,"\u2219"),Object(e.h)(Ce.b.Meta,{color:"accent-purple"},"Paid")),Lr&&Object(e.h)(rn.c,{gap:4},Object(e.h)(Ce.b.Meta,null,"\u2219"),Object(e.h)(Ce.b.Meta,{color:"accent-purple"},zo(ee,ae))),Xn&&Object(e.h)(rn.c,{gap:4},Object(e.h)(Ce.b.Meta,null,"\u2219"),Object(e.h)(Ce.b.Meta,{color:"accent-purple"},"Preview")),pn&&Object(e.h)(rn.c,{gap:4},Object(e.h)(Ce.b.Meta,null,"\u2219"),Object(e.h)(Ce.b.Meta,null,"Guest post")),Nn&&Object(e.h)(rn.c,{gap:4},Object(e.h)(Ce.b.Meta,null,"\u2219"),Object(e.h)(Ce.b.Meta,null,"Draft"))))),Kr&&Object(e.h)("td",{align:"right"},Object(e.h)(rn.c,{gap:4},bt>0&&Object(y.getBylineUsers)(ae).map((Zr,uo)=>uo<4&&Object(e.h)("a",{href:Object(h.getProfileUrl)(Zr,ee,{base:$.isStatic})},Object(e.h)(rn.a,{src:Zr.photo_url,size:bt>1?32:40})))))))}),typeof window!="undefined"&&(window==null?void 0:window.matchMedia)){const $=window.matchMedia("screen and (max-width: 650px)");this.state={isMobileWidth:$.matches};const ne=ee=>{this.unmounted||this.setState({isMobileWidth:ee.matches})};$.addEventListener?$.addEventListener("change",ne):$.addListener&&$.addListener(ne)}}componentWillUnmount(){this.unmounted=!0}render({pub:N,post:L,showAuthor:$,showPhoto:ne,fromPostPage:ee}){return Object(de.o)({pub:N,post:L,showAuthor:$,showPhoto:ne})||Object(de.n)({pub:N,post:L,showAuthor:$})||Object(de.l)({pub:N,post:L,showAuthor:$})?this.withAuthorLine(this.props,this.state):Object(e.h)(un,eo(oo({},this.props),{editOnRightSide:this.props.showUpdatedIcons,className:this.props.showUpdatedIcons?"alternative-meta":this.props.className,isMobileWidth:this.state.isMobileWidth,actionBarStyle:ee?"post-header-compact":"post-preview"}))}}const Mo=({shouldShowFullWidthUfi:Dt,isMobileWidth:N,children:L})=>Dt?Object(e.h)(he.b,{style:{width:"100%"},gap:{desktop:16,mobile:0}},L):N?L:Object(e.h)(he.c,{style:{width:"100%"},justifyContent:"space-between",direction:"row-reverse"},L),ft=({additionalCommentCount:Dt,user:N,pub:L,post:$,showReactions:ne,showComments:ee,reaction_token:ae,onChange:ve,shareTooltipText:Re,fromPostPage:$e,onClickCommentButton:bt,reactors:Ut,isStatic:dn,base_url:pn,className:jn,showShare:Nn})=>{ne=ne&&L.community_enabled&&$.slug&&!$.is_draft;const Xn=Object(tr.useMediaQuery)({maxWidth:540}),{getSettingFor:Lr}=Object(A.c)(),Wr=!dn&&($==null?void 0:$.id)&&L.community_enabled&&!$.is_draft&&$.slug,Kr=Gn()(Object.values(($==null?void 0:$.reactions)||{})),Zr=Wr&&!!Kr&&ne,uo=!$.is_draft&&Object(Q.a)(N,{enable_restacking:!!Lr("enable_restacking")},$,L,!1),go=uo;return Object(e.h)(Mo,{shouldShowFullWidthUfi:go,isMobileWidth:Xn},Object(e.h)(de.c,{style:"button",post:$,pub:L,user:N,postReactionToken:ae,hideReactions:!ne||Xn&&uo,hideComments:!ee||Xn&&uo,hideSavePost:Xn&&uo,hideShare:!Nn||Xn&&uo,useShareLabel:Xn&&!go,labelStyle:Xn&&!go?"labels":"counts-or-none",onChange:ve,additionalCommentCount:Dt,showShare:Nn,onCommentsClick:bt,position:go?"post-footer-full-width":"post-footer",showRestackButton:uo}),Zr&&Object(e.h)(e.Fragment,null,(go||Xn)&&Object(e.h)("hr",{className:"footer-facepile-separator"}),Object(e.h)("div",{className:"footer-facepile-container"},Object(e.h)(yn,{postId:$.id,totalLikes:Kr,reactors:mt(Ut,N,!!$.reaction,L),loading:!Ut,hoverProfiles:!0,enableModal:!0,showFaces:L.post_reaction_faces_enabled}))))};function qe({pub:Dt,post:N,user:L,reactors:$,secondaryFaces:ne}){var ee;return Object(e.h)(yn,{postId:N.id,totalLikes:Math.max((ee=N.reactions["\u2764"])!=null?ee:0,($!=null?$:[]).length),reactors:mt($,L,!!N.reaction,Dt),secondaryFaces:mt(ne,L,!!N.restacked,Dt),totalRestacks:N.restacks||0,loading:!$,hoverProfiles:!0,enableModal:!0,showFaces:Dt.post_reaction_faces_enabled})}function rt(Dt){const{post:N,user:L,pub:$}=Dt,{result:ne,isLoading:ee}=Object(_n.f)({pathname:`/api/v1/post/${N.id}/reactors`,auto:!0,deps:[N.id]}),{result:ae,isLoading:ve}=Object(_n.f)({pathname:`/api/v1/post/${N.id}/restackers`,auto:!0,deps:[N.id]});return Object(e.h)(qe,oo({reactors:mt(ne,L,!!N.reaction,$),secondaryFaces:mt(ae,L,!!N.restacked,$)},Dt))}function mt(Dt,N,L,$){if(!Dt)return[];if(N){const ne=Dt.findIndex(ee=>ee.id===N.id);L&&(N.subscription_visibility!=="private"||$.id===Eo)&&N.activity_likes_enabled&&ne<0?Dt.splice(0,0,{id:N.id,name:N.name,photo_url:N.photo_url}):!L&&ne>=0&&Dt.splice(ne,1)}return Dt}function un({additionalCommentCount:Dt=0,className:N,user:L,pub:$,post:ne,showAudience:ee=!1,showDate:ae=!1,showEmailSent:ve=!1,showDatetime:Re=!1,showReactions:$e=!0,showComments:bt=!0,showShare:Ut=!1,showRestack:dn=!1,showPublicationName:pn=!1,hidePinning:jn=!1,reaction_token:Nn,onClick:Xn,onChange:Lr,isStatic:Wr=!1,isFreePreview:Kr=!1,allowSendEmail:Zr=!1,allowEdit:uo=!1,shareTooltipText:go,showPins:yo,sharedShareDialog:vo,showUpdatedIcons:Sr,editOnRightSide:Ro=!1,onClickCommentButton:Po,reactors:Yo,showAuthor:lo,showPhoto:No,fromPostPage:Ko,isMobileWidth:Qo,actionBarStyle:Xo="post-header-compact"}){var mi;const si=[$].concat($.child_publications).find(ti=>ti.id===ne.publication_id),li=mt(Yo,L,!!ne.reaction,$),Io=Xo==="post-footer",pi=Io?20:Xo==="post-preview"?14:18,Di=Xo==="post-header-large"?20:Xo==="post-preview"?16:Xo==="thread-head"||Io?14:18;let Li;ne.comment_url_override?Li=ne.comment_url_override:Wr?Li=`${m.Substitutions.HALF_MAGIC_COMMENTS_URL}&utm_source=substack&utm_medium=email`:Li=Object(h.getPostUrl)($,ne,{comments:!0});const Wi=Dt+((mi=ne.comment_count)!=null?mi:0),Xi=bt&&!Kr&&Object(y.showCommentsOnPost)({publication:$,post:ne})&&ne.type!=="restack",di=$e&&!Kr&&!["adhoc_email","restack"].includes(ne.type),yi=(ae||Re)&&ne.post_date&&!ne.is_draft,Ii=ve?Boolean(ne.email_sent_at):null,qi=Object(Yn.a)({user:L,noBase:!1}),sa=ti=>{var Ar;((Ar=ti.post)==null?void 0:Ar.reaction)&&L&&qi({user:L}),Lr(ti)},ji=Object(e.h)(Or.a,{user:L,pub:$,post:ne,token:Nn,onChange:sa,height:Di,isStatic:Wr,isFreePreview:Kr,alt:"Like",buttonStyle:Io,className:"post-meta-icon like-reaction-button",hideReactionCount:Io&&!Wr}),wi=[ve&&Ii&&{className:"email-sent",title:"This post was sent as an email",content:Object(e.h)(cr.default,{className:"post-meta-icon",height:pi,isStatic:Wr})},yo&&ne.is_section_pinned&&{className:"icon pinned",content:Object(e.h)(zn.default,{className:"post-meta-icon",isStatic:Wr})},ne.type==="adhoc_email"?{className:"audience-adhoc",content:Object(e.h)(le.default,{className:"post-meta-icon",isStatic:Wr})}:ee&&Object(i.isPaidAudience)(ne.audience)&&{className:"audience-lock",content:Object(e.h)(Jt.default,{color:"#666666",height:pi,isStatic:Wr})},Object(de.m)({pub:$,post:ne,showAuthor:lo,showPhoto:No,isMobileWidth:Qo})&&{className:"author",content:Object(y.getBylineUsers)(ne).length>0?Object(y.oxfordComma)(Object(y.getBylineUsers)(ne).map(ti=>Object(e.h)(be.b,{disabled:Wr,subject:ti,utmSource:"byline"},Object(e.h)("a",{href:Object(h.getProfileUrl)(ti,$,{base:Wr}),onClick:Ar=>Ar.stopPropagation()},ti.name)))):Object(y.getPrintedByline)($,ne)},pn&&{className:"post-publication-name",content:$.name},Sr&&!Ro&&uo&&!Wr&&L&&L.is_contributor&&{className:"post-meta-item icon edit-icon",onClick:ti=>ti.stopPropagation(),content:Object(e.h)(Zt.a,{pub:$,post:ne,iconHeight:pi,hidePinning:jn,user:L,emailSent:Ii,allowSendEmail:Zr,showUpdatedIcons:Sr})},yi&&{className:"post-date",title:g()(ne.post_date).toISOString(),content:Object(e.h)(Ce.b.Meta,null,Object(e.h)("time",{dateTime:g()(ne.post_date).toISOString()},Object(de.j)({post:ne,showDatetime:Re,isStatic:Wr,fromPostPage:Ko,showReactions:di})))},(si==null?void 0:si.community_enabled)&&ne.slug&&di&&!ne.is_draft&&{className:"icon",onClick:ti=>ti.stopPropagation(),content:!Io&&!Wr&&li.length?Object(e.h)(Lt.a,{portalClass:"facepile-tooltip",content:Object(e.h)(yn,{postId:ne.id,totalLikes:Gn()(Object.values(ne.reactions)),reactors:li,loading:!Yo})},ji):ji},L&&{className:"icon",onClick:ti=>ti.stopPropagation(),content:Object(e.h)(An,{post:ne,isPostFooter:Io,isStatic:Wr,lucideIconHeight:Di,onChange:Lr})},(si==null?void 0:si.community_enabled)&&ne.slug&&Xi&&!ne.is_draft&&{className:"icon",onClick:ti=>ti.stopPropagation(),content:Object(e.h)("a",{className:Io?"post-meta-button button":"",href:Li,native:si&&Object(h.isPublishPath)(document.location.pathname,si),onClick:Po},Object(e.h)(Mr.default,{className:"comment-icon post-meta-icon",isStatic:Wr,height:Di,alt:"Comment",stroke:"#757575",fill:"transparent",strokeWidth:Wr?1:1.5,ampProps:{layout:"fixed"}}),!Wi&&Io&&Object(e.h)("span",{className:"meta-button-label"},"Comment"),Wi>0&&Object(e.h)("span",{className:"comment-count"},Object(y.numberToString)(Wi)))},dn&&!Io&&{className:"icon",onClick:ti=>ti.stopPropagation(),content:Object(e.h)("a",{href:m.Substitutions.RESTACK_URL,className:Io?"button post-meta-button":void 0},Object(e.h)(bn.default,{className:"recommend-icon post-meta-icon",isStatic:Wr,height:Di,alt:"Recommend",stroke:"#757575",fill:"transparent",strokeWidth:Wr?1:1.5,ampProps:{layout:"fixed"}}),Io&&Object(e.h)("span",{className:"meta-button-label"},"Recommend"))},Ut&&ne.audience!=="only_free"&&!ne.is_draft&&!Kr&&{className:"icon",onClick:ti=>ti.stopPropagation(),content:Object(e.h)(mr,{user:L,pub:si,post:ne,reaction_token:Nn,height:Di,onChange:Lr,isStatic:Wr,sharedShareDialog:vo,position:Xo==="post-footer"?"post-footer":"post-header",linkClassName:Io?"button post-meta-button":void 0},Io&&Object(e.h)("span",{className:"meta-button-label"},"Share"),go&&Object(e.h)("div",{className:"share-tooltip-wrap"},Object(e.h)("div",{className:"share-tooltip"},go)))},(!Sr||Ro)&&uo&&!Wr&&L&&L.is_contributor&&{className:"icon edit-icon",onClick:ti=>ti.stopPropagation(),content:Object(e.h)(Zt.a,{pub:$,post:ne,iconHeight:pi,hidePinning:jn,user:L,emailSent:Ii,allowSendEmail:Zr,showUpdatedIcons:Sr})}].filter(ti=>!!ti);return Wr?Object(e.h)("table",{className:d()("post-meta custom",{big:Io},N),cellpadding:"0",cellspacing:"0",onClick:Xn},Object(e.h)("tr",null,wi.map(({className:ti,title:Ar,onClick:Ao,content:Fo})=>Object(e.h)("td",{className:d()("post-meta-item",ti),title:Ar,onClick:Ao},Fo)))):Object(e.h)("div",{className:d()("post-meta post-meta-actions-web custom",{big:Io},N),onClick:Xn},wi.map(({className:ti,title:Ar,onClick:Ao,content:Fo})=>Object(e.h)("div",{className:d()("post-meta-item",ti),title:Ar,onClick:Ao},Fo)))}function yn({className:Dt,postId:N,reactors:L,secondaryFaces:$,totalLikes:ne,totalRestacks:ee,loading:ae,hoverProfiles:ve,enableModal:Re,showFaces:$e}){const bt=ne>0?Object(y.pluralize)(ne,"Like"):"";let Ut="";return ee>0&&(Ut=`${Object(y.pluralize)(ee,"Restack")}`),Object(e.h)(b.c,{className:Dt,loading:ae,faces:L,secondaryFaces:$,pileLabel:bt,modalLabel:bt,secondaryLabel:Ut,totalCount:ne,totalRestacks:ee,hoverProfiles:ve,enableModal:Re,faceUtmSource:"post-reactions-face",detailUtmSource:"post-reactions-modal",onDialogOpen:()=>{Object(M.i)(M.a.POST_REACTIONS_MODAL_VIEWED,{post_id:N})},showFaces:$e})}function An({post:Dt,isPostFooter:N,isStatic:L,isSaved:$,lucideIconHeight:ne,onChange:ee}){const{onSave:ae,isSaved:ve}=Object(de.q)({post:Dt,isSaved:Dt.is_saved}),Re=()=>{const $e=ae();ee({post:eo(oo({},Dt),{is_saved:$e})})};return Object(e.h)("a",{className:d()("post-meta-save-button",N?"post-meta-button button":"",{isSaved:ve}),href:L&&m.Substitutions.SAVE_POST_URL,onClick:Re},Object(e.h)(cn.default,{isStatic:L,height:ne,stroke:"#757575",strokeWidth:L?1:1.5}),N&&Object(e.h)("span",{className:"meta-button-label"},"Save"))}var Je=t(49),St=t(37),Gt=t(727),vn=t(728);const kn=({post:Dt})=>{const N=Object(A.c)().getSettingFor("enable_prev_next_nav"),L=Object(St.a)();return!N||!(Dt==null?void 0:Dt.previous_post_slug)&&!(Dt==null?void 0:Dt.next_post_slug)?null:Object(e.h)("div",{className:"post-footer use-separators post-ufi themed next-prev"},Object(e.h)("div",null,Dt.previous_post_slug&&Object(e.h)(de.i,{icon:Object(e.h)(Gt.default,{className:"icon",strokeWidth:1.5,height:20}),noLabel:!1,style:"button",noBorder:L,onClick:()=>{Object(M.i)(M.a.PREVIOUS_POST_LINK_CLICKED,{post_id:Dt.id}),Object(Je.route)(`/p/${Dt.previous_post_slug}`)}},Object(e.h)("div",{className:"tw-flex tw-items-center"},"Previous"))),Object(e.h)("div",null,Dt.next_post_slug&&Object(e.h)(de.i,{icon:Object(e.h)(vn.default,{className:"icon",strokeWidth:1.5,height:20}),iconPosition:"right",noLabel:!1,style:"button",noBorder:L,onClick:()=>{Object(M.i)(M.a.NEXT_POST_LINK_CLICKED,{post_id:Dt.id}),Object(Je.route)(`/p/${Dt.next_post_slug}`)}},Object(e.h)("div",{className:"tw-flex tw-items-center"},"Next"))))};var or=t(593),fr=t(216),er=t(50),Ln=t(81),ur=t(578),br=t(129),et=(Dt,N,L)=>new Promise(($,ne)=>{var ee=Re=>{try{ve(L.next(Re))}catch($e){ne($e)}},ae=Re=>{try{ve(L.throw(Re))}catch($e){ne($e)}},ve=Re=>Re.done?$(Re.value):Promise.resolve(Re.value).then(ee,ae);ve((L=L.apply(Dt,N)).next())});const Ge=({pub:Dt})=>{const[N,L]=Object(o.l)(!0),[$,ne]=Object(o.l)(null),[ee,ae]=Object(o.l)(!1),ve=Object(o.k)(null),Re=()=>{ve.current.close()};if(Object(o.d)(()=>{!$&&N&&(()=>et(void 0,null,function*(){try{const Ut=(yield f.a.get("/api/v1/publication_user/default")).body;if(ne(Ut),!Ut||Ut.id===Dt.id){ae(!0),L(!1);return}const dn=yield f.a.get(`/api/v1/recommendations/from/${Ut.id}/to/${Dt.id}`);ae(!!dn.body),L(!1)}catch(bt){console.error("Failed to load recommend cta: ",bt)}}))()},[Dt,N,L,$,ne]),!(N||ee||$&&$.invite_only))return Object(e.h)(e.Fragment,null,Object(e.h)("div",{className:"end-of-post-recommend-cta-container"},Object(e.h)(Ln.a,{pub:Dt,size:54,openInNewTab:!0,logo_url:Dt.logo_url}),Object(e.h)("h3",{className:"publication-name"},"Recommend ",Dt.name," to the readers of ",$.name),Object(e.h)("p",{className:"publication-hero-text"},Dt.hero_text),Object(e.h)(te.b,{className:d()({primary:!0,"subscribe-button":!0}),onClick:()=>{Object(M.i)(M.a.END_OF_POST_RECOMMEND_CTA_CLICKED,{pub:Dt,recommending_pub_id:$==null?void 0:$.id}),ve.current.isOpen()?ve.current.close():ve.current.open()}},"Recommend")),Object(e.h)(tt,{pubToRecommend:Dt,recommendingPub:$,setLoading:L,setStep:Re,ref:ve}))};class tt extends er.a{getClassName(){return"settings-add-pub-modal-wrapper"}renderChildren(){return Object(e.h)(ur.a,{pubToRecommendBack:this.props.pubToRecommend,recommendingPub:this.props.recommendingPub,setStep:this.props.setStep,close:this.close,setLoading:N=>{this.props.setLoading(N),Object(br.b)(`Started recommending ${this.props.pubToRecommend.name}`,{timeout:1500})},source:"end-of-post-recommend-cta"})}}var Pt=t(172),gt=t(831),me=t(61),fe=t(48),Ee=t(269),Ue={subscribeDialog:"frontend-components-SubscribePrompt-module__subscribeDialog--2_6UY",form:"frontend-components-SubscribePrompt-module__form--2oxOd",dismissButton:"frontend-components-SubscribePrompt-module__dismissButton--YK0UW",emailInput:"frontend-components-SubscribePrompt-module__emailInput--3xDmy",pictureBox:"frontend-components-SubscribePrompt-module__pictureBox--3DvJb",authorIcon:"frontend-components-SubscribePrompt-module__authorIcon--2pK7K",childPublicationIcon:"frontend-components-SubscribePrompt-module__childPublicationIcon--32hj5",signInLink:"frontend-components-SubscribePrompt-module__signInLink--3H0Y9",background:"frontend-components-SubscribePrompt-module__background--2DQPj",error:"frontend-components-SubscribePrompt-module__error--3HxwM"},Ye=Object.defineProperty,ct=Object.getOwnPropertySymbols,Yt=Object.prototype.hasOwnProperty,Qt=Object.prototype.propertyIsEnumerable,En=(Dt,N,L)=>N in Dt?Ye(Dt,N,{enumerable:!0,configurable:!0,writable:!0,value:L}):Dt[N]=L,hn=(Dt,N)=>{for(var L in N||(N={}))Yt.call(N,L)&&En(Dt,L,N[L]);if(ct)for(var L of ct(N))Qt.call(N,L)&&En(Dt,L,N[L]);return Dt},In=(Dt,N,L)=>new Promise(($,ne)=>{var ee=Re=>{try{ve(L.next(Re))}catch($e){ne($e)}},ae=Re=>{try{ve(L.throw(Re))}catch($e){ne($e)}},ve=Re=>Re.done?$(Re.value):Promise.resolve(Re.value).then(ee,ae);ve((L=L.apply(Dt,N)).next())});const Fn=300,Un=({pub:Dt,post:N,variant:L,isTest:$})=>{var ne,ee;const[ae,ve]=Object(o.l)(!1),[Re,$e]=Object(o.l)(!1),[bt,Ut]=Object(o.l)(!1),[dn,pn]=Object(o.l)(""),[jn,Nn]=Object(o.l)([]),Xn=Object(o.k)(null),{exposeExperiment:Lr,getExperimentVariant:Wr}=Object(E.d)(),Kr=Dt.rankingDetail&&Wr("over_copy_post_page_subscribe_prompt")&&Dt.rankingDetailFreeSubscriberCount,Zr=Kr&&Wr("over_copy_post_page_subscribe_prompt")==="treatment",uo=`pub-${Dt.id}-subscribe-prompt-next-shown-at`,go=`pub-${Dt.id}-takeover-next-shown-at`,yo=typeof window!="undefined"&&(window==null?void 0:window.innerHeight)?window.innerHeight:700,vo=document.getElementsByClassName("available-content"),Sr=vo.length>0?vo[0].scrollHeight:0;let Ro=L==="control"?600:L==="bottom"?Sr*.8:Sr*.5;Ro=Math.max(Math.min(Ro,Sr-yo),600);const{height:Po,width:Yo}=((ne=Xn.current)==null?void 0:ne.getBoundingClientRect())||{height:0,width:0},lo=typeof window!="undefined"&&window&&Xn.current?(window.innerHeight-Po)/2:200,No=typeof window!="undefined"&&window&&Xn.current?(window.innerWidth-Yo)/2:0,[Ko,Qo]=Object(o.l)(yo+Math.max(lo,Ro)),[Xo,mi]=Object(o.l)(Math.max(document.documentElement.scrollTop||document.body.scrollTop,0)),[si,li]=Object(o.l)("absolute"),[Io,pi]=Object(o.l)(si==="fixed"||Xo>Ko-yo),Di=Object(St.a)(),Li=si==="fixed"?60:Math.min(Math.max((Xo-Ko+yo)/(yo-lo)*60,0),60),Wi=Object(o.a)(()=>{!Di&&Xo>=Ko-Fn&&$e(!0)},[Xo,L,Di,Ko,lo,$e]);Object(o.d)(()=>{if($)return;let di=!0;Sr<=1.5*yo&&(ve(!0),di=!1);let yi=null;if(document==null?void 0:document.referrer){try{yi=new URL(document.referrer)}catch(Ii){}((yi==null?void 0:yi.hostname)==="news.ycombinator.com"||(yi==null?void 0:yi.hostname)==="hckrnews.com")&&(ve(!0),di=!1)}Object(me.getStoredValue)(uo)>Date.now()&&(ve(!0),di=!1),di&&Kr&&Lr("over_copy_post_page_subscribe_prompt")},[]),Object(o.d)(()=>{!Io||ae||(Object(M.i)(M.a.SUBSCRIBE_PROMPT_SHOWN,{post_id:N.id,variant:L}),Object(me.setStoredValue)(uo,g()().add(1,"hour").valueOf()),Object(me.setStoredValue)(go,g()().add(1,"hour").valueOf()))},[Io,ae,L]),Object(o.d)(()=>{Re&&(Object(M.i)(M.a.SUBSCRIBE_PROMPT_DISMISSED,{post_id:N.id,variant:L}),Object(me.setStoredValue)(uo,g()().add(1,"day").valueOf()),Object(me.setStoredValue)(go,g()().add(1,"hour").valueOf()))},[Re,L]);const Xi=Object(o.a)(di=>In(void 0,null,function*(){var yi,Ii,qi,sa,ji;if(!bt){Ut(!0),Nn([]),Object(M.i)(M.a.SUBSCRIBE_PROMPT_SUBMITTED,{post_id:N.id,variant:L});try{const wi=yield f.a.post("/api/v1/free").send({email:di,source:"post-subscribe-prompt"});!Dt.plans&&!Dt.has_recommendations?window.location.reload():document.location.href=Object(h.getSubscribeUrl)(Dt,hn({utm_medium:"web",utm_source:"post-subscribe-prompt",utm_content:N&&N.id,simple:!0,just_signed_up:!0,next:Object(h.getPostUrl)(Dt,N),requires_confirmation:wi.body.requires_confirmation?"true":""},wi.body.subscription_id&&{subscription_id:wi.body.subscription_id}))}catch(wi){((Ii=(yi=wi==null?void 0:wi.response)==null?void 0:yi.body)==null?void 0:Ii.error)&&typeof wi.response.body.error=="string"?Nn([wi.response.body.error]):((sa=(qi=wi==null?void 0:wi.response)==null?void 0:qi.body)==null?void 0:sa.errors)&&Array.isArray(wi.response.body.errors)&&wi.response.body.errors.length>0&&typeof((ji=wi.response.body.errors[0])==null?void 0:ji.msg)=="string"&&Nn(wi.response.body.errors.map(ti=>ti.msg))}finally{Ut(!1)}}}),[N,Dt,bt,Ut,L]);return Object(o.d)(()=>{if(ae||Re)return;const di=()=>{const yi=Math.max(document.documentElement.scrollTop||document.body.scrollTop,0),Ii=yi-Xo;Ii>0&&si==="absolute"&&yi>Ko-lo&&li("fixed"),Ii<0&&si==="fixed"&&(li("absolute"),Qo(Xo+lo)),Ii<0&&si==="absolute"&&yi<Ko-yo&&Qo(yo+Math.max(lo,Ro,Xo)),mi(yi),(si==="fixed"||Ii>0&&yi>Ko-yo)&&pi(!0)};return window.addEventListener("scroll",di),window.addEventListener("resize",di),()=>{window.removeEventListener("scroll",di),window.removeEventListener("resize",di)}},[si,Ko,Qo,Xo,mi,pi]),Object(o.d)(()=>{if(ae||Re)return;const di=yi=>{yi.key==="Escape"&&$e(!0)};return window.addEventListener("keydown",di),()=>{window.removeEventListener("keydown",di)}},[ae,Re,$e]),ae||Re?Object(e.h)(e.Fragment,null):Object(e.h)(e.Fragment,null,Object(e.h)(he.b,{ref:Xn,className:Ue.subscribeDialog,style:{top:si==="absolute"?`${Ko}px`:`${lo}px`,left:`${No}px`,position:si},alignItems:"center"},Object(e.h)(he.c,{justifyContent:"center",alignItems:"end",paddingBottom:20},Object(e.h)("div",{className:Ue.pictureBox},Object(e.h)(fe.a,{user:{photo_url:Dt.author_photo_url},size:64,className:Ue.authorIcon}),Object(e.h)(Ee.a,{src:(ee=Dt.logo_url)!=null?ee:"",size:24,className:Ue.childPublicationIcon,alt:Dt.name}))),Object(e.h)(Ce.b.H4,{paddingBottom:4,align:"center"},"Discover more from ",Dt.name),Object(e.h)(Ce.b.B4,{color:"secondary",paddingBottom:Dt.rankingDetail?4:24,align:"center"},Dt.hero_text),Dt.rankingDetail&&Object(e.h)(Ce.b.Detail,{paddingBottom:24},Zr?Dt.rankingDetailFreeSubscriberCount:Dt.rankingDetail),Object(e.h)("form",{className:Ue.form,onSubmit:di=>{di.preventDefault(),Xi(dn)}},Object(e.h)("input",{className:Ue.emailInput,placeholder:"Type your email...",value:dn,disabled:bt,onChange:di=>{di.stopPropagation(),di.preventDefault(),pn(di.currentTarget.value)}}),Object(e.h)("div",{id:"error-container"},jn&&jn.map(di=>Object(e.h)("div",{className:Ue.error},di))),Object(e.h)(w.a,{type:"submit",disabled:bt,grow:!0,priority:"primary-theme"},"Subscribe")),Object(e.h)(he.c,{gap:8,alignItems:"center",justifyContent:"center",className:Ue.dismissButton,onClick:()=>$e(!0)},Object(e.h)(Ce.b.B4,{weight:"semibold",color:"secondary"},"Continue reading"),Object(e.h)(gt.a,null)),Object(e.h)(Ce.b.B4,{align:"center",className:Ue.signInLink,weight:"semibold"},Object(e.h)("a",{onClick:()=>{Object(M.i)(M.a.SUBSCRIBE_PROMPT_SIGN_IN_CLICKED,{post_id:N.id}),Object(T.redirect)(Object(h.getSigninUrl)({for_pub:Dt.subdomain,redirect:Object(h.getPostUrl)(Dt,N)}))},style:{cursor:"pointer"}},"Sign in")," ")),Li>0&&Object(e.h)("div",{className:Ue.background,onClick:Wi,style:{opacity:`${Li}%`}}))};var nr=t(32);function jr({postId:Dt,onClose:N}){return Object(o.d)(()=>{Object(M.i)(M.a.LISTEN_TO_THIS_POST_MODAL_SHOWN,{post_id:Dt})},[]),Object(e.h)(nr.a,{isOpen:!0,onClose:N},Object(e.h)(nr.d,{includeClose:!0,onClose:N}),Object(e.h)(nr.b,null,Object(e.h)(he.b,{alignItems:"center",gap:24},Object(e.h)(he.b,{style:{textAlign:"center"},justifyContent:"center",gap:8},Object(e.h)(nr.e,null,"Listen to this post"),Object(e.h)(Ce.b,{color:"secondary",style:{lineHeight:1.5}},"Get the Substack app to hear this article read aloud.")),Object(e.h)(Hr,null))),Object(e.h)(nr.c,{includeDivider:!0,alignment:"center",primaryButton:Object(e.h)(U.a,{variant:"primary",href:Object(h.getAppStoreRedirectUrl)({utm_source:"web",utm_campaign:"tts-modal"}),onClick:()=>Object(M.i)(M.a.LISTEN_TO_THIS_POST_MODAL_GET_THE_APP_CLICKED,{post_id:Dt})},"Get the app")}))}function Hr(){const Dt="/img/main/tts-dialog";return Object(e.h)("video",{height:220,autoPlay:!0,muted:!0,loop:!0},Object(e.h)("source",{src:`${Dt}/nux.mp4`,type:"video/mp4"}),Object(e.h)("img",{width:374,height:233,src:`${Dt}/1x.png`,srcset:Array.from(Br(1,4)).map(N=>`${Dt}/${N}x.png ${N}x`).join(", ")}))}function*Br(Dt,N){for(let L=Dt;L<N;L++)yield L}var Jr=t(150),so=t(178),Pr=Object.defineProperty,Ur=Object.defineProperties,Cr=Object.getOwnPropertyDescriptors,io=Object.getOwnPropertySymbols,co=Object.prototype.hasOwnProperty,Wo=Object.prototype.propertyIsEnumerable,qo=(Dt,N,L)=>N in Dt?Pr(Dt,N,{enumerable:!0,configurable:!0,writable:!0,value:L}):Dt[N]=L,Jo=(Dt,N)=>{for(var L in N||(N={}))co.call(N,L)&&qo(Dt,L,N[L]);if(io)for(var L of io(N))Wo.call(N,L)&&qo(Dt,L,N[L]);return Dt},Go=(Dt,N)=>Ur(Dt,Cr(N)),ko=(Dt,N,L)=>(qo(Dt,typeof N!="symbol"?N+"":N,L),L),Ho=(Dt,N,L)=>new Promise(($,ne)=>{var ee=Re=>{try{ve(L.next(Re))}catch($e){ne($e)}},ae=Re=>{try{ve(L.throw(Re))}catch($e){ne($e)}},ve=Re=>Re.done?$(Re.value):Promise.resolve(Re.value).then(ee,ae);ve((L=L.apply(Dt,N)).next())});const Vo="focus-comment-input",Ti=["details","comments"],dt=(Dt,N)=>Dt&&!Dt.invite_only&&N&&N.has_publication&&!N.is_admin&&!N.is_contributor&&!N.is_public_admin&&Object(C.a)(N,Dt),pt=(Dt,N,L,$)=>Dt.payments_state==="enabled"?!(N==null?void 0:N.is_subscribed):(N==null?void 0:N.is_free_subscribed)&&Dt.payments_state==="disabled"&&!Dt.invite_only?!$&&L&&!(N==null?void 0:N.is_pledged):!(N==null?void 0:N.is_free_subscribed);class Xt extends e.Component{constructor(N,L){super(N,L);ko(this,"onTopReached",$e=>{this.state.topReached||this.props.postPreview||(this.setState({topReached:!0}),Object(M.k)({post:this.props.post,hasPaywall:$e,surface:"publication"}),this.props.user&&!this.props.noPageview&&Promise.resolve(f.a.post(`/api/v1/posts/${this.props.post.id}/seen`)))}),ko(this,"onCommentButtonClicked",$e=>{if(this.props.post.type==="podcast"){$e.preventDefault(),this.state.activeTab!=="comments"&&(this.setState({activeTab:"comments"}),this.state.podcastComments||this.loadComments()),setTimeout(()=>{var bt;(bt=this.podcastCommentInput.current)==null||bt.focus()},0);return}!this.props.showComments||this.props.post.comment_count||($e.stopPropagation(),$e.preventDefault(),document.dispatchEvent(new CustomEvent(Vo)))}),ko(this,"handleClickTab",$e=>{this.setState({activeTab:$e}),$e==="comments"&&!this.state.podcastComments&&this.loadComments()}),ko(this,"handleAddPodcastComment",$e=>{this.setState({podcastComments:[$e].concat(this.state.podcastComments),addedPodcastComments:this.state.addedPodcastComments+1})}),ko(this,"handleUpdatePodcastComments",$e=>{let bt=0;const Ut=(pn,jn)=>pn.map(Nn=>Nn.id===jn.id?(jn.status==="deleted"?bt-=1:bt+=jn.children.length-Nn.children.length,jn):Go(Jo({},Nn),{children:Ut(Nn.children,jn)})),dn=Ut(this.state.podcastComments,$e);this.setState({podcastComments:dn,addedPodcastComments:this.state.addedPodcastComments+bt})}),ko(this,"handleUpdateSortPodcastComments",$e=>{Object(M.i)(M.a.COMMENTS_SORTED,{post_id:this.props.post.id,post_type:this.props.post.type,sort:$e}),this.setState({commentSort:$e},()=>{this.loadComments()})});var $,ne,ee;const ae=Object(T.getUrlHash)();this.state={autoPlay:!1,autoPlayVoiceOver:!1,podcastComments:null,addedPodcastComments:0,commentSort:($=N.post.default_comment_sort)!=null?$:"best_first",activeTab:Ti.includes(ae)?ae:"details",loadedWithHeaderLink:typeof window!="undefined"&&((ne=window.location.hash)==null?void 0:ne.startsWith(`#${encodeURIComponent("\xA7")}`)),reactors:null},!N.paywall&&!N.post.hidden&&N.post.body_html&&(this.state.canShowSubscribeFooterAfterPost=$r(N.post.body_html),this.state.truncated=N.truncateAt?Gr(N.post.body_html,N.truncateAt,N.truncateTo):null),typeof window!="undefined"&&window.history.replaceState&&(Object(h.getQueryItem)("autoPlay")==="true"&&(window.history.replaceState({},document.title,Object(h.updateQuery)({autoPlay:null})),this.state.autoPlay=!0),Object(h.getQueryItem)("play_audio")==="true"&&(window.history.replaceState({},document.title,Object(h.updateQuery)({play_audio:null})),this.state.autoPlayVoiceOver=!0)),this.containerRef=Object(e.createRef)(),this.shareDialogRef=Object(e.createRef)(),this.podcastCommentInput=Object(e.createRef)(),this.shouldShowRecommendCta=dt(N.pub,N.user),this.subscribeModalWrapper=Object(e.createRef)();const Re=(typeof window!="undefined"&&window._preloads.publicationSettings||{}).enable_post_page_conversion===!0;this.shouldShowSubscribePrompt=N.post.type==="newsletter"&&Re&&!N.disableSubscribePrompt&&!N.paywall&&!N.freeSignup&&!N.user&&!ae,this.subscribePromptVariant=this.shouldShowSubscribePrompt?(ee=this.context.getExperimentVariant("subscribe_prompt_position"))!=null?ee:"control":null}loadReactors(){return Ho(this,null,function*(){const[N,L]=yield Promise.all([f.a.get(`/api/v1/post/${this.props.post.id}/reactors`),f.a.get(`/api/v1/post/${this.props.post.id}/restackers`)]);this.setState({reactors:N.body,restackers:L.body})})}componentDidMount(){return Ho(this,null,function*(){this.props.post.type==="podcast"&&this.state.activeTab==="comments"&&Object(y.canSeeComments)(this.props.user,this.props.post)&&this.loadComments(),this.props.paywall&&!this.props.postPreview&&Object(M.i)(M.a.POST_PAYWALL_SHOWN,{post_id:this.props.post.id,post_audience:this.props.post.audience,post_type:this.props.post.type,user:this.props.user}),this._triggerShare=()=>this.triggerShare(),this.containerRef.current.addEventListener("share-post",this._triggerShare),this.props.post&&this.loadReactors(),Math.random()<.001&&Object(M.m)({post:this.props.post})})}componentWillUnmount(){this._triggerShare&&this.containerRef.current.removeEventListener("share-post",this._triggerShare)}loadComments(){return Ho(this,null,function*(){const N={all_comments:!0,sort:this.state.commentSort};try{this.setState({podcastComments:null});const L=yield f.a.get(`/api/v1/post/${this.props.post.id}/comments`).query(N);this.setState({podcastComments:L.body.comments})}catch(L){alert(Object(T.getNetworkErrorMessage)(L))}})}triggerShare({fromEmail:N}={}){N?this.shareDialogRef.current.fromEmail():this.shareDialogRef.current.open()}onBottomReached(N){this.state.bottomReached||this.props.postPreview||(this.setState({bottomReached:!0}),Object(M.j)({post:this.props.post,hasPaywall:N,surface:"publication"}))}shouldShowUFI(){const{fromPostPage:N,user:L,pub:$,getSettingFor:ne}=this.props,{canShowSubscribeFooterAfterPost:ee}=this.state;return N&&ee?pt($,L,ne("payment_pledges_enabled"),this.shouldShowRecommendCta):!1}shouldTrackPaywallPostSeen(){const N=document.createElement("div");N.innerHTML=this.props.post.body_html;const L=this.props.pub.post_preview_limit||y.DEFAULT_PREVIEW_LIMIT;let $="",ne=!1;for(let ee=N.childNodes.length-1;ee>=0;ee--)if($+=N.childNodes[ee].textContent,$.length>L){ne=!0;break}return ne}render({commentsEnabled:N,user:L,pub:$,post:ne,freeSignup:ee,freeSignupEmail:ae,reaction_token:ve,invisible:Re,paywall:$e,onChange:bt,hideTitle:Ut,noTitleLink:dn,showComments:pn,fromPostPage:jn,freeTrialCoupon:Nn,showRestackModal:Xn},{activeTab:Lr,loadedWithHeaderLink:Wr,truncated:Kr,coupon:Zr,autoPlay:uo,autoPlayVoiceOver:go,podcastComments:yo,commentSort:vo,addedPodcastComments:Sr,reactors:Ro,restackers:Po}){var Yo,lo,No,Ko,Qo,Xo;const mi=Object(F.default)("like_posts_enabled");let si=null;(L&&(L.is_subscribed||L.is_free_subscribed)||ee||$.podcast_feed_url||((lo=(Yo=ne.section)==null?void 0:Yo.podcastSettings)==null?void 0:lo.podcast_feed_url))&&(si=Object(h.getPodcatcherSetupUrl)($));const li=!$e||$e&&this.shouldTrackPaywallPostSeen(),Io=ne.type==="video"&&($e?W.d:so.a),pi=ne.type==="podcast"&&N,Di=ne.comment_count+Sr,Li=this.shouldShowUFI(),Wi=Nr(ne),Xi=Ro?Ro.length>0:!1;let di="paid subscribers";return ne.audience==="founding"&&(di=`subscribers in the ${(No=Object(r.getFoundingTierName)($))!=null?No:"Founding Member"} plan`),Object(e.h)("article",{className:d()(`typography ${ne.type}-post post`,{"tw-p-0":ne.type==="podcast"}),ref:this.containerRef},(L==null?void 0:L.is_contributor)&&(ne==null?void 0:ne.id)&&(ne==null?void 0:ne.type)==="page"&&Object(e.h)(U.a,{variant:"themed-secondary",href:Object(v.getEditPostUrlById)($,ne.id,{back:document.location.href}),localNavigation:!1,leftIcon:Object(e.h)(c.a,{size:20})},"Edit"),Object(e.h)(yr,{post:ne,user:L,onChange:bt}),Object(e.h)(xn.c,{ref:this.shareDialogRef,user:L,pub:$,post:ne,reaction_token:ve}),this.shouldShowSubscribePrompt&&Object(e.h)(Un,{pub:$,post:ne,variant:(Ko=this.subscribePromptVariant)!=null?Ko:"control"}),ne.videoUpload&&Io&&Object(e.h)(Io,{mediaUpload:ne.videoUpload,pub:$,post:ne,autoPlay:uo,restorePlaybackLocation:!0,reaction_token:ve}),ne.type==="podcast"?Object(e.h)(e.Fragment,null,Object(e.h)(Kt,{bylinesEnabled:$.bylines_enabled,commentCount:Di,commentsEnabled:N,freeSignupEmail:ae,isFreeSignup:ee,isLikesEnabled:mi,isPaywall:$e,post:ne,pub:$,magicToken:ve,renderEditButton:()=>Object(e.h)(Zt.a,{pub:$,post:ne,iconHeight:18,user:L,showUpdatedIcons:!0,dropdownClassName:"tw-ml-2",iconClassName:"tw-block tw-stroke-pub-primary-text"}),user:L,onChange:bt,onClickCommentButton:this.onCommentButtonClicked,onTopReached:this.onTopReached}),pi&&Object(e.h)(Rr,{activeTab:Lr,loadedWithHeaderLink:Wr,commentCount:Di,onClickTab:this.handleClickTab})):Object(e.h)(e.Fragment,null,Object(e.h)(_t,{user:L,pub:$,post:ne,isOnPostPage:!0,freeSignup:ee,freeSignupEmail:ae,reaction_token:ve,allowEdit:!0,showShare:!0,showSubtitle:!0,showPhoto:!0,showCommentRestack:!0,hideTitle:Ut,noTitleLink:dn,onChange:bt,hideDate:ne.type==="page",hideAudience:ne.type==="page",showReactions:mi,showComments:pn,showLabel:!0,showUpdatedIcons:!0,fromPostPage:jn,onClickCommentButton:this.onCommentButtonClicked,reactors:Ro,showRestackModal:Xn}),!Re&&li&&Object(e.h)(ie.a,{onVisible:()=>this.onTopReached($e)}),ne.type==="podcast"&&($e&&!Object(r.podcastPostIsFreePreview)(ne)?Object(e.h)(W.c,{pub:$,post:ne,duration:ne.podcast_duration,paywallAudience:di}):Object(e.h)(ce.a,{feature:"Podcast",pub:$,src:ne.podcast_url,duration:ne.podcast_duration,autoPlay:uo||Object(T.getUrlHash)()==="play",metricsPost:ne,addToPodcastLink:si})),(ne.has_voiceover||!!ne.voiceoverUpload)&&Object(e.h)(Ne.VoiceoverPlayer,{pub:$,post:ne,mediaUploadId:ne.voiceover_upload_id,duration:(Qo=ne.voiceoverUpload)==null?void 0:Qo.duration,autoPlay:go,href:ne.canonical_url,isPaywalled:!ne.voiceover_upload_id}),!ne.voiceoverUpload&&go&&Wi&&Object(e.h)(jr,{postId:ne.id,onClose:()=>{Object(M.i)(M.a.LISTEN_TO_THIS_POST_MODAL_DISMISSED,{post_id:ne.id}),this.setState({autoPlayVoiceOver:!1})}})),(ne.type!=="podcast"||Lr==="details"||!N)&&Object(e.h)("div",{className:d()({"container container--podcast-post container--podcast-post-with-ufi":ne.type==="podcast"})},Object(e.h)("div",{className:"available-content"},Object(e.h)(fr.a,{html:Kr||ne.body_html,pub:$,trackSelection:!0,user:L,freeSignup:ee,freeSignupEmail:ae,post:ne,paywall:$e,showing_behind_paywall:!!ne.post_paywall_content_for_google})),ne.post_paywall_content_for_google&&Object(e.h)("div",{className:"paywall-content"},Object(e.h)(fr.a,{html:ne.post_paywall_content_for_google,pub:$,trackSelection:!1,user:L,freeSignup:ee,freeSignupEmail:ae,post:ne,paywall:$e})),!Re&&li&&Object(e.h)(ie.a,{onVisible:()=>this.onBottomReached($e)}),$e&&!ne.post_paywall_content_for_google?Object(e.h)(e.Fragment,null,Object(e.h)(W.b,Jo({user:L,freeSignupEmail:ae,freeSignup:ee,publication:$,post:ne,fromPostPage:jn,coupon:this.props.paywall===!0&&this.props.pub.paywall_free_trial_enabled?Nn:null},Object.assign({title:`${ne.type==="video"&&((Xo=ne.videoUpload)==null?void 0:Xo.preview_duration)>0?"The full":"This"} ${Object(y.getPrintedPostType)(ne.type)} is for ${di}`,reauthenticationTitle:"To read this, please re-authenticate."},$e))),Object(e.h)(kn,{post:ne})):Kr?Object(e.h)("p",null,Object(e.h)(te.b,{className:"expander",onClick:()=>this.setState({truncated:null})},"+ ",I`show full post`)):!["page"].includes(ne==null?void 0:ne.type)&&Object(e.h)(e.Fragment,null,Li&&Object(e.h)(ir,{pub:$,post:ne,user:L,freeSignup:ee,freeSignupEmail:ae}),!Li&&this.shouldShowRecommendCta&&Object(e.h)(Ge,{pub:$}),Object(F.default)("like_posts_enabled")&&$.community_enabled&&Xi&&Object(e.h)(D.n,{borderTop:"detail-themed",paddingY:16},Object(e.h)(qe,{post:ne,pub:$,user:L,reactors:Ro,secondaryFaces:Po})),Object(e.h)("div",{className:"post-footer"},Object(e.h)(de.d,{post:ne,pub:$,user:L,onChange:bt})),Object(e.h)(kn,{post:ne})),ne.show_guest_bios&&ne.type!=="podcast"&&Object(e.h)(qr,{user:L,pub:$,post:ne})),ne.type==="podcast"&&Lr==="comments"&&N&&Object(e.h)("div",{className:"container tw-py-12"},Object(e.h)(G,{comments:yo,expectedCommentCount:Di,post:ne,pub:$,sort:vo,token:ve,user:L,inputRef:this.podcastCommentInput,onAddComment:this.handleAddPodcastComment,onUpdateSort:this.handleUpdateSortPodcastComments,onUpdateComment:this.handleUpdatePodcastComments})))}}ko(Xt,"contextType",P.a),ko(Xt,"displayName","Post");const Hn=Object(A.d)(Xt),ir=({pub:Dt,post:N,user:L,freeSignup:$,freeSignupEmail:ne,overridePledgesEnabled:ee})=>{const{getSettingFor:ae}=Object(A.c)(),ve=Dt.payments_state==="disabled"&&!Dt.invite_only&&(ae("payment_pledges_enabled")||ee),Re=Dt.payments_state==="enabled"&&(L==null?void 0:L.is_free_subscribed)&&!(L==null?void 0:L.is_subscribed)?"paid_upsell":ve&&(L==null?void 0:L.is_free_subscribed)&&!(L==null?void 0:L.is_pledged)?"pledge_upsell":"free_upsell";Object(o.d)(()=>{Object(M.i)(M.a.POST_END_CTA_RENDERED,{pub_id:Dt.id,post_id:N.id,type:Re})},[Dt.id,N.id,Re]);const $e=Object(y.getByLine)(Dt);return Object(e.h)("div",{className:"post-end-cta-full"},Object(e.h)(ie.a,{onVisible:()=>{Object(M.i)(M.a.POST_END_CTA_SEEN,{pub_id:Dt.id,post_id:N.id,type:Re})}}),Object(e.h)("h3",null,ve&&(L==null?void 0:L.is_free_subscribed)?"Support ":"Subscribe to ",Object(e.h)("b",null,Dt.name)),Object(e.h)("p",{className:"end-cta-author-subs"},$e?`By ${$e}`:null,$e&&Dt.rankingDetail?"\xA0\xA0\xB7\xA0\xA0":null,Dt.rankingDetail),Dt.hero_text&&Object(e.h)("p",{className:"end-cta-hero-text"},Dt.hero_text),ve&&(L==null?void 0:L.is_free_subscribed)&&!(L==null?void 0:L.is_pledged)?Object(e.h)(w.a,{priority:"primary-theme",onClick:()=>{Object(M.i)(M.a.POST_END_CTA_CLICKED,{type:"pledge"}),Object(T.redirect)(Object(v.getSubscribeUrl)(Dt,{utm_source:"post-end-cta"}),{local_navigation:!1})}},"Pledge your support"):Object(e.h)(Pt.b,{pub:Dt,post:N,user:L,freeSignup:$,freeSignupEmail:ne,isStatic:!1,source:"post-end-cta"}))},It=({pub:Dt})=>Object(e.h)("div",{className:"post-silhouette"},Object(e.h)("div",{className:"post-silhouette-title"}),Object(e.h)("div",{className:`post-silhouette-meta ${Dt&&Dt.bylines_enabled&&Dt.byline_images_enabled?"with-byline-image":""}`}),Object(e.h)("div",{className:"post-silhouette-body"})),_t=({allowEdit:Dt,allowSendEmail:N,allowTruncate:L,base_url:$,children:ne,className:ee,hideAudience:ae,hideDate:ve,hideTitle:Re,hidePinning:$e,noTitleLink:bt,isStatic:Ut,isFreePreview:dn,is_draft:pn,onChange:jn,post:Nn,pub:Xn,reaction_token:Lr,showComments:Wr,showDatetime:Kr,showEmailSent:Zr,showReactions:uo,showShare:go,showSubtitle:yo,showPhoto:vo,showLabel:Sr,showRestack:Ro,showCommentRestack:Po,hideAuthor:Yo,user:lo,utm_source:No,showUpdatedIcons:Ko,fromPostPage:Qo,onClickCommentButton:Xo,reactors:mi,inThreadHead:si,publishedPost:li,compEndsSoon:Io,compEndedRecently:pi,siteConfigValues:Di={},eligibleForTTS:Li,showRestackModal:Wi,showIcon:Xi,isOnPostPage:di})=>{const yi=Object(j.isMobile)({checkFirst4:!0}),Ii=typeof L=="number"?L:45,qi=Nn.title&&Nn.title.length>Ii,sa=pn?Nn.draft_title:Nn.title,ji=[(Xi||Nn.type==="thread")&&Object(e.h)(or.a,{postType:Nn.type,isStatic:Ut,height:15,className:Nn.type}),qi&&L?Object(y.truncateWords)(sa,Ii):sa],wi=pn?Nn.draft_subtitle:Nn.subtitle;Nn.section_id&&Xn.sections&&Xn.sections.length&&(Nn.section=Xn.sections.find(ki=>ki.id===Nn.section_id));const ti=!["page"].includes(Nn==null?void 0:Nn.type),Ar=ti&&Ut&&Io&&(Di==null?void 0:Di.continue_support_cta_in_newsletter_emails),Ao=Nr(Nn)||Li||Nn.voiceoverUpload,Fo=ti&&Ut;let hi;Nn.post_url_override?hi=Nn.post_url_override:Ut?hi=m.Substitutions.POST_TITLE_URL:hi=`${Object(v.getPostUrl)(Xn,Nn)}${No?`?utm_source=${No}`:""}`;const fi=`${Xn.base_url+(Nn.section?Object(v.getSectionUrl)(Xn,{section:Nn.section}):"")}/?utm_source=substack&utm_medium=menu`;return Object(e.h)("div",{className:d()("post-header",ee)},Sr&&(Xn.parent_publication||Nn.section)&&Object(e.h)(D.n,{className:"post-label"},Object(e.h)(D.D.Meta,{as:"a",size:14,href:fi},Xn.parent_publication?Xn.name:Nn.section.name)),Ar&&Object(e.h)(ut,{post:Nn,compAlreadyExpired:pi}),!Re&&Object(e.h)("h1",{className:d()("post-title",Nn.is_published?"published":Nn.type==="adhoc_email"?"adhoc":Nn.type==="restack"?"restack":"unpublished")},bt?ji:Object(e.h)("a",{href:hi},ji)),yo&&wi&&Object(e.h)("h3",{className:"subtitle"},wi),di&&!Ut?Object(e.h)(D.o,{paddingBottom:16},Object(e.h)(D.o,{paddingY:16},Object(e.h)(Xr,{post:Nn,pub:Xn})),yi?Qo&&Object(e.h)(de.b,{post:Nn,pub:Xn,user:lo,isStatic:Ut,postReactionToken:Lr,onChange:jn,allowEdit:Dt,hidePinning:$e,showEmailSent:Zr,allowSendEmail:N,hideComments:!Wr,onCommentsClick:Xo,showRestackModal:Wi}):Object(e.h)(de.d,{post:Nn,pub:Xn,user:lo,onChange:jn,showRestackModal:Wi})):Object(e.h)(e.Fragment,null,ti&&!Ut&&!li&&!si?Object(e.h)(X,{className:"meta-subheader",pub:Xn,post:Nn,user:lo,showDate:!ve,showDatetime:Kr,isStatic:Ut,postReactionToken:Lr,onChange:jn,allowEdit:Dt,hidePinning:$e,showEmailSent:Zr,allowSendEmail:N,allowMobileFooter:Qo,reactors:mi,onCommentsClick:Xo,showRestackModal:Wi}):ti&&!Ut&&li?Object(e.h)(de.c,{post:Nn,pub:Xn,user:lo,style:"compressed",labelStyle:"counts-or-none",postReactionToken:Lr,showEmailSent:Zr,hideShare:!go||Nn.type==="restack",hideComments:Nn.type==="restack",hideSavePost:Nn.type==="restack",showPreamble:!0,allowEdit:Dt,allowSendEmail:N,editButtonIsLast:!0,preambleConfig:{showAudience:!ae,showDate:!ve,showDatetime:Kr,showAuthor:!Yo},position:"publisher-post-list"}):si&&!Ut?Object(e.h)(de.c,{post:Nn,pub:Xn,user:lo,style:"compressed",labelStyle:"counts-or-none",postReactionToken:Lr,hideSavePost:!0,showPreamble:!0,allowEdit:Dt,allowSendEmail:N,editButtonIsLast:!0,onChange:jn,preambleConfig:{showAudience:!ae,showDate:!ve,showDatetime:Kr,showAuthor:!Yo},position:"publisher-post-list"}):ti?Object(e.h)(Co,{user:lo,pub:Xn,post:Nn,showDate:!ve,showDatetime:Kr,showEmailSent:Zr,showAudience:!ae,showReactions:!Fo&&uo,showComments:!Fo&&Wr,showShare:!Fo&&go,showRestack:!Fo&&Ro,reaction_token:Lr,onChange:jn,isStatic:Ut,isFreePreview:dn,sharedShareDialog:!0,base_url:$,allowSendEmail:N,allowEdit:Dt,showAuthor:!Yo,showPhoto:vo,hidePinning:$e,showUpdatedIcons:Ko,inThreadHead:si,fromPostPage:Qo,onClickCommentButton:Xo,reactors:mi}):Object(e.h)("div",{className:"spacer",style:{height:24}}),ti&&Fo&&Object(e.h)(de.h,{customization:{showShare:go,showComments:Wr,showReactions:uo,showListen:!Ro&&!dn&&Ao,showSave:!Ro,showRestack:Ro,showCommentRestack:Po}})),ne)};class Vt extends e.Component{constructor(){super(...arguments);ko(this,"onClick",N=>{const L=this.getLink();this.props.onClick&&this.props.onClick(),!this.props.disableInteractive&&Object(T.redirect)(L,{event:N})}),ko(this,"getLink",()=>{var N;return this.props.linkToComments?Object(v.getPostUrl)(this.props.pub,this.props.post,{comments:this.props.linkToComments}):((N=this.props.post)==null?void 0:N.type)==="video"?Object(h.updateQuery)(this.props.post.canonical_url,{autoPlay:!0}):this.props.utm?Object(v.pathWithQuery)(this.props.post.canonical_url,this.props.utm):this.props.post.canonical_url})}getMaxTitleLength(){let N=this.props.maxTitleLength;return typeof N=="function"&&(N=N(this)),(typeof N!="number"||!(N>0))&&(N=140),N}getMaxDescriptionLength(){let N=this.props.maxDescriptionLength;return typeof N=="function"&&(N=N(this)),(typeof N!="number"||!(N>0))&&(N=152),N}render({className:N,post:L,pub:$,user:ne,showDate:ee,hideShare:ae,authorInMeta:ve,imageAssetSize:Re,imageAspectRatio:$e,onChange:bt,linkToComments:Ut,showPublicationName:dn,isBigPost:pn,showPins:jn,hideDescription:Nn,hideAuthor:Xn,isBelowTheFold:Lr}){const Wr=this.getLink(),Kr=typeof window=="undefined"||Object(F.default)("like_posts_enabled"),Zr=!Xn&&!ve&&($==null?void 0:$.bylines_enabled)&&Object(y.getPrintedByline)($,L),uo=this.props.showCoverImage&&(Object(i.getCoverImageUrl)(L)||!this.props.coverImageOptional);!Re&&!$e&&($e=1.32);const go=Re||336,yo=Object(y.getBylineUsers)(L);return Object(e.h)("div",{className:d()("post-preview",N,{"has-image":uo,"has-author-line":!ve}),onClick:this.onClick},uo&&Object(e.h)(S.a,{className:"post-preview-image",imageAspectRatio:$e,post:L,imageWidth:go,isBelowTheFold:Lr}),Object(e.h)("div",{className:"post-preview-content"},($==null?void 0:$.parent_publication)&&pn&&Object(e.h)(D.n,{className:"post-label"},Object(e.h)(D.D.Meta,{as:"a",size:14,href:`${$.base_url}/?utm_source=substack&utm_medium=menu`},$.name)),Object(e.h)("a",{href:Wr,className:`post-preview-title ${L.type}`},L.type==="thread"&&Object(e.h)(Ot.default,{height:pn?26:17,className:"thread"}),L.type==="podcast"&&Object(e.h)(On.default,{height:pn?26:17,className:"podcast"}),L.type==="video"&&Object(e.h)(kt.default,{height:pn?26:19,width:pn?26:19,className:"video"}),Ut&&L.type!=="thread"&&"Comments on: ",Object(y.truncateWords)(L.title,this.getMaxTitleLength())),!Nn&&Object(e.h)("a",{href:Wr,className:"post-preview-description"},s()(Object(y.truncateWords)(L.description,this.getMaxDescriptionLength()))),Zr&&Object(e.h)("div",{className:"post-preview-author"},yo.length>0?Object(y.oxfordComma)(yo.map(vo=>Object(e.h)(be.b,{subject:vo,utmSource:"byline"},Object(e.h)("a",{href:Object(h.getProfileUrl)(vo,$),onClick:Sr=>Sr.stopPropagation()},vo.name)))):Object(y.getPrintedByline)($,L)),$&&Object(e.h)(de.c,{pub:$,post:L,user:ne,hideShare:ae,hideReactions:!Kr,hideComments:!Object(y.showCommentsOnPost)({publication:$,post:L}),allowEdit:!0,editButtonIsLast:!0,labelStyle:"counts-or-none",style:"compressed",onChange:bt,showPreamble:!0,preambleConfig:{showPins:jn,showAudience:!0,showDate:ee,showAuthor:!Xn&&!Zr&&ve,showPublicationName:dn},position:"post-list"})))}}ko(Vt,"contextType",_.a);function Tn({post:Dt,pub:N,user:L,isSignedIn:$,publicationSettings:ne}){var ee,ae,ve;const Re=Object(E.d)(),$e=L.is_subscribed,bt=L.is_subscribed||L.is_free_subscribed,Ut=(Dt==null?void 0:Dt.audience)?Object(i.userHasFullAccessToPost)(L,Dt):!0,dn=L.email,pn=(Dt==null?void 0:Dt.free_unlock_required)&&!bt,jn=!1,Xn=!Dt.hidden&&($e||Dt&&!Object(i.isPaidAudience)(Dt.audience)&&!jn||Dt&&!Dt.slug&&!jn)?!1:jn?{email_form:!0,autoFocus:!1,title:`Subscribe for free to ${N.name} to unlock this ${Dt.type==="podcast"?"episode":"post"}`}:!0;let Lr="paid subscribers";Dt.audience==="founding"&&(Lr=`subscribers in the ${(ee=Object(r.getFoundingTierName)(N))!=null?ee:"Founding Member"} plan`);const Wr=dt(N,L),Kr=!Xn&&!Dt.hidden&&Dt.body_html&&$r(Dt.body_html)&&pt(N,L,ne==null?void 0:ne.payment_pledges_enabled,Wr),Zr=Dt.type==="video"&&(Xn?W.d:so.a);Object(H.b)();const uo=Object(o.k)();Object(o.d)(()=>{const Sr="post viewer",Ro=Boolean(Xn);Object(M.k)({post:Dt,hasPaywall:Ro,surface:Sr});let Po=!1;const Yo=()=>{if(!Po){const lo=uo.current;lo&&lo.getBoundingClientRect().top<window.innerHeight&&(Po=!0,Object(M.j)({post:Dt,hasPaywall:Ro,surface:Sr}))}};return window.addEventListener("scroll",Yo,{passive:!0,capture:!0}),()=>{window.removeEventListener("scroll",Yo,{capture:!0})}},[Dt.id]);const{publishedBylines:go}=Dt,yo=600,vo=Object(o.k)();return Object(o.d)(()=>{if(!(vo==null?void 0:vo.current)||!(L==null?void 0:L.email))return;const Sr=vo.current.querySelectorAll('article.post input[type="email"]');for(const Ro of Sr)Ro.value||(Ro.value=L.email)},[Dt.id,L.email]),Object(e.h)(D.o,{as:"article",className:d()(`typography ${Dt.type}-post post post-viewer-post`),gap:16},Dt.videoUpload&&Zr&&Object(e.h)(D.n,{justifyContent:"center"},Object(e.h)(D.n,{justifyContent:"center",flex:"grow",style:{maxWidth:700}},Object(e.h)(Zr,{mediaUpload:Dt.videoUpload,pub:N,post:Dt,restorePlaybackLocation:!0}))),Object(e.h)(D.n,{justifyContent:"center"},Object(e.h)(D.o,{gap:16,style:{maxWidth:yo},flex:"grow"},Object(e.h)(D.o,{gap:4,alignItems:"start"},Object(e.h)(D.D.Meta,{as:"a",href:Object(v.getBaseUrl)(N),target:"_blank",decoration:"hover-underline"},N.name),Object(e.h)(D.o,{gap:8,alignItems:"start"},Object(e.h)(D.D.H2,{as:"a",href:Object(v.getPostUrl)(N,Dt),target:"_blank",size:32,lineHeight:40,decoration:"hover-underline"},Dt.title),Dt.type!=="podcast"&&Dt.subtitle&&Object(e.h)(D.D.B3,{color:"secondary"},Dt.subtitle))),go.length>0&&Object(e.h)(Xr,{post:Dt,pub:N}),Object(e.h)("hr",{style:"margin: 16px 0"}))),!$&&Object(e.h)(D.o,{borderBottom:"detail",paddingBottom:24,gap:16,style:{maxWidth:yo,margin:"0 auto"}},Object(e.h)(D.n,{justifyContent:"space-between",gap:16,alignItems:"center"},Object(e.h)(_r.a,{pub:N,size:48}),Object(e.h)(D.o,{flex:"grow"},Object(e.h)(D.D,{font:"display",size:20,color:"primary",weight:700},N.name),Object(e.h)(D.D.Meta,null,"1000s of subscribers")),Object(e.h)(w.a,{href:Object(v.getSubscribeUrl)(N,{addBase:!0,params:{utm_source:"substack",utm_medium:"web",utm_campaign:"post-viewer",next:document.location.toString()}})},"Subscribe")),Object(e.h)(D.D,{size:14,color:"secondary"},N.hero_text)),Object(e.h)("div",{className:d()({"container container--podcast-post container--podcast-post-with-ufi":Dt.type==="podcast"}),ref:vo},Dt.type==="podcast"&&Object(e.h)(D.o,{paddingBottom:32},Object(e.h)(Qn,{post:Dt,pub:N,user:L,isPaywall:Boolean(Xn)})),(Dt.has_voiceover||!!Dt.voiceoverUpload)&&Object(e.h)(sr,null,Object(e.h)(Ne.VoiceoverPlayer,{pub:N,post:Dt,mediaUploadId:Dt.voiceover_upload_id,duration:(ae=Dt.voiceoverUpload)==null?void 0:ae.duration,href:Dt.canonical_url,isPaywalled:!Dt.voiceover_upload_id})),Object(e.h)("div",{className:"available-content reader2-post-content"},Object(e.h)(fr.a,{html:Dt.body_html,pub:N,trackSelection:!0,user:L,freeSignup:bt,freeSignupEmail:dn,post:Dt,paywall:Xn,showing_behind_paywall:!!Dt.post_paywall_content_for_google})),Object(e.h)(sr,null,Kr&&Object(e.h)(ir,{user:L,pub:N,freeSignup:bt,freeSignupEmail:dn,post:Dt,overridePledgesEnabled:ne==null?void 0:ne.payment_pledges_enabled}),!Kr&&Wr&&Object(e.h)(Ge,{pub:N})),Object(e.h)(sr,{paddingY:24,borderTop:"detail",ref:uo},Xn&&Object(e.h)(W.b,Jo({user:L,freeSignupEmail:dn,freeSignup:bt,publication:N,post:Dt,title:`${Dt.type==="video"&&((ve=Dt.videoUpload)==null?void 0:ve.preview_duration)>0?"The full":"This"} ${Object(y.getPrintedPostType)(Dt.type)} is for ${Lr}`,reauthenticationTitle:"To read this, please re-authenticate."},Xn)),Object(e.h)(rt,{post:Dt,pub:N,user:L}))))}const sr=Object(a.forwardRef)((Dt,N)=>Object(e.h)(D.o,Jo({style:{width:"var(--page-width)",margin:"0 auto"},ref:N},Dt))),qn=({className:Dt,pub:N})=>Object(e.h)("div",{className:`post-preview-silhouette has-image ${Dt||""}`},Object(e.h)("div",{className:"post-preview-silhouette-image"}),Object(e.h)("div",{className:"post-preview-silhouette-content"},Object(e.h)("div",{className:"post-preview-silhouette-title"}),Object(e.h)("div",{className:"post-preview-silhouette-description"}),N&&N.bylines_enabled&&Object(e.h)("div",{className:"post-preview-silhouette-author"}),Object(e.h)("div",{className:"post-preview-silhouette-meta"}))),qr=({user:Dt,pub:N,post:L})=>{const $=Object(y.getBylineUsers)(L).filter(ne=>ne.is_guest);return $.length===0?null:Object(e.h)("div",{className:"post-contributor-footer"},Object(e.h)("div",{className:"container-border"}),$.map(ne=>{const ee=Object(y.guessFirstName)(ne.name);let ae=ne.primaryPublicationSubscribeUrl;ae&&(Dt==null?void 0:Dt.email)&&(ae=Object(h.updateQuery)(ae,{email:Dt.email,autoSubmit:!0,utm_source:"substack",utm_campaign:"guest_post_bio",utm_medium:"web"}));const ve=Object(h.updateQuery)(Object(v.getReaderProfileUrl)(ne),{utm_campaign:"guest_post_bio",utm_medium:"web"}),Re=Jr.c.hasCustomProfilePhoto(ne);return Object(e.h)("div",{className:d()("post-contributor-bio",{"post-contributor-bio-no-text":!ne.bio}),"data-user-id":ne.id},Object(e.h)("table",{cellpadding:"0",cellspacing:"0",className:"post-contributor-bio-table"},Object(e.h)("tr",{className:"post-contributor-bio-table-row"},Re&&Object(e.h)("td",{className:"post-contributor-bio-userhead-cell post-contributor-bio-userhead-cell-web"},Object(e.h)(be.b,{subject:ne,utmSource:"byline"},Object(e.h)(Jr.c,{size:52,user:Dt,pub:N,subject:ne}))),Object(e.h)("td",{className:"post-contributor-bio-body-cell post-contributor-bio-body-cell-web"},Object(e.h)("div",{className:"post-contributor-bio-body"},ne.bio&&Object(e.h)("div",{className:"post-contributor-bio-preamble"},"A guest post by"),Object(e.h)("table",{cellpadding:"0",cellspacing:"0",className:"post-contributor-bio-body-table"},Object(e.h)("tr",{className:"post-contributor-bio-body-table-row"},Object(e.h)("td",{className:"post-contributor-bio-copy-cell"},!ne.bio&&Object(e.h)("div",{className:"post-contributor-bio-preamble"},"A guest post by"),Object(e.h)(D.p,{gap:4,alignItems:"center",paddingBottom:4},Object(e.h)(be.b,{subject:ne,utmSource:"byline"},Object(e.h)("a",{className:"post-contributor-bio-title no-margin",href:ve,native:!0},ne.name)),Object(e.h)(V.a,{size:"sm",tier:ne.bestseller_tier,userId:ne.id})),ne.bio&&Object(e.h)("div",{className:"post-contributor-bio-text"},ne.bio)),Object(e.h)("td",{className:"post-contributor-bio-controls-cell post-contributor-bio-controls-cell-web"},Object(e.h)("div",{className:"post-contributor-bio-controls"},ae&&Object(e.h)("a",{className:"post-contributor-bio-subscribe-button button primary",href:ae,native:!0},Object(e.h)("span",{className:"post-contributor-bio-subscribe-button-label"},"Subscribe to ",ee)))))))))))}))};class Vr extends e.Component{render({renderPost:N,posts:L,hideFirstHeading:$,className:ne,top:ee,children:ae}){return L=L.slice(0).sort((ve,Re)=>g()(Re.post_date)-g()(ve.post_date)),Object(e.h)("div",{className:`calendared-post-list ${ne||""}`},ee,Object(y.flat)(this.renderByHeading(L,"year",(ve,Re)=>[!Re.isSameNow("year")&&Object(e.h)("h2",{date:Re},Re.year()),this.renderByHeading(ve,"month",($e,bt)=>[!(bt.isSameNow("year")&&bt.isSameNow("month"))&&Object(e.h)("h3",{date:Re},Object(y.get_month_name)(bt)," ",!bt.isSameNow("year")&&bt.year()),$e.map(Ut=>N(Ut,L.indexOf(Ut),L))])]),1/0).filter(ve=>ve).filter((ve,Re,$e)=>!$||Re>=$e.findIndex(bt=>!bt.props||!bt.props.date)),ae)}renderByHeading(N,L,$){return Array.from(Object(y.group_by)(N,ne=>g()(ne.post_date)[L]())).sort((ne,ee)=>ee[0]-ne[0]).map(([,ne])=>$(ne,g()(ne[0].post_date)))}}function Gr(Dt,N=1e4,L=N){if(typeof window=="undefined")return null;const $=document.createElement("div");if($.innerHTML=Dt,$.textContent.length<N||$.childNodes.length<=1)return null;do $.removeChild($.lastChild);while($.childNodes.length>1&&$.textContent.length>L);return $.innerHTML}function $r(Dt,N=500){if(typeof window=="undefined")return!1;const L=document.createElement("div");L.innerHTML=Dt;let $="",ne=!1;for(let ee=L.childNodes.length-1;ee>=0;ee--){const ae=L.childNodes[ee];if(Object(T.hasClass)(ae,"button-wrapper")||Object(T.hasClass)(ae,"subscription-widget-wrap")){ne=!0;break}if($+=ae.textContent,$.length>N)break}return!ne}function yr({post:Dt,user:N,onChange:L}){const{onSave:$}=Object(de.q)({post:Dt,isSaved:!1});return Object(o.d)(()=>{if(new URL(location).searchParams.get("action")==="save"&&(history.replaceState({},"",Object(h.updateQuery)({action:null})),N)){const ee=$();L({post:Go(Jo({},Dt),{is_saved:ee})})}},[]),null}function Nr(Dt){var N;return(N=Dt.audio_items)==null?void 0:N.some(L=>L.type==="tts")}const gr=new Intl.DateTimeFormat(void 0,{dateStyle:"medium"});function Xr({post:Dt,pub:N}){const{publishedBylines:L=[]}=Dt,$=N.bylines_enabled&&Object(y.getPrintedByline)(N,Dt)&&Dt.type!=="podcast",ne=$&&N.byline_images_enabled&&L.some(({photo_url:ae})=>Boolean(ae)),ee=Dt.type!=="page";return Object(e.h)(D.n,{justifyContent:"start",gap:12,alignItems:"center"},ne&&Object(e.h)(D.n,null,Object(e.h)(b.c,{faces:L,hoverProfiles:!0,maximum:4})),Object(e.h)(D.o,null,$&&Object(e.h)(D.D.Meta,{color:"pub-primary-text"},Object(e.h)(fn.a,{array:L,formatter:ae=>Object(e.h)(be.b,{subject:ae,utmSource:"byline"},Object(e.h)(D.D,{as:"a",href:Object(v.getReaderProfileUrl)(ae),decoration:"hover-underline"},ae.name)),limit:4})),Object(e.h)(D.n,{gap:4},Object(e.h)(D.D.Meta,{color:"pub-secondary-text"},gr.format(g()(Dt.post_date).toDate())),ee&&Object(i.isPaidAudience)(Dt.audience)&&Object(e.h)(D.D.Meta,{color:"pub-secondary-text"},"\u2219 Paid"))))}},function(k,n,t){"use strict";t.d(n,"b",function(){return bn}),t.d(n,"a",function(){return ke}),t.d(n,"d",function(){return Co}),t.d(n,"e",function(){return Mo}),t.d(n,"j",function(){return ft}),t.d(n,"c",function(){return Or}),t.d(n,"k",function(){return ie.i}),t.d(n,"i",function(){return ie.f}),t.d(n,"h",function(){return ie.e}),t.d(n,"f",function(){return ie.a}),t.d(n,"g",function(){return ie.b});var e=t(0),a=t(5),o=t.n(a),l=t(10),d=t(1),c=t(21),u=t(12),f=t.n(u),m=t(17),p=t.n(m),g=t(4),O=t(50),s=t(202),r=(qe,rt,mt)=>new Promise((un,yn)=>{var An=Gt=>{try{St(mt.next(Gt))}catch(vn){yn(vn)}},Je=Gt=>{try{St(mt.throw(Gt))}catch(vn){yn(vn)}},St=Gt=>Gt.done?un(Gt.value):Promise.resolve(Gt.value).then(An,Je);St((mt=mt.apply(qe,rt)).next())});const i={"1m":"one minute","1h":"one hour","24h":"24 hours","7d":"one week","30d":"one month","100y":"all time"},h=({ban:qe,onReply:rt,showReplyLink:mt,name:un})=>{const yn=p()(qe.expiry).standardDatetimeWithYear();return Object(e.h)("div",{className:"banned"},un," is banned until ",yn,"."," ",mt&&Object(e.h)("span",null,Object(e.h)("a",{onClick:rt,href:"javascript:void(0)"},"Leave a comment")," ","to let them know why."))};function v({pub:qe,sub:rt,children:mt,tab:un}){return!rt||!rt.email?mt:Object(e.h)("a",{target:"_blank",href:Object(g.getSubscriberDetailsUrl)(qe,rt.email,{tab:un})},mt)}const j=({sub:qe})=>qe?qe.is_subscribed?Object(e.h)("span",{className:"subscribed"},"Subscribed (Paid)"):qe.is_free_subscribed?Object(e.h)("span",{className:"subscribed"},"Subscribed (Free)"):Object(e.h)("span",{className:"not-subscribed"},"Not Subscribed"):null,y=({bans:qe,activeBans:rt})=>qe.length===0?Object(e.h)("span",null,"No previous bans"):rt.length>0?Object(e.h)("span",{className:"banned status"},"Banned"):Object(e.h)("span",{className:"status"},"Banned previously from ",p()(qe[0].start).standardDatetimeWithYear()," to"," ",p()(qe[0].expiry).standardDatetimeWithYear()),b=({comment:qe,pub:rt,onReply:mt,onBan:un,onClose:yn})=>{const[An,Je]=Object(d.l)(null),[St,Gt]=Object(d.l)(!1),[vn,kn]=Object(d.l)([]),[or,fr]=Object(d.l)(!1),[er,Ln]=Object(d.l)("24h"),[ur,br]=Object(d.l)(null),[et,Ge]=Object(d.l)(!0),tt=Object(d.k)(null),Pt=!!qe||St,gt=Ye=>{const ct=Ye;Ye.forEach(Yt=>{ct.findIndex(Qt=>Qt.id===Yt.id)==-1&&ct.push(Yt)}),kn(ct)},me=()=>{mt(qe.id),tt.current.close()};Object(d.d)(()=>{!(tt==null?void 0:tt.current)||(Pt?tt.current.state.open||tt.current.open():tt.current.state.open&&tt.current.close())},[qe,St]),Object(d.d)(()=>r(void 0,null,function*(){if(!!qe){fr(!1),Gt(!0),kn([]),br(null),Je(null);try{const Ye=yield f.a.get(`/api/v1/user/${qe.user_id}/bans`);kn(Ye.body.bans),Je(Ye.body.sub)}catch(Ye){console.error("Failed to get bans:",Ye),br(!0)}Gt(!1)}}),[qe]);const fe=()=>r(void 0,null,function*(){Gt(!0);try{const Ye=yield f.a.post(`/api/v1/comment_ban/${qe.id}`,{pub:rt}).send({user_id:qe.user_id,expiry:er,removeAllComments:et});et&&document.location.reload(),gt(Ye.body.bans),fr(!0),Gt(!1),un(qe,vn)}catch(Ye){console.error("Failed to submit ban",Ye),br(!0)}Gt(!1)});if(!qe)return null;const Ee=i[er],Ue=vn.filter(Ye=>p()(Ye.expiry).isAfter(p()()));return Object(e.h)(O.a,{ref:tt,noExitOnClick:!0,onClose:yn},Object(e.h)("div",{className:"ban-dialog comment"},Object(e.h)("div",{className:"profile"},Object(e.h)("div",{className:"photo"},Object(e.h)(v,{pub:rt,sub:An},Object(e.h)(s.b,{photo_url:qe.photo_url,size:80,banned:Ue.length>0}))),Object(e.h)("div",{className:"info"},Object(e.h)(v,{pub:rt,sub:An},Object(e.h)("span",{className:"name"},qe.name)),Object(e.h)(j,{sub:An}),Object(e.h)(y,{bans:vn,activeBans:Ue}))),ur&&Object(e.h)("div",{className:"error"},"Sorry, an error occurred."),St?"Loading...":Object(e.h)("form",{className:"form"},Ue.length===0&&Object(e.h)("div",null,Object(e.h)("label",null,"Ban from commenting for",Object(e.h)("select",{onInput:Ye=>Ln(Ye.target.value),value:er},Object(e.h)("option",{value:"1h"},"one hour"),Object(e.h)("option",{value:"24h"},"24 hours"),Object(e.h)("option",{value:"7d"},"one week"),Object(e.h)("option",{value:"30d"},"one month"),Object(e.h)("option",{value:"100y"},"indefinitely"))),Object(e.h)("label",null,Object(e.h)("input",{type:"checkbox",checked:et,onInput:Ye=>Ge(Ye.target.checked)}),"Remove ",Object(l.guessFirstName)(qe.name),"'s"," ",Object(e.h)(v,{pub:rt,sub:An,tab:"comments"},"previous comments on your publication")," ","(this action cannot be reversed)"),Object(e.h)("div",{className:"button-wrapper"},Object(e.h)(c.b,{className:"button primary",onClick:fe},"Ban for ",Ee))),Ue.length>0&&vn.filter(Ye=>Ye.user_id).map(Ye=>Object(e.h)(h,{ban:Ye,showReplyLink:or,onReply:me,name:qe.name})))))};var E=b,P=t(67),A=t(59),_=t(150),M=t(7),F=t(443),H=t(840),C=t(794),T=t(847),S=t(848),D=t(812),w=t(849),U=t(445),V=t(833),K=t(811),Y=t(110),W=t(84),R=t(136),B=t(80),x=t(55),G=t(9),Q=t(14),he=t(99),Z=t(2),le=t(23),de=t(8),be=t(90),X=t(186),ie=t(63),Ce={link:"frontend-main-comments-CommentActions-module__link--MR3kA"},Le=(qe,rt,mt)=>new Promise((un,yn)=>{var An=Gt=>{try{St(mt.next(Gt))}catch(vn){yn(vn)}},Je=Gt=>{try{St(mt.throw(Gt))}catch(vn){yn(vn)}},St=Gt=>Gt.done?un(Gt.value):Promise.resolve(Gt.value).then(An,Je);St((mt=mt.apply(qe,rt)).next())});const Ae=({comment:qe,pub:rt,user:mt,post:un,reaction_token:yn,commentsEnabledForPost:An,hideContextMenu:Je,noRestack:St,onChange:Gt,startReply:vn,startEdit:kn,startReport:or,openBan:fr,scrollRef:er,updateCommentReacted:Ln})=>{var ur;const{pinned_by_user_id:br}=qe,et=!!br,Ge=Object(d.k)(),tt=Object(d.k)(),Pt=Object(d.k)(),[gt,me]=Object(d.l)(!1),[fe,Ee]=Object(d.l)(!1),[Ue,Ye]=Object(d.l)(!1),[ct,Yt]=Object(d.l)(!1),Qt=Object(d.a)(()=>{var dt;ct?(dt=Pt.current)==null||dt.toggle():Yt(!0)},[ct,Yt,Pt]);Object(d.d)(()=>{var dt;(dt=Pt.current)==null||dt.toggle()},[ct]);const En=()=>Le(void 0,null,function*(){if(!Ue&&!!window.confirm(`Are you sure you want to ${et?"unpin":"pin"} this comment?`)&&!Ue){Ye(!0);try{yield f.a.patch(`/api/v1/comment/${qe.id}/pin`).send({pinned:!et}),Gt({pinned:!et}),document.location.reload()}catch(dt){alert(Object(G.getNetworkErrorMessage)(dt)),Ye(!1)}}}),hn=()=>Le(void 0,null,function*(){var dt;if(!gt&&!!window.confirm("Are you sure you want to remove this comment?")&&!gt){me(!0);try{yield f.a.patch(`/api/v1/comment/${qe.id}/status`).send({status:P.COMMENT_STATUS.moderator_removed}),Gt({suppressed:!0,status:P.COMMENT_STATUS.moderator_removed,body:null}),(dt=tt.current)==null||dt.close()}catch(pt){alert(Object(G.getNetworkErrorMessage)(pt))}me(!1)}}),In=()=>Le(void 0,null,function*(){var dt;if(!fe&&!!window.confirm("Are you sure you want to delete this comment?")&&!fe){Ee(!0);try{yield f.a.delete(`/api/v1/comment/${qe.id}`).send(),Gt({status:P.COMMENT_STATUS.deleted,deleted:!0,user_id:null,name:null,body:null}),(dt=tt.current)==null||dt.close()}catch(pt){alert(Object(G.getNetworkErrorMessage)(pt))}Ee(!1)}}),Fn=()=>Le(void 0,null,function*(){const dt=Object(ie.e)(un,qe,rt),pt=`https://linear.app/substackinc/team/TPT/new?description=${qe.body}%0A%0AComment%20author:%20[${qe.name}](https://admin.substack.com/users/${qe.user_id})%0A%0ALink:%20${dt}&status=Triage`;window.open(pt,"_blank")}),Un=24,nr="#222",jr=Boolean(mt&&mt.id===qe.user_id),Hr=(mt==null?void 0:mt.is_contributor)&&Object(P.hasVisibleStatus)(qe)&&qe.ancestor_path==="",Br=Object(l.canEditComment)(mt,qe),Jr=(mt==null?void 0:mt.is_contributor)&&Object(P.hasVisibleStatus)(qe)&&qe.ancestor_path==="",so=!jr&&qe.metadata.eligibleForGift&&!qe.metadata.is_author,Pr=(mt==null?void 0:mt.is_contributor)&&Object(P.hasVisibleStatus)(qe),Ur=!jr&&rt.moderation_enabled&&!qe.reported_by_user&&!qe.hidden&&!qe.suppressed,Cr=jr,io=Pr&&!jr,co=Pr&&mt.is_global_admin,Wo=mt==null?void 0:mt.is_global_admin,qo=Pr&&!qe.user_banned&&!jr,Jo=Pr&&qe.email&&!jr,Go=Br||Jr||so||Jo,ko=qo||Ur||io||Cr||co,Ho=Object(x.default)("like_comments_enabled"),Vo=!Je&&(Go||ko),Ti=`${rt.base_url}/subscribe?gift=true&recipient=${qe.user_id}-${Object(Y.cleanSlug)(qe.name,{hashIfEmpty:!0})}&comment_id=${qe.id}}`;return Object(e.h)(Z.a,{gap:16,alignItems:"center",justifyContent:"start",paddingTop:8,className:"comment-actions"},!qe.deleted&&[Ho&&Object(e.h)(R.a,{user:mt,pub:rt,post:un,comment:qe,height:16,countInParenthesesStyle:!0,token:yn,onChange:({comment:dt})=>Gt(dt),onReactedChange:dt=>{!Ln||Ln(qe.id,dt)},noSelfUpdate:!!Ln}),An&&Object(e.h)(B.c,{onClick:()=>vn(),className:Ce.link},Object(e.h)(Z.a,{gap:6,alignItems:"center"},Object(e.h)(F.a,{stroke:"var(--color-secondary-themed)",size:16}),Object(e.h)(de.b.Meta,{color:"pub-secondary-text"},"Reply",((ur=qe.children)==null?void 0:ur.length)>0&&` (${qe.children.length})`))),!St&&Object(e.h)(Ne,{pub:rt,post:un,comment:qe,onChange:Gt}),Vo&&Object(e.h)(le.c,{trigger:Object(e.h)(Q.c,{priority:"secondary-theme",rounded:!1,size:20},Object(e.h)(H.a,{size:16})),useMobileBottomSheet:!0,mobileBottomSheetTitle:"More"},Hr&&Object(e.h)(Pe,{pub:rt,post:un,comment:qe}),Br&&Object(e.h)(le.d,{icon:Object(e.h)(C.a,null),onClick:kn},"Edit"),Jr&&Object(e.h)(le.d,{icon:Object(e.h)(T.a,null),onClick:En},Ue?et?"Unpinning...":"Pinning...":et?"Unpin":"Pin"),so&&Object(e.h)(le.d,{icon:Object(e.h)(S.a,null),href:Ti},"Gift a subscription"),Jo&&Object(e.h)(le.d,{icon:Object(e.h)(D.a,null),onClick:()=>window.open(Object(g.getSubscriberDetailsUrl)(rt,qe.email),"_blank")},"Subscriber details"),Go&&ko&&Object(e.h)(he.a,null),Cr&&Object(e.h)(le.d,{icon:Object(e.h)(w.a,null),onClick:In,priority:"destructive"},fe?"Deleting...":"Delete"),io&&Object(e.h)(le.d,{icon:Object(e.h)(U.a,null),onClick:hn,priority:"destructive"},gt?"Removing...":"Remove"),Ur&&Object(e.h)(le.d,{icon:Object(e.h)(V.a,null),onClick:or,priority:"destructive"},"Report"),qo&&Object(e.h)(le.d,{icon:Object(e.h)(K.a,null),onClick:fr,priority:"destructive"},"Ban or suspend user"))])};function Pe({pub:qe,post:rt,comment:mt}){const un=Object(be.d)();return Object(e.h)(le.d,{icon:Object(e.h)(W.default,null),onClick:()=>{un.open({restackUrl:Object(ie.e)(rt,mt,qe)})}},"Restack")}function Ne({pub:qe,post:rt,comment:mt,onChange:un}){const{canRestack:yn,isRestacked:An,restacks:Je,menuItems:St,nuxModal:Gt}=Object(X.a)({pub:qe,post:rt,comment:mt,onRestack:vn=>{un({restacked:vn,restacks:Je+(vn?1:-1)})}});if(!!yn)return Object(e.h)("span",null,Gt,Object(e.h)(le.c,{layerClassName:"comment-restack-menu",useMobileBottomSheet:!0,mobileBottomSheetTitle:"Restack",trigger:Object(e.h)("a",{className:o()("restack-button",An&&"restacked"),href:"javascript:void(0)"},Object(e.h)(W.default,null),"Restack",Je>0&&` (${Je})`)},St))}var ce=Ae;const q=({comment:qe,bodyRef:rt,expandToggleClicked:mt})=>{const[un,yn]=Object(d.l)(!1),An=(qe.user_banned_for_comment||qe.reported_by_user)&&!un;return Object(e.h)("div",{className:"comment-body",ref:rt},Object(e.h)(te,{comment:qe,showHiddenComment:un,setShowHiddenComment:yn}),qe.hidden?Object(e.h)("i",null,"Comment hidden"):qe.deleted?Object(e.h)("i",null,"Comment deleted"):An?Object(e.h)("i",null):qe.suppressed&&!un?Object(e.h)("i",null,"Comment removed"):qe.type==="reply"?Object(e.h)(ue,{comment:qe}):Object(ie.a)(qe.body),Object(e.h)("div",{role:"button",className:"show-all-toggle",onClick:()=>mt()},Object(e.h)("div",{className:"show-all-toggle-label"},"Expand full comment")))},te=({comment:qe,showHiddenComment:rt,setShowHiddenComment:mt})=>{const un=Object(P.hasVisibleStatus)(qe)&&(qe.user_banned_for_comment||qe.reported_by_user),yn=qe.user_banned_for_comment?"User was banned for this comment. ":"You reported this comment. ";return un&&Object(e.h)("div",{className:"comment_notice"},Object(e.h)("i",null,yn,Object(e.h)("a",{href:"javascript:void(0)",onClick:()=>mt(!rt)},rt?"Hide":"Show")))},ue=({comment:qe})=>{const{title:rt,truncated_body_text:mt,date:un,bylines:yn,like_count:An,comment_count:Je,url:St}=qe.reply;return Object(e.h)("a",{className:"reply-comment",href:Object(g.pathWithQuery)(St,{utm_source:"substack",utm_campaign:"post_reply_comment",utm_medium:"web"}),native:!0},Object(e.h)("div",{className:"reply-comment-title"},rt),mt&&Object(e.h)("div",{className:"reply-comment-body"},Object(l.formatEllipsis)(mt)),Object(e.h)("button",{className:"reply-comment-read-more"},"Read more"),Object(e.h)("div",{className:"reply-comment-meta"},Object(l.getPostEmbedMeta)({date:un,bylines:yn,like_count:An,comment_count:Je})))};var We=q,ot=t(261),ze=t(15),vt=t(57),Wt=t(147),zt=t(130),at=t(151),Me=t(176),Be=t(11),Xe=t(48),Te=t(70),we=t(721),De=t(722),Ie=t(723),He=t(242),Ve=t(77);function z({subject:qe,hoverDisabled:rt=!1,onClick:mt}){return Object(e.h)(Z.c,{inline:!0,gap:4,alignItems:"center"},Object(e.h)(A.b,{subject:qe,disabled:rt,utmSource:"comment"},Object(e.h)("a",{onClick:mt,href:mt?"javascript:void(0)":Object(ze.getReaderProfileUrl)(qe)},Object(e.h)(de.b.B4,{color:"pub-primary-text",weight:"semibold"},qe.name))),Object(e.h)(Ve.a,{size:"sm",tier:qe.bestseller_tier,userId:qe.id}))}var se=t(138);const Se=({post:qe,pub:rt,comment:mt,isCollapsed:un,onProfileClick:yn,userBanned:An,toggleCollapse:Je,noHoverProfile:St,userPendingApproval:Gt})=>{var vn,kn;const or=ur=>ur.children.length+ur.children.reduce((br,et)=>br+or(et),0),fr=or(mt),er=!!mt.edited_at,Ln=!mt.hidden&&((vn=mt.metadata.author_on_other_pub)==null?void 0:vn.id)!=null;return[Object(e.h)("div",{className:"comment-meta"},Object(e.h)("span",{className:"commenter-name"},mt.name?Object(e.h)(z,{subject:Object(ie.b)(mt),hoverDisabled:St||!Object(P.hasVisibleStatus)(mt)||mt.hidden||un,onClick:yn?()=>yn(mt):null}):mt.hidden?Object(e.h)("i",null,"hidden"):mt.deleted?Object(e.h)("i",null,"deleted"):Object(P.hasVisibleStatus)(mt)?"Anonymous":"Removed",An&&Object(e.h)("span",{className:"ban-status"}," (Banned)"),Gt&&Object(e.h)("a",{className:"pending-approval",href:`/publish/moderation/new-commenters?user=${mt.user_id}`,target:"_blank",rel:"noopener"}," ","(Awaiting New Commenter Approval)")),mt.metadata.author_on_other_pub&&!mt.metadata.is_author&&(Ln?Object(e.h)(se.c,{publication_id:(kn=mt.metadata.author_on_other_pub)==null?void 0:kn.id},Object(e.h)(Oe,{comment:mt})):Object(e.h)(Oe,{comment:mt})),Object(e.h)("a",{className:"comment-timestamp",href:Object(ie.e)(qe,mt,rt),onClick:ur=>(void 0).onDateClick(ur),rel:"nofollow",native:!0},p()(mt.date).standardDateOrTime()),er&&[Object(e.h)("span",{className:"comment-publication-name-separator"},"\xB7"),Object(e.h)("span",{className:"edited-indicator"},Object(e.h)("em",null,"edited ",p()(mt.edited_at).standardDateOrTime()))],Object(e.h)(ge,{comment:mt})),un&&Object(e.h)("div",{className:"tags-row"},Object(e.h)(c.b,{className:"outline comment-collapse-toggle",onClick:Je},"Expand comment ",fr>0?`and ${Object(l.pluralize)(fr,"reply")}`:""))]};function Oe({comment:qe}){return Object(e.h)("a",{className:"commenter-publication",href:Object(g.updateQuery)(qe.metadata.author_on_other_pub.base_url,{utm_source:"substack",utm_medium:"web",utm_content:"comment_metadata"}),rel:"nofollow",target:"_blank"},"Writes ",Object(e.h)("span",null," ",Object(l.truncateText)(qe.metadata.author_on_other_pub.name,32)," "))}const ge=({comment:qe})=>{const[rt,mt]=Object(d.l)(!1),un=Object(d.k)(null),yn=Object(d.k)(null),An=qe.pinned_by_user_id?"pinned":qe.metadata.is_author?"author":qe.reactor_names.length>0?"liked":null;if(!An)return null;const Je={pinned:Object(e.h)(De.default,null),author:Object(e.h)(Ie.default,null),liked:Object(e.h)(we.default,null)},St={pinned:"Pinned",author:"Author",liked:`Liked by ${qe.reactor_names.join(", ")}`},Gt=An==="pinned"&&qe.pinned_by_name;return Object(e.h)("span",{ref:un,className:o()("highlight",{hover:rt}),onMouseEnter:()=>Gt&&mt(!0),onMouseLeave:()=>Gt&&mt(!1)},Je[An],Object(e.h)("span",{className:"highlight-text"},St[An]),Gt&&Object(e.h)(He.a,{baseRef:un,hoverToggle:!0,onOpen:()=>{var vn;return(vn=yn.current)==null?void 0:vn.open()},onClose:()=>{var vn;return(vn=yn.current)==null?void 0:vn.close()}},Object(e.h)(Te.a,{ref:yn,noList:!0,className:"explanation above small thin"},"Pinned by ",Object(e.h)("span",{className:"bold"},qe.pinned_by_name))))};var je=Object.defineProperty,it=Object.defineProperties,Tt=Object.getOwnPropertyDescriptors,sn=Object.getOwnPropertySymbols,ht=Object.prototype.hasOwnProperty,Nt=Object.prototype.propertyIsEnumerable,wt=(qe,rt,mt)=>rt in qe?je(qe,rt,{enumerable:!0,configurable:!0,writable:!0,value:mt}):qe[rt]=mt,yt=(qe,rt)=>{for(var mt in rt||(rt={}))ht.call(rt,mt)&&wt(qe,mt,rt[mt]);if(sn)for(var mt of sn(rt))Nt.call(rt,mt)&&wt(qe,mt,rt[mt]);return qe},Qe=(qe,rt)=>it(qe,Tt(rt)),At=(qe,rt,mt)=>new Promise((un,yn)=>{var An=Gt=>{try{St(mt.next(Gt))}catch(vn){yn(vn)}},Je=Gt=>{try{St(mt.throw(Gt))}catch(vn){yn(vn)}},St=Gt=>Gt.done?un(Gt.value):Promise.resolve(Gt.value).then(An,Je);St((mt=mt.apply(qe,rt)).next())});class jt extends e.Component{constructor(rt){super(rt);var mt;this.state={value:(mt=rt.commentBeingEdited)==null?void 0:mt.body,alsoShareToNotes:!1}}componentDidMount(){var rt;this.props.autoFocus&&((rt=this.bodyInput)==null||rt.focus())}needsProfile(){const{user:rt}=this.props;return!rt||!rt.name}onKeyDown(rt){var mt;if((mt=this.props.user)==null?void 0:mt.is_magic){rt&&rt.preventDefault(),this.showFinishMagicLoginModal();return}if(!Object(l.canPostComments)(this.props.user,this.props.post,this.props.pub).canReply){rt&&rt.preventDefault(),this.showPaywall();return}rt.key==="Escape"&&this.bodyInput.value.trim()===""?this.props.onCancel&&this.props.onCancel():rt.key==="Enter"&&rt.metaKey&&this.form.handleSubmit(rt)}onInput(rt){if(!Object(l.canPostComments)(this.props.user,this.props.post,this.props.pub).canReply){rt&&rt.preventDefault(),this.showPaywall();return}this.setState({value:this.bodyInput.value||""})}postComment(){return At(this,arguments,function*({profileUpdated:rt}={}){const{user:mt,pub:un,post:yn,parent:An,token:Je}=this.props,{alsoShareToNotes:St}=this.state;if(!Object(l.canPostComments)(mt,yn,un).canReply)throw yield this.showPaywall(),yield new Promise(vn=>setTimeout(vn,600)),new vt.a("Please sign in");if(this.needsProfile()&&!rt)throw yield this.showProfileUpdate(),yield new Promise(vn=>setTimeout(vn,600)),new vt.a("Please update your profile");const Gt={body:this.bodyInput.value,token:Je};An||!St?Gt.parent_id=An?An.id:void 0:Gt.parentPostId=yn.id;try{const vn=yield f.a.post(St?"/api/v1/comment/feed":`/api/v1/post/${yn.id}/comment`).send(Gt);if(!(mt==null?void 0:mt.profile_set_up_at)){const{body:{count:kn}}=yield f.a.get("/api/v1/user/profile_role_count");if(kn>=2)return window.location=Object(g.pathWithQuery)(`${Object(g.getSubstackUrl)()}/profile/start`,{commentProfileFlow:!0,next:Object(ie.e)(yn,vn.body,un)}),!1}return vn}catch(vn){throw vn.response&&vn.response.statusCode===403&&(mt&&mt.is_magic?yield this.showFinishMagicLoginModal():yield this.showPaywall()),vn}})}onSuccess(rt){if(rt!==!1)if(this.props.onSuccess&&!this.needsProfile()){if(this.state.alsoShareToNotes){const mt=Object(ze.getFeedCommentUrl)(rt.body);this.props.popToast(un=>Object(e.h)(Be.I,Qe(yt({},un),{icon:ot.a,text:"Shared to Notes",cta:"View Now",href:mt})))}this.setState({value:""}),this.props.onSuccess(rt.body)}else{const mt=Object(ie.f)(this.props.post,this.props.pub);window.location.pathname===mt?window.location.reload():window.location.href=Object(ie.f)(this.props.post,this.props.pub,this.state.alsoShareToNotes?{feedCommentUrl:Object(ze.getFeedCommentUrl)(rt.body)}:{})}}showFinishMagicLoginModal(){return At(this,null,function*(){this.finishMagicLoginModalShown||(this.finishMagicLoginModalShown=!0,Object(M.i)(M.a.FINISH_MAGIC_LOGIN_MODAL_SHOWN,{post_id:this.props.post.id,post_type:this.props.post.type,parent_id:this.props.parent&&this.props.parent.id})),this.finishMagicLoginModal&&(this.sendLoginEmail(),yield this.finishMagicLoginModal.open())})}showPaywall(){return At(this,null,function*(){this.paywallShown||(this.paywallShown=!0,Object(M.i)(M.a.COMMENT_PAYWALL_SHOWN,{post_id:this.props.post.id,post_type:this.props.post.type,parent_id:this.props.parent&&this.props.parent.id})),this.modalPaywall&&this.modalPaywall.open&&(yield this.modalPaywall.open())})}showProfileUpdate(){return At(this,null,function*(){this.profileUpdaterShown||(this.profileUpdaterShown=!0,Object(M.i)(M.a.PROFILE_UPDATER_SHOWN,{post_id:this.props.post.id,parent_id:this.props.parent&&this.props.parent.id})),this.profileUpdater&&(yield this.profileUpdater.open())})}sendLoginEmail(){return At(this,null,function*(){if(!this.loginEmailSent){this.loginEmailSent=!0;try{yield f.a.post("/api/v1/email-login").send({email:this.props.user.email,redirect:document.location.href.split("?")[0].split("#")[0]})}catch(rt){alert(Object(G.getNetworkErrorMessage)(rt))}}})}focus(){this.bodyInput.focus()}render({user:rt,freeSignup:mt,freeSignupEmail:un,pub:yn,post:An,token:Je,onCancel:St,autoFocus:Gt,commentBeingEdited:vn,saveEdit:kn,formClassName:or,bannedFromNotes:fr},{value:er,alsoShareToNotes:Ln}){return Object(e.h)(Z.a,{flex:"grow",className:o()("comment-input-wrap",{comment:vn})},Object(e.h)(vt.g,{ref:ur=>this.form=ur,className:o()("comment-input",or),performSubmit:ur=>vn?kn(er):this.postComment(ur),onSuccess:ur=>this.onSuccess(ur),noInlineErrors:!0,autoLock:!0},Object(e.h)(Xe.a,{user:rt,size:32}),Object(e.h)(Z.b,{flex:"grow",className:"comment-input-right"},vn&&Object(e.h)(Se,{post:An,pub:yn,comment:vn,isCollapsed:!1,userBanned:!1}),Object(e.h)(Me.a,{ref:ur=>this.bodyInput=ur&&ur.base,name:"body",placeholder:"Write a comment\u2026",autoHeight:!0,maxLines:8,value:er||"",onInput:ur=>this.onInput(ur),onKeyDown:ur=>this.onKeyDown(ur)}),Object(e.h)("div",{id:"error-container"}),Object(e.h)(Z.a,{alignItems:"center",justifyContent:"space-between",paddingTop:8},!!er&&!St&&Object(e.h)(Z.a,{gap:8,alignItems:"center",justifyContent:"center"},!fr&&Object(e.h)(Be.f,{name:"also_feed",size:"medium",as:"div",checked:Ln,onChange:()=>{this.setState({alsoShareToNotes:!Ln})},withTheme:!0}),!fr&&Object(e.h)(de.b.B4,{color:"pub-secondary-text"},"Also share to"," ",Object(e.h)(B.c,{color:"pub-secondary-text",decoration:"underline",target:"_blank",href:Object(ze.getFeedUrl)({urlParams:{utm_content:"comment-share-checkbox"}})},"Notes"))),(St||!!er)&&Object(e.h)(c.b,{className:"primary",type:"submit"},vn?"Save":"Post"),St&&Object(e.h)(c.b,{className:"cancel",onClick:St},"Cancel")))),Object(e.h)(zt.a,null,Object(e.h)(at.c,{ref:ur=>this.profileUpdater=ur,user:rt,freeSignup:mt,freeSignupEmail:un,optionalPhoto:!0,token:Je,text:"Save & Post Comment",onBeforeClose:ur=>ur&&this.form.handleSubmitAsync(null,{profileUpdated:!0})}),Object(e.h)(Wt.a,{ref:ur=>this.modalPaywall=ur,user:rt,freeSignup:mt,freeSignupEmail:un,publication:yn,post:An,title:"Only paid subscribers can comment on this post",reauthenticationTitle:"To post a comment, please re-authenticate."}),Object(e.h)(O.a,{ref:ur=>this.finishMagicLoginModal=ur,className:"finish-magic-login-modal"},Object(e.h)("h4",null,"Check your email"),Object(e.h)("p",null,"For your security, we need to re-authenticate you."),Object(e.h)("p",null,"Click the link we sent to ",rt==null?void 0:rt.email,", or"," ",Object(e.h)("a",{href:Object(g.getSigninUrl)({for_pub:yn.subdomain,with_password:!0}),native:!0},"click here to sign in"),"."))))}}const ke=Object(Be.M)(jt);var tn=t(406),Pn=Object.defineProperty,Ft=Object.defineProperties,lt=Object.getOwnPropertyDescriptors,Rt=Object.getOwnPropertySymbols,ln=Object.prototype.hasOwnProperty,Mt=Object.prototype.propertyIsEnumerable,$t=(qe,rt,mt)=>rt in qe?Pn(qe,rt,{enumerable:!0,configurable:!0,writable:!0,value:mt}):qe[rt]=mt,nn=(qe,rt)=>{for(var mt in rt||(rt={}))ln.call(rt,mt)&&$t(qe,mt,rt[mt]);if(Rt)for(var mt of Rt(rt))Mt.call(rt,mt)&&$t(qe,mt,rt[mt]);return qe},Bt=(qe,rt)=>Ft(qe,lt(rt)),Kt=(qe,rt,mt)=>($t(qe,typeof rt!="symbol"?rt+"":rt,mt),mt),Sn=(qe,rt,mt)=>new Promise((un,yn)=>{var An=Gt=>{try{St(mt.next(Gt))}catch(vn){yn(vn)}},Je=Gt=>{try{St(mt.throw(Gt))}catch(vn){yn(vn)}},St=Gt=>Gt.done?un(Gt.value):Promise.resolve(Gt.value).then(An,Je);St((mt=mt.apply(qe,rt)).next())});const Qn=200,rr=50,Mr=140,zr=728,dr=80;function Rr(){const rt=Math.min(zr,document.body.clientWidth)-Mr;return Math.ceil(rt/rr)}const _r=Rr();class ro extends e.Component{constructor(rt,mt){super(rt,mt);Kt(this,"bodyRef",Object(e.createRef)(null)),Kt(this,"headContainerRef",Object(e.createRef)(null)),Kt(this,"openBan",()=>{this.props.banComment()}),Kt(this,"setSelectedHighlight",()=>{const yn=Object(ie.d)()===this.props.comment.id;this.setState({isSelected:yn})}),Kt(this,"startEdit",()=>{this.setState({editing:!0})}),Kt(this,"saveEdit",un=>Sn(this,null,function*(){if(!!this.state.editing)return yield f.a.patch(`/api/v1/comment/${this.props.comment.id}`).send({body:un})})),Kt(this,"onSaveEditSuccess",({edited:un})=>{this.setState({editing:!1}),this.props.onChange(nn(nn({},this.props.comment),un))}),Kt(this,"startReport",()=>{this.setState({reporting:!0})}),Kt(this,"cancelReport",()=>{this.setState({reporting:!1})}),Kt(this,"onReportSuccess",()=>{this.props.onChange(Bt(nn({},this.props.comment),{reported_by_user:!0}))}),Kt(this,"expandToggleClicked",()=>{const un=this.bodyRef.current;!un||(un.classList.remove("long"),un.classList.add("expanded"),Object(M.i)(M.a.COMMENT_EXPAND_TOGGLE_CLICKED,{hiddenHeight:un.getAttribute("data-hidden-height")}))}),Kt(this,"onChange",un=>{this.props.onChange?this.props.onChange(nn(nn({},this.props.comment),un)):document.location.href=Object(ie.f)(this.props.post,this.props.pub)}),Kt(this,"setComment",un=>{this.setState({comment:un})}),Kt(this,"setCollapsed",un=>{var yn,An;if(this.setState({isCollapsed:un}),un&&((An=(yn=this.headContainerRef)==null?void 0:yn.current)==null?void 0:An.scrollIntoView)){const Je=this.headContainerRef.current.getBoundingClientRect();Je.top<0&&(document.documentElement.scrollTop+=Je.top-dr)}this.props.retainUserCollapseState&&Object(ie.j)(this.props.comment.id,un)}),this.state={editing:!1,replying:!1,reporting:!1,hideAnchors:!1,isSelected:!1,isCollapsed:this.props.retainUserCollapseState&&Object(ie.h)(this.props.comment.id)}}componentDidMount(){this.setSelectedHighlight(),this.setReplyStateFromHash(),typeof window!="undefined"&&(window.addEventListener("hashchange",this.setSelectedHighlight,!1),window.addEventListener("popstate",this.setSelectedHighlight,!1),this.updateOverflows())}componentWillUnmount(){typeof window!="undefined"&&(window.removeEventListener("hashchange",this.setSelectedHighlight,!1),window.removeEventListener("popstate",this.setSelectedHighlight,!1))}componentDidUpdate(rt){var mt,un;((mt=rt.comment)==null?void 0:mt.id)!==((un=this.props.comment)==null?void 0:un.id)&&this.setSelectedHighlight(),rt.replying!==this.props.replying&&this.props.replying&&this.startReply()}setReplyStateFromHash(){if(this.props.comment.deleted||typeof window=="undefined"||!window.location.hash)return;const rt=/^#comment-(\d+)-reply$/.exec(window.location.hash);!rt||Number(rt[1])!==this.props.comment.id||(window.location.hash=window.location.hash.replace(/-reply$/,""),this.startReply())}startReply(){return Sn(this,null,function*(){this.props.onStartReply?this.props.onStartReply(this.props.comment):(yield new Promise(rt=>this.setState({replying:!0},rt)),this.commentInput&&this.commentInput.bodyInput&&this.commentInput.bodyInput.focus&&this.commentInput.bodyInput.focus())})}onDateClick(rt){const[mt,un]=rt.target.href.split("?")[0].split("#");mt===window.location.href.split("?")[0].split("#")[0]&&un&&(rt.preventDefault(),this.setState({hideAnchors:!0},()=>{window.location.hash=`#${un}`,this.setState({hideAnchors:!1})}))}updateOverflows(){const rt=this.bodyRef.current;if(!rt)return;const mt=rt.scrollHeight-rt.clientHeight;mt>0&&mt<Qn?rt.classList.add("expanded"):mt>=Qn&&(rt.classList.add("long"),rt.setAttribute("data-hidden-height",mt))}render({user:rt,comment:mt,freeSignup:un,freeSignupEmail:yn,pub:An,post:Je,reaction_token:St,depth:Gt,collapseAtDepth:vn,onChange:kn,scrollRef:or,retainUserCollapseState:fr,onStartReply:er,noHoverProfile:Ln,onProfileClick:ur,hideContextMenu:br,noRestack:et,updateCommentReacted:Ge},{isSelected:tt,replying:Pt,editing:gt,reporting:me,hideAnchors:fe,isCollapsed:Ee}){var Ue,Ye;const ct=An.community_enabled&&Je&&Je.write_comment_permissions!=="none",{user_banned:Yt}=mt;let Qt=!1;return((Ue=mt.metadata)==null?void 0:Ue.is_author)?Qt="author":((Ye=mt.metadata)==null?void 0:Ye.founding)&&(Qt="founding"),gt?Object(e.h)(ke,{autoFocus:!0,user:rt,freeSignup:un,freeSignupEmail:yn,pub:An,post:Je,commentBeingEdited:mt,saveEdit:this.saveEdit,token:St,onCancel:()=>this.setState({editing:!1}),onSuccess:kn?this.onSaveEditSuccess:null}):Object(e.h)("div",{className:o()("comment",{selected:tt,"post-reply":mt.type==="reply",collapsed:Ee}),key:`comment-${mt.id}`},!fe&&[Object(e.h)("div",{id:`comment-${mt.id}`,className:"comment-anchor"}),Object(e.h)("div",{id:`comment-${mt.id}-reply`,className:"comment-anchor"})],Object(e.h)("table",{className:"comment-content"},Object(e.h)("tr",null,Object(e.h)("td",{className:"comment-head",ref:this.headContainerRef},Object(e.h)(A.b,{subject:Object(ie.b)(mt),disabled:Ln||!Object(P.hasVisibleStatus)(mt)||mt.hidden||Ee,utmSource:"comment"},Object(e.h)(_.c,{subject:Object(ie.b)(mt),pub:An,user:rt,freeSignup:un,freeSignupEmail:yn,token:St,isBanned:Yt,tooltip:{founding:Object(l.foundingMemberDescription)(An),author_ons_other_pub:"Author of another publication"}[Qt],badge:Qt,isAuthor:mt.metadata.is_author,onClick:ur?()=>ur(mt):null,lazy:!0}))),Object(e.h)("td",{className:"comment-rest"},Object(e.h)(Se,{post:Je,pub:An,comment:mt,commentUser:ie.b,isCollapsed:Ee,toggleCollapse:()=>this.setCollapsed(!this.state.isCollapsed),onProfileClick:ur,userBanned:Yt,noHoverProfile:Ln,userPendingApproval:mt.status===P.COMMENT_STATUS.new_commenter_approval_required&&rt.is_admin}),Object(e.h)(We,{comment:mt,bodyRef:this.bodyRef,expandToggleClicked:this.expandToggleClicked}),!Pt&&Object(e.h)(ce,{comment:mt,pub:An,user:rt,post:Je,reaction_token:St,commentsEnabledForPost:ct,hideContextMenu:br,noRestack:et,onChange:this.onChange,startReply:()=>this.startReply(),startEdit:()=>this.startEdit(),startReport:()=>this.startReport(),openBan:this.openBan,scrollRef:or,updateCommentReacted:Ge})))),Pt&&ct&&Object(e.h)(ke,{ref:En=>this.commentInput=En,user:rt,freeSignup:un,freeSignupEmail:yn,pub:An,post:Je,parent:mt,token:St,onCancel:()=>this.setState({replying:!1}),onSuccess:kn?En=>{this.setState({replying:!1});const hn=Bt(nn({},mt),{children:[En].concat(mt.children)});kn(hn)}:null}),mt.childrenSummary&&Object(e.h)("div",{className:"more-replies-container"},Object(e.h)("a",{className:"more-replies",href:Object(ie.e)(Je,mt,An)},mt.childrenSummary)),!mt.childrenSummary&&Gt>=_r&&!!mt.children.length&&Object(e.h)(c.b,{className:"outline continue-thread-button",href:Object(ie.e)(Je,mt,An)},"Continue Thread \u2192"),!mt.childrenSummary&&Gt<_r&&Object(e.h)(bn,{key:`comment:${mt.id}`,user:rt,freeSignup:un,freeSignupEmail:yn,pub:An,post:Je,comments:mt.children,parent:mt,reaction_token:St,depth:(Gt||0)+1,collapseAtDepth:vn,onChange:kn,isChild:!0,scrollRef:or,retainUserCollapseState:fr,onStartReply:er,noHoverProfile:Ln,onProfileClick:ur,hideContextMenu:br,updateCommentReacted:Ge,noRestack:!0}),!Ee&&Object(e.h)("div",{className:"comment-list-collapser",onClick:()=>this.setCollapsed(!0)},Object(e.h)("div",{className:"comment-list-collapser-line"})),me&&Object(e.h)(tn.a,{pub:An,comment:mt,onClose:this.cancelReport,onReportSuccess:this.onReportSuccess}))}}var Dn=Object.defineProperty,ut=Object.defineProperties,fn=Object.getOwnPropertyDescriptors,On=Object.getOwnPropertySymbols,Ot=Object.prototype.hasOwnProperty,kt=Object.prototype.propertyIsEnumerable,Zt=(qe,rt,mt)=>rt in qe?Dn(qe,rt,{enumerable:!0,configurable:!0,writable:!0,value:mt}):qe[rt]=mt,Vn=(qe,rt)=>{for(var mt in rt||(rt={}))Ot.call(rt,mt)&&Zt(qe,mt,rt[mt]);if(On)for(var mt of On(rt))kt.call(rt,mt)&&Zt(qe,mt,rt[mt]);return qe},Gn=(qe,rt)=>ut(qe,fn(rt));const tr=t(292),rn=5,_n=1,Yn=16,cr=50,Jt=200;function cn(qe){return qe.reduce((rt,mt)=>rt+1+cn(mt.children||[]),0)}function bn({user:qe,freeSignup:rt,freeSignupEmail:mt,pub:un,post:yn,comments:An,reaction_token:Je,depth:St,collapseAtDepth:Gt,onChange:vn,pageSize:kn,retainUserCollapseState:or,updateCommentReacted:fr,parent:er,scrollRef:Ln,className:ur,onStartReply:br,noHoverProfile:et,onProfileClick:Ge,hideContextMenu:tt,noRestack:Pt}){const gt=kn||Yn,[me,fe]=Object(d.l)(gt),[Ee,Ue]=Object(d.l)(-1),[Ye,ct]=Object(d.l)(null),[Yt,Qt]=Object(d.l)(null),[En,hn]=Object(d.l)(new Set(An.map(({id:nr})=>nr)));if(Object(d.d)(()=>{Ee>=0&&window.scrollTo(window.scrollX,Ee)},[Ee]),(An||[]).length===0)return;const[In,Fn]=tr(An,({id:nr,user_id:jr})=>En.has(nr)||jr===(qe==null?void 0:qe.id)),Un=In.slice(0,me);return Object(e.h)("div",{className:o()("comment-list",ur,{"has-new-comments":Fn.length>0})},Object(e.h)(b,{pub:un,comment:Ye,onClose:()=>ct(null),onReply:nr=>{Qt(nr),ct(null)},onBan:(nr,jr)=>{vn?vn(Gn(Vn({},nr),{user_banned:!0,bans:jr.concat(nr.bans)})):document.location.href=Object(ie.f)(yn,un)}}),Fn.length>0&&Object(e.h)(c.b,{className:"collapsed-reply outline",onClick:()=>hn(new Set(An.map(({id:nr})=>nr)))},Object(l.pluralize)(cn(Fn),"new reply")),Object(e.h)("div",{className:"comment-list-items"},Un.map(nr=>Object(e.h)(ro,{banComment:()=>ct(nr),key:`cmt-${nr.id}`,user:qe,freeSignup:rt,freeSignupEmail:mt,pub:un,post:yn,comment:nr,parent:er,reaction_token:Je,collapseAtDepth:Gt,depth:St||0,onChange:vn,replying:Yt===nr.id,scrollRef:Ln,retainUserCollapseState:or,onStartReply:br,noHoverProfile:et,onProfileClick:Ge,hideContextMenu:tt,noRestack:Pt,updateCommentReacted:fr}))),In.length>Un.length&&Object(e.h)(c.b,{className:"collapsed-reply outline",onClick:()=>{Ue(window.scrollY),fe(me+gt)}},"Load More"))}var zn=t(273),Rn=t(122),xn=t(446),mr=t(270);const Or=()=>Object(e.h)("div",{className:"comment-silhouette"},Object(e.h)("div",{className:"comment-silhouette-head"}),Object(e.h)("div",{className:"comment-silhouette-content"},Object(e.h)("div",{className:"comment-silhouette-meta"}),Object(e.h)("div",{className:"comment-silhouette-body"}),Object(e.h)("div",{className:"comment-silhouette-actions"})));var Lt=t(407),qt=Object.defineProperty,wn=Object.defineProperties,$n=Object.getOwnPropertyDescriptors,Wn=Object.getOwnPropertySymbols,Jn=Object.prototype.hasOwnProperty,Tr=Object.prototype.propertyIsEnumerable,Qr=(qe,rt,mt)=>rt in qe?qt(qe,rt,{enumerable:!0,configurable:!0,writable:!0,value:mt}):qe[rt]=mt,ao=(qe,rt)=>{for(var mt in rt||(rt={}))Jn.call(rt,mt)&&Qr(qe,mt,rt[mt]);if(Wn)for(var mt of Wn(rt))Tr.call(rt,mt)&&Qr(qe,mt,rt[mt]);return qe},oo=(qe,rt)=>wn(qe,$n(rt)),eo=(qe,rt,mt)=>(Qr(qe,typeof rt!="symbol"?rt+"":rt,mt),mt),bo=(qe,rt,mt)=>new Promise((un,yn)=>{var An=Gt=>{try{St(mt.next(Gt))}catch(vn){yn(vn)}},Je=Gt=>{try{St(mt.throw(Gt))}catch(vn){yn(vn)}},St=Gt=>Gt.done?un(Gt.value):Promise.resolve(Gt.value).then(An,Je);St((mt=mt.apply(qe,rt)).next())});const zo=30*1e3;class Eo extends e.Component{constructor(rt,mt){super(rt,mt);eo(this,"modalRef",Object(e.createRef)(null)),eo(this,"onWindowVisibilityChange",()=>{Object(G.isWindowVisible)()?this.loadPost():clearTimeout(this.loadTimeout)}),this.state={},rt.post&&rt.post.slug===rt.slug&&(this.state.post=rt.post),this.state.sort=rt.sort||this.state.post&&this.state.post.default_comment_sort||rt.publication.default_comment_sort||"best_first",this.state.comments=rt.initialComments,this.scrollRef=Object(e.createRef)(),this.shareDialogRef=Object(e.createRef)(),this.state.loading=!1,this.state.reactionSigninComment=null}componentDidMount(){return bo(this,null,function*(){var rt;if(Object(G.onWindowVisibilityChange)(this.onWindowVisibilityChange),!this.props.publication.community_enabled&&!this.props.inline?document.location.href="./":yield this.loadPost(),(rt=this.props.matches)==null?void 0:rt.feedCommentUrl){const mt=this.props.matches.feedCommentUrl,un=new URL(location.toString());un.searchParams.delete("feedCommentUrl"),history.replaceState({},"",un),this.props.popToast(yn=>Object(e.h)(Be.I,oo(ao({},yn),{text:"Note Shared.",cta:"View Now",href:mt})),{ttl:1e4})}})}componentWillUnmount(){Object(G.offWindowVisibilityChange)(this.onWindowVisibilityChange),clearInterval(this.loadTimeout)}componentDidUpdate(rt,mt){return bo(this,null,function*(){if(rt.slug!==this.props.slug||mt.sort!==this.state.sort){const un=this.props.post&&this.props.post.slug===this.props.slug;yield Object(G.setState)(this,{post:un?this.props.post:null,comments:null}),yield this.loadPost()}else if(this.state.post&&this.state.comments&&!this.commentsViewed&&!this.state.loading){let un=0;Object(P.forEachComment)(this.state.comments,()=>un++),this.state.post.comment_count!==un&&(this.state.post.comment_count=un,this.setState({post:this.state.post}),this.props.onChange&&this.props.onChange({post:this.state.post}))}})}queueRefresh(){if(!this.commentsViewed&&this.state.comments){this.commentsViewed=!0;const{post:rt}=this.state;Object(M.i)(M.a.COMMENTS_VIEWED,{post_id:rt.id,comment_count:this.state.comments.length}),this.props.publication.community_enabled&&!(rt.type==="thread"||Object(l.canSeeComments)(this.props.user,rt))&&Object(M.i)(M.a.COMMENT_PAYWALL_SHOWN,{post_id:rt.id,post_type:rt.type}),rt.type==="thread"&&this.props.user&&Promise.resolve(f.a.post(`/api/v1/posts/${rt.id}/seen`))}clearTimeout(this.loadTimeout),this.loadTimeout=setTimeout(()=>this.loadPost(),zo)}loadPost(){return bo(this,null,function*(){if(this.state.comments&&!Object(G.isWindowVisible)())return;clearTimeout(this.loadTimeout),this.setState({loading:!0});const rt=this.state.comments&&this.state.comments.length>0;let mt;this.state.comments&&(mt=null,Object(P.forEachComment)(this.state.comments,un=>{!un.deleted&&un.date&&(!mt||un.date>mt)&&(mt=un.date)}));try{const un=this.props.slug,yn=this.state.sort,An={token:this.props.post_reaction_token||"",all_comments:!0,sort:yn,last_comment_at:mt};this.state.post&&this.props.commentId&&(An.comment_id=this.props.commentId);const Je=yield f.a.get(this.state.post?`/api/v1/post/${this.state.post.id}/comments`:`/api/v1/posts/${un}`).query(An);if(this.setState({loading:!1}),un!==this.props.slug||yn!==this.state.sort)return;let St=this.state.sort;!this.state.post&&Je.body.default_comment_sort&&(St=Je.body.default_comment_sort),(!this.state.post||!this.state.comments||Je.body.comments)&&(yield Object(G.setState)(this,{post:this.state.post||Je.body,comments:Je.body.comments||[],sort:St}))}catch(un){console.error("Failed to load post:",un),un.statusCode===400&&(yield Object(G.setState)(this,{notAllowedToFetchComments:!0})),this.setState({loading:!1})}!rt&&this.state.comments&&this.state.comments.length>0&&Object(G.scrollToHash)(),Object(G.isWindowVisible)()&&this.queueRefresh(),this.triggerShareOnLoad()})}onChange(rt){this.setState({comments:Object(ie.i)(this.state.comments,rt)})}onSortSelected(rt){this.setState({sort:rt}),Object(M.i)(M.a.COMMENTS_SORTED,{post_id:this.state.post.id,post_type:this.state.post.type,sort:rt})}triggerShareOnLoad(){var rt;!((rt=this.shareDialogRef)==null?void 0:rt.current)||Object(g.getQueryItem)("action")==="share"&&(window.history.replaceState({},document.title,Object(g.updateQuery)({action:null})),this.shareDialogRef.current.fromEmail())}_isPub(rt){var mt;const{publication:un}=this.props;return((mt=(un==null?void 0:un.parent_publication)||un)==null?void 0:mt.subdomain)===rt}render({slug:rt,user:mt,freeSignup:un,freeSignupEmail:yn,publication:An,post_reaction_token:Je,inline:St,commentId:Gt,selectionFromQuery:vn,freeTrialCoupon:kn,show_reaction_upsell:or,bannedFromNotes:fr},{sort:er,post:Ln,comments:ur,notAllowedToFetchComments:br,reactionSigninComment:et}){if(!Ln||!An.community_enabled)return!St&&Object(e.h)("div",{className:"comments-page"},Object(e.h)("div",{className:"container"},Object(e.h)(xn.b,null)));const Ge=An.community_enabled&&Ln&&Ln.write_comment_permissions!=="none",tt=br||Ge&&!Object(l.canSeeComments)(mt,Ln),Pt=(gt,me)=>bo(this,null,function*(){return ft({user:mt,reactionToken:Je,comments:ur,id:gt,reacted:me,setComments:fe=>this.setState({comments:fe}),onNeedsSignin:fe=>new Promise(Ee=>this.setState({reactionSigninComment:fe},()=>this.modalRef.current.open(Ee)))})});return Object(e.h)("div",{className:"comments-page"},Object(e.h)(mr.a,{post:Ln,publication:An,isCommentPage:!this.props.inline,selection:vn}),Object(e.h)(Rn.c,{ref:this.shareDialogRef,user:mt,pub:An,post:Ln,reaction_token:Je}),!St&&!Gt&&Object(e.h)("div",{className:"container"},Object(e.h)(xn.a,{pub:An,post:Object.assign({},Ln,{comment_url_override:Object(g.getPostUrl)(An,Ln,{comments:!0})}),user:mt,freeSignup:un,freeSignupEmail:yn,hidden:!Object(l.isUUID)(rt)&&Ln.hidden,truncated:Ln.type!=="thread",post_reaction_token:Je,onChange:gt=>this.setState(gt),showUnsubscribeNotice:!0,gap:0},Object(e.h)("div",{className:"full-container-border"}))),tt&&Object(e.h)("div",{className:"container"},Object(e.h)(Wt.b,{user:mt,freeSignupEmail:yn,freeSignup:un,publication:An,post:Ln,title:`Comments on this ${Ln.type==="podcast"?"episode":"post"} are for paid subscribers`,reauthenticationTitle:"To see the comments, please re-authenticate.",coupon:kn})),Ln.type==="thread"||Object(l.canSeeComments)(mt,Ln)?Object(e.h)("div",{className:"container"},ur&&Object(e.h)("div",{className:"comments-heading"},Object(l.pluralize)(Ln.comment_count,"Comment",{zero_fallback:"Comments"})),ur&&ur.length>0&&!Ge&&Object(e.h)(Mo,{post:Ln}),Ge&&Object(e.h)(ke,{user:mt,freeSignup:un,freeSignupEmail:yn,pub:An,post:Ln,token:Je,autoFocus:Object(ie.g)(),onSuccess:gt=>this.setState({comments:[gt].concat(ur)}),bannedFromNotes:fr}),(!ur||ur.length>0)&&!br&&!Gt&&Object(e.h)(Lt.a,{sort:er,loading:!ur,onSortSelected:gt=>this.onSortSelected(gt),pub:An}),Gt&&ur&&Object(e.h)("a",{className:"return-to-thread-link",href:Object(g.getPostUrl)(An,Ln,{comments:!0,commentId:Gt,highlightComment:!0})},"\u2B60 Return to thread"),!ur&&!br?[Object(e.h)(Or,null),Object(e.h)(Or,null)]:ur.length>0?[Object(e.h)("div",{className:"comment-list-container",ref:this.scrollRef},Object(e.h)(bn,{key:`post:${Ln.id}`,user:mt,freeSignup:un,freeSignupEmail:yn,pub:An,post:Ln,comments:ur,reaction_token:Je,depth:0,collapseAtDepth:St?10:ur.length>3&&er==="most_recent_first"?_n:rn,onChange:gt=>this.onChange(gt),pageSize:St||this._isPub("astralcodexten")?Jt:Ln.type==="thread"?cr:Yn,scrollRef:this.scrollRef,retainUserCollapseState:!0,updateCommentReacted:Pt,noRestack:!0}))]:null):null,et&&Object(e.h)(R.b,{comment:et,pub:An,user:mt,react:()=>Pt(et.id,!0),modalRef:this.modalRef}),or?Object(e.h)(zn.a,{pub:An}):null)}}const Co=Object(Be.M)(Eo),Mo=({post:qe})=>Object(e.h)("div",{className:"locked-comments"},"Commenting has been turned off for this ",Object(l.getPrintedPostType)(qe.type));function ft(qe){return bo(this,arguments,function*({user:rt,reactionToken:mt,comments:un,id:yn,reacted:An,setComments:Je,onNeedsSignin:St}){var Gt;const vn=Object(ie.c)(yn,un);if(!vn)return;const kn=ao({},vn);Object(R.d)(rt,kn,An),Je(Object(ie.i)(un.slice(0),kn));try{yield Object(R.c)(kn,!0,An,mt)}catch(or){if(Object(R.d)(rt,kn,!An),Je(Object(ie.i)(un.slice(0),ao({},kn))),((Gt=or.response)==null?void 0:Gt.statusCode)!==401){alert(Object(G.getNetworkErrorMessage)(or));return}yield St({comment:kn})}})}},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"PlayIconRounded",svgParams:{height:16,width:15}}),Object(e.h)("path",{d:"M14 7.13397C14.6667 7.51887 14.6667 8.48112 14 8.86602L2 15.7942C1.33333 16.1791 0.499999 15.698 0.499999 14.9282L0.5 1.0718C0.5 0.301996 1.33333 -0.17913 2 0.20577L14 7.13397Z"}));n.default=O},function(k,n,t){"use strict";t.d(n,"a",function(){return o});var e=t(3),a=t(72);function o(){let l=Object(e.useRef)(!1);return Object(a.a)(()=>(l.current=!0,()=>{l.current=!1}),[]),l}},function(k,n,t){"use strict";t.r(n),t.d(n,"Metadata",function(){return s});var e=t(0),a=t(421),o=t.n(a),l=t(4),d=t.n(l),c=t(204),u=Object.defineProperty,f=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,g=(i,h,v)=>h in i?u(i,h,{enumerable:!0,configurable:!0,writable:!0,value:v}):i[h]=v,O=(i,h)=>{for(var v in h||(h={}))m.call(h,v)&&g(i,v,h[v]);if(f)for(var v of f(h))p.call(h,v)&&g(i,v,h[v]);return i};function s({badge:i,title:h,socialTitle:v,searchDescription:j,description:y,themeColor:b,image:E,seoProps:P,isLargeImage:A=!1,imageWidth:_,imageHeight:M,isPodcast:F=!1,isVideo:H=!1,slug:C,pub:T,post:S,siteName:D,publishedTime:w,meta:U=[],siteConfigs:V={}}){const K={meta:[...U,{property:"og:type",content:"article"}]};i&&(K.titleTemplate=`(${i}) %s`),h&&(K.title=h,K.meta.push({property:"og:title",content:v||h},{name:"twitter:title",content:v||h})),(y||j)&&K.meta.push({name:"description",content:j||y},{property:"og:description",content:y},{name:"twitter:description",content:y}),b&&K.meta.push({name:"theme-color",content:b});const Y=!!T&&T.invite_only,W=!!S&&S.audience==="everyone",R=!Y&&W,B=R&&V.twitter_player_card_enabled,x=(T==null?void 0:T.subdomain)&&r.includes(T.subdomain)&&R;if(F&&T&&S){const G=Object(c.getPodcastEpisodeImageUrl)(T,S);G&&(E=Object(l.cloudinary)(G,1200,{height:600,smartCrop:!0,format:"jpg"}),A=!0)}if(E){let G="summary";A&&(G="summary_large_image"),(F&&B||H&&x)&&(G="player"),K.meta.push({property:"og:image",content:E},{name:"twitter:image",content:E},{name:"twitter:card",content:G}),_&&K.meta.push({property:"og:image:width",content:_}),M&&K.meta.push({property:"og:image:height",content:M})}if(P){const G=Object.entries(P).filter(([Q,he])=>he).map(([Q])=>Q).join(", ");G&&K.meta.push({name:"robots",content:G})}return(T==null?void 0:T.explicit)&&K.meta.push({name:"rating",content:"adult"}),F&&B&&K.meta.push({name:"twitter:player",content:`${Object(l.getBaseUrl)(T)}/embed/podcast/${C}?autoplay=1`},{name:"twitter:player:width",content:"1"},{name:"twitter:player:height",content:"1"},{name:"twitter:text:player_width",content:"1"},{name:"twitter:text:player_height",content:"1"}),H&&x&&K.meta.push({name:"twitter:player",content:`${Object(l.getBaseUrl)(T)}/embed/video/${C}?autoplay=1`},{name:"twitter:player:width",content:"16"},{name:"twitter:player:height",content:"9"},{name:"twitter:text:player_width",content:"16"},{name:"twitter:text:player_height",content:"9"}),D&&K.meta.push({property:"og:site_name",content:D}),w&&K.meta.push({property:"og:published_time",content:w}),Object(e.h)(o.a,O({},K))}const r=["pinespodcast","test1"]},function(k,n,t){"use strict";t.d(n,"c",function(){return c}),t.d(n,"a",function(){return f}),t.d(n,"b",function(){return m});var e=t(0),a=t(1),o=t(116),l=t(338),d={unreadDot:"frontend-reader2-UnreadBadge-module__unreadDot--15-uK"};function c(p,g=Object(e.h)(u,null)){const[O,s]=Object(a.l)(p);return[O&&g,()=>{s(!1)}]}function u(){return Object(e.h)(f,null)}function f({className:p}){const{isHovering:g,ref:O}=Object(l.f)();return Object(e.h)(e.Fragment,null,Object(e.h)(m,{className:p,ref:O}),g&&Object(e.h)(l.e,{tetherRef:O},"New since your last visit"))}const m=Object(o.a)(d.unreadDot)},function(k,n,t){"use strict";t.d(n,"d",function(){return f}),t.d(n,"c",function(){return m}),t.d(n,"e",function(){return p}),t.d(n,"b",function(){return g}),t.d(n,"a",function(){return O});var e=t(1),a=t(112),o=t.n(a),l=t(12),d=t.n(l),c=t(103),u=(s,r,i)=>new Promise((h,v)=>{var j=E=>{try{b(i.next(E))}catch(P){v(P)}},y=E=>{try{b(i.throw(E))}catch(P){v(P)}},b=E=>E.done?h(E.value):Promise.resolve(E.value).then(j,y);b((i=i.apply(s,r)).next())});const f=()=>{const s=Object(a.useMediaQuery)({query:"only screen and (max-width: 1024px)"}),r=Object(a.useMediaQuery)({query:"only screen and (max-width: 768px)"});let i;return typeof window=="undefined"?i=Object(c.isMobile)()?"mobile":"desktop":i=r?"mobile":s?"tablet":"desktop",{breakpoint:i,isMobile:i==="mobile",isTablet:i==="tablet",isDesktop:i==="desktop"}},m=s=>{const[r,i]=Object(e.l)([]),[h,v]=Object(e.l)([]),[j,y]=Object(e.l)([]),[b,E]=Object(e.l)([]),[P,A]=Object(e.l)([]);return Object(e.d)(()=>{d.a.get("/api/v1/archive").query({sort:"new",limit:13}).then(({body:_})=>i(_)),d.a.get("/api/v1/archive").query({sort:"pinned"}).then(({body:_})=>v(_)),d.a.get("/api/v1/archive").query({sort:"top",limit:6}).then(({body:_})=>y(_)),d.a.get("/api/v1/homepage_links").then(({body:_})=>E(_)),d.a.get(`/api/v1/recommendations/from/${s.id}?limit=5`).then(({body:_})=>A(_))},[s.id]),{newPosts:r,pinnedPosts:h,topPosts:j,homepageLinks:b,recommendations:P}},p=s=>{const[r,i]=Object(e.l)(s.newPosts),[h,v]=Object(e.l)(s.pinnedPosts),[j,y]=Object(e.l)(s.topPosts),b=new Set((h||[]).map(A=>A.id)),E=(h||[]).concat((r||[]).filter(A=>!b.has(A.id)));Object(e.d)(()=>{s.newPosts.length!==r.length&&i(s.newPosts),s.pinnedPosts.length!==h.length&&v(s.pinnedPosts),s.topPosts.length!==j.length&&y(s.topPosts)},[s.newPosts,s.pinnedPosts,s.topPosts,r.length,h.length,j.length]);const P=Object(e.a)(({post:A})=>{if(!A)return;const _=[{list:j,setter:y},{list:h,setter:v},{list:r,setter:i}];for(const M of _){if(!M.list)return;const F=M.list.findIndex(H=>H.id===A.id);if(F!==-1){const H=[...M.list];H.splice(F,1,A),M.setter(H)}}},[r,h,j]);return{posts:E,topPosts:j,onChange:P}},g=({bodyID:s})=>{const[r,i]=Object(e.l)(null),[h,v]=Object(e.l)(null);return Object(e.d)(()=>{(()=>u(void 0,null,function*(){if(s==="grid-tags"&&!r)try{const y=yield d.a.get("/api/v1/publication/post-tag");i(y.body)}catch(y){console.error(y)}}))()},[s,r]),{postTags:r,selectedPostTags:h,setSelectedPostTags:v}},O=({bodyID:s})=>{const[r,i]=Object(e.l)(null),[h,v]=Object(e.l)(null);return Object(e.d)(()=>{(()=>u(void 0,null,function*(){if(s==="grid-sections"&&!r)try{const y=yield d.a.get("/api/v1/publication/sections");i(y.body)}catch(y){console.error(y)}}))()},[r,s]),{sections:r,selectedSections:h,setSelectedSections:v}}},function(k,n,t){"use strict";t.d(n,"a",function(){return Pe});var e=t(0),a=t(915),o=t(105),l=t.n(o),d=t(4),c=t(10),u=t(7),f=t(9),m=t(697),p=t(231),g=t(1),O=t(5),s=t.n(O),r=t(193),i=t(15),h=t(84),v=t(25),j=t(364),y=t(18),b=t(14),E=t(2),P=t(8),A=t(26),_=t(90),M=t(186),F=t(37),H={button:"frontend-components-selection_popover-module__button--34-p8",explainerButton:"frontend-components-selection_popover-module__explainerButton--38K3p",popover:"frontend-components-selection_popover-module__popover--3IBZ3",popoverButtons:"frontend-components-selection_popover-module__popoverButtons--3escN",icon:"frontend-components-selection_popover-module__icon--3Qn9W",disabled:"frontend-components-selection_popover-module__disabled--2dJiN",restackSelectionExplainer:"frontend-components-selection_popover-module__restackSelectionExplainer--2KMLN",explainerSubtitle:"frontend-components-selection_popover-module__explainerSubtitle--V0fgU",dismissExplainer:"frontend-components-selection_popover-module__dismissExplainer--1JOr-"},C=Object.defineProperty,T=Object.defineProperties,S=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable,V=(Ne,ce,q)=>ce in Ne?C(Ne,ce,{enumerable:!0,configurable:!0,writable:!0,value:q}):Ne[ce]=q,K=(Ne,ce)=>{for(var q in ce||(ce={}))w.call(ce,q)&&V(Ne,q,ce[q]);if(D)for(var q of D(ce))U.call(ce,q)&&V(Ne,q,ce[q]);return Ne},Y=(Ne,ce)=>T(Ne,S(ce)),W=(Ne,ce)=>{var q={};for(var te in Ne)w.call(Ne,te)&&ce.indexOf(te)<0&&(q[te]=Ne[te]);if(Ne!=null&&D)for(var te of D(Ne))ce.indexOf(te)<0&&U.call(Ne,te)&&(q[te]=Ne[te]);return q},R=(Ne,ce,q)=>new Promise((te,ue)=>{var We=vt=>{try{ze(q.next(vt))}catch(Wt){ue(Wt)}},ot=vt=>{try{ze(q.throw(vt))}catch(Wt){ue(Wt)}},ze=vt=>vt.done?te(vt.value):Promise.resolve(vt.value).then(We,ot);ze((q=q.apply(Ne,ce)).next())});function B(Ne){var ce,q,te,ue;const{nuxModal:We,showRestackNux:ot}=Object(M.b)("post");return Object(e.h)(e.Fragment,null,We,((ue=(te=(q=(ce=Ne.selection)==null?void 0:ce.text)==null?void 0:q.split)==null?void 0:te.call(q," "))==null?void 0:ue.length)>=3&&Object(e.h)(x,K({onShare:ot},Ne)))}function x({pub:Ne,post:ce,selection:q,onShare:te,onClose:ue,userInteractionDisabled:We}){var ot;const ze=Object(v.c)(),vt=Object(A.e)(),Wt=Object(_.d)(),zt=Object(F.a)(),at="has_dismissed_restack_selection_explainer",[Me]=Object(j.b)(at),Be=Object(v.d)();Object(g.d)(()=>{Me==="true"&&(Be==null?void 0:Be.userSettings)&&!Be.userSettings.has_seen_select_to_restack_tooltip_nux&&Be.changeSetting("has_seen_select_to_restack_tooltip_nux",!0)},[]);const Xe=typeof window!="undefined"&&("ontouchstart"in window||navigator.maxTouchPoints>0),Te=!ce.is_draft&&Boolean(ze),we=!ce.is_draft,De=()=>R(this,null,function*(){const ge=yield Object(y.c)("/api/v1/post_selection",{method:"PUT",json:{postId:ce.id,publication_id:Ne.id,startParagraph:q.startParagraph,endParagraph:q.endParagraph,startOffset:q.startOffset,endOffset:q.endOffset}});if(ge instanceof Error)throw ge;return ge.selection.id}),Ie=()=>R(this,null,function*(){const ge=yield De();return Object(d.getPostUrl)(Ne,ce,{urlParams:{r:ze?ze.id.toString(36):null,selection:ge,utm_campaign:"post_selection",utm_medium:"web"}})}),He=()=>R(this,null,function*(){if(!Te)return;ue();let ge;try{ge=yield Ie()}catch(it){vt.popToast(Tt=>Object(e.h)(A.c,Y(K({},Tt),{text:"Failed to generate quote"})));return}const je=yield Wt.open({restackUrl:ge});je instanceof Error?(console.error(je),vt.popToast(it=>Object(e.h)(A.c,Y(K({},it),{text:"Failed to post"})))):(te(),vt.popToast(it=>Object(e.h)(A.c,Y(K({},it),{text:"Note sent",cta:"View",href:Object(i.getFeedUrl)()}))))}),Ve=()=>R(this,null,function*(){if(!we)return;ue();let ge;try{ge=yield Ie()}catch(je){vt.popToast(it=>Object(e.h)(A.c,Y(K({},it),{text:"Failed to copy link to quote"})));return}Object(f.copyToClipboard)(ge),vt.popToast(je=>Object(e.h)(A.c,Y(K({},je),{text:"Link copied to clipboard"})))}),z=ge=>R(this,null,function*(){if(ze)return;ue();let je;try{je=yield De()}catch(sn){}const it=Object(d.updateQuery)(document.location.href,{selection:je}),Tt=Object(d.getSigninUrl)({redirect:it});Object(f.redirect)(Tt,{local_navigation:!1,event:ge})});Object(g.d)(()=>(window.addEventListener("scroll",ue,{passive:!0,capture:!0,once:!0}),()=>{window.removeEventListener("scroll",ue,{capture:!0,once:!0})}),[ue]);const se=(Be==null?void 0:Be.userSettings)&&!((ot=Be.userSettings)==null?void 0:ot.has_seen_select_to_restack_tooltip_nux),Se=se?156:40,Oe=()=>{Be.changeSetting("has_seen_select_to_restack_tooltip_nux",!0)};return Object(e.h)(E.b,{style:{top:Xe?q.y+q.height+8:q.y-Se-8,left:q.rect.x+q.rect.width/2,transform:"translateX(-50%)",pointerEvents:We?"none":"auto",maxWidth:240},justifyContent:"center",className:H.popover,shadow:"md"},Object(e.h)(E.b,{className:s()(H.popoverButtons,zt&&H.isMobile),radius:8,padding:se?8:4,gap:8},se&&Object(e.h)(Q,{onDismiss:Oe}),Object(e.h)(G,{onClick:ze?He:z,disabled:!Te&&Boolean(ze),isExplainer:se},Object(e.h)(h.default,{className:s()(H.icon,!Te&&H.disabled)}),Object(e.h)(P.b.B4,{color:Te?"bg-light":"secondary",weight:"medium"},Te?"Restack quote":ze?ce.is_draft?"Cannot quote a draft":(Ne==null?void 0:Ne.invite_only)?"Cannot quote on invite-only publication":["only_paid","founding"].includes(ce==null?void 0:ce.audience)?"Cannot quote paid post":"Cannot quote this post":"Sign in to restack quote"))))}function G(Ne){var ce=Ne,{isExplainer:q}=ce,te=W(ce,["isExplainer"]);return Object(e.h)(b.d,K({className:s()(H.button,q&&H.explainerButton),resetCss:!0},te))}function Q({onDismiss:Ne}){return Object(e.h)(E.a,{className:H.restackSelectionExplainer,paddingX:16,paddingY:8,direction:"column"},Object(e.h)(E.c,{justifyContent:"space-between"},Object(e.h)(P.b.B4,{color:"bg-light",weight:"medium",className:H.explainerSubtitle},"New: Quote this post"),Object(e.h)(b.d,{resetCss:!0,className:H.dismissExplainer,onClick:Ne},Object(e.h)(r.a,{size:16,fill:"white"}))),Object(e.h)(P.b.Detail,{size:14,color:"secondary"},"Share your favorite part of this post to Substack Notes."))}var he=Object.defineProperty,Z=Object.getOwnPropertySymbols,le=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable,be=(Ne,ce,q)=>ce in Ne?he(Ne,ce,{enumerable:!0,configurable:!0,writable:!0,value:q}):Ne[ce]=q,X=(Ne,ce)=>{var q={};for(var te in Ne)le.call(Ne,te)&&ce.indexOf(te)<0&&(q[te]=Ne[te]);if(Ne!=null&&Z)for(var te of Z(Ne))ce.indexOf(te)<0&&de.call(Ne,te)&&(q[te]=Ne[te]);return q},ie=(Ne,ce,q)=>(be(Ne,typeof ce!="symbol"?ce+"":ce,q),q),Ce=(Ne,ce,q)=>new Promise((te,ue)=>{var We=vt=>{try{ze(q.next(vt))}catch(Wt){ue(Wt)}},ot=vt=>{try{ze(q.throw(vt))}catch(Wt){ue(Wt)}},ze=vt=>vt.done?te(vt.value):Promise.resolve(vt.value).then(We,ot);ze((q=q.apply(Ne,ce)).next())});const Le=`
div.body.markup > p:not(.button-wrapper),
.pullquote > p:not(.button-wrapper),
blockquote > p:not(.button-wrapper),
li > p:not(.button-wrapper),
caption > p:not(.button-wrapper),
.footnote-content > p:not(.button-wrapper)
`,Ae=".image-link.image2";class Pe extends e.Component{constructor(ce,q){super(ce,q);ie(this,"state",{selection:null,urlSelection:null,selectedImgIndex:null,selectionUserInteractionDisabled:!1}),ie(this,"onBodyMouseDown",()=>{this.setState({selectionUserInteractionDisabled:!0})}),ie(this,"onMouseUp",()=>{this.setState((te,ue)=>te.selectionUserInteractionDisabled?(te.selection&&ue.trackSelection&&Object(u.i)(u.a.POST_TEXT_SELECTED,{post_id:ue.post.id,post_audience:ue.post.audience,post_type:ue.post.type}),{selectionUserInteractionDisabled:!1}):null)}),ie(this,"onSelectionChange",l()(()=>{const te=this.getSelectionState();te?this.setState({selection:te}):this.state.selection&&this.setState({selection:null})},100)),ie(this,"onDocumentClick",te=>{const ue=te.target.closest(".image-link.image2");if(ue&&this.originalImageState){const We=ue.querySelector("img"),ot=this.originalImageState.findIndex(ze=>ze.src===We.src);if(ot>=0){te.preventDefault(),this.setState({selectedImgIndex:ot});return}}if(!this.props.skipTrackClick)this.onLinkClick(te);else return null}),ie(this,"clearActiveSelection",()=>{this.setState({selection:null})}),ie(this,"closeImageViewerModal",()=>{this.setState({selectedImgIndex:null})}),this.body=Object(e.createRef)()}componentDidMount(){return Ce(this,null,function*(){const ce=Array.from(this.body.current.querySelectorAll(Le));this.originalParagraphState=ce.map(ze=>({text:ze.textContent}));const q=new URL(window.location).searchParams.get("img");let te=Array.from(this.body.current.querySelectorAll(Ae));te=te.map(ze=>{const vt=ze.querySelector("img"),Wt=JSON.parse(vt.getAttribute("data-attrs")),zt=Wt.width/Wt.height,at=Wt.resizeWidth?Wt.resizeWidth/zt:Wt.height,Me=Wt.resizeWidth?Wt.resizeWidth/at:zt;return{element:ze,image:vt,attrs:Wt,extraAttrs:{imageRatio:zt,resizeHeight:at,resizeRatio:Me}}});let ue=0;if(q){const ze=te.find(vt=>vt.attrs.src===q);ze&&(ue=ze.image.getBoundingClientRect().top-65)}const We=240,ot=4;if(te=te.filter(ze=>Object(d.uncloudinary)(ze.image.src)===Object(d.uncloudinary)(ze.element.href)),te=te.filter(ze=>ze.attrs.height>We&&ze.extraAttrs.resizeHeight>We),te=te.filter(ze=>ze.extraAttrs.imageRatio<ot&&ze.extraAttrs.resizeRatio<ot),this.originalImageState=te.map(ze=>{var vt;const Wt=ze.image.src;let zt=null;const at=ze.element.parentElement;return at.tagName==="FIGURE"&&(zt=(vt=at.querySelector(":scope > figcaption"))==null?void 0:vt.textContent),{src:Wt,attrs:ze.attrs,caption:zt}}),q){window.scrollTo({top:ue});const ze=this.originalImageState.findIndex(vt=>vt.attrs.src===q);ze>=0&&this.setState({selectedImgIndex:ze})}typeof window!="undefined"&&(document.addEventListener("selectionchange",this.onSelectionChange),document.addEventListener("mouseup",this.onMouseUp),window.addEventListener("mouseup",this.onMouseUp))})}componentWillUnmount(){typeof window!="undefined"&&(document.removeEventListener("selectionchange",this.onSelectionChange),document.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mouseup",this.onMouseUp))}shouldComponentUpdate(ce,q){return this.props.html!==ce.html||this.state.selectedImgIndex!==q.selectedImgIndex||this.state.selection!==q.selection||this.state.selectionUserInteractionDisabled!==q.selectionUserInteractionDisabled}onLinkClick(ce){if(!ce.target.nodeName||ce.target.nodeName!=="A"&&ce.target.parentNode.nodeName!=="A")return;const q=ce.target.nodeName==="A"?ce.target:ce.target.parentNode;if(Object(u.i)(u.a.POST_LINK_CLICKED,{post_id:this.props.post.id,publication_id:this.props.post.publication_id,url:q.href}),window.location.host===q.host){const te=Object(c.transformDocumentLink)(q.href);te!==q.href&&Object(f.redirect)(te,{local_navigation:!1,event:ce});return}ce.preventDefault(),Object(c.handleDocumentLinkClick)(q.href)}getSelectionState(){if(!!this.props.trackSelection&&!!window.getSelection)try{const ce=window.getSelection();if(!ce||ce.isCollapsed||ce.anchorNode===ce.focusNode&&ce.anchorOffset===ce.focusOffset)return;const q=this.findParentParagraph(ce.anchorNode);if(!q)return;const te=this.findParentParagraph(ce.focusNode);if(!te)return;const ue=Array.from(this.body.current.querySelectorAll(Le)),We=ue.findIndex(at=>at.isSameNode(q));if(We===-1)return;const ot=ue.findIndex(at=>at.isSameNode(te));if(ot===-1)return;const ze=this.getCharacterOffsetParagraph(q,ce.anchorNode,ce.anchorOffset);if(ze===null)return;const vt=this.getCharacterOffsetParagraph(te,ce.focusNode,ce.focusOffset);if(vt===null)return;const Wt=We>ot||We===ot&&ze>vt,zt=ce.getRangeAt(0).getBoundingClientRect();return{startParagraph:Wt?ot:We,endParagraph:Wt?We:ot,startOffset:Wt?vt:ze,endOffset:Wt?ze:vt,y:zt.y,height:zt.height,rect:zt,text:ce.toString()}}catch(ce){console.error("Failed to parse selection:",ce)}}findParentParagraph(ce){return ce?ce.nodeName==="P"?ce:this.findParentParagraph(ce.parentNode):null}isAncestorOf(ce,q){return ce===null?!1:ce.isSameNode(q)?!0:this.isAncestorOf(ce.parentNode,q)}getCharacterOffsetParagraph(ce,q,te){var ue;let We=te;for(let ot=0;ot<ce.childNodes.length;ot++){const ze=ce.childNodes[ot];if(this.isAncestorOf(q,ze))return We;ze.className!=="footnote-anchor"&&(We+=((ue=ze.textContent)==null?void 0:ue.length)||0)}return We}shouldShowImageViewerModal(){const{selectedImgIndex:ce}=this.state;return ce!=null}render(ce){var q=ce,{children:te,html:ue,pub:We,skipTrackClick:ot,trackSelection:ze,paywall:vt}=q,Wt=X(q,["children","html","pub","skipTrackClick","trackSelection","paywall"]);const{selection:zt,selectedImgIndex:at}=this.state;ue&&(te=Object(m.a)(ue,We,Wt),te&&(ue=null));const Me=te?Array.from(te).some(Xe=>{var Te;return((Te=Xe.props)==null?void 0:Te.className)==="latex-rendered"}):!1,Be=Object(e.h)(e.Fragment,null,Object(e.h)("div",{className:"body markup",dangerouslySetInnerHTML:ue?{__html:ue}:null,ref:this.body,onClick:this.onDocumentClick,onMouseDown:this.onBodyMouseDown,onMouseUp:this.onMouseUp,dir:"auto"},te),Object(e.h)(B,{pub:We,post:this.props.post,selection:zt,onClose:this.clearActiveSelection,userInteractionDisabled:this.state.selectionUserInteractionDisabled}),Object(e.h)(p.ImageViewerModal,{showModal:this.shouldShowImageViewerModal(),modalContent:this.originalImageState,onClose:this.closeImageViewerModal,step:at}));return Me&&!Wt.isStatic?Object(e.h)(a.b,null,Be):Be}}},,function(k,n,t){"use strict";t.d(n,"a",function(){return e});const e=typeof window=="undefined"||typeof document=="undefined"},function(k,n,t){"use strict";t.d(n,"a",function(){return e});function e(a){typeof queueMicrotask=="function"?queueMicrotask(a):Promise.resolve().then(a).catch(o=>setTimeout(()=>{throw o}))}},function(k,n,t){"use strict";t.d(n,"a",function(){return O});var e=t(0),a=t(1),o=t(127),l=t(251),d=t(141),c=Object.defineProperty,u=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,p=(r,i,h)=>i in r?c(r,i,{enumerable:!0,configurable:!0,writable:!0,value:h}):r[i]=h,g=(r,i)=>{for(var h in i||(i={}))f.call(i,h)&&p(r,h,i[h]);if(u)for(var h of u(i))m.call(i,h)&&p(r,h,i[h]);return r};function O({content:r}){const i=Object(a.i)(()=>new o.b({content:r,editable:!1,enableInputRules:!1,enablePasteRules:!1,extensions:l.a,editorProps:{attributes:{class:"FeedProseMirror"}}}),[]);return Object(a.d)(()=>{JSON.stringify(i.getJSON())!==JSON.stringify(r)&&i.commands.setContent(r)},[r]),Object(a.d)(()=>()=>i.destroy(),[]),Object(e.h)(o.c,{editor:i})}function s({content:r}){var i,h;if(r.type==="text"){let j=Object(e.h)("span",null,r.text);if(r.marks)for(const y of r.marks)y.type==="link"?j=Object(e.h)("a",g({},y.attrs),j):y.type==="bold"?j=Object(e.h)("strong",null,j):y.type==="italic"?j=Object(e.h)("em",null,j):y.type==="strike"?j=Object(e.h)("s",null,j):y.type==="code"&&(j=Object(e.h)("code",null,j));return j}const v=(i=r.content)==null?void 0:i.map(j=>Object(e.h)(s,{content:j}));if(r.type==="substack_mention"){const{id:j,label:y}=(h=r.attrs)!=null?h:{};return j&&y?Object(e.h)("span",{className:"node-substack_mention"},Object(e.h)("a",{className:"substack-mention",href:Object(d.d)(j,y)},"@",y)):null}return r.type==="doc"?Object(e.h)("div",{className:"ProseMirror FeedProseMirror"},v):r.type==="paragraph"?Object(e.h)("p",null,v):r.type==="blockquote"?Object(e.h)("blockquote",null,v):r.type==="codeBlock"?Object(e.h)("pre",null,Object(e.h)("code",null,v)):r.type==="orderedList"?Object(e.h)("ol",null,v):r.type==="listItem"?Object(e.h)("li",null,v):null}},function(k,n,t){"use strict";t.d(n,"a",function(){return H});var e=t(1),a=t(22);function o(S){var D,w;let U=0;if(S)if(S.content&&S.content.length>0)for(const V of S.content)U+=o(V);else U+=(w=(D=S.text)==null?void 0:D.length)!=null?w:0;return U}var l=t(252),d=t(10),c=Object.defineProperty,u=Object.defineProperties,f=Object.getOwnPropertyDescriptors,m=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,O=(S,D,w)=>D in S?c(S,D,{enumerable:!0,configurable:!0,writable:!0,value:w}):S[D]=w,s=(S,D)=>{for(var w in D||(D={}))p.call(D,w)&&O(S,w,D[w]);if(m)for(var w of m(D))g.call(D,w)&&O(S,w,D[w]);return S},r=(S,D)=>u(S,f(D));function i(S,{limit:D=420}={}){var w,U,V;let K=null,Y=0,W=!1;if(S)if(D<=0)W=!0;else if(S.content&&S.content.length>0){K=r(s({},S),{content:[]});for(const R of S.content){const B=i(R,{limit:D-Y});if(B.doc){if((w=K.content)==null||w.push(B.doc),Y+=B.length,B.isTruncated){W=!0;break}}else{W=!0;break}}}else K=r(s({},S),{text:Object(d.truncateText)(S.text,D)}),Y+=(V=(U=K.text)==null?void 0:U.length)!=null?V:0,S.text!==K.text&&(W=!0);return{doc:K,length:Y,isTruncated:W}}var h=Object.defineProperty,v=Object.defineProperties,j=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,P=(S,D,w)=>D in S?h(S,D,{enumerable:!0,configurable:!0,writable:!0,value:w}):S[D]=w,A=(S,D)=>{for(var w in D||(D={}))b.call(D,w)&&P(S,w,D[w]);if(y)for(var w of y(D))E.call(D,w)&&P(S,w,D[w]);return S},_=(S,D)=>v(S,j(D));const M=420,F=380;function H(S,{limit:D=M,triggerLimit:w=F}={}){return Object(e.i)(()=>{var U;const V=C((U=S==null?void 0:S.body_json)!=null?U:(S==null?void 0:S.body)?Object(l.a)(S.body,a.generateJSON):null);if(o(V)<=w)return{bodyJson:V,truncatedBodyJson:V,isTruncated:!1};const K=i(V,{limit:D});return{bodyJson:V,truncatedBodyJson:K.doc,isTruncated:K.isTruncated}},[S==null?void 0:S.body,S==null?void 0:S.body_json])}function C(S){var D,w;let U=null;if(S)if(U=_(A({},S),{content:void 0,text:void 0}),S==null?void 0:S.content){U.content=[];for(const V of S.content){const K=C(V);K&&U.content.push(K)}}else{const V=(D=S.marks)==null?void 0:D.find(K=>K.type==="link");((w=V==null?void 0:V.attrs)==null?void 0:w.href)?U.text=T(V.attrs.href):U.text=S.text}return U}function T(S){let D;try{D=new URL(S)}catch(V){return console.error("Failed to parse URL",S,V),S}D.hostname=D.hostname.replace(/^www\./,""),D.pathname=D.pathname.replace(/\/+$/,""),D.hash="";const w=[];D.hostname.includes("youtube")&&w.push("v"),D.searchParams.forEach((V,K)=>{w.includes(K)||D.searchParams.delete(K)});const U=D.toString().replace(/^\w+:\/\//,"").replace(/\/+$/,"");return U?Object(d.truncateText)(U,40):S}},,function(k,n,t){var e=t(243),a=t(601);function o(l,d){return l&&l.length?a(l,e(d,2)):[]}k.exports=o},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(1);function a(o,l,{shouldCheck:d,threshold:c=200,bodyRef:u}){const f=Object(e.k)(),m=u!=null?u:f,p=()=>{const g=m.current;if(g){const{bottom:O}=g.getBoundingClientRect();O<window.innerHeight+c&&o()}};return Object(e.d)(()=>{if(d)return window.addEventListener("scroll",p,{capture:!0,passive:!0}),()=>{window.removeEventListener("scroll",p,{capture:!0})}},l),{bodyRef:m,check:p}}},function(k,n,t){var e=t(201),a=1/0;function o(l){if(typeof l=="string"||e(l))return l;var d=l+"";return d=="0"&&1/l==-a?"-0":d}k.exports=o},function(k,n,t){"use strict";t.d(n,"a",function(){return O});var e=t(0),a=t(5),o=t.n(a),l={circularLoader:"frontend-pencraft-Loader-module__circularLoader--F9L-K",rotate:"frontend-pencraft-Loader-module__rotate--2B5sD",size_sm:"frontend-pencraft-Loader-module__size_sm--3FowA",size_md:"frontend-pencraft-Loader-module__size_md--1hR4s",size_lg:"frontend-pencraft-Loader-module__size_lg--2wXI8"},d=Object.defineProperty,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(r,i,h)=>i in r?d(r,i,{enumerable:!0,configurable:!0,writable:!0,value:h}):r[i]=h,p=(r,i)=>{for(var h in i||(i={}))u.call(i,h)&&m(r,h,i[h]);if(c)for(var h of c(i))f.call(i,h)&&m(r,h,i[h]);return r},g=(r,i)=>{var h={};for(var v in r)u.call(r,v)&&i.indexOf(v)<0&&(h[v]=r[v]);if(r!=null&&c)for(var v of c(r))i.indexOf(v)<0&&f.call(r,v)&&(h[v]=r[v]);return h};const O=r=>{var i=r,{type:h="circular"}=i,v=g(i,["type"]);if(h==="circular")return Object(e.h)(s,p({},v));throw new Error("not implemented")},s=({className:r,size:i="md",dataTestId:h})=>Object(e.h)("div",{"data-testid":h,className:o()(l.circularLoader,l[`size_${i}`],r)})},function(k,n,t){"use strict";t.d(n,"a",function(){return H});function e(C){for(var T=0,S,D=0,w=C.length;w>=4;++D,w-=4)S=C.charCodeAt(D)&255|(C.charCodeAt(++D)&255)<<8|(C.charCodeAt(++D)&255)<<16|(C.charCodeAt(++D)&255)<<24,S=(S&65535)*1540483477+((S>>>16)*59797<<16),S^=S>>>24,T=(S&65535)*1540483477+((S>>>16)*59797<<16)^(T&65535)*1540483477+((T>>>16)*59797<<16);switch(w){case 3:T^=(C.charCodeAt(D+2)&255)<<16;case 2:T^=(C.charCodeAt(D+1)&255)<<8;case 1:T^=C.charCodeAt(D)&255,T=(T&65535)*1540483477+((T>>>16)*59797<<16)}return T^=T>>>13,T=(T&65535)*1540483477+((T>>>16)*59797<<16),((T^T>>>15)>>>0).toString(36)}var a=e,o={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},l=o;function d(C){var T={};return function(S){return T[S]===void 0&&(T[S]=C(S)),T[S]}}var c=d,u=`You have illegal escape sequence in your template literal, most likely inside content's property value.
Because you write your CSS inside a JavaScript string you actually have to do double escaping, so for example "content: '\\00d7';" should become "content: '\\\\00d7';".
You can read more about this here:
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#ES2018_revision_of_illegal_escape_sequences`,f="You have passed in falsy value as style object's key (can happen when in example you pass unexported component as computed key).",m=/[A-Z]|^ms/g,p=/_EMO_([^_]+?)_([^]*?)_EMO_/g,g=function(T){return T.charCodeAt(1)===45},O=function(T){return T!=null&&typeof T!="boolean"},s=c(function(C){return g(C)?C:C.replace(m,"-$&").toLowerCase()}),r=function(T,S){switch(T){case"animation":case"animationName":if(typeof S=="string")return S.replace(p,function(D,w,U){return F={name:w,styles:U,next:F},w})}return l[T]!==1&&!g(T)&&typeof S=="number"&&S!==0?S+"px":S};if(!1)var i,h,v,j,y,b;var E=!0;function P(C,T,S,D){if(S==null)return"";if(S.__emotion_styles!==void 0)return S;switch(typeof S){case"boolean":return"";case"object":{if(S.anim===1)return F={name:S.name,styles:S.styles,next:F},S.name;if(S.styles!==void 0){var w=S.next;if(w!==void 0)for(;w!==void 0;)F={name:w.name,styles:w.styles,next:F},w=w.next;var U=S.styles+";";return U}return A(C,T,S)}case"function":{if(C!==void 0){var V=F,K=S(C);return F=V,P(C,T,K,D)}break}case"string":if(!1)var Y,W;break}if(T==null)return S;var R=T[S];return R!==void 0&&!D?R:S}function A(C,T,S){var D="";if(Array.isArray(S))for(var w=0;w<S.length;w++)D+=P(C,T,S[w],!1);else for(var U in S){var V=S[U];if(typeof V!="object")T!=null&&T[V]!==void 0?D+=U+"{"+T[V]+"}":O(V)&&(D+=s(U)+":"+r(U,V)+";");else if(Array.isArray(V)&&typeof V[0]=="string"&&(T==null||T[V[0]]===void 0))for(var K=0;K<V.length;K++)O(V[K])&&(D+=s(U)+":"+r(U,V[K])+";");else{var Y=P(C,T,V,!1);switch(U){case"animation":case"animationName":{D+=s(U)+":"+Y+";";break}default:D+=U+"{"+Y+"}"}}}return D}var _=/label:\s*([^\s;\n{]+)\s*;/g,M,F,H=function(T,S,D){if(T.length===1&&typeof T[0]=="object"&&T[0]!==null&&T[0].styles!==void 0)return T[0];var w=!0,U="";F=void 0;var V=T[0];V==null||V.raw===void 0?(w=!1,U+=P(D,S,V,!1)):U+=V[0];for(var K=1;K<T.length;K++)U+=P(D,S,T[K],U.charCodeAt(U.length-1)===46),w&&(U+=V[K]);var Y;_.lastIndex=0;for(var W="",R;(R=_.exec(U))!==null;)W+="-"+R[1];var B=a(U)+W;return{name:B,styles:U,next:F}}},function(k,n,t){"use strict";t.d(n,"a",function(){return d});var e=t(0),a=t(443),o=t(2),l=t(8);function d({title:c,body:u,children:f}){return Object(e.h)(o.b,{flex:"grow",alignItems:"center",justifyContent:"center",gap:16,padding:20},Object(e.h)(a.a,{stroke:"var(--color-secondary)"}),Object(e.h)(o.b,{gap:8,alignItems:"center"},Object(e.h)(l.b.B4,{weight:"semibold",color:"secondary",align:"center"},c),Object(e.h)(l.b.B4,{color:"secondary",align:"center"},u),f))}},function(k,n){function t(e){return e}k.exports=t},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(89),o=t.n(a),l=t(13),d=Object.defineProperty,c=Object.defineProperties,u=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,g=(h,v,j)=>v in h?d(h,v,{enumerable:!0,configurable:!0,writable:!0,value:j}):h[v]=j,O=(h,v)=>{for(var j in v||(v={}))m.call(v,j)&&g(h,j,v[j]);if(f)for(var j of f(v))p.call(v,j)&&g(h,j,v[j]);return h},s=(h,v)=>c(h,u(v)),r=(h,v)=>{var j={};for(var y in h)m.call(h,y)&&v.indexOf(y)<0&&(j[y]=h[y]);if(h!=null&&f)for(var y of f(h))v.indexOf(y)<0&&p.call(h,y)&&(j[y]=h[y]);return j};const i=h=>{var v=h,{svgParams:j}=v,y=r(v,["svgParams"]);return Object(e.h)(l.a,s(O({},y),{name:"SubstackIcon",svgParams:O({height:1e3,width:1e3,fill:a.substack_color,stroke:"none"},j)}),Object(e.h)("path",{d:"M764.166 348.371H236.319V419.402H764.166V348.371Z"}),Object(e.h)("path",{d:"M236.319 483.752V813.999L500.231 666.512L764.19 813.999V483.752H236.319Z"}),Object(e.h)("path",{d:"M764.166 213H236.319V284.019H764.166V213Z"}))};n.default=i},function(k,n,t){"use strict";t.r(n),t.d(n,"ImageViewerModal",function(){return h}),t.d(n,"ImageViewerContents",function(){return v});var e=t(0),a=t(1),o=t(5),l=t.n(o),d=t(831),c=t(830),u=t(193),f=t(832),m=t(4),p=t(9),g=t(64),O=t(2),s=t(32),r=t(185),i={chrome:"frontend-components-ImageViewerModal-module__chrome--1xusK",inactive:"frontend-components-ImageViewerModal-module__inactive--1gxOI",modalImageButtonContainer:"frontend-components-ImageViewerModal-module__modalImageButtonContainer--1r2QT",modalImageButton:"frontend-components-ImageViewerModal-module__modalImageButton--3fvrK",modalImageSidebar:"frontend-components-ImageViewerModal-module__modalImageSidebar--1xe2y",modalBody:"frontend-components-ImageViewerModal-module__modalBody--5de4a",imgContainer:"frontend-components-ImageViewerModal-module__imgContainer--qjaNp",img:"frontend-components-ImageViewerModal-module__img--WKP7Q",isLoading:"frontend-components-ImageViewerModal-module__isLoading--2ZBW4",moreOptionsMenu:"frontend-components-ImageViewerModal-module__moreOptionsMenu--kB3Fp",moreOptionsMenuItem:"frontend-components-ImageViewerModal-module__moreOptionsMenuItem--2OyoI",zIndexStyling:"frontend-components-ImageViewerModal-module__zIndexStyling--2Tyyz"};function h({showModal:b,modalContent:E,onClose:P,step:A,includeDownloadButton:_=!0}){Object(a.d)(()=>{b?(document.body.style.backgroundColor="black",document.body.style.transform="background-color 0.2s"):document.body.style.removeProperty("background-color")},[b]);const M=F=>{F.stopPropagation(),P()};return Object(e.h)(s.a,{isOpen:b,onClose:P,position:"full",opacity:"dark",onEscape:M},Object(e.h)(v,{modalContent:E,onClose:P,stepDefault:A,includeDownloadButton:_}))}function v({modalContent:b=[],onClose:E,stepDefault:P,includeDownloadButton:A}){const[_,M]=Object(a.l)(P),[F,H]=Object(a.l)(!0),C=Object(p.isMobileBrowser)(),T=x=>{x.currentTarget===x.target&&E()},[S,D]=Object(a.l)(!1);Object(a.d)(()=>{if(!C){let x;const G=he=>{const{key:Z}=he;["ArrowRight","ArrowDown"].includes(Z)?(U(),he.stopPropagation()):["ArrowLeft","ArrowUp"].includes(Z)&&(w(),he.stopPropagation())},Q=he=>{(he==null?void 0:he.type)==="keydown"&&G(he),clearTimeout(x),D(!1),x=setTimeout(()=>{D(!0)},2e3)};return window.addEventListener("pointermove",Q,{capture:!0,passive:!0}),window.addEventListener("pointerdown",Q,{capture:!0,passive:!0}),window.addEventListener("keydown",Q,{capture:!0,passive:!0}),Q(),()=>{clearTimeout(x),window.removeEventListener("pointermove",Q,{capture:!0}),window.removeEventListener("pointerdown",Q,{capture:!0}),window.removeEventListener("keydown",Q,{capture:!0})}}},[C,_]);const w=()=>{_!==0&&(M(_-1),H(!0))},U=()=>{_!==b.length-1&&(M(_+1),H(!0))},V=b[_],{attrs:{src:K,alt:Y,title:W}}=V,R=C?8:16,B="#FFFFFF";return Object(e.h)(e.Fragment,null,Object(e.h)("div",{className:l()(i.chrome,S&&i.inactive)},_<b.length-1&&Object(e.h)(j,{buttonFunction:U,style:{right:0,padding:R},isSidebar:!0,icon:Object(e.h)(d.a,{size:20,strokeWidth:2,stroke:B})}),_>0&&Object(e.h)(j,{buttonFunction:w,style:{left:0,padding:R},isSidebar:!0,icon:Object(e.h)(c.a,{size:20,strokeWidth:2,stroke:B})}),Object(e.h)(j,{buttonFunction:E,style:{position:"absolute",right:R,top:R},isSidebar:!1,icon:Object(e.h)(u.a,{size:20,strokeWidth:2,stroke:B})}),A&&Object(e.h)(j,{buttonFunction:x=>{x.stopPropagation(),y(W,K)},style:{position:"absolute",left:R,top:R},isSidebar:!1,icon:Object(e.h)(f.a,{size:20,strokeWidth:2,stroke:B})})),Object(e.h)("div",{className:i.imgContainer,onClick:T},Object(e.h)("img",{className:l()(i.img,F&&i.isLoading),onLoad:()=>{H(!1)},alt:Y,title:W,src:Object(m.cloudinary)(K,void 0,{quality:"auto:good"}),key:K,onClick:T})),F&&Object(e.h)("div",{style:{position:"absolute",top:"50%",left:"50%"}},Object(e.h)(r.a,{className:i.imgDrunkSpin})))}function j({buttonFunction:b,style:E,isSidebar:P,icon:A,tetherRef:_}){return Object(e.h)(O.a,{className:l()(i.modalImageButtonContainer,P?i.modalImageSidebar:null),style:E,alignItems:"center",justifyContent:"center",onClick:b,ref:_},Object(e.h)(g.a,{className:i.modalImageButton,look:"circle"},A))}function y(b,E){const P=document.createElement("a");return document.body.appendChild(P),P.href=E,P.target="_blank",P.click(),document.body.removeChild(P),null}},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"SubstackLogoIcon",svgParams:{height:18,width:16,fill:"#ff6719",stroke:"none"}}),Object(e.h)("path",{d:"M16 4H0V6H16V4Z"}),Object(e.h)("path",{d:"M0 8V18L7.9993 13.534L16 18V8H0Z"}),Object(e.h)("path",{d:"M16 0H0V2H16V0Z"}));n.default=O},function(k,n,t){"use strict";t.d(n,"e",function(){return X}),t.d(n,"f",function(){return Le}),t.d(n,"c",function(){return Ne}),t.d(n,"b",function(){return ce}),t.d(n,"a",function(){return Oe}),t.d(n,"d",function(){return ge});var e=t(0),a=t(3),o=t(1),l=t(5),d=t.n(l),c=t(562),u=t(443),f=t(833),m=t(564),p=t(834),g=t(444),O=t(85),s=t.n(O),r=t(4),i=t(21),h=t(197),v=t(709),j=t(710),y=t(711),b=t(712),E=t(477),P=t(47),A=t(25),_=t(7),M=t(266),F=t(188),H=t(9);const C=je=>je.podcast_url&&je.podcast_duration>0?"podcast":je.videoUpload&&je.videoUpload.duration&&je.videoUpload.duration>0?"video":je.type==="thread"?"thread":"newsletter";var T=t(2),S=t(8),D=t(77),w=t(19),U=t(62),V=t(189),K=t(214),Y=t(37),W=t(79),R=Object.defineProperty,B=Object.defineProperties,x=Object.getOwnPropertyDescriptors,G=Object.getOwnPropertySymbols,Q=Object.prototype.hasOwnProperty,he=Object.prototype.propertyIsEnumerable,Z=(je,it,Tt)=>it in je?R(je,it,{enumerable:!0,configurable:!0,writable:!0,value:Tt}):je[it]=Tt,le=(je,it)=>{for(var Tt in it||(it={}))Q.call(it,Tt)&&Z(je,Tt,it[Tt]);if(G)for(var Tt of G(it))he.call(it,Tt)&&Z(je,Tt,it[Tt]);return je},de=(je,it)=>B(je,x(it)),be=(je,it)=>{var Tt={};for(var sn in je)Q.call(je,sn)&&it.indexOf(sn)<0&&(Tt[sn]=je[sn]);if(je!=null&&G)for(var sn of G(je))it.indexOf(sn)<0&&he.call(je,sn)&&(Tt[sn]=je[sn]);return Tt};function X(je){var it=je,{post:Tt,pub:sn}=it,ht=be(it,["post","pub"]);const Nt=!!Object(A.c)(),{subscription:wt}=Object(W.b)(sn.id);return Object(e.h)(Ce,de(le({},ht),{post:Tt,postId:Tt.id,title:Tt.title,description:s()(Tt.description),bylines:Tt.publishedBylines,consumptionTime:at(Tt),coverImage:Tt.cover_image,type:C(Tt),Icon:Xe(C(Tt)),canonicalUrl:Object(r.getPostUrl)(sn,Tt,{signedIn:Nt}),timestamp:Tt.post_date,pub:sn,audienceBadge:["only_paid","founding"].includes(Tt.audience)?(wt==null?void 0:wt.membership_state)==="free_signup"&&Tt.should_send_free_preview?"preview":"paid":void 0}))}var ie=n.g=X;function Ce(je){var it=je,{post:Tt,title:sn,description:ht,bylines:Nt,consumptionTime:wt,coverImage:yt,type:Qe,Icon:At,audienceBadge:jt,showBestsellerBadge:ke,highlights:tn,excerpt:Pn}=it,Ft=be(it,["post","title","description","bylines","consumptionTime","coverImage","type","Icon","audienceBadge","showBestsellerBadge","highlights","excerpt"]);return Object(e.h)(Ae,de(le({},Ft),{highlights:tn}),Object(e.h)(ot,{post:Tt,bylines:Nt,consumptionTime:wt,Icon:At,audienceBadge:jt,showBestsellerBadge:ke,highlights:tn,excerpt:Pn}))}function Le({post:je,pub:it,context:Tt,isViewed:sn,isSaved:ht,isSelected:Nt,onClick:wt,onMouseEnter:yt,onVisible:Qe,position:At}){const jt=!!Object(A.c)(),ke=je.cover_image;return Object(e.h)(Ae,{postId:je.id,canonicalUrl:Object(r.getPostUrl)(it,je,{signedIn:jt,urlParams:{pos:At}}),timestamp:je.post_date,pub:it,isViewed:sn,isSelected:Nt,defaultSaved:ht,onClick:wt,onMouseEnter:yt,onVisible:Qe},Object(e.h)(We,{post:je,metaText:Tt,image:ke&&Object(e.h)(Be,{post:je})}))}function Ae({children:je,pub:it,publisherName:Tt,logoUrl:sn,timestamp:ht,isViewed:Nt,isArchived:wt,isSelected:yt,isLiked:Qe,isSaved:At,onLike:jt,onClick:ke,canonicalUrl:tn,postId:Pn,defaultSaved:Ft,onSave:lt,onArchive:Rt,onMouseEnter:ln,onVisible:Mt,utmSource:$t,highlights:nn}){const Bt=Object(A.c)(),[Kt,Sn]=Object(K.c)(!Nt),Qn=Object(H.isMobileBrowser)(),rr=Object(o.k)();return Object(F.a)(rr,()=>Mt&&Mt(),{threshold:.2}),Object(e.h)(q,{ref:rr,href:tn,onClick:Mr=>{Sn(),ke&&ke(Mr)},className:"reader2-post-container",utmSource:$t,isSelected:yt,onMouseMove:()=>{ln==null||ln(Pn)}},Object(e.h)(te,{pub:it,publisherName:Tt,logoUrl:sn,highlights:nn},Object(e.h)(w.e,{className:d()("reader2-post-info tw-items-center tw-gap-3",Bt&&"hasUser")},Object(e.h)(ue,{className:"inbox-item-timestamp",value:ht}),Object(e.h)(Pe,{isMobile:Qn,postId:Pn,defaultSaved:Ft,isSaved:At,onSave:lt,user:Bt,isArchived:wt,onArchive:Rt,isLiked:Qe,onLike:jt,canonicalUrl:tn,communityEnabled:it==null?void 0:it.community_enabled}),Kt)),je)}function Pe({isMobile:je,postId:it,defaultSaved:Tt,isLiked:sn,onLike:ht,isSaved:Nt,onSave:wt,user:yt,isArchived:Qe,onArchive:At,canonicalUrl:jt,communityEnabled:ke}){const{isSaved:tn,onSave:Pn}=Object(P.r)({postId:it,defaultSaved:Tt}),Ft=Mt=>{Mt.stopPropagation(),Mt.preventDefault()},lt=()=>{wt?wt(it,!tn):Pn()},Rt=()=>{At==null||At()},ln=Object(M.a)();return je?null:Object(e.h)(T.a,{padding:4,gap:4,className:"inbox-item-actions-menu",onClick:Ft},ht&&ke&&Object(e.h)("div",{className:"reader2-clickable inbox-item-action-button",onClick:()=>ht(it)},Object(e.h)(De,{isActive:sn})),Object(e.h)("div",{className:"reader2-clickable inbox-item-action-button",onClick:()=>{ln(jt)}},Object(e.h)(Se,null)),yt&&Object(e.h)("div",{className:"reader2-clickable inbox-item-action-button",onClick:lt},Object(e.h)(Ve,{isActive:Nt!=null?Nt:tn})),At&&Object(e.h)("div",{className:"reader2-clickable inbox-item-action-button",onClick:Rt},Object(e.h)(se,null)))}function Ne({post:je,highlights:it}){return Object(e.h)(ot,{post:je,bylines:je.publishedBylines,consumptionTime:at(je),Icon:Xe(C(je)),highlights:it})}function ce({post:je,pub:it}){const Tt=!!Object(A.c)();return Object(e.h)(q,{href:Object(r.getPostUrl)(it,je,{signedIn:Tt})},Object(e.h)(te,{pub:it},Object(e.h)(ue,{value:je.post_date})),Object(e.h)(Ne,{post:je}))}const q=Object(a.forwardRef)((je,it)=>Object(e.h)(w.m,de(le({ref:it,linkClassName:d()("reader2-inbox-post",je.isSelected==null&&"hover-action-menu"),native:!0},je),{newTab:!0})));function te({pub:je,logoUrl:it,publisherName:Tt,children:sn,highlights:ht={}}){return Object(e.h)("div",{className:"reader2-post-head reader2-text-meta"},(je||it)&&Object(e.h)(U.a,{className:"pub-logo",pub:je,logoUrl:it,publicationName:Tt,size:20}),Object(e.h)("div",{className:"pub-name"},Tt||je&&Object(e.h)(w.p,{href:je.base_url,onClick:Nt=>Nt.stopPropagation()},Object(V.a)(je.name,ht["publication.name"]))),sn)}function ue({value:je,className:it}){return Object(e.h)("div",{className:d()("timestamp",it)},Object(H.formatPostDate)(je))}function We({post:je,image:it,metaText:Tt,highlights:sn={},excerpt:ht}){return Object(e.h)("div",{className:"reader2-post-body",onClick:()=>{const Nt=(window==null?void 0:window.location)&&new URL(window.location.href);!Nt||Object(_.i)(_.a.POST_SEARCH_RESULT_CLICKED,{post_id:je.id,query:decodeURIComponent(Nt.pathname.replace(/\/search\//g,""))})}},Object(e.h)(w.d,{minWidth:0,gap:8},Object(e.h)("div",{className:"reader2-post-title reader2-clamp-lines"},Object(V.a)(je.title,sn.title||sn["posts.title"],"extrabold")),je.description&&Object(e.h)(w.A,{variant:"secondary",isConstrained:!ht},ht?Object(e.h)(S.b,{as:"span",fontStyle:"italic"},"\u201C...",Object(V.a)(ht,sn.body_text,"extrabold"),"\u201D"):Object(V.a)(s()(je.description),sn.subtitle||sn["posts.subtitle"],"extrabold")),Tt),it)}function ot({bylines:je,consumptionTime:it,Icon:Tt,audienceBadge:sn,showBestsellerBadge:ht,post:Nt,highlights:wt,excerpt:yt}){return Object(e.h)(We,{post:Nt,metaText:Object(e.h)(ze,{bylines:je,consumptionTime:it,Icon:Tt,audienceBadge:sn,showBestsellerBadge:ht,highlights:wt}),image:Nt.cover_image&&Object(e.h)(Be,{post:Nt}),highlights:wt,excerpt:yt})}function ze({bylines:je,consumptionTime:it,Icon:Tt,audienceBadge:sn,showBestsellerBadge:ht,highlights:Nt={}}){return Object(e.h)(w.j,null,sn&&Object(e.h)(e.Fragment,null,Object(e.h)("span",{className:"meta-audience-badge"},sn),Object(e.h)(Wt,null)),je.length>0?Object(e.h)(e.Fragment,null,Object(e.h)(h.a,{array:je,limit:5,formatter:wt=>ht?Object(e.h)(vt,{name:wt.name,tier:wt.bestseller_tier,userId:wt.id}):Object(V.a)(wt.name,Nt["publication.author_name"])}),it&&Object(e.h)(Wt,null)):null,Tt&&Object(e.h)(e.Fragment,null,Object(e.h)(Tt,{className:"meta-icon tw-align-text-top"})," "),it)}const vt=({name:je,tier:it,userId:Tt})=>it?Object(e.h)(w.e,{inline:!0,gap:4,alignItems:"center"},je," ",Object(e.h)(D.a,{userId:Tt,tier:it,size:"sm"})):Object(e.h)(e.Fragment,null,je),Wt=()=>Object(e.h)("span",{className:"meta-bullet"},"\u2219");function zt(je){var it,Tt;return((it=je==null?void 0:je.duration_metadata)==null?void 0:it.audio_duration)?"podcast":je.video_id&&((Tt=je==null?void 0:je.duration_metadata)==null?void 0:Tt.video_duration)?"video":"newsletter"}function at(je){const{comment_count:it,podcast_duration:Tt,wordcount:sn,videoUpload:ht}=je;let Nt,wt;const yt=C(je);if(yt==="podcast")Nt=Tt/60,wt="listen";else if(yt==="video")Nt=ht.duration/60,wt="watch";else{if(yt==="thread")return it>0?`${it.toLocaleString()} replies`:"Thread";if(sn!=null&&sn>0)Nt=sn/220,wt="read";else return null}return`${Math.max(Math.round(Nt),1).toLocaleString()} min ${wt}`}function Me(je){var it;let Tt,sn;const ht=zt(je);if(ht==="podcast")Tt=je.duration_metadata.audio_duration/60,sn="listen";else if(ht==="video")Tt=je.duration_metadata.video_duration/60,sn="watch";else if((((it=je==null?void 0:je.duration_metadata)==null?void 0:it.word_count)||0)>0)Tt=je.duration_metadata.word_count/220,sn="read";else return null;return`${Math.max(Math.ceil(Tt),1).toLocaleString()} min ${sn}`}function Be({post:je,size:it=132,square:Tt}){const sn=je.cover_image,ht=C(je),Nt=it,wt=ht==="podcast"||Tt?it:200,[yt,Qe]=Object(o.l)(null);return yt?null:Object(e.h)("div",{className:"reader2-post-picture-container"},Object(e.h)(w.a,{className:d()("reader2-post-picture",ht),src:sn,width:wt,height:Nt,loading:"lazy",noStyle:!Tt,onError:At=>Qe(At)}),(ht==="podcast"||ht==="video")&&Object(e.h)("div",{className:"reader2-picture-overlay"},Object(e.h)(v.InboxPodcastPlayIcon,{className:"picture-play"})))}function Xe(je){return je==="podcast"?j.AudioIcon:je==="video"?b.VideoIcon:je==="thread"?y.ThreadIcon:null}const Te=20;function we(je){return Object(e.h)(i.a,le({className:"reader2-post-action-button"},je))}function De({isActive:je}){return Object(e.h)(c.a,{className:d()("reader2-post-action-heart",je&&"isActive"),size:Te})}function Ie({isActive:je}){return Object(e.h)(u.a,{size:Te})}function He({isActive:je}){return Object(e.h)(f.a,{size:Te})}function Ve({isActive:je}){return Object(e.h)(m.a,{className:d()("reader2-post-action-bookmark",je&&"isActive"),size:Te})}function z({text:je}){return Object(e.h)(w.m,{linkClassName:"reader2-info-card",noAnchor:!0,native:!0,isPadded:!1},Object(e.h)(E.default,{className:"reader2-info-card-icon"}),Object(e.h)(S.b,{font:"text",color:"secondary",size:14,weight:"medium",lineHeight:20},je))}function se(){return Object(e.h)(p.a,{size:Te,className:"inbox-item-action-icon reader2-post-action-archive"})}function Se(){return Object(e.h)(g.a,{size:Te,className:"inbox-item-action-icon reader2-post-action-copy"})}function Oe(){return Object(e.h)(e.Fragment,null,Array(6).fill(0).map(()=>Object(e.h)(ge,null)))}function ge(){const je=Object(Y.a)();return Object(e.h)(w.m,{isPadded:!0},Object(e.h)(w.d,{flex:"grow",gap:12},Object(e.h)(T.a,{gap:12,alignItems:"center"},Object(e.h)(w.B,{size:24,style:{borderRadius:6}}),Object(e.h)(w.B,{type:"bar",maxWidth:120,className:"tw-grow"}),Object(e.h)(w.B,{type:"bar",maxWidth:80,className:"tw-ml-auto tw-grow"})),Object(e.h)("div",{className:"reader2-post-body"},Object(e.h)(w.d,{minWidth:0,gap:4},Object(e.h)(w.B,{type:"bar",width:"70%"}),Object(e.h)(w.B,{type:"bar",width:"80%"}),Object(e.h)(w.B,{type:"bar",width:"50%"})),Object(e.h)(w.B,{width:je?96:160,height:je?96:120,style:{borderRadius:6}}))))}},,function(k,n,t){"use strict";t.d(n,"a",function(){return g}),t.d(n,"b",function(){return O});var e=t(0),a=t(5),o=t.n(a),l=t(519),d=t(250),c=t(14),u=t(2),f=t(23),m=t(8),p={select:"frontend-pencraft-unstable-Select-module__select--1EyiD"};const g=({children:s,value:r,className:i,onChange:h})=>{var v;const j=s.find(y=>y.props.value===r);return j||console.error("Select: value not found in children. value:",r,"options:",s.map(y=>y.props.value)),Object(e.h)(u.c,{className:o()(p.select,i),alignItems:"center",justifyContent:"space-between",paddingX:16,paddingBottom:8,paddingTop:8,gap:8},Object(e.h)(m.b,{font:"text",weight:"semibold",size:14,color:"primary"},(v=j==null?void 0:j.props.children)!=null?v:""),Object(e.h)(d.default,null),Object(e.h)("select",{value:r,onChange:y=>{h(y.target.value)}},s))};function O({value:s,options:r,onChange:i,fill:h,disabled:v,className:j}){var y,b;return Object(e.h)(f.c,{className:j,trigger:Object(e.h)(c.a,{priority:"secondary",fill:h,disabled:v,rightIcon:Object(e.h)(l.a,{size:20}),"data-testid":"stock-select"},(b=(y=r.find(E=>E.value===s))==null?void 0:y.label)!=null?b:"Select")},r.map(E=>Object(e.h)(f.d,{onClick:()=>i(E.value)},E.label)))}},function(k,n,t){var e=t(331),a=[t(332),t(884),t(885),t(333)],o=[];k.exports=e.createStore(a,o)},function(k,n,t){var e=t(381),a=t(307);function o(l){return l!=null&&a(l.length)&&!e(l)}k.exports=o},function(k,n,t){"use strict";t.d(n,"a",function(){return v});var e=t(0),a=t(1),o=t(5),l=t.n(o),d=t(117),c={popoverBase:"frontend-pencraft-Popover-module__popoverBase--1E-0f"},u=Object.defineProperty,f=Object.defineProperties,m=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,s=(b,E,P)=>E in b?u(b,E,{enumerable:!0,configurable:!0,writable:!0,value:P}):b[E]=P,r=(b,E)=>{for(var P in E||(E={}))g.call(E,P)&&s(b,P,E[P]);if(p)for(var P of p(E))O.call(E,P)&&s(b,P,E[P]);return b},i=(b,E)=>f(b,m(E)),h=(b,E)=>{var P={};for(var A in b)g.call(b,A)&&E.indexOf(A)<0&&(P[A]=b[A]);if(b!=null&&p)for(var A of p(b))E.indexOf(A)<0&&O.call(b,A)&&(P[A]=b[A]);return P};const v=b=>{var E=b,{className:P="",children:A,layerClassName:_,hideOnScroll:M=!1,onClose:F}=E,H=h(E,["className","children","layerClassName","hideOnScroll","onClose"]);const[C,T]=Object(a.l)(!1),S=y(r({open:C,onClose:()=>{T(!1),F==null||F()},hideOnScroll:M,className:_},H));return j({hideOnScroll:M,setOpen:T,open:C}),Object(e.h)("div",i(r({className:P},S.triggerProps),{onClick:D=>{T(!C),D.stopPropagation()}}),A,S.layer)};function j({hideOnScroll:b,setOpen:E,open:P}){const A=Object(a.a)(_=>{requestAnimationFrame(()=>{var M;const H=(M=_.target.classList)==null?void 0:M.contains("popoverLayerForScrollDetection");P&&b&&!H&&E(!1)})},[b,E,P]);Object(a.d)(()=>{if(!!b)return window.addEventListener("scroll",A,!0),()=>{window.removeEventListener("scroll",A,!0)}},[A,b])}function y({open:b,onClose:E,disabled:P,possiblePlacements:A=["top-center","bottom-center","top-start","bottom-start","top-end","bottom-end"],preferPlacement:_,snap:M=!1,onOpen:F,content:H,className:C,layerOptions:T,closeOnOutsideClick:S=!0}){const D=Object(a.k)(!1);Object(a.d)(()=>{b&&!D.current&&F&&(D.current=!0,F())},[b,F]);const{triggerProps:w,layerProps:U,renderLayer:V}=Object(d.c)(r(r(r({isOpen:P?!1:b,overflowContainer:!1,auto:!0,snap:M,possiblePlacements:A,placement:_,containerOffset:10,triggerOffset:8},S&&{onOutsideClick:()=>E()}),_&&{placement:_}),T));return{triggerProps:w,layer:b&&V(Object(e.h)("div",r({className:l()("popoverLayerForScrollDetection",c.popoverBase,C)},U),typeof H=="function"?H(E):H))}}},,function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"PodcastIcon",svgParams:{height:19,width:19}}),Object(e.h)("path",{d:"M10.1505 3H8.61291C6.06527 3 4 4.9401 4 7.33333V10","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M8.89246 3H10.4301C12.9778 3 15.043 4.9401 15.043 7.33333V10.5","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M3 12.1429V13.3571C3 14.5406 3.81359 15.5 4.81721 15.5H6.42473V10H4.81721C3.81359 10 3 10.9594 3 12.1429Z","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M16 12.1429V13.3571C16 14.5406 15.1864 15.5 14.1828 15.5H12.5753V10H14.1828C15.1864 10 16 10.9594 16 12.1429Z","stroke-linejoin":"round"}));n.default=O},function(k,n,t){k.exports=t(943).default},function(k,n,t){"use strict";var e=t(0),a=t(3),o=t(5),l=t.n(o),d=t(105),c=t.n(d),u=t(199),f=t.n(u),m=t(9),p=t.n(m),g=Object.defineProperty,O=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,i=(y,b,E)=>b in y?g(y,b,{enumerable:!0,configurable:!0,writable:!0,value:E}):y[b]=E,h=(y,b)=>{for(var E in b||(b={}))s.call(b,E)&&i(y,E,b[E]);if(O)for(var E of O(b))r.call(b,E)&&i(y,E,b[E]);return y},v=(y,b,E)=>(i(y,typeof b!="symbol"?b+"":b,E),E);class j extends e.Component{constructor(b,E){super(b,E);v(this,"open",()=>{this.updateCoords(),this.createScrollListeners(),document.addEventListener("mouseup",this.onDocumentMouseUp),document.addEventListener("keydown",this.onDocumentKeyDown),this.props.onOpen&&this.props.onOpen()}),v(this,"close",()=>{this.removeScrollListeners(),document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("keydown",this.onDocumentKeyDown),this.props.onClose&&this.props.onClose()}),v(this,"onDocumentMouseUp",P=>{var A;!Object(m.isRootOrChild)(P.target,this.portalRef.current,((A=this.props.baseRef)==null?void 0:A.current)||this.props.baseRef)&&this.state.open&&(this.close(),this.setState({open:!1}))}),v(this,"onDocumentKeyDown",P=>{P.key==="Escape"&&this.state.open&&(this.close(),this.setState({open:!1}))}),this.onResize=c()(this.updateCoords.bind(this)),this.scrollListenersToRemove=[],this.state={coords:{},open:!1},this.portalRef=Object(e.createRef)()}toggle(){const b=!this.state.open;b?(this.removeScrollListeners(),this.open()):this.close(),this.setState({open:b})}updateCoords(){var b,E,P,A,_,M,F;const H=(A=(E=((b=this.props.baseRef)==null?void 0:b.current)||this.props.baseRef)==null?void 0:E.getBoundingClientRect)==null?void 0:A.call(((P=this.props.baseRef)==null?void 0:P.current)||this.props.baseRef);if(H){let C=0,T=((_=this.props.baseRef)==null?void 0:_.current)||this.props.baseRef;for(;T=T==null?void 0:T.parentElement;)C+=T.scrollTop;this.setState({coords:{left:H.x+(this.props.rightAlign?H.width:0)+(typeof window!="undefined"?window.scrollX:0)+(((M=this.props.offset)==null?void 0:M.x)||0),top:H.y+C+(((F=this.props.offset)==null?void 0:F.y)||0),width:H.width,height:H.height}})}}componentDidMount(){typeof window!="undefined"&&window.addEventListener("resize",this.onResize),this.updateCoords(),this.props.hoverToggle&&this.createMouseListeners()}createMouseListeners(){var b,E,P,A;(E=((b=this.props.baseRef)==null?void 0:b.current)||this.props.baseRef)==null||E.addEventListener("mouseenter",this.open),(A=((P=this.props.baseRef)==null?void 0:P.current)||this.props.baseRef)==null||A.addEventListener("mouseleave",this.close)}removeMouseListeners(){var b,E,P,A;(E=((b=this.props.baseRef)==null?void 0:b.current)||this.props.baseRef)==null||E.removeEventListener("mouseenter",this.open),(A=((P=this.props.baseRef)==null?void 0:P.current)||this.props.baseRef)==null||A.removeEventListener("mouseleave",this.close)}componentDidUnmount(){typeof window!="undefined"&&window.removeEventListener("resize",this.onResize),this.removeScrollListeners(),this.removeMouseListeners()}onScroll(b){var E,P;const A=b==null?void 0:b.getBoundingClientRect(),_=(P=((E=this.props.baseRef)==null?void 0:E.current)||this.props.baseRef)==null?void 0:P.getBoundingClientRect();if(!A||!_)return;const M=({x:S,y:D})=>C<=S&&S<=T&&F<=D&&D<=H,{top:F,bottom:H,left:C,right:T}=A;M({x:_.left,y:_.top})||M({x:_.right,y:_.top})||M({x:_.left,y:_.bottom})||M({x:_.right,y:_.bottom})?(this.updateCoords(),this.props.hoverToggle?this.createMouseListeners():this.state.open&&this.props.onOpen&&this.props.onOpen()):(this.removeMouseListeners(),this.props.onClose&&this.props.onClose())}removeScrollListeners(){this.scrollListenersToRemove.forEach(b=>b())}createScrollListeners(){this.scrollListenersToRemove=this.props.scrollContainers.map(b=>{const E=(b==null?void 0:b.current)||b,P=c()(()=>this.onScroll(E),10);return E==null||E.addEventListener("scroll",P),()=>E==null?void 0:E.removeEventListener("scroll",P)})}componentShouldUpdate(b,E){return!f()(this.props,b)||!f()(this.state,E)}componentDidUpdate(b){var E,P,A,_;!f()(b.scrollContainers,this.props.scrollContainers)&&this.scrollListenersToRemove.length>0&&(this.removeScrollListeners(),this.createScrollListeners()),f()(b.baseRef,this.props.baseRef)||((P=((E=b.baseRef)==null?void 0:E.current)||b.baseRef)==null||P.removeEventListener("mouseenter",this.open),(_=((A=b.baseRef)==null?void 0:A.current)||b.baseRef)==null||_.removeEventListener("mouseleave",this.close),this.props.hoverToggle&&this.createMouseListeners())}render({children:b,rootElement:E,className:P},{coords:A}){return typeof window=="undefined"?null:Object(a.createPortal)(Object(e.h)("div",{style:h({},A),className:l()("tooltip-portal",P),ref:this.portalRef},b),E||document.body)}}j.defaultProps={scrollContainers:[]},n.a=j},function(k,n,t){var e=t(630),a=t(674),o=t(229),l=t(95),d=t(680);function c(u){return typeof u=="function"?u:u==null?o:typeof u=="object"?l(u)?a(u[0],u[1]):e(u):d(u)}k.exports=c},function(k,n,t){var e=t(632),a=t(633),o=t(634),l=t(635),d=t(636);function c(u){var f=-1,m=u==null?0:u.length;for(this.clear();++f<m;){var p=u[f];this.set(p[0],p[1])}}c.prototype.clear=e,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=l,c.prototype.set=d,k.exports=c},function(k,n,t){var e=t(284);function a(o,l){for(var d=o.length;d--;)if(e(o[d][0],l))return d;return-1}k.exports=a},function(k,n,t){var e=t(152),a=e(Object,"create");k.exports=a},function(k,n,t){var e=t(656);function a(o,l){var d=o.__data__;return e(l)?d[typeof l=="string"?"string":"hash"]:d.map}k.exports=a},function(k,n){let t;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];n.getSymbolSize=function(o){if(!o)throw new Error('"version" cannot be null or undefined');if(o<1||o>40)throw new Error('"version" should be in range from 1 to 40');return o*4+17},n.getSymbolTotalCodewords=function(o){return e[o]},n.getBCHDigit=function(a){let o=0;for(;a!==0;)o++,a>>>=1;return o},n.setToSJISFunction=function(o){if(typeof o!="function")throw new Error('"toSJISFunc" is not a valid function.');t=o},n.isKanjiModeEnabled=function(){return typeof t!="undefined"},n.toSJIS=function(o){return t(o)}},function(k,n,t){const e=t(770),a=t(771);n.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]},n.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]},n.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]},n.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]},n.MIXED={bit:-1},n.getCharCountIndicator=function(d,c){if(!d.ccBits)throw new Error("Invalid mode: "+d);if(!e.isValid(c))throw new Error("Invalid version: "+c);return c>=1&&c<10?d.ccBits[0]:c<27?d.ccBits[1]:d.ccBits[2]},n.getBestModeForData=function(d){return a.testNumeric(d)?n.NUMERIC:a.testAlphanumeric(d)?n.ALPHANUMERIC:a.testKanji(d)?n.KANJI:n.BYTE},n.toString=function(d){if(d&&d.id)return d.id;throw new Error("Invalid mode")},n.isValid=function(d){return d&&d.bit&&d.ccBits};function o(l){if(typeof l!="string")throw new Error("Param is not a string");switch(l.toLowerCase()){case"numeric":return n.NUMERIC;case"alphanumeric":return n.ALPHANUMERIC;case"kanji":return n.KANJI;case"byte":return n.BYTE;default:throw new Error("Unknown mode: "+l)}}n.from=function(d,c){if(n.isValid(d))return d;try{return o(d)}catch(u){return c}}},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"CaretDownIcon",svgParams:{height:6,width:10,fill:"#1C110B"}}),Object(e.h)("path",{d:"M4.61589 5.53907L0.68341 0.820092C0.412024 0.494429 0.643602 0 1.06752 0H8.93248C9.3564 0 9.58798 0.494428 9.31659 0.820091L5.38411 5.53907C5.18421 5.77894 4.81579 5.77894 4.61589 5.53907Z"}),");");n.default=O},function(k,n,t){"use strict";var e=t(495),a=t(499),o=t(500),l=t(520),d=t(521),c=t(496),u=t(522),f=t(501),m=t(574),p=t(523),g=t(502),O=t(497),s=t(524),r=t(498),i=t(776);const h=c.b.extend({addAttributes(){return{schemaVersion:{default:"v1"}}}}),v=[a.b,o.b,l.b,d.b,u.b,f.b,p.b,g.b,O.b,s.b,r.b,h,e.default,m.b.configure({openOnClick:!1,HTMLAttributes:{class:"note-link",rel:"nofollow ugc noopener",target:"_blank"}}),i.a];n.a=v},function(k,n,t){"use strict";t.d(n,"a",function(){return l});var e=t(251),a=t(479),o=t.n(a);function l(d,c){const u=o()(d||""),f=u.split(/[\n\r]/g).filter(Boolean).map(p=>c(p,e.a));if(f.length===0)return c(u,e.a);const m=f[0];if(m.content)for(const p of f.slice(1))p.content&&m.content.push(...p.content);return m}},function(k,n,t){"use strict";t.d(n,"b",function(){return P}),t.d(n,"a",function(){return A});var e=t(0),a=t(1),o=t(301),l=t.n(o),d=t(12),c=t.n(d),u=t(4),f=t.n(u),m=t(10),p=t.n(m),g=t(7),O=t(9),s=t.n(O),r=t(70),i=t(455),h=t(577),v=t(73),j=Object.defineProperty,y=(_,M,F)=>M in _?j(_,M,{enumerable:!0,configurable:!0,writable:!0,value:F}):_[M]=F,b=(_,M,F)=>(y(_,typeof M!="symbol"?M+"":M,F),F),E=(_,M,F)=>new Promise((H,C)=>{var T=w=>{try{D(F.next(w))}catch(U){C(U)}},S=w=>{try{D(F.throw(w))}catch(U){C(U)}},D=w=>w.done?H(w.value):Promise.resolve(w.value).then(T,S);D((F=F.apply(_,M)).next())});class P extends e.Component{constructor(){super(...arguments);b(this,"toggleTopExclusion",M=>Object(O.stateTransaction)(this,(F,H)=>E(this,[F,H],function*(C,{post:T,onChange:S}){if(C.topExcluding)return;this.setState({topExcluding:M.id});const D=T.top_exclusions.includes(M.id),w=`/api/v1/publication/${M.id}/exclusion/${T.id}`;try{D?(yield c.a.del(w),T.top_exclusions.splice(0)):(yield c.a.post(w),T.top_exclusions.splice(0),T.top_exclusions.push(M.id)),["/","/beta","/publish"].includes(window.location.pathname)&&window.location.reload()}catch(U){console.error("Failed to exclude post:",U),alert(Object(O.getNetworkErrorMessage)(U));return}finally{this.setState({topExcluding:null})}S&&(yield S({post:T}))}))),b(this,"toggleSectionPin",(M,F)=>Object(O.stateTransaction)(this,(H,C)=>E(this,[H,C],function*(T,{post:S,onChange:D}){if(T.pinning)return;this.setState({sectionPinning:F});const w=`/api/v1/publication/${M.id}/section/${F}/pin/${S.id}`;try{S.is_section_pinned?(yield c.a.del(w),S.is_section_pinned=!1):(yield c.a.post(w),S.is_section_pinned=!0),(["/","/beta","/publish"].includes(window.location.pathname)||window.location.pathname.startsWith("/s/"))&&window.location.reload()}catch(U){console.error("Failed to pin post:",U),alert(Object(O.getNetworkErrorMessage)(U));return}finally{this.setState({sectionPinning:null})}D&&(yield D({post:S}))}))),b(this,"togglePin",M=>Object(O.stateTransaction)(this,(F,H)=>E(this,[F,H],function*(C,{post:T,onChange:S}){if(C.pinning)return;this.setState({pinning:M.id});const D=T.pins.includes(M.id),w=`/api/v1/publication/${M.id}/pin/${T.id}`;try{D?(yield c.a.del(w),T.pins.splice(T.pins.indexOf(M.id),1)):(yield c.a.post(w),M.multiple_pins||T.pins.splice(0),T.pins.push(M.id)),["/","/beta","/publish"].includes(window.location.pathname)&&window.location.reload()}catch(U){console.error("Failed to pin post:",U),alert(Object(O.getNetworkErrorMessage)(U));return}finally{this.setState({pinning:null})}S&&(yield S({post:T}))}))),b(this,"sendEmail",()=>E(this,null,function*(){const{post:M}=this.props,F={everyone:"everyone",only_paid:"paid subscribers",founding:"founding members"}[M.audience];if(!confirm(`Send this published post as an email to ${F}?`))return;const H=`/api/v1/drafts/${M.id}/publish`;try{yield c.a.post(H).send({send:!0,only_send:!0}),location.reload()}catch(C){console.error("Failed to send post:",C),alert(Object(O.getNetworkErrorMessage)(C))}})),b(this,"clearCache",()=>E(this,null,function*(){const{post:M}=this.props;try{yield c.a.put(`/api/v1/posts/${M.id}/clear_cache`),location.reload()}catch(F){console.error("Failed to clear post from cache"),alert(Object(O.getNetworkErrorMessage)(F))}})),b(this,"duplicatePost",()=>E(this,null,function*(){this.setState({duplicating:!0});const{pub:M,post:F}=this.props;try{const H=yield c.a.post(`/api/v1/posts/${F.id}/duplicate`);Object(O.redirect)(Object(u.getEditPostUrlById)(M,H.body.id),{local_navigation:!1})}catch(H){this.setState({duplicating:!1}),console.error("Failed to duplicate"),alert(Object(O.getNetworkErrorMessage)(H))}}))}isOpen(){return this.editMenu.isOpen()}toggle(){this.editMenu.toggle()}open(){this.editMenu.open()}close(){this.editMenu.close()}render({pub:M,post:F,hidePinning:H,user:C,emailSent:T,allowSendEmail:S,className:D,useDrawerOnMobile:w,handleCrossPost:U},{pinning:V,sectionPinning:K,topExcluding:Y,duplicating:W}){let R=null;return F.section_id&&M.sections&&M.sections.length&&(R=M.sections.find(B=>B.id===F.section_id)),Object(e.h)(r.b,{attachOnActive:!0,ref:B=>this.editMenu=B,className:D,useDrawerOnMobile:w},Object(e.h)(v.a,{href:Object(u.getPostUrl)(M,F,{edit:!0}),onClick:l.a},"Edit post"),!H&&F.slug&&[Object(m.isPinnable)(M)&&F.section_id&&(F.section_name||R.name)&&Object(e.h)(v.a,{onClick:()=>this.toggleSectionPin(M,F.section_id)},[F.is_section_pinned^K===F.section_id?"Unpin from":"Pin on",` ${F.section_name||R.name}`]),Object(m.isPinnable)(M)&&Object(e.h)(v.a,{onClick:()=>this.togglePin(M)},[F.pins.includes(M.id)^V===M.id?"Unpin from":"Pin on",M.parent_publication_id||R?` ${M.name}`:" homepage"]),M.parent_publication&&Object(m.isPinnable)(M.parent_publication)&&Object(e.h)(v.a,{onClick:()=>this.togglePin(M.parent_publication)},[F.pins.includes(M.parent_publication.id)^V===M.parent_publication.id?"Unpin from":"Pin on",` ${M.parent_publication.name}`])],F.slug&&F.type!=="adhoc_email"&&[Object(e.h)(v.a,{onClick:()=>this.toggleTopExclusion(M)},[F.top_exclusions.includes(M.id)^Y===M.id?"Include in":"Exclude from"," Top",M.parent_publication_id&&` for ${M.name}`]),M.parent_publication&&Object(e.h)(v.a,{onClick:()=>this.toggleTopExclusion(M.parent_publication)},[F.top_exclusions.includes(M.parent_publication.id)^Y===M.parent_publication.id?"Include in":"Exclude from"," Top",` for ${M.parent_publication.name}`])],Object(e.h)(v.a,{disabled:W,onClick:()=>this.duplicatePost()},W?"Duplicating":"Duplicate"," to drafts"),!T&&S&&F.is_published&&Object(e.h)(v.a,{onClick:()=>this.sendEmail()},"Send as email"),(C==null?void 0:C.is_global_admin)&&Object(e.h)(v.a,{onClick:()=>this.clearCache()},"Clear post from cache"),Object(e.h)(v.a,{onClick:()=>{window.open(`${Object(u.getPostUrl)(M,F)}/media-assets`)}},"View media assets"),U&&Object(e.h)(v.a,{onClick:U},"Cross post"))}}b(P,"state",{duplicating:!1});function A({pub:_,post:M,iconHeight:F,hidePinning:H,user:C,emailSent:T,allowSendEmail:S,showUpdatedIcons:D,dropdownClassName:w,iconClassName:U}){const V=Object(a.k)();return Object(e.h)(e.Fragment,null,Object(e.h)(v.a,{onClick:()=>{V.current.isOpen()||Object(g.i)(g.a.EDIT_POST_DROPDOWN_MENU_OPENED),V.current.toggle()}},D?Object(e.h)(h.default,{stroke:"#262626",height:F,className:U}):Object(e.h)(i.default,{stroke:"#757575",height:F,className:U})),Object(e.h)(P,{ref:V,pub:_,post:M,hidePinning:H,user:C,emailSent:T,allowSendEmail:S,className:w}))}},function(k,n,t){"use strict";t.r(n),t.d(n,"ChatPage",function(){return Tt}),t.d(n,"useDispatch",function(){return zn});var e=t(0),a=t(1),o=t(180),l=t.n(o),d=t(5),c=t.n(d),u=t(685),f=t.n(u),m=t(302),p=t.n(m),g=t(223),O=t.n(g),s=t(322),r=t.n(s),i=t(836),h=t(565),v=t(193),j=t(837),y=t(824),b=t(541),E=t(838),P=t(839),A=t(261),_=t(390),M=t.n(_),F=t(17),H=t.n(F),C=t(363),T;(function(Je){Je.CONTRIBUTOR="contributor",Je.FOUNDING="founding",Je.PAID="paid",Je.FREE="free_subscriber"})(T||(T={}));var S=t(4),D=t(15),w=t(118),U=t(25),V=t(400),K=t(7),Y=t(18),W=t(113),R=t(9),B=t(14),x=t(2),G=t(23),Q=t(32),he=t(238),Z=t(143),le=t(8),de=t(48),be=t(228),X=t(111),ie=Object.defineProperty,Ce=Object.defineProperties,Le=Object.getOwnPropertyDescriptors,Ae=Object.getOwnPropertySymbols,Pe=Object.prototype.hasOwnProperty,Ne=Object.prototype.propertyIsEnumerable,ce=(Je,St,Gt)=>St in Je?ie(Je,St,{enumerable:!0,configurable:!0,writable:!0,value:Gt}):Je[St]=Gt,q=(Je,St)=>{for(var Gt in St||(St={}))Pe.call(St,Gt)&&ce(Je,Gt,St[Gt]);if(Ae)for(var Gt of Ae(St))Ne.call(St,Gt)&&ce(Je,Gt,St[Gt]);return Je},te=(Je,St)=>Ce(Je,Le(St));function ue(Je){return Object(e.h)(X.a,te(q({},Je),{module:"./ChatTextEditor",resolve:St=>St.ChatTextEditor,onRequest:()=>Promise.all([t.e(2),t.e(21)]).then(t.bind(null,1954))}))}var We=t(91),ot=t(19),ze=t(62),vt=t(214),Wt=t(79),zt={columnsContainer:"frontend-reader2-ChatPage-module__columnsContainer--17a4i",pubChatColumn:"frontend-reader2-ChatPage-module__pubChatColumn--3YdU5",pubChatFull:"frontend-reader2-ChatPage-module__pubChatFull--qc4-i",chatPublication:"frontend-reader2-ChatPage-module__chatPublication--2Qwxj",selected:"frontend-reader2-ChatPage-module__selected--3f2M3",currentVisibilityBox:"frontend-reader2-ChatPage-module__currentVisibilityBox--2MyfT",headerPubLink:"frontend-reader2-ChatPage-module__headerPubLink--1pthP",sidebarPubName:"frontend-reader2-ChatPage-module__sidebarPubName--2W3jT",sidebarChatText:"frontend-reader2-ChatPage-module__sidebarChatText--194Hc",headerPubIcon:"frontend-reader2-ChatPage-module__headerPubIcon--wJTlI",inputBox:"frontend-reader2-ChatPage-module__inputBox--3Vf1p",modalContext:"frontend-reader2-ChatPage-module__modalContext--1Kzki",textInputInset:"frontend-reader2-ChatPage-module__textInputInset--3l7yd",invisible:"frontend-reader2-ChatPage-module__invisible--2yyPj",textInput:"frontend-reader2-ChatPage-module__textInput--1-spC",latestButton:"frontend-reader2-ChatPage-module__latestButton--1o-qr",submitButton:"frontend-reader2-ChatPage-module__submitButton--1tgio",newThreadButton:"frontend-reader2-ChatPage-module__newThreadButton--1G77j",addImage:"frontend-reader2-ChatPage-module__addImage--28-Wb",quoteReplyComposer:"frontend-reader2-ChatPage-module__quoteReplyComposer--3S_r-",composerLinkPreview:"frontend-reader2-ChatPage-module__composerLinkPreview--w_xB-",imageBox:"frontend-reader2-ChatPage-module__imageBox--1uxsf",image:"frontend-reader2-ChatPage-module__image--3UfcR",deleteFile:"frontend-reader2-ChatPage-module__deleteFile--1DzN8",deleteQuote:"frontend-reader2-ChatPage-module__deleteQuote--3u2Y3",communityViewContainer:"frontend-reader2-ChatPage-module__communityViewContainer--3peJF",modalColumn:"frontend-reader2-ChatPage-module__modalColumn--2WETE",visibilityDropdown:"frontend-reader2-ChatPage-module__visibilityDropdown--AHZm-",visibilityDropdownText:"frontend-reader2-ChatPage-module__visibilityDropdownText--3cE5T",loadingBubble:"frontend-reader2-ChatPage-module__loadingBubble--2ULTl",loadingComposer:"frontend-reader2-ChatPage-module__loadingComposer--3bgka",messageSquareIcon:"frontend-reader2-ChatPage-module__messageSquareIcon--11VUv",paywall:"frontend-reader2-ChatPage-module__paywall--J78fH",footer:"frontend-reader2-ChatPage-module__footer--gjy8F",disabled:"frontend-reader2-ChatPage-module__disabled--Dlc6K",header:"frontend-reader2-ChatPage-module__header--2s-L6",modalChatEditor:"frontend-reader2-ChatPage-module__modalChatEditor--321OP"},at=Object.defineProperty,Me=Object.defineProperties,Be=Object.getOwnPropertyDescriptors,Xe=Object.getOwnPropertySymbols,Te=Object.prototype.hasOwnProperty,we=Object.prototype.propertyIsEnumerable,De=(Je,St,Gt)=>St in Je?at(Je,St,{enumerable:!0,configurable:!0,writable:!0,value:Gt}):Je[St]=Gt,Ie=(Je,St)=>{for(var Gt in St||(St={}))Te.call(St,Gt)&&De(Je,Gt,St[Gt]);if(Xe)for(var Gt of Xe(St))we.call(St,Gt)&&De(Je,Gt,St[Gt]);return Je},He=(Je,St)=>Me(Je,Be(St)),Ve=(Je,St)=>{var Gt={};for(var vn in Je)Te.call(Je,vn)&&St.indexOf(vn)<0&&(Gt[vn]=Je[vn]);if(Je!=null&&Xe)for(var vn of Xe(Je))St.indexOf(vn)<0&&we.call(Je,vn)&&(Gt[vn]=Je[vn]);return Gt},z=(Je,St,Gt)=>new Promise((vn,kn)=>{var or=Ln=>{try{er(Gt.next(Ln))}catch(ur){kn(ur)}},fr=Ln=>{try{er(Gt.throw(Ln))}catch(ur){kn(ur)}},er=Ln=>Ln.done?vn(Ln.value):Promise.resolve(Ln.value).then(or,fr);er((Gt=Gt.apply(Je,St)).next())});const se=30,Se=2,Oe=5,ge=5,je=6,it=1;function Tt({}){var Je,St,Gt;Object(We.c)("Chat",{shouldShowGetAppPill:!1});const vn=Object(U.c)(),[kn,or]=Object(W.a)(),[fr,er,Ln,ur]=(Je=kn.path.match(/^\/chat(?:\/(\d+)(?:\/post\/([^\/]+)(?:\/reply\/([^\/]+))?)?)?$/))!=null?Je:[],br=Number(er),et=new URL(kn.url,"https://monograph.dev"),Ge=(St=et.searchParams)==null?void 0:St.get("targetReplyId"),tt=Boolean((Gt=et.searchParams)==null?void 0:Gt.get("showTarget")),Pt=Object(Wt.e)(),gt=Un=>{var nr;const{publicationUserMap:jr}=(nr=Pt.result)!=null?nr:{publicationUserMap:new Map},Hr=jr.get(Un);return Boolean(Hr&&["contributor","admin"].includes(Hr.role))},[me,fe]=Object(V.a)(Ot,{user:vn,inbox:{threads:[],isLoading:!0},communityPosts:new Map,communityComments:new Map,chats:new Map,comments:new Map,replies:new Map});Object(a.d)(()=>{let Un;const nr=()=>{document.hidden||fe(tr()),Un=setTimeout(nr,se*1e3+$n(Se))};return nr(),()=>{Un&&clearTimeout(Un)}},[fe]);const Ee=me.inbox.isLoading,Ue=[];for(const Un of me.inbox.threads){if(!Un.communityPostId&&gt(Un.publication.id)){Ue.push(He(Ie({},Un),{communityPost:null,user:vn}));continue}const nr=Un.communityPostId&&me.communityPosts.get(Un.communityPostId);nr&&!nr.isNew&&Ue.push(Ie(Ie({},Un),nr))}const[Ye,ct]=Object(a.l)(new Map),Yt=new Map((Ue||[]).map(Un=>Ye.has(Un.publication.id)?[Un.publication.id,Ye.get(Un.publication.id)]:Un.lastViewedAt?[Un.publication.id,H()(Un.lastViewedAt)]:null).filter(Boolean));Object(a.d)(()=>{typeof br!="number"||isNaN(br)||(fetch(`/api/v1/community/publications/${br}/seen`,{method:"POST"}).then(()=>{}),ct(Ye.set(br,H()())))},[br]),Object(a.d)(()=>{Ee||Object(K.i)(K.a.THREADS_INBOX_SCREEN_VIEWED,{unread_count:Ue.filter(Un=>Qe(Un,Yt)).length,thread_count:Ue.length})},[Ee]);const Qt=(Un,nr,jr,Hr)=>{or(Object(S.pathWithQuery)(`/chat${Un!=null?`/${Un}`:""}${nr!=null?`/post/${nr}`:""}${jr!=null?`/reply/${jr}`:""}`,{targetReplyId:Hr}))},En=Un=>{Qt(Un)},hn=Un=>{Qt(br,Un)},In=(Un,nr=null)=>{Qt(br,Ln,Un,nr)},Fn=Object(a.i)(()=>({dispatch:fe}),[]);return Object(e.h)(bn.Provider,{value:Fn},Object(e.h)(x.c,{className:zt.columnsContainer,flex:"grow"},Object(R.setMetaData)({title:"Chat | Substack",description:"Chat with your favorite writers on Substack",image:Object(S.cloudinary)("/img/reader/chat-page-thumb.jpg")}),Object(e.h)(x.b,{gap:16,overflowY:"auto",borderRight:"detail",paddingX:16,width:350},Ee?Object(e.h)(sn,null):Ue.length>0?Object(e.h)(ot.x,null,Ue.map(Un=>(Un.communityPost&&Un.user||gt(Un.publication.id))&&Object(e.h)(Nt,{key:Un.publication.id,item:Un,onSelect:En,isSelected:br===Un.publication.id,isUnread:Qe(Un,Yt)}))):Object(e.h)(x.b,{justifyContent:"center",alignItems:"center",flex:"grow",paddingX:32},Object(e.h)(be.a,{title:"You don\u2019t have any threads",body:"When one of your subscriptions starts a new thread, it will appear here."}))),ur!=null?Object(e.h)(Pn,{key:"replies",postId:Ln,pubId:br,parentCommentId:ur,state:me,onBack:()=>In(null,ur),navigateToChat:()=>hn(null),targetReplyId:Ge,showTarget:tt}):Ln!=null?Object(e.h)(Pn,{key:"comments",postId:Ln,pubId:br,state:me,onBack:()=>hn(null),onSelect:In,navigateToChat:()=>hn(null),targetReplyId:Ge,showTarget:tt}):br?Object(e.h)(At,{key:br,pubId:br,state:me,onSelect:hn}):Object(e.h)(be.a,{title:"Click on a chat in the sidebar to get started.",body:"Once you do, it will appear here."})))}function sn(){return Object(e.h)(ot.x,null,Array(8).fill(0).map(()=>Object(e.h)(ht,null)))}function ht(){return Object(e.h)(x.a,{gap:16,padding:16},Object(e.h)(ot.B,{type:"circle",size:40}),Object(e.h)(x.b,{gap:8,flex:"grow"},Object(e.h)(ot.B,{type:"bar",maxWidth:100}),Object(e.h)(ot.B,{type:"bar",maxWidth:300}),Object(e.h)(ot.B,{type:"bar",maxWidth:200})))}function Nt({item:Je,onSelect:St,isSelected:Gt,isUnread:vn}){return Object(e.h)(x.b,{paddingY:16},Object(e.h)(x.c,{onClick:()=>St(Je.publication.id),className:c()(zt.chatPublication,{[zt.selected]:Gt}),alignItems:"start",padding:8,gap:16,radius:12},Je.user&&Object(e.h)(de.b,{user:Je.user,size:56,pub:Je.publication}),Object(e.h)(x.b,{gap:4,flex:"grow",minWidth:0},Object(e.h)(x.a,{justifyContent:"space-between",alignItems:"center",gap:8},Object(e.h)(le.b.Meta,{className:zt.sidebarPubName,ellipsis:!0},Je.publication.name),Je.communityPost&&Object(e.h)(le.b.Meta,{ellipsis:!0},H()(Je.communityPost.created_at).fromNowShort()),vn&&Object(e.h)(vt.b,null)),Object(e.h)(le.b,{clamp:2,size:14,isParagraph:!0,className:zt.sidebarChatText},Je.user&&Object(e.h)(le.b.B4,{as:"span",color:"primary",weight:"semibold"},Je.user.name,":"," "),Je.communityPost&&Object(e.h)(le.b.B4,{as:"span",color:"secondary"},Object(e.h)(wt,{post:Je.communityPost}))))))}function wt({post:Je}){var St;const{isPaid:Gt}=Object(Wt.d)(Je.publication_id);return Je.reported_by_user?Object(e.h)("em",null,"You flagged this thread."):!Gt&&Je.audience==="only_paid"?Object(e.h)("em",null,"started a thread for paid subscribers."):Je.link_url?Object(e.h)(yt,{linkUrl:Je.link_url}):Je.media_assets&&((St=Je.media_assets)==null?void 0:St.length)>0?Object(e.h)(e.Fragment,null,Object(e.h)("em",null,`shared ${Je.media_assets.length} ${Je.media_assets.length>1?"photos":"photo"}.`),Je.body&&` ${Je.body}`):Object(e.h)(e.Fragment,null,Je.body)}function yt({linkUrl:Je}){const{result:St}=Object(Y.f)({pathname:"/api/v1/link-metadata",query:{url:Je},auto:!0,deps:[Je]});return Object(e.h)(e.Fragment,null,Object(e.h)("em",null,"shared a link."),St&&` "${St.title}"`)}function Qe(Je,St){if(!Je.communityPost)return!1;const Gt=St.get(Je.publication.id);return Gt?H()(Je.communityPost.created_at).isAfter(Gt):!0}function At({pubId:Je,onSelect:St,state:Gt}){var vn,kn,or,fr;const er=zn(),Ln=(vn=Gt.chats.get(Je))!=null?vn:kt,ur=Gt.inbox.isLoading&&Gt.inbox.threads.length===0,br=(kn=Ln.publication)==null?void 0:kn.threads_v2_settings,et=!!((or=Ln.publication)==null?void 0:or.threads_v2_enabled),Ge=Object(a.k)(null),tt=Object(a.k)(0);Object(a.d)(()=>{Ln.publication&&Object(K.i)(K.a.PUBLICATION_THREADS_SCREEN_VIEWED,{publicationId:Ln.publication.id})},[Je,Boolean(Ln.publication)]),Object(a.h)(()=>{var Ur;const Cr=Ge.current;Cr&&(Cr.scrollTop=(Ur=Ln.scrollPosition)!=null?Ur:0);const io=()=>{er({type:"posts-save_scroll_position",payload:{publication_id:Je,scrollPosition:tt.current}})},co=()=>{var Wo;tt.current=(Wo=Cr==null?void 0:Cr.scrollTop)!=null?Wo:0};return Cr==null||Cr.addEventListener("scroll",co,{passive:!0}),()=>{Cr==null||Cr.removeEventListener("scroll",co),io()}},[Je,Boolean(Ge.current)]),Object(a.d)(()=>{let Ur;const Cr=()=>{document.hidden||er(rn(Je,!0)),Ur=setTimeout(Cr,Oe*1e3)};return er({type:"posts-request_initial",payload:{publication_id:Je}}).then(Cr),()=>{Ur&&clearTimeout(Ur)}},[Je,er]);const Pt=Object(Y.f)({pathname:`/api/v1/community/publications/${Je}/posts`,method:"POST",deps:[Je]}),gt=()=>{setTimeout(()=>{var Ur;(Ur=Ge.current)==null||Ur.scrollTo({top:0})},0)},{isPaid:me,isAuthor:fe,isFreeSubscribed:Ee,isFounding:Ue}=Object(Wt.d)(Je),Ye=(br==null?void 0:br.create_thread_minimum_role)===T.FOUNDING,ct=(br==null?void 0:br.create_thread_minimum_role)===T.PAID,Yt=(br==null?void 0:br.create_thread_minimum_role)===T.FREE,Qt=fe||Ye&&Ue||ct&&(me||Ue)||Yt&&(Ee||me||Ue),En=Ur=>z(this,[Ur],function*({value:Cr,mediaAssets:io,sendAsEmail:co,audience:Wo,linkUrl:qo}){const Jo=r()();er({type:"posts-new",payload:{publication_id:Je,body:Cr,media_assets:io,link_url:qo,type:io?"media":qo?"link":"text",id:Jo}}),gt();const Go=yield Pt.refetch({json:{body:Cr,media_urls:io==null?void 0:io.map(ko=>ko.url),audience:Wo!=null?Wo:"all_subscribers",type:io?"media":"text",send_email:!!co,link_url:qo}});Go instanceof Error?alert("We failed to post your thread. Please try again later."):er({type:"posts-commit",payload:{publication_id:Je,id:Jo,chatItem:Go}})}),hn=()=>{er(_n(Je))},In=!1,Fn=Ur=>{if(In||!Ln.hasMore||Ln.isLoadingMore)return;const{currentTarget:Cr}=Ur;Cr.scrollTop<Cr.offsetHeight-Cr.scrollHeight+100&&hn()},nr=(Ln.posts.length===0||Ln.posts.every(Ur=>{const Cr=Gt.communityPosts.get(Ur);return!Cr||xn(Cr)&&Cr.communityPost.status!=="published"}))&&!Ln.isLoadingMore&&!Ln.hasMore,jr=fe&&nr,Hr=Ln.posts.map(Ur=>Gt.communityPosts.get(Ur)).filter(Ur=>Ur!==void 0&&Ur.communityPost.status==="published");let Br;const Jr=[];let so=[];for(const Ur of Hr){const Cr=H()(Ur.communityPost.created_at);Br&&!Cr.isSame(Br,"day")&&(Jr.push({day:Br,group:so}),so=[]),so.push(Ur),Br=Cr}Br&&so.length>0&&Jr.push({group:so,day:Br});const Pr=Ln.error;return Pr?Object(e.h)(zo,{pubErr:Pr}):!et&&!ur?fe?Object(e.h)(eo,{title:"You haven't enabled chat for this publication yet.",body:"Once you do, you can access its chat here."},Ln.publication&&Object(e.h)(Co,{onClick:()=>{Ln.publication&&(window.location.href=`${Object(S.getPublishSettingsUrl)(Ln.publication,{addBase:!0,section:"chat-settings"})}`)}},"Enable chat")):Object(e.h)(eo,{title:"This publication has not enabled chat yet.",body:"Once it does, you can access its chat here."}):Object(e.h)(Rt,null,Ln.publication&&Object(e.h)(tn,{pub:Ln.publication}),jr?Object(e.h)(eo,{title:"You haven't started any threads yet.",body:"Once you do, they'll appear here."}):nr?Object(e.h)(eo,{title:"This publication has not started any threads.",body:"Once it does, they'll appear here."}):Object(e.h)(Mt,{direction:"column-reverse",onScroll:Fn,forwardRef:Ge},Jr.map(({day:Ur,group:Cr})=>Object(e.h)(Tr,{key:Ur.toISOString(),day:Ur,items:Cr,onSelect:St,isPaid:Ue||me||fe})),Ln.isLoadingMore||ur?Object(e.h)(fn,{numberToLoad:2}):Ln.hasMore&&Object(e.h)(Dn,{onClick:hn})),Qt?Object(e.h)(Kt,{publicationId:Je,placeholder:"Start a new thread",maxImagesToUpload:je,disabled:Pt.isLoading||ur,onSubmit:En,publishOptionsEnabled:fe,visiblityOptionsEnabled:!!((fr=Ln.publication)==null?void 0:fr.plans)}):Object(e.h)(x.a,{justifyContent:"center",alignItems:"center",paddingX:24,borderTop:"detail",className:c()(zt.footer,zt.disabled)},Object(e.h)(x.c,{gap:8,alignItems:"center"},Object(e.h)(i.a,{size:16,className:zt.messageSquareIcon}),Object(e.h)(le.b.B4,{color:"secondary"},"Click any thread to reply"))))}function jt({item:Je,onSelect:St,isPaid:Gt}){const{communityPost:vn}=Je;if(!Gt&&vn.audience==="only_paid")return Object(e.h)(Eo,{user:Je.user});const or=()=>St(vn.id),fr=er=>{er.defaultPrevented||or()};return Object(e.h)(x.b,{alignItems:"start",onClick:fr,className:zt.communityViewContainer},Object(e.h)(w.e,{communityPost:vn,author:Je.user,onReply:or}))}function ke({pub:Je,children:St,className:Gt}){return Object(e.h)(x.a,{justifyContent:"center",alignItems:"center",as:"a",target:"_blank",href:Object(S.getPubUrl)(Je,{signedIn:!0}),className:Gt},St)}function tn({pub:Je}){return Object(e.h)(x.a,{paddingX:24,key:Je.id},Object(e.h)(x.a,{justifyContent:"space-between",alignItems:"center",borderBottom:"detail",className:zt.header,gap:8,flex:"grow",paddingTop:8},Object(e.h)(ke,{pub:Je,className:zt.headerPubLink},Object(e.h)(ze.a,{className:zt.headerPubIcon,pub:Je,size:40})),Object(e.h)(ke,{pub:Je,className:zt.headerPubLink},Object(e.h)(le.b.H4,null,Je.name)),Object(e.h)(x.a,{justifyContent:"center",alignItems:"center"},Object(e.h)(w.b,{user:{id:Je.author_id,name:Je.author_name,photo_url:Je.author_photo_url},size:40}))))}function Pn({postId:Je,pubId:St,parentCommentId:Gt,onBack:vn,onSelect:kn,state:or,navigateToChat:fr,targetReplyId:er,showTarget:Ln}){var ur,br,et,Ge,tt,Pt,gt,me,fe,Ee;const Ue=Gt?(ur=or.replies.get(Gt))!=null?ur:cr:(br=or.comments.get(Je))!=null?br:cr,Ye=or.communityPosts.get(Je),ct=Gt&&or.communityComments.get(Gt),Yt=or.inbox.isLoading&&or.inbox.threads.length===0,Qt=or.chats.get(St),En=or.inbox,hn=(tt=(Ge=(et=Qt==null?void 0:Qt.publication)==null?void 0:et.threads_v2_settings)==null?void 0:Ge.photo_replies_enabled)!=null?tt:!1,[In,Fn]=Object(a.l)(null),Un=`${Gt?`replies-${Gt}`:`comments-${Je}`}-${Ue.comments.length}${In?`-${In.comment.id}`:""}`,{isAuthor:nr}=Object(Wt.d)(St),jr={quoteReply:In,cancelQuoteReply:()=>Fn(null)},Hr=yr=>{var Nr;const gr=(Nr=or.communityComments.get(yr.id))==null?void 0:Nr.user;gr?Fn({comment:yr,user:gr}):alert("Could not create a quote reply for this comment. Please try again.")};Object(a.d)(()=>{Gt?ct&&mr(ct)&&Object(K.i)(K.a.THREAD_REPLY_PERMALINK_VIEWED,{publication_id:St,community_post_id:Je,community_comment_id:Gt}):Ye&&xn(Ye)&&Object(K.i)(K.a.THREAD_PERMALINK_VIEWED,{publication_id:St,community_post_id:Je,type:Ye.communityPost.type,audience:Ye.communityPost.audience})},[Gt,Je,St,Boolean(Ye),Boolean(ct)]);const Br=Object(U.c)(),Jr=Object(a.k)(),so=Object(a.k)(),Pr=zn(),[Ur,Cr]=Object(a.l)(null),[io,co]=Gt?["replies",{parentCommentId:Gt}]:["comments",{postId:Je}],Wo=!Ue.before.isLoading&&!Ue.after.isLoading&&Ue.comments.length===0,qo=Gt!=null?`/api/v1/community/comments/${Gt}/comments`:`/api/v1/community/posts/${Je}/comments`,Jo=Gt!=null?Gt:Je,Go=(yr,Nr)=>z(this,null,function*(){Pr({type:`${io}-request_initial`,payload:He(Ie({},co),{order:yr})});const gr=yr==="desc"?"before":"after";try{const Xr=yield Object(Y.c)(qo,{query:{order:yr,targetReplyId:Nr!=null?Nr:void 0}});Pr({type:`${io}-load_edge`,payload:He(Ie({},co),{edge:gr,result:Xr})})}catch(Xr){return console.warn(Xr),Pr({type:`${io}-error`,payload:He(Ie({},co),{edge:gr,error:Xr})}),yr==="desc"&&ko(),Xr}return Nr?(setTimeout(()=>{const Dt=document.getElementById(`comment-${Nr}`);Dt&&(Ln?Dt.scrollIntoView({behavior:"smooth",block:"center"}):Dt.scrollIntoView({behavior:"auto",block:"center"}))},Ln?250:50),null):(yr==="desc"&&ko(),null)}),ko=()=>{setTimeout(()=>{var yr;(yr=Jr.current)==null||yr.scrollTo({top:1e7})},0)},Ho={before:!1,after:!1},Vo=(yr,Nr)=>{if(!(Ho[yr]||Ue[yr].isLoading))return Ho[yr]=!0,Ti(yr,Nr)},Ti=(yr,Nr)=>z(this,null,function*(){var gr,Xr,Dt,N;Pr({type:`${io}-request_edge`,payload:He(Ie({},co),{edge:yr})});const L=f()(Ue.comments),$=Ue.comments[0],ne=yr==="before"?{order:"desc",before:L&&((gr=or.communityComments.get(L))==null?void 0:gr.comment.created_at)}:{order:"asc",after:$&&((Xr=or.communityComments.get($))==null?void 0:Xr.comment.created_at)};try{const ee=yield Object(Y.c)(qo,He(Ie({},Nr),{query:ne})),{current:ae}=Jr,ve=(N=(Dt=so.current)==null?void 0:Dt.offsetHeight)!=null?N:0;Pr({type:`${io}-load_edge`,payload:He(Ie({},co),{edge:yr,result:ee})}),setTimeout(()=>{var Re,$e;if(Ue.order==="desc"&&ae){const{scrollTop:bt}=ae;ae.scrollTo({top:bt+((($e=(Re=so.current)==null?void 0:Re.offsetHeight)!=null?$e:0)-ve)})}},0)}catch(ee){console.warn(ee),Pr({type:`${io}-error`,payload:He(Ie({},co),{edge:yr,error:ee})})}}),dt=yr=>{Ue[yr].hasMore&&Vo(yr)},pt=yr=>{const{currentTarget:Nr}=yr,{scrollTop:gr,offsetHeight:Xr,scrollHeight:Dt}=Nr;Dt>Xr&&(gr<100?dt("before"):gr>Xr-Dt-100&&dt("after"))};Object(a.d)(()=>{Go("asc",er).then(yr=>{yr&&Cr(yr)})},[Jo,er]);const Xt=Object(a.k)(Ti);Xt.current=Ti,Object(a.d)(()=>{if(!Wo&&Ue.order==="desc"){let yr=new l.a;const Nr=()=>{setTimeout(()=>z(this,null,function*(){yr.signal.aborted||(yr=new l.a,yield Xt.current("after",{signal:yr.signal}),Nr())}),ge*1e3)};return Nr(),()=>{yr.abort()}}},[Jo,Wo,Ue.order]);const Hn=Object(Y.f)({pathname:`/api/v1/community/posts/${Je}/comments`,method:"POST",deps:[Jo]}),ir=(yr,Nr,gr)=>z(this,null,function*(){const Xr="We failed to upload your media. Please try again later.",Dt=yr[0],{contentType:N}=Dt,L=yield Wn(Nr,gr,N);if(L instanceof Error){alert(Xr);return}const{url:$}=L;(yield Jn(Dt,$))instanceof Error&&alert(Xr)}),It=yr=>z(this,[yr],function*({value:Nr,mediaAssets:gr,mentions:Xr}){const Dt=Nr!=null?Nr:"",N=M()();Ue.order==="asc"&&Go("desc");let L=null;gr&&(L=gr.map(ee=>({id:M()(),url:ee.url,content_type:ee.contentType,type:"image",file:ee.file}))),Pr({type:`${io}-new`,payload:He(Ie({},co),{id:N,body:Dt,postId:Je,mediaUploads:L,quoteReply:In,mentions:Xr})});const $=In==null?void 0:In.comment.id;In&&Fn(null),ko(),gr&&(yield ir(gr,N,St));const ne=yield Hn.refetch({json:{id:N,body:Dt,parent_id:Gt,quote_id:$,mentions:Xr}});if(!(ne instanceof Error))Pr({type:`${io}-commit`,payload:He(Ie({},co),{id:N,reply:ne})});else if(ne instanceof Y.b){const ee=ne.body.status==="PUBLICATION_BAN";alert(ee?`You are not allowed to post to this chat. ${ne.body.error}`:"We failed to post your comment. Please try again later.")}}),_t=Ur&&((Pt=Ur.body)==null?void 0:Pt.status)==="PUBLICATION_NOT_FOUND";if(Object(a.d)(()=>{!Qt&&!En.isLoading&&!_t&&fr()},[En.isLoading]),_t)return Object(e.h)(eo,{title:"We could not find this publication.",body:"Please select another publication and try again."});if(!Qt&&!Yt)return Object(e.h)(eo,{title:"Something went wrong",body:"Navigate back to the publication chat by clicking the button below"},Object(e.h)(Co,{onClick:fr},"Back to chat"));if(Qt&&Qt.error)return Object(e.h)(zo,{pubErr:Qt.error});if(Ur&&((gt=Ur.body)==null?void 0:gt.status)==="POST_NOT_FOUND")return Object(e.h)(eo,{title:"We could not find the parent post",body:"Navigate back to the publication chat by clicking the button below"},Object(e.h)(Co,{onClick:fr},"Back to chat"));if(er&&Ur&&((me=Ur.body)==null?void 0:me.status)==="COMMENT_NOT_FOUND")return Object(e.h)(eo,{title:"We could not find this reply",body:"Navigate back by clicking the button below"},Object(e.h)(Co,{onClick:vn},"Go back"));if(Ur&&((fe=Ur.body)==null?void 0:fe.status)==="COMMENT_NOT_FOUND")return Object(e.h)(eo,{title:"We could not find the parent comment",body:"Navigate back by clicking the button below"},Object(e.h)(Co,{onClick:vn},"Go back"));if(Ye&&Ye.isNew||ct&&ct.isNew)return Object(e.h)(eo,{title:"You cannot comment on this post yet",body:"Navigate back by clicking the button below"},Object(e.h)(Co,{onClick:vn},"Go back"));if(Ye&&Ye.communityPost.publication_id!==St)return Object(e.h)(eo,{title:"This post does not belong to this publication",body:"Navigate back to the publication chat by clicking the button below"},Object(e.h)(Co,{onClick:fr},"Back to chat"));if(ct&&ct.comment.post_id!==Je)return Object(e.h)(eo,{title:"This comment does not belong to this post",body:"Navigate back to the publication chat by clicking the button below"},Object(e.h)(Co,{onClick:fr},"Back to chat"));const qn=Ur&&((Ee=Ur.body)==null?void 0:Ee.status)==="PAID_SUBSCRIPTION_REQUIRED",qr=Ye&&xn(Ye)&&!Ye.communityPost.is_locked,Vr=nr||!qn&&qr&&(Gt?ct&&mr(ct)&&!ct.comment.is_locked:!0),Gr=yr=>Nr=>{if(!yr)return;Nr.preventDefault();const gr=yr.comment.id;Ue.comments.find(Dt=>Dt===gr)&&setTimeout(()=>{const Dt=document.getElementById(`comment-${gr}`);Dt&&Dt.scrollIntoView({behavior:"smooth",block:"start"})},100)},$r=Hn.isLoading||Yt;return Object(e.h)(ln,null,(Qt==null?void 0:Qt.publication)&&Object(e.h)(tn,{pub:Qt.publication}),Object(e.h)(lt,{onClick:vn}),Object(e.h)(x.b,{style:{position:"relative"},flex:"grow"},Object(e.h)(Mt,{onScroll:pt,forwardRef:Jr,fullWidth:!0},Yt?Object(e.h)(fn,{showReplyBubble:!1}):qn?Object(e.h)(Eo,{user:ct?ct.user:Ye?Ye.user:null,showReply:!1,analyticsParams:{publication_id:St,community_post_id:Je}}):ct||Ye?Object(e.h)(x.b,{className:zt.communityViewContainer},ct&&!ct.isNew?Object(e.h)(w.c,{key:ct.comment.id,communityComment:ct.comment,isBanned:ct.is_banned,chatPublicationId:St,author:ct.user,quoteReply:ct.quote,onDelete:vn,hideReply:!0}):Ye&&!Ye.isNew&&Object(e.h)(w.e,{key:Ye.communityPost.id,communityPost:Ye.communityPost,author:Ye.user,onDelete:vn,hideReply:!0})):Object(e.h)(fn,{showReplyBubble:!1}),Object(e.h)(Ft,null),Yt?Object(e.h)(fn,{numberToLoad:2}):qn?Object(e.h)(be.a,{title:"Only paid subscribers can read comments",body:"Upgrade to a paid subscription to access the chat"},(Qt==null?void 0:Qt.publication)&&Object(e.h)(qe,{pub:Qt.publication,utm_source:"web-chat-paywall"})):Wo?Object(e.h)(be.a,{title:"No replies yet",body:"Be the first to add a reply below"}):Object(e.h)(e.Fragment,null,Ue.before.error&&Object(e.h)(bo,null),Ue.before.isLoading?Object(e.h)(fn,null):Ue.before.hasMore&&Object(e.h)(Dn,{onClick:()=>Vo("before")}),Object(e.h)(x.b,{ref:so,gap:24},Ue.comments.slice().reverse().map(yr=>{const Nr=or.communityComments.get(yr);if(Nr&&Nr.comment.status==="published"){const gr=!Nr.isNew&&kn?()=>kn(Nr.comment.id):void 0,Xr=Dt=>{Dt.defaultPrevented||gr==null||gr()};return Object(e.h)(x.b,{alignItems:"start",onClick:Xr,className:zt.communityViewContainer},Object(e.h)(w.c,{key:Nr.comment.id,communityComment:Nr.comment,isBanned:Nr.is_banned,chatPublicationId:St,quoteReply:Nr.quote,onQuoteReplyClick:Gr(Nr.quote),onNewQuote:Hr,author:Nr.isNew?Br:Nr.user,onReply:gr,isTargeted:Ln&&er===Nr.comment.id}))}})),Ue.after.error&&Object(e.h)(bo,null),Ue.after.isLoading&&Ue.order==="asc"?Object(e.h)(fn,null):Ue.after.hasMore&&Object(e.h)(Dn,{onClick:()=>Vo("after")}))),Ue.order==="asc"&&Ue.after.hasMore&&Object(e.h)(B.a,{className:zt.latestButton,onClick:()=>Go("desc"),rounded:!0},"Latest")),Vr&&($r?Object(e.h)(ut,null):Object(e.h)(Qn,{stateChangeKey:Un,placeholder:"Add a reply...",maxImagesToUpload:it,photosEnabled:hn,onSubmit:It,quoteHandler:jr,mentionsContext:{publication_id:St,community_post_id:Je,community_comment_id:Gt}})))}function Ft(){return Object(e.h)(x.a,{borderTop:"detail",alignSelf:"stretch"})}function lt({onClick:Je}){return Object(e.h)(x.a,{paddingX:24,paddingTop:16},Object(e.h)(B.c,{size:40,onClick:Je,fill:"outline",priority:"secondary"},Object(e.h)(h.a,{size:20})))}function Rt(Je){return Object(e.h)(x.b,Ie({},Je))}function ln(Je){return Object(e.h)(x.b,Ie({},Je))}function Mt({children:Je,direction:St="column",onScroll:Gt,forwardRef:vn,fullWidth:kn}){return Object(e.h)(x.a,{className:zt.pubChatColumn,overflowY:"auto",padding:24,flex:"grow",direction:St,onScroll:Gt,ref:vn,alignItems:kn?"stretch":"start"},Object(e.h)(x.a,{className:zt.pubChatFull,gap:24,direction:St},Je))}function $t(){const[Je,St]=Object(a.l)([]);return{files:Je,clearFiles:()=>{St([])},addFiles:or=>{St(fr=>[...fr,...or])},removeFile:or=>{St(fr=>fr.filter(er=>er!==or))}}}function nn(Je){return Promise.all(Je.map(St=>z(this,null,function*(){return{file:St,imageData:yield Object(R.getImageDataFromFileInput)({files:[St]})}}))).then(St=>St.map(Gt=>{var vn;return{contentType:Gt==null?void 0:Gt.file.type,url:(vn=Gt==null?void 0:Gt.imageData)==null?void 0:vn.url,bytes:Gt==null?void 0:Gt.file.size,file:Gt==null?void 0:Gt.file}}))}function Bt(Je,St){const Gt=Object(U.c)(),[vn,kn]=Object(a.l)(!1),or={value:vn,flip:()=>kn(jr=>!jr)},[fr,er]=Object(a.l)("all_subscribers"),Ln={value:fr,set:er},[ur,br]=Object(a.l)(""),[et,Ge]=Object(a.l)(),[tt,Pt]=Object(a.l)(null),gt=Object(a.k)(null),{files:me,clearFiles:fe,addFiles:Ee,removeFile:Ue}=$t(),Ye=`You can only upload ${Je} ${Je>1?"images":"image"} at a time.`,ct=ur.trim()!==""||me.length>0||tt!==null,[Yt,Qt]=Object(a.l)(!1),En={isSubmitting:Yt,clearSubmission:()=>Qt(!1)},hn=jr=>z(this,null,function*(){jr==null||jr.preventDefault();const Hr=ur.trim(),Br=me.slice(),Jr=et?Ie({},et):void 0,so=tt;if(ct){br(""),fe(),Ge(void 0),Qt(!0),Pt(null);let Pr;if(Br.length>0)try{Pr=yield nn(Br)}catch(Ur){console.error("error getting media urls",Ur)}St({value:Hr,sendAsEmail:vn,audience:fr,mediaAssets:Pr,mentions:Jr,linkUrl:so})}}),In=(jr,Hr=!0)=>{!ct||Hr&&jr.key==="Enter"&&!jr.shiftKey&&!jr.altKey&&hn(jr)},Fn=Object(a.k)(null),Un=()=>{var jr;me.length>=Je?alert(Ye):(jr=Fn.current)==null||jr.click()},nr=jr=>{jr.stopPropagation(),jr.preventDefault();const Hr=[...jr.target.files];Hr.length+me.length>Je?alert(`${Ye} Please try again.`):Ee(Hr),(Fn==null?void 0:Fn.current)&&(Fn.current.value="")};return Object(a.d)(()=>(gt.current&&clearTimeout(gt.current),gt.current=setTimeout(()=>{const jr=Object(C.b)(ur);Pt(Hr=>jr.length>0?jr[0].href:Hr)},500),()=>{gt.current&&clearTimeout(gt.current)}),[ur,Pt]),{user:Gt,canSubmit:ct,files:me,linkUrl:tt,setLinkUrl:Pt,handleSubmit:hn,inputFile:Fn,removeFile:Ue,onChangeFile:nr,onImageButtonClick:Un,textValue:ur,setTextValue:br,setMentionMap:Ge,handleKeyDown:In,sendAsEmailHandler:or,postAudienceHandler:Ln,submissionTracker:En}}function Kt({publicationId:Je,placeholder:St,maxImagesToUpload:Gt,publishOptionsEnabled:vn,visiblityOptionsEnabled:kn,disabled:or,onSubmit:fr}){const[er,Ln]=Object(a.l)(!1),ur=()=>Ln(!1);return Object(a.d)(()=>{er&&Object(K.i)(K.a.THREADS_COMPOSER_SCREEN_VIEWED,{publication_id:Je})},[er]),Object(e.h)(e.Fragment,null,Object(e.h)(x.a,{justifyContent:"center",alignItems:"center",flex:"auto",borderTop:"detail",className:zt.footer},Object(e.h)(B.a,{className:zt.newThreadButton,priority:"primary",fill:"filled",onClick:()=>Ln(!0),disabled:er||or,rounded:!0},St)),Object(e.h)(Q.a,{isOpen:er,onClose:ur,fullscreenMobile:!0},Object(e.h)(Sn,{maxImagesToUpload:Gt,publishOptionsEnabled:vn,visiblityOptionsEnabled:kn,onSubmit:fr,handleCloseModal:ur})))}function Sn({maxImagesToUpload:Je,publishOptionsEnabled:St,visiblityOptionsEnabled:Gt,onSubmit:vn,handleCloseModal:kn}){const{user:or,files:fr,handleSubmit:er,inputFile:Ln,removeFile:ur,onChangeFile:br,onImageButtonClick:et,textValue:Ge,setTextValue:tt,handleKeyDown:Pt,sendAsEmailHandler:gt,postAudienceHandler:me,canSubmit:fe,linkUrl:Ee,setLinkUrl:Ue}=Bt(Je,vn),Ye=Object(a.a)((ct,Yt)=>{tt(ct)},[tt]);return Object(e.h)(x.b,{className:zt.modalColumn},Object(e.h)(x.c,{borderBottom:"detail",alignItems:"center",paddingY:12,paddingX:16,justifyContent:"space-between"},Object(e.h)(x.a,{alignItems:"center",gap:8},Object(e.h)(le.b.H3,null,"New Thread")),Object(e.h)(B.c,{size:40,"aria-label":"Close",onClick:kn},Object(e.h)(v.a,{size:20,"aria-hidden":"true"}))),Object(e.h)(x.b,{gap:16,padding:16,flex:"grow"},Object(e.h)(x.a,{gap:12,className:c()(zt.inputBox,zt.modalContext),flex:"grow",paddingRight:8},Object(e.h)(de.a,{size:48,user:or}),Object(e.h)(x.a,{flex:"grow"},Object(e.h)(ue,{defaultValue:Ge,placeholder:"Write something...",onChange:Ye,onReturn:er,className:zt.modalChatEditor}))),fr.length>0&&Object(e.h)(dr,{files:fr,deleteFile:ur}),Ee&&Object(e.h)(zr,{linkUrl:Ee,deleteLink:()=>Ue(null)})),St&&Object(e.h)(x.c,{borderTop:"detail",padding:16,justifyContent:"space-between"},Object(e.h)(x.a,{gap:8,alignItems:"center",paddingLeft:8},Object(e.h)(j.a,{size:24,fontWeight:"medium"}),Object(e.h)(le.b.B4,{weight:"medium"},"Also send as email")),Object(e.h)(Z.a,{checked:gt.value,onChange:gt.flip,color:"default"})),St&&Gt&&Object(e.h)(x.c,{borderTop:"detail",padding:16,justifyContent:"space-between"},Object(e.h)(he.a,{content:ct=>Object(e.h)(Mr,{currentVisibility:me.value,onPick:Yt=>{me.set(Yt),ct()}}),preferPlacement:"top-start"},Object(e.h)(x.a,{gap:8,alignItems:"center",paddingLeft:8,className:zt.currentVisibilityBox},me.value==="all_subscribers"?Object(e.h)(e.Fragment,null,Object(e.h)(y.a,{size:24,fontWeight:"medium"}),Object(e.h)(le.b.B4,{weight:"medium"},"Visible to ",Object(e.h)("b",null,"all subscribers"))):Object(e.h)(e.Fragment,null,Object(e.h)(b.a,{size:24,fontWeight:"medium"}),Object(e.h)(le.b.B4,{weight:"medium"},"Only visible to ",Object(e.h)("b",null,"paid subscribers")))))),Object(e.h)(x.c,{borderTop:"detail",padding:16,justifyContent:"space-between"},Object(e.h)("input",{type:"file",accept:"image/*",id:"file",ref:Ln,style:{display:"none"},onChange:br,"aria-label":"Add image",multiple:!0}),Object(e.h)(rr,{onClick:et,fontWeight:"medium",size:24,color:"primary-text"}),Object(e.h)(B.a,{className:zt.submitButton,priority:"primary",disabled:!fe,onClick:ct=>{er(ct),kn()}},"Post")))}function Qn({stateChangeKey:Je,onSubmit:St,placeholder:Gt,maxImagesToUpload:vn,photosEnabled:kn,quoteHandler:or,mentionsContext:fr}){const{user:er,files:Ln,handleSubmit:ur,inputFile:br,removeFile:et,onChangeFile:Ge,onImageButtonClick:tt,textValue:Pt,setTextValue:gt,setMentionMap:me,canSubmit:fe,submissionTracker:Ee}=Bt(vn,St),Ue=Object(a.a)((Ye,ct)=>{gt(Ye),me(ct.size===0?void 0:Object.fromEntries(ct))},[gt,me]);return Object(e.h)(x.b,{alignItems:"start",justifyContent:"center",as:"form",paddingX:24,paddingY:24,gap:16,onSubmit:ur,borderTop:"detail",alignSelf:"stretch"},Ln.length>0&&Object(e.h)(dr,{files:Ln,deleteFile:et,paddingLeft:56}),or.quoteReply&&Object(e.h)(Rr,{quoteReply:or.quoteReply,cancelQuoteReply:or.cancelQuoteReply}),Object(e.h)(x.a,{gap:8,alignItems:"end",alignSelf:"stretch"},Object(e.h)(de.a,{user:er,size:40}),Object(e.h)(x.a,null,Object(e.h)("input",{type:"file",accept:"image/*",id:"file",ref:br,style:{display:"none"},"aria-label":"Add image",onChange:Ge,multiple:!0})),Object(e.h)(x.a,{className:zt.inputBox,overflowY:"auto",overflowX:"hidden",paddingY:8,paddingX:16,radius:20,border:"detail",justifyContent:"space-between",alignItems:"start",flex:"grow",gap:8},Object(e.h)(ue,{defaultValue:Pt,placeholder:Gt,onChange:Ue,onReturn:ur,mentionsContext:fr,submitOnEnter:!0,focusKey:Je,submissionTracker:Ee})),kn&&!or.quoteReply&&Object(e.h)(rr,{onClick:tt,fill:"outline"}),fe&&Object(e.h)(B.c,{priority:"primary",fill:"filled",size:40,type:"submit"},Object(e.h)(E.a,{size:20}))))}function rr({onClick:Je,fontWeight:St="normal",size:Gt=20,containerSize:vn=40,fill:kn="empty",color:or}){return Object(e.h)(B.c,{size:vn,onClick:Je,color:or,fill:kn},Object(e.h)(P.a,{size:Gt,fontWeight:St,className:zt.addImage}))}function Mr({currentVisibility:Je,onPick:St}){return Object(e.h)(x.b,{gap:4},Object(e.h)(x.c,{borderBottom:"detail",justifyContent:"center",alignItems:"center",paddingTop:0,paddingBottom:8,paddingX:8},Object(e.h)(le.b.B3,{className:zt.visibilityDropdownText},"Choose who can see this:")),Object(e.h)(G.b,{onClick:()=>St("all_subscribers"),icon:Object(e.h)(y.a,null),className:zt.visibilityDropdown},Object(e.h)(x.a,{justifyContent:"space-between",alignItems:"center"},"All subscribers",Je==="all_subscribers"&&Object(e.h)(A.a,{size:20}))),Object(e.h)(G.b,{onClick:()=>St("only_paid"),icon:Object(e.h)(b.a,null),className:zt.visibilityDropdown},Object(e.h)(x.a,{justifyContent:"space-between",alignItems:"center"},"Paid subscribers",Je==="only_paid"&&Object(e.h)(A.a,{size:20}))))}function zr({linkUrl:Je,deleteLink:St}){return Object(e.h)(x.c,{className:zt.composerLinkPreview,alignSelf:"start"},Object(e.h)(w.g,{linkUrl:Je}),Object(e.h)(_r,{onDelete:St,className:zt.deleteFile}))}function dr(Je){var St=Je,{files:Gt,deleteFile:vn}=St,kn=Ve(St,["files","deleteFile"]);return Object(e.h)(x.a,He(Ie({},kn),{gap:8,wrap:"wrap"}),Gt.map(or=>Object(e.h)(ro,{key:or.name,file:or,deleteFile:vn})))}function Rr({quoteReply:Je,cancelQuoteReply:St}){return Object(e.h)(x.a,{paddingLeft:56,className:zt.quoteReplyComposer},Object(e.h)(w.h,{authorName:Je.user.name,communityEntity:Je.comment}),Object(e.h)(_r,{onDelete:St,className:zt.deleteQuote,iconSize:16,xSize:14}))}function _r({onDelete:Je,className:St,iconSize:Gt=32,xSize:vn=20}){return Object(e.h)(B.c,{className:St,size:Gt,priority:"media",onClick:Je},Object(e.h)(v.a,{size:vn}))}function ro({file:Je,deleteFile:St}){return Object(e.h)(x.c,{className:zt.imageBox},Object(e.h)("img",{className:zt.image,src:URL.createObjectURL(Je),alt:Je.name}),Object(e.h)(_r,{onDelete:()=>St(Je),className:zt.deleteFile}))}function Dn({onClick:Je}){return Object(e.h)(x.a,{justifyContent:"center",padding:8},Object(e.h)(B.a,{fill:"empty",onClick:Je},"Load more"))}function ut(){return Object(e.h)(x.b,{padding:24,borderTop:"detail",alignSelf:"stretch",gap:16,alignItems:"start",justifyContent:"center"},Object(e.h)(x.a,{gap:8,alignItems:"end",alignSelf:"stretch"},Object(e.h)(ot.B,{type:"circle",size:40}),Object(e.h)(ot.B,{className:zt.loadingComposer,height:40,type:"bar"})))}function fn({numberToLoad:Je=1,showReplyBubble:St=!0}){return Object(e.h)(x.b,{gap:32},Array(Je).fill(0).map(()=>Object(e.h)(On,{showReplyBubble:St})))}function On({showReplyBubble:Je=!0}){return Object(e.h)(x.c,{gap:12,flex:"grow",alignItems:"start"},Object(e.h)(ot.B,{type:"circle",size:40}),Object(e.h)(x.b,{gap:4,flex:"grow"},Object(e.h)(ot.B,{className:zt.loadingBubble,type:"bar",width:500,height:70+Math.random()*80}),Je&&Object(e.h)(ot.B,{className:zt.loadingBubble,type:"bar",width:500,height:50})))}function Ot(Je,St){return St.type.startsWith("inbox-")?Zt(Je,St):St.type.startsWith("posts-")?Vn(Je,St):St.type.startsWith("replies-")||St.type.startsWith("comments-")?Jt(Je,St):Je}const kt={isLoadingMore:!1,hasMore:!1,posts:[],error:null,publication:null,scrollPosition:0};function Zt(Je,St){switch(St.type){case"inbox-new_items":{const{threads:Gt}=St.payload;return He(Ie({},Je),{inbox:He(Ie({},Je.inbox),{isLoading:!1,threads:Gt.map(vn=>{var kn=vn,{communityPost:or,user:fr}=kn,er=Ve(kn,["communityPost","user"]),Ln;return He(Ie({},er),{communityPostId:(Ln=or==null?void 0:or.id)!=null?Ln:null})})}),communityPosts:new Map([...Je.communityPosts,...Gt.map(vn=>vn&&vn.communityPost&&vn.user?[vn.communityPost.id,{user:vn.user,communityPost:vn.communityPost,isNew:!1}]:null).filter(vn=>vn!==null)]),chats:new Map([...Je.chats,...Gt.map(vn=>{var kn;if(vn&&vn.publication){const or=(kn=Je.chats.get(vn.publication.id))!=null?kn:kt;return[vn.publication.id,He(Ie({},or),{publication:vn.publication})]}return null}).filter(vn=>vn!==null)])})}default:return Je}}function Vn(Je,St){var Gt,vn,kn,or;const{publication_id:fr}=St.payload,er=(Gt=Je.chats.get(fr))!=null?Gt:kt;switch(St.type){case"posts-request_initial":return He(Ie({},Je),{chats:Rn(Je.chats,fr,He(Ie({},er),{isLoadingMore:!0}))});case"posts-request_more":return He(Ie({},Je),{chats:Rn(Je.chats,fr,He(Ie({},er),{isLoadingMore:!0}))});case"posts-load_more":{const{result:Ln,direction:ur}=St.payload,br=Ln.threads.find(me=>me.communityPost.status!=="deleted"),Ge=rt({getPubChatItemFromId:me=>me===(br==null?void 0:br.communityPost.id)?br:Je.communityPosts.get(me)}),tt=new Map([...Ln.threads.map(me=>[me.communityPost.id,me])]),gt=mt({getPubChatItemFromId:me=>tt.has(me)?tt.get(me):Je.communityPosts.get(me)});return He(Ie({},Je),{communityPosts:An(Je.communityPosts,tt,me=>new Date(me.communityPost.updated_at)),chats:Rn(Je.chats,fr,He(Ie({},er),{isLoadingMore:!1,hasMore:Ln.more,posts:p()([...er.posts,...Ln.threads.map(me=>me.communityPost.id)]).sort(gt)})),inbox:ur==="after"?Je.inbox:He(Ie({},Je.inbox),{threads:[...Je.inbox.threads.map(me=>{var fe;return me.publication.id===fr?He(Ie({},me),{communityPostId:(fe=br==null?void 0:br.communityPost.id)!=null?fe:me.communityPostId,lastViewedAt:null}):me})].sort(Ge)})})}case"posts-error":return He(Ie({},Je),{chats:Rn(Je.chats,fr,He(Ie({},er),{isLoadingMore:!1,error:St.payload}))});case"posts-new":{const Ln=new Date().toISOString(),ur={communityPost:He(Ie({},St.payload),{status:"published",created_at:Ln,updated_at:Ln}),isNew:!0};return He(Ie({},Je),{communityPosts:Rn(Je.communityPosts,ur.communityPost.id,ur),chats:Rn(Je.chats,fr,He(Ie({},er),{posts:[ur.communityPost.id,...er.posts]}))})}case"posts-commit":{const{id:Ln,chatItem:ur,publication_id:br}=St.payload,et=new Map(Je.communityPosts);et.delete(Ln),et.set(ur.communityPost.id,ur);const Ge=Je.inbox.threads.slice(),tt=Ge.findIndex(Pt=>Pt.publication.id===br);if(tt!==-1){let Pt=Ge[tt];Pt=He(Ie({},Pt),{communityPostId:ur.communityPost.id}),Ge.splice(tt,1),Ge.unshift(Pt)}return He(Ie({},Je),{inbox:He(Ie({},Je.inbox),{threads:Ge}),communityPosts:et,chats:Rn(Je.chats,br,He(Ie({},er),{posts:er.posts.map(Pt=>Pt===Ln?ur.communityPost.id:Pt)}))})}case"posts-new_reaction":{const{id:Ln,reaction:ur}=St.payload,br=Je.communityPosts.get(Ln);return!br||!xn(br)||!((vn=br.communityPost)==null?void 0:vn.reactions)?(console.warn("chat item does not exist"),Je):br.communityPost.reaction===ur?(console.warn("already set this reaction",ur),Je):He(Ie({},Je),{communityPosts:Rn(Je.communityPosts,Ln,He(Ie({},br),{communityPost:wn(br.communityPost,ur,!0)}))})}case"posts-remove_reaction":{const{id:Ln,reaction:ur}=St.payload,br=Je.communityPosts.get(Ln);return!br||!xn(br)||!((kn=br.communityPost)==null?void 0:kn.reactions)?(console.warn("chat item does not exist"),Je):He(Ie({},Je),{communityPosts:Rn(Je.communityPosts,Ln,He(Ie({},br),{communityPost:wn(br.communityPost,ur,!1)}))})}case"posts-delete_post":{const{id:Ln,publication_id:ur}=St.payload,br=Je.communityPosts.get(Ln);if(!br)return console.warn("chat item does not exist"),Je;const et=new Map(Je.communityComments),Ge=Je.comments.get(Ln);Ge&&Ge.comments.forEach(me=>{Mo(me,et);const fe=Je.replies.get(me);fe&&fe.comments.forEach(Ee=>{Mo(Ee,et)})});const tt=(or=Je.chats.get(ur))==null?void 0:or.posts.find(me=>{var fe;if(me===Ln)return!1;const Ee=Je.communityPosts.get(me);return((fe=Ee==null?void 0:Ee.communityPost)==null?void 0:fe.status)!=="deleted"}),gt=rt({getPubChatItemFromId:me=>Je.communityPosts.get(me)});return He(Ie({},Je),{communityPosts:Rn(Je.communityPosts,Ln,He(Ie({},br),{communityPost:He(Ie({},br.communityPost),{status:"deleted",updated_at:new Date().toISOString()})})),communityComments:et,inbox:He(Ie({},Je.inbox),{threads:[...Je.inbox.threads.map(me=>me.publication.id===ur?He(Ie({},me),{communityPostId:tt!=null?tt:null}):me)].sort(gt)})})}case"posts-flag_post":{const{id:Ln}=St.payload,ur=Je.communityPosts.get(Ln);return!ur||!xn(ur)?(console.warn("chat item does not exist"),Je):He(Ie({},Je),{communityPosts:Rn(Je.communityPosts,Ln,He(Ie({},ur),{communityPost:He(Ie({},ur.communityPost),{reported_by_user:!0})}))})}case"posts-lock_replies":{const{id:Ln,isLocked:ur}=St.payload,br=Je.communityPosts.get(Ln);return!br||!xn(br)?(console.warn("chat item does not exist"),Je):He(Ie({},Je),{communityPosts:Rn(Je.communityPosts,Ln,He(Ie({},br),{communityPost:He(Ie({},br.communityPost),{is_locked:ur})}))})}case"posts-save_scroll_position":{const{publication_id:Ln,scrollPosition:ur}=St.payload;return He(Ie({},Je),{chats:Rn(Je.chats,Ln,He(Ie({},er),{scrollPosition:ur}))})}case"posts-update_post":{const{id:Ln,post:ur}=St.payload,br=Je.communityPosts.get(Ln);return!br||!xn(br)?(console.warn("post does not exist"),Je):He(Ie({},Je),{communityPosts:Rn(Je.communityPosts,Ln,He(Ie({},br),{communityPost:Ie(Ie({},br.communityPost),ur)}))})}default:throw new Error("Invalid action type")}}function Gn(Je,St){var Gt;return(Gt=Je.chats.get(St))!=null?Gt:kt}const tr=()=>(Je,St)=>z(void 0,null,function*(){try{const Gt=yield Object(Y.c)("/api/v1/community/posts",{method:"GET"});Je({type:"inbox-new_items",payload:{threads:Gt==null?void 0:Gt.threads}})}catch(Gt){console.warn("error",Gt)}}),rn=(Je,St=!1)=>(Gt,vn)=>z(void 0,null,function*(){const kn=Gn(vn(),Je),or=kn.posts[kn.posts.length-1],fr=vn().communityPosts.get(or);try{const er=yield Object(Y.c)(`/api/v1/community/publications/${Je}/posts`,{query:{before:fr&&!St?fr.communityPost.created_at:void 0}});if(Array.isArray(er)&&er.length===0){const Ln=new Error("FLAGGED_AS_SPAM");Gt({type:"posts-error",payload:{publication_id:Je,error:Ln}});return}Gt({type:"posts-load_more",payload:{publication_id:Je,result:er,direction:St?"before":"after"}})}catch(er){console.warn("error",er),Gt({type:"posts-error",payload:{publication_id:Je,error:er}})}}),_n=Je=>(St,Gt)=>z(void 0,null,function*(){const vn=Gn(Gt(),Je);if(!(!vn.hasMore||vn.isLoadingMore))return yield St({type:"posts-request_more",payload:{publication_id:Je}}),St(rn(Je))}),Yn={isLoading:!1,hasMore:!1,error:null},cr={before:Yn,after:He(Ie({},Yn),{isLoading:!0}),order:"asc",comments:[]};function Jt(Je,St){var Gt,vn,kn,or,fr,er,Ln;let ur=null,br=null;qt(St)?br=St.payload.parentCommentId:"postId"in St.payload&&(ur=St.payload.postId);const et=gt=>br?{replies:gt}:{comments:gt};let Ge;br?Ge=(Gt=Je.replies.get(br))!=null?Gt:cr:ur&&(Ge=(vn=Je.comments.get(ur))!=null?vn:cr);const tt=br?Je.replies:Je.comments,Pt=br!=null?br:ur;switch(St.type){case"replies-request_initial":case"comments-request_initial":{const{order:gt}=St.payload,me=He(Ie({},Yn),{isLoading:!0,hasMore:!1});return Ie(Ie({},Je),et(Rn(tt,Pt,He(Ie({},Ge),{before:gt==="desc"?me:Yn,after:gt==="asc"?me:Yn,order:gt}))))}case"replies-request_edge":case"comments-request_edge":{const{edge:gt}=St.payload;return Ie(Ie({},Je),et(Rn(tt,Pt,He(Ie({},Ge),{[gt]:He(Ie({},Ge[gt]),{isLoading:!0,error:null})}))))}case"replies-load_edge":case"comments-load_edge":{const{edge:gt,result:{post:me,parent:fe,replies:Ee,more:Ue}}=St.payload,Ye=Ee.map(hn=>hn.comment.id),ct=new Map([...Ee.map(hn=>[hn.comment.id,hn])]),Yt=An(Je.communityComments,ct,hn=>new Date(hn.comment.updated_at));fe&&Yt.set(fe.comment.id,fe);const En=un({getCommunityCommentFromId:hn=>Yt.get(hn)});return Ie(He(Ie({},Je),{communityPosts:me?Rn(Je.communityPosts,me.communityPost.id,me):Je.communityPosts,communityComments:Yt}),et(Rn(tt,Pt,He(Ie({},Ge),{comments:p()([...Ge.comments,...Ye]).sort(En),[gt]:{isLoading:!1,hasMore:Ue,error:null},order:gt==="after"&&!Ue?"desc":Ge.order}))))}case"replies-new":case"comments-new":{const gt={comment:He(Ie({},cn()),{id:St.payload.id,body:St.payload.body,raw_body:St.payload.mentions?St.payload.body:void 0,post_id:St.payload.postId,parent_id:br,media_uploads:(kn=St.payload.mediaUploads)!=null?kn:null,user_id:(fr=(or=Je.user)==null?void 0:or.id)!=null?fr:0,quote_id:St.payload.quoteReply?St.payload.quoteReply.comment.id:null,mentions:St.payload.mentions}),isNew:!0,is_banned:!1,quote:St.payload.quoteReply,user:Je.user},me=Ie(He(Ie({},Je),{communityComments:Rn(Je.communityComments,gt.comment.id,gt)}),et(Rn(tt,Pt,He(Ie({},Ge),{comments:[gt.comment.id,...Ge.comments]}))));if(br){const Ee=Je.communityComments.get(br);if(Ee&&mr(Ee)){const Ue=ft(Ee.comment,Je.user,St.payload.postId);me.communityComments.set(br,He(Ie({},Ee),{comment:Ue}))}}const fe=Je.communityPosts.get(St.payload.postId);if(fe&&xn(fe)){const Ee=ft(fe.communityPost,Je.user,St.payload.postId);me.communityPosts=Rn(Je.communityPosts,St.payload.postId,He(Ie({},fe),{communityPost:Ee}))}return me}case"replies-commit":case"comments-commit":{const{id:gt,reply:me}=St.payload,fe=new Map(Je.communityComments);return fe.delete(gt),fe.set(me.comment.id,me),Ie(He(Ie({},Je),{communityComments:fe}),et(Rn(tt,Pt,He(Ie({},Ge),{comments:Ge.comments.map(Ee=>Ee===gt?me.comment.id:Ee)}))))}case"replies-error":case"comments-error":{const{edge:gt,error:me}=St.payload;return Ie(Ie({},Je),et(Rn(tt,Pt,He(Ie({},Ge),{[gt]:He(Ie({},Ge[gt]),{error:me})}))))}case"comments-new_reaction":{const{id:gt,reaction:me}=St.payload,fe=Je.communityComments.get(gt);return!fe||!mr(fe)||!((er=fe.comment)==null?void 0:er.reactions)?(console.warn("comment does not exist"),Je):fe.comment.reaction===me?(console.warn("reaction already set"),Je):He(Ie({},Je),{communityComments:Rn(Je.communityComments,gt,He(Ie({},fe),{comment:wn(fe.comment,me,!0)}))})}case"comments-remove_reaction":{const{id:gt,reaction:me}=St.payload,fe=Je.communityComments.get(gt);return!fe||!mr(fe)||!((Ln=fe.comment)==null?void 0:Ln.reactions)?(console.warn("comment does not exist"),Je):He(Ie({},Je),{communityComments:Rn(Je.communityComments,gt,He(Ie({},fe),{comment:wn(fe.comment,me,!1)}))})}case"comments-delete_comment":{const{id:gt}=St.payload,me=Je.communityComments.get(gt);return me?He(Ie({},Je),{communityComments:Rn(Je.communityComments,gt,He(Ie({},me),{comment:He(Ie({},me.comment),{status:"deleted",updated_at:new Date().toISOString()})}))}):(console.warn("comment does not exist, cannot delete"),Je)}case"comments-update_comment":{const{id:gt,comment:me}=St.payload,fe=Je.communityComments.get(gt);return!fe||!mr(fe)?(console.warn("comment does not exist"),Je):He(Ie({},Je),{communityComments:Rn(Je.communityComments,gt,He(Ie({},fe),{comment:Ie(Ie({},fe.comment),me)}))})}case"comments-flag_comment":{const{id:gt}=St.payload,me=Je.communityComments.get(gt);return!me||!mr(me)?(console.warn("comment does not exist"),Je):He(Ie({},Je),{communityComments:Rn(Je.communityComments,gt,He(Ie({},me),{comment:He(Ie({},me.comment),{reported_by_user:!0})}))})}case"comments-ban_author":{const{id:gt,ban:me}=St.payload,fe=Je.communityComments.get(gt);return!fe||!mr(fe)?(console.warn("comment does not exist"),Je):He(Ie({},Je),{communityComments:Rn(Je.communityComments,gt,He(Ie({},fe),{is_banned:me}))})}case"comments-lock_replies":{const{id:gt,isLocked:me}=St.payload,fe=Je.communityComments.get(gt);return!fe||!mr(fe)?(console.warn("comment does not exist"),Je):fe.comment.parent_id?(console.warn("cannot lock replies on a reply to a comment"),Je):He(Ie({},Je),{communityComments:Rn(Je.communityComments,gt,He(Ie({},fe),{comment:He(Ie({},fe.comment),{is_locked:me})}))})}default:throw new Error("Invalid type")}}function cn(){const Je=new Date().toISOString();return{id:"",created_at:Je,updated_at:Je,user_id:0,post_id:"",body:"",raw_body:"",media_uploads:null,parent_id:null,is_locked:!1,quote_id:null,status:"published"}}const bn=Object(e.createContext)({dispatch:()=>Promise.resolve()});function zn(){var Je;return(Je=Object(a.b)(bn))==null?void 0:Je.dispatch}function Rn(Je,St,Gt){const vn=new Map(Je);return vn.set(St,Gt),vn}function xn(Je){return Je.isNew!==!0}function mr(Je){return Je.isNew!==!0}function Or(Je){return"communityPost"in Je}function Lt(Je){return"comment"in Je}function qt(Je){return"parentCommentId"in Je.payload}function wn(Je,St,Gt){var vn,kn;const or=Je.reaction,fr=Ie({},Je.reactions);return fr[St]=((vn=fr[St])!=null?vn:0)+(Gt?1:-1),Gt&&or&&(fr[or]=((kn=fr[or])!=null?kn:0)-1),He(Ie({},Je),{reactions:fr,reaction:Gt?St:null})}function $n(Je){return Math.floor(Math.random()*Je*1e3)}function Wn(Je,St,Gt){return z(this,null,function*(){try{return yield Object(Y.c)("/api/v1/thread_media_uploads",{method:"POST",json:{publication_id:St,comment_id:Je,content_type:Gt}})}catch(vn){return vn}})}function Jn(Je,St){return z(this,null,function*(){try{return yield fetch(St,{method:"PUT",headers:{"Content-Type":Je.contentType},body:Je.file})}catch(Gt){return Gt}})}function Tr({day:Je,items:St,onSelect:Gt,isPaid:vn}){const kn=Object(U.c)();return Object(e.h)(e.Fragment,null,St.map(or=>Object(e.h)(jt,{key:or.communityPost.id,item:or.isNew?He(Ie({},or),{user:kn}):or,onSelect:Gt,isPaid:vn})),Object(e.h)(oo,{day:Je}))}const Qr=new Intl.DateTimeFormat(void 0,{month:"long",day:"numeric"}),ao=new Intl.DateTimeFormat(void 0,{year:"numeric",month:"long",day:"numeric"});function oo({day:Je}){const St=H()();return Object(e.h)(x.a,{alignItems:"center",justifyContent:"center",padding:16},Object(e.h)(le.b.B3,{weight:"medium",size:14,color:"secondary"},Je.isSame(St,"day")?"Today":Je.isSame(St.subtract(1,"day"),"day")?"Yesterday":Je.isSame(St,"year")?Qr.format(Je.toDate()):ao.format(Je.toDate())))}function eo({title:Je,body:St,children:Gt}){return Object(e.h)(x.b,{justifyContent:"center",alignItems:"center",flex:"grow",paddingX:32},Object(e.h)(be.a,{title:Je,body:St,children:Gt}))}function bo(){return Object(e.h)(x.a,{alignItems:"center",justifyContent:"center",padding:12},Object(e.h)(le.b.B3,{color:"error"},"Error loading chats"))}function zo({pubErr:Je}){if(Je.error instanceof Y.b){const St=Je.error.body.status==="CHAT_NOT_ENABLED",Gt=Je.error.body.status==="FREE_SUBSCRIPTION_REQUIRED",vn=Je.error.body.status==="PUBLICATION_NOT_FOUND";if(St)return Object(e.h)(eo,{title:"This publication has not enabled chat yet.",body:"Once it does, you can access its chat here."});if(Gt)return Object(e.h)(eo,{title:"You need to subscribe to this publication to view its chat.",body:"Once you do, its chat will appear here."},Je.error.body.publication&&Object(e.h)(qe,{pub:Je.error.body.publication,utm_source:"web-chat-navigation",isSubscribeWall:!0}));if(vn)return Object(e.h)(eo,{title:"We could not find this publication.",body:"Please select another publication and try again."})}return Je.error instanceof Error&&Je.error.message==="FLAGGED_AS_SPAM"?Object(e.h)(eo,{title:"We could not find this publication.",body:"Please select another publication and try again."}):Object(e.h)(eo,{title:"Something went wrong loading the chat.",body:"Please check back in again."})}function Eo({user:Je,showReply:St=!0,analyticsParams:Gt}){return Object(e.h)(x.a,null,Object(e.h)(x.b,{className:zt.paywall},Object(e.h)(w.d,{author:Je,showReply:St,analyticsParams:Gt})))}function Co({onClick:Je,children:St}){return Object(e.h)(B.a,{priority:"secondary",onClick:Je},St)}function Mo(Je,St){const Gt=St.get(Je);return!Gt||Gt.comment.status==="deleted"?!1:(St.set(Je,He(Ie({},Gt),{comment:He(Ie({},Gt.comment),{status:"deleted",updated_at:new Date().toISOString()})})),!0)}function ft(Je,St,Gt){var vn,kn;let or;return St&&St.photo_url&&(or=[{id:St.id,name:St.name,photo_url:St.photo_url,post_id:Gt}],Je.recent_commenters&&(or=O()([...or,...Je.recent_commenters],fr=>fr.id))),"reply_count"in Je?He(Ie({},Je),{recent_commenters:or,reply_count:1+((vn=Je.reply_count)!=null?vn:0)}):"comment_count"in Je?He(Ie({},Je),{recent_commenters:or,comment_count:1+((kn=Je.comment_count)!=null?kn:0)}):Je}function qe({pub:Je,utm_source:St,isSubscribeWall:Gt}){Object(a.d)(()=>{Gt&&Object(K.i)(K.a.THREAD_SUBSCRIBE_WALL_VIEWED,{publication_id:Je.id})},[]);const vn=()=>{const kn=Object(D.getSubscribeUrl)(Je,{addBase:!0,params:{next:document.location.href,utm_source:St}});window.open(kn,"_blank")||(window.location.href=kn)};return Object(e.h)(B.a,{priority:"primary",onClick:vn},`Subscribe to ${Je.name}`)}function rt({getPubChatItemFromId:Je}){return(St,Gt)=>{const vn=St.communityPostId?Je(St.communityPostId):null,kn=Gt.communityPostId?Je(Gt.communityPostId):null;return yn(vn,kn,"post")}}function mt({getPubChatItemFromId:Je}){return(St,Gt)=>{const vn=Je(St),kn=Je(Gt);return yn(vn,kn,"post")}}function un({getCommunityCommentFromId:Je}){return(St,Gt)=>{const vn=Je(St),kn=Je(Gt);return yn(vn,kn,"comment")}}function yn(Je,St,Gt="post"){const vn=!Je,kn=!St;if(vn&&kn)return 0;if(vn&&!kn)return 1;if(!vn&&kn)return-1;const or=Gt==="post"?Je&&Or(Je)&&Je.communityPost.created_at:Je&&Lt(Je)&&Je.comment.created_at,fr=new Date(or||0),er=Gt==="post"?St&&Or(St)&&St.communityPost.created_at:St&&Lt(St)&&St.comment.created_at;return new Date(er||0).getTime()-fr.getTime()}function An(Je,St,Gt){const vn=new Map(St);for(const[kn,or]of Je){const fr=vn.get(kn);if(!fr){vn.set(kn,or);continue}Gt(or)>Gt(fr)&&vn.set(kn,Ie(Ie({},fr),or))}return vn}},,function(k,n,t){"use strict";t.d(n,"a",function(){return h});var e=t(0),a=t(5),o=t.n(a),l=t(261),d={container:"frontend-pencraft-form-Checkbox-module__container--1URb3",medium:"frontend-pencraft-form-Checkbox-module__medium--2UlJu",small:"frontend-pencraft-form-Checkbox-module__small--2GLmM",enabled:"frontend-pencraft-form-Checkbox-module__enabled--14rdi",unchecked:"frontend-pencraft-form-Checkbox-module__unchecked--2jGOx",error:"frontend-pencraft-form-Checkbox-module__error--1WCWl",checked:"frontend-pencraft-form-Checkbox-module__checked--36LQe",checkedWithTheme:"frontend-pencraft-form-Checkbox-module__checkedWithTheme--dUl4m",disabled:"frontend-pencraft-form-Checkbox-module__disabled--3kH8L"},c=Object.defineProperty,u=Object.defineProperties,f=Object.getOwnPropertyDescriptors,m=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,O=(v,j,y)=>j in v?c(v,j,{enumerable:!0,configurable:!0,writable:!0,value:y}):v[j]=y,s=(v,j)=>{for(var y in j||(j={}))p.call(j,y)&&O(v,y,j[y]);if(m)for(var y of m(j))g.call(j,y)&&O(v,y,j[y]);return v},r=(v,j)=>u(v,f(j)),i=(v,j)=>{var y={};for(var b in v)p.call(v,b)&&j.indexOf(b)<0&&(y[b]=v[b]);if(v!=null&&m)for(var b of m(v))j.indexOf(b)<0&&g.call(v,b)&&(y[b]=v[b]);return y};const h=v=>{var j=v,{name:y,size:b="medium",checked:E,disabled:P=!1,error:A=!1,onChange:_,as:M="label",withTheme:F=!1}=j,H=i(j,["name","size","checked","disabled","error","onChange","as","withTheme"]);const C=M;return Object(e.h)(C,{className:o()("pencraft",d.container,d[b],P?d.disabled:d.enabled,E?F?d.checkedWithTheme:d.checked:d.unchecked,A?d.error:"")},E&&Object(e.h)(l.a,{size:b==="small"?16:24}),Object(e.h)("input",r(s({},H),{className:"pencraft",type:"checkbox",name:y,"data-testid":y,checked:E,disabled:P,onChange:()=>{!P&&_(!E)}})))}},function(k,n,t){"use strict";t.d(n,"a",function(){return g}),t.d(n,"b",function(){return m});var e=t(3),a=t(131),o=t(38),l=t(72),d=t(82),c=t(54);let u=Object(e.createContext)(null);function f(){let O=Object(e.useContext)(u);if(O===null){let s=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(s,f),s}return O}function m(){let[O,s]=Object(e.useState)([]);return[O.length>0?O.join(" "):void 0,Object(e.useMemo)(()=>function(r){let i=Object(c.a)(v=>(s(j=>[...j,v]),()=>s(j=>{let y=j.slice(),b=y.indexOf(v);return b!==-1&&y.splice(b,1),y}))),h=Object(e.useMemo)(()=>({register:i,slot:r.slot,name:r.name,props:r.props}),[i,r.slot,r.name,r.props]);return e.default.createElement(u.Provider,{value:h},r.children)},[s])]}let p="p",g=Object(o.d)(function(O,s){let r=f(),i=`headlessui-description-${Object(a.a)()}`,h=Object(d.b)(s);Object(l.a)(()=>r.register(i),[i,r.register]);let v=O,j=_o(pr({ref:h},r.props),{id:i});return Object(o.e)({ourProps:j,theirProps:v,slot:r.slot||{},defaultTag:p,name:r.name||"Description"})})},,,function(k,n,t){var e=t(906);function a(o,l,d){return l=e(l),l in o?Object.defineProperty(o,l,{value:d,enumerable:!0,configurable:!0,writable:!0}):o[l]=d,o}k.exports=a,k.exports.__esModule=!0,k.exports.default=k.exports},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]])},function(k,n,t){var e=t(534),a=t(556),o=t(237);function l(d){return o(d)?e(d):a(d)}k.exports=l},function(k,n,t){"use strict";t.d(n,"f",function(){return D}),t.d(n,"a",function(){return w}),t.d(n,"c",function(){return U}),t.d(n,"d",function(){return K}),t.d(n,"b",function(){return Y});var e=t(0),a=t(1),o=t(5),l=t.n(o),d=t(112),c=t(379),u=t(4),f=t(10),m=t(21),p=t(467),g=t(815),O=t(207),s=t(73),r=t(81),i=t(448),h=t(785),v=t(7),j=t(9),y=t(2);const b=({children:B,separator:x})=>{const G=[],Q=Object(e.toChildArray)(B);return Q.forEach((he,Z)=>{G.push(he),Z!==Q.length-1&&G.push(x)}),Object(e.h)(e.Fragment,null,G)};var E=t(77),P=Object.defineProperty,A=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,F=(B,x,G)=>x in B?P(B,x,{enumerable:!0,configurable:!0,writable:!0,value:G}):B[x]=G,H=(B,x)=>{for(var G in x||(x={}))_.call(x,G)&&F(B,G,x[G]);if(A)for(var G of A(x))M.call(x,G)&&F(B,G,x[G]);return B},C=(B,x)=>{var G={};for(var Q in B)_.call(B,Q)&&x.indexOf(Q)<0&&(G[Q]=B[Q]);if(B!=null&&A)for(var Q of A(B))x.indexOf(Q)<0&&M.call(B,Q)&&(G[Q]=B[Q]);return G};function T(B){const x=!B.disable_monthly_subscriptions&&B.plans&&B.plans.filter(he=>he.interval==="month").sort((he,Z)=>he.amount-Z.amount)[0],G=B.plans&&B.plans.filter(he=>he.interval==="year").sort((he,Z)=>he.amount-Z.amount)[0],Q=x||G;if(Q)return Object(f.planBasePricing)(Q)}const S={desktop:15,mobile:6};function D(B,{includePrice:x=!0,includeRankingDetail:G=!0,includeByline:Q=!0,includeBadge:he=!1,rankingDetailOverrideText:Z=null}={}){const le=Object(f.getByLine)(B);let de=null;return G&&(de=Z||B.rankingDetail),Object(e.h)(b,{separator:" \xB7 "},Q&&le&&Object(e.h)(y.a,{inline:!0,gap:4},"By ",le,he&&Object(e.h)(E.a,{size:"sm",tier:B.author_bestseller_tier,userId:B.author_id})),de,x&&T(B))}const w=({className:B,hasFeatured:x,categories:G,categoryId:Q,categoryIds:he,loadingCategoryId:Z,ranking:le,onCategoryClicked:de,defaultExpanded:be,isReaderOnboarding:X})=>{const[ie,Ce]=Object(a.l)(be||!1),Le=Object(d.useMediaQuery)({query:"only screen and (max-width: 650px)"}),Ae=S[Le?"mobile":"desktop"],Pe=ie?G:G.slice(0,Ae),Ne=ce=>ce.id===Q||(he==null?void 0:he.includes(ce.id));return Object(e.h)("div",{className:l()("categories",B)},x?Object(e.h)(m.b,{className:l()({active:Q==="featured"&&(!Z||Z==="featured"),loading:Z==="featured"&&Q!=="featured"}),onClick:()=>de({categoryId:"featured",ranking:"all",categories:G})},"Featured"):null,Pe.map(ce=>Object(e.h)(m.b,{key:ce.id,className:l()({active:Ne(ce)&&(!Z||Z===ce.id),loading:Z===ce.id&&Q!==ce.id}),onClick:()=>de({categoryId:ce.id,ranking:le,categories:G})},ce.id==="twitter"&&Object(e.h)(O.default,{width:Le?12:15,height:Le?12:15,strokeWidth:0}),Object(f.toTitleCase)(ce.canonical_name||""))),!X&&Object(e.h)(m.b,{className:l()({active:Q===f.COMMUNITY_PICKS_CATEGORY_NAME&&(!Z||Z===f.COMMUNITY_PICKS_CATEGORY_NAME),loading:Z===f.COMMUNITY_PICKS_CATEGORY_NAME&&Q!==f.COMMUNITY_PICKS_CATEGORY_NAME}),onClick:()=>de({categoryId:f.COMMUNITY_PICKS_CATEGORY_NAME,ranking:"all",categories:G})},"Writer favorites"),!X&&Object(e.h)(m.b,{className:l()({active:Q===f.TASTEMAKER_CATEGORY_NAME&&(!Z||Z===f.TASTEMAKER_CATEGORY_NAME),loading:Z===f.TASTEMAKER_CATEGORY_NAME&&Q!==f.TASTEMAKER_CATEGORY_NAME}),onClick:()=>de({categoryId:f.TASTEMAKER_CATEGORY_NAME,ranking:"all",categories:G})},"Featured recommenders"),G.length>Ae&&!ie&&Object(e.h)(m.b,{className:"show-more",onClick:()=>Ce(!0)},Object(e.h)(g.default,null)))},U=({publications:B,explanations:x,ranking:G,openInNew:Q,startRankAt:he=0,source:Z,onPublicationVisited:le=null,user:de,categoryId:be})=>Object(e.h)(e.Fragment,null,Object(e.h)("div",{className:"publications"},B.map((X,ie)=>{var Ce,Le,Ae;let Pe=x&&x[ie];if(!X)return;Pe||(Pe=[]);const Ne=Pe.filter(vt=>["posts.title","posts.subtitle"].includes(vt.type)),ce=!!((Le=(Ce=Ne[0])==null?void 0:Ce.posts[0][0])==null?void 0:Le.slug);let q;ce&&(q=(Ae=Ne[0])==null?void 0:Ae.posts[0][0]);const te=Pe.filter(vt=>vt.type==="description")[0],ue=Pe.filter(vt=>["name","subdomain","hero_text","custom_domain","author_name"].includes(vt.type)).length>0||!te&&!q,We=Pe.filter(vt=>vt.type==="description").map(vt=>vt.keyword),ot=Pe.filter(vt=>["posts.title","posts.subtitle"].includes(vt.type)).map(vt=>vt.keyword),ze=Object(u.getPubUrl)(X,{params:{utm_source:Z||"discover"},signedIn:!!de});return Object(e.h)("a",{key:X.id,className:"publication",href:ze,native:!0,target:Q?"_blank":null,onClick:vt=>{Object(v.l)(X,Z||"leaderboards",{position:ie+1,category:be}),le&&le(X)},rel:"noopener"},G==="paid"?Object(e.h)("div",{className:"publication-rank"},ie+1+he):null,Object(e.h)("div",{className:"publication-content"},Object(e.h)(r.a,{pub:X,href:ze,logo_url:X.logo_url||X.author_photo_url,linkify:!1,belowTheFold:!0}),Object(e.h)("div",{className:"publication-text-area"},Object(e.h)("div",{className:"publication-title"},X.name),(ue||q)&&Object(e.h)("div",{className:"publication-description"},X.editorial_bio||V(X.hero_text,We)),!ue&&te&&!q&&Object(e.h)("div",{className:"publication-description"},V(te.sentence,We)),!ue&&q&&Object(e.h)("div",{className:"publication-explanation-box"},ce&&Object(e.h)("a",{className:"title",href:Object(u.getPostUrl)(X,q)},Object(e.h)("div",{className:"post-preview-content"},Object(e.h)("div",{className:"left-flex"},Object(e.h)("p",{className:"title"},V(q.title,ot)),Object(e.h)("p",{className:"subtitle"},V(q.subtitle,ot))),Object(e.h)("div",{className:"right-flex"},Object(e.h)("img",{src:q.cover_image,className:q.cover_image?"":"no-preview"}))))),Object(e.h)("div",{className:"publication-author"},D(X)))))})));function V(B,x){if(!B)return"";const G=new RegExp(x.join("|"),"ig"),Q=B.split(G),he=[...B.matchAll(G)];return Object(e.h)("span",null,Q.map((Z,le)=>Object(e.h)(e.Fragment,null,Z,le!==Q.length-1&&Object(e.h)("b",null,he[le]))))}const K=({onCategoryClicked:B,categoryId:x,ranking:G,loadingRanking:Q,categories:he})=>["featured","twitter",f.COMMUNITY_PICKS_CATEGORY_NAME,f.TASTEMAKER_CATEGORY_NAME].includes(x)?null:Object(e.h)("div",{className:"ranking-toggle"},Object(e.h)(s.a,{className:l()({active:G==="paid"&&!Q||Q==="paid",loading:Q==="paid"&&G!=="paid"}),onClick:()=>B({categoryId:x,ranking:"paid",categories:he})},"Top paid"),"  \xB7  ",Object(e.h)(s.a,{className:l()({active:G==="all"&&!Q||Q==="all",loading:Q==="all"&&G!=="all"}),onClick:()=>B({categoryId:x,ranking:"all",categories:he})},"All")),Y=B=>{var x=B,{Component:G=W}=x,Q=C(x,["Component"]);const he=Object(h.a)(Q);return he.categories?Object(e.h)(G,H({},he)):null};class W extends e.Component{componentDidUpdate(x){if(this.props.categorySlug===x.categorySlug&&this.props.rankingSlug===x.rankingSlug)return;const G=Object(c.getCategoryIdFromSlug)(this.props.categorySlug,this.props.categories),Q=this.props.rankingSlug||"paid";this.props.loadPublications({categoryId:G,ranking:Q})}startReading(x){window.sessionStorage.setItem("initialJoinSubstack","true"),Object(v.i)(v.a.HOMEPAGE_READER_LINK_CLICKED,{url:Object(u.getBaseReaderUrl)()}),Object(j.redirect)(Object(u.getBaseReaderUrl)(),{event:x})}render({categories:x,publications:G,categoryId:Q,loadingCategoryId:he,ranking:Z,loadingRanking:le,onCategoryClicked:de,hasMore:be,viewMore:X,featuredPublications:ie,underratedPublications:Ce,tastemakerPublications:Le,maxPublications:Ae,showTwitterBanner:Pe,user:Ne}){const ce=Q==="featured",q=Q===f.COMMUNITY_PICKS_CATEGORY_NAME,te=Q===f.TASTEMAKER_CATEGORY_NAME,ue=Q==="twitter",We=x.find(ot=>ot.id===Q);return ce&&!ie.length&&typeof window!="undefined"&&de({categoryId:f.COMMUNITY_PICKS_CATEGORY_NAME,ranking:"all",categories:x}),Object(e.h)("div",{className:l()("new-landing-page reader-landing-page page",{"category-featured":ce})},Object(e.h)("div",{className:"container"},Object(e.h)("div",{className:"landing-content"},Object(e.h)("div",{className:"landing-section landing-publications"},Object(e.h)("div",{className:"publications-header not-mobile"},Object(e.h)(K,{categories:x,categoryId:Q,ranking:Z,onCategoryClicked:de})),Object(e.h)(U,{publications:G,ranking:ce||q||te?"all":Z,categoryId:Q}),Z==="all"&&!ce&&!q&&!te&&!ue&&!Ae&&be&&Object(e.h)("div",{className:"view-more"},Object(e.h)(m.b,{className:"primary top-pad",onClick:X},"View more")),Ae&&Q!=="featured"&&Object(e.h)("div",{className:"see-all",style:{paddingLeft:Z==="all"?"108px":"146px"}},Object(e.h)("a",{href:ce?Object(u.getDiscoverCategoryUrl)():[f.TASTEMAKER_CATEGORY_NAME,f.COMMUNITY_PICKS_CATEGORY_NAME].includes(Q)?Object(u.getDiscoverCategoryUrl)({slug:Q},Z):Object(u.getDiscoverCategoryUrl)(We,Z),native:!0},"See all"," ",Object(e.h)(p.default,{width:7,height:11,color:"var(--color-primary-themed)",style:{marginLeft:"3px"}})))),Object(e.h)("div",{className:"landing-section landing-categories"},Object(e.h)("div",{className:"only-mobile"},Object(e.h)("div",{className:"mobile-toggle"},Object(e.h)(K,{categories:x,categoryId:Q,ranking:Z,onCategoryClicked:de}))),Object(e.h)(w,{hasFeatured:ie&&ie.length>0,hasUnderrated:Ce&&Ce.length>0,hasTastemakers:Le&&Le.length>0,categories:x,categoryId:Q,loadingCategoryId:he,onCategoryClicked:de,ranking:Z,loadingRanking:le}))),Pe&&Q==="featured"&&!(Ne==null?void 0:Ne.has_linked_twitter)?Object(e.h)(i.b,null):null))}}var R=n.e=Y},function(k,n,t){"use strict";t.d(n,"a",function(){return wt});var e=t(179),a=t(43);function o(yt){if(Array.isArray(yt))return yt}function l(yt,Qe){var At=yt==null?null:typeof Symbol!="undefined"&&yt[Symbol.iterator]||yt["@@iterator"];if(At!=null){var jt,ke,tn,Pn,Ft=[],lt=!0,Rt=!1;try{if(tn=(At=At.call(yt)).next,Qe===0){if(Object(At)!==At)return;lt=!1}else for(;!(lt=(jt=tn.call(At)).done)&&(Ft.push(jt.value),Ft.length!==Qe);lt=!0);}catch(ln){Rt=!0,ke=ln}finally{try{if(!lt&&At.return!=null&&(Pn=At.return(),Object(Pn)!==Pn))return}finally{if(Rt)throw ke}}return Ft}}var d=t(403);function c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u(yt,Qe){return o(yt)||l(yt,Qe)||Object(d.a)(yt,Qe)||c()}for(var f=t(579),m=t(101),p=t(133),g=t(134),O=t(336),s=t(135),r=t(144),i=t(93),h=t(3),v=t(318),j=t(39),y=t(53),b=t(196),E=[{base:"A",letters:"A\u24B6\uFF21\xC0\xC1\xC2\u1EA6\u1EA4\u1EAA\u1EA8\xC3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\xC4\u01DE\u1EA2\xC5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F"},{base:"AA",letters:"\uA732"},{base:"AE",letters:"\xC6\u01FC\u01E2"},{base:"AO",letters:"\uA734"},{base:"AU",letters:"\uA736"},{base:"AV",letters:"\uA738\uA73A"},{base:"AY",letters:"\uA73C"},{base:"B",letters:"B\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181"},{base:"C",letters:"C\u24B8\uFF23\u0106\u0108\u010A\u010C\xC7\u1E08\u0187\u023B\uA73E"},{base:"D",letters:"D\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779"},{base:"DZ",letters:"\u01F1\u01C4"},{base:"Dz",letters:"\u01F2\u01C5"},{base:"E",letters:"E\u24BA\uFF25\xC8\xC9\xCA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\xCB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E"},{base:"F",letters:"F\u24BB\uFF26\u1E1E\u0191\uA77B"},{base:"G",letters:"G\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E"},{base:"H",letters:"H\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D"},{base:"I",letters:"I\u24BE\uFF29\xCC\xCD\xCE\u0128\u012A\u012C\u0130\xCF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197"},{base:"J",letters:"J\u24BF\uFF2A\u0134\u0248"},{base:"K",letters:"K\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2"},{base:"L",letters:"L\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780"},{base:"LJ",letters:"\u01C7"},{base:"Lj",letters:"\u01C8"},{base:"M",letters:"M\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C"},{base:"N",letters:"N\u24C3\uFF2E\u01F8\u0143\xD1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4"},{base:"NJ",letters:"\u01CA"},{base:"Nj",letters:"\u01CB"},{base:"O",letters:"O\u24C4\uFF2F\xD2\xD3\xD4\u1ED2\u1ED0\u1ED6\u1ED4\xD5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\xD6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\xD8\u01FE\u0186\u019F\uA74A\uA74C"},{base:"OI",letters:"\u01A2"},{base:"OO",letters:"\uA74E"},{base:"OU",letters:"\u0222"},{base:"P",letters:"P\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754"},{base:"Q",letters:"Q\u24C6\uFF31\uA756\uA758\u024A"},{base:"R",letters:"R\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782"},{base:"S",letters:"S\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784"},{base:"T",letters:"T\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786"},{base:"TZ",letters:"\uA728"},{base:"U",letters:"U\u24CA\uFF35\xD9\xDA\xDB\u0168\u1E78\u016A\u1E7A\u016C\xDC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244"},{base:"V",letters:"V\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245"},{base:"VY",letters:"\uA760"},{base:"W",letters:"W\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72"},{base:"X",letters:"X\u24CD\uFF38\u1E8A\u1E8C"},{base:"Y",letters:"Y\u24CE\uFF39\u1EF2\xDD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE"},{base:"Z",letters:"Z\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762"},{base:"a",letters:"a\u24D0\uFF41\u1E9A\xE0\xE1\xE2\u1EA7\u1EA5\u1EAB\u1EA9\xE3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\xE4\u01DF\u1EA3\xE5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250"},{base:"aa",letters:"\uA733"},{base:"ae",letters:"\xE6\u01FD\u01E3"},{base:"ao",letters:"\uA735"},{base:"au",letters:"\uA737"},{base:"av",letters:"\uA739\uA73B"},{base:"ay",letters:"\uA73D"},{base:"b",letters:"b\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253"},{base:"c",letters:"c\u24D2\uFF43\u0107\u0109\u010B\u010D\xE7\u1E09\u0188\u023C\uA73F\u2184"},{base:"d",letters:"d\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A"},{base:"dz",letters:"\u01F3\u01C6"},{base:"e",letters:"e\u24D4\uFF45\xE8\xE9\xEA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\xEB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD"},{base:"f",letters:"f\u24D5\uFF46\u1E1F\u0192\uA77C"},{base:"g",letters:"g\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F"},{base:"h",letters:"h\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24D8\uFF49\xEC\xED\xEE\u0129\u012B\u012D\xEF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131"},{base:"j",letters:"j\u24D9\uFF4A\u0135\u01F0\u0249"},{base:"k",letters:"k\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3"},{base:"l",letters:"l\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747"},{base:"lj",letters:"\u01C9"},{base:"m",letters:"m\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F"},{base:"n",letters:"n\u24DD\uFF4E\u01F9\u0144\xF1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5"},{base:"nj",letters:"\u01CC"},{base:"o",letters:"o\u24DE\uFF4F\xF2\xF3\xF4\u1ED3\u1ED1\u1ED7\u1ED5\xF5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\xF6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\xF8\u01FF\u0254\uA74B\uA74D\u0275"},{base:"oi",letters:"\u01A3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\uA74F"},{base:"p",letters:"p\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755"},{base:"q",letters:"q\u24E0\uFF51\u024B\uA757\uA759"},{base:"r",letters:"r\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783"},{base:"s",letters:"s\u24E2\uFF53\xDF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B"},{base:"t",letters:"t\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787"},{base:"tz",letters:"\uA729"},{base:"u",letters:"u\u24E4\uFF55\xF9\xFA\xFB\u0169\u1E79\u016B\u1E7B\u016D\xFC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289"},{base:"v",letters:"v\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C"},{base:"vy",letters:"\uA761"},{base:"w",letters:"w\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73"},{base:"x",letters:"x\u24E7\uFF58\u1E8B\u1E8D"},{base:"y",letters:"y\u24E8\uFF59\u1EF3\xFD\u0177\u1EF9\u0233\u1E8F\xFF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF"},{base:"z",letters:"z\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763"}],P=new RegExp("["+E.map(function(yt){return yt.letters}).join("")+"]","g"),A={},_=0;_<E.length;_++)for(var M=E[_],F=0;F<M.letters.length;F++)A[M.letters[F]]=M.base;var H=function(Qe){return Qe.replace(P,function(At){return A[At]})};function C(yt,Qe){var At=Object.keys(yt);if(Object.getOwnPropertySymbols){var jt=Object.getOwnPropertySymbols(yt);Qe&&(jt=jt.filter(function(ke){return Object.getOwnPropertyDescriptor(yt,ke).enumerable})),At.push.apply(At,jt)}return At}function T(yt){for(var Qe=1;Qe<arguments.length;Qe++){var At=arguments[Qe]!=null?arguments[Qe]:{};Qe%2?C(Object(At),!0).forEach(function(jt){Object(m.a)(yt,jt,At[jt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(yt,Object.getOwnPropertyDescriptors(At)):C(Object(At)).forEach(function(jt){Object.defineProperty(yt,jt,Object.getOwnPropertyDescriptor(At,jt))})}return yt}var S=function(Qe){return Qe.replace(/^\s+|\s+$/g,"")},D=function(Qe){return"".concat(Qe.label," ").concat(Qe.value)},w=function(Qe){return function(At,jt){var ke=T({ignoreCase:!0,ignoreAccents:!0,stringify:D,trim:!0,matchFrom:"any"},Qe),tn=ke.ignoreCase,Pn=ke.ignoreAccents,Ft=ke.stringify,lt=ke.trim,Rt=ke.matchFrom,ln=lt?S(jt):jt,Mt=lt?S(Ft(At)):Ft(At);return tn&&(ln=ln.toLowerCase(),Mt=Mt.toLowerCase()),Pn&&(ln=H(ln),Mt=H(Mt)),Rt==="start"?Mt.substr(0,ln.length)===ln:Mt.indexOf(ln)>-1}};function U(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}var V={name:"1laao21-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap;"},K=function(Qe){return Object(j.c)("span",Object(a.a)({css:V},Qe))};function Y(yt){var Qe=yt.in,At=yt.out,jt=yt.onExited,ke=yt.appear,tn=yt.enter,Pn=yt.exit,Ft=yt.innerRef,lt=yt.emotion,Rt=Object(e.a)(yt,["in","out","onExited","appear","enter","exit","innerRef","emotion"]);return Object(j.c)("input",Object(a.a)({ref:Ft},Rt,{css:Object(b.a)({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"},"")}))}function W(yt){var Qe=R();return function(){var jt=Object(i.a)(yt),ke;if(Qe){var tn=Object(i.a)(this).constructor;ke=Reflect.construct(jt,arguments,tn)}else ke=jt.apply(this,arguments);return Object(r.a)(this,ke)}}function R(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(yt){return!1}}var B=function(yt){Object(s.a)(At,yt);var Qe=W(At);function At(){return Object(p.a)(this,At),Qe.apply(this,arguments)}return Object(g.a)(At,[{key:"componentDidMount",value:function(){this.props.innerRef(Object(h.findDOMNode)(this))}},{key:"componentWillUnmount",value:function(){this.props.innerRef(null)}},{key:"render",value:function(){return this.props.children}}]),At}(h.Component),x=["boxSizing","height","overflow","paddingRight","position"],G={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Q(yt){yt.preventDefault()}function he(yt){yt.stopPropagation()}function Z(){var yt=this.scrollTop,Qe=this.scrollHeight,At=yt+this.offsetHeight;yt===0?this.scrollTop=1:At===Qe&&(this.scrollTop=yt-1)}function le(){return"ontouchstart"in window||navigator.maxTouchPoints}function de(yt){var Qe=be();return function(){var jt=Object(i.a)(yt),ke;if(Qe){var tn=Object(i.a)(this).constructor;ke=Reflect.construct(jt,arguments,tn)}else ke=jt.apply(this,arguments);return Object(r.a)(this,ke)}}function be(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(yt){return!1}}var X=!!(window.document&&window.document.createElement),ie=0,Ce=function(yt){Object(s.a)(At,yt);var Qe=de(At);function At(){var jt;Object(p.a)(this,At);for(var ke=arguments.length,tn=new Array(ke),Pn=0;Pn<ke;Pn++)tn[Pn]=arguments[Pn];return jt=Qe.call.apply(Qe,[this].concat(tn)),jt.originalStyles={},jt.listenerOptions={capture:!1,passive:!1},jt}return Object(g.a)(At,[{key:"componentDidMount",value:function(){var ke=this;if(!!X){var tn=this.props,Pn=tn.accountForScrollbars,Ft=tn.touchScrollTarget,lt=document.body,Rt=lt&&lt.style;if(Pn&&x.forEach(function(nn){var Bt=Rt&&Rt[nn];ke.originalStyles[nn]=Bt}),Pn&&ie<1){var ln=parseInt(this.originalStyles.paddingRight,10)||0,Mt=document.body?document.body.clientWidth:0,$t=window.innerWidth-Mt+ln||0;Object.keys(G).forEach(function(nn){var Bt=G[nn];Rt&&(Rt[nn]=Bt)}),Rt&&(Rt.paddingRight="".concat($t,"px"))}lt&&le()&&(lt.addEventListener("touchmove",Q,this.listenerOptions),Ft&&(Ft.addEventListener("touchstart",Z,this.listenerOptions),Ft.addEventListener("touchmove",he,this.listenerOptions))),ie+=1}}},{key:"componentWillUnmount",value:function(){var ke=this;if(!!X){var tn=this.props,Pn=tn.accountForScrollbars,Ft=tn.touchScrollTarget,lt=document.body,Rt=lt&&lt.style;ie=Math.max(ie-1,0),Pn&&ie<1&&x.forEach(function(ln){var Mt=ke.originalStyles[ln];Rt&&(Rt[ln]=Mt)}),lt&&le()&&(lt.removeEventListener("touchmove",Q,this.listenerOptions),Ft&&(Ft.removeEventListener("touchstart",Z,this.listenerOptions),Ft.removeEventListener("touchmove",he,this.listenerOptions)))}}},{key:"render",value:function(){return null}}]),At}(h.Component);Ce.defaultProps={accountForScrollbars:!0};function Le(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}function Ae(yt){var Qe=Pe();return function(){var jt=Object(i.a)(yt),ke;if(Qe){var tn=Object(i.a)(this).constructor;ke=Reflect.construct(jt,arguments,tn)}else ke=jt.apply(this,arguments);return Object(r.a)(this,ke)}}function Pe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(yt){return!1}}var Ne={name:"1dsbpcp",styles:"position:fixed;left:0;bottom:0;right:0;top:0;"},ce=function(yt){Object(s.a)(At,yt);var Qe=Ae(At);function At(){var jt;Object(p.a)(this,At);for(var ke=arguments.length,tn=new Array(ke),Pn=0;Pn<ke;Pn++)tn[Pn]=arguments[Pn];return jt=Qe.call.apply(Qe,[this].concat(tn)),jt.state={touchScrollTarget:null},jt.getScrollTarget=function(Ft){Ft!==jt.state.touchScrollTarget&&jt.setState({touchScrollTarget:Ft})},jt.blurSelectInput=function(){document.activeElement&&document.activeElement.blur()},jt}return Object(g.a)(At,[{key:"render",value:function(){var ke=this.props,tn=ke.children,Pn=ke.isEnabled,Ft=this.state.touchScrollTarget;return Pn?Object(j.c)("div",null,Object(j.c)("div",{onClick:this.blurSelectInput,css:Ne}),Object(j.c)(B,{innerRef:this.getScrollTarget},tn),Ft?Object(j.c)(Ce,{touchScrollTarget:Ft}):null):tn}}]),At}(h.PureComponent);function q(yt){var Qe=te();return function(){var jt=Object(i.a)(yt),ke;if(Qe){var tn=Object(i.a)(this).constructor;ke=Reflect.construct(jt,arguments,tn)}else ke=jt.apply(this,arguments);return Object(r.a)(this,ke)}}function te(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(yt){return!1}}var ue=function(yt){Object(s.a)(At,yt);var Qe=q(At);function At(){var jt;Object(p.a)(this,At);for(var ke=arguments.length,tn=new Array(ke),Pn=0;Pn<ke;Pn++)tn[Pn]=arguments[Pn];return jt=Qe.call.apply(Qe,[this].concat(tn)),jt.isBottom=!1,jt.isTop=!1,jt.scrollTarget=void 0,jt.touchStart=void 0,jt.cancelScroll=function(Ft){Ft.preventDefault(),Ft.stopPropagation()},jt.handleEventDelta=function(Ft,lt){var Rt=jt.props,ln=Rt.onBottomArrive,Mt=Rt.onBottomLeave,$t=Rt.onTopArrive,nn=Rt.onTopLeave,Bt=jt.scrollTarget,Kt=Bt.scrollTop,Sn=Bt.scrollHeight,Qn=Bt.clientHeight,rr=jt.scrollTarget,Mr=lt>0,zr=Sn-Qn-Kt,dr=!1;zr>lt&&jt.isBottom&&(Mt&&Mt(Ft),jt.isBottom=!1),Mr&&jt.isTop&&(nn&&nn(Ft),jt.isTop=!1),Mr&&lt>zr?(ln&&!jt.isBottom&&ln(Ft),rr.scrollTop=Sn,dr=!0,jt.isBottom=!0):!Mr&&-lt>Kt&&($t&&!jt.isTop&&$t(Ft),rr.scrollTop=0,dr=!0,jt.isTop=!0),dr&&jt.cancelScroll(Ft)},jt.onWheel=function(Ft){jt.handleEventDelta(Ft,Ft.deltaY)},jt.onTouchStart=function(Ft){jt.touchStart=Ft.changedTouches[0].clientY},jt.onTouchMove=function(Ft){var lt=jt.touchStart-Ft.changedTouches[0].clientY;jt.handleEventDelta(Ft,lt)},jt.getScrollTarget=function(Ft){jt.scrollTarget=Ft},jt}return Object(g.a)(At,[{key:"componentDidMount",value:function(){this.startListening(this.scrollTarget)}},{key:"componentWillUnmount",value:function(){this.stopListening(this.scrollTarget)}},{key:"startListening",value:function(ke){!ke||(typeof ke.addEventListener=="function"&&ke.addEventListener("wheel",this.onWheel,!1),typeof ke.addEventListener=="function"&&ke.addEventListener("touchstart",this.onTouchStart,!1),typeof ke.addEventListener=="function"&&ke.addEventListener("touchmove",this.onTouchMove,!1))}},{key:"stopListening",value:function(ke){!ke||(typeof ke.removeEventListener=="function"&&ke.removeEventListener("wheel",this.onWheel,!1),typeof ke.removeEventListener=="function"&&ke.removeEventListener("touchstart",this.onTouchStart,!1),typeof ke.removeEventListener=="function"&&ke.removeEventListener("touchmove",this.onTouchMove,!1))}},{key:"render",value:function(){return h.default.createElement(B,{innerRef:this.getScrollTarget},this.props.children)}}]),At}(h.Component);function We(yt){var Qe=yt.isEnabled,At=Qe===void 0?!0:Qe,jt=Object(e.a)(yt,["isEnabled"]);return At?h.default.createElement(ue,jt):jt.children}var ot=function(Qe){var At=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},jt=At.isSearchable,ke=At.isMulti,tn=At.label,Pn=At.isDisabled,Ft=At.tabSelectsValue;switch(Qe){case"menu":return"Use Up and Down to choose options".concat(Pn?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(Ft?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(tn||"Select"," is focused ").concat(jt?",type to refine list":"",", press Down to open the menu, ").concat(ke?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value"}},ze=function(Qe,At){var jt=At.value,ke=At.isDisabled;if(!!jt)switch(Qe){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(jt,", deselected.");case"select-option":return ke?"option ".concat(jt," is disabled. Select another option."):"option ".concat(jt,", selected.")}},vt=function(Qe){var At=Qe.focusedValue,jt=Qe.getOptionLabel,ke=Qe.selectValue;return"value ".concat(jt(At)," focused, ").concat(ke.indexOf(At)+1," of ").concat(ke.length,".")},Wt=function(Qe){var At=Qe.focusedOption,jt=Qe.getOptionLabel,ke=Qe.options;return"option ".concat(jt(At)," focused").concat(At.isDisabled?" disabled":"",", ").concat(ke.indexOf(At)+1," of ").concat(ke.length,".")},zt=function(Qe){var At=Qe.inputValue,jt=Qe.screenReaderMessage;return"".concat(jt).concat(At?" for search term "+At:"",".")},at=function(Qe){return Qe.label},Me=function(Qe){return Qe.label},Be=function(Qe){return Qe.value},Xe=function(Qe){return!!Qe.isDisabled};function Te(yt,Qe){var At=Object.keys(yt);if(Object.getOwnPropertySymbols){var jt=Object.getOwnPropertySymbols(yt);Qe&&(jt=jt.filter(function(ke){return Object.getOwnPropertyDescriptor(yt,ke).enumerable})),At.push.apply(At,jt)}return At}function we(yt){for(var Qe=1;Qe<arguments.length;Qe++){var At=arguments[Qe]!=null?arguments[Qe]:{};Qe%2?Te(Object(At),!0).forEach(function(jt){Object(m.a)(yt,jt,At[jt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(yt,Object.getOwnPropertyDescriptors(At)):Te(Object(At)).forEach(function(jt){Object.defineProperty(yt,jt,Object.getOwnPropertyDescriptor(At,jt))})}return yt}var De={clearIndicator:y.k,container:y.i,control:y.j,dropdownIndicator:y.l,group:y.o,groupHeading:y.m,indicatorsContainer:y.q,indicatorSeparator:y.n,input:y.p,loadingIndicator:y.t,loadingMessage:y.r,menu:y.u,menuList:y.s,menuPortal:y.v,multiValue:y.w,multiValueLabel:y.x,multiValueRemove:y.y,noOptionsMessage:y.z,option:y.A,placeholder:y.B,singleValue:y.C,valueContainer:y.D};function Ie(yt){var Qe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},At=we({},yt);return Object.keys(Qe).forEach(function(jt){yt[jt]?At[jt]=function(ke,tn){return Qe[jt](yt[jt](ke,tn),tn)}:At[jt]=Qe[jt]}),At}var He={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},Ve=4,z=4,se=38,Se=z*2,Oe={baseUnit:z,controlHeight:se,menuGutter:Se},ge={borderRadius:Ve,colors:He,spacing:Oe};function je(yt,Qe){var At=Object.keys(yt);if(Object.getOwnPropertySymbols){var jt=Object.getOwnPropertySymbols(yt);Qe&&(jt=jt.filter(function(ke){return Object.getOwnPropertyDescriptor(yt,ke).enumerable})),At.push.apply(At,jt)}return At}function it(yt){for(var Qe=1;Qe<arguments.length;Qe++){var At=arguments[Qe]!=null?arguments[Qe]:{};Qe%2?je(Object(At),!0).forEach(function(jt){Object(m.a)(yt,jt,At[jt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(yt,Object.getOwnPropertyDescriptors(At)):je(Object(At)).forEach(function(jt){Object.defineProperty(yt,jt,Object.getOwnPropertyDescriptor(At,jt))})}return yt}function Tt(yt){var Qe=sn();return function(){var jt=Object(i.a)(yt),ke;if(Qe){var tn=Object(i.a)(this).constructor;ke=Reflect.construct(jt,arguments,tn)}else ke=jt.apply(this,arguments);return Object(r.a)(this,ke)}}function sn(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(yt){return!1}}var ht={backspaceRemovesValue:!0,blurInputOnSelect:Object(y.E)(),captureMenuScroll:!Object(y.E)(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:w(),formatGroupLabel:at,getOptionLabel:Me,getOptionValue:Be,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:Xe,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!Object(y.F)(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(Qe){var At=Qe.count;return"".concat(At," result").concat(At!==1?"s":""," available")},styles:{},tabIndex:"0",tabSelectsValue:!0},Nt=1,wt=function(yt){Object(s.a)(At,yt);var Qe=Tt(At);function At(jt){var ke;Object(p.a)(this,At),ke=Qe.call(this,jt),ke.state={ariaLiveSelection:"",ariaLiveContext:"",focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,menuOptions:{render:[],focusable:[]},selectValue:[]},ke.blockOptionHover=!1,ke.isComposing=!1,ke.clearFocusValueOnUpdate=!1,ke.commonProps=void 0,ke.components=void 0,ke.hasGroups=!1,ke.initialTouchX=0,ke.initialTouchY=0,ke.inputIsHiddenAfterUpdate=void 0,ke.instancePrefix="",ke.openAfterFocus=!1,ke.scrollToFocusedOptionOnUpdate=!1,ke.userIsDragging=void 0,ke.controlRef=null,ke.getControlRef=function(lt){ke.controlRef=lt},ke.focusedOptionRef=null,ke.getFocusedOptionRef=function(lt){ke.focusedOptionRef=lt},ke.menuListRef=null,ke.getMenuListRef=function(lt){ke.menuListRef=lt},ke.inputRef=null,ke.getInputRef=function(lt){ke.inputRef=lt},ke.cacheComponents=function(lt){ke.components=Object(y.G)({components:lt})},ke.focus=ke.focusInput,ke.blur=ke.blurInput,ke.onChange=function(lt,Rt){var ln=ke.props,Mt=ln.onChange,$t=ln.name;Mt(lt,it(it({},Rt),{},{name:$t}))},ke.setValue=function(lt){var Rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"set-value",ln=arguments.length>2?arguments[2]:void 0,Mt=ke.props,$t=Mt.closeMenuOnSelect,nn=Mt.isMulti;ke.onInputChange("",{action:"set-value"}),$t&&(ke.inputIsHiddenAfterUpdate=!nn,ke.onMenuClose()),ke.clearFocusValueOnUpdate=!0,ke.onChange(lt,{action:Rt,option:ln})},ke.selectOption=function(lt){var Rt=ke.props,ln=Rt.blurInputOnSelect,Mt=Rt.isMulti,$t=ke.state.selectValue;if(Mt)if(ke.isOptionSelected(lt,$t)){var nn=ke.getOptionValue(lt);ke.setValue($t.filter(function(Bt){return ke.getOptionValue(Bt)!==nn}),"deselect-option",lt),ke.announceAriaLiveSelection({event:"deselect-option",context:{value:ke.getOptionLabel(lt)}})}else ke.isOptionDisabled(lt,$t)?ke.announceAriaLiveSelection({event:"select-option",context:{value:ke.getOptionLabel(lt),isDisabled:!0}}):(ke.setValue([].concat(Object(f.a)($t),[lt]),"select-option",lt),ke.announceAriaLiveSelection({event:"select-option",context:{value:ke.getOptionLabel(lt)}}));else ke.isOptionDisabled(lt,$t)?ke.announceAriaLiveSelection({event:"select-option",context:{value:ke.getOptionLabel(lt),isDisabled:!0}}):(ke.setValue(lt,"select-option"),ke.announceAriaLiveSelection({event:"select-option",context:{value:ke.getOptionLabel(lt)}}));ln&&ke.blurInput()},ke.removeValue=function(lt){var Rt=ke.state.selectValue,ln=ke.getOptionValue(lt),Mt=Rt.filter(function($t){return ke.getOptionValue($t)!==ln});ke.onChange(Mt.length?Mt:null,{action:"remove-value",removedValue:lt}),ke.announceAriaLiveSelection({event:"remove-value",context:{value:lt?ke.getOptionLabel(lt):""}}),ke.focusInput()},ke.clearValue=function(){ke.onChange(null,{action:"clear"})},ke.popValue=function(){var lt=ke.state.selectValue,Rt=lt[lt.length-1],ln=lt.slice(0,lt.length-1);ke.announceAriaLiveSelection({event:"pop-value",context:{value:Rt?ke.getOptionLabel(Rt):""}}),ke.onChange(ln.length?ln:null,{action:"pop-value",removedValue:Rt})},ke.getValue=function(){return ke.state.selectValue},ke.cx=function(){for(var lt=arguments.length,Rt=new Array(lt),ln=0;ln<lt;ln++)Rt[ln]=arguments[ln];return y.H.apply(void 0,[ke.props.classNamePrefix].concat(Rt))},ke.getOptionLabel=function(lt){return ke.props.getOptionLabel(lt)},ke.getOptionValue=function(lt){return ke.props.getOptionValue(lt)},ke.getStyles=function(lt,Rt){var ln=De[lt](Rt);ln.boxSizing="border-box";var Mt=ke.props.styles[lt];return Mt?Mt(ln,Rt):ln},ke.getElementId=function(lt){return"".concat(ke.instancePrefix,"-").concat(lt)},ke.getActiveDescendentId=function(){var lt=ke.props.menuIsOpen,Rt=ke.state,ln=Rt.menuOptions,Mt=Rt.focusedOption;if(!(!Mt||!lt)){var $t=ln.focusable.indexOf(Mt),nn=ln.render[$t];return nn&&nn.key}},ke.announceAriaLiveSelection=function(lt){var Rt=lt.event,ln=lt.context;ke.setState({ariaLiveSelection:ze(Rt,ln)})},ke.announceAriaLiveContext=function(lt){var Rt=lt.event,ln=lt.context;ke.setState({ariaLiveContext:ot(Rt,it(it({},ln),{},{label:ke.props["aria-label"]}))})},ke.onMenuMouseDown=function(lt){lt.button===0&&(lt.stopPropagation(),lt.preventDefault(),ke.focusInput())},ke.onMenuMouseMove=function(lt){ke.blockOptionHover=!1},ke.onControlMouseDown=function(lt){var Rt=ke.props.openMenuOnClick;ke.state.isFocused?ke.props.menuIsOpen?lt.target.tagName!=="INPUT"&&lt.target.tagName!=="TEXTAREA"&&ke.onMenuClose():Rt&&ke.openMenu("first"):(Rt&&(ke.openAfterFocus=!0),ke.focusInput()),lt.target.tagName!=="INPUT"&&lt.target.tagName!=="TEXTAREA"&&lt.preventDefault()},ke.onDropdownIndicatorMouseDown=function(lt){if(!(lt&&lt.type==="mousedown"&&lt.button!==0)&&!ke.props.isDisabled){var Rt=ke.props,ln=Rt.isMulti,Mt=Rt.menuIsOpen;ke.focusInput(),Mt?(ke.inputIsHiddenAfterUpdate=!ln,ke.onMenuClose()):ke.openMenu("first"),lt.preventDefault(),lt.stopPropagation()}},ke.onClearIndicatorMouseDown=function(lt){lt&&lt.type==="mousedown"&&lt.button!==0||(ke.clearValue(),lt.stopPropagation(),ke.openAfterFocus=!1,lt.type==="touchend"?ke.focusInput():setTimeout(function(){return ke.focusInput()}))},ke.onScroll=function(lt){typeof ke.props.closeMenuOnScroll=="boolean"?lt.target instanceof HTMLElement&&Object(y.a)(lt.target)&&ke.props.onMenuClose():typeof ke.props.closeMenuOnScroll=="function"&&ke.props.closeMenuOnScroll(lt)&&ke.props.onMenuClose()},ke.onCompositionStart=function(){ke.isComposing=!0},ke.onCompositionEnd=function(){ke.isComposing=!1},ke.onTouchStart=function(lt){var Rt=lt.touches,ln=Rt&&Rt.item(0);!ln||(ke.initialTouchX=ln.clientX,ke.initialTouchY=ln.clientY,ke.userIsDragging=!1)},ke.onTouchMove=function(lt){var Rt=lt.touches,ln=Rt&&Rt.item(0);if(!!ln){var Mt=Math.abs(ln.clientX-ke.initialTouchX),$t=Math.abs(ln.clientY-ke.initialTouchY),nn=5;ke.userIsDragging=Mt>nn||$t>nn}},ke.onTouchEnd=function(lt){ke.userIsDragging||(ke.controlRef&&!ke.controlRef.contains(lt.target)&&ke.menuListRef&&!ke.menuListRef.contains(lt.target)&&ke.blurInput(),ke.initialTouchX=0,ke.initialTouchY=0)},ke.onControlTouchEnd=function(lt){ke.userIsDragging||ke.onControlMouseDown(lt)},ke.onClearIndicatorTouchEnd=function(lt){ke.userIsDragging||ke.onClearIndicatorMouseDown(lt)},ke.onDropdownIndicatorTouchEnd=function(lt){ke.userIsDragging||ke.onDropdownIndicatorMouseDown(lt)},ke.handleInputChange=function(lt){var Rt=lt.currentTarget.value;ke.inputIsHiddenAfterUpdate=!1,ke.onInputChange(Rt,{action:"input-change"}),ke.props.menuIsOpen||ke.onMenuOpen()},ke.onInputFocus=function(lt){var Rt=ke.props,ln=Rt.isSearchable,Mt=Rt.isMulti;ke.props.onFocus&&ke.props.onFocus(lt),ke.inputIsHiddenAfterUpdate=!1,ke.announceAriaLiveContext({event:"input",context:{isSearchable:ln,isMulti:Mt}}),ke.setState({isFocused:!0}),(ke.openAfterFocus||ke.props.openMenuOnFocus)&&ke.openMenu("first"),ke.openAfterFocus=!1},ke.onInputBlur=function(lt){if(ke.menuListRef&&ke.menuListRef.contains(document.activeElement)){ke.inputRef.focus();return}ke.props.onBlur&&ke.props.onBlur(lt),ke.onInputChange("",{action:"input-blur"}),ke.onMenuClose(),ke.setState({focusedValue:null,isFocused:!1})},ke.onOptionHover=function(lt){ke.blockOptionHover||ke.state.focusedOption===lt||ke.setState({focusedOption:lt})},ke.shouldHideSelectedOptions=function(){var lt=ke.props,Rt=lt.hideSelectedOptions,ln=lt.isMulti;return Rt===void 0?ln:Rt},ke.onKeyDown=function(lt){var Rt=ke.props,ln=Rt.isMulti,Mt=Rt.backspaceRemovesValue,$t=Rt.escapeClearsValue,nn=Rt.inputValue,Bt=Rt.isClearable,Kt=Rt.isDisabled,Sn=Rt.menuIsOpen,Qn=Rt.onKeyDown,rr=Rt.tabSelectsValue,Mr=Rt.openMenuOnFocus,zr=ke.state,dr=zr.focusedOption,Rr=zr.focusedValue,_r=zr.selectValue;if(!Kt&&!(typeof Qn=="function"&&(Qn(lt),lt.defaultPrevented))){switch(ke.blockOptionHover=!0,lt.key){case"ArrowLeft":if(!ln||nn)return;ke.focusValue("previous");break;case"ArrowRight":if(!ln||nn)return;ke.focusValue("next");break;case"Delete":case"Backspace":if(nn)return;if(Rr)ke.removeValue(Rr);else{if(!Mt)return;ln?ke.popValue():Bt&&ke.clearValue()}break;case"Tab":if(ke.isComposing||lt.shiftKey||!Sn||!rr||!dr||Mr&&ke.isOptionSelected(dr,_r))return;ke.selectOption(dr);break;case"Enter":if(lt.keyCode===229)break;if(Sn){if(!dr||ke.isComposing)return;ke.selectOption(dr);break}return;case"Escape":Sn?(ke.inputIsHiddenAfterUpdate=!1,ke.onInputChange("",{action:"menu-close"}),ke.onMenuClose()):Bt&&$t&&ke.clearValue();break;case" ":if(nn)return;if(!Sn){ke.openMenu("first");break}if(!dr)return;ke.selectOption(dr);break;case"ArrowUp":Sn?ke.focusOption("up"):ke.openMenu("last");break;case"ArrowDown":Sn?ke.focusOption("down"):ke.openMenu("first");break;case"PageUp":if(!Sn)return;ke.focusOption("pageup");break;case"PageDown":if(!Sn)return;ke.focusOption("pagedown");break;case"Home":if(!Sn)return;ke.focusOption("first");break;case"End":if(!Sn)return;ke.focusOption("last");break;default:return}lt.preventDefault()}},ke.buildMenuOptions=function(lt,Rt){var ln=lt.inputValue,Mt=ln===void 0?"":ln,$t=lt.options,nn=function(Kt,Sn){var Qn=ke.isOptionDisabled(Kt,Rt),rr=ke.isOptionSelected(Kt,Rt),Mr=ke.getOptionLabel(Kt),zr=ke.getOptionValue(Kt);if(!(ke.shouldHideSelectedOptions()&&rr||!ke.filterOption({label:Mr,value:zr,data:Kt},Mt))){var dr=Qn?void 0:function(){return ke.onOptionHover(Kt)},Rr=Qn?void 0:function(){return ke.selectOption(Kt)},_r="".concat(ke.getElementId("option"),"-").concat(Sn);return{innerProps:{id:_r,onClick:Rr,onMouseMove:dr,onMouseOver:dr,tabIndex:-1},data:Kt,isDisabled:Qn,isSelected:rr,key:_r,label:Mr,type:"option",value:zr}}};return $t.reduce(function(Bt,Kt,Sn){if(Kt.options){ke.hasGroups||(ke.hasGroups=!0);var Qn=Kt.options,rr=Qn.map(function(dr,Rr){var _r=nn(dr,"".concat(Sn,"-").concat(Rr));return _r&&Bt.focusable.push(dr),_r}).filter(Boolean);if(rr.length){var Mr="".concat(ke.getElementId("group"),"-").concat(Sn);Bt.render.push({type:"group",key:Mr,data:Kt,options:rr})}}else{var zr=nn(Kt,"".concat(Sn));zr&&(Bt.render.push(zr),Bt.focusable.push(Kt))}return Bt},{render:[],focusable:[]})};var tn=jt.value;ke.cacheComponents=Object(v.a)(ke.cacheComponents,y.b).bind(Object(O.a)(ke)),ke.cacheComponents(jt.components),ke.instancePrefix="react-select-"+(ke.props.instanceId||++Nt);var Pn=Object(y.c)(tn);ke.buildMenuOptions=Object(v.a)(ke.buildMenuOptions,function(lt,Rt){var ln=lt,Mt=u(ln,2),$t=Mt[0],nn=Mt[1],Bt=Rt,Kt=u(Bt,2),Sn=Kt[0],Qn=Kt[1];return nn===Qn&&$t.inputValue===Sn.inputValue&&$t.options===Sn.options}).bind(Object(O.a)(ke));var Ft=jt.menuIsOpen?ke.buildMenuOptions(jt,Pn):{render:[],focusable:[]};return ke.state.menuOptions=Ft,ke.state.selectValue=Pn,ke}return Object(g.a)(At,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"UNSAFE_componentWillReceiveProps",value:function(ke){var tn=this.props,Pn=tn.options,Ft=tn.value,lt=tn.menuIsOpen,Rt=tn.inputValue;if(this.cacheComponents(ke.components),ke.value!==Ft||ke.options!==Pn||ke.menuIsOpen!==lt||ke.inputValue!==Rt){var ln=Object(y.c)(ke.value),Mt=ke.menuIsOpen?this.buildMenuOptions(ke,ln):{render:[],focusable:[]},$t=this.getNextFocusedValue(ln),nn=this.getNextFocusedOption(Mt.focusable);this.setState({menuOptions:Mt,selectValue:ln,focusedOption:nn,focusedValue:$t})}this.inputIsHiddenAfterUpdate!=null&&(this.setState({inputIsHidden:this.inputIsHiddenAfterUpdate}),delete this.inputIsHiddenAfterUpdate)}},{key:"componentDidUpdate",value:function(ke){var tn=this.props,Pn=tn.isDisabled,Ft=tn.menuIsOpen,lt=this.state.isFocused;(lt&&!Pn&&ke.isDisabled||lt&&Ft&&!ke.menuIsOpen)&&this.focusInput(),lt&&Pn&&!ke.isDisabled&&this.setState({isFocused:!1},this.onMenuClose),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Object(y.d)(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){var ke=this.props,tn=ke.isSearchable,Pn=ke.isMulti;this.announceAriaLiveContext({event:"input",context:{isSearchable:tn,isMulti:Pn}}),this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(ke,tn){this.props.onInputChange(ke,tn)}},{key:"focusInput",value:function(){!this.inputRef||this.inputRef.focus()}},{key:"blurInput",value:function(){!this.inputRef||this.inputRef.blur()}},{key:"openMenu",value:function(ke){var tn=this,Pn=this.state,Ft=Pn.selectValue,lt=Pn.isFocused,Rt=this.buildMenuOptions(this.props,Ft),ln=this.props,Mt=ln.isMulti,$t=ln.tabSelectsValue,nn=ke==="first"?0:Rt.focusable.length-1;if(!Mt){var Bt=Rt.focusable.indexOf(Ft[0]);Bt>-1&&(nn=Bt)}this.scrollToFocusedOptionOnUpdate=!(lt&&this.menuListRef),this.inputIsHiddenAfterUpdate=!1,this.setState({menuOptions:Rt,focusedValue:null,focusedOption:Rt.focusable[nn]},function(){tn.onMenuOpen(),tn.announceAriaLiveContext({event:"menu",context:{tabSelectsValue:$t}})})}},{key:"focusValue",value:function(ke){var tn=this.props,Pn=tn.isMulti,Ft=tn.isSearchable,lt=this.state,Rt=lt.selectValue,ln=lt.focusedValue;if(!!Pn){this.setState({focusedOption:null});var Mt=Rt.indexOf(ln);ln||(Mt=-1,this.announceAriaLiveContext({event:"value"}));var $t=Rt.length-1,nn=-1;if(!!Rt.length){switch(ke){case"previous":Mt===0?nn=0:Mt===-1?nn=$t:nn=Mt-1;break;case"next":Mt>-1&&Mt<$t&&(nn=Mt+1);break}nn===-1&&this.announceAriaLiveContext({event:"input",context:{isSearchable:Ft,isMulti:Pn}}),this.setState({inputIsHidden:nn!==-1,focusedValue:Rt[nn]})}}}},{key:"focusOption",value:function(){var ke=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",tn=this.props,Pn=tn.pageSize,Ft=tn.tabSelectsValue,lt=this.state,Rt=lt.focusedOption,ln=lt.menuOptions,Mt=ln.focusable;if(!!Mt.length){var $t=0,nn=Mt.indexOf(Rt);Rt||(nn=-1,this.announceAriaLiveContext({event:"menu",context:{tabSelectsValue:Ft}})),ke==="up"?$t=nn>0?nn-1:Mt.length-1:ke==="down"?$t=(nn+1)%Mt.length:ke==="pageup"?($t=nn-Pn,$t<0&&($t=0)):ke==="pagedown"?($t=nn+Pn,$t>Mt.length-1&&($t=Mt.length-1)):ke==="last"&&($t=Mt.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:Mt[$t],focusedValue:null}),this.announceAriaLiveContext({event:"menu",context:{isDisabled:Xe(Mt[$t]),tabSelectsValue:Ft}})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(ge):it(it({},ge),this.props.theme):ge}},{key:"getCommonProps",value:function(){var ke=this.clearValue,tn=this.cx,Pn=this.getStyles,Ft=this.getValue,lt=this.setValue,Rt=this.selectOption,ln=this.props,Mt=ln.isMulti,$t=ln.isRtl,nn=ln.options,Bt=this.hasValue();return{cx:tn,clearValue:ke,getStyles:Pn,getValue:Ft,hasValue:Bt,isMulti:Mt,isRtl:$t,options:nn,selectOption:Rt,setValue:lt,selectProps:ln,theme:this.getTheme()}}},{key:"getNextFocusedValue",value:function(ke){if(this.clearFocusValueOnUpdate)return this.clearFocusValueOnUpdate=!1,null;var tn=this.state,Pn=tn.focusedValue,Ft=tn.selectValue,lt=Ft.indexOf(Pn);if(lt>-1){var Rt=ke.indexOf(Pn);if(Rt>-1)return Pn;if(lt<ke.length)return ke[lt]}return null}},{key:"getNextFocusedOption",value:function(ke){var tn=this.state.focusedOption;return tn&&ke.indexOf(tn)>-1?tn:ke[0]}},{key:"hasValue",value:function(){var ke=this.state.selectValue;return ke.length>0}},{key:"hasOptions",value:function(){return!!this.state.menuOptions.render.length}},{key:"countOptions",value:function(){return this.state.menuOptions.focusable.length}},{key:"isClearable",value:function(){var ke=this.props,tn=ke.isClearable,Pn=ke.isMulti;return tn===void 0?Pn:tn}},{key:"isOptionDisabled",value:function(ke,tn){return typeof this.props.isOptionDisabled=="function"?this.props.isOptionDisabled(ke,tn):!1}},{key:"isOptionSelected",value:function(ke,tn){var Pn=this;if(tn.indexOf(ke)>-1)return!0;if(typeof this.props.isOptionSelected=="function")return this.props.isOptionSelected(ke,tn);var Ft=this.getOptionValue(ke);return tn.some(function(lt){return Pn.getOptionValue(lt)===Ft})}},{key:"filterOption",value:function(ke,tn){return this.props.filterOption?this.props.filterOption(ke,tn):!0}},{key:"formatOptionLabel",value:function(ke,tn){if(typeof this.props.formatOptionLabel=="function"){var Pn=this.props.inputValue,Ft=this.state.selectValue;return this.props.formatOptionLabel(ke,{context:tn,inputValue:Pn,selectValue:Ft})}else return this.getOptionLabel(ke)}},{key:"formatGroupLabel",value:function(ke){return this.props.formatGroupLabel(ke)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"constructAriaLiveMessage",value:function(){var ke=this.state,tn=ke.ariaLiveContext,Pn=ke.selectValue,Ft=ke.focusedValue,lt=ke.focusedOption,Rt=this.props,ln=Rt.options,Mt=Rt.menuIsOpen,$t=Rt.inputValue,nn=Rt.screenReaderStatus,Bt=Ft?vt({focusedValue:Ft,getOptionLabel:this.getOptionLabel,selectValue:Pn}):"",Kt=lt&&Mt?Wt({focusedOption:lt,getOptionLabel:this.getOptionLabel,options:ln}):"",Sn=zt({inputValue:$t,screenReaderMessage:nn({count:this.countOptions()})});return"".concat(Bt," ").concat(Kt," ").concat(Sn," ").concat(tn)}},{key:"renderInput",value:function(){var ke=this.props,tn=ke.isDisabled,Pn=ke.isSearchable,Ft=ke.inputId,lt=ke.inputValue,Rt=ke.tabIndex,ln=ke.form,Mt=this.components.Input,$t=this.state.inputIsHidden,nn=Ft||this.getElementId("input"),Bt={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]};if(!Pn)return h.default.createElement(Y,Object(a.a)({id:nn,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:y.e,onFocus:this.onInputFocus,readOnly:!0,disabled:tn,tabIndex:Rt,form:ln,value:""},Bt));var Kt=this.commonProps,Sn=Kt.cx,Qn=Kt.theme,rr=Kt.selectProps;return h.default.createElement(Mt,Object(a.a)({autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",cx:Sn,getStyles:this.getStyles,id:nn,innerRef:this.getInputRef,isDisabled:tn,isHidden:$t,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,selectProps:rr,spellCheck:"false",tabIndex:Rt,form:ln,theme:Qn,type:"text",value:lt},Bt))}},{key:"renderPlaceholderOrValue",value:function(){var ke=this,tn=this.components,Pn=tn.MultiValue,Ft=tn.MultiValueContainer,lt=tn.MultiValueLabel,Rt=tn.MultiValueRemove,ln=tn.SingleValue,Mt=tn.Placeholder,$t=this.commonProps,nn=this.props,Bt=nn.controlShouldRenderValue,Kt=nn.isDisabled,Sn=nn.isMulti,Qn=nn.inputValue,rr=nn.placeholder,Mr=this.state,zr=Mr.selectValue,dr=Mr.focusedValue,Rr=Mr.isFocused;if(!this.hasValue()||!Bt)return Qn?null:h.default.createElement(Mt,Object(a.a)({},$t,{key:"placeholder",isDisabled:Kt,isFocused:Rr}),rr);if(Sn){var _r=zr.map(function(Dn,ut){var fn=Dn===dr;return h.default.createElement(Pn,Object(a.a)({},$t,{components:{Container:Ft,Label:lt,Remove:Rt},isFocused:fn,isDisabled:Kt,key:"".concat(ke.getOptionValue(Dn)).concat(ut),index:ut,removeProps:{onClick:function(){return ke.removeValue(Dn)},onTouchEnd:function(){return ke.removeValue(Dn)},onMouseDown:function(Ot){Ot.preventDefault(),Ot.stopPropagation()}},data:Dn}),ke.formatOptionLabel(Dn,"value"))});return _r}if(Qn)return null;var ro=zr[0];return h.default.createElement(ln,Object(a.a)({},$t,{data:ro,isDisabled:Kt}),this.formatOptionLabel(ro,"value"))}},{key:"renderClearIndicator",value:function(){var ke=this.components.ClearIndicator,tn=this.commonProps,Pn=this.props,Ft=Pn.isDisabled,lt=Pn.isLoading,Rt=this.state.isFocused;if(!this.isClearable()||!ke||Ft||!this.hasValue()||lt)return null;var ln={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return h.default.createElement(ke,Object(a.a)({},tn,{innerProps:ln,isFocused:Rt}))}},{key:"renderLoadingIndicator",value:function(){var ke=this.components.LoadingIndicator,tn=this.commonProps,Pn=this.props,Ft=Pn.isDisabled,lt=Pn.isLoading,Rt=this.state.isFocused;if(!ke||!lt)return null;var ln={"aria-hidden":"true"};return h.default.createElement(ke,Object(a.a)({},tn,{innerProps:ln,isDisabled:Ft,isFocused:Rt}))}},{key:"renderIndicatorSeparator",value:function(){var ke=this.components,tn=ke.DropdownIndicator,Pn=ke.IndicatorSeparator;if(!tn||!Pn)return null;var Ft=this.commonProps,lt=this.props.isDisabled,Rt=this.state.isFocused;return h.default.createElement(Pn,Object(a.a)({},Ft,{isDisabled:lt,isFocused:Rt}))}},{key:"renderDropdownIndicator",value:function(){var ke=this.components.DropdownIndicator;if(!ke)return null;var tn=this.commonProps,Pn=this.props.isDisabled,Ft=this.state.isFocused,lt={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return h.default.createElement(ke,Object(a.a)({},tn,{innerProps:lt,isDisabled:Pn,isFocused:Ft}))}},{key:"renderMenu",value:function(){var ke=this,tn=this.components,Pn=tn.Group,Ft=tn.GroupHeading,lt=tn.Menu,Rt=tn.MenuList,ln=tn.MenuPortal,Mt=tn.LoadingMessage,$t=tn.NoOptionsMessage,nn=tn.Option,Bt=this.commonProps,Kt=this.state,Sn=Kt.focusedOption,Qn=Kt.menuOptions,rr=this.props,Mr=rr.captureMenuScroll,zr=rr.inputValue,dr=rr.isLoading,Rr=rr.loadingMessage,_r=rr.minMenuHeight,ro=rr.maxMenuHeight,Dn=rr.menuIsOpen,ut=rr.menuPlacement,fn=rr.menuPosition,On=rr.menuPortalTarget,Ot=rr.menuShouldBlockScroll,kt=rr.menuShouldScrollIntoView,Zt=rr.noOptionsMessage,Vn=rr.onMenuScrollToTop,Gn=rr.onMenuScrollToBottom;if(!Dn)return null;var tr=function(bn){var zn=Sn===bn.data;return bn.innerRef=zn?ke.getFocusedOptionRef:void 0,h.default.createElement(nn,Object(a.a)({},Bt,bn,{isFocused:zn}),ke.formatOptionLabel(bn.data,"menu"))},rn;if(this.hasOptions())rn=Qn.render.map(function(cn){if(cn.type==="group"){var bn=cn.type,zn=Object(e.a)(cn,["type"]),Rn="".concat(cn.key,"-heading");return h.default.createElement(Pn,Object(a.a)({},Bt,zn,{Heading:Ft,headingProps:{id:Rn,data:cn.data},label:ke.formatGroupLabel(cn.data)}),cn.options.map(function(xn){return tr(xn)}))}else if(cn.type==="option")return tr(cn)});else if(dr){var _n=Rr({inputValue:zr});if(_n===null)return null;rn=h.default.createElement(Mt,Bt,_n)}else{var Yn=Zt({inputValue:zr});if(Yn===null)return null;rn=h.default.createElement($t,Bt,Yn)}var cr={minMenuHeight:_r,maxMenuHeight:ro,menuPlacement:ut,menuPosition:fn,menuShouldScrollIntoView:kt},Jt=h.default.createElement(y.h,Object(a.a)({},Bt,cr),function(cn){var bn=cn.ref,zn=cn.placerProps,Rn=zn.placement,xn=zn.maxHeight;return h.default.createElement(lt,Object(a.a)({},Bt,cr,{innerRef:bn,innerProps:{onMouseDown:ke.onMenuMouseDown,onMouseMove:ke.onMenuMouseMove},isLoading:dr,placement:Rn}),h.default.createElement(We,{isEnabled:Mr,onTopArrive:Vn,onBottomArrive:Gn},h.default.createElement(ce,{isEnabled:Ot},h.default.createElement(Rt,Object(a.a)({},Bt,{innerRef:ke.getMenuListRef,isLoading:dr,maxHeight:xn}),rn))))});return On||fn==="fixed"?h.default.createElement(ln,Object(a.a)({},Bt,{appendTo:On,controlElement:this.controlRef,menuPlacement:ut,menuPosition:fn}),Jt):Jt}},{key:"renderFormField",value:function(){var ke=this,tn=this.props,Pn=tn.delimiter,Ft=tn.isDisabled,lt=tn.isMulti,Rt=tn.name,ln=this.state.selectValue;if(!(!Rt||Ft))if(lt)if(Pn){var Mt=ln.map(function(Bt){return ke.getOptionValue(Bt)}).join(Pn);return h.default.createElement("input",{name:Rt,type:"hidden",value:Mt})}else{var $t=ln.length>0?ln.map(function(Bt,Kt){return h.default.createElement("input",{key:"i-".concat(Kt),name:Rt,type:"hidden",value:ke.getOptionValue(Bt)})}):h.default.createElement("input",{name:Rt,type:"hidden"});return h.default.createElement("div",null,$t)}else{var nn=ln[0]?this.getOptionValue(ln[0]):"";return h.default.createElement("input",{name:Rt,type:"hidden",value:nn})}}},{key:"renderLiveRegion",value:function(){return this.state.isFocused?h.default.createElement(K,{"aria-live":"polite"},h.default.createElement("span",{id:"aria-selection-event"},"\xA0",this.state.ariaLiveSelection),h.default.createElement("span",{id:"aria-context"},"\xA0",this.constructAriaLiveMessage())):null}},{key:"render",value:function(){var ke=this.components,tn=ke.Control,Pn=ke.IndicatorsContainer,Ft=ke.SelectContainer,lt=ke.ValueContainer,Rt=this.props,ln=Rt.className,Mt=Rt.id,$t=Rt.isDisabled,nn=Rt.menuIsOpen,Bt=this.state.isFocused,Kt=this.commonProps=this.getCommonProps();return h.default.createElement(Ft,Object(a.a)({},Kt,{className:ln,innerProps:{id:Mt,onKeyDown:this.onKeyDown},isDisabled:$t,isFocused:Bt}),this.renderLiveRegion(),h.default.createElement(tn,Object(a.a)({},Kt,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:$t,isFocused:Bt,menuIsOpen:nn}),h.default.createElement(lt,Object(a.a)({},Kt,{isDisabled:$t}),this.renderPlaceholderOrValue(),this.renderInput()),h.default.createElement(Pn,Object(a.a)({},Kt,{isDisabled:$t}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}]),At}(h.Component);wt.defaultProps=ht},function(k,n,t){"use strict";t.r(n),t.d(n,"mentionsSearch",function(){return P}),t.d(n,"chatMentionsSearch",function(){return _});var e=t(0),a=t(12),o=t.n(a),l=t(15),d=t(187),c=t(138),u=t(59),f={mention:"frontend-components-mention-module__mention--34BKh"},m=Object.defineProperty,p=Object.defineProperties,g=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,i=(M,F,H)=>F in M?m(M,F,{enumerable:!0,configurable:!0,writable:!0,value:H}):M[F]=H,h=(M,F)=>{for(var H in F||(F={}))s.call(F,H)&&i(M,H,F[H]);if(O)for(var H of O(F))r.call(F,H)&&i(M,H,F[H]);return M},v=(M,F)=>p(M,g(F)),j=(M,F,H)=>new Promise((C,T)=>{var S=U=>{try{w(H.next(U))}catch(V){T(V)}},D=U=>{try{w(H.throw(U))}catch(V){T(V)}},w=U=>U.done?C(U.value):Promise.resolve(U.value).then(S,D);w((H=H.apply(M,F)).next())});const y=({name:M,id:F,type:H,url:C,photo_url:T,uuid:S,mentionText:D,isStatic:w=!1,isEditorContext:U=!1})=>{if(w)return Object(e.h)("span",{className:f.mention},Object(e.h)("a",{href:Object(l.getMentionsUrl)(H,F,M,C)},M));if(H==="user"){const V={id:F,name:M,photo_url:T};return Object(e.h)(d.a,null,Object(e.h)(u.b,{subject:V,utmSource:"mention"},Object(e.h)("a",{className:f.mention,href:U?void 0:Object(l.getMentionsUrl)(H,F,M,C),target:"_blank",rel:"noreferrer","data-attrs":JSON.stringify({name:M,id:F,type:H,url:C,photo_url:T,uuid:S}),onClick:K=>K.stopPropagation()},D!=null?D:M)))}return H==="pub"?Object(e.h)(c.c,{publication_id:F,utmSource:"mention"},Object(e.h)("a",{className:f.mention,href:C,target:"_blank",rel:"noreferrer","data-attrs":JSON.stringify({name:M,id:F,type:H,url:U?void 0:Object(l.getMentionsUrl)(H,F,M,C),uuid:S}),onClick:V=>V.stopPropagation()},D!=null?D:M)):Object(e.h)("a",{className:f.mention,target:"_blank",rel:"noreferrer",href:Object(l.getMentionsUrl)(H,F,M,C),"data-attrs":JSON.stringify({name:M,id:F,type:H,url:C,photo_url:T,uuid:S})},D!=null?D:M)};var b=n.default=y;const E={},P=(M,...F)=>j(void 0,[M,...F],function*(H,{pathname:C="/api/v1/posts/mention"}={}){if(E[H])return E[H];const T=yield o.a.get(C).query({query:H}),{profiles:S,publications:D}=T.body,w=new Map;return S&&S.length&&w.set("Writers",S.map(U=>v(h({},U),{type:"user"}))),D&&D.length&&w.set("Publications",D==null?void 0:D.map(U=>v(h({},U),{type:"pub",url:Object(l.getPublicationAppLinkUrl)({subdomain:U.subdomain}),photo_url:U.logo_url}))),E[H]=w,w}),A={},_=(M,...F)=>j(void 0,[M,...F],function*(H,{pathname:C="/api/v1/community/mention"}={}){const T=`${C}-${H}`;if(A[T])return A[T];const S=yield o.a.get(C).query({query:H}),{results:D}=S.body,w=new Map;return D&&w.set("Writers",D.map(U=>v(h({},U),{type:"user",id:U.user_id}))),A[T]=w,w})},function(k,n,t){"use strict";t.d(n,"a",function(){return i});var e=t(0),a=t(444),o=t(26),l=t(9),d=t.n(l),c=Object.defineProperty,u=Object.defineProperties,f=Object.getOwnPropertyDescriptors,m=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,O=(h,v,j)=>v in h?c(h,v,{enumerable:!0,configurable:!0,writable:!0,value:j}):h[v]=j,s=(h,v)=>{for(var j in v||(v={}))p.call(v,j)&&O(h,j,v[j]);if(m)for(var j of m(v))g.call(v,j)&&O(h,j,v[j]);return h},r=(h,v)=>u(h,f(v));function i(){const h=Object(o.e)();return v=>{Object(l.copyToClipboard)(v),h.popToast(j=>Object(e.h)(o.c,r(s({},j),{text:"Link copied",Icon:a.a})))}}},function(k,n,t){"use strict";t.r(n),t.d(n,"FeedPage",function(){return mt}),t.d(n,"FeedItem",function(){return Gt}),t.d(n,"FeedCommentBody",function(){return tt}),t.d(n,"FeedProvider",function(){return $r}),t.d(n,"LotsOfNotes",function(){return L});var e=t(0),a=t(3),o=t(1),l=t(5),d=t.n(l),c=t(97),u=t.n(c),f=t(208),m=t.n(f),p=t(280),g=t.n(p),O=t(223),s=t.n(O),r=t(445),i=t(838),h=t(857),v=t(830),j=t(831),y=t(851),b=t(832),E=t(849),P=t(794),A=t(833),_=t(840),M=t(858),F=t(564),H=t(562),C=t(42);const T="pub-",S=/pub-(?<publicationIdString>\d+)/;function D(ee,{hasActiveFeedSubscribers:ae}={}){return ee?(ee==null?void 0:ee.is_global_admin)||(ee==null?void 0:ee.release_group)==="employee"?[C.b.ForYouQualityScore,C.b.ForYou,C.b.Subscribed,C.b.Subscribers,C.b.Writers,C.b.Everyone,C.b.FirstNote]:ae?[C.b.ForYou,C.b.Subscribed,C.b.Subscribers]:[C.b.ForYou,C.b.Subscribed]:[C.b.Substack]}function w(ee,{isFeedPromotedUser:ae}={}){return D(ee,{isFeedPromotedUser:ae})[0]}function U(ee,ae,{isFeedPromotedUser:ve}={}){const Re=ae&&S.exec(ae);return Re&&Re.groups?{publicationId:Number(Re.groups.publicationIdString),tab:ae}:ee?ae&&D(ee,{isFeedPromotedUser:ve,hasActiveFeedSubscribers:!0}).includes(ae)?{tab:ae}:{tab:w(ee,{isFeedPromotedUser:ve})}:{tab:C.b.Substack}}var V=t(45),K=t(4),Y=t(44),W=t(15),R=t(10),B=t(310),x=t(120),G=t(84),Q=t(160),he=t(717),Z=t(47),le=t(59),de=t(170),be=t(374),X=t(35),ie=t(25),Ce=t(148),Le=t(220),Ae=t(693),Pe=t(128),Ne=t(694),ce=t(281),q=t(335),te=t(123),ue=t(2),We=t(8),ot=t(37),ze={close:"frontend-feed-SceneNuxBanner-module__close--3AjH2",card:"frontend-feed-SceneNuxBanner-module__card--3o4RQ"};function vt({tab:ee}){const[ae,ve]=Object(te.a)("feed-scene-nux"),Re=Object(ot.a)();if(ae)return null;const $e=(ee==null?void 0:ee.label)||"this publication";return Object(e.h)(ue.b,{paddingBottom:{mobile:16,desktop:20},paddingTop:{mobile:16,desktop:0},paddingX:{mobile:16,desktop:0},borderTop:Re?"detail":void 0},Object(e.h)(ue.b,{paddingX:20,paddingY:12,gap:4,bg:"secondary",border:"detail",radius:12,shadow:"xl",className:ze.card},Object(e.h)(We.b.B4,{weight:"semibold"},"What is this tab?"),Object(e.h)(We.b.B4,{color:"secondary"},`This tab features notes from ${Object(R.possessive)($e)} writers and paying subscribers. Free subscribers can read
          every note and reply, but only paying subscribers can have their own notes show up.`)))}var Wt=t(80),zt=t(375),at=t(18),Me=t(14),Be=t(32),Xe=t(405);function Te(){const[ee,ae]=Object(o.l)(!1);return Object(o.d)(()=>{const ve=new URL(location.toString());ve.searchParams.get("action")==="twitter-success"&&(ve.searchParams.delete("action"),history.replaceState({},"",ve),ae(!0))},[]),ee?Object(e.h)(we,null):null}function we(){const[ee,ae]=Object(o.l)(!1),ve=()=>ae(!1),{result:Re,isLoading:$e,error:bt}=De();return Object(o.d)(()=>{Re&&Re.length>0&&ae(!0)},[Re]),Object(e.h)(Be.a,{isOpen:ee,onClose:ve},Object(e.h)(Be.d,{includeClose:!0,onClose:ve}),Object(e.h)(ue.b,null,bt?"Error":!Re||$e?"Loading":Object(e.h)(e.Fragment,null,Object(e.h)(ue.b,{gap:4,alignItems:"center",paddingBottom:24,paddingTop:16},Object(e.h)(We.b.H2,null,"Subscribe to people you know"),Object(e.h)(We.b.B3,{size:16,color:"secondary"},Re.length===1?"We found one person you follow on Twitter.":`We found ${Re.length} people you follow on Twitter.`)),Object(e.h)(Xe.a,{suggestions:Re,secondaryButton:Object(e.h)(Me.a,{priority:"secondary",onClick:ve},"Done"),onSuccess:()=>location.reload(),source:"feed-twitter-suggestions"}))))}function De(){return Object(at.f)({pathname:"/api/v1/reader/feed/twitter-suggestions",auto:!0})}var Ie=t(88),He=t(221),Ve=t(400),z=t(7),se=Math.pow,Se=(ee,ae,ve)=>new Promise((Re,$e)=>{var bt=pn=>{try{dn(ve.next(pn))}catch(jn){$e(jn)}},Ut=pn=>{try{dn(ve.throw(pn))}catch(jn){$e(jn)}},dn=pn=>pn.done?Re(pn.value):Promise.resolve(pn.value).then(bt,Ut);dn((ve=ve.apply(ee,ae)).next())});const Oe=(ee,ae)=>{const ve=Object(o.k)(()=>!0);Object(o.d)(()=>{ve.current=ee},[ee]),Object(o.d)(()=>{if(!ae)return;let Re=!1,$e=0,bt;function Ut(){return Se(this,null,function*(){clearTimeout(bt),(yield ve.current())?$e=0:$e++,!Re&&ae&&(bt=setTimeout(Ut,ae($e)))})}return bt=setTimeout(Ut,ae($e)),()=>{Re=!0,clearTimeout(bt)}},[ae])},ge=(ee,ae,ve,{base:Re=2}={})=>{const $e=Object(o.a)(bt=>Math.min(ae*se(Re,bt),ve),[ae,ve,Re]);Oe(ee,$e)};var je=t(364),it=t(158),Tt=t(113),sn=t(188),ht=t(9),Nt=t(406),wt=t(300),yt=t(124),Qe=t(205);function At({text:ee,icon:ae}){const ve=Object(ot.a)(),{layerProps:Re,triggerProps:$e,transitionProps:bt,renderLayer:Ut,shouldShow:dn}=Object(Qe.b)();return{triggerProps:ve||!ee?null:$e,layer:dn&&Ut(Object(e.h)(yt.b,{transitionProps:bt,tooltipProps:Re,text:ee,icon:ae}))}}var jt=t(23),ke=t(143),tn=t(26),Pn=t(77),Ft=t(138),lt=t(526),Rt=t(48),ln=t(66),Mt=t(228),$t=t(398),nn=t(68),Bt=t(60);function Kt({size:ee,className:ae}){return Object(e.h)("svg",{className:ae,width:ee,height:ee,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object(e.h)("path",{d:"M5.57617 11.7466C5.80176 11.7466 5.98975 11.6714 6.14014 11.521C6.29053 11.3742 6.36572 11.188 6.36572 10.9624V9.11475H6.48389C7.1141 9.11475 7.66553 9.18636 8.13818 9.32959C8.61084 9.46924 9.02262 9.69124 9.37354 9.99561C9.72445 10.2964 10.0306 10.6903 10.292 11.1772C10.4066 11.3885 10.5319 11.5299 10.668 11.6016C10.804 11.6732 10.9508 11.709 11.1084 11.709C11.3232 11.709 11.4987 11.6069 11.6348 11.4028C11.7708 11.1987 11.8389 10.8944 11.8389 10.4897C11.8389 9.52653 11.7297 8.66357 11.5112 7.90088C11.2928 7.13818 10.9616 6.49007 10.5176 5.95654C10.0771 5.41943 9.52035 5.01123 8.84717 4.73193C8.17757 4.44906 7.38981 4.30762 6.48389 4.30762H6.36572V2.45459C6.36572 2.23258 6.29053 2.0446 6.14014 1.89062C5.98975 1.73307 5.79997 1.6543 5.5708 1.6543C5.42041 1.6543 5.28255 1.68652 5.15723 1.75098C5.03548 1.81543 4.89225 1.92285 4.72754 2.07324L0.462891 6.03711C0.355469 6.13737 0.278483 6.24658 0.231934 6.36475C0.185384 6.47933 0.162109 6.59033 0.162109 6.69775C0.162109 6.8016 0.185384 6.9126 0.231934 7.03076C0.282064 7.14893 0.359049 7.25814 0.462891 7.3584L4.72754 11.3491C4.87435 11.4888 5.014 11.589 5.14648 11.6499C5.27897 11.7144 5.4222 11.7466 5.57617 11.7466Z"}))}function Sn({size:ee,className:ae}){return Object(e.h)("svg",{className:ae,width:ee,height:ee,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object(e.h)("path",{d:"M6 12C6.14187 12 6.26404 11.9527 6.3665 11.8581C6.47291 11.7635 6.53793 11.6394 6.56158 11.4857C6.66798 10.6975 6.78424 10.0355 6.91034 9.49951C7.04039 8.95961 7.20985 8.51823 7.41872 8.17537C7.62759 7.82857 7.90148 7.55271 8.24039 7.34778C8.57931 7.14286 9.01084 6.98325 9.53497 6.86897C10.0631 6.75074 10.7094 6.64828 11.4739 6.56158C11.6236 6.54581 11.7478 6.48473 11.8463 6.37832C11.9488 6.27192 12 6.14581 12 6C12 5.85419 11.9488 5.72808 11.8463 5.62167C11.7478 5.51527 11.6236 5.45222 11.4739 5.43251C10.7133 5.34187 10.0709 5.23744 9.5468 5.11921C9.02266 5.00098 8.59113 4.84138 8.25222 4.64039C7.9133 4.43547 7.63941 4.16158 7.43054 3.81872C7.22562 3.47192 7.05813 3.03054 6.92808 2.49458C6.79803 1.95862 6.67586 1.29655 6.56158 0.508374C6.53399 0.35468 6.46897 0.232512 6.3665 0.141872C6.26404 0.0472906 6.14187 0 6 0C5.85813 0 5.73399 0.0472906 5.62759 0.141872C5.52512 0.236453 5.46207 0.358621 5.43842 0.508374C5.33202 1.29655 5.21379 1.96059 5.08374 2.50049C4.95764 3.04039 4.79015 3.48374 4.58128 3.83054C4.37241 4.1734 4.09655 4.44729 3.75369 4.65222C3.41478 4.85714 2.98325 5.01872 2.45911 5.13695C1.93892 5.25123 1.29655 5.34975 0.53202 5.43251C0.374384 5.45222 0.246305 5.51527 0.147783 5.62167C0.0492611 5.72808 0 5.85419 0 6C0 6.14581 0.0492611 6.27192 0.147783 6.37832C0.246305 6.48473 0.372414 6.54581 0.526108 6.56158C1.16453 6.64828 1.71626 6.74089 2.18128 6.83941C2.64631 6.93793 3.04236 7.05813 3.36946 7.2C3.70049 7.34187 3.97635 7.52512 4.19704 7.74975C4.42167 7.97044 4.6069 8.24631 4.75271 8.57734C4.90246 8.90837 5.02857 9.31231 5.13103 9.78916C5.23744 10.266 5.3399 10.8335 5.43842 11.4916C5.46601 11.6414 5.53103 11.7635 5.6335 11.8581C5.73596 11.9527 5.85813 12 6 12Z"}))}function Qn({size:ee,className:ae}){return Object(e.h)("svg",{className:ae,width:ee,height:ee,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object(e.h)("path",{d:"M6.00293 12.2002C6.08891 12.2002 6.18857 12.1712 6.30191 12.1132C6.41915 12.059 6.53053 11.9971 6.63605 11.9275C7.72252 11.2313 8.66634 10.5003 9.46751 9.73448C10.2726 8.96479 10.8959 8.17382 11.3376 7.36159C11.7792 6.54548 12 5.72358 12 4.89587C12 4.34664 11.9101 3.84576 11.7303 3.39323C11.5506 2.9407 11.3043 2.55005 10.9917 2.22129C10.679 1.89253 10.3156 1.64112 9.90132 1.46707C9.48705 1.28915 9.04348 1.2002 8.57059 1.2002C7.98437 1.2002 7.47435 1.34717 7.04055 1.64112C6.60674 1.93121 6.26087 2.31412 6.00293 2.78986C5.74108 2.31799 5.39326 1.93508 4.95945 1.64112C4.52956 1.34717 4.01954 1.2002 3.42941 1.2002C2.95652 1.2002 2.51295 1.28915 2.09868 1.46707C1.68832 1.64112 1.32487 1.89253 1.0083 2.22129C0.691744 2.55005 0.443576 2.9407 0.263801 3.39323C0.0879336 3.84576 0 4.34664 0 4.89587C0 5.72358 0.220811 6.54548 0.662433 7.36159C1.10405 8.17382 1.72741 8.96479 2.53249 9.73448C3.33757 10.5003 4.28139 11.2313 5.36395 11.9275C5.47338 11.9971 5.58476 12.059 5.69809 12.1132C5.81534 12.1712 5.91695 12.2002 6.00293 12.2002Z"}))}function rr({size:ee,className:ae}){return Object(e.h)("svg",{className:ae,width:ee,height:ee,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object(e.h)("path",{d:"M5.73259 12C6.48612 12 7.16981 11.8807 7.78366 11.6421C8.39751 11.4035 8.92682 11.0637 9.37159 10.6227C9.81636 10.1853 10.1564 9.66109 10.3916 9.05016C10.6305 8.43561 10.75 7.75599 10.75 7.0113C10.75 6.18708 10.6397 5.44239 10.4192 4.77723C10.2023 4.10845 9.90458 3.51559 9.52597 2.99864C9.14737 2.4817 8.71363 2.03344 8.22475 1.65386C7.73955 1.27429 7.22495 0.963398 6.68093 0.721193C6.13692 0.475373 5.59107 0.294623 5.04338 0.178943C4.4957 0.0596475 3.97741 0 3.48854 0C3.18713 0 2.94453 0.05784 2.76074 0.17352C2.58062 0.285585 2.49057 0.44826 2.49057 0.661545C2.49057 0.74469 2.50711 0.829643 2.54019 0.916403C2.57695 0.999548 2.62841 1.07908 2.69457 1.15499C2.92615 1.42973 3.14118 1.7099 3.33967 1.99548C3.53816 2.28107 3.69806 2.5775 3.81936 2.88477C3.94433 3.18843 4.00866 3.51197 4.01233 3.8554C4.01233 3.94578 4.00314 4.03434 3.98476 4.1211C3.97006 4.20786 3.93147 4.30728 3.86898 4.41934L4.10607 4.35969C3.99579 4.06688 3.86163 3.82287 3.70357 3.62765C3.54919 3.43244 3.3801 3.28604 3.19631 3.18843C3.01253 3.08721 2.83241 3.0366 2.65598 3.0366C2.51262 3.0366 2.39684 3.08179 2.30862 3.17216C2.2204 3.26254 2.17629 3.38545 2.17629 3.54089C2.17629 3.63127 2.18364 3.74333 2.19835 3.87709C2.21305 4.00723 2.2204 4.1446 2.2204 4.2892C2.2204 4.54225 2.18732 4.77542 2.12115 4.9887C2.05867 5.19837 1.9778 5.40804 1.87855 5.61771C1.78299 5.82738 1.68742 6.05151 1.59185 6.2901C1.49628 6.52869 1.41541 6.80163 1.34925 7.1089C1.28308 7.41256 1.25 7.76683 1.25 8.17171C1.25 8.93809 1.43563 9.60868 1.80688 10.1835C2.1818 10.7546 2.7056 11.1993 3.37826 11.5174C4.05093 11.8391 4.8357 12 5.73259 12ZM5.87043 10.2214C5.3595 10.2214 4.94781 10.084 4.63537 9.80931C4.32293 9.53095 4.16671 9.16765 4.16671 8.71939C4.16671 8.48803 4.20163 8.2892 4.27147 8.12291C4.34131 7.95662 4.42218 7.8066 4.51407 7.67284C4.60597 7.53547 4.69051 7.39991 4.7677 7.26615C4.84857 7.1324 4.89819 6.98057 4.91657 6.81066C4.92025 6.7709 4.93679 6.74559 4.96619 6.73475C4.99927 6.72029 5.03419 6.72752 5.07095 6.75644C5.18858 6.8685 5.28782 6.99322 5.36869 7.13059C5.45323 7.26435 5.52675 7.41256 5.58923 7.57524C5.72891 7.35472 5.81897 7.06733 5.8594 6.71306C5.90351 6.35879 5.89984 5.97921 5.84837 5.57433C5.83735 5.52734 5.84654 5.4948 5.87594 5.47673C5.90535 5.45504 5.94027 5.45323 5.9807 5.47131C6.37768 5.64483 6.71034 5.8798 6.97867 6.17623C7.25068 6.46905 7.45652 6.7944 7.5962 7.15228C7.73588 7.51017 7.80572 7.87167 7.80572 8.23678C7.80572 8.6019 7.7322 8.93448 7.58517 9.23452C7.43814 9.53457 7.22127 9.77497 6.93456 9.95572C6.64785 10.1329 6.29314 10.2214 5.87043 10.2214Z"}))}function Mr({size:ee,className:ae}){return Object(e.h)("svg",{className:ae,width:ee,height:ee,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object(e.h)("path",{d:"M1.60574 12.7001H2.38973C2.74924 12.7001 3.02417 12.58 3.2145 12.3397C3.40483 12.1032 3.5 11.766 3.5 11.328V8.07221C3.5 7.6381 3.40483 7.30089 3.2145 7.06058C3.02417 6.82027 2.74924 6.70012 2.38973 6.70012H1.60574C1.24924 6.70012 0.975831 6.82027 0.785498 7.06058C0.595166 7.30089 0.5 7.64004 0.5 8.07802V11.328C0.5 11.766 0.595166 12.1032 0.785498 12.3397C0.975831 12.58 1.24924 12.7001 1.60574 12.7001ZM5.64804 12.7001H6.39426C6.75076 12.7001 7.02417 12.58 7.2145 12.3397C7.40483 12.1032 7.5 11.766 7.5 11.328V5.07221C7.5 4.6381 7.40483 4.30089 7.2145 4.06058C7.02417 3.82027 6.75076 3.70012 6.39426 3.70012H5.64804C5.29154 3.70012 5.01813 3.82027 4.8278 4.06058C4.63746 4.30089 4.5423 4.64004 4.5423 5.07802V11.328C4.5423 11.766 4.63746 12.1032 4.8278 12.3397C5.01813 12.58 5.29154 12.7001 5.64804 12.7001ZM9.60121 12.7001H10.3897C10.7462 12.7001 11.0196 12.58 11.21 12.3397C11.4033 12.1032 11.5 11.766 11.5 11.328V2.07229C11.5 1.6343 11.4033 1.29709 11.21 1.06066C11.0196 0.82035 10.7462 0.700195 10.3897 0.700195H9.60121C9.24773 0.700195 8.97583 0.82035 8.7855 1.06066C8.59517 1.29709 8.5 1.6343 8.5 2.07229V11.328C8.5 11.766 8.59517 12.1032 8.7855 12.3397C8.97583 12.58 9.24773 12.7001 9.60121 12.7001Z"}))}function zr({size:ee,className:ae}){return Object(e.h)("svg",{className:ae,width:ee,height:ee,fill:"none",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.0002 0.200195C10.442 0.200195 10.8002 0.558368 10.8002 1.0002V4.0002C10.8002 4.44202 10.442 4.8002 10.0002 4.8002H7.00019C6.55837 4.8002 6.20019 4.44202 6.20019 4.0002C6.20019 3.55837 6.55837 3.2002 7.00019 3.2002H7.91434C7.39165 2.75016 6.75316 2.45487 6.07076 2.34836C5.36533 2.23826 4.64311 2.33461 3.99121 2.62579C3.33932 2.91697 2.78559 3.39054 2.39682 3.98939C2.15624 4.35997 1.66079 4.46536 1.29021 4.22477C0.919626 3.98419 0.81424 3.48874 1.05482 3.11816C1.61171 2.26036 2.40489 1.582 3.33868 1.1649C4.27248 0.747807 5.30701 0.60979 6.31749 0.7675C7.32797 0.92521 8.27124 1.37191 9.03353 2.05372L9.03541 2.0554L9.20019 2.20374V1.0002C9.20019 0.558368 9.55837 0.200195 10.0002 0.200195ZM0.200195 8.0002C0.200195 7.55837 0.558368 7.2002 1.0002 7.2002H4.00019C4.44202 7.2002 4.80019 7.55837 4.80019 8.0002C4.80019 8.44202 4.44202 8.8002 4.00019 8.8002H3.08627C3.60892 9.25012 4.24733 9.54535 4.92963 9.65184C5.63506 9.76194 6.35728 9.66559 7.00917 9.37441C7.66107 9.08323 8.2148 8.60965 8.60357 8.01081C8.84415 7.64023 9.3396 7.53484 9.71018 7.77543C10.0808 8.01601 10.1862 8.51146 9.94557 8.88204C9.38868 9.73984 8.5955 10.4182 7.66171 10.8353C6.72791 11.2524 5.69338 11.3904 4.6829 11.2327C3.67242 11.075 2.72915 10.6283 1.96686 9.94648L1.96502 9.94483L1.8002 9.79649V11.0002C1.8002 11.442 1.44202 11.8002 1.0002 11.8002C0.558368 11.8002 0.200195 11.442 0.200195 11.0002V8.0002Z"}))}function dr({size:ee,className:ae}){return Object(e.h)("svg",{className:ae,width:ee,height:ee,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object(e.h)("path",{d:"M2.30172 11.423C2.43901 11.5215 2.59037 11.5572 2.75582 11.53C2.92478 11.5028 3.10255 11.423 3.28912 11.2905L5.99784 9.3694L8.71185 11.2905C8.89841 11.423 9.07442 11.5028 9.23986 11.53C9.40883 11.5572 9.56195 11.5215 9.69924 11.423C9.833 11.3245 9.91396 11.1937 9.94212 11.0306C9.97029 10.871 9.9474 10.6858 9.87348 10.4752L8.80161 7.40241L11.5367 5.51187C11.7268 5.37937 11.8588 5.24179 11.9327 5.09911C12.0102 4.95303 12.0208 4.80185 11.9644 4.64558C11.9116 4.4927 11.8113 4.3789 11.6635 4.30416C11.5156 4.22942 11.3238 4.19375 11.0879 4.19715L7.73502 4.21753L6.71594 1.12437C6.64554 0.910346 6.5505 0.74728 6.43081 0.635172C6.31113 0.519667 6.16681 0.461914 5.99784 0.461914C5.8324 0.461914 5.68983 0.519667 5.57015 0.635172C5.45046 0.74728 5.35542 0.910346 5.28502 1.12437L4.26595 4.21753L0.907761 4.19715C0.675433 4.19375 0.485347 4.22942 0.337503 4.30416C0.189658 4.3789 0.0893347 4.4927 0.036533 4.64558C-0.0197887 4.80185 -0.0109885 4.95303 0.0629339 5.09911C0.140376 5.24179 0.274141 5.37937 0.464227 5.51187L3.19935 7.40241L2.12748 10.4752C2.05356 10.6858 2.03068 10.871 2.05884 11.0306C2.087 11.1937 2.16796 11.3245 2.30172 11.423Z"}))}var Rr=t(846),_r=t(503),ro=t.n(_r),Dn=t(719),ut=t(11),fn=t(404),On=t(99),Ot=t(19),kt=t(159),Zt={personYouMayKnow:"frontend-reader2-FeedSidebar-module__personYouMayKnow--34a_4",personYouMayKnowFeed:"frontend-reader2-FeedSidebar-module__personYouMayKnowFeed--3cFku",personYouMayKnowInfo:"frontend-reader2-FeedSidebar-module__personYouMayKnowInfo--35nBd",personYouMayKnowFeedButton:"frontend-reader2-FeedSidebar-module__personYouMayKnowFeedButton--9mBVR",personYouMayKnowImage:"frontend-reader2-FeedSidebar-module__personYouMayKnowImage--23JdN",shareProfile:"frontend-reader2-FeedSidebar-module__shareProfile--2GxOa",avatarContainer:"frontend-reader2-FeedSidebar-module__avatarContainer--SKPx5",close:"frontend-reader2-FeedSidebar-module__close--3SN4p",badge:"frontend-reader2-FeedSidebar-module__badge--1-exr",badgeIcon:"frontend-reader2-FeedSidebar-module__badgeIcon--14prS",card:"frontend-reader2-FeedSidebar-module__card--1mEpo",cardTop:"frontend-reader2-FeedSidebar-module__cardTop--N0OWe",cardBottom:"frontend-reader2-FeedSidebar-module__cardBottom--tbUaw",cardAvatar:"frontend-reader2-FeedSidebar-module__cardAvatar--eq2bz",fakeButton:"frontend-reader2-FeedSidebar-module__fakeButton--1jnYP",cardOverlay:"frontend-reader2-FeedSidebar-module__cardOverlay--32REh",cardUrl:"frontend-reader2-FeedSidebar-module__cardUrl--2pVz7"};const Vn="inviteFriendsNuxDismissed",Gn="sidebarInviteFriendsNuxDismissed";function tr(){const ee=Object(X.c)(),{user:ae}=Object(ie.d)(),[ve]=Object(te.a)(Gn),Re=ee.getConfigFor("twitter_connect_flows_enabled")&&ae&&!ae.has_linked_twitter,$e=ae&&!ve;return Object(e.h)(Ot.G,null,Object(e.h)(Ot.H,{paddingX:0,gap:0},$e&&Object(e.h)(e.Fragment,null,Object(e.h)(Jt,{utmSource:"feed_sidebar"}),Object(e.h)(On.a,{paddingX:8,paddingY:8})),Object(e.h)(rn,null),Re&&Object(e.h)(e.Fragment,null,Object(e.h)(cr,null),Object(e.h)(On.a,{paddingX:8,paddingY:8}))))}function rn(){var ee,ae;const ve=Object(at.f)({pathname:"/api/v1/reader/feed/sidebar-user-suggestions",auto:!0}),Re=Object(Bt.f)();return!ve.isLoading&&!((ee=ve.result)==null?void 0:ee.suggestions.length)?null:Object(e.h)(ut.o,{gap:4},Object(e.h)(Ot.I,null,Object(e.h)(ut.D.H4,null,"Suggestions"),Object(e.h)(ut.d,{priority:"secondary",fill:"empty",onClick:$e=>Object(it.a)($e,Object(Y.l)())},"See all")),Object(e.h)(ut.o,{gap:8},ve.isLoading?g()(5,()=>Object(e.h)(Yn,null)):(ae=ve.result)==null?void 0:ae.suggestions.map($e=>Object(e.h)(_n,{feedUserSuggestion:$e,surface:C.a.FeedSidebar}))),Object(e.h)(On.a,{paddingX:8,paddingY:8}))}function _n({feedUserSuggestion:ee,surface:ae}){var ve,Re,$e,bt;const Ut=Object(o.k)(null),dn=Object(kt.a)({user:ee.user,publicationId:(ve=ee.publication)==null?void 0:ve.id,publicationName:(Re=ee.publication)==null?void 0:Re.name,allowSecondaryPublications:!1,allowPresubscribe:!0,subscriptionSource:ae===C.a.Feed?"notes_feed_item_suggestions":ae===C.a.Suggestions?"notes_full_page_suggestions":"notes_sidebar_suggestions"}),pn=ae===C.a.Feed?"pymk_notes_feed_item":ae===C.a.Suggestions?"pymk_notes_suggestions_page":"pymk_notes_sidebar";Object(sn.a)(Ut,()=>Object(nn.f)(ee,ae));const[jn,Nn]=Object(o.l)(!1),Xn=Kr=>{jn||(Nn(!0),Object(nn.e)(ee,ae,Kr))},Lr=Kr=>{Xn("user-suggestion"),Object(ht.redirect)(Object(W.getReaderProfileUrl)(ee.user,{utm_source:pn}),{event:Kr})},Wr=Kr=>{Xn("user-suggestion-cta"),dn.isSubscribed?dn.unsubscribe(Kr):dn.subscribe(Kr)};return dn.showCta?ae===C.a.Feed?Object(e.h)(ut.o,{ref:Ut,className:d()(Zt.personYouMayKnow,Zt.personYouMayKnowFeed),border:"detail",alignItems:"center",padding:12,gap:12,onClick:Lr},Object(e.h)(Rt.b,{user:ee.user,pub:ee.publication,size:40}),Object(e.h)(ut.o,{className:Zt.personYouMayKnowInfo,alignItems:"center",minWidth:0},Object(e.h)(ut.D.B4,{className:Zt.personYouMayKnowInfo,align:"center",weight:"bold",ellipsis:!0},ee.user.name),Object(e.h)(ut.D.B4,{className:Zt.personYouMayKnowInfo,align:"center",color:"secondary",ellipsis:!0},ee.source==="twitter"?"From Twitter":ee.publication?`${ee.publication.name}`:($e=ee.user.bio)!=null?$e:"")),Object(e.h)(ut.d,{className:Zt.personYouMayKnowFeedButton,priority:dn.isSubscribed?"secondary":"primary",fill:"filled",onClick:Wr,grow:!0},dn.isSubscribed?"Subscribed":"Subscribe")):Object(e.h)(le.b,{subject:ee.user,utmSource:pn},Object(e.h)(ut.n,{ref:Ut,className:Zt.personYouMayKnow,alignItems:"center",justifyContent:"space-between",padding:8,onClick:Lr},Object(e.h)(ut.n,{gap:12,minWidth:0},Object(e.h)(Rt.b,{user:ee.user,pub:ee.publication,size:40}),Object(e.h)(ut.o,{minWidth:0},Object(e.h)(ut.D.B4,{weight:"bold",ellipsis:!0},ee.user.name),Object(e.h)(ut.D.B4,{color:"secondary",ellipsis:!0},ee.source==="twitter"?"From Twitter":ee.publication?`Writes ${ee.publication.name}`:(bt=ee.user.bio)!=null?bt:""))),Object(e.h)(ut.d,{priority:dn.isSubscribed?"secondary":"primary",fill:ae===C.a.Suggestions?"outline":"empty",onClick:Wr},dn.isSubscribed?"Subscribed":"Subscribe"))):null}function Yn(){return Object(e.h)(ut.n,{className:Zt.personYouMayKnow,alignItems:"center",padding:12,gap:12},Object(e.h)(Ot.B,{type:"circle",className:Zt.personYouMayKnowImage}),Object(e.h)(ut.o,{style:{width:"100%"},gap:2},Object(e.h)(Ot.B,{type:"bar",width:"100%",height:19}),Object(e.h)(Ot.B,{type:"bar",width:"100%",height:19})))}function cr(){return Object(e.h)(ut.o,{alignItems:"center",gap:12,paddingX:32,paddingY:8},Object(e.h)(Rr.a,{size:32,fill:"var(--color-accent-twitter)",stroke:"none"}),Object(e.h)(ut.o,{alignItems:"center",gap:6},Object(e.h)(ut.D.H4,null,"Find people you know"),Object(e.h)(ut.D.B4,{align:"center",color:"secondary"},"Connect Twitter to see what the people you follow are reading.")),Object(e.h)(ut.d,{priority:"primary",href:Object(K.getConnectTwitterUrl)({type:"reader2",redirect:Y.a}),localNavigation:!1,style:{backgroundColor:"var(--color-accent-twitter)"},rounded:!0},"Connect Twitter"))}function Jt({utmSource:ee}){const[ae,ve]=Object(o.l)(!1),[Re,$e]=Object(o.l)(!1),{user:bt,changeSetting:Ut}=Object(ie.d)(),[,dn]=Object(te.a)(Vn),[,pn]=Object(te.a)(Gn),jn=`/img/profile_cards/card-bg-${Math.ceil((bt==null?void 0:bt.id)?bt.id%9+1:Math.random()*8)}.png`;if(!bt)return null;const Nn=Object(W.getReaderProfileUrl)(bt,{utm_source:ee}),Xn=()=>{Ut("invite_friends_nux_dismissed_at",new Date().toISOString()),dn()},Lr=()=>{Xn(),pn()},Wr=()=>{ve(!1),Re&&Xn()},Kr=()=>{ve(!0),Object(z.i)(z.a.INVITE_FRIENDS_MODAL_SHOWN,{source:ee})};return Object(e.h)(e.Fragment,null,Object(e.h)(ut.o,null,Object(e.h)(ut.o,{alignItems:"center",gap:12,padding:32,className:Zt.shareProfile},Object(e.h)(fn.a,{className:Zt.close,onClick:Lr}),Object(e.h)(ut.o,{className:Zt.avatarContainer},Object(e.h)(Rt.a,{user:bt,size:48}),Object(e.h)(ut.n,{className:Zt.badge,padding:4},Object(e.h)(Dn.ReplyIcon,{className:Zt.badgeIcon,size:12}))),Object(e.h)(ut.o,{alignItems:"center",gap:6},Object(e.h)(ut.D.H4,null,"Invite your friends"),Object(e.h)(ut.D.B4,{align:"center",color:"secondary"},"Share your profile to help your friends find you on Notes.")),Object(e.h)(ut.d,{priority:"primary",onClick:Kr,rounded:!0},"Invite friends"))),Object(e.h)(ut.v,{isOpen:ae,onClose:Wr,width:480,overflow:"hidden"},Object(e.h)(ut.y,{includeClose:!0,onClose:Wr}),Object(e.h)(ut.o,{paddingX:32,paddingTop:16,paddingBottom:24,gap:20},Object(e.h)(ut.o,{alignItems:"center",gap:8},Object(e.h)(ut.D.H2,{weight:"semibold"},"Invite your friends"),Object(e.h)(ut.D.B3,{align:"center",color:"secondary"},"Share your Substack profile to help friends and followers find you on Notes.")),Object(e.h)(ut.o,{justifyContent:"center",alignItems:"center",border:"detail",radius:12,shadow:"lg",className:Zt.card},Object(e.h)(ut.o,{flex:"grow",className:Zt.cardTop},Object(e.h)("img",{className:Zt.cardOverlay,src:Object(W.cloudinary)(jn,800)})),Object(e.h)(ut.o,{flex:"grow",alignSelf:"stretch",className:Zt.cardBottom,gap:16,paddingX:20,paddingBottom:20,paddingTop:0},Object(e.h)(ut.n,{justifyContent:"space-between",alignItems:"end"},Object(e.h)(Rt.a,{user:bt,size:112,className:Zt.cardAvatar}),Object(e.h)(ut.d,{priority:"primary",fill:"outline",className:Zt.fakeButton},"Subscribe")),Object(e.h)(ut.o,{flex:"grow",gap:8},Object(e.h)(ut.D.H3,null,bt.name),bt.bio&&Object(e.h)(ut.D.B4,null,bt.bio),Object(e.h)(ut.D.Meta,{className:Zt.cardUrl},Nn.replace(/^(http|https):\/\//,"").replace(/\?.*$/,""))))),Object(e.h)(ut.D.Meta,{align:"center"},"Share via"),Object(e.h)(ce.c,{shareUrl:Nn,shareEventType:"profile",shareText:"Subscribe to me on Substack Notes!",itemKey:bt.id,onShare:()=>{$e(!0)}}))))}function cn({url:ee}){const ae=Object(o.k)();return Object(o.d)(()=>{const{current:ve}=ae;ve&&ro.a.toCanvas(ve,ee,{width:180,margin:2})},[]),Object(e.h)("canvas",{ref:ae})}var bn=t(106),zn=t(698),Rn=t(91),xn=t(90),mr=t(295),Or=t(550),Lt=t(62),qt=t(373),wn=t(186),$n=t(224),Wn=t(79),Jn=t(24),Tr=Object.defineProperty,Qr=Object.defineProperties,ao=Object.getOwnPropertyDescriptors,oo=Object.getOwnPropertySymbols,eo=Object.prototype.hasOwnProperty,bo=Object.prototype.propertyIsEnumerable,zo=(ee,ae,ve)=>ae in ee?Tr(ee,ae,{enumerable:!0,configurable:!0,writable:!0,value:ve}):ee[ae]=ve,Eo=(ee,ae)=>{for(var ve in ae||(ae={}))eo.call(ae,ve)&&zo(ee,ve,ae[ve]);if(oo)for(var ve of oo(ae))bo.call(ae,ve)&&zo(ee,ve,ae[ve]);return ee},Co=(ee,ae)=>Qr(ee,ao(ae)),Mo=(ee,ae)=>{var ve={};for(var Re in ee)eo.call(ee,Re)&&ae.indexOf(Re)<0&&(ve[Re]=ee[Re]);if(ee!=null&&oo)for(var Re of oo(ee))ae.indexOf(Re)<0&&bo.call(ee,Re)&&(ve[Re]=ee[Re]);return ve},ft=(ee,ae,ve)=>new Promise((Re,$e)=>{var bt=pn=>{try{dn(ve.next(pn))}catch(jn){$e(jn)}},Ut=pn=>{try{dn(ve.throw(pn))}catch(jn){$e(jn)}},dn=pn=>pn.done?Re(pn.value):Promise.resolve(pn.value).then(bt,Ut);dn((ve=ve.apply(ee,ae)).next())});const qe="Notes",rt="Note";function mt({initialItem:ee}){const ae=Object(ie.c)(),ve=Object(ie.e)(),Re=Object(ot.a)(),[$e]=Object(Tt.a)(),bt=Object(o.i)(()=>Object(Y.w)($e.path),[$e.path]),[Ut,dn]=Object(Ve.a)(Bt.d,()=>ee?Object(Bt.e)(Bt.c,ee):Bt.c);return Object(o.d)(()=>{const pn=()=>ft(this,null,function*(){try{yield Object(at.c)("/api/v1/user-setting",{method:"PUT",json:{type:"last_home_tab",value_text:"feed"}})}catch(jn){}});(ve==null?void 0:ve.user_id)&&ve.last_home_tab!=="feed"&&pn()},[]),Object(e.h)($r,{surface:bt?bt.type==="postViewer"?C.a.Post:C.a.Permalink:C.a.Feed,dispatch:dn,state:Ut},Object(e.h)(Ne.a,null),Object(e.h)(un,null),Object(e.h)(Te,null),Object(e.h)(ce.a,null),!ae&&!Re&&Object(e.h)(zn.a,null))}function un(){var ee;const ae=Object(Bt.f)(),ve=Object(Bt.g)(),Re=Object(ie.c)(),{getConfigFor:$e}=Object(X.c)(),bt=Object(o.k)(0),Ut=Object(o.k)(0),dn=Object(ot.a)();typeof window!="undefined"&&window.opener&&new URL(location.toString()).searchParams.get("action")==="notify-opener"&&(window.opener.postMessage({type:"twitter-success"},location.origin),window.close());const pn=w(Re,{isFeedPromotedUser:Boolean($e("feed_promoted_user"))}),[jn,Nn]=Object(je.a)("feed-tab-v5",{tab:pn,timestamp:new Date().toISOString()}),Xn=Object(o.i)(()=>u()(jn.timestamp).add(30,"minutes").isBeforeNow()?pn:jn.tab,[jn.tab]),Lr=li=>{Nn({tab:li,timestamp:new Date().toISOString()})},{canFetchMore:Wr,lastPage:Kr,fetchMore:Zr}=Object(at.g)({pathname:"/api/v1/reader/feed",query:{userId:Object(K.getQueryItem)("userId"),tab:Xn},auto:!0,pages:ve.pages,deps:[Xn],dispatch:ae,getPageInit:({lastPage:li,init:Io})=>{var pi;const Di=(pi=li==null?void 0:li.result)==null?void 0:pi.nextCursor;return Di&&(Io.query=Co(Eo({},Io.query),{cursor:Di})),Io}}),uo=Wr&&(Kr==null?void 0:Kr.result)&&Kr.result.nextCursor!=null,{bodyRef:go}=Object($n.a)(Zr,[ve.pages],{shouldCheck:Boolean(uo),threshold:640});Object(o.d)(()=>{var li;Lr(Xn),((li=Kr==null?void 0:Kr.result)==null?void 0:li.items.length)===0&&uo&&Zr()},[Kr]);const{newFeedItems:yo,insertNewFeedItems:vo}=yr(Xn,ae),[Sr,Ro]=Object(Tt.a)(),Po=Object(o.i)(()=>Object(Y.w)(Sr.path),[Sr.path]),Yo=Sr.path==="/notes/suggestions",lo=Object(o.k)({prev:null,current:location.pathname}),No=Yo?"Suggestions":Po?rt:qe,Ko=Object(o.i)(()=>()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),{checkFocus:Qo,requireLogin:Xo}=Object(Rn.c)(No,{backAction:Yo||Po?Y.a:void 0,alwaysPinTitle:!0,onRefresh:Ko,shouldShowGetAppPill:!dn&&Boolean(Re)});Object(o.h)(()=>{if(lo.current={prev:lo.current.current,current:location.pathname},Po==null?void 0:Po.id){window.scrollTo(0,0);return}window.scrollTo(0,bt.current);const li=()=>{bt.current=window.scrollY||0};return window.addEventListener("scroll",li,{passive:!0}),()=>{window.removeEventListener("scroll",li)}},[Po==null?void 0:Po.id]),Object(o.d)(()=>{Po||(Ut.current=window.scrollY)},[Po,ve]),Object(o.h)(()=>{var li;if(Po||!["post_restack","post_delete","comment_delete","new_post","new_comment","edit_comment"].includes((li=ve.lastDispatchType)!=null?li:""))return;const Io=document.documentElement.scrollHeight;if(Ut.current!==Io&&window.scrollY>100){const pi=Io-Ut.current;window.scrollTo(0,Math.max(0,window.scrolly+pi))}Ut.current=Io},[ve,Po]),Object(o.d)(()=>{const li=Io=>{!Io.defaultPrevented&&(Po==null?void 0:Po.type)==="postViewer"&&Qo()&&Io.key==="Escape"&&(lo.current.prev?history.back():Ro(Y.a))};return window.addEventListener("keydown",li),()=>{window.removeEventListener("keydown",li)}},[Sr.path]);const mi=Object(o.i)(()=>ve.pages.map(li=>Co(Eo({},li),{result:li.result?Co(Eo({},li.result),{items:li.result.items.map(Io=>Co(Eo({},Io),{publication:"publication"in Io&&Io.publication?ve.publications.get(Io.publication.id):null,post:"post"in Io&&Io.post?ve.posts.get(Io.post.id):null,comment:"comment"in Io&&Io.comment?ve.comments.get(Io.comment.id):null,parentComments:"parentComments"in Io&&Io.parentComments?Io.parentComments.map(pi=>pi&&ve.comments.get(pi.id)||null):null}))}):null})),[ve]),si=(ee=Kr==null?void 0:Kr.result)==null?void 0:ee.banned;return Object(o.d)(()=>{si&&Object(z.i)(z.a.NOTES_BAN_PAGE_VIEWED)},[si]),si?Object(e.h)(ue.c,{paddingX:20,style:{maxWidth:500}},Object(e.h)(Ot.s,null,Object(e.h)(Ot.P,{icon:Object(e.h)(r.a,{className:"zero-icon"}),title:"You can't access notes at this time.",text:Object(e.h)(e.Fragment,null,"We've limited your access to Notes due to a potential violation of Substack's"," ",Object(e.h)("a",{href:"https://substack.com/content"},"Content Guidelines"),". If you believe this is a mistake, you can"," ",Object(e.h)("a",{href:K.USER_BAN_APPEAL_URL},"submit an appeal")," to our Trust & Safety team.")}))):Object(e.h)(Gr.Provider,{value:Xn},Object(e.h)(ue.a,{flex:"grow"},dn&&!Po&&Object(e.h)(xn.b,null),Object(e.h)(Ot.g,null,Object(e.h)(ue.a,{flex:"grow",justifyContent:"center"},Object(e.h)(zt.a,null,Object(e.h)(Ot.t,{className:Jn.a.page},Yo?Object(e.h)(yn,null):(Po==null?void 0:Po.type)==="post"?Object(e.h)(Ti,{postId:Po.id}):(Po==null?void 0:Po.type)==="comment"?Object(e.h)(qr,{commentId:Po.id}):Object(e.h)(An,{pages:mi,selectedPostInfo:Po,bodyRef:go,newFeedItems:yo,insertNewFeedItems:vo,user:Re,tab:Xn,setTab:Lr}),(Po==null?void 0:Po.type)==="postViewer"&&Po.id&&Object(e.h)(Je,{postId:Po.id,url:lo.current})))),Re&&!Yo&&Object(e.h)(Ot.J,null,Object(e.h)(tr,null)))))}function yn(){var ee,ae,ve;const Re=Object(at.g)({pathname:"/api/v1/reader/feed/user-suggestions",auto:!0,getPageInit:({lastPage:$e,init:bt})=>{var Ut;const dn=(Ut=$e==null?void 0:$e.result)==null?void 0:Ut.nextCursor;return dn&&(bt.query=Co(Eo({},bt.query),{cursor:dn})),bt}});return Object(e.h)(ue.b,{gap:12},Object(e.h)(We.b.H4,null,"Suggestions"),Object(e.h)(ue.b,null,(ee=Re.pages)==null?void 0:ee.map($e=>$e.result?$e.result.suggestions.map(bt=>Object(e.h)(_n,{feedUserSuggestion:bt,surface:C.a.Suggestions})):g()(20,()=>Object(e.h)(Yn,null)))),Re.canFetchMore&&((ve=(ae=Re.lastPage)==null?void 0:ae.result)==null?void 0:ve.nextCursor)?Object(e.h)(Me.d,{className:Jn.a.suggestionsLoadMore,onClick:()=>{Re.fetchMore()}},"Load more"):null)}function An({pages:ee,selectedPostInfo:ae,bodyRef:ve,newFeedItems:Re,insertNewFeedItems:$e,user:bt,tab:Ut,setTab:dn}){const{getConfigFor:pn}=Object(X.c)();Object(o.d)(()=>Object(nn.d)(Ut),[Ut]);const jn=Object(o.b)(Gr),Nn=Object(Wn.e)(),{hasActiveFeedSubscribers:Xn,feedPublicationTabs:Lr}=(Nn==null?void 0:Nn.result)||{},Wr=[...D(bt,{isFeedPromotedUser:Boolean(pn("feed_promoted_user")),hasActiveFeedSubscribers:Xn}).map(Zr=>({value:Zr,label:C.c[Zr]})),...(Lr||[]).map(Zr=>({label:Zr.name,value:Zr.id,icon:Zr.pub.logo_url?Object(e.h)(Lt.a,{size:24,pub:Zr.pub,className:Jn.a.tabIcon}):null}))],Kr=Wr.find(Zr=>Zr.value===Ut);return Object(e.h)(ue.b,{style:{visibility:(ae==null?void 0:ae.type)==="postViewer"?"hidden":"visible"}},Object(e.h)(ue.b,{gap:6,paddingLeft:{mobile:16,desktop:20},paddingBottom:{mobile:16,desktop:20},paddingTop:{mobile:16,desktop:0},paddingRight:0},Object(e.h)(Ot.C,{tabs:Wr,value:Ut,onChange:dn})),Ut.startsWith("pub-")&&Object(e.h)(vt,{tab:Kr}),Object(e.h)(ue.b,{padding:{mobile:16,desktop:20},borderBottom:"detail",borderTop:"detail"},Object(e.h)(xn.c,{tabId:jn})),Object(e.h)(St,{newFeedItems:Re,insertNewFeedItems:$e}),Object(e.h)(ue.b,{className:Jn.a.feed,ref:ve},ee.map(Zr=>Zr.result?Zr.result.items.map(uo=>Object(e.h)(Gt,{key:"entity_key"in uo?uo.entity_key:void 0,item:uo})):Object(e.h)(L,null)).flat()))}function Je({postId:ee,url:ae}){const[ve,Re]=Object(Tt.a)(),$e=Object(o.b)(Gr),bt=$(ee,{tabId:$e}),Ut=Object(Bt.f)(),dn=Object(Bt.g)().posts.get(ee),pn=jn=>{Ut({type:"post_load",payload:jn})};return Object(e.h)(mr.a,{post:dn,postId:ee,onClose:()=>ae.prev?history.back():Re(Y.a),onLike:bt,onLoad:pn})}function St({newFeedItems:ee,insertNewFeedItems:ae}){const ve=Object(o.k)(),Re=s()(ee.flatMap(bt=>"context"in bt?bt.context.users:[]),"id").slice(0,3),$e=()=>{window.scrollTo(0,0),ae()};return ee.length===0?null:Object(e.h)(ue.a,{ref:ve,className:Jn.a.newPillContainer,paddingTop:16,flex:"grow",alignItems:"start",justifyContent:"center"},Object(e.h)(Me.d,{className:d()(Jn.a.newPill),onClick:$e},Object(e.h)(ue.a,{gap:8,paddingLeft:8,paddingRight:12,alignItems:"center",justifyContent:"center",flex:"auto"},Object(e.h)(i.a,{size:16,strokeWidth:3,stroke:"#FFFFFF"}),Re.length>0&&Object(e.h)(ue.a,{className:Jn.a.facepile},Re.map(bt=>Object(e.h)(Rt.a,{size:24,user:bt,className:Jn.a.face}))),Object(e.h)(We.b.B4,{weight:"medium",color:"bg-light"},Object(Pe.a)(ee.length)," new"))))}function Gt({item:ee}){const ae=or[ee.type];return ae?Object(e.h)(ae,{item:ee}):null}function vn({item:ee,children:ae}){const ve=Object(o.k)(null),Re=Object(o.b)(Vr),$e=Object(o.b)(Gr);return Object(sn.a)(ve,()=>Object(nn.b)(ee,Re,{tabId:$e}),{threshold:.2}),Object(e.h)(kn,{ref:ve},ae)}const kn=Object(a.forwardRef)((ee,ae)=>Object(e.h)(ue.b,Co(Eo({},ee),{className:Jn.a.feedItem,gap:4,ref:ae}))),or={post:fr,comment:Ln,userSuggestions:me,twitterConnect:fe,inviteFriends:Ee};function fr({item:ee}){const ae=Object(o.b)(Vr),ve=Object(o.b)(Gr);return Object(e.h)(vn,{item:ee},Object(e.h)(er,{item:ee,context:Object(e.h)(Ue,{context:ee.context,onClick:()=>Object(nn.a)(ee,ae,"context",{tabId:ve}),utm_content:ee.entity_key})}))}function er({item:ee,showGutter:ae,context:ve}){const{publication:Re,post:$e}=ee,bt=Re&&$e?Object(V.getPostAuthor)(Re,$e):void 0,Ut=Object(o.b)(Vr),dn=Object(o.b)(Gr),pn=()=>Object(nn.a)(ee,Ut,"profile",{tabId:dn});return!Re||!$e||!bt?null:Object(e.h)(Ie.c,{onClick:jn=>{Object(nn.a)(ee,Ut,"item",{tabId:dn}),Object(ht.redirect)(Object(W.getFeedShortPostUrl)(Re,$e,{noBase:bn.a}),{event:jn})},showGutter:ae,hasContext:!!ve},Object(e.h)(ne,{userId:bt==null?void 0:bt.id},ve,Object(e.h)(ue.a,{gap:12},Object(e.h)(Pr,{user:bt,onClick:pn,utm_content:ee.entity_key}),Object(e.h)(ue.b,{gap:8,flex:"grow",minWidth:0},Object(e.h)(ue.b,{gap:8},Object(e.h)(Br,{user:bt,post:$e,onClick:pn,utm_content:ee.entity_key,publication:Re,item:ee}),Object(e.h)(q.a,{publication:Re,post:$e})),Object(e.h)(Ur,{item:ee,pub:Re,post:$e})))))}function Ln({item:ee}){var ae,ve,Re,$e;const{publication:bt,post:Ut,comment:dn,parentComments:pn}=ee,jn=bt||Ut||!pn||pn.length===1?void 0:pn[0],Nn=(ae=pn&&pn[pn.length-1])!=null?ae:null,Xn=bt&&Ut&&Object(V.getPostAuthor)(bt,Ut),Lr=ee.context.type!=="comment_restack",Wr=ee.context.type==="note_reply"&&Lr&&dn.user_id!==((Re=Xn==null?void 0:Xn.id)!=null?Re:(ve=pn==null?void 0:pn[0])==null?void 0:ve.user_id),Kr=Object(o.b)(Vr),Zr=Object(o.b)(Gr),uo=ee.context.type==="comment_restack"?`user/${($e=ee.context.users[0])==null?void 0:$e.id}`:ee.entity_key;return Object(e.h)(vn,{item:ee},Object(e.h)(ue.b,{gap:8},Lr&&Object(e.h)(e.Fragment,null,Xn?Object(e.h)(e.Fragment,null,Object(e.h)(er,{item:ee,showGutter:!0,context:Wr?Object(e.h)(Ue,{context:ee.context,onClick:()=>Object(nn.a)(ee,Kr,"context",{tabId:Zr}),utm_content:uo}):void 0}),(pn==null?void 0:pn.length)>1&&Nn&&Object(e.h)(Ge,{url:Object(W.getFeedCommentUrl)(Nn,{noBase:bn.a}),showGutter:!0})):jn?Object(e.h)(e.Fragment,null,Object(e.h)(ur,{isParent:!0,comment:jn,item:ee,showContext:Wr,utm_content:uo}),(pn==null?void 0:pn.length)>2&&Nn&&Object(e.h)(Ge,{url:Object(W.getFeedCommentUrl)(Nn,{noBase:bn.a}),showGutter:!0})):null,Nn&&Object(e.h)(ur,{showReplyingTo:(pn==null?void 0:pn.length)>2,isParent:!0,comment:Nn,item:ee,showContext:Wr&&!(Xn||jn),utm_content:uo})),Object(e.h)(ur,{comment:dn,item:ee,showReplyingTo:!Lr,utm_content:uo})))}function ur({comment:ee,item:ae,isParent:ve,showReplyingTo:Re,showContext:$e,utm_content:bt}){var Ut,dn,pn,jn,Nn,Xn,Lr;const Wr=Object(o.b)(Vr),Kr=Object(o.b)(Gr),Zr=()=>Object(nn.a)(ae,Wr,"profile",{tabId:Kr}),uo=!ee.ancestor_path,go=ae.publication&&ae.post&&Object(V.getPostAuthor)(ae.publication,ae.post);let yo=null;if(!uo){const Po=(Ut=ee.ancestor_path)==null?void 0:Ut.split(".").pop(),Yo=Po&&Number(Po);yo=(pn=(dn=ae.parentComments)==null?void 0:dn.find(lo=>(lo==null?void 0:lo.id)===Yo))!=null?pn:null}const vo=Po=>{if(!Po.defaultPrevented){Object(nn.a)(ae,Wr,"item",{tabId:Kr});const Yo=Object(W.getFeedCommentUrl)(ee,{noBase:!ee.hidden&&bn.a});Object(ht.redirect)(ee.hidden&&ae.publication?Object(W.getSubscribeUrl)(ae.publication,{addBase:!0,params:{next:Yo}}):Yo,{event:Po,newTab:!!ee.hidden,local_navigation:!ee.hidden})}},Sr=Object(V.getCommentAuthor)(ee),Ro=Object(kt.a)({user:Sr,publicationName:(jn=Sr.primary_publication)==null?void 0:jn.name,allowPresubscribe:!0,subscriptionSource:"substack-feed-item",sourceNoteId:Object(Y.g)(ee.id)});return Object(e.h)(Ie.c,{showGutter:ve,hasContext:$e,onClick:vo},Object(e.h)(ne,{userId:Sr==null?void 0:Sr.id,comment:ee},($e||!ve&&["comment_like","comment_top","comment_restack"].includes(ae.context.type))&&Object(e.h)(Ue,{context:ae.context,onClick:()=>Object(nn.a)(ae,Wr,"context",{tabId:Kr}),utm_content:bt}),Object(e.h)(ue.a,{gap:12},Object(e.h)(Pr,{user:Sr,onClick:Zr,utm_content:bt}),Object(e.h)(ue.b,{gap:8,flex:"grow",minWidth:0},Object(e.h)(ue.b,{gap:12},Object(e.h)(ue.b,null,Object(e.h)(ue.b,null,Object(e.h)(Br,{user:Sr,post:(Nn=ae.post)!=null?Nn:void 0,comment:ee,onClick:Zr,utm_content:bt,publication:(Xn=ae.publication)!=null?Xn:void 0,item:ae}),Re&&(uo&&go||!uo&&yo)?Object(e.h)(We.b.Detail,null,"Replying to"," ",Object(e.h)(le.b,{subject:uo?go:yo?{id:yo.user_id,user_id:yo.user_id,name:yo.name,photo_url:yo.photo_url}:go,dontStopPropagation:!0,utmSource:"feed"},Object(e.h)(Wt.c,{href:uo?Object(W.getFeedShortPostUrl)(ae.publication,ae.post,{noBase:bn.a}):Object(W.getFeedCommentUrl)(yo,{noBase:bn.a})},(Lr=uo?go:yo)==null?void 0:Lr.name))):Ro.showCta?Object(e.h)(ue.a,{gap:4},Sr.primary_publication&&Object(e.h)(e.Fragment,null,Object(e.h)(We.b.Detail,{ellipsis:!0},Object(e.h)(br,{publication:Sr.primary_publication})),Object(e.h)(We.b.Detail,{color:"secondary"},"\u2219")),Object(e.h)(We.b.Detail,{color:Ro.isSubscribed?"secondary":"substack"},Object(e.h)(Wt.c,{onClick:Ro.isSubscribed?Ro.unsubscribe:Ro.subscribe},Ro.isSubscribed?"Subscribed":"Subscribe"))):null),ee.body&&Object(e.h)(tt,{comment:ee,publication:ae.publication})),ee.attachments&&Object(e.h)(Ce.a,{attachments:ee.attachments,onAttachmentClick:({commentId:Po}={})=>{Object(nn.a)(ae,C.a.PostEmbed,"attachment",{extraEventProps:{tabId:Kr,commentId:Po}})},utm_content:bt})),!ee.hidden&&Object(e.h)(co,{item:ae,comment:ee})))))}function br({publication:ee}){return Object(e.h)(e.Fragment,null,Object(e.h)(Ft.c,{publication_id:ee.id,utmSource:"feed",inline:!0},Object(e.h)(Wt.c,{href:Object(W.getBaseUrl)(ee),target:"_blank"},ee.name)))}function et(){return Object(e.h)(ue.a,{paddingX:{desktop:20,mobile:16},paddingY:8},Object(e.h)(ue.a,{flex:"grow",border:"detail",bg:"elevated",radius:8,padding:16,alignItems:"center",justifyContent:"center"},Object(e.h)(We.b.B3,{color:"secondary"},"This note is not available")))}function Ge({url:ee,showGutter:ae}){return Object(e.h)(Ie.c,{onClick:ve=>Object(ht.redirect)(ee,{event:ve}),showGutter:ae,hasAvatar:!1},Object(e.h)(ue.c,null,Object(e.h)(ue.b,{alignItems:"center",justifyContent:"center",className:Jn.a.seeMoreThread},Object(e.h)(ue.b,{className:d()(Jn.a.seeMoreThreadSegment,Jn.a.top)}),Object(e.h)(h.a,{size:16,stroke:"var(--color-detail)"}),Object(e.h)(ue.b,{className:Jn.a.seeMoreThreadSegment,flex:"grow"})),Object(e.h)(ue.b,{className:Jn.a.seeMoreReplies,flex:"grow",minWidth:0},Object(e.h)(We.b.B4,{color:"accent-blue"},Object(e.h)(Wt.c,{href:ee},"See more replies")))))}function tt({comment:ee,publication:ae,large:ve}){const{bodyJson:Re,truncatedBodyJson:$e,isTruncated:bt}=Object(He.a)(ee),[Ut,dn]=Object(o.l)(ve||!bt),pn=Nn=>{Nn.preventDefault(),dn(!0)},jn=Ut?Re:$e;return Object(e.h)(ue.b,{className:Jn.a.feedCommentBody},Object(e.h)(Ie.a,{large:ve},ee.hidden?Object(e.h)(Pt,{pub:ae}):jn&&Object(e.h)(Le.a,{key:Ut,content:jn})),!Ut&&Object(e.h)(gt,{onClick:pn,size:ve?20:16,lineHeight:ve?32:24}))}function Pt({pub:ee}){return Object(e.h)(e.Fragment,null,Object(e.h)("i",null,"This comment is only visible to paid subscribers of ",ee==null?void 0:ee.name),Object(e.h)("br",null),Object(e.h)("b",null,"Subscribe to view \u2192"))}function gt(ee){return Object(e.h)(ue.a,{className:Jn.a.seeMore},Object(e.h)(ue.a,{className:Jn.a.seeMoreFade}),Object(e.h)(We.b.B3,{color:"accent-blue",className:Jn.a.seeMoreText},Object(e.h)(Wt.c,Eo({},ee),"See more...")))}function me({item:ee}){const ae=Object(ot.a)(),ve=Object(o.k)(null),{state:Re,handleArrowClick:$e}=Object(Ot.S)(ve),bt=Object(ie.d)();return Object(sn.a)(ve,()=>{bt.changeSetting("suggestions_feed_item_last_shown_at",new Date().toISOString())},{threshold:.2}),Object(e.h)(vn,{item:ee},Object(e.h)(ue.b,{paddingY:16,gap:4},Object(e.h)(ue.a,{alignItems:"center",justifyContent:"space-between",paddingLeft:{mobile:20,desktop:0}},Object(e.h)(We.b.H4,null,"Suggestions"),Object(e.h)(Me.a,{priority:"secondary",fill:"empty",onClick:Ut=>Object(it.a)(Ut,Object(Y.l)())},"See all")),Object(e.h)(ue.a,{className:Jn.a.peopleYouMayKnowContainer,alignItems:"center"},!ae&&Re.showLeft&&Object(e.h)("div",{className:d()("reader2-carousel-fade left",Jn.a.peopleYouMayKnowArrows)},Object(e.h)("div",{className:"bg"}),Object(e.h)(ln.a,{look:"reset",className:"reader2-carousel-arrow left",onClick:$e(-1)},Object(e.h)(v.a,null))),Object(e.h)(ue.a,{ref:ve,className:Jn.a.peopleYouMayKnow,alignItems:"center",gap:8},ee.userSuggestions.map(Ut=>Object(e.h)(_n,{feedUserSuggestion:Ut,surface:C.a.Feed}))),!ae&&Re.showRight&&Object(e.h)("div",{className:d()("reader2-carousel-fade right",Jn.a.peopleYouMayKnowArrows)},Object(e.h)("div",{className:"bg"}),Object(e.h)(ln.a,{look:"reset",className:"reader2-carousel-arrow",onClick:$e(1)},Object(e.h)(j.a,null))))))}function fe({item:ee}){const{getConfigFor:ae}=Object(X.c)();return ae("twitter_connect_flows_enabled")?Object(e.h)(vn,{item:ee},Object(e.h)(ue.a,{paddingY:20},Object(e.h)(cr,null))):null}function Ee({item:ee}){const[ae]=Object(te.a)(Vn);return ae?null:Object(e.h)(vn,{item:ee},Object(e.h)(ue.a,{paddingY:20,paddingX:20},Object(e.h)(Jt,{utmSource:"feed_item"})))}function Ue({context:ee,onClick:ae,utm_content:ve}){const Re=Ye[ee.type];return Re?Object(e.h)(ue.a,{className:Jn.a.contextRow},Object(e.h)(We.b.Meta,{className:Jn.a.contextText},Object(e.h)(Re,{context:ee,onClick:ae,utm_content:ve}))):null}const Ye={post_like:En,post_comment:In,post_restack:hn,comment:In,note_reply:In,note_recommend:jr,comment_like:Fn,comment_restack:Un,comment_top:nr},ct={like:Qn,comment_like:Qn,comment:Kt,recommend:dr,featured:Sn,trending:rr,leaderboard:Mr,restack:zr};function Yt({type:ee,children:ae}){const ve=ct[ee];return Object(e.h)(ue.c,{alignItems:"center",gap:8},Object(e.h)(ve,{className:Jn.a.contextIcon,size:14}),Object(e.h)("div",null,ae))}function Qt({context:ee,type:ae,label:ve,verb:Re,fallbackUser:$e,utm_content:bt,onClick:Ut}){var dn;const pn="notes_context",jn=Object(ot.a)(),[Nn,Xn]=Object(o.l)(!1),Lr=(dn=ee.users[0])!=null?dn:$e;if(!Lr)return null;let Wr,Kr=ee.users.length-1;return!jn&&ee.users.length===2&&(Wr=ee.users[1],Kr=0),Object(e.h)(Yt,{type:ae},Object(e.h)(Wt.b,{user:Lr,onClick:Ut,utm_source:pn,utm_content:bt,color:"secondary"}),Wr&&Object(e.h)(e.Fragment,null," and ",Object(e.h)(Wt.b,{user:ee.users[1],onClick:Ut,utm_source:pn,utm_content:bt,color:"secondary"})),Kr>0&&Object(e.h)(e.Fragment,null," and ",Object(e.h)(Wt.c,{onClick:()=>{Ut(),Xn(!0)}},Object(R.pluralize)(Kr,"other"))),` ${Re}`,Object(e.h)(x.a,{isOpen:Nn,modalLabel:ve,faces:ee.users,totalCount:ee.users.length,onClose:()=>Xn(!1),utmSource:null}))}function En({context:ee,onClick:ae,utm_content:ve}){return Object(e.h)(Qt,{context:ee,type:"like",label:"Likes",verb:"liked",onClick:ae,utm_content:ve})}function hn({context:ee,onClick:ae,utm_content:ve}){return Object(e.h)(Qt,{context:ee,type:"restack",label:"Restacks",verb:"restacked",onClick:ae,utm_content:ve})}function In({context:ee,onClick:ae,utm_content:ve}){return Object(e.h)(Qt,{context:ee,type:"comment",label:"Replies",verb:"replied",onClick:ae,utm_content:ve})}function Fn({context:ee,onClick:ae,utm_content:ve}){return Object(e.h)(Qt,{context:ee,type:"like",label:"Likes",verb:"liked",onClick:ae,utm_content:ve})}function Un({context:ee,onClick:ae,utm_content:ve}){return Object(e.h)(Qt,{context:ee,type:"restack",label:"Restacks",verb:"restacked",onClick:ae,utm_content:ve})}function nr({}){return Object(e.h)(Yt,{type:"trending"},"Top comment")}function jr({context:ee,onClick:ae,utm_content:ve}){return Object(e.h)(Qt,{context:ee,type:"recommend",label:"Recommendations",verb:"recommends",onClick:ae,utm_content:ve})}function Hr({user:ee,timestamp:ae,comment:ve,post:Re,publication:$e,utm_content:bt,onProfileClick:Ut,item:dn}){var pn;const jn=Object(kt.a)({user:ee,allowPresubscribe:!0,subscriptionSource:"substack-feed-item",publicationName:(pn=ee.primary_publication)==null?void 0:pn.name,sourceNoteId:ve?Object(Y.g)(ve==null?void 0:ve.id):Re?Object(Y.s)(Re==null?void 0:Re.id):null});return Object(e.h)(ue.a,{gap:12,alignItems:"center"},Object(e.h)(Pr,{user:ee,onClick:Ut,utm_content:bt}),Object(e.h)(ue.b,{flex:"grow",minWidth:0},Object(e.h)(ue.a,{gap:4,alignItems:"center"},Object(e.h)(We.b.B3,{weight:"medium"},Object(e.h)(Wt.a,{user:ee,onClick:Ut,utm_source:"substack-feed-item",utm_content:bt},ee.name)),Object(e.h)(Pn.a,{className:Jn.a.userBadge,tier:ee.bestseller_tier,userId:ee.id,tooltipOnHover:!0,size:"sm"})),Object(e.h)(ue.a,{alignItems:"center",gap:4},ee.primary_publication&&Object(e.h)(e.Fragment,null,Object(e.h)(We.b.B3,{color:"secondary",ellipsis:!0},Object(e.h)(br,{publication:ee.primary_publication})),Object(e.h)(We.b.B3,{color:"secondary"},"\u2219")),Object(e.h)(so,{timestamp:ae,comment:ve,post:Re,publication:$e}))),Object(e.h)(ue.c,{gap:8},jn.showCta&&Object(e.h)(ue.b,null,Object(e.h)(Me.a,{priority:jn.isSubscribed?"secondary":"primary",fill:"outline",rounded:!0,onClick:jn.isSubscribed?jn.unsubscribe:jn.subscribe},jn.isSubscribed?"Subscribed":"Subscribe")),Object(e.h)(ko,{publication:$e!=null?$e:void 0,post:Re!=null?Re:void 0,comment:ve,item:dn,permalink:!0})))}function Br({user:ee,post:ae,comment:ve,onClick:Re,utm_content:$e,publication:bt,item:Ut}){const dn=(ve==null?void 0:ve.date)||(ae==null?void 0:ae.post_date);return Object(e.h)(Ie.d,null,Object(e.h)(ue.a,{gap:8,alignItems:"center",flex:"grow"},Object(e.h)(We.a,{weight:"medium"},Object(e.h)(Wt.a,{user:ee,onClick:Re,utm_source:"substack-feed-item",utm_content:$e},ee.name)),Object(e.h)(Pn.a,{className:Jn.a.userBadge,tier:ee.bestseller_tier,userId:ee.id,tooltipOnHover:!0,size:"sm"}),dn&&Object(e.h)(so,{timestamp:dn,comment:ve})),Object(e.h)(ue.a,{style:{maxHeight:20}},Object(e.h)(ko,{publication:bt!=null?bt:void 0,post:ae!=null?ae:void 0,comment:ve,item:Ut})))}const Jr=new Intl.DateTimeFormat(void 0,{dateStyle:"medium",timeStyle:"short"});function so({timestamp:ee,comment:ae,post:ve,publication:Re}){return Object(e.h)(Wt.c,{href:ae?Object(W.getFeedCommentUrl)(ae,{noBase:bn.a}):ve?Object(W.getFeedShortPostUrl)(Re,ve):void 0,title:Jr.format(u()(ee).toDate()),ellipsis:!1,color:"secondary"},Object(e.h)(Ie.e,{timestamp:ee}))}function Pr({user:ee,onClick:ae,utm_content:ve}){return Object(e.h)(ue.a,{as:"a",flex:"auto",alignSelf:"start",href:Object(W.getReaderProfileUrl)(ee,{noBase:bn.a,utm_content:ve}),onClick:ae},Object(e.h)(le.b,{subject:ee,dontStopPropagation:!0,utmSource:"feed"},Object(e.h)(Ie.b,{user:ee})))}function Ur({item:ee,pub:ae,post:ve,onLike:Re,permalink:$e}){var bt;const Ut=Object(o.b)(Vr),dn=Object(o.b)(Gr),pn=Object(xn.d)(),jn=Object(ie.c)(),{requireLogin:Nn}=Object(Rn.b)(),Xn=$(ve.id,{tabId:dn}),Lr=Nr(ve),Wr=Boolean(ve.reaction),Kr=!ae.community_enabled,Zr=!Object(R.commentsEnabledForPost)({publication:ae,post:ve}),uo=(bt=ve.child_comment_count)!=null?bt:0,go=vo=>ft(this,null,function*(){if(vo.preventDefault(),!jn){Nn==null||Nn();return}const Sr=!ve.reaction;(yield Xn(ve.id,Sr))&&(Re==null||Re(Sr),ee&&Object(nn.a)(ee,Ut,"like",{tabId:dn}))}),yo=vo=>{if(vo.preventDefault(),!jn){Nn==null||Nn();return}pn.open({parentPubId:ve.publication_id,parentPostId:ve.id,tabId:dn}),ee&&Object(nn.a)(ee,Ut,"comment",{tabId:dn})};return Object(e.h)(Jo,null,Object(e.h)(Cr,{className:d()(Jn.a.like,Jn.a.likeButton,Lr===0&&Jn.a.shrink),active:Wr,disabled:Kr,onClick:go,permalink:$e},Object(e.h)(io,{isLiked:Wr}),!$e&&Object(e.h)(We.b.Digit,{className:d()(Jn.a.digit,Lr===0&&Jn.a.hidden)},Object(Pe.a)(Math.max(Lr,1)))),Object(e.h)(Vo,{className:d()(Jn.a.reply,uo===0&&Jn.a.shrink),disabled:Zr,onClick:yo,permalink:$e},Object(e.h)(Q.default,{strokeWidth:$e?2:2.5}),!$e&&Object(e.h)(We.b.Digit,{className:d()(Jn.a.digit,uo===0&&Jn.a.hidden)},Object(Pe.a)(Math.max(uo,1)))),Object(e.h)(Wo,{disabled:Kr,pub:ae,post:ve,permalink:$e}),Object(e.h)(Go,{publication:ae,post:ve,item:ee,twitterText:Object(B.resolveTwitterShareText)({pub:ae,post:ve}),permalink:$e}))}function Cr(ee){var ae=ee,{className:ve,onClick:Re}=ae,$e=Mo(ae,["className","onClick"]);const[bt,Ut]=Object(o.l)(!1),dn=pn=>{Ut(!0),Re==null||Re(pn)};return Object(e.h)(Vo,Co(Eo({},$e),{onClick:dn,className:d()(ve,$e.permalink&&Jn.a.permalink,bt&&Jn.a.clickedOnce)}))}function io({isLiked:ee}){const ae=8;return Object(e.h)("div",{className:d()(Jn.a.heartWrapper,ee&&Jn.a.isLiked)},Object(e.h)("svg",{className:Jn.a.heart,width:"24",height:"24",viewBox:"0 0 24 24"},Object(e.h)("path",{d:"M12,21.35L10.55,20.03C5.4,15.36 2,12.27 2,8.5C2,5.41 4.42,3 7.5,3C9.24,3 10.91,3.81 12,5.08C13.09,3.81 14.76,3 16.5,3C19.58,3 22,5.41 22,8.5C22,12.27 18.6,15.36 13.45,20.03L12,21.35Z"})),Object(e.h)("div",{className:Jn.a.sparks,style:`--total-sparks: ${ae}`},Array(ae).fill(0).map((ve,Re)=>Object(e.h)("div",{className:Jn.a.spark,style:`--i: ${Re+1};`}))))}function co({item:ee,comment:ae,permalink:ve}){var Re,$e;const bt=Object(o.b)(Vr),Ut=Object(o.b)(Gr),dn=Object(Bt.f)(),pn=Object(xn.d)(),jn=Object(ie.c)(),{requireLogin:Nn}=Object(Rn.b)(),{publication:Xn,post:Lr}=ee,Wr=Boolean(Lr&&Xn&&!Object(R.commentsEnabledForPost)({publication:Xn,post:Lr})),Kr=Boolean(Lr&&Xn&&!Object(R.restacksEnabledForPost)({publication:Xn,post:Lr})),Zr=ae.reaction_count||0,uo=Object(at.f)({pathname:`/api/v1/comment/${ae.id}/reaction`,method:"POST"}),go=Boolean(ae.reaction),yo=()=>{Nn==null||Nn()},vo=(Re=ee.parentComments[0])!=null?Re:ae,Sr=Object(xn.f)(ee),Ro=Yo=>{var lo,No;if(Yo.preventDefault(),!jn){yo();return}pn.open({feedItem:ee,parentPubId:(lo=ae.publication_id)!=null?lo:void 0,parentPostId:(No=ae.post_id)!=null?No:void 0,parentCommentId:ae.id,tabId:Ut}),Object(nn.a)(ee,bt,"comment",{tabId:Ut,extraEventProps:{reply_requirement:Sr,reply_locked:Boolean(Sr)}})},Po=Yo=>ft(this,null,function*(){if(Yo.preventDefault(),!jn){yo();return}const lo=!go;dn({type:"comment_like",payload:{commentId:ae.id,isLiked:lo}});try{yield uo.refetch({method:lo?"POST":"DELETE",json:{publication_id:(Xn==null?void 0:Xn.id)||null,reaction:"\u2764",tabId:Ut}})}catch(No){dn({type:"comment_like",payload:{commentId:ae.id,isLiked:!lo}}),alert(Object(ht.getNetworkErrorMessage)(No));return}Object(nn.a)(ee,bt,"like",{tabId:Ut})});return Object(e.h)(Jo,null,Object(e.h)(Cr,{className:d()(Jn.a.like,Jn.a.likeButton,Zr===0&&Jn.a.shrink),active:go,disabled:!1,onClick:Po,permalink:ve},Object(e.h)(io,{isLiked:go}),!ve&&Object(e.h)(We.b.Digit,{className:d()(Jn.a.digit,Zr===0&&Jn.a.hidden)},Object(Pe.a)(Math.max(Zr,1)))),Object(e.h)(Vo,{className:d()(Jn.a.reply,!ae.children_count&&Jn.a.shrink),disabled:Wr,onClick:Ro,permalink:ve,tooltip:Sr==="paid_subscriber"?"Only paid subscribers can reply.":Sr==="free_subscriber"?"Only subscribers can reply.":void 0},Sr?Object(e.h)(he.default,{strokeWidth:ve?2:2.5}):Object(e.h)(Q.default,{strokeWidth:ve?2:2.5}),!ve&&Object(e.h)(We.b.Digit,{className:d()(Jn.a.digit,!ae.children_count&&Jn.a.hidden)},Object(Pe.a)(Math.max(ae.children_count||0,1)))),jn?Object(e.h)(Wo,{pub:Xn!=null?Xn:void 0,post:Lr!=null?Lr:void 0,comment:ae,rootComment:vo,disabled:Kr,permalink:ve}):Object(e.h)(qo,{permalink:ve,restacks:($e=ae.restacks)!=null?$e:0,disabled:Kr,onClick:yo}),Object(e.h)(Go,{publication:Xn!=null?Xn:void 0,post:Lr!=null?Lr:void 0,comment:ae,item:ee,permalink:ve}))}function Wo({pub:ee,post:ae,comment:ve,rootComment:Re,permalink:$e,disabled:bt}){const Ut=Object(o.b)(Gr),{canRestack:dn,isRestacked:pn,restacks:jn,menuItems:Nn,nuxModal:Xn}=Object(wn.a)({pub:ee,post:ae,comment:ve,tabId:Ut});return dn?Object(e.h)(e.Fragment,null,Xn,Object(e.h)(jt.c,{trigger:Object(e.h)(qo,{restacks:jn,"aria-label":"menu",active:pn,disabled:bt,permalink:$e}),useMobileBottomSheet:!0,mobileBottomSheetTitle:"Restack"},Nn)):null}const qo=Object(a.forwardRef)((ee,ae)=>{var ve=ee,{permalink:Re,restacks:$e}=ve,bt=Mo(ve,["permalink","restacks"]);return Object(e.h)(Vo,Eo({className:d()(Jn.a.restack,$e===0&&Jn.a.shrink),"aria-label":"restack-menu",permalink:Re,ref:ae},bt),Object(e.h)(G.default,{strokeWidth:Re?2:2.5}),!Re&&Object(e.h)(We.b.Digit,{className:d()(Jn.a.digit,$e===0&&Jn.a.hidden)},Object(Pe.a)(Math.max($e,1))))});function Jo(ee){const ae=Object(ot.a)();return Object(e.h)(ue.a,Eo({flex:"grow",justifyContent:ae?"space-between":"start",className:Jn.a.actionRow},ee))}function Go({publication:ee,post:ae,comment:ve,item:Re,twitterText:$e,permalink:bt}){const Ut=Object(o.b)(Vr),dn=Object(o.b)(Gr),pn=Object(X.c)().getConfigFor("note-preview-image-enabled"),jn=ve?Object(W.getFeedCommentUrl)(ve,{urlParams:{utm_source:"notes-share-action"}}):ae?Object(W.getFeedShortPostUrl)(ee,ae,{urlParams:{utm_source:"notes-share-action"}}):null,Nn=Object(Or.c)({url:jn,twitterText:$e,onLinkClicked:Lr=>{Object(z.i)(z.a.FEED_ITEM_SHARE_LINK_CLICKED,{type:Lr,shared_post_id:ae==null?void 0:ae.id,shared_comment_id:ve==null?void 0:ve.id})}}),Xn=()=>{Re&&Object(nn.a)(Re,Ut,"share",{tabId:dn})};return Object(e.h)(jt.c,{trigger:Object(e.h)(Vo,{"aria-label":"share",onClick:Xn,permalink:bt,className:Jn.a.share},Object(e.h)(y.a,{strokeWidth:bt?2:2.5})),useMobileBottomSheet:!0,mobileBottomSheetTitle:"Share",maxHeight:350},pn&&ve&&Object(e.h)(jt.d,{icon:Object(e.h)(b.a,null),href:Object(Y.p)(ve.id),target:"_blank"},"Download"),Nn)}function ko({publication:ee,post:ae,comment:ve,item:Re,permalink:$e}){var bt,Ut,dn;const pn=Object(tn.e)(),jn=Object(o.b)(Vr),Nn=Object(o.b)(Gr),Xn=Object(Bt.f)(),Lr=Object(Bt.g)(),[Wr,Kr]=Object(o.l)(!1),[Zr,uo]=Object(o.l)(!1),go=Object(ie.c)(),yo=(Ut=(bt=ve==null?void 0:ve.ancestor_path)==null?void 0:bt.split(".").filter(Boolean).map(Number).map(Xo=>Lr.comments.get(Xo)))!=null?Ut:[],vo=ve?Object(V.getCommentAuthor)(ve):ee&&ae?Object(V.getPostAuthor)(ee,ae):null,Sr=Object(de.e)(vo,jn),Ro=Object(be.b)(vo,jn),Po=Object(at.f)({pathname:`/api/v1/comment/${(dn=ve==null?void 0:ve.id)!=null?dn:0}`,method:"DELETE",json:{publication_id:ee==null?void 0:ee.id}}),Yo=()=>ft(this,null,function*(){if(!ve||(uo(!1),Po.isLoading))return;const Xo=yield Po.refetch();if(Xo instanceof Error){alert(Object(ht.getNetworkErrorMessage)(Xo));return}pn.popToast(mi=>Object(e.h)(tn.c,Co(Eo({},mi),{text:"Note deleted",Icon:E.a}))),Xn({type:"comment_delete",payload:{publication:ee,post:ae,comment:ve}})}),lo=Object(xn.d)(),No=()=>ft(this,null,function*(){!ve||lo.open({editComment:ve,tabId:Nn})}),Ko=()=>{Re&&Object(nn.a)(Re,jn,"share",{tabId:Nn})},Qo=[!ve&&ae&&Object(e.h)(Ho,{post:ae}),...Ro,Object(R.canEditComment)(go,ve)&&Object(e.h)(jt.d,{icon:Object(e.h)(P.a,null),onClick:No},"Edit"),...Sr,Object(R.canReportComment)(go,ve)&&Object(e.h)(jt.d,{icon:Object(e.h)(A.a,null),priority:"destructive",onClick:()=>Kr(!0)},"Report"),ve&&Object(R.canDeleteComment)(go,ve,{pub:ee,post:ae,parentComments:yo})&&Object(e.h)(jt.d,{icon:Object(e.h)(E.a,null),priority:"destructive",onClick:()=>uo(!0)},"Delete")].filter(Boolean);return Qo.length===0?null:Object(e.h)(e.Fragment,null,Object(e.h)(jt.c,{trigger:Object(e.h)(Vo,{"aria-label":"share",onClick:Ko,permalink:$e,className:Jn.a.more},Object(e.h)(_.a,{strokeWidth:2.5})),useMobileBottomSheet:!0,mobileBottomSheetTitle:"More",maxHeight:350},Qo),Wr&&Object(e.h)(Nt.a,{className:Jn.a.reportModal,pub:ee,comment:ve,onClose:()=>Kr(!1),onReportSuccess:()=>{}}),Object(e.h)(wt.a,{isOpen:Zr,title:"Delete note?",body:"This will permanently remove this note from Substack. It cannot be undone.",customPrimaryButton:Object(e.h)(Me.a,{priority:"destructive",onClick:Yo},"Delete"),secondaryButton:Object(e.h)(Me.a,{priority:"secondary",onClick:()=>uo(!1)},"Cancel"),onClose:()=>uo(!1)}))}function Ho(ee){var ae=ee,{post:ve}=ae,Re=Mo(ae,["post"]);const $e=Object(Bt.f)(),bt=Object(Z.s)(),Ut=()=>{const dn=ve.id,pn=!ve.is_saved;Object(Z.k)(dn,pn,{surface:"reader"}),bt(pn),$e({type:"post_save",payload:{postId:dn,isSaved:pn}})};return Object(e.h)(jt.d,Eo({icon:ve.is_saved?Object(e.h)(M.a,null):Object(e.h)(F.a,null),onClick:Ut},Re),ve.is_saved?"Unsave":"Save")}const Vo=Object(a.forwardRef)((ee,ae)=>{var ve=ee,{className:Re,active:$e,disabled:bt,permalink:Ut,tooltip:dn}=ve,pn=Mo(ve,["className","active","disabled","permalink","tooltip"]);const jn=At({text:dn});return Object(e.h)(ue.a,Eo({flex:"grow",justifyContent:Ut?"center":"start",alignItems:"center"},jn.triggerProps),jn.layer,Object(e.h)(Me.d,Eo({className:d()(Jn.a.actionButton,Re,$e&&Jn.a.active,bt&&Jn.a.disabled,Ut&&Jn.a.permalink),resetCss:!0,ref:ae,disabled:bt},pn)))});function Ti({postId:ee}){var ae,ve,Re;const $e=Object(ie.c)(),bt=Object(Bt.g)(),Ut=Object(Bt.f)(),dn=bt.posts.get(ee),pn=dn&&bt.publications.get(dn.publication_id),jn=pn&&dn?Object(V.getPostAuthor)(pn,dn):void 0,Nn=pn&&!pn.community_enabled,{result:Xn,error:Lr}=Object(at.f)({pathname:`/api/v1/posts/by-id/${ee}?as-feed-item=1`,deps:[ee],auto:!0});return Object(o.d)(()=>{Xn&&Object(nn.c)(Xn)},[Boolean(Xn)]),Object(o.d)(()=>{Xn&&Ut({type:"item_load",payload:{item:Xn}})},[Xn]),Object(e.h)(ue.b,{flex:"fill"},dn&&pn&&jn?Object(e.h)(dt,null,Object(e.h)(ne,{userId:jn==null?void 0:jn.id},Object(e.h)(ue.b,{padding:20,gap:16},Object(e.h)(Hr,{user:jn,timestamp:dn.post_date,post:dn,publication:pn,onProfileClick:()=>Xn&&Object(nn.a)(Xn,C.a.Permalink,"profile"),utm_content:`p-${ee}`,item:Xn||void 0}),Object(e.h)(q.a,{publication:pn,post:dn}),Object(e.h)(_t,null,Object(e.h)(pt,{post:dn}),Object(e.h)(We.b.Meta,{color:"secondary"},"\u2219"),Object(e.h)(It,{count:(ae=dn.restacks)!=null?ae:0,id:dn.id,type:"post",actors:"restackers"})),Object(e.h)(Ur,{post:dn,pub:pn,permalink:!0})))):Lr?Object(e.h)(dt,null,Object(e.h)(et,null)):Object(e.h)(gr,null),!Lr&&Object(e.h)(e.Fragment,null,$e&&!Nn&&Object(e.h)(ue.b,{paddingX:20,paddingY:20,borderTop:"detail"},Object(e.h)(xn.c,{parentPubId:(ve=pn==null?void 0:pn.id)!=null?ve:void 0,parentPostId:(Re=dn==null?void 0:dn.id)!=null?Re:void 0,placeholder:"Leave a reply..."})),dn&&pn?Object(e.h)(Tn,{post:dn,publication:pn}):Object(e.h)(N,null)))}function dt({children:ee}){return Object(e.h)(ue.b,{gap:8,className:Jn.a.permalinkHeader},ee)}function pt({post:ee}){return Object(e.h)(It,{count:Nr(ee),id:ee.id,type:"post",actors:"reactors"})}function Xt({comment:ee}){var ae;return Object(e.h)(It,{count:(ae=ee.reaction_count)!=null?ae:0,id:ee.id,type:"comment",actors:"reactors"})}function Hn({comment:ee}){var ae;return Object(e.h)(It,{count:(ae=ee.restacks)!=null?ae:0,id:ee.id,type:"comment",actors:"restackers"})}function ir({comment:ee}){return Object(e.h)(ue.a,{flex:"grow",alignItems:"center",justifyContent:"end",minWidth:0,gap:4},Object(e.h)(We.b.Meta,{ellipsis:!0},u()(ee.date).toDate().toLocaleTimeString(void 0,{timeStyle:"short"})),Object(e.h)(We.b.B4,{color:"secondary"},"\u2219"),Object(e.h)(We.b.Meta,{ellipsis:!0},u()(ee.date).toDate().toLocaleDateString(void 0,{dateStyle:"medium"})))}function It({count:ee,id:ae,type:ve,actors:Re}){const{result:$e,error:bt,refetch:Ut,isLoading:dn}=Object(at.f)({pathname:`/api/v1/${ve}/${ae}/${Re}`,auto:!1}),pn=Object(ot.a)(),[jn,Nn]=Object(o.l)(!1),Xn=Object(e.h)(Vt,{count:ee,label:Re==="reactors"?"Like":"Restack"}),Lr=Boolean(bt||pn||dn||!$e||$e.length===0);return Object(e.h)(ue.a,{onMouseEnter:!$e&&!dn?()=>Ut():void 0,onClick:$e&&ee>0?()=>Nn(!0):void 0},Lr?Xn:Object(e.h)(qt.a,{users:$e!=null?$e:[]},Xn),Object(e.h)(x.a,{isOpen:jn,modalLabel:Re==="reactors"?"Likes":"Restacks",faces:$e!=null?$e:[],totalCount:ee,onClose:()=>Nn(!1),utmSource:Re==="reactors"?"notes_likes":"notes_restacks"}))}function _t(ee){return Object(e.h)(ue.a,Eo({borderTop:"detail",borderBottom:"detail",gap:4,paddingY:16,alignItems:"center"},ee))}function Vt({count:ee,label:ae}){return Object(e.h)(ue.a,{gap:4,alignItems:"center",className:d()(ee&&Jn.a.stat)},Object(e.h)(We.b.Digit,{color:"secondary"},Object(Pe.a)(ee)),Object(e.h)(We.b.Meta,null,Object(R.pluralize)(ee,ae,{just_word:!0})))}function Tn({post:ee,publication:ae,comment:ve,item:Re,forwardRef:$e}){var bt,Ut,dn,pn,jn,Nn,Xn;const Lr=Object(Bt.f)(),Wr=Object(Bt.g)(),Kr=Object(ie.c)(),[Zr,uo]=Object(o.l)(!1);Object(o.d)(()=>{Re&&Object(nn.b)(Re,C.a.Permalink)},[Re==null?void 0:Re.entity_key]);const{pages:go,lastPage:yo,hasLoadedOnce:vo,fetchMore:Sr,canFetchMore:Ro}=Object(at.g)({pathname:ve?`/api/v1/reader/comment/${ve==null?void 0:ve.id}/replies`:`/api/v1/reader/post/${ee==null?void 0:ee.id}/replies`,query:{publication_id:ee==null?void 0:ee.publication_id,comment_id:(bt=ve==null?void 0:ve.id)!=null?bt:void 0,signals:Zr?"on":void 0},deps:[ee==null?void 0:ee.id,ve==null?void 0:ve.id,Zr],auto:!0,getPageInit:({lastPage:lo,init:No})=>{var Ko;const Qo=(Ko=lo==null?void 0:lo.result)==null?void 0:Ko.nextCursor;return Qo&&(No.query=Co(Eo({},No.query),{cursor:Qo})),No}}),Po=Ro&&Boolean((Ut=yo==null?void 0:yo.result)==null?void 0:Ut.nextCursor);Object($n.a)(Sr,[yo],{bodyRef:$e,shouldCheck:Po,threshold:200}),Object(o.d)(()=>{(yo==null?void 0:yo.result)&&Lr({type:"comments_load",payload:{comments:yo==null?void 0:yo.result.commentBranches.map(lo=>lo.comment).concat(yo==null?void 0:yo.result.commentBranches.map(lo=>lo.descendantComments.map(No=>{var Ko;return(Ko=No.type==="comment"&&No.comment)!=null?Ko:null})).flat().filter(lo=>!!lo))}})},[yo]);const Yo=(dn=go.map(lo=>{var No,Ko;return(Ko=(No=lo.result)==null?void 0:No.commentBranches)!=null?Ko:[]}).flat().map(lo=>{const No=Wr.comments.get(lo.comment.id);return No?{comment:No,descendantComments:lo.descendantComments.map(Ko=>{var Qo;return Ko.type==="comment"?{type:"comment",comment:(Qo=Ko.comment&&Wr.comments.get(Ko.comment.id))!=null?Qo:null}:Ko}),replySignals:lo==null?void 0:lo.replySignals}:null}).filter(lo=>!!lo))!=null?dn:[];if(Kr){const lo=m()(Array.from(Wr.comments.values()).filter(No=>{var Ko;return No.user_id===Kr.id&&(ve?(Ko=No.ancestor_path)==null?void 0:Ko.split(".").filter(Boolean).map(Number).includes(ve.id):No.post_id===(ee==null?void 0:ee.id)&&!No.ancestor_path)}),["ancestor_path","date"]);for(const No of lo){const Ko=(jn=(pn=No.ancestor_path)==null?void 0:pn.split(".").filter(Boolean).map(Number))!=null?jn:[],Qo=Ko[Ko.length-1];if(ve?Qo===ve.id:Ko.length===0)Yo.some(mi=>mi.comment.id===No.id)||Yo.unshift({comment:No,descendantComments:[]});else{const mi=Yo.find(si=>Ko.includes(si.comment.id));if(mi){const si=mi.descendantComments[mi.descendantComments.length-1];(mi.comment.id===Qo?!si:(si==null?void 0:si.type)==="comment"&&((Nn=si.comment)==null?void 0:Nn.id)===Qo)&&mi.descendantComments.push({type:"comment",comment:No})}}}}return Object(e.h)(ue.b,{borderTop:"detail",flex:"fill",ref:$e,paddingBottom:20},(Kr==null?void 0:Kr.is_global_admin)&&(ve==null?void 0:ve.ancestor_path)===""&&Object(e.h)(ue.c,{borderBottom:"detail",padding:{mobile:16,desktop:20},justifyContent:"space-between",alignItems:"center"},Object(e.h)(We.b.Meta,{color:"secondary"},"[Internal] Show comment weights"),Object(e.h)(ke.a,{checked:Zr,onChange:lo=>uo(lo)})),vo?Yo.length===0?Object(e.h)(Mt.a,{title:"No replies yet",body:"Be the first to add your thoughts"}):Object(e.h)(e.Fragment,null,Yo.map(lo=>Object(e.h)(sr,{key:lo.comment.id,parentComment:ve!=null?ve:null,comment:lo.comment,descendantComments:lo.descendantComments.map(No=>No.type==="comment"?No.comment:null).filter(No=>!!No),post:ee,item:Re,publication:ae,replySignals:lo.replySignals})),(yo==null?void 0:yo.isLoading)?Array(6).fill(0).map(()=>Object(e.h)(Xr,null)):((Xn=yo==null?void 0:yo.result)==null?void 0:Xn.nextCursor)?Object(e.h)(Me.a,{priority:"secondary",fill:"outline",onClick:Sr},"Show more replies"):null):Array(6).fill(0).map(()=>Object(e.h)(Xr,null)))}function sr({post:ee,publication:ae,parentComment:ve,comment:Re,item:$e,descendantComments:bt,replySignals:Ut}){const dn=[Re,...bt];return Object(e.h)(kn,null,dn.map((pn,jn)=>{var Nn;if(!pn)return Object(e.h)(et,null);const Lr={entity_key:`comment/${pn.id}`,type:"comment",publication:ae||null,post:ee||null,comment:pn,parentComments:[...ve?[ve]:[],...dn.slice(0,jn)],canReply:(Nn=$e==null?void 0:$e.canReply)!=null?Nn:!0,context:{fallbackReason:"",fallbackUrl:null,users:[],timestamp:pn.date,type:"comment"}};return Object(e.h)(qn,{isParent:jn<dn.length-1,threadComment:pn,item:Lr,replySignals:jn===0?Ut:void 0})}))}function qn({isParent:ee,threadComment:ae,item:ve,replySignals:Re}){const $e=Object(o.k)(null),bt=Object(o.b)(Vr),Ut=Object(o.b)(Gr);return Object(sn.a)($e,()=>Object(nn.b)(ve,bt,{tabId:Ut}),{threshold:.2}),Object(e.h)("div",{ref:$e},Object(e.h)(ur,{isParent:ee,comment:ae,item:ve,utm_content:ve.entity_key}),Re&&Re.length&&Object(e.h)(ue.b,{paddingLeft:{mobile:64,desktop:80},paddingRight:20,paddingBottom:20},Object(e.h)(ue.b,{border:"detail",radius:12,bg:"secondary",padding:8,flex:"grow"},Re.map(({key:dn,value:pn,threshold:jn,inhibitive:Nn})=>{const Xn=typeof jn=="undefined"||pn<=jn?"secondary":Nn?"accent-blue":"accent-red";return Object(e.h)(ue.a,{flex:"grow",justifyContent:"space-between",gap:12},Object(e.h)(We.b.Detail,{ellipsis:!0,color:Xn},dn),Object(e.h)(We.b.Detail,{color:Xn},pn))}))))}function qr({commentId:ee}){var ae,ve,Re,$e,bt,Ut,dn,pn,jn;const Nn=Object(Bt.f)(),Xn=Object(Bt.g)(),Lr=Object(ie.c)(),{result:Wr,isLoading:Kr,error:Zr}=Object(at.h)(lo=>ft(this,null,function*(){const No=yield Object(at.c)(`/api/v1/reader/comment/${ee}`,lo);return Nn({type:"item_load",payload:{item:No.item}}),No}),[ee],{auto:!0}),uo=Object(o.k)(),go=Object(o.k)(),yo=()=>{const lo=go.current;lo&&(window.scrollTo(0,lo.offsetTop-16),uo.current.style.minHeight=`calc(100dvh - 16px * 2 - 70px - ${lo.offsetHeight}px)`)};Object(o.h)(()=>{yo(),requestAnimationFrame(()=>yo())},[Wr]);const vo=Wr==null?void 0:Wr.item,Sr=vo?Co(Eo({},vo),{publication:vo.publication&&Xn.publications.get((ae=vo.publication)==null?void 0:ae.id)||vo.publication,post:vo.post&&Xn.posts.get((ve=vo.post)==null?void 0:ve.id)||vo.post,comment:(Re=Xn.comments.get(vo.comment.id))!=null?Re:vo.comment,parentComments:(bt=($e=vo.parentComments)==null?void 0:$e.map(lo=>{var No;return(No=lo&&Xn.comments.get(lo.id))!=null?No:null}))!=null?bt:void 0}):null;Object(o.d)(()=>{Sr&&Object(nn.c)(Sr)},[Boolean(Sr)]);const Ro=Xn.comments.get(ee),Po=`c-${ee}`,Yo=Object(xn.f)(Sr);return Object(e.h)(ue.b,{flex:"fill",paddingTop:{mobile:20,desktop:0}},Ro&&Object(e.h)(Ae.a,{comment:Ro}),Sr&&!Kr?Object(e.h)(dt,null,Sr.post&&Object(e.h)(er,{item:Sr,showGutter:!0}),Sr.parentComments.map(lo=>lo?Object(e.h)(ur,{key:lo.id,isParent:!0,comment:lo,item:Sr,utm_content:Po}):Object(e.h)(et,null)),Object(e.h)(ue.b,{className:Jn.a.feedPermalinkUnit,gap:16,ref:go},Object(e.h)(Hr,{user:Object(V.getCommentAuthor)(Sr.comment),timestamp:Sr.comment.date,comment:Sr.comment,onProfileClick:()=>Object(nn.a)(Sr,C.a.Permalink,"profile"),utm_content:Po,item:Sr}),Sr.comment.body&&Object(e.h)(tt,{comment:Sr.comment,publication:Sr.publication,large:!0}),Sr.comment.attachments&&Object(e.h)(Ce.a,{attachments:Sr.comment.attachments,onAttachmentClick:({commentId:lo}={})=>{Object(nn.a)(Sr,C.a.PostEmbed,"attachment",{extraEventProps:{commentId:lo}})},utm_content:Po}),Object(e.h)(_t,null,Object(e.h)(Xt,{comment:Sr.comment}),Object(e.h)(We.b.B4,{color:"secondary"},"\u2219"),Object(e.h)(Hn,{comment:Sr.comment}),Object(e.h)(ir,{comment:Sr.comment})),!Sr.comment.hidden&&Object(e.h)(co,{item:Sr,comment:Sr.comment,permalink:!0}))):Zr?Object(e.h)(dt,null,Object(e.h)(et,null)):Object(e.h)(gr,null),!Zr&&Object(e.h)(e.Fragment,null,Lr&&!Yo&&Object(e.h)(ue.b,{padding:{mobile:16,desktop:20},borderTop:"detail"},Object(e.h)(xn.c,{disabled:Kr,parentPubId:(Ut=Sr==null?void 0:Sr.publication)==null?void 0:Ut.id,parentPostId:(dn=Sr==null?void 0:Sr.post)==null?void 0:dn.id,parentCommentId:Sr==null?void 0:Sr.comment.id,placeholder:"Leave a reply..."})),Sr&&!Kr?Object(e.h)(Tn,{post:(pn=Sr==null?void 0:Sr.post)!=null?pn:void 0,publication:(jn=Sr==null?void 0:Sr.publication)!=null?jn:void 0,comment:Sr.comment,item:Sr,forwardRef:uo}):Object(e.h)(N,null)))}const Vr=Object(e.createContext)(C.a.Feed),Gr=Object(e.createContext)(void 0);function $r({state:ee,dispatch:ae,surface:ve,children:Re}){const{onboardingModalRef:$e}=Object(Rn.b)(),bt=Object(o.i)(()=>({dispatch:ae}),[]);return Object(e.h)($t.a,null,Object(e.h)(Vr.Provider,{value:ve},Object(e.h)(Bt.a.Provider,{value:bt},Object(e.h)(Bt.b.Provider,{value:ee},Object(e.h)(xn.a,null,Re,ee.isSigningIn&&Object(e.h)(lt.a,{onCancel:()=>ae({type:"sign_in",payload:{isSigningIn:!1}}),onSuccess:()=>{ae({type:"sign_in",payload:{isSigningIn:!1}}),location.reload()},onSignup:()=>{var Ut;ae({type:"sign_in",payload:{isSigningIn:!1}}),(Ut=$e.current)==null||Ut.open()},noExit:ee.signInNoExit}))))))}function yr(ee,ae){var ve;const[Re,$e]=Object(o.l)(new Date),bt=Object(ie.c)(),Ut=Object(at.f)({pathname:"/api/v1/reader/feed",query:{userId:Object(K.getQueryItem)("userId"),tab:ee,afterTimestamp:Re.toISOString()},auto:!1,deps:[ee,Re]}),{refetch:dn}=Ut,pn=((ve=Ut.result)==null?void 0:ve.items.filter(Nn=>!(Nn.type==="userSuggestions"||Nn.type==="twitterConnect"||Nn.type==="inviteFriends"||bt&&Nn.context.users.map(Xn=>Xn.id).includes(bt.id)||new Date(Nn.context.timestamp)<=Re)))||[];return Object(o.d)(()=>{const Nn=()=>{document.visibilityState==="visible"&&dn()};return document.addEventListener("visibilitychange",Nn),()=>{document.removeEventListener("visibilitychange",Nn)}},[dn]),Object(o.d)(()=>{Ut.setResult(null),$e(new Date)},[ee]),ge(()=>ft(this,null,function*(){var Nn,Xn;if(Object(ht.isWindowVisible)()&&Re){const Lr=((Xn=(Nn=Ut.result)==null?void 0:Nn.items)==null?void 0:Xn.length)||0,Wr=yield Ut.refetch(),Kr=!(Wr instanceof Error)&&Wr.items.length||0;if(Lr!==Kr)return!0}}),1e4,6e4),{newFeedItems:pn,insertNewFeedItems:()=>{pn.length!==0&&(ae({type:"new_feed_items",payload:{feedItems:pn,insertLocation:"prepend"}}),$e(new Date))}}}function Nr(ee){var ae;return(ae=ee.reactions["\u2764"])!=null?ae:0}function gr(){return Object(e.h)(dt,null,Object(e.h)(ue.b,{paddingX:20,paddingBottom:20,gap:16},Object(e.h)(ue.a,{gap:16},Object(e.h)(Ot.B,{type:"circle",size:48}),Object(e.h)(ue.b,{gap:8,flex:"grow"},Object(e.h)(Ot.B,{height:16,width:"30%"}),Object(e.h)(Ot.B,{height:16,width:"20%"}))),Object(e.h)(Ot.B,{height:16,width:"80%"}),Object(e.h)(Ot.B,{height:16,width:"90%"}),Object(e.h)(Ot.B,{height:16,width:"40%"}),Object(e.h)(ue.a,{borderTop:"detail",borderBottom:"detail",gap:8,paddingY:16,alignItems:"center",justifyContent:"space-between"},Object(e.h)(Ot.B,{height:16,width:"20%"}),Object(e.h)(Ot.B,{height:16,width:"20%"})),Object(e.h)(Jo,null,Object(e.h)(Vo,{className:Jn.a.like,"aria-label":"like",disabled:!0,permalink:!0},Object(e.h)(H.a,{size:18})),Object(e.h)(Vo,{className:Jn.a.reply,"aria-label":"reply",disabled:!0,permalink:!0},Object(e.h)(Q.default,null)),Object(e.h)(Vo,{className:Jn.a.restack,"aria-label":"restack",disabled:!0,permalink:!0},Object(e.h)(G.default,null)),Object(e.h)(Vo,{className:Jn.a.share,"aria-label":"share",disabled:!0,permalink:!0},Object(e.h)(y.a,{size:20})))))}function Xr(){return Object(e.h)(kn,null,Object(e.h)(Ie.c,null,Object(e.h)(ue.a,{gap:12},Object(e.h)(Ot.B,{type:"circle",size:48}),Object(e.h)(ue.b,{gap:12,flex:"grow"},Object(e.h)(Ot.B,{height:16,width:"20%"}),Object(e.h)(Ot.B,{height:16,width:"60%"}),Object(e.h)(Ot.B,{height:16,width:"80%"}),Object(e.h)(Ot.B,{height:16,width:"40%"})))))}function Dt(){return Object(e.h)(kn,null,Object(e.h)(Ie.c,null,Object(e.h)(ue.a,{gap:12},Object(e.h)(Ot.B,{type:"circle",size:48}),Object(e.h)(ue.b,{gap:12,flex:"grow"},Object(e.h)(Ot.B,{height:20,width:100}),Array(3).fill(0).map(()=>Object(e.h)(Ot.B,{height:20,width:`${30+Math.random()*70}%`}))))))}function N(){return Object(e.h)(ue.b,{borderTop:"detail"},Array(6).fill(0).map(()=>Object(e.h)(Xr,null)))}function L(){return Object(e.h)(ue.b,null,Array(8).fill(0).map(()=>Object(e.h)(Dt,null)))}function $(ee,{tabId:ae}={}){const ve=Object(Bt.f)(),Re=Object(Z.p)();return($e,bt)=>ft(this,null,function*(){ve({type:"post_like",payload:{postId:$e,isLiked:bt}});try{return yield Re($e,bt,{tabId:ae}),!0}catch(Ut){return ve({type:"post_like",payload:{postId:$e,isLiked:!bt}}),alert(Object(ht.getNetworkErrorMessage)(Ut)),!1}})}function ne({userId:ee,comment:ae,children:ve}){const Re=Object(de.f)(ee),$e=Object(de.c)(),[bt,Ut]=Object(o.l)($e);Object(o.d)(()=>{Re&&!$e&&Ut(!1)},[Re]);const dn=ae?ae.type==="feed"&&!ae.ancestor_path?"note":"reply":"post";return Re&&!bt?Object(e.h)(ue.c,{radius:8,border:"detail",bg:"secondary",justifyContent:"space-between",alignItems:"center",paddingX:16,paddingY:20,onClick:()=>Ut(!0),gap:12,className:Jn.a.mutedItem},Object(e.h)(ue.a,{flex:"grow",minWidth:0},Object(e.h)(We.b.B4,{color:"secondary"},"This ",dn," is from someone",Re==="muting"?" you hid":Re==="blocking"?" you blocked":" who has you blocked",".")),Re!=="blocked"&&Object(e.h)(We.b.B4,{color:"secondary",weight:"semibold"},Object(e.h)(Wt.c,{onClick:()=>Ut(!0)},"Show ",dn))):Object(e.h)(e.Fragment,null,ve)}},,function(k,n,t){"use strict";t.d(n,"a",function(){return u});var e=t(0),a=t(51),o=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,c=(f,m)=>{var p={};for(var g in f)l.call(f,g)&&m.indexOf(g)<0&&(p[g]=f[g]);if(f!=null&&o)for(var g of o(f))m.indexOf(g)<0&&d.call(f,g)&&(p[g]=f[g]);return p};function u(f){var m=f,{className:p,src:g,noStyle:O=!1,loading:s,onError:r}=m,i=c(m,["className","src","noStyle","loading","onError"]);let h,v;return"size"in i?(h=i.size,v=i.size):(h=i.width,v=i.height),Object(e.h)(a.a,{src:g,maxWidth:h*2,className:p,imageProps:{height:v*2,crop:"fill"},style:O?void 0:{width:h,height:v},loading:s,onError:r})}},function(k,n,t){"use strict";t.d(n,"a",function(){return O}),t.d(n,"b",function(){return r});var e=t(85),a=t.n(e),o=t(156),l=t(4),d=t.n(l),c=t(10),u=t.n(c),f=t(55),m=t(9),p=t.n(m),g=t(441);function O({publication:i,post:h,siteConfigs:v={},twitterCardUrl:j=null,isCommentPage:y=!1,selection:b=null}){const E=(h==null?void 0:h.social_title)||(h==null?void 0:h.title)||i.name,{title:P,description:A}=s(h,i,{isCommentPage:y});let _,M;j?(_=j,M=!0):b?(_=Object(l.getPostSelectionPreviewUrl)(i,h,b),M=!0):[_,M]=r(i,h);const F=y&&h&&h.type!=="thread"&&h.comment_count===0;return Object(m.setMetaData)({title:P,socialTitle:E,searchDescription:h==null?void 0:h.search_engine_description,description:A,image:_,isLargeImage:M,imageHeight:b&&564,imageWidth:b&&1128,seoProps:{noindex:F,noarchive:Boolean(h&&h.post_paywall_content_for_google)},isPodcast:(h==null?void 0:h.type)==="podcast",isVideo:(h==null?void 0:h.type)==="video",slug:h==null?void 0:h.slug,pub:i,post:h,siteConfigs:v})}function s(i,h,{isCommentPage:v=!1}={}){var j,y;const b=(i==null?void 0:i.social_title)||(i==null?void 0:i.title)||h.name;let E,P;i?P=Object(c.getPrintedByline)(h,i):P=Object(f.default)("publication_author_display_override")||((j=Object(o.a)(h.contributors))==null?void 0:j.owner);const A=P&&!((y=h.name)==null?void 0:y.toLowerCase().includes(P==null?void 0:P.toLowerCase()));(i==null?void 0:i.title)?(E=(i==null?void 0:i.search_engine_title)||b,v&&i.type!=="thread"&&(E=`Comments - ${E}`),`${E} - by ${P}`.length<60&&(P&&A&&(E+=` - by ${P}`),`${E} - ${h.name}`.length<60&&(E+=` - ${h.name}`))):A?E=`${h.name} | ${P} | Substack`:E=`${h.name} | Substack`;let _;return i?_=Object(c.postSocialDescription)(i,h):_=Object(g.b)(h),_=a()(_),{title:E,description:_}}function r(i,h){let v,j;return(h==null?void 0:h.cover_image)?(v=Object(l.cloudinary)(h.cover_image,1200,{height:600,smartCrop:!0,format:"jpg"}),j=!0):i.subdomain==="numlock"?(v=Object(l.cloudinary)("/img/numlock_square.png?v=2",840),j=!1):(v=Object(l.getTwitterSubscribeCardUrl)(i),j=!0),[v,j]}},function(k,n){k.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(k,n,t){"use strict";t.d(n,"a",function(){return i}),t.d(n,"b",function(){return h}),t.d(n,"c",function(){return v});var e=t(0),a=t(1),o=t(71),l=t(35),d=Object.defineProperty,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(j,y,b)=>y in j?d(j,y,{enumerable:!0,configurable:!0,writable:!0,value:b}):j[y]=b,p=(j,y)=>{for(var b in y||(y={}))u.call(y,b)&&m(j,b,y[b]);if(c)for(var b of c(y))f.call(y,b)&&m(j,b,y[b]);return j},g;const O=typeof window!="undefined"&&window._preloads||o.c,s=typeof window!="undefined"?(g=window._preloads)==null?void 0:g.siteConfigs:{},r=(j,y)=>p(p({},Object(o.f)(j,y)),Object(l.d)(j)),i=Object(e.createContext)(r(s,O));i.displayName="ExperimentsAndSiteConfigContext";function h({siteConfigs:j={},experimentInfo:y,children:b}){const E=y||O,P=Object(a.i)(()=>r(j,E),[j,E]);return Object(e.h)(i.Provider,{value:P},b)}function v(){return Object(a.b)(i)}},function(k,n,t){"use strict";t.d(n,"c",function(){return M}),t.d(n,"d",function(){return F}),t.d(n,"b",function(){return H}),t.d(n,"a",function(){return C});var e=t(0),a=t(1),o=t(5),l=t.n(o),d=t(190),c=t(17),u=t.n(c),f=t(15),m=t(10),p=t(35),g=t(7),O=t(9),s=t(14),r=t(2),i=t(32),h=t(8),v={container:"frontend-components-like_post_upsell_modal-module__container--3qp6L",label:"frontend-components-like_post_upsell_modal-module__label--3lZgq",input:"frontend-components-like_post_upsell_modal-module__input--3NjBB",selectedInput:"frontend-components-like_post_upsell_modal-module__selectedInput--3BSQV"},j=Object.defineProperty,y=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,P=(T,S,D)=>S in T?j(T,S,{enumerable:!0,configurable:!0,writable:!0,value:D}):T[S]=D,A=(T,S)=>{for(var D in S||(S={}))b.call(S,D)&&P(T,D,S[D]);if(y)for(var D of y(S))E.call(S,D)&&P(T,D,S[D]);return T};const _="like_upsell_last_shown_at",M=()=>{const T=d.get(_);if(T){const S=u()(T),D=u()().subtract(30,"days");if(S.isAfter(D))return!1}return!0},F=T=>{d.set(_,u()().format(),A({expires:365*10},!T.custom_domain&&{domain:`.${new URL(Object(f.getBaseUrl)()).hostname}`}))},H=({pub:T})=>{var S,D;const w=Object(p.c)(),[U,V]=Object(a.l)((S=T==null?void 0:T.plans)==null?void 0:S[0]),K=w.getConfigFor("disable_monthly_subscriptions");return Object(e.h)(r.b,{gap:20},Object(e.h)(r.b,{gap:4},Object(e.h)(h.b.H4,{weight:"semibold"},"Support ",T.name),Object(e.h)(h.b.B4,{color:"secondary"},"Since you liked this post, why not support ",T.name," with a subscription?")),Object(e.h)("form",{className:v.form},Object(e.h)(r.b,{gap:12},(D=T==null?void 0:T.plans)==null?void 0:D.map(Y=>{if(!(Y.interval==="month"&&K))return Object(e.h)("label",{className:v.label,key:Y.id},Object(e.h)(r.c,{gap:12,alignItems:"center"},Object(e.h)("input",{name:"plan",type:"radio",value:Y.id,onInput:()=>V(Y),checked:U&&U.id===Y.id,className:l()({[v.selectedInput]:U&&U.id===Y.id},v.input)}),Object(e.h)(r.c,{gap:8},Object(e.h)(h.b.B4,{as:"span",weight:"semibold",color:U&&U.id===Y.id?"primary":"secondary"},Object(m.getPlanTitle)(Y)),Object(e.h)(h.b.B4,{as:"span",color:"secondary"},Object(m.planBasePricing)(Y)))))}))),Object(e.h)(s.a,{onClick:()=>{Object(g.i)(g.a.LIKE_UPSELL_PLAN_SELECTED),Object(O.redirect)(Object(f.getSubscribeUrl)(T,{params:A({utm_source:"like-button-upsell"},U&&{selectedPlanId:U.id})}),{local_navigation:!1})},grow:!0,priority:"primary-theme"},"Select"))},C=({pub:T})=>{const S=M(),[D,w]=Object(a.l)(S),[U,V]=Object(a.l)(S);Object(a.d)(()=>{S||Object(O.removeQueryParam)("show_reaction_upsell")},[S]),Object(a.d)(()=>{U&&D&&(Object(g.i)(g.a.LIKE_UPSELL_MODAL_SEEN,{source:"email",type:"paid"}),F(T))},[U,D,T]);const K=()=>{w(!D),V(!1),Object(O.removeQueryParam)("show_reaction_upsell")};return Object(e.h)(e.Fragment,null,U?Object(e.h)(i.a,{isOpen:D,onClose:K},Object(e.h)(i.b,null,Object(e.h)(H,{pub:T}))):null)}},function(k,n,t){"use strict";var e=t(0),a=t(5),o=t.n(a),l=t(454),d=t(126),c=t(9),u=t.n(c),f=Object.defineProperty,m=Object.defineProperties,p=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,r=(b,E,P)=>E in b?f(b,E,{enumerable:!0,configurable:!0,writable:!0,value:P}):b[E]=P,i=(b,E)=>{for(var P in E||(E={}))O.call(E,P)&&r(b,P,E[P]);if(g)for(var P of g(E))s.call(E,P)&&r(b,P,E[P]);return b},h=(b,E)=>m(b,p(E)),v=(b,E)=>{var P={};for(var A in b)O.call(b,A)&&E.indexOf(A)<0&&(P[A]=b[A]);if(b!=null&&g)for(var A of g(b))E.indexOf(A)<0&&s.call(b,A)&&(P[A]=b[A]);return P};const j=()=>null,y=b=>{var E=b,{variant:P="default",isSearchable:A=!1,className:_}=E,M=v(E,["variant","isSearchable","className"]),F,H;const{pub:C}=Object(d.b)();return Object(e.h)(l.a,h(i({},M),{isDisabled:M.isDisabled,className:o()("themed-select",_),components:i({IndicatorSeparator:j},M.components),theme:Object(c.getSelectTheme)({primary:((F=C.theme)==null?void 0:F.background_pop_color)||C.theme_var_background_pop||"#1a1a1a",neutral0:P==="light"?"white":(H=C.theme)==null?void 0:H.web_bg_color}),isSearchable:A,styles:i(i({container:T=>h(i({},T),{flex:1}),dropdownIndicator:T=>h(i({},T),{color:"#1a1a1a"})},M.showOnlyIndicator&&{valueContainer:T=>h(i({},T),{width:0,padding:0})}),M.styles)}))};n.a=y},function(k,n,t){(function(e){var a=c(),o=u(),l=f(),d=typeof window!="undefined"?window:e;k.exports={assign:a,create:o,trim:l,bind:m,slice:p,each:g,map:O,pluck:s,isList:r,isFunction:i,isObject:h,Global:d};function c(){return Object.assign?Object.assign:function(j,y,b,E){for(var P=1;P<arguments.length;P++)g(Object(arguments[P]),function(A,_){j[_]=A});return j}}function u(){if(Object.create)return function(y,b,E,P){var A=p(arguments,1);return a.apply(this,[Object.create(y)].concat(A))};{let j=function(){};var v=j;return function(b,E,P,A){var _=p(arguments,1);return j.prototype=b,a.apply(this,[new j].concat(_))}}}function f(){return String.prototype.trim?function(j){return String.prototype.trim.call(j)}:function(j){return j.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}function m(v,j){return function(){return j.apply(v,Array.prototype.slice.call(arguments,0))}}function p(v,j){return Array.prototype.slice.call(v,j||0)}function g(v,j){s(v,function(y,b){return j(y,b),!1})}function O(v,j){var y=r(v)?[]:{};return s(v,function(b,E){return y[E]=j(b,E),!1}),y}function s(v,j){if(r(v)){for(var y=0;y<v.length;y++)if(j(v[y],y))return v[y]}else for(var b in v)if(v.hasOwnProperty(b)&&j(v[b],b))return v[b]}function r(v){return v!=null&&typeof v!="function"&&typeof v.length=="number"}function i(v){return v&&{}.toString.call(v)==="[object Function]"}function h(v){return v&&{}.toString.call(v)==="[object Object]"}}).call(this,t(173))},function(k,n,t){"use strict";t.d(n,"a",function(){return r});var e=t(1),a=t(117);let o=0;function l(i="",h=[]){return Object(e.i)(()=>(o++,o=o>Number.MAX_SAFE_INTEGER?1:o,`${i}${o}`),h)}var d=Object.defineProperty,c=Object.defineProperties,u=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,g=(i,h,v)=>h in i?d(i,h,{enumerable:!0,configurable:!0,writable:!0,value:v}):i[h]=v,O=(i,h)=>{for(var v in h||(h={}))m.call(h,v)&&g(i,v,h[v]);if(f)for(var v of f(h))p.call(h,v)&&g(i,v,h[v]);return i},s=(i,h)=>c(i,u(h));const r=({layerOptions:i,hideOnScroll:h}={})=>{const[v,j]=Object(e.l)(!1);Object(e.d)(()=>{if(h){const _=()=>{requestAnimationFrame(()=>{open&&h&&j(!1)})};return window.addEventListener("scroll",_,!0),()=>{window.removeEventListener("scroll",_,!0)}}},[h]);const{triggerProps:y,layerProps:b,renderLayer:E}=Object(a.c)(O({isOpen:v,placement:"bottom-center",preferY:"bottom",triggerOffset:10,onOutsideClick:()=>j(!1)},i)),P=l("trigger"),A=l("dialog");return{triggerProps:s(O({},y),{id:P,"aria-expanded":v,"aria-haspopup":"dialog","aria-controls":A}),layerProps:s(O({},b),{id:A,role:"dialog",tabIndex:0,"aria-labeledby":P}),renderLayer:E,isOpen:v,setOpen:j}}},function(k,n,t){"use strict";var e=this&&this.__createBinding||(Object.create?function(f,m,p,g){g===void 0&&(g=p);var O=Object.getOwnPropertyDescriptor(m,p);(!O||("get"in O?!m.__esModule:O.writable||O.configurable))&&(O={enumerable:!0,get:function(){return m[p]}}),Object.defineProperty(f,g,O)}:function(f,m,p,g){g===void 0&&(g=p),f[g]=m[p]}),a=this&&this.__exportStar||function(f,m){for(var p in f)p!=="default"&&!Object.prototype.hasOwnProperty.call(m,p)&&e(m,f,p)};Object.defineProperty(n,"__esModule",{value:!0}),n.DomHandler=void 0;var o=t(327),l=t(748);a(t(748),n);var d=/\s+/g,c={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1,xmlMode:!1},u=function(){function f(m,p,g){this.dom=[],this.root=new l.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof p=="function"&&(g=p,p=c),typeof m=="object"&&(p=m,m=void 0),this.callback=m!=null?m:null,this.options=p!=null?p:c,this.elementCB=g!=null?g:null}return f.prototype.onparserinit=function(m){this.parser=m},f.prototype.onreset=function(){this.dom=[],this.root=new l.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},f.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},f.prototype.onerror=function(m){this.handleCallback(m)},f.prototype.onclosetag=function(){this.lastNode=null;var m=this.tagStack.pop();this.options.withEndIndices&&(m.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(m)},f.prototype.onopentag=function(m,p){var g=this.options.xmlMode?o.ElementType.Tag:void 0,O=new l.Element(m,p,void 0,g);this.addNode(O),this.tagStack.push(O)},f.prototype.ontext=function(m){var p=this.options.normalizeWhitespace,g=this.lastNode;if(g&&g.type===o.ElementType.Text)p?g.data=(g.data+m).replace(d," "):g.data+=m,this.options.withEndIndices&&(g.endIndex=this.parser.endIndex);else{p&&(m=m.replace(d," "));var O=new l.Text(m);this.addNode(O),this.lastNode=O}},f.prototype.oncomment=function(m){if(this.lastNode&&this.lastNode.type===o.ElementType.Comment){this.lastNode.data+=m;return}var p=new l.Comment(m);this.addNode(p),this.lastNode=p},f.prototype.oncommentend=function(){this.lastNode=null},f.prototype.oncdatastart=function(){var m=new l.Text(""),p=new l.NodeWithChildren(o.ElementType.CDATA,[m]);this.addNode(p),m.parent=p,this.lastNode=m},f.prototype.oncdataend=function(){this.lastNode=null},f.prototype.onprocessinginstruction=function(m,p){var g=new l.ProcessingInstruction(m,p);this.addNode(g)},f.prototype.handleCallback=function(m){if(typeof this.callback=="function")this.callback(m,this.dom);else if(m)throw m},f.prototype.addNode=function(m){var p=this.tagStack[this.tagStack.length-1],g=p.children[p.children.length-1];this.options.withStartIndices&&(m.startIndex=this.parser.startIndex),this.options.withEndIndices&&(m.endIndex=this.parser.endIndex),p.children.push(m),g&&(m.prev=g,g.next=m),m.parent=p,this.lastNode=null},f}();n.DomHandler=u,n.default=u},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(45);const a=(o,l,d,c,u)=>!(!u&&!(o==null?void 0:o.has_publication)||c.invite_only||Object(e.isPaidAudience)(d.audience)||!l.enable_restacking)},function(k,n,t){"use strict";t.d(n,"a",function(){return e});const e={postAuthor:"custom-css-email-post-author",avatar:"custom-css-email-avatar",digestPostEmbed:"custom-css-email-digest-post-embed"}},function(k,n,t){var e=t(451),a=t(1002),o=t(372),l=9007199254740991,d=4294967295,c=Math.min;function u(f,m){if(f=o(f),f<1||f>l)return[];var p=d,g=c(f,d);m=a(m),f-=d;for(var O=e(g,m);++p<f;)m(p);return O}k.exports=u},function(k,n,t){"use strict";t.d(n,"a",function(){return Ce}),t.d(n,"b",function(){return te}),t.d(n,"c",function(){return ot});var e=t(0),a=t(1),o=t(22),l=t(562),d=t(444),c=t(837),u=t(17),f=t.n(u),m=t(252),p=t(4),g=t(44),O=t(84),s=t(160),r=t(382),i=t(716),h=t(383),v=t(151),j=t(51),y=t(71),b=t(35),E=t(25);function P(){return Object(e.h)("svg",{width:"160",height:"160",viewBox:"0 0 160 160",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object(e.h)("circle",{cx:"80",cy:"80",r:"79.5",stroke:"var(--color-detail)"}),Object(e.h)("circle",{cx:"132",cy:"132",r:"27.5",fill:"var(--color-bg-primary)",stroke:"var(--color-detail)"}),Object(e.h)("circle",{cx:"132",cy:"132",r:"13",fill:"var(--color-accent-twitter)"}),Object(e.h)("line",{x1:"132",y1:"126.5",x2:"132",y2:"137.5",stroke:"var(--color-bg-primary)","stroke-width":"2","stroke-linecap":"round"}),Object(e.h)("line",{x1:"126.5",y1:"132",x2:"137.5",y2:"132",stroke:"var(--color-bg-primary)","stroke-width":"2","stroke-linecap":"round"}),Object(e.h)("path",{d:"M118.647 60.5265C118.706 61.3775 118.706 62.2285 118.706 63.0873C118.706 89.2559 98.7843 119.436 62.3569 119.436V119.421C51.5961 119.436 41.0588 116.354 32 110.542C33.5647 110.73 35.1373 110.825 36.7137 110.828C45.6314 110.836 54.2941 107.844 61.3098 102.334C52.8353 102.174 45.4039 96.6481 42.8078 88.5814C45.7765 89.154 48.8353 89.0363 51.749 88.2402C42.5098 86.3736 35.8627 78.2559 35.8627 68.8285C35.8627 68.7422 35.8627 68.6599 35.8627 68.5775C38.6157 70.1108 41.698 70.9618 44.851 71.0559C36.149 65.2402 33.4667 53.6638 38.7216 44.6128C48.7765 56.9853 63.6118 64.5069 79.5373 65.303C77.9412 58.4246 80.1216 51.2167 85.2667 46.3814C93.2431 38.8834 105.788 39.2677 113.286 47.2402C117.722 46.3657 121.973 44.7383 125.863 42.4324C124.384 47.0167 121.29 50.9108 117.157 53.3853C121.082 52.9226 124.918 51.8716 128.529 50.2677C125.871 54.252 122.522 57.7226 118.647 60.5265Z",fill:"var(--color-accent-twitter)"}))}var A=t(7),_=t(18),M=t(113),F=t(9),H=t(11),C=t(14),T=t(404),S=t(2),D=t(32),w=t(8),U=t(185),V=t(60),K=t(267),Y=t(90),W=t(88),R=t(405),B=t(92),x=Object.defineProperty,G=Object.defineProperties,Q=Object.getOwnPropertyDescriptors,he=Object.getOwnPropertySymbols,Z=Object.prototype.hasOwnProperty,le=Object.prototype.propertyIsEnumerable,de=(ze,vt,Wt)=>vt in ze?x(ze,vt,{enumerable:!0,configurable:!0,writable:!0,value:Wt}):ze[vt]=Wt,be=(ze,vt)=>{for(var Wt in vt||(vt={}))Z.call(vt,Wt)&&de(ze,Wt,vt[Wt]);if(he)for(var Wt of he(vt))le.call(vt,Wt)&&de(ze,Wt,vt[Wt]);return ze},X=(ze,vt)=>G(ze,Q(vt)),ie=(ze,vt,Wt)=>new Promise((zt,at)=>{var Me=Te=>{try{Xe(Wt.next(Te))}catch(we){at(we)}},Be=Te=>{try{Xe(Wt.throw(Te))}catch(we){at(we)}},Xe=Te=>Te.done?zt(Te.value):Promise.resolve(Te.value).then(Me,Be);Xe((Wt=Wt.apply(ze,vt)).next())});function Ce(){const ze=Object(E.d)(),vt=new URL(location.toString());return Object(a.i)(()=>ze.user&&!ze.userSettings.feed_web_nux_seen_at||vt.searchParams.get("action")==="nux",[])?Object(e.h)(Le,null):null}function Le(){const ze=Object(E.d)(),vt=Object(b.c)(),[Wt,zt]=Object(a.l)(!0),[at,Me]=Object(a.l)(1),[Be,Xe]=Object(a.l)(null),[Te,we]=Object(a.l)(!1);Object(a.d)(()=>{ze.changeSetting("feed_web_nux_seen_at",new Date().toISOString())},[]);const De=({skipReload:He=!1}={})=>{zt(!1),!He&&Te&&window.location.reload()},Ie=()=>{var He,Ve;let z=at+1;z===2&&((He=ze.user)==null?void 0:He.name)&&(z+=1),z===3&&(!vt.getConfigFor("twitter_connect_flows_enabled")||((Ve=ze.user)==null?void 0:Ve.has_linked_twitter))&&(z+=1),Me(z)};return Object(e.h)(D.a,{isOpen:Wt,onClose:De,width:440,overflow:"hidden"},at===1?Object(e.h)(Ae,{onClose:De,onNext:Ie}):at===2?Object(e.h)(Pe,{onClose:De,onNext:Ie}):at===3?Object(e.h)(Ne,{onClose:De,onNext:Ie,onSkip:()=>Me(at+2)}):at===4?Object(e.h)(q,{onPublish:He=>{Xe(He),Ie()},onClose:De}):at===5?Object(e.h)(te,{onClose:De,comment:Be}):null)}function Ae({onClose:ze,onNext:vt}){return Object(e.h)(e.Fragment,null,Object(e.h)(S.b,null,Object(e.h)(T.a,{onClick:ze,priority:"media",fill:"borderless",style:{position:"absolute",top:8,right:8}}),Object(e.h)(j.a,{src:"/img/reader/nux-web@3x.png",maxWidth:440,imageProps:{height:304}})),Object(e.h)(S.b,{gap:8,padding:16},Object(e.h)(w.b.H2,{weight:"semibold",align:"center"},"Introducing: Notes"),Object(e.h)(w.b.B3,{align:"center",color:"secondary"},"Notes is a new space to share what you're reading and keep up with your favorite writers on Substack."," ",Object(e.h)("a",{href:"https://on.substack.com/p/notes",target:"_blank",rel:"noopener noreferrer"},"Learn more"))),Object(e.h)(We,null,Object(e.h)(C.a,{priority:"primary",onClick:vt},"Get started")))}function Pe({onClose:ze,onNext:vt}){const Wt=Object(E.d)();return Object(e.h)(e.Fragment,null,Object(e.h)(D.d,{title:"First, set up your profile",description:"Introduce yourself by adding a name, bio, and photo to your profile.",includeClose:!0,onClose:ze}),Object(e.h)(v.b,{className:B.a.setupProfileModalContent,pageTitle:"",user:Wt.user,optionalPhoto:!0,noSubscribeCta:!0,complete:!0,onSuccess:zt=>{Wt.setUser(zt.body),vt()}}))}function Ne({onClose:ze,onNext:vt,onSkip:Wt}){return Object(a.d)(()=>{const zt=at=>{var Me;at.origin===location.origin&&((Me=at.data)==null?void 0:Me.type)==="twitter-success"&&vt()};return window.addEventListener("message",zt),()=>{window.removeEventListener("message",zt)}},[]),Object(e.h)(e.Fragment,null,Object(e.h)(D.d,{includeClose:!0,onClose:ze}),Object(e.h)(S.b,{padding:16},Object(e.h)(S.b,{alignItems:"center",gap:8},Object(e.h)(w.b.H2,{weight:"semibold"},"Connect Twitter"),Object(e.h)(w.b.B3,{align:"center",color:"secondary"},"Instantly find people you know on Substack.")),Object(e.h)(S.b,{alignItems:"center",paddingY:32},Object(e.h)(P,null))),Object(e.h)(We,null,Object(e.h)(C.a,{priority:"twitter",href:Object(p.getConnectTwitterUrl)({type:"reader2",redirect:Object(p.pathWithQuery)(g.a,{action:"notify-opener"})}),newTab:!0},"Connect Twitter"),Object(e.h)(C.a,{onClick:Wt,priority:"secondary",fill:"empty"},"Skip")))}function ce({onClose:ze,onNext:vt}){const{result:Wt,isLoading:zt,error:at}=Object(_.f)({pathname:"/api/v1/reader/feed/user-suggestions",query:{limit:7},auto:!0}),Me=Wt==null?void 0:Wt.suggestions;return Object(a.d)(()=>{Me&&Me.length===0&&vt(!1)},[Me]),Object(e.h)(e.Fragment,null,Object(e.h)(D.d,{includeClose:!0,onClose:ze}),Object(e.h)(S.b,{padding:16,alignItems:"center",gap:8},Object(e.h)(w.b.H2,{weight:"semibold"},"Choose your subscriptions"),Object(e.h)(w.b.B3,{color:"secondary",align:"center"},"Subscribe to people to see their notes.")),at?"Error":!Me||zt?Object(e.h)(S.b,{alignItems:"center",padding:24},Object(e.h)(U.a,null)):Object(e.h)(R.a,{suggestions:Me,onSuccess:vt,secondaryButton:Object(e.h)(C.a,{onClick:()=>vt(!1),priority:"secondary",fill:"empty"},"Skip"),source:"feed-nux"}))}function q({onClose:ze,onPublish:vt}){const Wt=Object(E.c)(),zt=Object(Y.d)(),{create:at,isLoading:Me}=Object(Y.e)(),Be=Object(V.f)(),[Xe,Te]=Object(M.a)(),{exposeExperiment:we,getExperimentVariant:De}=Object(y.d)();if(!Wt)return null;we("feed_nux_empty_message");const Ie=De("feed_nux_empty_message")==="treatment",He="Hello, Notes! What's going on?",Ve=()=>ie(this,null,function*(){if(!Me){if(Ie)ze({skipReload:!0}),zt.open({initialText:""});else{const se=yield at({bodyJson:Object(m.a)(He,o.generateJSON)});if(se instanceof Error)return;vt(se),Be({type:"new_comment",payload:{comment:se}})}location.pathname!==g.a&&Te(g.a)}}),z=()=>{ze({skipReload:!0}),zt.open({initialText:He})};return Object(e.h)(e.Fragment,null,Object(e.h)(D.d,{includeClose:!0,onClose:ze}),Object(e.h)(S.b,{alignItems:"center",gap:8,padding:16},Object(e.h)(w.b.H2,{weight:"semibold"},"Time to say hello!"),Object(e.h)(w.b.B3,{align:"center",color:"secondary"},"Send your first note to tell others you've arrived.")),Object(e.h)(S.b,{paddingX:16,paddingTop:8,paddingBottom:16},Object(e.h)(S.b,{border:"detail",shadow:"lg",padding:16,radius:12},Object(e.h)(S.a,{gap:12},Object(e.h)(W.b,{user:Wt}),Object(e.h)(S.b,{flex:"grow",minWidth:0},Object(e.h)(w.b.B3,{weight:"semibold",ellipsis:!0},Wt.name),Object(e.h)(w.b.B4,{color:"secondary"},f()().fromNowShort()))),Object(e.h)(S.b,{paddingY:16,borderBottom:"detail"},Object(e.h)(w.b,{font:"text",size:18},He)),Object(e.h)(S.a,{style:{gap:34}},Object(e.h)(ue,null,Object(e.h)(l.a,{stroke:"var(--color-secondary)",size:20}),Object(e.h)(w.b.Button,{color:"secondary"},"Like")),Object(e.h)(ue,null,Object(e.h)(s.default,{stroke:"var(--color-secondary)",width:20}),Object(e.h)(w.b.Button,{color:"secondary"},"Reply")),Object(e.h)(ue,null,Object(e.h)(O.default,{stroke:"var(--color-secondary)",width:20}),Object(e.h)(w.b.Button,{color:"secondary"},"Restack"))))),Object(e.h)(S.b,{padding:16,gap:8},Object(e.h)(C.a,{priority:"primary",onClick:Ve,disabled:Me},Ie?"Say hello":"Send now"),!Ie&&Object(e.h)(C.a,{onClick:z,priority:"secondary",fill:"empty",disabled:Me},"Edit note")))}function te({onClose:ze,comment:vt}){const Wt=Object(g.k)(vt,{urlParams:{utm_source:"substack",utm_context:"first-note-modal"}}),zt=`I just joined Substack Notes
`,at=Object(E.c)();return at?Object(e.h)(e.Fragment,null,Object(e.h)(D.d,{includeClose:!0,onClose:ze}),Object(e.h)(S.b,{padding:16},Object(e.h)(S.b,{alignItems:"center",gap:4,padding:16},Object(e.h)(w.b.H2,{weight:"semibold"},"Share your first Note"),Object(e.h)(w.b.B3,{align:"center",color:"secondary"},"Invite your friends and followers to join you on Notes")),Object(e.h)(S.b,{gap:24,paddingTop:8,paddingBottom:32,paddingX:16},Object(e.h)(S.b,{paddingTop:8,paddingBottom:16},Object(e.h)(S.b,{border:"detail",shadow:"lg",padding:16,radius:12},Object(e.h)(S.a,{gap:12},Object(e.h)(W.b,{user:at}),Object(e.h)(S.b,{flex:"grow",minWidth:0},at&&Object(e.h)(w.b.B3,{weight:"semibold",ellipsis:!0},at.name),Object(e.h)(w.b.B4,{color:"secondary"},f()().fromNowShort()))),Object(e.h)(S.b,{paddingY:16,borderBottom:"detail"},Object(e.h)(w.b,{font:"text",size:18},Object(e.h)(K.FeedCommentBody,{comment:vt,publication:null}))),Object(e.h)(S.a,{style:{gap:34}},Object(e.h)(ue,null,Object(e.h)(l.a,{stroke:"var(--color-secondary)",size:20}),Object(e.h)(w.b.Button,{color:"secondary"},"Like")),Object(e.h)(ue,null,Object(e.h)(s.default,{stroke:"var(--color-secondary)",width:20}),Object(e.h)(w.b.Button,{color:"secondary"},"Reply")),Object(e.h)(ue,null,Object(e.h)(O.default,{stroke:"var(--color-secondary)",width:20}),Object(e.h)(w.b.Button,{color:"secondary"},"Restack"))))),Object(e.h)(w.b.Meta,{align:"center"},"Share via"),Object(e.h)(ot,{shareSource:"first-note-modal",shareUrl:Wt,shareText:zt,shareEventType:"note",itemKey:vt.item_entity_key})))):null}function ue({children:ze}){return Object(e.h)(S.a,{alignItems:"center",gap:8,paddingTop:16},ze)}function We({children:ze}){return Object(e.h)(S.b,{padding:16,borderTop:"detail",gap:8},ze)}function ot({shareUrl:ze,shareText:vt,shareEventType:Wt,itemKey:zt,shareSource:at,onShare:Me}){const Be=Object(H.L)(),Xe=(Ve,z)=>{Object(A.i)(A.a.SHARE_LINK_CLICKED,{name:Ve,type:Wt,item_entity_key:zt,source:at});const se=z();se&&(se.startsWith("http")?window.open(se,"_blank"):document.location.href=se),Me==null||Me()},Te=()=>{Xe("copy",()=>{Object(F.copyToClipboard)(ze)}),Be.popToast(Ve=>Object(e.h)(H.I,X(be({},Ve),{text:"Link copied",Icon:d.a})))},we=()=>{Xe("twitter",()=>Object(p.pathWithQuery)("https://twitter.com/share",{url:ze,text:vt}))},De=()=>{Xe("facebook",()=>Object(p.pathWithQuery)("https://www.facebook.com/sharer/sharer.php",{u:ze}))},Ie=()=>{Xe("linkedin",()=>Object(p.pathWithQuery)("https://www.linkedin.com/sharing/share-offsite/",{url:ze}))},He=()=>{Xe("email",()=>Object(p.pathWithQuery)("mailto:",{subject:vt,body:ze}))};return Object(e.h)(S.b,{flex:"grow",justifyContent:"center",gap:16},Object(e.h)(S.c,{gap:8},Object(e.h)(S.b,{gap:8,alignItems:"center",flex:"grow"},Object(e.h)(C.d,{onClick:we,resetCss:!0,className:B.a.shareImageButton},Object(e.h)(h.default,{height:48})),Object(e.h)(w.b.Detail,{align:"center",color:"primary"},"Twitter")),Object(e.h)(S.b,{gap:8,alignItems:"center",flex:"grow"},Object(e.h)(C.d,{onClick:De,resetCss:!0,className:B.a.shareImageButton},Object(e.h)(r.default,{height:48})),Object(e.h)(w.b.Detail,{align:"center",color:"primary"},"Facebook")),Object(e.h)(S.b,{gap:8,alignItems:"center",flex:"grow"},Object(e.h)(C.d,{onClick:Ie,resetCss:!0,className:B.a.shareImageButton},Object(e.h)(i.default,{height:48})),Object(e.h)(w.b.Detail,{align:"center",color:"primary"},"LinkedIn")),Object(e.h)(S.b,{gap:8,alignItems:"center",flex:"grow"},Object(e.h)(C.c,{size:48,onClick:Te,rounded:!0,fill:"borderless","aria-label":"Close"},Object(e.h)(d.a,{size:20,style:{stroke:"var(--color-primary)"}})),Object(e.h)(w.b.Detail,{align:"center",color:"primary"},"Copy Link")),Object(e.h)(S.b,{gap:8,alignItems:"center",flex:"grow"},Object(e.h)(C.c,{size:48,onClick:He,rounded:!0,fill:"borderless","aria-label":"Close"},Object(e.h)(c.a,{size:20,style:{stroke:"var(--color-primary)"}})),Object(e.h)(w.b.Detail,{align:"center",color:"primary"},"Email"))))}},function(k,n,t){"use strict";t.d(n,"b",function(){return l}),t.d(n,"a",function(){return d});var e=t(0),a=t(1);const o=Object(e.createContext)({hasThemedBackground:!1});o.displayName="ThemeContext";function l(){var c;return Boolean((c=Object(a.b)(o))==null?void 0:c.hasThemedBackground)}function d({value:c,children:u}){const f=Object(a.i)(()=>c,Object.values(c));return Object(e.h)(o.Provider,{value:f},u)}},function(k,n,t){"use strict";t.d(n,"a",function(){return p});var e=t(0),a=t(1),o=t(5),l=t.n(o),d=t(2),c=t(8),u=t(111),f=t(51),m={imageGroup:"frontend-components-ImageGroup-module__imageGroup--1z1TX","size-1":"frontend-components-ImageGroup-module__size-1--1iFk8",image:"frontend-components-ImageGroup-module__image--2U19l","size-2":"frontend-components-ImageGroup-module__size-2--2hJZ3","size-4":"frontend-components-ImageGroup-module__size-4--3DTz4","size-3":"frontend-components-ImageGroup-module__size-3--10B0S","size-5":"frontend-components-ImageGroup-module__size-5--3K5Ys","size-6":"frontend-components-ImageGroup-module__size-6--2vHhc",restack:"frontend-components-ImageGroup-module__restack--rlF8v",topLeft:"frontend-components-ImageGroup-module__topLeft--2q1qa",topRight:"frontend-components-ImageGroup-module__topRight--ZzbRQ",bottomLeft:"frontend-components-ImageGroup-module__bottomLeft--SXYU4",bottomLeftChat:"frontend-components-ImageGroup-module__bottomLeftChat--2Lebq",bottomRight:"frontend-components-ImageGroup-module__bottomRight--ODHvl",clickable:"frontend-components-ImageGroup-module__clickable--ANvEI",imageCount:"frontend-components-ImageGroup-module__imageCount--2Vd89"};function p({className:O,assets:s,readOnly:r,isRestack:i,onClick:h}){let v=s;s.length>6&&(v=v.slice(0,5));const[j,y]=Object(a.l)(null),b=(E,P)=>{E.preventDefault(),y({index:P})};return Object(e.h)(d.a,{className:l()(m.imageGroup,m[`size-${Math.min(s.length,6)}`],i&&m.restack,O),alignSelf:"stretch",gap:4},v.map((E,P)=>Object(e.h)(g,{key:E,asset:E,index:P,total:s.length,readOnly:r,onClick:r?void 0:A=>{A.preventDefault(),h&&h(),b(A,P)}})),s.length>6&&Object(e.h)(g,{asset:s[6],index:5,total:6,count:s.length-v.length,readOnly:r,onClick:h}),!r&&Object(e.h)(u.a,{module:"./ImageViewerModal",resolve:E=>E.ImageViewerModal,onRequest:()=>Promise.resolve().then(t.bind(null,231)),showModal:Boolean(j),modalContent:s.map(E=>({attrs:{src:E}})),onClose:()=>{y(null)},step:j?j.index:void 0,includeDownloadButton:!1}))}function g({asset:O,onClick:s,index:r,total:i,count:h,readOnly:v}){return Object(e.h)(d.a,{className:l()(m.image,!v&&m.clickable,r===0&&m.topLeft,(r===0&&i===1||r===1&&i===2||r===1&&i===4||r===2&&i!==4)&&m.topRight,(r===0&&i<=3||r===2&&i===4||r===3&&i>4)&&m.bottomLeft,(r+1===i||r==2&&i===5)&&m.bottomRight),flex:"grow",radius:4,onClick:s},Object(e.h)(f.a,{src:O,maxWidth:500*2}),h!=null&&Object(e.h)(d.a,{className:m.imageCount,justifyContent:"center",alignItems:"center"},Object(e.h)(c.b.H2,{color:"bg-light"},"+",h)))}},function(k,n){function t(e,a){return e===a||e!==e&&a!==a}k.exports=t},function(k,n,t){var e=t(299),a=t(225);function o(l,d){d=e(d,l);for(var c=0,u=d.length;l!=null&&c<u;)l=l[a(d[c++])];return c&&c==u?l:void 0}k.exports=o},function(k,n,t){"use strict";var e=t(1);const a=(o,l)=>{const d=Object(e.k)();Object(e.d)(()=>{d.current=o},[o]),Object(e.d)(()=>{function c(){d.current()}if(l!==null){const u=setInterval(c,l);return()=>clearInterval(u)}},[l])};n.a=a},function(k,n,t){"use strict";t.d(n,"a",function(){return d}),t.d(n,"b",function(){return c});var e=t(0),a=t(1),o;const l=typeof window!="undefined"?(o=window._preloads)==null?void 0:o.pub:null,d=Object(e.createContext)(l);d.displayName="PubContext";function c(){return Object(a.b)(d)}},function(k,n,t){"use strict";var e=t(362);t.d(n,"a",function(){return e.a}),t.d(n,"b",function(){return e.b}),t.d(n,"c",function(){return e.c})},function(k,n,t){"use strict";t.d(n,"b",function(){return _}),t.d(n,"h",function(){return C}),t.d(n,"g",function(){return T}),t.d(n,"e",function(){return S}),t.d(n,"c",function(){return D}),t.d(n,"f",function(){return w}),t.d(n,"d",function(){return U}),t.d(n,"a",function(){return K});var e=t(422),a=t.n(e),o=t(331),l=t.n(o),d=t(332),c=t.n(d),u=t(333),f=t.n(u),m=Object.defineProperty,p=Object.defineProperties,g=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,i=(W,R,B)=>R in W?m(W,R,{enumerable:!0,configurable:!0,writable:!0,value:B}):W[R]=B,h=(W,R)=>{for(var B in R||(R={}))s.call(R,B)&&i(W,B,R[B]);if(O)for(var B of O(R))r.call(R,B)&&i(W,B,R[B]);return W},v=(W,R)=>p(W,g(R));const j=l.a.createStore([c.a,f.a],[]),y=".buffer",b="ss-version-backups-local",E=32,P=4,A=7*24*60*60*1e3,_=W=>{var R,B,x,G;return((B=(R=window._preloads)==null?void 0:R.pub)==null?void 0:B.id)?((G=(x=window._preloads)==null?void 0:x.user)==null?void 0:G.id)?F().filter(Q=>!(Q.publication_id!==window._preloads.pub.id||Q.user_id&&Q.user_id!==window._preloads.user.id||Q.post_id!==W||Q.local_version_saved_at&&Date.now()-new Date(Q.local_version_saved_at)>A)):[]:[]},M=W=>{if(!(W==null?void 0:W.post_id)||!(W==null?void 0:W.draft_updated_at)||!(W==null?void 0:W.draft_body))return;const R=F();if(R.filter(G=>G.post_id===W.post_id).length>=P){const G=a()(R,Q=>Q.post_id===W.post_id);G>=0&&R.splice(G,1)}const x=[W].concat(R.filter(G=>G.post_id!==W.post_id||G.draft_updated_at!==W.draft_updated_at&&G.draft_body&&G.draft_body!==W.draft_body)).slice(0,E);Y(b,x)},F=()=>j.get(b,[]).filter(Boolean),H=()=>j.get(b+y,{}),C=W=>{var R,B;!((R=window._preloads.pub)==null?void 0:R.id)||!((B=window._preloads.user)==null?void 0:B.id)||!(W==null?void 0:W.post_id)||!(W==null?void 0:W.draft_updated_at)||!(W==null?void 0:W.draft_body)||Y(b+y,v(h({},W),{publication_id:window._preloads.pub.id,user_id:window._preloads.user.id,local_version_saved_at:new Date}))},T=()=>{j.remove(b+y)},S=W=>{if(!(W==null?void 0:W.post_id)||!(W==null?void 0:W.draft_updated_at))return;const B=F().filter(x=>x.post_id!==W.post_id||x.draft_updated_at!==W.draft_updated_at);Y(b,B)},D=({postId:W,editorId:R})=>{const B=F();return Boolean(B.find(x=>x.post_id===W&&x.editor_id&&x.editor_id!==R))},w=({postId:W,editorId:R})=>{const x=F().filter(G=>G.editor_id?G.post_id!==W||G.editor_id!==R:!1);Y(b,x)},U=()=>{const W=H();!(W==null?void 0:W.draft_body)||(M(W),T())},V=()=>{T(),j.remove(b)},K=W=>{(!W||F().find(R=>R.user_id&&R.user_id!==W))&&V()},Y=(W,R)=>{try{if(j.set(W,R),JSON.stringify(j.get(W))!==JSON.stringify(R))throw new Error("localStorage.setItem claimed to work but then getItem didnt return the expected value for key=",W)}catch(B){console.error("localStorage.setItem failed:",B),V()}}},function(k,n,t){"use strict";n.a={modalTitle:"frontend-components-app_install_modal-module__modalTitle--fGCym",qrCode:"frontend-components-app_install_modal-module__qrCode--1HNTk",divider:"frontend-components-app_install_modal-module__divider--3jx5V",dividerLine:"frontend-components-app_install_modal-module__dividerLine--2pk9H",appBadge:"frontend-components-app_install_modal-module__appBadge--seKw9"}},,function(k,n,t){var e=t(586),a=e(function(o,l,d){o[d?0:1].push(l)},function(){return[[],[]]});k.exports=a},function(k,n,t){"use strict";t.d(n,"a",function(){return e});var e=(a=>(a.Space=" ",a.Enter="Enter",a.Escape="Escape",a.Backspace="Backspace",a.Delete="Delete",a.ArrowLeft="ArrowLeft",a.ArrowUp="ArrowUp",a.ArrowRight="ArrowRight",a.ArrowDown="ArrowDown",a.Home="Home",a.End="End",a.PageUp="PageUp",a.PageDown="PageDown",a.Tab="Tab",a))(e||{})},,function(k,n,t){"use strict";t.d(n,"a",function(){return Ae}),t.d(n,"c",function(){return we}),t.d(n,"b",function(){return Ve}),t.d(n,"e",function(){return z}),t.d(n,"d",function(){return se}),t.d(n,"f",function(){return Se});var e=t(0),a=t(3),o=t(1),l=t(5),d=t.n(l),c=t(850),u=t(519),f=t(562),m=t(443),p=t(851),g=t(564),O=t(840),s=t(814),r=t(834),i=t(193),h=t(4),v=t(15),j=t(10),y=t(84),b=t(130),E=t(209),P=t(47),A=t(122),_=t(35),M=t(25),F=t(7),H=t(18),C=t(696),T=t(113),S=t(270),D=t(14),w=t(2),U=t(205),V=t(23),K=t(8),Y=t(91),W=t(19),R=t(62),B=t(186),x=t(79),G={viewer:"frontend-reader2-PostViewer-module__viewer--2U6Al",nav:"frontend-reader2-PostViewer-module__nav--1oVyU",navArrows:"frontend-reader2-PostViewer-module__navArrows--3IjkT",bottomNav:"frontend-reader2-PostViewer-module__bottomNav--2V8Xa",isReading:"frontend-reader2-PostViewer-module__isReading--1kVed",viewerContainer:"frontend-reader2-PostViewer-module__viewerContainer--1fX95",viewerOffset:"frontend-reader2-PostViewer-module__viewerOffset--1Y3IN",actionIcon:"frontend-reader2-PostViewer-module__actionIcon--1QT2n",content:"frontend-reader2-PostViewer-module__content--1iodv",navArrow:"frontend-reader2-PostViewer-module__navArrow--13mV9",post:"frontend-reader2-PostViewer-module__post--SeHtg",ufi:"frontend-reader2-PostViewer-module__ufi--29_YO",logoContainer:"frontend-reader2-PostViewer-module__logoContainer--3JNN6",logo:"frontend-reader2-PostViewer-module__logo--19Nzm",isLiked:"frontend-reader2-PostViewer-module__isLiked--2ZsU9",isSaved:"frontend-reader2-PostViewer-module__isSaved--1pckN",isRestacked:"frontend-reader2-PostViewer-module__isRestacked--27QFc",shortcutTooltip:"frontend-reader2-PostViewer-module__shortcutTooltip--lQsxB",shortcutKeys:"frontend-reader2-PostViewer-module__shortcutKeys--1wFmR",shortcutKey:"frontend-reader2-PostViewer-module__shortcutKey--9ff2J"},Q=Object.defineProperty,he=Object.defineProperties,Z=Object.getOwnPropertyDescriptors,le=Object.getOwnPropertySymbols,de=Object.prototype.hasOwnProperty,be=Object.prototype.propertyIsEnumerable,X=(Oe,ge,je)=>ge in Oe?Q(Oe,ge,{enumerable:!0,configurable:!0,writable:!0,value:je}):Oe[ge]=je,ie=(Oe,ge)=>{for(var je in ge||(ge={}))de.call(ge,je)&&X(Oe,je,ge[je]);if(le)for(var je of le(ge))be.call(ge,je)&&X(Oe,je,ge[je]);return Oe},Ce=(Oe,ge)=>he(Oe,Z(ge)),Le=(Oe,ge)=>{var je={};for(var it in Oe)de.call(Oe,it)&&ge.indexOf(it)<0&&(je[it]=Oe[it]);if(Oe!=null&&le)for(var it of le(Oe))ge.indexOf(it)<0&&be.call(Oe,it)&&(je[it]=Oe[it]);return je};function Ae(Oe){const ge=Object(Y.b)();return Object(o.d)(()=>()=>{ge.setDrawer(null)},[]),ge.setDrawer(Object(e.h)(Ne,ie({},Oe)))}const Pe=20;function Ne({postId:Oe,post:ge,publication:je,onClose:it,onPrevious:Tt,onNext:sn,onSave:ht,onArchive:Nt,onLike:wt,onLoad:yt}){var Qe,At,jt,ke;const tn=Object(x.e)(),Pn=Object(M.c)();Object(o.d)(()=>{Object(F.i)(F.a.POST_VIEWER_VIEWED,{post_id:Oe})},[Oe]);const Ft=Object(o.a)(()=>{Object(F.i)(F.a.POST_VIEWER_CLOSED,{post_id:Oe}),it()},[it,Oe]),lt=Nt&&(fn=>{Object(F.i)(F.a.POST_ARCHIVED,{post_id:fn,surface:"post viewer"}),Nt(fn)}),{result:Rt,isLoading:ln}=Object(H.f)({pathname:`/api/v1/posts/by-id/${Oe}`,deps:[Oe],auto:!0}),Mt=Object(C.b)(null,{ignoreSafari:!0});Object(o.d)(()=>{yt&&Rt&&yt(Rt)},[Rt]),Object(o.d)(()=>{Rt&&Mt.postSelection&&Mt.highlightSelection()},[Rt,Mt.postSelection]);const $t=(Qe=Rt==null?void 0:Rt.publication)!=null?Qe:je,nn=(At=Rt==null?void 0:Rt.publicationSettings)!=null?At:{},Bt=($t==null?void 0:$t.payments_state)==="enabled",{subscription:Kt,publicationUser:Sn,isFreeSubscribed:Qn,isPaid:rr,isAuthor:Mr,isPledged:zr}=Object(x.d)((ke=(jt=Rt==null?void 0:Rt.post)==null?void 0:jt.publication_id)!=null?ke:0),dr=!(Bt?rr:rr||Qn),[Rr,_r]=Object(o.l)(!1),ro=Object(o.k)(0),Dn=fn=>{const On=fn.currentTarget,Ot=On.scrollTop;Ot>On.scrollHeight-On.offsetHeight-100?_r(!1):Ot>ro.current?_r(!0):_r(!1),ro.current=Ot},ut=Rt&&De(Rt.post,ge);return Object(e.h)(w.a,{id:"post-viewer",className:G.viewerContainer,padding:12},Object(e.h)(w.b,{className:d()(G.viewer,Rr&&G.isReading),border:"detail",radius:8,paddingX:24,bg:"primary",flex:"grow"},Object(e.h)(w.b,{className:G.viewerOffset,flex:"grow"},Object(e.h)(w.a,{className:G.nav,justifyContent:"space-between",paddingY:16,alignItems:"center"},Object(e.h)(w.a,{className:G.logoContainer,justifyContent:"center"},ln?Object(e.h)(W.B,{size:40}):$t&&Object(e.h)(w.a,{as:"a",className:G.logo,href:Object(v.getBaseUrl)($t)},Object(e.h)(R.a,{pub:$t,size:40}))),Object(e.h)(w.a,{gap:8},Object(e.h)(zt,{onClick:Ft})),Object(e.h)(w.a,{gap:8},!Mr&&$t&&Object(e.h)(D.a,{fill:dr?"filled":"outline",priority:"primary",rounded:!0,newTab:!0,href:Object(v.getSubscribeUrl)($t,{user:Pn,addBase:!0,params:{utm_source:"substack",utm_medium:"web",utm_campaign:"post_viewer"}}),onClick:()=>{setTimeout(()=>{tn.refetch()},5e3)}},dr?Object(j.getSubscribeText)($t,{isFreeSubscribed:Qn}):"Subscribed"),Object(e.h)(Wt,{post:Rt==null?void 0:Rt.post,publication:$t,onArchive:lt}))),Object(e.h)(w.b,{className:G.content,flex:"grow"},(sn||Tt)&&Object(e.h)(w.b,{className:G.navArrows},Object(e.h)(q,{onClick:Tt,disabled:!Tt,tabIndex:2,className:G.navArrow,tooltip:Object(e.h)(e.Fragment,null,Object(e.h)(Me,null,"Previous post"),Object(e.h)(Be,null,Object(e.h)(Xe,null,"K"),Object(e.h)(w.a,{paddingX:4},"OR"),Object(e.h)(Xe,null,"\u2190"))),placement:"right-center"},Object(e.h)(c.a,{size:Pe})),Object(e.h)(q,{onClick:sn,disabled:!sn,tabIndex:1,className:G.navArrow,tooltip:Object(e.h)(e.Fragment,null,Object(e.h)(Me,null,"Next post"),Object(e.h)(Be,null,Object(e.h)(Xe,null,"J"),Object(e.h)(w.a,{paddingX:4},"OR"),Object(e.h)(Xe,null,"\u2192"))),placement:"right-center"},Object(e.h)(u.a,{size:Pe}))),Object(e.h)(w.b,{className:G.post,flex:"grow",onScroll:Dn},ln?Object(e.h)(w.b,{flex:"auto",justifyContent:"center"},Object(e.h)(W.b,null)):Rt&&Rt.post.id===Oe&&Object(e.h)(ce,{post:ut,publication:Rt.publication,publicationUser:Sn,subscription:Kt,publicationSettings:nn,isPledged:zr}))),Object(e.h)(w.a,{className:G.bottomNav,justifyContent:"center",borderTop:"detail"},Object(e.h)(w.a,{className:G.ufi,justifyContent:"space-between",alignItems:"center",gap:32},ln?Object(e.h)(ze,null):Rt&&Object(e.h)(ot,{publication:Rt.publication,post:ut,user:Pn,onSave:ht,onLike:wt}))))))}function ce({post:Oe,publication:ge,publicationUser:je,subscription:it,publicationSettings:Tt,isPledged:sn}){const ht=Object(_.c)(),Nt=Object(M.c)(),wt=Ce(ie({},Nt),{is_contributor:(je==null?void 0:je.role)==="contributor",is_admin:(je==null?void 0:je.role)==="admin",is_public_admin:Boolean(je==null?void 0:je.public),is_subscribed:(it==null?void 0:it.membership_state)==="subscribed",is_free_subscribed:(it==null?void 0:it.membership_state)==="free_signup",is_pledged:sn});return Object(e.h)(M.b,{defaultValue:wt},Object(e.h)(S.a,{post:Oe,publication:ge,siteConfigs:ht.allConfigs}),Object(e.h)(E.h,{post:Oe,pub:ge,user:wt,isSignedIn:Boolean(Nt),publicationSettings:Tt}))}const q=Object(a.forwardRef)((Oe,ge)=>Object(e.h)(ue,ie({className:Oe.disabled&&G.disabled,size:40,ref:ge},Oe)));q.displayName="NavButton";const te=Object(a.forwardRef)((Oe,ge)=>{var je=Oe,{count:it,children:Tt,filled:sn=!1}=je,ht=Le(je,["count","children","filled"]);const Nt=it>0;return Object(e.h)(w.a,{justifyContent:"center",alignItems:"center",ref:ge},Object(e.h)(ue,ie({size:40,fill:"empty",color:sn?null:"primary-text",grow:Nt,placement:"top-center"},ht),Tt,Nt&&Object(e.h)(K.b,{size:12,weight:"bold",color:ht.disabled?"tertiary":"primary"},it)))});function ue(Oe){var ge=Oe,{tooltip:je,placement:it,children:Tt}=ge,sn=Le(ge,["tooltip","placement","children"]);const{triggerProps:ht,layerProps:Nt,shouldShow:wt,renderLayer:yt,transitionProps:Qe}=Object(U.b)({layerOptions:{placement:it},hoverOptions:{delayEnter:1e3}});return je?Object(e.h)(D.c,ie(ie({},sn),ht),Tt,wt&&yt(Object(e.h)(at,{transitionProps:Qe,layerProps:Nt},je))):Object(e.h)(D.c,ie({},sn),Tt)}const We=20;function ot({publication:Oe,post:ge,user:je,onSave:it,onLike:Tt}){var sn;const ht=Object(_.c)(),Nt=We,wt=Object(o.k)(),yt=ge.is_saved,Qe=Boolean(ge.reaction),At=(sn=ge.reactions["\u2764"])!=null?sn:0,jt=!je||!Oe.community_enabled||Oe.type==="rss",ke=Object(j.showCommentsOnPost)({publication:Oe,post:ge});return Object(e.h)(e.Fragment,null,Object(e.h)(te,{filled:Qe,className:Qe?G.isLiked:void 0,onClick:Tt?()=>Tt(ge.id,!Qe):void 0,count:At,disabled:jt,tooltip:Object(e.h)(e.Fragment,null,Object(e.h)(Me,null,"Like"),Object(e.h)(Te,null,"L"))},Object(e.h)(f.a,{size:Nt})),Object(e.h)(te,{href:Object(h.getPostUrl)(Oe,ge,{comments:!0,urlParams:{utm_source:"substack",utm_medium:"web",utm_campaign:"post_viewer"}}),count:ge.comment_count,newTab:!0,disabled:jt||!ke,tooltip:Object(e.h)(e.Fragment,null,Object(e.h)(Me,null,"Comment"),Object(e.h)(Te,null,"C"))},Object(e.h)(m.a,{size:Nt})),Object(e.h)(vt,{pub:Oe,post:ge}),Object(e.h)(te,{onClick:()=>{var tn;return(tn=wt.current)==null?void 0:tn.open()},tooltip:Object(e.h)(e.Fragment,null,Object(e.h)(Me,null,"Share"),Object(e.h)(Be,null,Object(e.h)(Xe,null,"\u2191"),Object(e.h)(Xe,null,"S")))},Object(e.h)(p.a,{height:Nt,strokeWidth:2})),Object(e.h)(b.a,null,Object(e.h)(A.c,{ref:wt,medium:"post viewer",user:je,post:ge,pub:Oe,onClick:tn=>tn.preventDefault()})))}function ze(){const Oe=20;return Object(e.h)(e.Fragment,null,Object(e.h)(te,{disabled:!0},Object(e.h)(f.a,{size:Oe})),Object(e.h)(te,{disabled:!0},Object(e.h)(m.a,{size:Oe})),Object(e.h)(te,{disabled:!0},Object(e.h)(g.a,{size:Oe})),Object(e.h)(te,{disabled:!0},Object(e.h)(p.a,{height:Oe,strokeWidth:2})))}function vt({pub:Oe,post:ge}){const it=!Object(M.c)()||!Oe.community_enabled||Oe.type==="rss",[Tt,sn]=Object(o.l)(Boolean(ge.restacked)),[ht,Nt]=Object(o.l)(Number(ge.restacks)),{canRestack:wt,menuItems:yt,nuxModal:Qe}=Object(B.a)({pub:Oe,post:Ce(ie({},ge),{restacked:Tt,restacks:ht}),onRestack:At=>{Tt!==At&&Nt(ht+(At?1:-1)),sn(At)}});return wt?Object(e.h)(e.Fragment,null,Qe,Object(e.h)(V.c,{trigger:Object(e.h)(te,{filled:Tt,className:Tt?G.isRestacked:void 0,count:ht,disabled:it,tooltip:Object(e.h)(e.Fragment,null,Object(e.h)(Me,null,"Restack"),Object(e.h)(Te,null,"R")),"aria-label":"menu"},Object(e.h)(y.default,{className:G.actionIcon}))},yt)):null}function Wt({post:Oe,publication:ge,onArchive:je}){return Object(e.h)(V.c,{trigger:Object(e.h)(D.c,{"aria-label":"View more",size:40,fill:"borderless"},Object(e.h)(O.a,{size:20}))},Oe&&ge&&Object(e.h)(V.d,{href:Object(h.getPostUrl)(ge,Oe),target:"_blank",icon:Object(e.h)(s.a,null)},"View on publication"),je&&Object(e.h)(V.d,{onClick:()=>je(Oe.id),icon:Object(e.h)(r.a,null),suffix:Object(e.h)(Te,null,"E")},"Archive post"))}function zt({onClick:Oe}){return Object(e.h)(q,{tooltip:Object(e.h)(e.Fragment,null,Object(e.h)(Me,null,"Close"),Object(e.h)(Te,null,"ESC")),placement:"right-center",onClick:Oe,fill:"borderless","aria-label":"Close"},Object(e.h)(i.a,{size:Pe,"aria-hidden":!0}))}function at({transitionProps:Oe,layerProps:ge,children:je}){return Object(e.h)(U.a,ie({},Oe),Object(e.h)(w.a,Ce(ie({},ge),{className:G.shortcutTooltip,paddingX:16,alignItems:"center",radius:4,gap:12}),je))}function Me({children:Oe}){return Object(e.h)(K.b,{size:14,font:"text"},Oe)}function Be({children:Oe}){return Object(e.h)(K.b,{as:"div",className:G.shortcutKeys,size:12,font:"text",weight:"medium",transform:"uppercase"},Oe)}function Xe({children:Oe}){return Object(e.h)(w.a,{className:G.shortcutKey,alignItems:"center",justifyContent:"center"},Object(e.h)(K.b.Meta,null,Oe))}function Te({children:Oe}){return Object(e.h)(Be,null,Object(e.h)(Xe,null,Oe))}function we(Oe){return!(Oe.ctrlKey||Oe.metaKey||Oe.shiftKey)}function De(Oe,ge){return ie(ie({},Oe),Object.fromEntries(Object.entries(ge!=null?ge:{}).filter(([je,it])=>it!=null)))}function Ie(Oe,ge,je){const it=new Map(Oe.posts),Tt=it.get(ge);if(!Tt)throw new Error("Post does not exist");return it.set(Tt.id,ie(ie({},Tt),je)),Ce(ie({},Oe),{posts:it})}function He(Oe){return Ce(ie({},Oe),{selectedPostId:Oe.postIds.includes(Oe.selectedPostId)?Oe.selectedPostId:null})}function Ve(Oe,ge){switch(ge.type){case"like":{const{postId:je,isLiked:it}=ge.payload,Tt=Oe.posts.get(je),sn=it!=null?it:!Tt.reaction,ht="\u2764";return Ie(Oe,je,{reaction:sn,reactions:{[ht]:Tt.reactions[ht]+(it?1:-1)}})}case"like_selected":{const{selectedPostId:je}=Oe;return je?Ve(Oe,{type:"like",payload:{postId:je}}):Oe}case"save":{const{postId:je,isSaved:it}=ge.payload,Tt=it!=null?it:!Oe.posts.get(je).is_saved;return Ie(Oe,je,{is_saved:Tt})}case"save_selected":{const{selectedPostId:je}=Oe;return je?Ve(Oe,{type:"save",payload:{postId:je}}):Oe}case"select":{const{postId:je}=ge.payload;return je!==Oe.selectedPostId?Ce(ie({},Oe),{selectedPostId:je,selectedPostShouldScroll:!1}):Oe}case"deselect":return Oe.isOpen?Oe:Ce(ie({},Oe),{selectedPostId:null});case"select_next":{const{selectedPostId:je}=Oe;let it;if(je==null)it=Oe.postIds[0];else{const Tt=Oe.postIds.indexOf(je);it=Tt<0?null:Oe.postIds[Tt+1]}return it!=null?Ce(ie({},Oe),{selectedPostId:it,selectedPostShouldScroll:!0}):Oe}case"select_previous":{const{selectedPostId:je}=Oe,it=Oe.postIds.indexOf(je),Tt=it<0?null:Oe.postIds[it-1];return Tt!=null?Ce(ie({},Oe),{selectedPostId:Tt,selectedPostShouldScroll:!0}):Oe}case"popstate":{const{payload:je}=ge;if(je&&(!Oe.isOpen||Oe.selectedPostId!==je))return Ce(ie({},Oe),{selectedPostId:je,isOpen:!0});if(!je&&Oe.isOpen)return Ce(ie({},Oe),{isOpen:!1});break}case"toggle_viewer":return He(Ce(ie({},Oe),{isOpen:ge.payload}));case"open_viewer":return Ce(ie({},Oe),{selectedPostId:ge.payload,isOpen:!0});case"close_viewer":return He(Ce(ie({},Oe),{isOpen:!1}))}return Oe}function z({reducer:Oe,initialState:ge,regex:je,resolvePath:it}){const[Tt]=Object(T.a)(),[sn,ht]=Object(o.j)(Oe,{path:Tt.path,initialState:ge},({path:Qe,initialState:At})=>{let jt=null;const ke=Qe.match(je);return ke&&(jt=parseInt(ke[1])),ie({postIds:[],posts:new Map,publications:new Map,selectedPostId:jt,selectedPostShouldScroll:!1,isOpen:Boolean(jt)},At)}),{selectedPostId:Nt}=sn,wt=sn.posts.get(Nt),yt=sn.postIds.indexOf(Nt);return Object(o.d)(()=>{if(Nt){const Qe=sn.isOpen?it(Nt):it(null);Qe!==location.pathname&&history.pushState({},void 0,Qe)}},[Nt,sn.isOpen,it]),Object(o.d)(()=>{const Qe=()=>{var At;const jt=(At=location.pathname.match(je))==null?void 0:At[1],ke=parseInt(jt);ht({type:"popstate",payload:ke})};return window.addEventListener("popstate",Qe),()=>{window.removeEventListener("popstate",Qe)}},[]),[sn,ht,{postId:Nt,post:wt,onClose:()=>ht({type:"toggle_viewer",payload:!1}),onNext:yt<sn.postIds.length-1&&yt>=0?()=>ht({type:"select_next"}):null,onPrevious:yt>0?()=>ht({type:"select_previous"}):null}]}function se({state:Oe,dispatch:ge,onKey:je,shouldHandleKeys:it}){const{selectedPostId:Tt}=Oe,sn=Oe.posts.get(Tt),ht=Object(P.s)(),Nt=Pn=>{const lt=!Oe.posts.get(Pn).is_saved;Object(P.k)(Pn,lt,{surface:"reader"}),ht(lt),ge({type:"save",payload:{postId:Pn,isSaved:lt}})},wt=()=>{const{selectedPostId:Pn}=Oe;Pn!=null&&Nt(Pn)},yt=Object(P.p)(),Qe=Pn=>{const Ft=Oe.posts.get(Pn),lt=!(Ft==null?void 0:Ft.reaction);yt(Pn,lt,{}),ge({type:"like",payload:{postId:Pn,isLiked:lt}})},At=()=>{const{selectedPostId:Pn}=Oe;Pn!=null&&Qe(Pn)},jt=Pn=>{ge({type:"select",payload:{postId:Pn}})},ke=()=>{ge({type:"deselect"})},{checkFocus:tn}=Object(Y.b)();return Object(o.d)(()=>{const Pn=Ft=>{if(tn()){if(je==null||je(Ft),Ft.defaultPrevented)return;switch(Ft.key){case"Enter":ge({type:"toggle_viewer",payload:!0});break;case"Escape":ge({type:"toggle_viewer",payload:!1});break;case"ArrowLeft":case"k":Object(F.i)(F.a.POST_VIEWER_NAVIGATED,{direction:"previous"}),ge({type:"select_previous"});break;case"ArrowRight":case"j":Object(F.i)(F.a.POST_VIEWER_NAVIGATED,{direction:"next"}),ge({type:"select_next"});break;case"l":At();break;case"s":wt();break}}};return it&&window.addEventListener("keydown",Pn),()=>{window.removeEventListener("keydown",Pn)}},[sn,it]),{postItem:{onSave:Nt,onLike:Qe,onMouseEnter:jt},postViewer:{onSave:wt,onLike:At},stack:{onMouseLeave:ke}}}function Se({state:Oe,stackRef:ge}){Object(o.d)(()=>{if(Oe.selectedPostShouldScroll&&!Oe.isOpen){const{selectedPostId:je}=Oe,it=ge.current;if(it&&je!=null){const Tt=Oe.postIds.indexOf(je);if(Tt>=0){const sn=it.children[Tt];if(sn){const ht=sn.getBoundingClientRect();(ht.top<0||ht.bottom>window.innerHeight)&&sn.scrollIntoView({block:"nearest"})}}}}},[Oe.selectedPostId,Oe.isOpen])}},,,function(k,n){var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function a(o,l){var d=typeof o;return l=l==null?t:l,!!l&&(d=="number"||d!="symbol"&&e.test(o))&&o>-1&&o%1==0&&o<l}k.exports=a},function(k,n,t){var e=t(95),a=t(308),o=t(675),l=t(321);function d(c,u){return e(c)?c:a(c,u)?[c]:o(l(c))}k.exports=d},function(k,n,t){"use strict";t.d(n,"a",function(){return d});var e=t(0),a=t(14),o=t(32),l=t(8);const d=({isOpen:c=!1,title:u,body:f,onClose:m,customPrimaryButton:p,secondaryButton:g})=>Object(e.h)(o.a,{isOpen:c,onClose:m},u&&Object(e.h)(o.d,{title:u,includeClose:!1}),Object(e.h)(o.b,null,Object(e.h)(l.b.B3,null,f)),Object(e.h)(o.c,{primaryButton:p||Object(e.h)(a.a,{onClick:m,priority:"primary"},"OK"),secondaryButton:g}))},function(k,n){function t(){}k.exports=t},function(k,n,t){var e=t(601);function a(o){return o&&o.length?e(o):[]}k.exports=a},function(k,n){function t(e){var a=-1,o=Array(e.size);return e.forEach(function(l){o[++a]=l}),o}k.exports=t},function(k,n,t){var e=t(666),a=t(163),o=Object.prototype,l=o.hasOwnProperty,d=o.propertyIsEnumerable,c=e(function(){return arguments}())?e:function(u){return a(u)&&l.call(u,"callee")&&!d.call(u,"callee")};k.exports=c},function(k,n,t){var e=t(152),a=t(108),o=e(a,"Map");k.exports=o},function(k,n,t){var e=t(648),a=t(655),o=t(657),l=t(658),d=t(659);function c(u){var f=-1,m=u==null?0:u.length;for(this.clear();++f<m;){var p=u[f];this.set(p[0],p[1])}}c.prototype.clear=e,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=l,c.prototype.set=d,k.exports=c},function(k,n){var t=9007199254740991;function e(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=t}k.exports=e},function(k,n,t){var e=t(95),a=t(201),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l=/^\w*$/;function d(c,u){if(e(c))return!1;var f=typeof c;return f=="number"||f=="symbol"||f=="boolean"||c==null||a(c)?!0:l.test(c)||!o.test(c)||u!=null&&c in Object(u)}k.exports=d},function(k,n,t){"use strict";t.r(n),t.d(n,"twitterScreenNames",function(){return e});const e={test1:"SubstackInc",badnews:"ryangrim",dmortberg:"danielortberg",offthechain:"APompliano",on:"SubstackInc",petition:"petition",popularinformation:"JuddLegum",shane:"shanesnow",signalproblems:"A_W_Gordon",sinocism:"niubi",taibbi:"mtaibbi",thefirstand15th:"tressiemcphd",thenewsletter:"jbouie",numlock:"WaltHickey"}},function(k,n,t){"use strict";t.r(n),t.d(n,"TWEET_PLACEHOLDER_DATA_URI",function(){return l}),t.d(n,"resolveTwitterShareText",function(){return d}),t.d(n,"truncateBytes",function(){return c}),t.d(n,"assertIsDefined",function(){return u}),t.d(n,"assertIsError",function(){return f}),t.d(n,"getCurrencyForCountry",function(){return m}),t.d(n,"roundPrice",function(){return p});var e=t(309),a=t(10),o=t.n(a);const l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAjQAAAC0BAMAAABxiqvBAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAnUExURd/n60dwTN/n7N/n7ODn69/n6N/n69/f6t/n6uHp7eLo7t/f3+Ho7QTAsUwAAAAMdFJOU4AATnVkIUAQN+W/CFiRL14AAALCSURBVHja7dy9TgJBFIbhAwtCYsOosBYWGDT+VGqMFjZQGKOVJBaWGivoiJWl8Q6M0cbKGHouwdLEi7JS92eGNWZcdpn3q7eYPJmdc2ZmQVT/+YPE86qk9jhQJJ6Nghwjo43/KC8o6NOXNxD0uYHGlCVooIEGGmiggQYaaKCBhkADDTQp05yvbMnueheaKE29JSIi4q1CE5Fpy1cOoQnG/5ERWYMmkLuAjHi30HxnTkKZgeY7zTCNLEOjnzQixcjjV5JidrJEcxEbXnjazEmqucwOzWJ8dNXQ0/Pp0mxnh+Y6PjpvEHy6li5NITs0Tc3wOtAopeq64ZUn+EJ1MkOzoBteKfh0w9Vl+FQ7vtAOvJWmzF52indTO0Bnu74gzVYGK2g2aOr6aV2GRtfwxZs+N2kMu4AiNPraHanejtIY+jkPGuMuABpooGGtoUJNsq+Bhm6YPRQ779TPayzdQ5UGOaNJPuWzdg91kDOa5LNha8fm1ZzRJN8o1FylUe2kpcZdmsTbS2svVDlvNIl33tbuofbzRqMp35FbspajxfsX39e42vIpvsoaQ9Ng0pho+ALUTOMHX6kjBU0gfG1upOE3CmYaftkyhoZAAw000EADDTTQQAMNNCBAAw000EADDTTQQAMNMdOciZMpjhJpfHE0nUSahqs0s9CYUoEGmn94oZxdhpcp3qZ/KxvR8tENQwMNNNBAAw000BBooIEGGmigyRvN1B9led0/0jhwAFr+I40Dx+ZFaKCBZvI0DizDFYq37eJNoIEGGmiggQYaaKCBhkADDTTQQAMNNLmnsXgA6l1OFY3VY/PqVNFYvWzxoIEGGnspsQybMkPxdqN4E2iggQYaaKCBBhpooCHQQAMNNNBAAw000EADDTTQQAMNNNBAkzOaJxBMNEMQ9NmU3gAFXfwHqd3DoJPpFUSdfJB43ofqE56LnR5mRT/HAAAAAElFTkSuQmCC";function d({pub:g,post:O}){var s;const r=(g==null?void 0:g.twitter_screen_name)||g&&e.twitterScreenNames[g==null?void 0:g.subdomain];let i=(s=O==null?void 0:O.title)!=null?s:g==null?void 0:g.name;return g&&!O&&(i=`Subscribe to ${i}`),r&&(!O||g&&(!O.publishedBylines.length||O.publishedBylines.some(h=>h.id===g.author_id)))&&(i+=`, by @${r}`),i}function c(g,O){const s=new TextEncoder().encode(g);return s.length>O?new TextDecoder().decode(s.slice(0,O)):g}function u(g){if(g==null)throw new a.AppError(`Expected value to be defined, but received ${g}`)}function f(g){if(!(g instanceof Error))throw new a.AppError(`Expected value to be an Error, but received ${g}`)}function m(g){switch(g){case"AU":return"aud";case"CA":return"cad";case"AT":case"BE":case"CY":case"EE":case"FI":case"FR":case"DE":case"GR":case"HR":case"IE":case"IT":case"LV":case"LT":case"LU":case"MT":case"NL":case"PT":case"SK":case"SI":case"ES":return"eur";case"GB":return"gbp";case"US":return"usd";default:return null}}function p(g){let O=g/100;return O=O<50?Math.round(O):Math.floor(O/5)*5,O*100}},function(k,n,t){var e;let a="";n.REVIEW_ENV_SUBDOMAIN=a},,function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>{const r=100;return Object(e.h)(a.a,g(p({},s),{name:"BannedIcon",svgParams:{height:100,width:100},additionalStaticParams:{preserveAspectRatio:"none"}}),Object(e.h)("circle",{cx:"50",cy:"50",stroke:"#000000",r:r/2-4,strokeWidth:"8"}),Object(e.h)("line",{x1:"20",y1:"20",x2:"80",y2:"80",stroke:"#000000",strokeWidth:"8"}))};n.default=O},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(r,i,h)=>i in r?o(r,i,{enumerable:!0,configurable:!0,writable:!0,value:h}):r[i]=h,p=(r,i)=>{for(var h in i||(i={}))u.call(i,h)&&m(r,h,i[h]);if(c)for(var h of c(i))f.call(i,h)&&m(r,h,i[h]);return r},g=(r,i)=>l(r,d(i)),O=(r,i)=>{var h={};for(var v in r)u.call(r,v)&&i.indexOf(v)<0&&(h[v]=r[v]);if(r!=null&&c)for(var v of c(r))i.indexOf(v)<0&&f.call(r,v)&&(h[v]=r[v]);return h};const s=r=>{var i=r,{name:h,children:v}=i,j=O(i,["name","children"]);return Object(e.h)(a.a,g(p({},j),{name:h,svgParams:{viewBox:"0 0 24 24",height:24,width:24,stroke:"#1C110B"}}),v)};n.default=s},function(k,n,t){"use strict";t.r(n),t.d(n,"animateFill",function(){return so}),t.d(n,"createSingleton",function(){return Hr}),t.d(n,"delegate",function(){return Jr}),t.d(n,"followCursor",function(){return qo}),t.d(n,"hideAll",function(){return nr}),t.d(n,"inlinePositioning",function(){return Go}),t.d(n,"roundArrow",function(){return Ot}),t.d(n,"sticky",function(){return Ho});function e(dt){if(dt==null)return window;if(dt.toString()!=="[object Window]"){var pt=dt.ownerDocument;return pt&&pt.defaultView||window}return dt}function a(dt){var pt=e(dt).Element;return dt instanceof pt||dt instanceof Element}function o(dt){var pt=e(dt).HTMLElement;return dt instanceof pt||dt instanceof HTMLElement}function l(dt){if(typeof ShadowRoot=="undefined")return!1;var pt=e(dt).ShadowRoot;return dt instanceof pt||dt instanceof ShadowRoot}var d=Math.max,c=Math.min,u=Math.round;function f(dt,pt){pt===void 0&&(pt=!1);var Xt=dt.getBoundingClientRect(),Hn=1,ir=1;if(o(dt)&&pt){var It=dt.offsetHeight,_t=dt.offsetWidth;_t>0&&(Hn=u(Xt.width)/_t||1),It>0&&(ir=u(Xt.height)/It||1)}return{width:Xt.width/Hn,height:Xt.height/ir,top:Xt.top/ir,right:Xt.right/Hn,bottom:Xt.bottom/ir,left:Xt.left/Hn,x:Xt.left/Hn,y:Xt.top/ir}}function m(dt){var pt=e(dt),Xt=pt.pageXOffset,Hn=pt.pageYOffset;return{scrollLeft:Xt,scrollTop:Hn}}function p(dt){return{scrollLeft:dt.scrollLeft,scrollTop:dt.scrollTop}}function g(dt){return dt===e(dt)||!o(dt)?m(dt):p(dt)}function O(dt){return dt?(dt.nodeName||"").toLowerCase():null}function s(dt){return((a(dt)?dt.ownerDocument:dt.document)||window.document).documentElement}function r(dt){return f(s(dt)).left+m(dt).scrollLeft}function i(dt){return e(dt).getComputedStyle(dt)}function h(dt){var pt=i(dt),Xt=pt.overflow,Hn=pt.overflowX,ir=pt.overflowY;return/auto|scroll|overlay|hidden/.test(Xt+ir+Hn)}function v(dt){var pt=dt.getBoundingClientRect(),Xt=u(pt.width)/dt.offsetWidth||1,Hn=u(pt.height)/dt.offsetHeight||1;return Xt!==1||Hn!==1}function j(dt,pt,Xt){Xt===void 0&&(Xt=!1);var Hn=o(pt),ir=o(pt)&&v(pt),It=s(pt),_t=f(dt,ir),Vt={scrollLeft:0,scrollTop:0},Tn={x:0,y:0};return(Hn||!Hn&&!Xt)&&((O(pt)!=="body"||h(It))&&(Vt=g(pt)),o(pt)?(Tn=f(pt,!0),Tn.x+=pt.clientLeft,Tn.y+=pt.clientTop):It&&(Tn.x=r(It))),{x:_t.left+Vt.scrollLeft-Tn.x,y:_t.top+Vt.scrollTop-Tn.y,width:_t.width,height:_t.height}}function y(dt){var pt=f(dt),Xt=dt.offsetWidth,Hn=dt.offsetHeight;return Math.abs(pt.width-Xt)<=1&&(Xt=pt.width),Math.abs(pt.height-Hn)<=1&&(Hn=pt.height),{x:dt.offsetLeft,y:dt.offsetTop,width:Xt,height:Hn}}function b(dt){return O(dt)==="html"?dt:dt.assignedSlot||dt.parentNode||(l(dt)?dt.host:null)||s(dt)}function E(dt){return["html","body","#document"].indexOf(O(dt))>=0?dt.ownerDocument.body:o(dt)&&h(dt)?dt:E(b(dt))}function P(dt,pt){var Xt;pt===void 0&&(pt=[]);var Hn=E(dt),ir=Hn===((Xt=dt.ownerDocument)==null?void 0:Xt.body),It=e(Hn),_t=ir?[It].concat(It.visualViewport||[],h(Hn)?Hn:[]):Hn,Vt=pt.concat(_t);return ir?Vt:Vt.concat(P(b(_t)))}function A(dt){return["table","td","th"].indexOf(O(dt))>=0}function _(dt){return!o(dt)||i(dt).position==="fixed"?null:dt.offsetParent}function M(dt){var pt=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,Xt=navigator.userAgent.indexOf("Trident")!==-1;if(Xt&&o(dt)){var Hn=i(dt);if(Hn.position==="fixed")return null}for(var ir=b(dt);o(ir)&&["html","body"].indexOf(O(ir))<0;){var It=i(ir);if(It.transform!=="none"||It.perspective!=="none"||It.contain==="paint"||["transform","perspective"].indexOf(It.willChange)!==-1||pt&&It.willChange==="filter"||pt&&It.filter&&It.filter!=="none")return ir;ir=ir.parentNode}return null}function F(dt){for(var pt=e(dt),Xt=_(dt);Xt&&A(Xt)&&i(Xt).position==="static";)Xt=_(Xt);return Xt&&(O(Xt)==="html"||O(Xt)==="body"&&i(Xt).position==="static")?pt:Xt||M(dt)||pt}var H="top",C="bottom",T="right",S="left",D="auto",w=[H,C,T,S],U="start",V="end",K="clippingParents",Y="viewport",W="popper",R="reference",B=w.reduce(function(dt,pt){return dt.concat([pt+"-"+U,pt+"-"+V])},[]),x=[].concat(w,[D]).reduce(function(dt,pt){return dt.concat([pt,pt+"-"+U,pt+"-"+V])},[]),G="beforeRead",Q="read",he="afterRead",Z="beforeMain",le="main",de="afterMain",be="beforeWrite",X="write",ie="afterWrite",Ce=[G,Q,he,Z,le,de,be,X,ie];function Le(dt){var pt=new Map,Xt=new Set,Hn=[];dt.forEach(function(It){pt.set(It.name,It)});function ir(It){Xt.add(It.name);var _t=[].concat(It.requires||[],It.requiresIfExists||[]);_t.forEach(function(Vt){if(!Xt.has(Vt)){var Tn=pt.get(Vt);Tn&&ir(Tn)}}),Hn.push(It)}return dt.forEach(function(It){Xt.has(It.name)||ir(It)}),Hn}function Ae(dt){var pt=Le(dt);return Ce.reduce(function(Xt,Hn){return Xt.concat(pt.filter(function(ir){return ir.phase===Hn}))},[])}function Pe(dt){var pt;return function(){return pt||(pt=new Promise(function(Xt){Promise.resolve().then(function(){pt=void 0,Xt(dt())})})),pt}}function Ne(dt){var pt=dt.reduce(function(Xt,Hn){var ir=Xt[Hn.name];return Xt[Hn.name]=ir?Object.assign({},ir,Hn,{options:Object.assign({},ir.options,Hn.options),data:Object.assign({},ir.data,Hn.data)}):Hn,Xt},{});return Object.keys(pt).map(function(Xt){return pt[Xt]})}var ce="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",q="Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.",te={placement:"bottom",modifiers:[],strategy:"absolute"};function ue(){for(var dt=arguments.length,pt=new Array(dt),Xt=0;Xt<dt;Xt++)pt[Xt]=arguments[Xt];return!pt.some(function(Hn){return!(Hn&&typeof Hn.getBoundingClientRect=="function")})}function We(dt){dt===void 0&&(dt={});var pt=dt,Xt=pt.defaultModifiers,Hn=Xt===void 0?[]:Xt,ir=pt.defaultOptions,It=ir===void 0?te:ir;return function(Vt,Tn,sr){sr===void 0&&(sr=It);var qn={placement:"bottom",orderedModifiers:[],options:Object.assign({},te,It),modifiersData:{},elements:{reference:Vt,popper:Tn},attributes:{},styles:{}},qr=[],Vr=!1,Gr={state:qn,setOptions:function(gr){var Xr=typeof gr=="function"?gr(qn.options):gr;yr(),qn.options=Object.assign({},It,qn.options,Xr),qn.scrollParents={reference:a(Vt)?P(Vt):Vt.contextElement?P(Vt.contextElement):[],popper:P(Tn)};var Dt=Ae(Ne([].concat(Hn,qn.options.modifiers)));if(qn.orderedModifiers=Dt.filter(function(Re){return Re.enabled}),!1)var N,L,$,ne,ee,ae,ve;return $r(),Gr.update()},forceUpdate:function(){if(!Vr){var gr=qn.elements,Xr=gr.reference,Dt=gr.popper;if(!!ue(Xr,Dt)){qn.rects={reference:j(Xr,F(Dt),qn.options.strategy==="fixed"),popper:y(Dt)},qn.reset=!1,qn.placement=qn.options.placement,qn.orderedModifiers.forEach(function(Re){return qn.modifiersData[Re.name]=Object.assign({},Re.data)});for(var N=0,L=0;L<qn.orderedModifiers.length;L++){if(qn.reset===!0){qn.reset=!1,L=-1;continue}var $=qn.orderedModifiers[L],ne=$.fn,ee=$.options,ae=ee===void 0?{}:ee,ve=$.name;typeof ne=="function"&&(qn=ne({state:qn,options:ae,name:ve,instance:Gr})||qn)}}}},update:Pe(function(){return new Promise(function(Nr){Gr.forceUpdate(),Nr(qn)})}),destroy:function(){yr(),Vr=!0}};if(!ue(Vt,Tn))return Gr;Gr.setOptions(sr).then(function(Nr){!Vr&&sr.onFirstUpdate&&sr.onFirstUpdate(Nr)});function $r(){qn.orderedModifiers.forEach(function(Nr){var gr=Nr.name,Xr=Nr.options,Dt=Xr===void 0?{}:Xr,N=Nr.effect;if(typeof N=="function"){var L=N({state:qn,name:gr,instance:Gr,options:Dt}),$=function(){};qr.push(L||$)}})}function yr(){qr.forEach(function(Nr){return Nr()}),qr=[]}return Gr}}var ot=We(),ze={passive:!0};function vt(dt){var pt=dt.state,Xt=dt.instance,Hn=dt.options,ir=Hn.scroll,It=ir===void 0?!0:ir,_t=Hn.resize,Vt=_t===void 0?!0:_t,Tn=e(pt.elements.popper),sr=[].concat(pt.scrollParents.reference,pt.scrollParents.popper);return It&&sr.forEach(function(qn){qn.addEventListener("scroll",Xt.update,ze)}),Vt&&Tn.addEventListener("resize",Xt.update,ze),function(){It&&sr.forEach(function(qn){qn.removeEventListener("scroll",Xt.update,ze)}),Vt&&Tn.removeEventListener("resize",Xt.update,ze)}}var Wt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:vt,data:{}};function zt(dt){return dt.split("-")[0]}function at(dt){return dt.split("-")[1]}function Me(dt){return["top","bottom"].indexOf(dt)>=0?"x":"y"}function Be(dt){var pt=dt.reference,Xt=dt.element,Hn=dt.placement,ir=Hn?zt(Hn):null,It=Hn?at(Hn):null,_t=pt.x+pt.width/2-Xt.width/2,Vt=pt.y+pt.height/2-Xt.height/2,Tn;switch(ir){case H:Tn={x:_t,y:pt.y-Xt.height};break;case C:Tn={x:_t,y:pt.y+pt.height};break;case T:Tn={x:pt.x+pt.width,y:Vt};break;case S:Tn={x:pt.x-Xt.width,y:Vt};break;default:Tn={x:pt.x,y:pt.y}}var sr=ir?Me(ir):null;if(sr!=null){var qn=sr==="y"?"height":"width";switch(It){case U:Tn[sr]=Tn[sr]-(pt[qn]/2-Xt[qn]/2);break;case V:Tn[sr]=Tn[sr]+(pt[qn]/2-Xt[qn]/2);break;default:}}return Tn}function Xe(dt){var pt=dt.state,Xt=dt.name;pt.modifiersData[Xt]=Be({reference:pt.rects.reference,element:pt.rects.popper,strategy:"absolute",placement:pt.placement})}var Te={name:"popperOffsets",enabled:!0,phase:"read",fn:Xe,data:{}},we={top:"auto",right:"auto",bottom:"auto",left:"auto"};function De(dt){var pt=dt.x,Xt=dt.y,Hn=window,ir=Hn.devicePixelRatio||1;return{x:u(pt*ir)/ir||0,y:u(Xt*ir)/ir||0}}function Ie(dt){var pt,Xt=dt.popper,Hn=dt.popperRect,ir=dt.placement,It=dt.variation,_t=dt.offsets,Vt=dt.position,Tn=dt.gpuAcceleration,sr=dt.adaptive,qn=dt.roundOffsets,qr=dt.isFixed,Vr=_t.x,Gr=Vr===void 0?0:Vr,$r=_t.y,yr=$r===void 0?0:$r,Nr=typeof qn=="function"?qn({x:Gr,y:yr}):{x:Gr,y:yr};Gr=Nr.x,yr=Nr.y;var gr=_t.hasOwnProperty("x"),Xr=_t.hasOwnProperty("y"),Dt=S,N=H,L=window;if(sr){var $=F(Xt),ne="clientHeight",ee="clientWidth";if($===e(Xt)&&($=s(Xt),i($).position!=="static"&&Vt==="absolute"&&(ne="scrollHeight",ee="scrollWidth")),$=$,ir===H||(ir===S||ir===T)&&It===V){N=C;var ae=qr&&L.visualViewport?L.visualViewport.height:$[ne];yr-=ae-Hn.height,yr*=Tn?1:-1}if(ir===S||(ir===H||ir===C)&&It===V){Dt=T;var ve=qr&&L.visualViewport?L.visualViewport.width:$[ee];Gr-=ve-Hn.width,Gr*=Tn?1:-1}}var Re=Object.assign({position:Vt},sr&&we),$e=qn===!0?De({x:Gr,y:yr}):{x:Gr,y:yr};if(Gr=$e.x,yr=$e.y,Tn){var bt;return Object.assign({},Re,(bt={},bt[N]=Xr?"0":"",bt[Dt]=gr?"0":"",bt.transform=(L.devicePixelRatio||1)<=1?"translate("+Gr+"px, "+yr+"px)":"translate3d("+Gr+"px, "+yr+"px, 0)",bt))}return Object.assign({},Re,(pt={},pt[N]=Xr?yr+"px":"",pt[Dt]=gr?Gr+"px":"",pt.transform="",pt))}function He(dt){var pt=dt.state,Xt=dt.options,Hn=Xt.gpuAcceleration,ir=Hn===void 0?!0:Hn,It=Xt.adaptive,_t=It===void 0?!0:It,Vt=Xt.roundOffsets,Tn=Vt===void 0?!0:Vt;if(!1)var sr;var qn={placement:zt(pt.placement),variation:at(pt.placement),popper:pt.elements.popper,popperRect:pt.rects.popper,gpuAcceleration:ir,isFixed:pt.options.strategy==="fixed"};pt.modifiersData.popperOffsets!=null&&(pt.styles.popper=Object.assign({},pt.styles.popper,Ie(Object.assign({},qn,{offsets:pt.modifiersData.popperOffsets,position:pt.options.strategy,adaptive:_t,roundOffsets:Tn})))),pt.modifiersData.arrow!=null&&(pt.styles.arrow=Object.assign({},pt.styles.arrow,Ie(Object.assign({},qn,{offsets:pt.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Tn})))),pt.attributes.popper=Object.assign({},pt.attributes.popper,{"data-popper-placement":pt.placement})}var Ve={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:He,data:{}};function z(dt){var pt=dt.state;Object.keys(pt.elements).forEach(function(Xt){var Hn=pt.styles[Xt]||{},ir=pt.attributes[Xt]||{},It=pt.elements[Xt];!o(It)||!O(It)||(Object.assign(It.style,Hn),Object.keys(ir).forEach(function(_t){var Vt=ir[_t];Vt===!1?It.removeAttribute(_t):It.setAttribute(_t,Vt===!0?"":Vt)}))})}function se(dt){var pt=dt.state,Xt={popper:{position:pt.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(pt.elements.popper.style,Xt.popper),pt.styles=Xt,pt.elements.arrow&&Object.assign(pt.elements.arrow.style,Xt.arrow),function(){Object.keys(pt.elements).forEach(function(Hn){var ir=pt.elements[Hn],It=pt.attributes[Hn]||{},_t=Object.keys(pt.styles.hasOwnProperty(Hn)?pt.styles[Hn]:Xt[Hn]),Vt=_t.reduce(function(Tn,sr){return Tn[sr]="",Tn},{});!o(ir)||!O(ir)||(Object.assign(ir.style,Vt),Object.keys(It).forEach(function(Tn){ir.removeAttribute(Tn)}))})}}var Se={name:"applyStyles",enabled:!0,phase:"write",fn:z,effect:se,requires:["computeStyles"]};function Oe(dt,pt,Xt){var Hn=zt(dt),ir=[S,H].indexOf(Hn)>=0?-1:1,It=typeof Xt=="function"?Xt(Object.assign({},pt,{placement:dt})):Xt,_t=It[0],Vt=It[1];return _t=_t||0,Vt=(Vt||0)*ir,[S,T].indexOf(Hn)>=0?{x:Vt,y:_t}:{x:_t,y:Vt}}function ge(dt){var pt=dt.state,Xt=dt.options,Hn=dt.name,ir=Xt.offset,It=ir===void 0?[0,0]:ir,_t=x.reduce(function(qn,qr){return qn[qr]=Oe(qr,pt.rects,It),qn},{}),Vt=_t[pt.placement],Tn=Vt.x,sr=Vt.y;pt.modifiersData.popperOffsets!=null&&(pt.modifiersData.popperOffsets.x+=Tn,pt.modifiersData.popperOffsets.y+=sr),pt.modifiersData[Hn]=_t}var je={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:ge},it={left:"right",right:"left",bottom:"top",top:"bottom"};function Tt(dt){return dt.replace(/left|right|bottom|top/g,function(pt){return it[pt]})}var sn={start:"end",end:"start"};function ht(dt){return dt.replace(/start|end/g,function(pt){return sn[pt]})}function Nt(dt){var pt=e(dt),Xt=s(dt),Hn=pt.visualViewport,ir=Xt.clientWidth,It=Xt.clientHeight,_t=0,Vt=0;return Hn&&(ir=Hn.width,It=Hn.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(_t=Hn.offsetLeft,Vt=Hn.offsetTop)),{width:ir,height:It,x:_t+r(dt),y:Vt}}function wt(dt){var pt,Xt=s(dt),Hn=m(dt),ir=(pt=dt.ownerDocument)==null?void 0:pt.body,It=d(Xt.scrollWidth,Xt.clientWidth,ir?ir.scrollWidth:0,ir?ir.clientWidth:0),_t=d(Xt.scrollHeight,Xt.clientHeight,ir?ir.scrollHeight:0,ir?ir.clientHeight:0),Vt=-Hn.scrollLeft+r(dt),Tn=-Hn.scrollTop;return i(ir||Xt).direction==="rtl"&&(Vt+=d(Xt.clientWidth,ir?ir.clientWidth:0)-It),{width:It,height:_t,x:Vt,y:Tn}}function yt(dt,pt){var Xt=pt.getRootNode&&pt.getRootNode();if(dt.contains(pt))return!0;if(Xt&&l(Xt)){var Hn=pt;do{if(Hn&&dt.isSameNode(Hn))return!0;Hn=Hn.parentNode||Hn.host}while(Hn)}return!1}function Qe(dt){return Object.assign({},dt,{left:dt.x,top:dt.y,right:dt.x+dt.width,bottom:dt.y+dt.height})}function At(dt){var pt=f(dt);return pt.top=pt.top+dt.clientTop,pt.left=pt.left+dt.clientLeft,pt.bottom=pt.top+dt.clientHeight,pt.right=pt.left+dt.clientWidth,pt.width=dt.clientWidth,pt.height=dt.clientHeight,pt.x=pt.left,pt.y=pt.top,pt}function jt(dt,pt){return pt===Y?Qe(Nt(dt)):a(pt)?At(pt):Qe(wt(s(dt)))}function ke(dt){var pt=P(b(dt)),Xt=["absolute","fixed"].indexOf(i(dt).position)>=0,Hn=Xt&&o(dt)?F(dt):dt;return a(Hn)?pt.filter(function(ir){return a(ir)&&yt(ir,Hn)&&O(ir)!=="body"}):[]}function tn(dt,pt,Xt){var Hn=pt==="clippingParents"?ke(dt):[].concat(pt),ir=[].concat(Hn,[Xt]),It=ir[0],_t=ir.reduce(function(Vt,Tn){var sr=jt(dt,Tn);return Vt.top=d(sr.top,Vt.top),Vt.right=c(sr.right,Vt.right),Vt.bottom=c(sr.bottom,Vt.bottom),Vt.left=d(sr.left,Vt.left),Vt},jt(dt,It));return _t.width=_t.right-_t.left,_t.height=_t.bottom-_t.top,_t.x=_t.left,_t.y=_t.top,_t}function Pn(){return{top:0,right:0,bottom:0,left:0}}function Ft(dt){return Object.assign({},Pn(),dt)}function lt(dt,pt){return pt.reduce(function(Xt,Hn){return Xt[Hn]=dt,Xt},{})}function Rt(dt,pt){pt===void 0&&(pt={});var Xt=pt,Hn=Xt.placement,ir=Hn===void 0?dt.placement:Hn,It=Xt.boundary,_t=It===void 0?K:It,Vt=Xt.rootBoundary,Tn=Vt===void 0?Y:Vt,sr=Xt.elementContext,qn=sr===void 0?W:sr,qr=Xt.altBoundary,Vr=qr===void 0?!1:qr,Gr=Xt.padding,$r=Gr===void 0?0:Gr,yr=Ft(typeof $r!="number"?$r:lt($r,w)),Nr=qn===W?R:W,gr=dt.rects.popper,Xr=dt.elements[Vr?Nr:qn],Dt=tn(a(Xr)?Xr:Xr.contextElement||s(dt.elements.popper),_t,Tn),N=f(dt.elements.reference),L=Be({reference:N,element:gr,strategy:"absolute",placement:ir}),$=Qe(Object.assign({},gr,L)),ne=qn===W?$:N,ee={top:Dt.top-ne.top+yr.top,bottom:ne.bottom-Dt.bottom+yr.bottom,left:Dt.left-ne.left+yr.left,right:ne.right-Dt.right+yr.right},ae=dt.modifiersData.offset;if(qn===W&&ae){var ve=ae[ir];Object.keys(ee).forEach(function(Re){var $e=[T,C].indexOf(Re)>=0?1:-1,bt=[H,C].indexOf(Re)>=0?"y":"x";ee[Re]+=ve[bt]*$e})}return ee}function ln(dt,pt){pt===void 0&&(pt={});var Xt=pt,Hn=Xt.placement,ir=Xt.boundary,It=Xt.rootBoundary,_t=Xt.padding,Vt=Xt.flipVariations,Tn=Xt.allowedAutoPlacements,sr=Tn===void 0?x:Tn,qn=at(Hn),qr=qn?Vt?B:B.filter(function($r){return at($r)===qn}):w,Vr=qr.filter(function($r){return sr.indexOf($r)>=0});Vr.length===0&&(Vr=qr);var Gr=Vr.reduce(function($r,yr){return $r[yr]=Rt(dt,{placement:yr,boundary:ir,rootBoundary:It,padding:_t})[zt(yr)],$r},{});return Object.keys(Gr).sort(function($r,yr){return Gr[$r]-Gr[yr]})}function Mt(dt){if(zt(dt)===D)return[];var pt=Tt(dt);return[ht(dt),pt,ht(pt)]}function $t(dt){var pt=dt.state,Xt=dt.options,Hn=dt.name;if(!pt.modifiersData[Hn]._skip){for(var ir=Xt.mainAxis,It=ir===void 0?!0:ir,_t=Xt.altAxis,Vt=_t===void 0?!0:_t,Tn=Xt.fallbackPlacements,sr=Xt.padding,qn=Xt.boundary,qr=Xt.rootBoundary,Vr=Xt.altBoundary,Gr=Xt.flipVariations,$r=Gr===void 0?!0:Gr,yr=Xt.allowedAutoPlacements,Nr=pt.options.placement,gr=zt(Nr),Xr=gr===Nr,Dt=Tn||(Xr||!$r?[Tt(Nr)]:Mt(Nr)),N=[Nr].concat(Dt).reduce(function(uo,go){return uo.concat(zt(go)===D?ln(pt,{placement:go,boundary:qn,rootBoundary:qr,padding:sr,flipVariations:$r,allowedAutoPlacements:yr}):go)},[]),L=pt.rects.reference,$=pt.rects.popper,ne=new Map,ee=!0,ae=N[0],ve=0;ve<N.length;ve++){var Re=N[ve],$e=zt(Re),bt=at(Re)===U,Ut=[H,C].indexOf($e)>=0,dn=Ut?"width":"height",pn=Rt(pt,{placement:Re,boundary:qn,rootBoundary:qr,altBoundary:Vr,padding:sr}),jn=Ut?bt?T:S:bt?C:H;L[dn]>$[dn]&&(jn=Tt(jn));var Nn=Tt(jn),Xn=[];if(It&&Xn.push(pn[$e]<=0),Vt&&Xn.push(pn[jn]<=0,pn[Nn]<=0),Xn.every(function(uo){return uo})){ae=Re,ee=!1;break}ne.set(Re,Xn)}if(ee)for(var Lr=$r?3:1,Wr=function(go){var yo=N.find(function(vo){var Sr=ne.get(vo);if(Sr)return Sr.slice(0,go).every(function(Ro){return Ro})});if(yo)return ae=yo,"break"},Kr=Lr;Kr>0;Kr--){var Zr=Wr(Kr);if(Zr==="break")break}pt.placement!==ae&&(pt.modifiersData[Hn]._skip=!0,pt.placement=ae,pt.reset=!0)}}var nn={name:"flip",enabled:!0,phase:"main",fn:$t,requiresIfExists:["offset"],data:{_skip:!1}};function Bt(dt){return dt==="x"?"y":"x"}function Kt(dt,pt,Xt){return d(dt,c(pt,Xt))}function Sn(dt,pt,Xt){var Hn=Kt(dt,pt,Xt);return Hn>Xt?Xt:Hn}function Qn(dt){var pt=dt.state,Xt=dt.options,Hn=dt.name,ir=Xt.mainAxis,It=ir===void 0?!0:ir,_t=Xt.altAxis,Vt=_t===void 0?!1:_t,Tn=Xt.boundary,sr=Xt.rootBoundary,qn=Xt.altBoundary,qr=Xt.padding,Vr=Xt.tether,Gr=Vr===void 0?!0:Vr,$r=Xt.tetherOffset,yr=$r===void 0?0:$r,Nr=Rt(pt,{boundary:Tn,rootBoundary:sr,padding:qr,altBoundary:qn}),gr=zt(pt.placement),Xr=at(pt.placement),Dt=!Xr,N=Me(gr),L=Bt(N),$=pt.modifiersData.popperOffsets,ne=pt.rects.reference,ee=pt.rects.popper,ae=typeof yr=="function"?yr(Object.assign({},pt.rects,{placement:pt.placement})):yr,ve=typeof ae=="number"?{mainAxis:ae,altAxis:ae}:Object.assign({mainAxis:0,altAxis:0},ae),Re=pt.modifiersData.offset?pt.modifiersData.offset[pt.placement]:null,$e={x:0,y:0};if(!!$){if(It){var bt,Ut=N==="y"?H:S,dn=N==="y"?C:T,pn=N==="y"?"height":"width",jn=$[N],Nn=jn+Nr[Ut],Xn=jn-Nr[dn],Lr=Gr?-ee[pn]/2:0,Wr=Xr===U?ne[pn]:ee[pn],Kr=Xr===U?-ee[pn]:-ne[pn],Zr=pt.elements.arrow,uo=Gr&&Zr?y(Zr):{width:0,height:0},go=pt.modifiersData["arrow#persistent"]?pt.modifiersData["arrow#persistent"].padding:Pn(),yo=go[Ut],vo=go[dn],Sr=Kt(0,ne[pn],uo[pn]),Ro=Dt?ne[pn]/2-Lr-Sr-yo-ve.mainAxis:Wr-Sr-yo-ve.mainAxis,Po=Dt?-ne[pn]/2+Lr+Sr+vo+ve.mainAxis:Kr+Sr+vo+ve.mainAxis,Yo=pt.elements.arrow&&F(pt.elements.arrow),lo=Yo?N==="y"?Yo.clientTop||0:Yo.clientLeft||0:0,No=(bt=Re==null?void 0:Re[N])!=null?bt:0,Ko=jn+Ro-No-lo,Qo=jn+Po-No,Xo=Kt(Gr?c(Nn,Ko):Nn,jn,Gr?d(Xn,Qo):Xn);$[N]=Xo,$e[N]=Xo-jn}if(Vt){var mi,si=N==="x"?H:S,li=N==="x"?C:T,Io=$[L],pi=L==="y"?"height":"width",Di=Io+Nr[si],Li=Io-Nr[li],Wi=[H,S].indexOf(gr)!==-1,Xi=(mi=Re==null?void 0:Re[L])!=null?mi:0,di=Wi?Di:Io-ne[pi]-ee[pi]-Xi+ve.altAxis,yi=Wi?Io+ne[pi]+ee[pi]-Xi-ve.altAxis:Li,Ii=Gr&&Wi?Sn(di,Io,yi):Kt(Gr?di:Di,Io,Gr?yi:Li);$[L]=Ii,$e[L]=Ii-Io}pt.modifiersData[Hn]=$e}}var rr={name:"preventOverflow",enabled:!0,phase:"main",fn:Qn,requiresIfExists:["offset"]},Mr=function(pt,Xt){return pt=typeof pt=="function"?pt(Object.assign({},Xt.rects,{placement:Xt.placement})):pt,Ft(typeof pt!="number"?pt:lt(pt,w))};function zr(dt){var pt,Xt=dt.state,Hn=dt.name,ir=dt.options,It=Xt.elements.arrow,_t=Xt.modifiersData.popperOffsets,Vt=zt(Xt.placement),Tn=Me(Vt),sr=[S,T].indexOf(Vt)>=0,qn=sr?"height":"width";if(!(!It||!_t)){var qr=Mr(ir.padding,Xt),Vr=y(It),Gr=Tn==="y"?H:S,$r=Tn==="y"?C:T,yr=Xt.rects.reference[qn]+Xt.rects.reference[Tn]-_t[Tn]-Xt.rects.popper[qn],Nr=_t[Tn]-Xt.rects.reference[Tn],gr=F(It),Xr=gr?Tn==="y"?gr.clientHeight||0:gr.clientWidth||0:0,Dt=yr/2-Nr/2,N=qr[Gr],L=Xr-Vr[qn]-qr[$r],$=Xr/2-Vr[qn]/2+Dt,ne=Kt(N,$,L),ee=Tn;Xt.modifiersData[Hn]=(pt={},pt[ee]=ne,pt.centerOffset=ne-$,pt)}}function dr(dt){var pt=dt.state,Xt=dt.options,Hn=Xt.element,ir=Hn===void 0?"[data-popper-arrow]":Hn;ir!=null&&(typeof ir=="string"&&(ir=pt.elements.popper.querySelector(ir),!ir)||!yt(pt.elements.popper,ir)||(pt.elements.arrow=ir))}var Rr={name:"arrow",enabled:!0,phase:"main",fn:zr,effect:dr,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function _r(dt,pt,Xt){return Xt===void 0&&(Xt={x:0,y:0}),{top:dt.top-pt.height-Xt.y,right:dt.right-pt.width+Xt.x,bottom:dt.bottom-pt.height+Xt.y,left:dt.left-pt.width-Xt.x}}function ro(dt){return[H,T,C,S].some(function(pt){return dt[pt]>=0})}function Dn(dt){var pt=dt.state,Xt=dt.name,Hn=pt.rects.reference,ir=pt.rects.popper,It=pt.modifiersData.preventOverflow,_t=Rt(pt,{elementContext:"reference"}),Vt=Rt(pt,{altBoundary:!0}),Tn=_r(_t,Hn),sr=_r(Vt,ir,It),qn=ro(Tn),qr=ro(sr);pt.modifiersData[Xt]={referenceClippingOffsets:Tn,popperEscapeOffsets:sr,isReferenceHidden:qn,hasPopperEscaped:qr},pt.attributes.popper=Object.assign({},pt.attributes.popper,{"data-popper-reference-hidden":qn,"data-popper-escaped":qr})}var ut={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Dn},fn=[Wt,Te,Ve,Se,je,nn,rr,Rr,ut],On=We({defaultModifiers:fn}),Ot='<svg width="16" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0c1.07-.006 2.148.887 3.343 2.385C14.233 6.005 16 6 16 6H0z"></svg>',kt="tippy-box",Zt="tippy-content",Vn="tippy-backdrop",Gn="tippy-arrow",tr="tippy-svg-arrow",rn={passive:!0,capture:!0},_n=function(){return document.body};function Yn(dt,pt){return{}.hasOwnProperty.call(dt,pt)}function cr(dt,pt,Xt){if(Array.isArray(dt)){var Hn=dt[pt];return Hn==null?Array.isArray(Xt)?Xt[pt]:Xt:Hn}return dt}function Jt(dt,pt){var Xt={}.toString.call(dt);return Xt.indexOf("[object")===0&&Xt.indexOf(pt+"]")>-1}function cn(dt,pt){return typeof dt=="function"?dt.apply(void 0,pt):dt}function bn(dt,pt){if(pt===0)return dt;var Xt;return function(Hn){clearTimeout(Xt),Xt=setTimeout(function(){dt(Hn)},pt)}}function zn(dt,pt){var Xt=Object.assign({},dt);return pt.forEach(function(Hn){delete Xt[Hn]}),Xt}function Rn(dt){return dt.split(/\s+/).filter(Boolean)}function xn(dt){return[].concat(dt)}function mr(dt,pt){dt.indexOf(pt)===-1&&dt.push(pt)}function Or(dt){return dt.filter(function(pt,Xt){return dt.indexOf(pt)===Xt})}function Lt(dt){return dt.split("-")[0]}function qt(dt){return[].slice.call(dt)}function wn(dt){return Object.keys(dt).reduce(function(pt,Xt){return dt[Xt]!==void 0&&(pt[Xt]=dt[Xt]),pt},{})}function $n(){return document.createElement("div")}function Wn(dt){return["Element","Fragment"].some(function(pt){return Jt(dt,pt)})}function Jn(dt){return Jt(dt,"NodeList")}function Tr(dt){return Jt(dt,"MouseEvent")}function Qr(dt){return!!(dt&&dt._tippy&&dt._tippy.reference===dt)}function ao(dt){return Wn(dt)?[dt]:Jn(dt)?qt(dt):Array.isArray(dt)?dt:qt(document.querySelectorAll(dt))}function oo(dt,pt){dt.forEach(function(Xt){Xt&&(Xt.style.transitionDuration=pt+"ms")})}function eo(dt,pt){dt.forEach(function(Xt){Xt&&Xt.setAttribute("data-state",pt)})}function bo(dt){var pt,Xt=xn(dt),Hn=Xt[0];return Hn!=null&&(pt=Hn.ownerDocument)!=null&&pt.body?Hn.ownerDocument:document}function zo(dt,pt){var Xt=pt.clientX,Hn=pt.clientY;return dt.every(function(ir){var It=ir.popperRect,_t=ir.popperState,Vt=ir.props,Tn=Vt.interactiveBorder,sr=Lt(_t.placement),qn=_t.modifiersData.offset;if(!qn)return!0;var qr=sr==="bottom"?qn.top.y:0,Vr=sr==="top"?qn.bottom.y:0,Gr=sr==="right"?qn.left.x:0,$r=sr==="left"?qn.right.x:0,yr=It.top-Hn+qr>Tn,Nr=Hn-It.bottom-Vr>Tn,gr=It.left-Xt+Gr>Tn,Xr=Xt-It.right-$r>Tn;return yr||Nr||gr||Xr})}function Eo(dt,pt,Xt){var Hn=pt+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(ir){dt[Hn](ir,Xt)})}function Co(dt,pt){for(var Xt=pt;Xt;){var Hn;if(dt.contains(Xt))return!0;Xt=Xt.getRootNode==null||(Hn=Xt.getRootNode())==null?void 0:Hn.host}return!1}var Mo={isTouch:!1},ft=0;function qe(){Mo.isTouch||(Mo.isTouch=!0,window.performance&&document.addEventListener("mousemove",rt))}function rt(){var dt=performance.now();dt-ft<20&&(Mo.isTouch=!1,document.removeEventListener("mousemove",rt)),ft=dt}function mt(){var dt=document.activeElement;if(Qr(dt)){var pt=dt._tippy;dt.blur&&!pt.state.isVisible&&dt.blur()}}function un(){document.addEventListener("touchstart",qe,rn),window.addEventListener("blur",mt)}var yn=typeof window!="undefined"&&typeof document!="undefined",An=yn?!!window.msCrypto:!1;function Je(dt){var pt=dt==="destroy"?"n already-":" ";return[dt+"() was called on a"+pt+"destroyed instance. This is a no-op but","indicates a potential memory leak."].join(" ")}function St(dt){var pt=/[ \t]{2,}/g,Xt=/^[ \t]*/gm;return dt.replace(pt," ").replace(Xt,"").trim()}function Gt(dt){return St(`
  %ctippy.js

  %c`+St(dt)+`

  %c\u{1F477}\u200D This is a development-only message. It will be removed in production.
  `)}function vn(dt){return[Gt(dt),"color: #00C584; font-size: 1.3em; font-weight: bold;","line-height: 1.5","color: #a6a095;"]}var kn;function or(){kn=new Set}function fr(dt,pt){if(dt&&!kn.has(pt)){var Xt;kn.add(pt),(Xt=console).warn.apply(Xt,vn(pt))}}function er(dt,pt){if(dt&&!kn.has(pt)){var Xt;kn.add(pt),(Xt=console).error.apply(Xt,vn(pt))}}function Ln(dt){var pt=!dt,Xt=Object.prototype.toString.call(dt)==="[object Object]"&&!dt.addEventListener;er(pt,["tippy() was passed","`"+String(dt)+"`","as its targets (first) argument. Valid types are: String, Element,","Element[], or NodeList."].join(" ")),er(Xt,["tippy() was passed a plain object which is not supported as an argument","for virtual positioning. Use props.getReferenceClientRect instead."].join(" "))}var ur={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},br={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},et=Object.assign({appendTo:_n,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},ur,br),Ge=Object.keys(et),tt=function(pt){var Xt=Object.keys(pt);Xt.forEach(function(Hn){et[Hn]=pt[Hn]})};function Pt(dt){var pt=dt.plugins||[],Xt=pt.reduce(function(Hn,ir){var It=ir.name,_t=ir.defaultValue;if(It){var Vt;Hn[It]=dt[It]!==void 0?dt[It]:(Vt=et[It])!=null?Vt:_t}return Hn},{});return Object.assign({},dt,Xt)}function gt(dt,pt){var Xt=pt?Object.keys(Pt(Object.assign({},et,{plugins:pt}))):Ge,Hn=Xt.reduce(function(ir,It){var _t=(dt.getAttribute("data-tippy-"+It)||"").trim();if(!_t)return ir;if(It==="content")ir[It]=_t;else try{ir[It]=JSON.parse(_t)}catch(Vt){ir[It]=_t}return ir},{});return Hn}function me(dt,pt){var Xt=Object.assign({},pt,{content:cn(pt.content,[dt])},pt.ignoreAttributes?{}:gt(dt,pt.plugins));return Xt.aria=Object.assign({},et.aria,Xt.aria),Xt.aria={expanded:Xt.aria.expanded==="auto"?pt.interactive:Xt.aria.expanded,content:Xt.aria.content==="auto"?pt.interactive?null:"describedby":Xt.aria.content},Xt}function fe(dt,pt){dt===void 0&&(dt={}),pt===void 0&&(pt=[]);var Xt=Object.keys(dt);Xt.forEach(function(Hn){var ir=zn(et,Object.keys(ur)),It=!Yn(ir,Hn);It&&(It=pt.filter(function(_t){return _t.name===Hn}).length===0),fr(It,["`"+Hn+"`","is not a valid prop. You may have spelled it incorrectly, or if it's","a plugin, forgot to pass it in an array as props.plugins.",`

`,`All props: https://atomiks.github.io/tippyjs/v6/all-props/
`,"Plugins: https://atomiks.github.io/tippyjs/v6/plugins/"].join(" "))})}var Ee=function(){return"innerHTML"};function Ue(dt,pt){dt[Ee()]=pt}function Ye(dt){var pt=$n();return dt===!0?pt.className=Gn:(pt.className=tr,Wn(dt)?pt.appendChild(dt):Ue(pt,dt)),pt}function ct(dt,pt){Wn(pt.content)?(Ue(dt,""),dt.appendChild(pt.content)):typeof pt.content!="function"&&(pt.allowHTML?Ue(dt,pt.content):dt.textContent=pt.content)}function Yt(dt){var pt=dt.firstElementChild,Xt=qt(pt.children);return{box:pt,content:Xt.find(function(Hn){return Hn.classList.contains(Zt)}),arrow:Xt.find(function(Hn){return Hn.classList.contains(Gn)||Hn.classList.contains(tr)}),backdrop:Xt.find(function(Hn){return Hn.classList.contains(Vn)})}}function Qt(dt){var pt=$n(),Xt=$n();Xt.className=kt,Xt.setAttribute("data-state","hidden"),Xt.setAttribute("tabindex","-1");var Hn=$n();Hn.className=Zt,Hn.setAttribute("data-state","hidden"),ct(Hn,dt.props),pt.appendChild(Xt),Xt.appendChild(Hn),ir(dt.props,dt.props);function ir(It,_t){var Vt=Yt(pt),Tn=Vt.box,sr=Vt.content,qn=Vt.arrow;_t.theme?Tn.setAttribute("data-theme",_t.theme):Tn.removeAttribute("data-theme"),typeof _t.animation=="string"?Tn.setAttribute("data-animation",_t.animation):Tn.removeAttribute("data-animation"),_t.inertia?Tn.setAttribute("data-inertia",""):Tn.removeAttribute("data-inertia"),Tn.style.maxWidth=typeof _t.maxWidth=="number"?_t.maxWidth+"px":_t.maxWidth,_t.role?Tn.setAttribute("role",_t.role):Tn.removeAttribute("role"),(It.content!==_t.content||It.allowHTML!==_t.allowHTML)&&ct(sr,dt.props),_t.arrow?qn?It.arrow!==_t.arrow&&(Tn.removeChild(qn),Tn.appendChild(Ye(_t.arrow))):Tn.appendChild(Ye(_t.arrow)):qn&&Tn.removeChild(qn)}return{popper:pt,onUpdate:ir}}Qt.$$tippy=!0;var En=1,hn=[],In=[];function Fn(dt,pt){var Xt=me(dt,Object.assign({},et,Pt(wn(pt)))),Hn,ir,It,_t=!1,Vt=!1,Tn=!1,sr=!1,qn,qr,Vr,Gr=[],$r=bn(Ko,Xt.interactiveDebounce),yr,Nr=En++,gr=null,Xr=Or(Xt.plugins),Dt={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},N={id:Nr,reference:dt,popper:$n(),popperInstance:gr,props:Xt,state:Dt,plugins:Xr,clearDelayTimeouts:di,setProps:yi,setContent:Ii,show:qi,hide:sa,hideWithInteractivity:ji,enable:Wi,disable:Xi,unmount:wi,destroy:ti};if(!Xt.render)return N;var L=Xt.render(N),$=L.popper,ne=L.onUpdate;$.setAttribute("data-tippy-root",""),$.id="tippy-"+N.id,N.popper=$,dt._tippy=N,$._tippy=N;var ee=Xr.map(function(Ar){return Ar.fn(N)}),ae=dt.hasAttribute("aria-expanded");return Yo(),Lr(),jn(),Nn("onCreate",[N]),Xt.showOnCreate&&Di(),$.addEventListener("mouseenter",function(){N.props.interactive&&N.state.isVisible&&N.clearDelayTimeouts()}),$.addEventListener("mouseleave",function(){N.props.interactive&&N.props.trigger.indexOf("mouseenter")>=0&&Ut().addEventListener("mousemove",$r)}),N;function ve(){var Ar=N.props.touch;return Array.isArray(Ar)?Ar:[Ar,0]}function Re(){return ve()[0]==="hold"}function $e(){var Ar;return!!((Ar=N.props.render)!=null&&Ar.$$tippy)}function bt(){return yr||dt}function Ut(){var Ar=bt().parentNode;return Ar?bo(Ar):document}function dn(){return Yt($)}function pn(Ar){return N.state.isMounted&&!N.state.isVisible||Mo.isTouch||qn&&qn.type==="focus"?0:cr(N.props.delay,Ar?0:1,et.delay)}function jn(Ar){Ar===void 0&&(Ar=!1),$.style.pointerEvents=N.props.interactive&&!Ar?"":"none",$.style.zIndex=""+N.props.zIndex}function Nn(Ar,Ao,Fo){if(Fo===void 0&&(Fo=!0),ee.forEach(function(fi){fi[Ar]&&fi[Ar].apply(fi,Ao)}),Fo){var hi;(hi=N.props)[Ar].apply(hi,Ao)}}function Xn(){var Ar=N.props.aria;if(!!Ar.content){var Ao="aria-"+Ar.content,Fo=$.id,hi=xn(N.props.triggerTarget||dt);hi.forEach(function(fi){var ki=fi.getAttribute(Ao);if(N.state.isVisible)fi.setAttribute(Ao,ki?ki+" "+Fo:Fo);else{var Vi=ki&&ki.replace(Fo,"").trim();Vi?fi.setAttribute(Ao,Vi):fi.removeAttribute(Ao)}})}}function Lr(){if(!(ae||!N.props.aria.expanded)){var Ar=xn(N.props.triggerTarget||dt);Ar.forEach(function(Ao){N.props.interactive?Ao.setAttribute("aria-expanded",N.state.isVisible&&Ao===bt()?"true":"false"):Ao.removeAttribute("aria-expanded")})}}function Wr(){Ut().removeEventListener("mousemove",$r),hn=hn.filter(function(Ar){return Ar!==$r})}function Kr(Ar){if(!(Mo.isTouch&&(Tn||Ar.type==="mousedown"))){var Ao=Ar.composedPath&&Ar.composedPath()[0]||Ar.target;if(!(N.props.interactive&&Co($,Ao))){if(xn(N.props.triggerTarget||dt).some(function(Fo){return Co(Fo,Ao)})){if(Mo.isTouch||N.state.isVisible&&N.props.trigger.indexOf("click")>=0)return}else Nn("onClickOutside",[N,Ar]);N.props.hideOnClick===!0&&(N.clearDelayTimeouts(),N.hide(),Vt=!0,setTimeout(function(){Vt=!1}),N.state.isMounted||yo())}}}function Zr(){Tn=!0}function uo(){Tn=!1}function go(){var Ar=Ut();Ar.addEventListener("mousedown",Kr,!0),Ar.addEventListener("touchend",Kr,rn),Ar.addEventListener("touchstart",uo,rn),Ar.addEventListener("touchmove",Zr,rn)}function yo(){var Ar=Ut();Ar.removeEventListener("mousedown",Kr,!0),Ar.removeEventListener("touchend",Kr,rn),Ar.removeEventListener("touchstart",uo,rn),Ar.removeEventListener("touchmove",Zr,rn)}function vo(Ar,Ao){Ro(Ar,function(){!N.state.isVisible&&$.parentNode&&$.parentNode.contains($)&&Ao()})}function Sr(Ar,Ao){Ro(Ar,Ao)}function Ro(Ar,Ao){var Fo=dn().box;function hi(fi){fi.target===Fo&&(Eo(Fo,"remove",hi),Ao())}if(Ar===0)return Ao();Eo(Fo,"remove",qr),Eo(Fo,"add",hi),qr=hi}function Po(Ar,Ao,Fo){Fo===void 0&&(Fo=!1);var hi=xn(N.props.triggerTarget||dt);hi.forEach(function(fi){fi.addEventListener(Ar,Ao,Fo),Gr.push({node:fi,eventType:Ar,handler:Ao,options:Fo})})}function Yo(){Re()&&(Po("touchstart",No,{passive:!0}),Po("touchend",Qo,{passive:!0})),Rn(N.props.trigger).forEach(function(Ar){if(Ar!=="manual")switch(Po(Ar,No),Ar){case"mouseenter":Po("mouseleave",Qo);break;case"focus":Po(An?"focusout":"blur",Xo);break;case"focusin":Po("focusout",Xo);break}})}function lo(){Gr.forEach(function(Ar){var Ao=Ar.node,Fo=Ar.eventType,hi=Ar.handler,fi=Ar.options;Ao.removeEventListener(Fo,hi,fi)}),Gr=[]}function No(Ar){var Ao,Fo=!1;if(!(!N.state.isEnabled||mi(Ar)||Vt)){var hi=((Ao=qn)==null?void 0:Ao.type)==="focus";qn=Ar,yr=Ar.currentTarget,Lr(),!N.state.isVisible&&Tr(Ar)&&hn.forEach(function(fi){return fi(Ar)}),Ar.type==="click"&&(N.props.trigger.indexOf("mouseenter")<0||_t)&&N.props.hideOnClick!==!1&&N.state.isVisible?Fo=!0:Di(Ar),Ar.type==="click"&&(_t=!Fo),Fo&&!hi&&Li(Ar)}}function Ko(Ar){var Ao=Ar.target,Fo=bt().contains(Ao)||$.contains(Ao);if(!(Ar.type==="mousemove"&&Fo)){var hi=pi().concat($).map(function(fi){var ki,Vi=fi._tippy,la=(ki=Vi.popperInstance)==null?void 0:ki.state;return la?{popperRect:fi.getBoundingClientRect(),popperState:la,props:Xt}:null}).filter(Boolean);zo(hi,Ar)&&(Wr(),Li(Ar))}}function Qo(Ar){var Ao=mi(Ar)||N.props.trigger.indexOf("click")>=0&&_t;if(!Ao){if(N.props.interactive){N.hideWithInteractivity(Ar);return}Li(Ar)}}function Xo(Ar){N.props.trigger.indexOf("focusin")<0&&Ar.target!==bt()||N.props.interactive&&Ar.relatedTarget&&$.contains(Ar.relatedTarget)||Li(Ar)}function mi(Ar){return Mo.isTouch?Re()!==Ar.type.indexOf("touch")>=0:!1}function si(){li();var Ar=N.props,Ao=Ar.popperOptions,Fo=Ar.placement,hi=Ar.offset,fi=Ar.getReferenceClientRect,ki=Ar.moveTransition,Vi=$e()?Yt($).arrow:null,la=fi?{getBoundingClientRect:fi,contextElement:fi.contextElement||bt()}:dt,ca={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Aa){var ja=Aa.state;if($e()){var ka=dn(),Va=ka.box;["placement","reference-hidden","escaped"].forEach(function(Ha){Ha==="placement"?Va.setAttribute("data-placement",ja.placement):ja.attributes.popper["data-popper-"+Ha]?Va.setAttribute("data-"+Ha,""):Va.removeAttribute("data-"+Ha)}),ja.attributes.popper={}}}},Pa=[{name:"offset",options:{offset:hi}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!ki}},ca];$e()&&Vi&&Pa.push({name:"arrow",options:{element:Vi,padding:3}}),Pa.push.apply(Pa,(Ao==null?void 0:Ao.modifiers)||[]),N.popperInstance=On(la,$,Object.assign({},Ao,{placement:Fo,onFirstUpdate:Vr,modifiers:Pa}))}function li(){N.popperInstance&&(N.popperInstance.destroy(),N.popperInstance=null)}function Io(){var Ar=N.props.appendTo,Ao,Fo=bt();N.props.interactive&&Ar===_n||Ar==="parent"?Ao=Fo.parentNode:Ao=cn(Ar,[Fo]),Ao.contains($)||Ao.appendChild($),N.state.isMounted=!0,si()}function pi(){return qt($.querySelectorAll("[data-tippy-root]"))}function Di(Ar){N.clearDelayTimeouts(),Ar&&Nn("onTrigger",[N,Ar]),go();var Ao=pn(!0),Fo=ve(),hi=Fo[0],fi=Fo[1];Mo.isTouch&&hi==="hold"&&fi&&(Ao=fi),Ao?Hn=setTimeout(function(){N.show()},Ao):N.show()}function Li(Ar){if(N.clearDelayTimeouts(),Nn("onUntrigger",[N,Ar]),!N.state.isVisible){yo();return}if(!(N.props.trigger.indexOf("mouseenter")>=0&&N.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(Ar.type)>=0&&_t)){var Ao=pn(!1);Ao?ir=setTimeout(function(){N.state.isVisible&&N.hide()},Ao):It=requestAnimationFrame(function(){N.hide()})}}function Wi(){N.state.isEnabled=!0}function Xi(){N.hide(),N.state.isEnabled=!1}function di(){clearTimeout(Hn),clearTimeout(ir),cancelAnimationFrame(It)}function yi(Ar){if(!N.state.isDestroyed){Nn("onBeforeUpdate",[N,Ar]),lo();var Ao=N.props,Fo=me(dt,Object.assign({},Ao,wn(Ar),{ignoreAttributes:!0}));N.props=Fo,Yo(),Ao.interactiveDebounce!==Fo.interactiveDebounce&&(Wr(),$r=bn(Ko,Fo.interactiveDebounce)),Ao.triggerTarget&&!Fo.triggerTarget?xn(Ao.triggerTarget).forEach(function(hi){hi.removeAttribute("aria-expanded")}):Fo.triggerTarget&&dt.removeAttribute("aria-expanded"),Lr(),jn(),ne&&ne(Ao,Fo),N.popperInstance&&(si(),pi().forEach(function(hi){requestAnimationFrame(hi._tippy.popperInstance.forceUpdate)})),Nn("onAfterUpdate",[N,Ar])}}function Ii(Ar){N.setProps({content:Ar})}function qi(){var Ar=N.state.isVisible,Ao=N.state.isDestroyed,Fo=!N.state.isEnabled,hi=Mo.isTouch&&!N.props.touch,fi=cr(N.props.duration,0,et.duration);if(!(Ar||Ao||Fo||hi)&&!bt().hasAttribute("disabled")&&(Nn("onShow",[N],!1),N.props.onShow(N)!==!1)){if(N.state.isVisible=!0,$e()&&($.style.visibility="visible"),jn(),go(),N.state.isMounted||($.style.transition="none"),$e()){var ki=dn(),Vi=ki.box,la=ki.content;oo([Vi,la],0)}Vr=function(){var Pa;if(!(!N.state.isVisible||sr)){if(sr=!0,$.offsetHeight,$.style.transition=N.props.moveTransition,$e()&&N.props.animation){var Ba=dn(),Aa=Ba.box,ja=Ba.content;oo([Aa,ja],fi),eo([Aa,ja],"visible")}Xn(),Lr(),mr(In,N),(Pa=N.popperInstance)==null||Pa.forceUpdate(),Nn("onMount",[N]),N.props.animation&&$e()&&Sr(fi,function(){N.state.isShown=!0,Nn("onShown",[N])})}},Io()}}function sa(){var Ar=!N.state.isVisible,Ao=N.state.isDestroyed,Fo=!N.state.isEnabled,hi=cr(N.props.duration,1,et.duration);if(!(Ar||Ao||Fo)&&(Nn("onHide",[N],!1),N.props.onHide(N)!==!1)){if(N.state.isVisible=!1,N.state.isShown=!1,sr=!1,_t=!1,$e()&&($.style.visibility="hidden"),Wr(),yo(),jn(!0),$e()){var fi=dn(),ki=fi.box,Vi=fi.content;N.props.animation&&(oo([ki,Vi],hi),eo([ki,Vi],"hidden"))}Xn(),Lr(),N.props.animation?$e()&&vo(hi,N.unmount):N.unmount()}}function ji(Ar){Ut().addEventListener("mousemove",$r),mr(hn,$r),$r(Ar)}function wi(){N.state.isVisible&&N.hide(),!!N.state.isMounted&&(li(),pi().forEach(function(Ar){Ar._tippy.unmount()}),$.parentNode&&$.parentNode.removeChild($),In=In.filter(function(Ar){return Ar!==N}),N.state.isMounted=!1,Nn("onHidden",[N]))}function ti(){N.state.isDestroyed||(N.clearDelayTimeouts(),N.unmount(),lo(),delete dt._tippy,N.state.isDestroyed=!0,Nn("onDestroy",[N]))}}function Un(dt,pt){pt===void 0&&(pt={});var Xt=et.plugins.concat(pt.plugins||[]);un();var Hn=Object.assign({},pt,{plugins:Xt}),ir=ao(dt);if(!1)var It,_t;var Vt=ir.reduce(function(Tn,sr){var qn=sr&&Fn(sr,Hn);return qn&&Tn.push(qn),Tn},[]);return Wn(dt)?Vt[0]:Vt}Un.defaultProps=et,Un.setDefaultProps=tt,Un.currentInput=Mo;var nr=function(pt){var Xt=pt===void 0?{}:pt,Hn=Xt.exclude,ir=Xt.duration;In.forEach(function(It){var _t=!1;if(Hn&&(_t=Qr(Hn)?It.reference===Hn:It.popper===Hn.popper),!_t){var Vt=It.props.duration;It.setProps({duration:ir}),It.hide(),It.state.isDestroyed||It.setProps({duration:Vt})}})},jr=Object.assign({},Se,{effect:function(pt){var Xt=pt.state,Hn={popper:{position:Xt.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(Xt.elements.popper.style,Hn.popper),Xt.styles=Hn,Xt.elements.arrow&&Object.assign(Xt.elements.arrow.style,Hn.arrow)}}),Hr=function(pt,Xt){var Hn;Xt===void 0&&(Xt={});var ir=pt,It=[],_t=[],Vt,Tn=Xt.overrides,sr=[],qn=!1;function qr(){_t=ir.map(function(N){return xn(N.props.triggerTarget||N.reference)}).reduce(function(N,L){return N.concat(L)},[])}function Vr(){It=ir.map(function(N){return N.reference})}function Gr(N){ir.forEach(function(L){N?L.enable():L.disable()})}function $r(N){return ir.map(function(L){var $=L.setProps;return L.setProps=function(ne){$(ne),L.reference===Vt&&N.setProps(ne)},function(){L.setProps=$}})}function yr(N,L){var $=_t.indexOf(L);if(L!==Vt){Vt=L;var ne=(Tn||[]).concat("content").reduce(function(ee,ae){return ee[ae]=ir[$].props[ae],ee},{});N.setProps(Object.assign({},ne,{getReferenceClientRect:typeof ne.getReferenceClientRect=="function"?ne.getReferenceClientRect:function(){var ee;return(ee=It[$])==null?void 0:ee.getBoundingClientRect()}}))}}Gr(!1),Vr(),qr();var Nr={fn:function(){return{onDestroy:function(){Gr(!0)},onHidden:function(){Vt=null},onClickOutside:function($){$.props.showOnCreate&&!qn&&(qn=!0,Vt=null)},onShow:function($){$.props.showOnCreate&&!qn&&(qn=!0,yr($,It[0]))},onTrigger:function($,ne){yr($,ne.currentTarget)}}}},gr=Un($n(),Object.assign({},zn(Xt,["overrides"]),{plugins:[Nr].concat(Xt.plugins||[]),triggerTarget:_t,popperOptions:Object.assign({},Xt.popperOptions,{modifiers:[].concat(((Hn=Xt.popperOptions)==null?void 0:Hn.modifiers)||[],[jr])})})),Xr=gr.show;gr.show=function(N){if(Xr(),!Vt&&N==null)return yr(gr,It[0]);if(!(Vt&&N==null)){if(typeof N=="number")return It[N]&&yr(gr,It[N]);if(ir.indexOf(N)>=0){var L=N.reference;return yr(gr,L)}if(It.indexOf(N)>=0)return yr(gr,N)}},gr.showNext=function(){var N=It[0];if(!Vt)return gr.show(0);var L=It.indexOf(Vt);gr.show(It[L+1]||N)},gr.showPrevious=function(){var N=It[It.length-1];if(!Vt)return gr.show(N);var L=It.indexOf(Vt),$=It[L-1]||N;gr.show($)};var Dt=gr.setProps;return gr.setProps=function(N){Tn=N.overrides||Tn,Dt(N)},gr.setInstances=function(N){Gr(!0),sr.forEach(function(L){return L()}),ir=N,Gr(!1),Vr(),qr(),sr=$r(gr),gr.setProps({triggerTarget:_t})},sr=$r(gr),gr},Br={mouseover:"mouseenter",focusin:"focus",click:"click"};function Jr(dt,pt){var Xt=[],Hn=[],ir=!1,It=pt.target,_t=zn(pt,["target"]),Vt=Object.assign({},_t,{trigger:"manual",touch:!1}),Tn=Object.assign({touch:et.touch},_t,{showOnCreate:!0}),sr=Un(dt,Vt),qn=xn(sr);function qr(Nr){if(!(!Nr.target||ir)){var gr=Nr.target.closest(It);if(!!gr){var Xr=gr.getAttribute("data-tippy-trigger")||pt.trigger||et.trigger;if(!gr._tippy&&!(Nr.type==="touchstart"&&typeof Tn.touch=="boolean")&&!(Nr.type!=="touchstart"&&Xr.indexOf(Br[Nr.type])<0)){var Dt=Un(gr,Tn);Dt&&(Hn=Hn.concat(Dt))}}}}function Vr(Nr,gr,Xr,Dt){Dt===void 0&&(Dt=!1),Nr.addEventListener(gr,Xr,Dt),Xt.push({node:Nr,eventType:gr,handler:Xr,options:Dt})}function Gr(Nr){var gr=Nr.reference;Vr(gr,"touchstart",qr,rn),Vr(gr,"mouseover",qr),Vr(gr,"focusin",qr),Vr(gr,"click",qr)}function $r(){Xt.forEach(function(Nr){var gr=Nr.node,Xr=Nr.eventType,Dt=Nr.handler,N=Nr.options;gr.removeEventListener(Xr,Dt,N)}),Xt=[]}function yr(Nr){var gr=Nr.destroy,Xr=Nr.enable,Dt=Nr.disable;Nr.destroy=function(N){N===void 0&&(N=!0),N&&Hn.forEach(function(L){L.destroy()}),Hn=[],$r(),gr()},Nr.enable=function(){Xr(),Hn.forEach(function(N){return N.enable()}),ir=!1},Nr.disable=function(){Dt(),Hn.forEach(function(N){return N.disable()}),ir=!0},Gr(Nr)}return qn.forEach(yr),sr}var so={name:"animateFill",defaultValue:!1,fn:function(pt){var Xt;if(!((Xt=pt.props.render)!=null&&Xt.$$tippy))return{};var Hn=Yt(pt.popper),ir=Hn.box,It=Hn.content,_t=pt.props.animateFill?Pr():null;return{onCreate:function(){_t&&(ir.insertBefore(_t,ir.firstElementChild),ir.setAttribute("data-animatefill",""),ir.style.overflow="hidden",pt.setProps({arrow:!1,animation:"shift-away"}))},onMount:function(){if(_t){var Tn=ir.style.transitionDuration,sr=Number(Tn.replace("ms",""));It.style.transitionDelay=Math.round(sr/10)+"ms",_t.style.transitionDuration=Tn,eo([_t],"visible")}},onShow:function(){_t&&(_t.style.transitionDuration="0ms")},onHide:function(){_t&&eo([_t],"hidden")}}}};function Pr(){var dt=$n();return dt.className=Vn,eo([dt],"hidden"),dt}var Ur={clientX:0,clientY:0},Cr=[];function io(dt){var pt=dt.clientX,Xt=dt.clientY;Ur={clientX:pt,clientY:Xt}}function co(dt){dt.addEventListener("mousemove",io)}function Wo(dt){dt.removeEventListener("mousemove",io)}var qo={name:"followCursor",defaultValue:!1,fn:function(pt){var Xt=pt.reference,Hn=bo(pt.props.triggerTarget||Xt),ir=!1,It=!1,_t=!0,Vt=pt.props;function Tn(){return pt.props.followCursor==="initial"&&pt.state.isVisible}function sr(){Hn.addEventListener("mousemove",Vr)}function qn(){Hn.removeEventListener("mousemove",Vr)}function qr(){ir=!0,pt.setProps({getReferenceClientRect:null}),ir=!1}function Vr(yr){var Nr=yr.target?Xt.contains(yr.target):!0,gr=pt.props.followCursor,Xr=yr.clientX,Dt=yr.clientY,N=Xt.getBoundingClientRect(),L=Xr-N.left,$=Dt-N.top;(Nr||!pt.props.interactive)&&pt.setProps({getReferenceClientRect:function(){var ee=Xt.getBoundingClientRect(),ae=Xr,ve=Dt;gr==="initial"&&(ae=ee.left+L,ve=ee.top+$);var Re=gr==="horizontal"?ee.top:ve,$e=gr==="vertical"?ee.right:ae,bt=gr==="horizontal"?ee.bottom:ve,Ut=gr==="vertical"?ee.left:ae;return{width:$e-Ut,height:bt-Re,top:Re,right:$e,bottom:bt,left:Ut}}})}function Gr(){pt.props.followCursor&&(Cr.push({instance:pt,doc:Hn}),co(Hn))}function $r(){Cr=Cr.filter(function(yr){return yr.instance!==pt}),Cr.filter(function(yr){return yr.doc===Hn}).length===0&&Wo(Hn)}return{onCreate:Gr,onDestroy:$r,onBeforeUpdate:function(){Vt=pt.props},onAfterUpdate:function(Nr,gr){var Xr=gr.followCursor;ir||Xr!==void 0&&Vt.followCursor!==Xr&&($r(),Xr?(Gr(),pt.state.isMounted&&!It&&!Tn()&&sr()):(qn(),qr()))},onMount:function(){pt.props.followCursor&&!It&&(_t&&(Vr(Ur),_t=!1),Tn()||sr())},onTrigger:function(Nr,gr){Tr(gr)&&(Ur={clientX:gr.clientX,clientY:gr.clientY}),It=gr.type==="focus"},onHidden:function(){pt.props.followCursor&&(qr(),qn(),_t=!0)}}}};function Jo(dt,pt){var Xt;return{popperOptions:Object.assign({},dt.popperOptions,{modifiers:[].concat((((Xt=dt.popperOptions)==null?void 0:Xt.modifiers)||[]).filter(function(Hn){var ir=Hn.name;return ir!==pt.name}),[pt])})}}var Go={name:"inlinePositioning",defaultValue:!1,fn:function(pt){var Xt=pt.reference;function Hn(){return!!pt.props.inlinePositioning}var ir,It=-1,_t=!1,Vt=[],Tn={name:"tippyInlinePositioning",enabled:!0,phase:"afterWrite",fn:function(Gr){var $r=Gr.state;Hn()&&(Vt.indexOf($r.placement)!==-1&&(Vt=[]),ir!==$r.placement&&Vt.indexOf($r.placement)===-1&&(Vt.push($r.placement),pt.setProps({getReferenceClientRect:function(){return sr($r.placement)}})),ir=$r.placement)}};function sr(Vr){return ko(Lt(Vr),Xt.getBoundingClientRect(),qt(Xt.getClientRects()),It)}function qn(Vr){_t=!0,pt.setProps(Vr),_t=!1}function qr(){_t||qn(Jo(pt.props,Tn))}return{onCreate:qr,onAfterUpdate:qr,onTrigger:function(Gr,$r){if(Tr($r)){var yr=qt(pt.reference.getClientRects()),Nr=yr.find(function(Xr){return Xr.left-2<=$r.clientX&&Xr.right+2>=$r.clientX&&Xr.top-2<=$r.clientY&&Xr.bottom+2>=$r.clientY}),gr=yr.indexOf(Nr);It=gr>-1?gr:It}},onHidden:function(){It=-1}}}};function ko(dt,pt,Xt,Hn){if(Xt.length<2||dt===null)return pt;if(Xt.length===2&&Hn>=0&&Xt[0].left>Xt[1].right)return Xt[Hn]||pt;switch(dt){case"top":case"bottom":{var ir=Xt[0],It=Xt[Xt.length-1],_t=dt==="top",Vt=ir.top,Tn=It.bottom,sr=_t?ir.left:It.left,qn=_t?ir.right:It.right,qr=qn-sr,Vr=Tn-Vt;return{top:Vt,bottom:Tn,left:sr,right:qn,width:qr,height:Vr}}case"left":case"right":{var Gr=Math.min.apply(Math,Xt.map(function($){return $.left})),$r=Math.max.apply(Math,Xt.map(function($){return $.right})),yr=Xt.filter(function($){return dt==="left"?$.left===Gr:$.right===$r}),Nr=yr[0].top,gr=yr[yr.length-1].bottom,Xr=Gr,Dt=$r,N=Dt-Xr,L=gr-Nr;return{top:Nr,bottom:gr,left:Xr,right:Dt,width:N,height:L}}default:return pt}}var Ho={name:"sticky",defaultValue:!1,fn:function(pt){var Xt=pt.reference,Hn=pt.popper;function ir(){return pt.popperInstance?pt.popperInstance.state.elements.reference:Xt}function It(sr){return pt.props.sticky===!0||pt.props.sticky===sr}var _t=null,Vt=null;function Tn(){var sr=It("reference")?ir().getBoundingClientRect():null,qn=It("popper")?Hn.getBoundingClientRect():null;(sr&&Vo(_t,sr)||qn&&Vo(Vt,qn))&&pt.popperInstance&&pt.popperInstance.update(),_t=sr,Vt=qn,pt.state.isMounted&&requestAnimationFrame(Tn)}return{onMount:function(){pt.props.sticky&&Tn()}}}};function Vo(dt,pt){return dt&&pt?dt.top!==pt.top||dt.right!==pt.right||dt.bottom!==pt.bottom||dt.left!==pt.left:!0}Un.setDefaultProps({render:Qt});var Ti=n.default=Un},function(k,n,t){"use strict";var e=t(402);function a(s){function r(Le,Ae,Pe,Ne,ce){for(var q=0,te=0,ue=0,We=0,ot,ze,vt=0,Wt=0,zt,at=zt=ot=0,Me=0,Be=0,Xe=0,Te=0,we=Pe.length,De=we-1,Ie,He="",Ve="",z="",se="",Se;Me<we;){if(ze=Pe.charCodeAt(Me),Me===De&&te+We+ue+q!==0&&(te!==0&&(ze=te===47?10:47),We=ue=q=0,we++,De++),te+We+ue+q===0){if(Me===De&&(0<Be&&(He=He.replace(M,"")),0<He.trim().length)){switch(ze){case 32:case 9:case 59:case 13:case 10:break;default:He+=Pe.charAt(Me)}ze=59}switch(ze){case 123:for(He=He.trim(),ot=He.charCodeAt(0),zt=1,Te=++Me;Me<we;){switch(ze=Pe.charCodeAt(Me)){case 123:zt++;break;case 125:zt--;break;case 47:switch(ze=Pe.charCodeAt(Me+1)){case 42:case 47:e:{for(at=Me+1;at<De;++at)switch(Pe.charCodeAt(at)){case 47:if(ze===42&&Pe.charCodeAt(at-1)===42&&Me+2!==at){Me=at+1;break e}break;case 10:if(ze===47){Me=at+1;break e}}Me=at}}break;case 91:ze++;case 40:ze++;case 34:case 39:for(;Me++<De&&Pe.charCodeAt(Me)!==ze;);}if(zt===0)break;Me++}switch(zt=Pe.substring(Te,Me),ot===0&&(ot=(He=He.replace(_,"").trim()).charCodeAt(0)),ot){case 64:switch(0<Be&&(He=He.replace(M,"")),ze=He.charCodeAt(1),ze){case 100:case 109:case 115:case 45:Be=Ae;break;default:Be=le}if(zt=r(Ae,Be,zt,ze,ce+1),Te=zt.length,0<be&&(Be=i(le,He,Xe),Se=b(3,zt,Be,Ae,Q,G,Te,ze,ce,Ne),He=Be.join(""),Se!==void 0&&(Te=(zt=Se.trim()).length)===0&&(ze=0,zt="")),0<Te)switch(ze){case 115:He=He.replace(K,y);case 100:case 109:case 45:zt=He+"{"+zt+"}";break;case 107:He=He.replace(D,"$1 $2"),zt=He+"{"+zt+"}",zt=Z===1||Z===2&&j("@"+zt,3)?"@-webkit-"+zt+"@"+zt:"@"+zt;break;default:zt=He+zt,Ne===112&&(zt=(Ve+=zt,""))}else zt="";break;default:zt=r(Ae,i(Ae,He,Xe),zt,Ne,ce+1)}z+=zt,zt=Xe=Be=at=ot=0,He="",ze=Pe.charCodeAt(++Me);break;case 125:case 59:if(He=(0<Be?He.replace(M,""):He).trim(),1<(Te=He.length))switch(at===0&&(ot=He.charCodeAt(0),ot===45||96<ot&&123>ot)&&(Te=(He=He.replace(" ",":")).length),0<be&&(Se=b(1,He,Ae,Le,Q,G,Ve.length,Ne,ce,Ne))!==void 0&&(Te=(He=Se.trim()).length)===0&&(He="\0\0"),ot=He.charCodeAt(0),ze=He.charCodeAt(1),ot){case 0:break;case 64:if(ze===105||ze===99){se+=He+Pe.charAt(Me);break}default:He.charCodeAt(Te-1)!==58&&(Ve+=v(He,ot,ze,He.charCodeAt(2)))}Xe=Be=at=ot=0,He="",ze=Pe.charCodeAt(++Me)}}switch(ze){case 13:case 10:te===47?te=0:1+ot===0&&Ne!==107&&0<He.length&&(Be=1,He+="\0"),0<be*ie&&b(0,He,Ae,Le,Q,G,Ve.length,Ne,ce,Ne),G=1,Q++;break;case 59:case 125:if(te+We+ue+q===0){G++;break}default:switch(G++,Ie=Pe.charAt(Me),ze){case 9:case 32:if(We+q+te===0)switch(vt){case 44:case 58:case 9:case 32:Ie="";break;default:ze!==32&&(Ie=" ")}break;case 0:Ie="\\0";break;case 12:Ie="\\f";break;case 11:Ie="\\v";break;case 38:We+te+q===0&&(Be=Xe=1,Ie="\f"+Ie);break;case 108:if(We+te+q+he===0&&0<at)switch(Me-at){case 2:vt===112&&Pe.charCodeAt(Me-3)===58&&(he=vt);case 8:Wt===111&&(he=Wt)}break;case 58:We+te+q===0&&(at=Me);break;case 44:te+ue+We+q===0&&(Be=1,Ie+="\r");break;case 34:case 39:te===0&&(We=We===ze?0:We===0?ze:We);break;case 91:We+te+ue===0&&q++;break;case 93:We+te+ue===0&&q--;break;case 41:We+te+q===0&&ue--;break;case 40:if(We+te+q===0){if(ot===0)switch(2*vt+3*Wt){case 533:break;default:ot=1}ue++}break;case 64:te+ue+We+q+at+zt===0&&(zt=1);break;case 42:case 47:if(!(0<We+q+ue))switch(te){case 0:switch(2*ze+3*Pe.charCodeAt(Me+1)){case 235:te=47;break;case 220:Te=Me,te=42}break;case 42:ze===47&&vt===42&&Te+2!==Me&&(Pe.charCodeAt(Te+2)===33&&(Ve+=Pe.substring(Te,Me+1)),Ie="",te=0)}}te===0&&(He+=Ie)}Wt=vt,vt=ze,Me++}if(Te=Ve.length,0<Te){if(Be=Ae,0<be&&(Se=b(2,Ve,Be,Le,Q,G,Te,Ne,ce,Ne),Se!==void 0&&(Ve=Se).length===0))return se+Ve+z;if(Ve=Be.join(",")+"{"+Ve+"}",Z*he!=0){switch(Z!==2||j(Ve,2)||(he=0),he){case 111:Ve=Ve.replace(U,":-moz-$1")+Ve;break;case 112:Ve=Ve.replace(w,"::-webkit-input-$1")+Ve.replace(w,"::-moz-$1")+Ve.replace(w,":-ms-input-$1")+Ve}he=0}}return se+Ve+z}function i(Le,Ae,Pe){var Ne=Ae.trim().split(T);Ae=Ne;var ce=Ne.length,q=Le.length;switch(q){case 0:case 1:var te=0;for(Le=q===0?"":Le[0]+" ";te<ce;++te)Ae[te]=h(Le,Ae[te],Pe).trim();break;default:var ue=te=0;for(Ae=[];te<ce;++te)for(var We=0;We<q;++We)Ae[ue++]=h(Le[We]+" ",Ne[te],Pe).trim()}return Ae}function h(Le,Ae,Pe){var Ne=Ae.charCodeAt(0);switch(33>Ne&&(Ne=(Ae=Ae.trim()).charCodeAt(0)),Ne){case 38:return Ae.replace(S,"$1"+Le.trim());case 58:return Le.trim()+Ae.replace(S,"$1"+Le.trim());default:if(0<1*Pe&&0<Ae.indexOf("\f"))return Ae.replace(S,(Le.charCodeAt(0)===58?"":"$1")+Le.trim())}return Le+Ae}function v(Le,Ae,Pe,Ne){var ce=Le+";",q=2*Ae+3*Pe+4*Ne;if(q===944){Le=ce.indexOf(":",9)+1;var te=ce.substring(Le,ce.length-1).trim();return te=ce.substring(0,Le).trim()+te+";",Z===1||Z===2&&j(te,1)?"-webkit-"+te+te:te}if(Z===0||Z===2&&!j(ce,1))return ce;switch(q){case 1015:return ce.charCodeAt(10)===97?"-webkit-"+ce+ce:ce;case 951:return ce.charCodeAt(3)===116?"-webkit-"+ce+ce:ce;case 963:return ce.charCodeAt(5)===110?"-webkit-"+ce+ce:ce;case 1009:if(ce.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+ce+ce;case 978:return"-webkit-"+ce+"-moz-"+ce+ce;case 1019:case 983:return"-webkit-"+ce+"-moz-"+ce+"-ms-"+ce+ce;case 883:if(ce.charCodeAt(8)===45)return"-webkit-"+ce+ce;if(0<ce.indexOf("image-set(",11))return ce.replace(x,"$1-webkit-$2")+ce;break;case 932:if(ce.charCodeAt(4)===45)switch(ce.charCodeAt(5)){case 103:return"-webkit-box-"+ce.replace("-grow","")+"-webkit-"+ce+"-ms-"+ce.replace("grow","positive")+ce;case 115:return"-webkit-"+ce+"-ms-"+ce.replace("shrink","negative")+ce;case 98:return"-webkit-"+ce+"-ms-"+ce.replace("basis","preferred-size")+ce}return"-webkit-"+ce+"-ms-"+ce+ce;case 964:return"-webkit-"+ce+"-ms-flex-"+ce+ce;case 1023:if(ce.charCodeAt(8)!==99)break;return te=ce.substring(ce.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+te+"-webkit-"+ce+"-ms-flex-pack"+te+ce;case 1005:return H.test(ce)?ce.replace(F,":-webkit-")+ce.replace(F,":-moz-")+ce:ce;case 1e3:switch(te=ce.substring(13).trim(),Ae=te.indexOf("-")+1,te.charCodeAt(0)+te.charCodeAt(Ae)){case 226:te=ce.replace(V,"tb");break;case 232:te=ce.replace(V,"tb-rl");break;case 220:te=ce.replace(V,"lr");break;default:return ce}return"-webkit-"+ce+"-ms-"+te+ce;case 1017:if(ce.indexOf("sticky",9)===-1)break;case 975:switch(Ae=(ce=Le).length-10,te=(ce.charCodeAt(Ae)===33?ce.substring(0,Ae):ce).substring(Le.indexOf(":",7)+1).trim(),q=te.charCodeAt(0)+(te.charCodeAt(7)|0)){case 203:if(111>te.charCodeAt(8))break;case 115:ce=ce.replace(te,"-webkit-"+te)+";"+ce;break;case 207:case 102:ce=ce.replace(te,"-webkit-"+(102<q?"inline-":"")+"box")+";"+ce.replace(te,"-webkit-"+te)+";"+ce.replace(te,"-ms-"+te+"box")+";"+ce}return ce+";";case 938:if(ce.charCodeAt(5)===45)switch(ce.charCodeAt(6)){case 105:return te=ce.replace("-items",""),"-webkit-"+ce+"-webkit-box-"+te+"-ms-flex-"+te+ce;case 115:return"-webkit-"+ce+"-ms-flex-item-"+ce.replace(W,"")+ce;default:return"-webkit-"+ce+"-ms-flex-line-pack"+ce.replace("align-content","").replace(W,"")+ce}break;case 973:case 989:if(ce.charCodeAt(3)!==45||ce.charCodeAt(4)===122)break;case 931:case 953:if(B.test(Le)===!0)return(te=Le.substring(Le.indexOf(":")+1)).charCodeAt(0)===115?v(Le.replace("stretch","fill-available"),Ae,Pe,Ne).replace(":fill-available",":stretch"):ce.replace(te,"-webkit-"+te)+ce.replace(te,"-moz-"+te.replace("fill-",""))+ce;break;case 962:if(ce="-webkit-"+ce+(ce.charCodeAt(5)===102?"-ms-"+ce:"")+ce,Pe+Ne===211&&ce.charCodeAt(13)===105&&0<ce.indexOf("transform",10))return ce.substring(0,ce.indexOf(";",27)+1).replace(C,"$1-webkit-$2")+ce}return ce}function j(Le,Ae){var Pe=Le.indexOf(Ae===1?":":"{"),Ne=Le.substring(0,Ae!==3?Pe:10);return Pe=Le.substring(Pe+1,Le.length-1),X(Ae!==2?Ne:Ne.replace(R,"$1"),Pe,Ae)}function y(Le,Ae){var Pe=v(Ae,Ae.charCodeAt(0),Ae.charCodeAt(1),Ae.charCodeAt(2));return Pe!==Ae+";"?Pe.replace(Y," or ($1)").substring(4):"("+Ae+")"}function b(Le,Ae,Pe,Ne,ce,q,te,ue,We,ot){for(var ze=0,vt=Ae,Wt;ze<be;++ze)switch(Wt=de[ze].call(A,Le,vt,Pe,Ne,ce,q,te,ue,We,ot)){case void 0:case!1:case!0:case null:break;default:vt=Wt}if(vt!==Ae)return vt}function E(Le){switch(Le){case void 0:case null:be=de.length=0;break;default:if(typeof Le=="function")de[be++]=Le;else if(typeof Le=="object")for(var Ae=0,Pe=Le.length;Ae<Pe;++Ae)E(Le[Ae]);else ie=!!Le|0}return E}function P(Le){return Le=Le.prefix,Le!==void 0&&(X=null,Le?typeof Le!="function"?Z=1:(Z=2,X=Le):Z=0),P}function A(Le,Ae){var Pe=Le;if(33>Pe.charCodeAt(0)&&(Pe=Pe.trim()),Ce=Pe,Pe=[Ce],0<be){var Ne=b(-1,Ae,Pe,Pe,Q,G,0,0,0,0);Ne!==void 0&&typeof Ne=="string"&&(Ae=Ne)}var ce=r(le,Pe,Ae,0,0);return 0<be&&(Ne=b(-2,ce,Pe,Pe,Q,G,ce.length,0,0,0),Ne!==void 0&&(ce=Ne)),Ce="",he=0,G=Q=1,ce}var _=/^\0+/g,M=/[\0\r\f]/g,F=/: */g,H=/zoo|gra/,C=/([,: ])(transform)/g,T=/,\r+?/g,S=/([\t\r\n ])*\f?&/g,D=/@(k\w+)\s*(\S*)\s*/,w=/::(place)/g,U=/:(read-only)/g,V=/[svh]\w+-[tblr]{2}/,K=/\(\s*(.*)\s*\)/g,Y=/([\s\S]*?);/g,W=/-self|flex-/g,R=/[^]*?(:[rp][el]a[\w-]+)[^]*/,B=/stretch|:\s*\w+\-(?:conte|avail)/,x=/([^-])(image-set\()/,G=1,Q=1,he=0,Z=1,le=[],de=[],be=0,X=null,ie=0,Ce="";return A.use=E,A.set=P,s!==void 0&&P(s),A}var o=a,l=function(r){var i=new WeakMap;return function(h){if(i.has(h))return i.get(h);var v=r(h);return i.set(h,v),v}},d=l,c="/*|*/",u=c+"}";function f(s){s&&m.current.insert(s+"}")}var m={current:null},p=function(r,i,h,v,j,y,b,E,P,A){switch(r){case 1:{switch(i.charCodeAt(0)){case 64:return m.current.insert(i+";"),"";case 108:if(i.charCodeAt(2)===98)return""}break}case 2:{if(E===0)return i+c;break}case 3:switch(E){case 102:case 112:return m.current.insert(h[0]+i),"";default:return i+(A===0?c:"")}case-2:i.split(u).forEach(f)}},g=function(r){r===void 0&&(r={});var i=r.key||"css",h;r.prefix!==void 0&&(h={prefix:r.prefix});var v=new o(h),j={},y;{y=r.container||document.head;var b=document.querySelectorAll("style[data-emotion-"+i+"]");Array.prototype.forEach.call(b,function(M){var F=M.getAttribute("data-emotion-"+i);F.split(" ").forEach(function(H){j[H]=!0}),M.parentNode!==y&&y.appendChild(M)})}var E;if(v.use(r.stylisPlugins)(p),E=function(F,H,C,T){var S=H.name;if(m.current=C,!1)var D;v(F,H.styles),T&&(_.inserted[S]=!0)},!1)var P,A;var _={key:i,sheet:new e.a({key:i,container:y,nonce:r.nonce,speedy:r.speedy}),nonce:r.nonce,inserted:j,registered:{},insert:E};return _},O=n.a=g},function(k,n){function t(e){for(var a=-1,o=e==null?0:e.length,l=0,d=[];++a<o;){var c=e[a];c&&(d[l++]=c)}return d}k.exports=t},function(k,n,t){"use strict";function e(o,l){if(o.length!==l.length)return!1;for(var d=0;d<o.length;d++)if(o[d]!==l[d])return!1;return!0}function a(o,l){l===void 0&&(l=e);var d,c=[],u,f=!1;function m(){for(var p=[],g=0;g<arguments.length;g++)p[g]=arguments[g];return f&&d===this&&l(p,c)||(u=o.apply(this,p),f=!0,d=this,c=p),u}return m}n.a=a},function(k,n,t){"use strict";t.d(n,"a",function(){return e});const e=(a,o)=>o.payments_state==="enabled"?a.is_subscribed:a.is_free_subscribed},function(k,n){function t(e,a){for(var o=-1,l=e==null?0:e.length,d=Array(l);++o<l;)d[o]=a(e[o],o,e);return d}k.exports=t},function(k,n,t){var e=t(557);function a(o){return o==null?"":e(o)}k.exports=a},function(k,n,t){var e=t(321),a=0;function o(l){var d=++a;return e(l)+d}k.exports=o},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"Back15Icon",svgParams:{width:20,height:22,viewBox:"0 0 20 22",stroke:"none",fill:"white"}}),Object(e.h)("path",{d:"M0 11.8557C0 13.2164 0.260417 14.4989 0.78125 15.7034C1.30208 16.9078 2.02148 17.969 2.93945 18.887C3.85742 19.7984 4.91536 20.5146 6.11328 21.0354C7.31771 21.5562 8.60026 21.8166 9.96094 21.8166C11.3216 21.8166 12.6009 21.5562 13.7988 21.0354C15.0033 20.5146 16.0645 19.7984 16.9824 18.887C17.9004 17.969 18.6198 16.9078 19.1406 15.7034C19.6615 14.4989 19.9219 13.2164 19.9219 11.8557C19.9219 10.6578 19.7168 9.51846 19.3066 8.43773C18.8965 7.357 18.3236 6.38044 17.5879 5.50805C16.8587 4.62914 16.0026 3.89672 15.0195 3.31078C14.043 2.71833 12.985 2.30818 11.8457 2.08031V0.693592C11.8457 0.342029 11.7448 0.12393 11.543 0.039295C11.3411 -0.0453404 11.1068 0.00674294 10.8398 0.195545L7.72461 2.37328C7.49674 2.52953 7.38281 2.71182 7.38281 2.92015C7.38281 3.12849 7.49674 3.31403 7.72461 3.47679L10.8301 5.6643C11.097 5.85961 11.3314 5.91495 11.5332 5.83031C11.7415 5.73916 11.8457 5.51781 11.8457 5.16625V3.77953C12.7702 3.98786 13.6198 4.33943 14.3945 4.83422C15.1758 5.32901 15.8529 5.93448 16.4258 6.65062C17.0052 7.36677 17.4544 8.16755 17.7734 9.05297C18.0924 9.93187 18.252 10.8661 18.252 11.8557C18.252 13.008 18.0371 14.0888 17.6074 15.0979C17.1842 16.1005 16.5918 16.9827 15.8301 17.7444C15.0749 18.4996 14.196 19.0888 13.1934 19.512C12.1908 19.9416 11.1133 20.1565 9.96094 20.1565C8.80859 20.1565 7.72786 19.9416 6.71875 19.512C5.71615 19.0888 4.83398 18.4996 4.07227 17.7444C3.31706 16.9827 2.72461 16.1005 2.29492 15.0979C1.87174 14.0888 1.66016 13.008 1.66016 11.8557C1.66016 10.9312 1.80339 10.0523 2.08984 9.21898C2.3763 8.37914 2.77669 7.61416 3.29102 6.92406C3.80534 6.23396 4.40755 5.64151 5.09766 5.14672C5.29948 4.99698 5.42643 4.81469 5.47852 4.59984C5.53711 4.385 5.50456 4.17666 5.38086 3.97484C5.25716 3.77953 5.07812 3.66234 4.84375 3.62328C4.60938 3.57771 4.38477 3.6363 4.16992 3.79906C3.33008 4.40453 2.59766 5.12719 1.97266 5.96703C1.34766 6.80036 0.86263 7.71833 0.517578 8.72094C0.172526 9.71703 0 10.762 0 11.8557ZM7.10938 15.8596C7.29818 15.8596 7.44792 15.801 7.55859 15.6838C7.66927 15.5601 7.72461 15.3941 7.72461 15.1858V9.02367C7.72461 8.76976 7.66602 8.58096 7.54883 8.45726C7.43164 8.32706 7.26237 8.26195 7.04102 8.26195C6.9043 8.26195 6.77734 8.28799 6.66016 8.34008C6.54297 8.38565 6.39648 8.46703 6.2207 8.58422L4.88281 9.49242C4.77214 9.57055 4.6875 9.65844 4.62891 9.75609C4.57682 9.84724 4.55078 9.94815 4.55078 10.0588C4.55078 10.2216 4.60612 10.3616 4.7168 10.4787C4.82747 10.5959 4.96094 10.6545 5.11719 10.6545C5.21484 10.6545 5.29622 10.6415 5.36133 10.6155C5.42643 10.5894 5.5013 10.5406 5.58594 10.469L6.52344 9.78539H6.50391V15.1858C6.50391 15.3876 6.55924 15.5504 6.66992 15.6741C6.7806 15.7978 6.92708 15.8596 7.10938 15.8596ZM12.0703 15.9768C12.8776 15.9768 13.5254 15.7392 14.0137 15.2639C14.5085 14.7821 14.7559 14.1474 14.7559 13.3596C14.7559 12.6435 14.5378 12.0543 14.1016 11.592C13.6654 11.1298 13.099 10.8987 12.4023 10.8987C12.0898 10.8987 11.7839 10.9703 11.4844 11.1135C11.1914 11.2567 10.9798 11.4521 10.8496 11.6995H10.8984L11.0742 9.49242H13.9941C14.1374 9.49242 14.2611 9.44034 14.3652 9.33617C14.4759 9.232 14.5312 9.09528 14.5312 8.92601C14.5312 8.76325 14.4759 8.63305 14.3652 8.53539C14.2611 8.43122 14.1374 8.37914 13.9941 8.37914H10.8789C10.3646 8.37914 10.0846 8.64932 10.0391 9.18969L9.82422 12.0022C9.80469 12.2431 9.85352 12.4254 9.9707 12.5491C10.0879 12.6662 10.2539 12.7248 10.4688 12.7248C10.625 12.7248 10.752 12.7053 10.8496 12.6662C10.9473 12.6272 11.0645 12.5556 11.2012 12.4514C11.39 12.2821 11.5658 12.1617 11.7285 12.0901C11.8913 12.012 12.0703 11.9729 12.2656 11.9729C12.6432 11.9729 12.9492 12.1031 13.1836 12.3635C13.418 12.6174 13.5352 12.956 13.5352 13.3791C13.5352 13.8088 13.4017 14.1636 13.1348 14.4436C12.8678 14.7235 12.5326 14.8635 12.1289 14.8635C11.8359 14.8635 11.5723 14.7886 11.3379 14.6389C11.1035 14.4827 10.9245 14.2776 10.8008 14.0237C10.7292 13.9 10.6478 13.8056 10.5566 13.7405C10.4655 13.6689 10.3581 13.633 10.2344 13.633C10.0716 13.633 9.93815 13.6851 9.83398 13.7893C9.73633 13.8935 9.6875 14.0302 9.6875 14.1995C9.6875 14.2646 9.69401 14.3297 9.70703 14.3948C9.72005 14.4599 9.73958 14.525 9.76562 14.5901C9.89583 14.9416 10.1628 15.2606 10.5664 15.5471C10.9766 15.8336 11.4779 15.9768 12.0703 15.9768Z"}));n.default=O},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"Forward30Icon",svgParams:{width:20,height:22,viewBox:"0 0 20 22",stroke:"none",fill:"white"}}),Object(e.h)("path",{d:"M13.1738 15.9615C13.7142 15.9615 14.1829 15.802 14.5801 15.483C14.9837 15.1574 15.2962 14.705 15.5176 14.1255C15.7454 13.5461 15.8594 12.8658 15.8594 12.0845C15.8594 11.2968 15.7454 10.6099 15.5176 10.024C15.2962 9.43803 14.9837 8.9823 14.5801 8.65678C14.1829 8.33126 13.7142 8.1685 13.1738 8.1685C12.6335 8.1685 12.1615 8.33126 11.7578 8.65678C11.3542 8.97579 11.0417 9.42827 10.8203 10.0142C10.599 10.6001 10.4883 11.2902 10.4883 12.0845C10.4883 12.8658 10.599 13.5461 10.8203 14.1255C11.0417 14.705 11.3542 15.1574 11.7578 15.483C12.1615 15.802 12.6335 15.9615 13.1738 15.9615ZM6.875 15.9615C7.64323 15.9615 8.27148 15.7531 8.75977 15.3365C9.25456 14.9133 9.50195 14.3729 9.50195 13.7154C9.50195 13.2401 9.35221 12.83 9.05273 12.4849C8.75326 12.1333 8.3724 11.9315 7.91016 11.8794V11.9283C8.28125 11.8632 8.59701 11.6613 8.85742 11.3228C9.12435 10.9843 9.25781 10.5969 9.25781 10.1607C9.25781 9.57475 9.03971 9.09624 8.60352 8.72514C8.17383 8.35405 7.61719 8.1685 6.93359 8.1685C6.34115 8.1685 5.82357 8.3215 5.38086 8.62749C4.93815 8.92697 4.66471 9.31108 4.56055 9.77983C4.54753 9.83842 4.53776 9.89376 4.53125 9.94585C4.52474 9.99793 4.52148 10.05 4.52148 10.1021C4.52148 10.2779 4.57031 10.4211 4.66797 10.5318C4.77214 10.6425 4.90885 10.6978 5.07812 10.6978C5.35156 10.6978 5.54036 10.5448 5.64453 10.2388C5.74219 9.93282 5.89518 9.7017 6.10352 9.54545C6.31185 9.38269 6.57878 9.30131 6.9043 9.30131C7.24935 9.30131 7.52604 9.39572 7.73438 9.58452C7.94922 9.76681 8.05664 10.0077 8.05664 10.3072C8.05664 10.6197 7.94922 10.8801 7.73438 11.0884C7.51953 11.2902 7.23958 11.3912 6.89453 11.3912H6.47461C6.31185 11.3912 6.18164 11.4432 6.08398 11.5474C5.98633 11.6451 5.9375 11.7818 5.9375 11.9576C5.9375 12.1203 5.98633 12.257 6.08398 12.3677C6.18815 12.4719 6.31836 12.524 6.47461 12.524H6.93359C7.35026 12.524 7.67904 12.6281 7.91992 12.8365C8.16081 13.0448 8.28125 13.3215 8.28125 13.6665C8.28125 13.9986 8.14779 14.2785 7.88086 14.5064C7.62044 14.7277 7.28841 14.8384 6.88477 14.8384C6.53971 14.8384 6.25 14.757 6.01562 14.5943C5.78125 14.4315 5.60872 14.1971 5.49805 13.8912C5.43945 13.7284 5.36458 13.6112 5.27344 13.5396C5.18229 13.468 5.07161 13.4322 4.94141 13.4322C4.77865 13.4322 4.64193 13.4875 4.53125 13.5982C4.42708 13.7089 4.375 13.8521 4.375 14.0279C4.375 14.08 4.37826 14.1353 4.38477 14.1939C4.39128 14.246 4.40104 14.2981 4.41406 14.3501C4.51823 14.8059 4.80469 15.19 5.27344 15.5025C5.74219 15.8085 6.27604 15.9615 6.875 15.9615ZM13.1738 14.7798C12.7441 14.7798 12.3991 14.5389 12.1387 14.0572C11.8848 13.5754 11.7578 12.9179 11.7578 12.0845C11.7578 11.2317 11.8848 10.5643 12.1387 10.0826C12.3926 9.59428 12.7376 9.35014 13.1738 9.35014C13.61 9.35014 13.9518 9.59103 14.1992 10.0728C14.4531 10.5546 14.5801 11.2251 14.5801 12.0845C14.5801 12.9179 14.4531 13.5754 14.1992 14.0572C13.9453 14.5389 13.6035 14.7798 13.1738 14.7798ZM9.96094 21.8111C11.3216 21.8111 12.6009 21.5507 13.7988 21.0298C15.0033 20.509 16.0645 19.7928 16.9824 18.8814C17.9004 17.9634 18.6198 16.9022 19.1406 15.6978C19.6615 14.4934 19.9219 13.2108 19.9219 11.8501C19.9219 10.7564 19.7493 9.71147 19.4043 8.71538C19.0592 7.71277 18.5742 6.7948 17.9492 5.96147C17.3242 5.12163 16.5918 4.39897 15.752 3.7935C15.5371 3.63074 15.3125 3.57215 15.0781 3.61772C14.8438 3.65678 14.6647 3.77397 14.541 3.96928C14.4173 4.17111 14.3815 4.37944 14.4336 4.59428C14.4922 4.80913 14.6224 4.99142 14.8242 5.14116C15.5143 5.63595 16.1165 6.2284 16.6309 6.9185C17.1452 7.60861 17.5456 8.37358 17.832 9.21342C18.1185 10.0468 18.2617 10.9257 18.2617 11.8501C18.2617 13.0025 18.0469 14.0832 17.6172 15.0923C17.194 16.0949 16.6016 16.9771 15.8398 17.7388C15.0846 18.494 14.2025 19.0832 13.1934 19.5064C12.1908 19.9361 11.1133 20.1509 9.96094 20.1509C8.80859 20.1509 7.73112 19.9361 6.72852 19.5064C5.72591 19.0832 4.84375 18.494 4.08203 17.7388C3.32682 16.9771 2.73438 16.0949 2.30469 15.0923C1.88151 14.0832 1.66992 13.0025 1.66992 11.8501C1.66992 10.7043 1.88151 9.63009 2.30469 8.62749C2.73438 7.61837 3.32682 6.73621 4.08203 5.981C4.83724 5.21928 5.71615 4.62358 6.71875 4.19389C7.72135 3.7642 8.79883 3.54936 9.95117 3.54936V1.8892C8.59049 1.8892 7.30794 2.14962 6.10352 2.67045C4.9056 3.19129 3.84766 3.91069 2.92969 4.82866C2.01823 5.74663 1.30208 6.80782 0.78125 8.01225C0.260417 9.21017 0 10.4895 0 11.8501C0 13.2108 0.260417 14.4934 0.78125 15.6978C1.30208 16.9022 2.02148 17.9634 2.93945 18.8814C3.85742 19.7928 4.91536 20.509 6.11328 21.0298C7.31771 21.5507 8.60026 21.8111 9.96094 21.8111ZM8.07617 0.697798V5.17045C8.07617 5.51551 8.17708 5.73361 8.37891 5.82475C8.58724 5.90939 8.82487 5.8573 9.0918 5.6685L12.207 3.481C12.4284 3.33126 12.5391 3.15223 12.5391 2.94389C12.5456 2.72905 12.4349 2.5435 12.207 2.38725L9.10156 0.199751C8.82812 0.00443892 8.58724 -0.0476444 8.37891 0.0435014C8.17708 0.128137 8.07617 0.346236 8.07617 0.697798Z"}));n.default=O},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(544),o=t(13),l=Object.defineProperty,d=Object.defineProperties,c=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,p=(r,i,h)=>i in r?l(r,i,{enumerable:!0,configurable:!0,writable:!0,value:h}):r[i]=h,g=(r,i)=>{for(var h in i||(i={}))f.call(i,h)&&p(r,h,i[h]);if(u)for(var h of u(i))m.call(i,h)&&p(r,h,i[h]);return r},O=(r,i)=>d(r,c(i));const s=r=>Object(e.h)(o.a,O(g({},r),{name:"LucideArrowLeftRight",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),Object(e.h)(a.a,{height:24,stroke:r.stroke,fill:r.fill,strokeWidth:r.strokeWidth}));n.default=s},,function(k,n,t){"use strict";t.r(n),t.d(n,"ElementType",function(){return e}),t.d(n,"isTag",function(){return a}),t.d(n,"Root",function(){return o}),t.d(n,"Text",function(){return l}),t.d(n,"Directive",function(){return d}),t.d(n,"Comment",function(){return c}),t.d(n,"Script",function(){return u}),t.d(n,"Style",function(){return f}),t.d(n,"Tag",function(){return m}),t.d(n,"CDATA",function(){return p}),t.d(n,"Doctype",function(){return g});var e;(function(O){O.Root="root",O.Text="text",O.Directive="directive",O.Comment="comment",O.Script="script",O.Style="style",O.Tag="tag",O.CDATA="cdata",O.Doctype="doctype"})(e||(e={}));function a(O){return O.type===e.Tag||O.type===e.Script||O.type===e.Style}const o=e.Root,l=e.Text,d=e.Directive,c=e.Comment,u=e.Script,f=e.Style,m=e.Tag,p=e.CDATA,g=e.Doctype},function(k,n){function t(y,b,E){if(b in y)return y[b];if(arguments.length===3)return E;throw new Error('"'+b+'" is a required argument.')}n.getArg=t;var e=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,a=/^data:.+\,.+$/;function o(y){var b=y.match(e);return b?{scheme:b[1],auth:b[2],host:b[3],port:b[4],path:b[5]}:null}n.urlParse=o;function l(y){var b="";return y.scheme&&(b+=y.scheme+":"),b+="//",y.auth&&(b+=y.auth+"@"),y.host&&(b+=y.host),y.port&&(b+=":"+y.port),y.path&&(b+=y.path),b}n.urlGenerate=l;function d(y){var b=y,E=o(y);if(E){if(!E.path)return y;b=E.path}for(var P=n.isAbsolute(b),A=b.split(/\/+/),_,M=0,F=A.length-1;F>=0;F--)_=A[F],_==="."?A.splice(F,1):_===".."?M++:M>0&&(_===""?(A.splice(F+1,M),M=0):(A.splice(F,2),M--));return b=A.join("/"),b===""&&(b=P?"/":"."),E?(E.path=b,l(E)):b}n.normalize=d;function c(y,b){y===""&&(y="."),b===""&&(b=".");var E=o(b),P=o(y);if(P&&(y=P.path||"/"),E&&!E.scheme)return P&&(E.scheme=P.scheme),l(E);if(E||b.match(a))return b;if(P&&!P.host&&!P.path)return P.host=b,l(P);var A=b.charAt(0)==="/"?b:d(y.replace(/\/+$/,"")+"/"+b);return P?(P.path=A,l(P)):A}n.join=c,n.isAbsolute=function(y){return y.charAt(0)==="/"||e.test(y)};function u(y,b){y===""&&(y="."),y=y.replace(/\/$/,"");for(var E=0;b.indexOf(y+"/")!==0;){var P=y.lastIndexOf("/");if(P<0||(y=y.slice(0,P),y.match(/^([^\/]+:\/)?\/*$/)))return b;++E}return Array(E+1).join("../")+b.substr(y.length+1)}n.relative=u;var f=function(){var y=Object.create(null);return!("__proto__"in y)}();function m(y){return y}function p(y){return O(y)?"$"+y:y}n.toSetString=f?m:p;function g(y){return O(y)?y.slice(1):y}n.fromSetString=f?m:g;function O(y){if(!y)return!1;var b=y.length;if(b<9||y.charCodeAt(b-1)!==95||y.charCodeAt(b-2)!==95||y.charCodeAt(b-3)!==111||y.charCodeAt(b-4)!==116||y.charCodeAt(b-5)!==111||y.charCodeAt(b-6)!==114||y.charCodeAt(b-7)!==112||y.charCodeAt(b-8)!==95||y.charCodeAt(b-9)!==95)return!1;for(var E=b-10;E>=0;E--)if(y.charCodeAt(E)!==36)return!1;return!0}function s(y,b,E){var P=i(y.source,b.source);return P!==0||(P=y.originalLine-b.originalLine,P!==0)||(P=y.originalColumn-b.originalColumn,P!==0||E)||(P=y.generatedColumn-b.generatedColumn,P!==0)||(P=y.generatedLine-b.generatedLine,P!==0)?P:i(y.name,b.name)}n.compareByOriginalPositions=s;function r(y,b,E){var P=y.generatedLine-b.generatedLine;return P!==0||(P=y.generatedColumn-b.generatedColumn,P!==0||E)||(P=i(y.source,b.source),P!==0)||(P=y.originalLine-b.originalLine,P!==0)||(P=y.originalColumn-b.originalColumn,P!==0)?P:i(y.name,b.name)}n.compareByGeneratedPositionsDeflated=r;function i(y,b){return y===b?0:y===null?1:b===null?-1:y>b?1:-1}function h(y,b){var E=y.generatedLine-b.generatedLine;return E!==0||(E=y.generatedColumn-b.generatedColumn,E!==0)||(E=i(y.source,b.source),E!==0)||(E=y.originalLine-b.originalLine,E!==0)||(E=y.originalColumn-b.originalColumn,E!==0)?E:i(y.name,b.name)}n.compareByGeneratedPositionsInflated=h;function v(y){return JSON.parse(y.replace(/^\)]}'[^\n]*\n/,""))}n.parseSourceMapInput=v;function j(y,b,E){if(b=b||"",y&&(y[y.length-1]!=="/"&&b[0]!=="/"&&(y+="/"),b=y+b),E){var P=o(E);if(!P)throw new Error("sourceMapURL could not be parsed");if(P.path){var A=P.path.lastIndexOf("/");A>=0&&(P.path=P.path.substring(0,A+1))}b=c(l(P),b)}return d(b)}n.computeSourceURL=j},function(k,n,t){"use strict";let e=t(488),{isClean:a}=t(489),o=t(492),l=t(394),d,c,u;function f(O){return O.map(s=>(s.nodes&&(s.nodes=f(s.nodes)),delete s.source,s))}function m(O){if(O[a]=!1,O.proxyOf.nodes)for(let s of O.proxyOf.nodes)m(s)}function p(O){O.type==="atrule"?Object.setPrototypeOf(O,u.prototype):O.type==="rule"?Object.setPrototypeOf(O,c.prototype):O.type==="decl"?Object.setPrototypeOf(O,e.prototype):O.type==="comment"&&Object.setPrototypeOf(O,o.prototype),O.nodes&&O.nodes.forEach(s=>{p(s)})}class g extends l{push(s){return s.parent=this,this.proxyOf.nodes.push(s),this}each(s){if(!this.proxyOf.nodes)return;let r=this.getIterator(),i,h;for(;this.indexes[r]<this.proxyOf.nodes.length&&(i=this.indexes[r],h=s(this.proxyOf.nodes[i],i),h!==!1);)this.indexes[r]+=1;return delete this.indexes[r],h}walk(s){return this.each((r,i)=>{let h;try{h=s(r,i)}catch(v){throw r.addToError(v)}return h!==!1&&r.walk&&(h=r.walk(s)),h})}walkDecls(s,r){return r?s instanceof RegExp?this.walk((i,h)=>{if(i.type==="decl"&&s.test(i.prop))return r(i,h)}):this.walk((i,h)=>{if(i.type==="decl"&&i.prop===s)return r(i,h)}):(r=s,this.walk((i,h)=>{if(i.type==="decl")return r(i,h)}))}walkRules(s,r){return r?s instanceof RegExp?this.walk((i,h)=>{if(i.type==="rule"&&s.test(i.selector))return r(i,h)}):this.walk((i,h)=>{if(i.type==="rule"&&i.selector===s)return r(i,h)}):(r=s,this.walk((i,h)=>{if(i.type==="rule")return r(i,h)}))}walkAtRules(s,r){return r?s instanceof RegExp?this.walk((i,h)=>{if(i.type==="atrule"&&s.test(i.name))return r(i,h)}):this.walk((i,h)=>{if(i.type==="atrule"&&i.name===s)return r(i,h)}):(r=s,this.walk((i,h)=>{if(i.type==="atrule")return r(i,h)}))}walkComments(s){return this.walk((r,i)=>{if(r.type==="comment")return s(r,i)})}append(...s){for(let r of s){let i=this.normalize(r,this.last);for(let h of i)this.proxyOf.nodes.push(h)}return this.markDirty(),this}prepend(...s){s=s.reverse();for(let r of s){let i=this.normalize(r,this.first,"prepend").reverse();for(let h of i)this.proxyOf.nodes.unshift(h);for(let h in this.indexes)this.indexes[h]=this.indexes[h]+i.length}return this.markDirty(),this}cleanRaws(s){if(super.cleanRaws(s),this.nodes)for(let r of this.nodes)r.cleanRaws(s)}insertBefore(s,r){s=this.index(s);let i=s===0?"prepend":!1,h=this.normalize(r,this.proxyOf.nodes[s],i).reverse();for(let j of h)this.proxyOf.nodes.splice(s,0,j);let v;for(let j in this.indexes)v=this.indexes[j],s<=v&&(this.indexes[j]=v+h.length);return this.markDirty(),this}insertAfter(s,r){s=this.index(s);let i=this.normalize(r,this.proxyOf.nodes[s]).reverse();for(let v of i)this.proxyOf.nodes.splice(s+1,0,v);let h;for(let v in this.indexes)h=this.indexes[v],s<h&&(this.indexes[v]=h+i.length);return this.markDirty(),this}removeChild(s){s=this.index(s),this.proxyOf.nodes[s].parent=void 0,this.proxyOf.nodes.splice(s,1);let r;for(let i in this.indexes)r=this.indexes[i],r>=s&&(this.indexes[i]=r-1);return this.markDirty(),this}removeAll(){for(let s of this.proxyOf.nodes)s.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}replaceValues(s,r,i){return i||(i=r,r={}),this.walkDecls(h=>{r.props&&!r.props.includes(h.prop)||r.fast&&!h.value.includes(r.fast)||(h.value=h.value.replace(s,i))}),this.markDirty(),this}every(s){return this.nodes.every(s)}some(s){return this.nodes.some(s)}index(s){return typeof s=="number"?s:(s.proxyOf&&(s=s.proxyOf),this.proxyOf.nodes.indexOf(s))}get first(){if(!!this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(!!this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}normalize(s,r){if(typeof s=="string")s=f(d(s).nodes);else if(Array.isArray(s)){s=s.slice(0);for(let h of s)h.parent&&h.parent.removeChild(h,"ignore")}else if(s.type==="root"){s=s.nodes.slice(0);for(let h of s)h.parent&&h.parent.removeChild(h,"ignore")}else if(s.type)s=[s];else if(s.prop){if(typeof s.value=="undefined")throw new Error("Value field is missed in node creation");typeof s.value!="string"&&(s.value=String(s.value)),s=[new e(s)]}else if(s.selector)s=[new c(s)];else if(s.name)s=[new u(s)];else if(s.text)s=[new o(s)];else throw new Error("Unknown node type in node creation");return s.map(h=>(typeof h.markDirty!="function"&&p(h),h=h.proxyOf,h.parent&&h.parent.removeChild(h),h[a]&&m(h),typeof h.raws.before=="undefined"&&r&&typeof r.raws.before!="undefined"&&(h.raws.before=r.raws.before.replace(/\S/g,"")),h.parent=this,h))}getProxyProcessor(){return{set(s,r,i){return s[r]===i||(s[r]=i,(r==="name"||r==="params"||r==="selector")&&s.markDirty()),!0},get(s,r){return r==="proxyOf"?s:s[r]?r==="each"||typeof r=="string"&&r.startsWith("walk")?(...i)=>s[r](...i.map(h=>typeof h=="function"?(v,j)=>h(v.toProxy(),j):h)):r==="every"||r==="some"?i=>s[r]((h,...v)=>i(h.toProxy(),...v)):r==="root"?()=>s.root().toProxy():r==="nodes"?s.nodes.map(i=>i.toProxy()):r==="first"||r==="last"?s[r].toProxy():s[r]:s[r]}}}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let s=this.lastEach;return this.indexes[s]=0,s}}g.registerParse=O=>{d=O},g.registerRule=O=>{c=O},g.registerAtRule=O=>{u=O},k.exports=g,g.default=g},function(k,n,t){"use strict";t.d(n,"a",function(){return h});var e=t(0),a=t(3),o=t(5),l=t.n(o),d=t(165),c=Object.defineProperty,u=Object.defineProperties,f=Object.getOwnPropertyDescriptors,m=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,O=(v,j,y)=>j in v?c(v,j,{enumerable:!0,configurable:!0,writable:!0,value:y}):v[j]=y,s=(v,j)=>{for(var y in j||(j={}))p.call(j,y)&&O(v,y,j[y]);if(m)for(var y of m(j))g.call(j,y)&&O(v,y,j[y]);return v},r=(v,j)=>u(v,f(j)),i=(v,j)=>{var y={};for(var b in v)p.call(v,b)&&j.indexOf(b)<0&&(y[b]=v[b]);if(v!=null&&m)for(var b of m(v))j.indexOf(b)<0&&g.call(v,b)&&(y[b]=v[b]);return y};const h=Object(a.forwardRef)((v,j)=>{var y=v,{className:b,error:E=!1,font:P}=y,A=i(y,["className","error","font"]);return Object(e.h)("textarea",r(s({ref:j,className:l()(b,d.a.input,d.a.textarea,{[d.a.error]:E},P&&d.a[`font-${P}`])},A),{type:"text"}))})},function(k,n,t){var e=t(275),a=e.slice,o=e.pluck,l=e.each,d=e.bind,c=e.create,u=e.isList,f=e.isFunction,m=e.isObject;k.exports={createStore:O};var p={version:"2.0.12",enabled:!1,get:function(s,r){var i=this.storage.read(this._namespacePrefix+s);return this._deserialize(i,r)},set:function(s,r){return r===void 0?this.remove(s):(this.storage.write(this._namespacePrefix+s,this._serialize(r)),r)},remove:function(s){this.storage.remove(this._namespacePrefix+s)},each:function(s){var r=this;this.storage.each(function(i,h){s.call(r,r._deserialize(i),(h||"").replace(r._namespaceRegexp,""))})},clearAll:function(){this.storage.clearAll()},hasNamespace:function(s){return this._namespacePrefix=="__storejs_"+s+"_"},createStore:function(){return O.apply(this,arguments)},addPlugin:function(s){this._addPlugin(s)},namespace:function(s){return O(this.storage,this.plugins,s)}};function g(){var s=typeof console=="undefined"?null:console;if(!!s){var r=s.warn?s.warn:s.log;r.apply(s,arguments)}}function O(s,r,i){i||(i=""),s&&!u(s)&&(s=[s]),r&&!u(r)&&(r=[r]);var h=i?"__storejs_"+i+"_":"",v=i?new RegExp("^"+h):null,j=/^[a-zA-Z0-9_\-]*$/;if(!j.test(i))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var y={_namespacePrefix:h,_namespaceRegexp:v,_testStorage:function(E){try{var P="__storejs__test__";E.write(P,P);var A=E.read(P)===P;return E.remove(P),A}catch(_){return!1}},_assignPluginFnProp:function(E,P){var A=this[P];this[P]=function(){var M=a(arguments,0),F=this;function H(){if(!!A)return l(arguments,function(T,S){M[S]=T}),A.apply(F,M)}var C=[H].concat(M);return E.apply(F,C)}},_serialize:function(E){return JSON.stringify(E)},_deserialize:function(E,P){if(!E)return P;var A="";try{A=JSON.parse(E)}catch(_){A=E}return A!==void 0?A:P},_addStorage:function(E){this.enabled||this._testStorage(E)&&(this.storage=E,this.enabled=!0)},_addPlugin:function(E){var P=this;if(u(E)){l(E,function(M){P._addPlugin(M)});return}var A=o(this.plugins,function(M){return E===M});if(!A){if(this.plugins.push(E),!f(E))throw new Error("Plugins must be function values that return objects");var _=E.call(this);if(!m(_))throw new Error("Plugins must return an object of function properties");l(_,function(M,F){if(!f(M))throw new Error("Bad plugin property: "+F+" from plugin "+E.name+". Plugins should only return functions.");P._assignPluginFnProp(M,F)})}},addStorage:function(E){g("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(E)}},b=c(y,p,{plugins:[]});return b.raw={},l(b,function(E,P){f(E)&&(b.raw[P]=d(b,E))}),l(s,function(E){b._addStorage(E)}),l(r,function(E){b._addPlugin(E)}),b}},function(k,n,t){var e=t(275),a=e.Global;k.exports={name:"localStorage",read:l,write:d,each:c,remove:u,clearAll:f};function o(){return a.localStorage}function l(m){return o().getItem(m)}function d(m,p){return o().setItem(m,p)}function c(m){for(var p=o().length-1;p>=0;p--){var g=o().key(p);m(l(g),g)}}function u(m){return o().removeItem(m)}function f(){return o().clear()}},function(k,n){k.exports={name:"memoryStorage",read:e,write:a,each:o,remove:l,clearAll:d};var t={};function e(c){return t[c]}function a(c,u){t[c]=u}function o(c){for(var u in t)t.hasOwnProperty(u)&&c(t[u],u)}function l(c){delete t[c]}function d(c){t={}}},function(k,n,t){"use strict";t.d(n,"a",function(){return m});var e=t(0),a=t(5),o=t.n(a),l=t(45),d=t(51),c=t(35),u=t(215),f={container:"frontend-main-home-PostPreview-PostPreviewCoverImage-module__container--27HFt",image:"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image--LxNRX","image-square-legacy":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square-legacy--2PW4B",containerSquare:"frontend-main-home-PostPreview-PostPreviewCoverImage-module__containerSquare--3kw9a","inner-wrapper":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__inner-wrapper--vnWg0","inner-wrapper-small":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__inner-wrapper-small--5kfTM","inner-wrapper-medium":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__inner-wrapper-medium--1060r","inner-wrapper-large":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__inner-wrapper-large--2aICx","image-square":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square--vUMH7","image-square-small":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square-small--1W8S4","image-square-medium":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square-medium--3T30o","image-square-large":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square-large--1X8Mj"};const m=({className:g,hidePlaceholder:O,imageAspectRatio:s,imageWidth:r,isBelowTheFold:i,post:h,squareImageSize:v})=>{const{getConfigFor:j}=Object(c.c)(),{isMobile:y}=Object(u.d)(),b=j("show_entire_square_image"),E=Object(l.getCoverImageUrl)(h);if(!E&&O)return null;const P=!r&&!s?1.32:s,A=r||336,_=!!E&&h.cover_image_is_square&&b,M=_&&!!v&&!y,F=i?"lazy":void 0;return M?Object(e.h)(p,{aspectRatio:P,className:g,imageUrl:E,loading:F,size:v,width:A}):Object(e.h)("div",{className:o()(g,f.container,{"post-preview-cover-image-container--empty":!E}),style:`aspect-ratio: ${P}`},E?Object(e.h)(d.a,{className:o()(f.image,{[f["image-square-legacy"]]:_}),src:E,alt:"",maxWidth:A,imageProps:P?{height:Math.round(A/P),smartCrop:!0}:{},loading:F,style:`aspect-ratio: ${P}`}):null)},p=({aspectRatio:g,className:O,imageUrl:s,width:r,loading:i,size:h})=>Object(e.h)("div",{className:o()(O,f.container,f.containerSquare),style:`aspect-ratio: ${g}`},Object(e.h)("div",{className:o()(f["inner-wrapper"],f[`inner-wrapper-${h}`])},Object(e.h)(d.a,{className:o()(f.image,f["image-square"],f[`image-square-${h}`]),src:s,alt:"",maxWidth:r,imageProps:{height:r,smartCrop:!0},loading:i})))},function(k,n,t){"use strict";t.d(n,"a",function(){return h});var e=t(0),a=t(5),o=t.n(a),l=t(4),d=t.n(l),c=t(15),u=t(51),f=t(158),m=t(2),p=t(8),g=t(106),O=t(19),s=t(62),r=t(37),i=t(24);function h({post:v,publication:j,readOnly:y,onClick:b}){const E=Object(r.a)(),P=v.cover_image;return Object(e.h)(m.b,{as:y?"div":"a",className:i.a.post,bg:"elevated",border:"detail",radius:12,onClick:A=>{b&&b(),!y&&g.a&&!E&&Object(f.a)(A,Object(c.getPostUrl)(j,v,{noBase:!0,feedViewer:!0}))},href:y?void 0:Object(c.getPostUrl)(j,v,{feedViewer:!1}),minWidth:0},P&&Object(e.h)(u.a,{className:o()(i.a.postImage,E&&i.a.mobile),src:P,maxWidth:500}),Object(e.h)(m.b,{gap:4,padding:12,borderTop:P?"detail":"transparent"},Object(e.h)(m.a,{gap:8,paddingBottom:4,alignItems:"center",minWidth:0},Object(e.h)(s.a,{pub:j,size:20}),Object(e.h)(p.b.Meta,{ellipsis:!0},y?j.name:Object(e.h)(O.p,{href:Object(l.getPubUrl)(j)},j.name))),Object(e.h)(p.b.B3,{clamp:E?1:2,color:"primary",weight:"medium"},v.title),Object(e.h)(p.b.B4,{clamp:2,color:"secondary"},v.description)))}},function(k,n,t){"use strict";t.d(n,"a",function(){return e});function e(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}},function(k,n,t){"use strict";t.d(n,"a",function(){return e});function e(a,o){(o==null||o>a.length)&&(o=a.length);for(var l=0,d=new Array(o);l<o;l++)d[l]=a[l];return d}},function(k,n,t){"use strict";t.d(n,"g",function(){return b}),t.d(n,"d",function(){return P}),t.d(n,"a",function(){return A}),t.d(n,"b",function(){return _}),t.d(n,"c",function(){return M}),t.d(n,"f",function(){return H}),t.d(n,"e",function(){return C});var e=t(0),a=t(1),o=t(5),l=t.n(o),d=t(519),c=t(261),u=t(130),f=t(116),m=t(66),p=Object.defineProperty,g=Object.defineProperties,O=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,h=(T,S,D)=>S in T?p(T,S,{enumerable:!0,configurable:!0,writable:!0,value:D}):T[S]=D,v=(T,S)=>{for(var D in S||(S={}))r.call(S,D)&&h(T,D,S[D]);if(s)for(var D of s(S))i.call(S,D)&&h(T,D,S[D]);return T},j=(T,S)=>g(T,O(S)),y=(T,S)=>{var D={};for(var w in T)r.call(T,w)&&S.indexOf(w)<0&&(D[w]=T[w]);if(T!=null&&s)for(var w of s(T))S.indexOf(w)<0&&i.call(T,w)&&(D[w]=T[w]);return D};function b({hideOnScroll:T}={}){const[S,D]=Object(a.l)(!1),w=Object(a.k)();return Object(a.d)(()=>{if(S){const U=()=>{D(!1)},V=K=>{K.key==="Escape"&&D(!1)};return window.addEventListener("click",U),window.addEventListener("keydown",V),T&&window.addEventListener("scroll",U,{capture:!0,passive:!0}),()=>{window.removeEventListener("click",U),window.removeEventListener("keydown",V),window.removeEventListener("scroll",U,{capture:!0})}}},[S]),{ref:w,isOn:S,setIsOn:D,toggle:()=>{D(!S)}}}const E={anchorY:"bottom",anchorX:"left",tetherY:"top",tetherX:"left"};function P({tetherRef:T,fixTo:S=E,isFixed:D,offset:w={x:0,y:0},children:U,className:V}){const K=Object(a.k)();return Object(a.h)(()=>{const Y=T.current,W=K.current;if(!Y||!W)return;const R=Y.getBoundingClientRect(),B=W.getBoundingClientRect(),x=v(v({},E),S);let G=x.anchorY==="center"?R.top+R.height/2:R[x.anchorY];x.tetherY==="bottom"&&(G=window.innerHeight-G),x.tetherY==="center"&&(G-=B.height/2);const Q=x.tetherY==="bottom"?"bottom":"top";let he=x.anchorX==="center"?R.left+R.width/2:R[x.anchorX];x.tetherX==="right"&&(he=window.innerWidth-he),x.tetherX==="center"&&(he-=B.width/2);const Z=x.tetherX==="right"?"right":"left";Q==="top"&&G+B.height>window.innerHeight?(G=R.top-B.height,w.y&&(G-=w.y)):w.y&&(G+=w.y),w.x&&(he+=w.x),D||(G+=window.scrollY,he+=window.scrollX),Object.assign(W.style,{minWidth:`${R.width}px`,[Q]:`${G}px`,[Z]:`${he}px`})},[]),Object(e.h)(u.a,null,Object(e.h)("div",{className:l()("dropdown3",V),ref:K,style:{position:D?"fixed":"absolute"}},U))}const A=Object(f.a)("reader2-menu reader2-font-base");function _(T){var S=T,{priority:D}=S,w=y(S,["priority"]);const U=l()("reader2-menu-item","reader2-text-button",D,w.className);return w.href?Object(e.h)("a",j(v({},w),{className:U})):Object(e.h)("div",j(v({},w),{className:U}))}function M({options:T,value:S,onChange:D,fixedHeight:w=!1}){var U;const V=b({hideOnScroll:!0});return Object(e.h)(m.a,{variant:"tertiary",onClick:V.toggle,forwardedRef:V.ref,fixedHeight:w},(U=T.find(K=>K.value===S))==null?void 0:U.label,Object(e.h)(d.a,{size:16}),V.isOn&&Object(e.h)(P,{tetherRef:V.ref,fixTo:{anchorX:"right",tetherX:"right"}},Object(e.h)(A,null,T.map(K=>Object(e.h)(_,{key:K.value,onClick:()=>D(K.value),className:l()("reader2-split-menu-item selectable",S===K.value&&"isSelected")},K.label,S===K.value&&Object(e.h)(c.a,{className:"feather-icon"}))))))}function F(T){var S=T,{defaultValue:D,onChange:w}=S,U=y(S,["defaultValue","onChange"]);const[V,K]=Object(a.l)(D);return Object(e.h)(M,j(v({},U),{value:V,onChange:Y=>{K(Y),w(Y)}}))}function H({onHover:T}={}){const[S,D]=Object(a.l)(!1),w=Object(a.k)(),U=Object(a.k)(),V=Object(a.k)(),K=W=>{W.pointerType==="mouse"&&(clearTimeout(V.current),D(!0),T&&T())},Y=W=>{W.pointerType==="mouse"&&(V.current=setTimeout(()=>{D(!1)},200))};return Object(a.d)(()=>{const W=w.current;if(W)return W.addEventListener("pointerenter",K),W.addEventListener("pointerleave",Y),()=>{W.removeEventListener("pointerenter",K),W.removeEventListener("pointerleave",Y)}},[]),Object(a.d)(()=>{const W=U.current,R=w.current;if(S&&R){const B=()=>{D(!1)};return window.addEventListener("scroll",B,{capture:!0,passive:!0}),W&&(W.addEventListener("pointerenter",K),W.addEventListener("pointerleave",Y)),()=>{window.removeEventListener("scroll",B,{capture:!0}),W&&(W.removeEventListener("pointerenter",K),W.removeEventListener("pointerleave",Y))}}},[S]),{ref:w,tooltipRef:U,isHovering:S}}function C({tetherRef:T,children:S}){return Object(e.h)(P,{tetherRef:T,fixTo:{anchorX:"center",tetherX:"center",anchorY:"top",tetherY:"bottom"},offset:{y:12}},Object(e.h)("div",{className:"reader2-tooltip reader2-font-base reader2-text-button"},S,Object(e.h)("div",{className:"reader2-tooltip-arrow"},Object(e.h)("svg",{viewBox:"0 0 10 10",preserveAspectRatio:"none"},Object(e.h)("path",{d:"M 0,0 L 10,0 L 6,9 Q 5,11 4,9 Z"})))))}},function(k,n,t){"use strict";n.a={root:"frontend-reader2-Notifications-module__root--n0pTs",trigger:"frontend-reader2-Notifications-module__trigger--sfZsc",badge:"frontend-reader2-Notifications-module__badge--3-jZf",circle:"frontend-reader2-Notifications-module__circle--t9yd6",dropdown:"frontend-reader2-Notifications-module__dropdown--2RtmE"}},function(k,n,t){var e=t(660),a=t(163);function o(l,d,c,u,f){return l===d?!0:l==null||d==null||!a(l)&&!a(d)?l!==l&&d!==d:e(l,d,c,u,o,f)}k.exports=o},function(k,n,t){"use strict";t.d(n,"a",function(){return h});var e=t(0),a=t(3),o=t(5),l=t.n(o),d=t(165),c=Object.defineProperty,u=Object.defineProperties,f=Object.getOwnPropertyDescriptors,m=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,O=(v,j,y)=>j in v?c(v,j,{enumerable:!0,configurable:!0,writable:!0,value:y}):v[j]=y,s=(v,j)=>{for(var y in j||(j={}))p.call(j,y)&&O(v,y,j[y]);if(m)for(var y of m(j))g.call(j,y)&&O(v,y,j[y]);return v},r=(v,j)=>u(v,f(j)),i=(v,j)=>{var y={};for(var b in v)p.call(v,b)&&j.indexOf(b)<0&&(y[b]=v[b]);if(v!=null&&m)for(var b of m(v))j.indexOf(b)<0&&g.call(v,b)&&(y[b]=v[b]);return y};const h=Object(a.forwardRef)((v,j)=>{var y=v,{className:b,error:E=!1,width:P,font:A}=y,_=i(y,["className","error","width","font"]);return Object(e.h)("input",r(s({},_),{className:l()(b,d.a.input,{[d.a.error]:E},A&&d.a[`font-${A}`]),style:{width:P},type:"text",ref:j}))})},function(k,n,t){"use strict";t.d(n,"a",function(){return y}),t.d(n,"b",function(){return b});var e=t(0),a=t(5),o=t.n(a),l=t(519),d=t(14),c=t(2),u=t(23),f={attached:"frontend-pencraft-ButtonGroup-module__attached--2v3kN",borderless:"frontend-pencraft-ButtonGroup-module__borderless--29Cj_"},m=Object.defineProperty,p=Object.defineProperties,g=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,i=(E,P,A)=>P in E?m(E,P,{enumerable:!0,configurable:!0,writable:!0,value:A}):E[P]=A,h=(E,P)=>{for(var A in P||(P={}))s.call(P,A)&&i(E,A,P[A]);if(O)for(var A of O(P))r.call(P,A)&&i(E,A,P[A]);return E},v=(E,P)=>p(E,g(P)),j=(E,P)=>{var A={};for(var _ in E)s.call(E,_)&&P.indexOf(_)<0&&(A[_]=E[_]);if(E!=null&&O)for(var _ of O(E))P.indexOf(_)<0&&r.call(E,_)&&(A[_]=E[_]);return A};const y=E=>{var P=E,{attached:A,gap:_=8}=P,M=j(P,["attached","gap"]);return Object(e.h)(c.c,h({gap:A?0:_,className:o()({[f.attached]:A})},M))},b=E=>{var P=E,{children:A,menuItems:_,fill:M="filled",priority:F="primary",size:H="medium",rounded:C=!1,additionalMenuProps:T={}}=P,S=j(P,["children","menuItems","fill","priority","size","rounded","additionalMenuProps"]);return Object(e.h)(y,{attached:!0},Object(e.h)(d.a,v(h({},S),{priority:F,size:H,rounded:C,fill:M==="borderless"?"filled":M,outline:M==="borderless"?"none":void 0}),A),Object(e.h)(u.c,v(h({},T),{trigger:Object(e.h)(d.c,v(h({className:o()({[f.borderless]:M==="borderless"})},S),{priority:F,fill:M,rounded:C,size:H==="small"?32:40}),Object(e.h)(l.a,{size:H==="small"?12:20}))}),_))}},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"FoundingBadgeIcon",svgParams:{height:14,width:14,viewBox:"0 0 14 14"}}),Object(e.h)("circle",{cx:"4.17266",cy:"5.83001",r:"3.48929","stroke-width":"1"}),Object(e.h)("path",{d:"M8.98932 9.48406C8.98932 11.4111 7.42711 12.9733 5.50003 12.9733C3.57295 12.9733 2.01075 11.4111 2.01075 9.48406C2.01075 7.55698 3.57295 5.99478 5.50003 5.99478C7.42711 5.99478 8.98932 7.55698 8.98932 9.48406Z","stroke-width":"1"}),Object(e.h)("path",{d:"M12.3286 9.48406C12.3286 11.4111 10.7664 12.9733 8.83935 12.9733C6.91227 12.9733 5.35006 11.4111 5.35006 9.48406C5.35006 7.55698 6.91227 5.99478 8.83935 5.99478C10.7664 5.99478 12.3286 7.55698 12.3286 9.48406Z","stroke-width":"1"}),Object(e.h)("circle",{cx:"7.15874",cy:"3.83929",r:"3.48929","stroke-width":"1"}),Object(e.h)("circle",{cx:"10.1449",cy:"5.83001",r:"3.48929","stroke-width":"1"}));n.default=O},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"PlayIcon",svgParams:{height:43,width:35}}),Object(e.h)("path",{d:"M34.428 20.819C34.8483 21.0821 34.8483 21.7121 34.428 21.9752L1.74924 42.4349C1.3132 42.7079 0.755859 42.3835 0.755859 41.8568V0.937387C0.755859 0.410635 1.3132 0.0862969 1.74925 0.359298L34.428 20.819Z"}));n.default=O},function(k,n,t){var e=t(1236),a=t(1168),o=a(function(l,d){return l==null?{}:e(l,d)});k.exports=o},function(k,n,t){"use strict";var e,a=SyntaxError,o=Function,l=TypeError,d=function(C){try{return o('"use strict"; return ('+C+").constructor;")()}catch(T){}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},"")}catch(C){c=null}var u=function(){throw new l},f=c?function(){try{return arguments.callee,u}catch(C){try{return c(arguments,"callee").get}catch(T){return u}}}():u,m=t(801)(),p=Object.getPrototypeOf||function(C){return C.__proto__},g={},O=typeof Uint8Array=="undefined"?e:p(Uint8Array),s={"%AggregateError%":typeof AggregateError=="undefined"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?e:ArrayBuffer,"%ArrayIteratorPrototype%":m?p([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":g,"%AsyncGenerator%":g,"%AsyncGeneratorFunction%":g,"%AsyncIteratorPrototype%":g,"%Atomics%":typeof Atomics=="undefined"?e:Atomics,"%BigInt%":typeof BigInt=="undefined"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array=="undefined"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array=="undefined"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?e:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?e:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":g,"%Int8Array%":typeof Int8Array=="undefined"?e:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?e:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":m?p(p([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map=="undefined"?e:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!m?e:p(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?e:Promise,"%Proxy%":typeof Proxy=="undefined"?e:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?e:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!m?e:p(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":m?p(""[Symbol.iterator]()):e,"%Symbol%":m?Symbol:e,"%SyntaxError%":a,"%ThrowTypeError%":f,"%TypedArray%":O,"%TypeError%":l,"%Uint8Array%":typeof Uint8Array=="undefined"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?e:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?e:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?e:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?e:WeakSet};try{null.error}catch(C){var r=p(p(C));s["%Error.prototype%"]=r}var i=function C(T){var S;if(T==="%AsyncFunction%")S=d("async function () {}");else if(T==="%GeneratorFunction%")S=d("function* () {}");else if(T==="%AsyncGeneratorFunction%")S=d("async function* () {}");else if(T==="%AsyncGenerator%"){var D=C("%AsyncGeneratorFunction%");D&&(S=D.prototype)}else if(T==="%AsyncIteratorPrototype%"){var w=C("%AsyncGenerator%");w&&(S=p(w.prototype))}return s[T]=S,S},h={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=t(360),j=t(803),y=v.call(Function.call,Array.prototype.concat),b=v.call(Function.apply,Array.prototype.splice),E=v.call(Function.call,String.prototype.replace),P=v.call(Function.call,String.prototype.slice),A=v.call(Function.call,RegExp.prototype.exec),_=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,M=/\\(\\)?/g,F=function(T){var S=P(T,0,1),D=P(T,-1);if(S==="%"&&D!=="%")throw new a("invalid intrinsic syntax, expected closing `%`");if(D==="%"&&S!=="%")throw new a("invalid intrinsic syntax, expected opening `%`");var w=[];return E(T,_,function(U,V,K,Y){w[w.length]=K?E(Y,M,"$1"):V||U}),w},H=function(T,S){var D=T,w;if(j(h,D)&&(w=h[D],D="%"+w[0]+"%"),j(s,D)){var U=s[D];if(U===g&&(U=i(D)),typeof U=="undefined"&&!S)throw new l("intrinsic "+T+" exists, but is not available. Please file an issue!");return{alias:w,name:D,value:U}}throw new a("intrinsic "+T+" does not exist!")};k.exports=function(T,S){if(typeof T!="string"||T.length===0)throw new l("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof S!="boolean")throw new l('"allowMissing" argument must be a boolean');if(A(/^%?[^%]*%?$/,T)===null)throw new a("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var D=F(T),w=D.length>0?D[0]:"",U=H("%"+w+"%",S),V=U.name,K=U.value,Y=!1,W=U.alias;W&&(w=W[0],b(D,y([0,1],W)));for(var R=1,B=!0;R<D.length;R+=1){var x=D[R],G=P(x,0,1),Q=P(x,-1);if((G==='"'||G==="'"||G==="`"||Q==='"'||Q==="'"||Q==="`")&&G!==Q)throw new a("property names with quotes must have matching quotes");if((x==="constructor"||!B)&&(Y=!0),w+="."+x,V="%"+w+"%",j(s,V))K=s[V];else if(K!=null){if(!(x in K)){if(!S)throw new l("base intrinsic for "+T+" exists, but the property is not available.");return}if(c&&R+1>=D.length){var he=c(K,x);B=!!he,B&&"get"in he&&!("originalValue"in he.get)?K=he.get:K=K[x]}else B=j(K,x),K=K[x];B&&!Y&&(s[V]=K)}}return K}},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(1);function a(){const o=Object(e.k)(null);return[o,()=>{var d;return(d=o.current)==null?void 0:d.toggle()}]}},function(k,n,t){"use strict";t.d(n,"a",function(){return p});var e=t(0),a=t(5),o=t.n(a),l=t(15),d=t(359),c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(g,O)=>{var s={};for(var r in g)u.call(g,r)&&O.indexOf(r)<0&&(s[r]=g[r]);if(g!=null&&c)for(var r of c(g))O.indexOf(r)<0&&f.call(g,r)&&(s[r]=g[r]);return s};const p=g=>{var O=g,{size:s="md",shape:r="circle",badgePosition:i="top-right",badge:h,imageUrl:v,onClick:j,className:y,border:b}=O,E=m(O,["size","shape","badgePosition","badge","imageUrl","onClick","className","border"]);return Object(e.h)(d.a,{className:y},Object(e.h)("div",{onClick:j,className:o()("tw-relative","tw-inline-block")},Object(e.h)("img",{className:o()("tw-inline-block","tw-object-cover",r==="circle"?"tw-rounded-full":"tw-rounded",{"tw-h-6 tw-w-6":s==="sm","tw-h-8 tw-w-8":s==="md","tw-h-10 tw-w-10":s==="lg","tw-h-[64px] tw-w-[64px]":s==="xl","tw-h-[88px] tw-w-[88px]":s==="xxl","tw-border-4 tw-border-substack-bg tw-shadow-md":b},j?"tw-cursor-pointer hover:tw-opacity-90 active:tw-opacity-100":null),src:v?Object(l.cloudinary)(v):void 0}),h!=null?Object(e.h)("span",{className:o()("tw-absolute",{"tw-top-0 tw-right-0":i==="top-right","tw-top-0 tw-left-0":i==="top-left","tw-bottom-0 tw-right-0":i==="bottom-right","tw-bottom-0 tw-left-0":i==="bottom-left"})},h):null))}},function(k,n,t){"use strict";t.d(n,"a",function(){return l});var e=t(0),a=t(5),o=t.n(a);const l=({children:d,title:c="",content:u="",className:f="",showFirst:m=!1,disabled:p=!1})=>p?Object(e.h)(e.Fragment,null,d):Object(e.h)("div",{className:`popover-container ${f}`},Object(e.h)("div",{className:o()("popover typography",{showfirst:m})},Object(e.h)("div",{className:"content"},c&&Object(e.h)("strong",null,c),u&&Object(e.h)("section",null,u)),Object(e.h)("div",{className:"popover-tail"})),d)},function(k,n,t){var e=t(105),a=t(146),o="Expected a function";function l(d,c,u){var f=!0,m=!0;if(typeof d!="function")throw new TypeError(o);return a(u)&&(f="leading"in u?!!u.leading:f,m="trailing"in u?!!u.trailing:m),e(d,c,{leading:f,maxWait:c,trailing:m})}k.exports=l},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"4.93",x2:"19.07",y1:"4.93",y2:"19.07",key:"1thnyu"}]])},,,function(k,n,t){(function(e){var a=t(108),o=t(667),l=n&&!n.nodeType&&n,d=l&&typeof e=="object"&&e&&!e.nodeType&&e,c=d&&d.exports===l,u=c?a.Buffer:void 0,f=u?u.isBuffer:void 0,m=f||o;e.exports=m}).call(this,t(271)(k))},,function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(r,i,h)=>i in r?o(r,i,{enumerable:!0,configurable:!0,writable:!0,value:h}):r[i]=h,p=(r,i)=>{for(var h in i||(i={}))u.call(i,h)&&m(r,h,i[h]);if(c)for(var h of c(i))f.call(i,h)&&m(r,h,i[h]);return r},g=(r,i)=>l(r,d(i)),O=(r,i)=>{var h={};for(var v in r)u.call(r,v)&&i.indexOf(v)<0&&(h[v]=r[v]);if(r!=null&&c)for(var v of c(r))i.indexOf(v)<0&&f.call(r,v)&&(h[v]=r[v]);return h};const s=r=>{var i=r,{stroke:h="black"}=i,v=O(i,["stroke"]);return Object(e.h)(a.a,g(p({},v),{name:"ThreadIcon",svgParams:{height:19,width:19}}),Object(e.h)("path",{d:"M10.4286 3H8.57143C5.49441 3 3 5.49441 3 8.57143C3 10.2355 4.16477 12.1934 5.32143 13.2143V16L11.3571 14.1429C14.6071 13.067 16 10.9973 16 8.57143C16 5.49441 13.5056 3 10.4286 3Z",stroke:h,"stroke-linejoin":"round"}))};n.default=s},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(r,i,h)=>i in r?o(r,i,{enumerable:!0,configurable:!0,writable:!0,value:h}):r[i]=h,p=(r,i)=>{for(var h in i||(i={}))u.call(i,h)&&m(r,h,i[h]);if(c)for(var h of c(i))f.call(i,h)&&m(r,h,i[h]);return r},g=(r,i)=>l(r,d(i)),O=(r,i)=>{var h={};for(var v in r)u.call(r,v)&&i.indexOf(v)<0&&(h[v]=r[v]);if(r!=null&&c)for(var v of c(r))i.indexOf(v)<0&&f.call(r,v)&&(h[v]=r[v]);return h};const s=r=>{var i=r,{stroke:h="black",height:v=19,width:j=19}=i,y=O(i,["stroke","height","width"]);return Object(e.h)(a.a,g(p({},y),{name:"VideoIcon",svgParams:{height:v,width:j,viewBox:"2 2 15 15"}}),Object(e.h)("g",{fill:"transparent"},Object(e.h)("path",{d:"M15.5 15H3.5V4H15.5V15Z",stroke:h,"stroke-linejoin":"round"}),Object(e.h)("path",{d:"M11.5 11L8.5 9V12.5L11.5 11Z",stroke:h,"stroke-linejoin":"round"}),Object(e.h)("path",{d:"M4 7H15",stroke:h}),Object(e.h)("path",{d:"M4.5 4L7.5 7",stroke:h}),Object(e.h)("path",{d:"M8 4L11 7",stroke:h}),Object(e.h)("path",{d:"M11.5 4L14.5 7",stroke:h})))};n.default=s},function(k,n,t){"use strict";t.d(n,"a",function(){return e});function e(o){let l=o.parentElement,d=null;for(;l&&!(l instanceof HTMLFieldSetElement);)l instanceof HTMLLegendElement&&(d=l),l=l.parentElement;let c=(l==null?void 0:l.getAttribute("disabled"))==="";return c&&a(d)?!1:c}function a(o){if(!o)return!1;let l=o.previousElementSibling;for(;l!==null;){if(l instanceof HTMLLegendElement)return!1;l=l.previousElementSibling}return!0}},function(k,n,t){"use strict";t.d(n,"a",function(){return l});var e=t(0),a=t(5),o=t.n(a);const l=({className:d,children:c})=>Object(e.h)("div",{className:o()("tailwind-preflight",d)},c)},function(k,n,t){"use strict";var e=t(802);k.exports=Function.prototype.bind||e},function(k,n,t){"use strict";var e=String.prototype.replace,a=/%20/g,o={RFC1738:"RFC1738",RFC3986:"RFC3986"};k.exports={default:o.RFC3986,formatters:{RFC1738:function(l){return e.call(l,a,"+")},RFC3986:function(l){return String(l)}},RFC1738:o.RFC1738,RFC3986:o.RFC3986}},function(k,n,t){"use strict";t.d(n,"a",function(){return hn}),t.d(n,"b",function(){return Un}),t.d(n,"c",function(){return Vr});var e=t(27),a=t(20),o=t(46);const l=function(N){for(var L=0;;L++)if(N=N.previousSibling,!N)return L},d=function(N){let L=N.assignedSlot||N.parentNode;return L&&L.nodeType==11?L.host:L};let c=null;const u=function(N,L,$){let ne=c||(c=document.createRange());return ne.setEnd(N,$==null?N.nodeValue.length:$),ne.setStart(N,L||0),ne},f=function(N,L,$,ne){return $&&(p(N,L,$,ne,-1)||p(N,L,$,ne,1))},m=/^(img|br|input|textarea|hr)$/i;function p(N,L,$,ne,ee){for(;;){if(N==$&&L==ne)return!0;if(L==(ee<0?0:g(N))){let ae=N.parentNode;if(!ae||ae.nodeType!=1||s(N)||m.test(N.nodeName)||N.contentEditable=="false")return!1;L=l(N)+(ee<0?0:1),N=ae}else if(N.nodeType==1){if(N=N.childNodes[L+(ee<0?-1:0)],N.contentEditable=="false")return!1;L=ee<0?g(N):0}else return!1}}function g(N){return N.nodeType==3?N.nodeValue.length:N.childNodes.length}function O(N,L,$){for(let ne=L==0,ee=L==g(N);ne||ee;){if(N==$)return!0;let ae=l(N);if(N=N.parentNode,!N)return!1;ne=ne&&ae==0,ee=ee&&ae==g(N)}}function s(N){let L;for(let $=N;$&&!(L=$.pmViewDesc);$=$.parentNode);return L&&L.node&&L.node.isBlock&&(L.dom==N||L.contentDOM==N)}const r=function(N){return N.focusNode&&f(N.focusNode,N.focusOffset,N.anchorNode,N.anchorOffset)};function i(N,L){let $=document.createEvent("Event");return $.initEvent("keydown",!0,!0),$.keyCode=N,$.key=$.code=L,$}function h(N){let L=N.activeElement;for(;L&&L.shadowRoot;)L=L.shadowRoot.activeElement;return L}const v=typeof navigator!="undefined"?navigator:null,j=typeof document!="undefined"?document:null,y=v&&v.userAgent||"",b=/Edge\/(\d+)/.exec(y),E=/MSIE \d/.exec(y),P=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(y),A=!!(E||P||b),_=E?document.documentMode:P?+P[1]:b?+b[1]:0,M=!A&&/gecko\/(\d+)/i.test(y);M&&+(/Firefox\/(\d+)/.exec(y)||[0,0])[1];const F=!A&&/Chrome\/(\d+)/.exec(y),H=!!F,C=F?+F[1]:0,T=!A&&!!v&&/Apple Computer/.test(v.vendor),S=T&&(/Mobile\/\w+/.test(y)||!!v&&v.maxTouchPoints>2),D=S||(v?/Mac/.test(v.platform):!1),w=/Android \d/.test(y),U=!!j&&"webkitFontSmoothing"in j.documentElement.style,V=U?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function K(N){return{left:0,right:N.documentElement.clientWidth,top:0,bottom:N.documentElement.clientHeight}}function Y(N,L){return typeof N=="number"?N:N[L]}function W(N){let L=N.getBoundingClientRect(),$=L.width/N.offsetWidth||1,ne=L.height/N.offsetHeight||1;return{left:L.left,right:L.left+N.clientWidth*$,top:L.top,bottom:L.top+N.clientHeight*ne}}function R(N,L,$){let ne=N.someProp("scrollThreshold")||0,ee=N.someProp("scrollMargin")||5,ae=N.dom.ownerDocument;for(let ve=$||N.dom;ve;ve=d(ve)){if(ve.nodeType!=1)continue;let Re=ve,$e=Re==ae.body,bt=$e?K(ae):W(Re),Ut=0,dn=0;if(L.top<bt.top+Y(ne,"top")?dn=-(bt.top-L.top+Y(ee,"top")):L.bottom>bt.bottom-Y(ne,"bottom")&&(dn=L.bottom-bt.bottom+Y(ee,"bottom")),L.left<bt.left+Y(ne,"left")?Ut=-(bt.left-L.left+Y(ee,"left")):L.right>bt.right-Y(ne,"right")&&(Ut=L.right-bt.right+Y(ee,"right")),Ut||dn)if($e)ae.defaultView.scrollBy(Ut,dn);else{let pn=Re.scrollLeft,jn=Re.scrollTop;dn&&(Re.scrollTop+=dn),Ut&&(Re.scrollLeft+=Ut);let Nn=Re.scrollLeft-pn,Xn=Re.scrollTop-jn;L={left:L.left-Nn,top:L.top-Xn,right:L.right-Nn,bottom:L.bottom-Xn}}if($e)break}}function B(N){let L=N.dom.getBoundingClientRect(),$=Math.max(0,L.top),ne,ee;for(let ae=(L.left+L.right)/2,ve=$+1;ve<Math.min(innerHeight,L.bottom);ve+=5){let Re=N.root.elementFromPoint(ae,ve);if(!Re||Re==N.dom||!N.dom.contains(Re))continue;let $e=Re.getBoundingClientRect();if($e.top>=$-20){ne=Re,ee=$e.top;break}}return{refDOM:ne,refTop:ee,stack:x(N.dom)}}function x(N){let L=[],$=N.ownerDocument;for(let ne=N;ne&&(L.push({dom:ne,top:ne.scrollTop,left:ne.scrollLeft}),N!=$);ne=d(ne));return L}function G({refDOM:N,refTop:L,stack:$}){let ne=N?N.getBoundingClientRect().top:0;Q($,ne==0?0:ne-L)}function Q(N,L){for(let $=0;$<N.length;$++){let{dom:ne,top:ee,left:ae}=N[$];ne.scrollTop!=ee+L&&(ne.scrollTop=ee+L),ne.scrollLeft!=ae&&(ne.scrollLeft=ae)}}let he=null;function Z(N){if(N.setActive)return N.setActive();if(he)return N.focus(he);let L=x(N);N.focus(he==null?{get preventScroll(){return he={preventScroll:!0},!0}}:void 0),he||(he=!1,Q(L,0))}function le(N,L){let $,ne=2e8,ee,ae=0,ve=L.top,Re=L.top;for(let $e=N.firstChild,bt=0;$e;$e=$e.nextSibling,bt++){let Ut;if($e.nodeType==1)Ut=$e.getClientRects();else if($e.nodeType==3)Ut=u($e).getClientRects();else continue;for(let dn=0;dn<Ut.length;dn++){let pn=Ut[dn];if(pn.top<=ve&&pn.bottom>=Re){ve=Math.max(pn.bottom,ve),Re=Math.min(pn.top,Re);let jn=pn.left>L.left?pn.left-L.left:pn.right<L.left?L.left-pn.right:0;if(jn<ne){$=$e,ne=jn,ee=jn&&$.nodeType==3?{left:pn.right<L.left?pn.right:pn.left,top:L.top}:L,$e.nodeType==1&&jn&&(ae=bt+(L.left>=(pn.left+pn.right)/2?1:0));continue}}!$&&(L.left>=pn.right&&L.top>=pn.top||L.left>=pn.left&&L.top>=pn.bottom)&&(ae=bt+1)}}return $&&$.nodeType==3?de($,ee):!$||ne&&$.nodeType==1?{node:N,offset:ae}:le($,ee)}function de(N,L){let $=N.nodeValue.length,ne=document.createRange();for(let ee=0;ee<$;ee++){ne.setEnd(N,ee+1),ne.setStart(N,ee);let ae=Pe(ne,1);if(ae.top!=ae.bottom&&be(L,ae))return{node:N,offset:ee+(L.left>=(ae.left+ae.right)/2?1:0)}}return{node:N,offset:0}}function be(N,L){return N.left>=L.left-1&&N.left<=L.right+1&&N.top>=L.top-1&&N.top<=L.bottom+1}function X(N,L){let $=N.parentNode;return $&&/^li$/i.test($.nodeName)&&L.left<N.getBoundingClientRect().left?$:N}function ie(N,L,$){let{node:ne,offset:ee}=le(L,$),ae=-1;if(ne.nodeType==1&&!ne.firstChild){let ve=ne.getBoundingClientRect();ae=ve.left!=ve.right&&$.left>(ve.left+ve.right)/2?1:-1}return N.docView.posFromDOM(ne,ee,ae)}function Ce(N,L,$,ne){let ee=-1;for(let ae=L;ae!=N.dom;){let ve=N.docView.nearestDesc(ae,!0);if(!ve)return null;if(ve.dom.nodeType==1&&(ve.node.isBlock&&ve.parent||!ve.contentDOM)){let Re=ve.dom.getBoundingClientRect();if(ve.node.isBlock&&ve.parent&&(Re.left>ne.left||Re.top>ne.top?ee=ve.posBefore:(Re.right<ne.left||Re.bottom<ne.top)&&(ee=ve.posAfter)),!ve.contentDOM&&ee<0)return(ve.node.isBlock?ne.top<(Re.top+Re.bottom)/2:ne.left<(Re.left+Re.right)/2)?ve.posBefore:ve.posAfter}ae=ve.dom.parentNode}return ee>-1?ee:N.docView.posFromDOM(L,$,-1)}function Le(N,L,$){let ne=N.childNodes.length;if(ne&&$.top<$.bottom)for(let ee=Math.max(0,Math.min(ne-1,Math.floor(ne*(L.top-$.top)/($.bottom-$.top))-2)),ae=ee;;){let ve=N.childNodes[ae];if(ve.nodeType==1){let Re=ve.getClientRects();for(let $e=0;$e<Re.length;$e++){let bt=Re[$e];if(be(L,bt))return Le(ve,L,bt)}}if((ae=(ae+1)%ne)==ee)break}return N}function Ae(N,L){let $=N.dom.ownerDocument,ne,ee=0;if($.caretPositionFromPoint)try{let $e=$.caretPositionFromPoint(L.left,L.top);$e&&({offsetNode:ne,offset:ee}=$e)}catch($e){}if(!ne&&$.caretRangeFromPoint){let $e=$.caretRangeFromPoint(L.left,L.top);$e&&({startContainer:ne,startOffset:ee}=$e)}let ae=(N.root.elementFromPoint?N.root:$).elementFromPoint(L.left,L.top),ve;if(!ae||!N.dom.contains(ae.nodeType!=1?ae.parentNode:ae)){let $e=N.dom.getBoundingClientRect();if(!be(L,$e)||(ae=Le(N.dom,L,$e),!ae))return null}if(T)for(let $e=ae;ne&&$e;$e=d($e))$e.draggable&&(ne=void 0);if(ae=X(ae,L),ne){if(M&&ne.nodeType==1&&(ee=Math.min(ee,ne.childNodes.length),ee<ne.childNodes.length)){let $e=ne.childNodes[ee],bt;$e.nodeName=="IMG"&&(bt=$e.getBoundingClientRect()).right<=L.left&&bt.bottom>L.top&&ee++}ne==N.dom&&ee==ne.childNodes.length-1&&ne.lastChild.nodeType==1&&L.top>ne.lastChild.getBoundingClientRect().bottom?ve=N.state.doc.content.size:(ee==0||ne.nodeType!=1||ne.childNodes[ee-1].nodeName!="BR")&&(ve=Ce(N,ne,ee,L))}ve==null&&(ve=ie(N,ae,L));let Re=N.docView.nearestDesc(ae,!0);return{pos:ve,inside:Re?Re.posAtStart-Re.border:-1}}function Pe(N,L){let $=N.getClientRects();return $.length?$[L<0?0:$.length-1]:N.getBoundingClientRect()}const Ne=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function ce(N,L,$){let{node:ne,offset:ee,atom:ae}=N.docView.domFromPos(L,$<0?-1:1),ve=U||M;if(ne.nodeType==3)if(ve&&(Ne.test(ne.nodeValue)||($<0?!ee:ee==ne.nodeValue.length))){let $e=Pe(u(ne,ee,ee),$);if(M&&ee&&/\s/.test(ne.nodeValue[ee-1])&&ee<ne.nodeValue.length){let bt=Pe(u(ne,ee-1,ee-1),-1);if(bt.top==$e.top){let Ut=Pe(u(ne,ee,ee+1),-1);if(Ut.top!=$e.top)return q(Ut,Ut.left<bt.left)}}return $e}else{let $e=ee,bt=ee,Ut=$<0?1:-1;return $<0&&!ee?(bt++,Ut=-1):$>=0&&ee==ne.nodeValue.length?($e--,Ut=1):$<0?$e--:bt++,q(Pe(u(ne,$e,bt),1),Ut<0)}if(!N.state.doc.resolve(L-(ae||0)).parent.inlineContent){if(ae==null&&ee&&($<0||ee==g(ne))){let $e=ne.childNodes[ee-1];if($e.nodeType==1)return te($e.getBoundingClientRect(),!1)}if(ae==null&&ee<g(ne)){let $e=ne.childNodes[ee];if($e.nodeType==1)return te($e.getBoundingClientRect(),!0)}return te(ne.getBoundingClientRect(),$>=0)}if(ae==null&&ee&&($<0||ee==g(ne))){let $e=ne.childNodes[ee-1],bt=$e.nodeType==3?u($e,g($e)-(ve?0:1)):$e.nodeType==1&&($e.nodeName!="BR"||!$e.nextSibling)?$e:null;if(bt)return q(Pe(bt,1),!1)}if(ae==null&&ee<g(ne)){let $e=ne.childNodes[ee];for(;$e.pmViewDesc&&$e.pmViewDesc.ignoreForCoords;)$e=$e.nextSibling;let bt=$e?$e.nodeType==3?u($e,0,ve?0:1):$e.nodeType==1?$e:null:null;if(bt)return q(Pe(bt,-1),!0)}return q(Pe(ne.nodeType==3?u(ne):ne,-$),$>=0)}function q(N,L){if(N.width==0)return N;let $=L?N.left:N.right;return{top:N.top,bottom:N.bottom,left:$,right:$}}function te(N,L){if(N.height==0)return N;let $=L?N.top:N.bottom;return{top:$,bottom:$,left:N.left,right:N.right}}function ue(N,L,$){let ne=N.state,ee=N.root.activeElement;ne!=L&&N.updateState(L),ee!=N.dom&&N.focus();try{return $()}finally{ne!=L&&N.updateState(ne),ee!=N.dom&&ee&&ee.focus()}}function We(N,L,$){let ne=L.selection,ee=$=="up"?ne.$from:ne.$to;return ue(N,L,()=>{let{node:ae}=N.docView.domFromPos(ee.pos,$=="up"?-1:1);for(;;){let Re=N.docView.nearestDesc(ae,!0);if(!Re)break;if(Re.node.isBlock){ae=Re.contentDOM||Re.dom;break}ae=Re.dom.parentNode}let ve=ce(N,ee.pos,1);for(let Re=ae.firstChild;Re;Re=Re.nextSibling){let $e;if(Re.nodeType==1)$e=Re.getClientRects();else if(Re.nodeType==3)$e=u(Re,0,Re.nodeValue.length).getClientRects();else continue;for(let bt=0;bt<$e.length;bt++){let Ut=$e[bt];if(Ut.bottom>Ut.top+1&&($=="up"?ve.top-Ut.top>(Ut.bottom-ve.top)*2:Ut.bottom-ve.bottom>(ve.bottom-Ut.top)*2))return!1}}return!0})}const ot=/[\u0590-\u08ac]/;function ze(N,L,$){let{$head:ne}=L.selection;if(!ne.parent.isTextblock)return!1;let ee=ne.parentOffset,ae=!ee,ve=ee==ne.parent.content.size,Re=N.domSelection();return!ot.test(ne.parent.textContent)||!Re.modify?$=="left"||$=="backward"?ae:ve:ue(N,L,()=>{let{focusNode:$e,focusOffset:bt,anchorNode:Ut,anchorOffset:dn}=N.domSelectionRange(),pn=Re.caretBidiLevel;Re.modify("move",$,"character");let jn=ne.depth?N.docView.domAfterPos(ne.before()):N.dom,{focusNode:Nn,focusOffset:Xn}=N.domSelectionRange(),Lr=Nn&&!jn.contains(Nn.nodeType==1?Nn:Nn.parentNode)||$e==Nn&&bt==Xn;try{Re.collapse(Ut,dn),$e&&($e!=Ut||bt!=dn)&&Re.extend&&Re.extend($e,bt)}catch(Wr){}return pn!=null&&(Re.caretBidiLevel=pn),Lr})}let vt=null,Wt=null,zt=!1;function at(N,L,$){return vt==L&&Wt==$?zt:(vt=L,Wt=$,zt=$=="up"||$=="down"?We(N,L,$):ze(N,L,$))}const Me=0,Be=1,Xe=2,Te=3;class we{constructor(L,$,ne,ee){this.parent=L,this.children=$,this.dom=ne,this.contentDOM=ee,this.dirty=Me,ne.pmViewDesc=this}matchesWidget(L){return!1}matchesMark(L){return!1}matchesNode(L,$,ne){return!1}matchesHack(L){return!1}parseRule(){return null}stopEvent(L){return!1}get size(){let L=0;for(let $=0;$<this.children.length;$++)L+=this.children[$].size;return L}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let L=0;L<this.children.length;L++)this.children[L].destroy()}posBeforeChild(L){for(let $=0,ne=this.posAtStart;;$++){let ee=this.children[$];if(ee==L)return ne;ne+=ee.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(L,$,ne){if(this.contentDOM&&this.contentDOM.contains(L.nodeType==1?L:L.parentNode))if(ne<0){let ae,ve;if(L==this.contentDOM)ae=L.childNodes[$-1];else{for(;L.parentNode!=this.contentDOM;)L=L.parentNode;ae=L.previousSibling}for(;ae&&!((ve=ae.pmViewDesc)&&ve.parent==this);)ae=ae.previousSibling;return ae?this.posBeforeChild(ve)+ve.size:this.posAtStart}else{let ae,ve;if(L==this.contentDOM)ae=L.childNodes[$];else{for(;L.parentNode!=this.contentDOM;)L=L.parentNode;ae=L.nextSibling}for(;ae&&!((ve=ae.pmViewDesc)&&ve.parent==this);)ae=ae.nextSibling;return ae?this.posBeforeChild(ve):this.posAtEnd}let ee;if(L==this.dom&&this.contentDOM)ee=$>l(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))ee=L.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if($==0)for(let ae=L;;ae=ae.parentNode){if(ae==this.dom){ee=!1;break}if(ae.previousSibling)break}if(ee==null&&$==L.childNodes.length)for(let ae=L;;ae=ae.parentNode){if(ae==this.dom){ee=!0;break}if(ae.nextSibling)break}}return(ee==null?ne>0:ee)?this.posAtEnd:this.posAtStart}nearestDesc(L,$=!1){for(let ne=!0,ee=L;ee;ee=ee.parentNode){let ae=this.getDesc(ee),ve;if(ae&&(!$||ae.node))if(ne&&(ve=ae.nodeDOM)&&!(ve.nodeType==1?ve.contains(L.nodeType==1?L:L.parentNode):ve==L))ne=!1;else return ae}}getDesc(L){let $=L.pmViewDesc;for(let ne=$;ne;ne=ne.parent)if(ne==this)return $}posFromDOM(L,$,ne){for(let ee=L;ee;ee=ee.parentNode){let ae=this.getDesc(ee);if(ae)return ae.localPosFromDOM(L,$,ne)}return-1}descAt(L){for(let $=0,ne=0;$<this.children.length;$++){let ee=this.children[$],ae=ne+ee.size;if(ne==L&&ae!=ne){for(;!ee.border&&ee.children.length;)ee=ee.children[0];return ee}if(L<ae)return ee.descAt(L-ne-ee.border);ne=ae}}domFromPos(L,$){if(!this.contentDOM)return{node:this.dom,offset:0,atom:L+1};let ne=0,ee=0;for(let ae=0;ne<this.children.length;ne++){let ve=this.children[ne],Re=ae+ve.size;if(Re>L||ve instanceof Se){ee=L-ae;break}ae=Re}if(ee)return this.children[ne].domFromPos(ee-this.children[ne].border,$);for(let ae;ne&&!(ae=this.children[ne-1]).size&&ae instanceof De&&ae.side>=0;ne--);if($<=0){let ae,ve=!0;for(;ae=ne?this.children[ne-1]:null,!(!ae||ae.dom.parentNode==this.contentDOM);ne--,ve=!1);return ae&&$&&ve&&!ae.border&&!ae.domAtom?ae.domFromPos(ae.size,$):{node:this.contentDOM,offset:ae?l(ae.dom)+1:0}}else{let ae,ve=!0;for(;ae=ne<this.children.length?this.children[ne]:null,!(!ae||ae.dom.parentNode==this.contentDOM);ne++,ve=!1);return ae&&ve&&!ae.border&&!ae.domAtom?ae.domFromPos(0,$):{node:this.contentDOM,offset:ae?l(ae.dom):this.contentDOM.childNodes.length}}}parseRange(L,$,ne=0){if(this.children.length==0)return{node:this.contentDOM,from:L,to:$,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let ee=-1,ae=-1;for(let ve=ne,Re=0;;Re++){let $e=this.children[Re],bt=ve+$e.size;if(ee==-1&&L<=bt){let Ut=ve+$e.border;if(L>=Ut&&$<=bt-$e.border&&$e.node&&$e.contentDOM&&this.contentDOM.contains($e.contentDOM))return $e.parseRange(L,$,Ut);L=ve;for(let dn=Re;dn>0;dn--){let pn=this.children[dn-1];if(pn.size&&pn.dom.parentNode==this.contentDOM&&!pn.emptyChildAt(1)){ee=l(pn.dom)+1;break}L-=pn.size}ee==-1&&(ee=0)}if(ee>-1&&(bt>$||Re==this.children.length-1)){$=bt;for(let Ut=Re+1;Ut<this.children.length;Ut++){let dn=this.children[Ut];if(dn.size&&dn.dom.parentNode==this.contentDOM&&!dn.emptyChildAt(-1)){ae=l(dn.dom);break}$+=dn.size}ae==-1&&(ae=this.contentDOM.childNodes.length);break}ve=bt}return{node:this.contentDOM,from:L,to:$,fromOffset:ee,toOffset:ae}}emptyChildAt(L){if(this.border||!this.contentDOM||!this.children.length)return!1;let $=this.children[L<0?0:this.children.length-1];return $.size==0||$.emptyChildAt(L)}domAfterPos(L){let{node:$,offset:ne}=this.domFromPos(L,0);if($.nodeType!=1||ne==$.childNodes.length)throw new RangeError("No node after pos "+L);return $.childNodes[ne]}setSelection(L,$,ne,ee=!1){let ae=Math.min(L,$),ve=Math.max(L,$);for(let pn=0,jn=0;pn<this.children.length;pn++){let Nn=this.children[pn],Xn=jn+Nn.size;if(ae>jn&&ve<Xn)return Nn.setSelection(L-jn-Nn.border,$-jn-Nn.border,ne,ee);jn=Xn}let Re=this.domFromPos(L,L?-1:1),$e=$==L?Re:this.domFromPos($,$?-1:1),bt=ne.getSelection(),Ut=!1;if((M||T)&&L==$){let{node:pn,offset:jn}=Re;if(pn.nodeType==3){if(Ut=!!(jn&&pn.nodeValue[jn-1]==`
`),Ut&&jn==pn.nodeValue.length)for(let Nn=pn,Xn;Nn;Nn=Nn.parentNode){if(Xn=Nn.nextSibling){Xn.nodeName=="BR"&&(Re=$e={node:Xn.parentNode,offset:l(Xn)+1});break}let Lr=Nn.pmViewDesc;if(Lr&&Lr.node&&Lr.node.isBlock)break}}else{let Nn=pn.childNodes[jn-1];Ut=Nn&&(Nn.nodeName=="BR"||Nn.contentEditable=="false")}}if(M&&bt.focusNode&&bt.focusNode!=$e.node&&bt.focusNode.nodeType==1){let pn=bt.focusNode.childNodes[bt.focusOffset];pn&&pn.contentEditable=="false"&&(ee=!0)}if(!(ee||Ut&&T)&&f(Re.node,Re.offset,bt.anchorNode,bt.anchorOffset)&&f($e.node,$e.offset,bt.focusNode,bt.focusOffset))return;let dn=!1;if((bt.extend||L==$)&&!Ut){bt.collapse(Re.node,Re.offset);try{L!=$&&bt.extend($e.node,$e.offset),dn=!0}catch(pn){}}if(!dn){if(L>$){let jn=Re;Re=$e,$e=jn}let pn=document.createRange();pn.setEnd($e.node,$e.offset),pn.setStart(Re.node,Re.offset),bt.removeAllRanges(),bt.addRange(pn)}}ignoreMutation(L){return!this.contentDOM&&L.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(L,$){for(let ne=0,ee=0;ee<this.children.length;ee++){let ae=this.children[ee],ve=ne+ae.size;if(ne==ve?L<=ve&&$>=ne:L<ve&&$>ne){let Re=ne+ae.border,$e=ve-ae.border;if(L>=Re&&$<=$e){this.dirty=L==ne||$==ve?Xe:Be,L==Re&&$==$e&&(ae.contentLost||ae.dom.parentNode!=this.contentDOM)?ae.dirty=Te:ae.markDirty(L-Re,$-Re);return}else ae.dirty=ae.dom==ae.contentDOM&&ae.dom.parentNode==this.contentDOM&&!ae.children.length?Xe:Te}ne=ve}this.dirty=Xe}markParentsDirty(){let L=1;for(let $=this.parent;$;$=$.parent,L++){let ne=L==1?Xe:Be;$.dirty<ne&&($.dirty=ne)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class De extends we{constructor(L,$,ne,ee){let ae,ve=$.type.toDOM;if(typeof ve=="function"&&(ve=ve(ne,()=>{if(!ae)return ee;if(ae.parent)return ae.parent.posBeforeChild(ae)})),!$.type.spec.raw){if(ve.nodeType!=1){let Re=document.createElement("span");Re.appendChild(ve),ve=Re}ve.contentEditable="false",ve.classList.add("ProseMirror-widget")}super(L,[],ve,null);this.widget=$,this.widget=$,ae=this}matchesWidget(L){return this.dirty==Me&&L.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(L){let $=this.widget.spec.stopEvent;return $?$(L):!1}ignoreMutation(L){return L.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class Ie extends we{constructor(L,$,ne,ee){super(L,[],$,null);this.textDOM=ne,this.text=ee}get size(){return this.text.length}localPosFromDOM(L,$){return L!=this.textDOM?this.posAtStart+($?this.size:0):this.posAtStart+$}domFromPos(L){return{node:this.textDOM,offset:L}}ignoreMutation(L){return L.type==="characterData"&&L.target.nodeValue==L.oldValue}}class He extends we{constructor(L,$,ne,ee){super(L,[],ne,ee);this.mark=$}static create(L,$,ne,ee){let ae=ee.nodeViews[$.type.name],ve=ae&&ae($,ee,ne);return(!ve||!ve.dom)&&(ve=a.DOMSerializer.renderSpec(document,$.type.spec.toDOM($,ne))),new He(L,$,ve.dom,ve.contentDOM||ve.dom)}parseRule(){return this.dirty&Te||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(L){return this.dirty!=Te&&this.mark.eq(L)}markDirty(L,$){if(super.markDirty(L,$),this.dirty!=Me){let ne=this.parent;for(;!ne.node;)ne=ne.parent;ne.dirty<this.dirty&&(ne.dirty=this.dirty),this.dirty=Me}}slice(L,$,ne){let ee=He.create(this.parent,this.mark,!0,ne),ae=this.children,ve=this.size;$<ve&&(ae=lt(ae,$,ve,ne)),L>0&&(ae=lt(ae,0,L,ne));for(let Re=0;Re<ae.length;Re++)ae[Re].parent=ee;return ee.children=ae,ee}}class Ve extends we{constructor(L,$,ne,ee,ae,ve,Re,$e,bt){super(L,[],ae,ve);this.node=$,this.outerDeco=ne,this.innerDeco=ee,this.nodeDOM=Re,ve&&this.updateChildren($e,bt)}static create(L,$,ne,ee,ae,ve){let Re=ae.nodeViews[$.type.name],$e,bt=Re&&Re($,ae,()=>{if(!$e)return ve;if($e.parent)return $e.parent.posBeforeChild($e)},ne,ee),Ut=bt&&bt.dom,dn=bt&&bt.contentDOM;if($.isText){if(!Ut)Ut=document.createTextNode($.text);else if(Ut.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else Ut||({dom:Ut,contentDOM:dn}=a.DOMSerializer.renderSpec(document,$.type.spec.toDOM($)));!dn&&!$.isText&&Ut.nodeName!="BR"&&(Ut.hasAttribute("contenteditable")||(Ut.contentEditable="false"),$.type.spec.draggable&&(Ut.draggable=!0));let pn=Ut;return Ut=Nt(Ut,ne,$),bt?$e=new Oe(L,$,ne,ee,Ut,dn||null,pn,bt,ae,ve+1):$.isText?new se(L,$,ne,ee,Ut,pn,ae):new Ve(L,$,ne,ee,Ut,dn||null,pn,ae,ve+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let L={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(L.preserveWhitespace="full"),!this.contentDOM)L.getContent=()=>this.node.content;else if(!this.contentLost)L.contentElement=this.contentDOM;else{for(let $=this.children.length-1;$>=0;$--){let ne=this.children[$];if(this.dom.contains(ne.dom.parentNode)){L.contentElement=ne.dom.parentNode;break}}L.contentElement||(L.getContent=()=>a.Fragment.empty)}return L}matchesNode(L,$,ne){return this.dirty==Me&&L.eq(this.node)&&wt($,this.outerDeco)&&ne.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(L,$){let ne=this.node.inlineContent,ee=$,ae=L.composing?this.localCompositionInfo(L,$):null,ve=ae&&ae.pos>-1?ae:null,Re=ae&&ae.pos<0,$e=new Qe(this,ve&&ve.node,L);ke(this.node,this.innerDeco,(bt,Ut,dn)=>{bt.spec.marks?$e.syncToMarks(bt.spec.marks,ne,L):bt.type.side>=0&&!dn&&$e.syncToMarks(Ut==this.node.childCount?a.Mark.none:this.node.child(Ut).marks,ne,L),$e.placeWidget(bt,L,ee)},(bt,Ut,dn,pn)=>{$e.syncToMarks(bt.marks,ne,L);let jn;$e.findNodeMatch(bt,Ut,dn,pn)||Re&&L.state.selection.from>ee&&L.state.selection.to<ee+bt.nodeSize&&(jn=$e.findIndexWithChild(ae.node))>-1&&$e.updateNodeAt(bt,Ut,dn,jn,L)||$e.updateNextNode(bt,Ut,dn,L,pn)||$e.addNode(bt,Ut,dn,L,ee),ee+=bt.nodeSize}),$e.syncToMarks([],ne,L),this.node.isTextblock&&$e.addTextblockHacks(),$e.destroyRest(),($e.changed||this.dirty==Xe)&&(ve&&this.protectLocalComposition(L,ve),ge(this.contentDOM,this.children,L),S&&tn(this.dom))}localCompositionInfo(L,$){let{from:ne,to:ee}=L.state.selection;if(!(L.state.selection instanceof e.TextSelection)||ne<$||ee>$+this.node.content.size)return null;let ae=L.domSelectionRange(),ve=Pn(ae.focusNode,ae.focusOffset);if(!ve||!this.dom.contains(ve.parentNode))return null;if(this.node.inlineContent){let Re=ve.nodeValue,$e=Ft(this.node.content,Re,ne-$,ee-$);return $e<0?null:{node:ve,pos:$e,text:Re}}else return{node:ve,pos:-1,text:""}}protectLocalComposition(L,{node:$,pos:ne,text:ee}){if(this.getDesc($))return;let ae=$;for(;ae.parentNode!=this.contentDOM;ae=ae.parentNode){for(;ae.previousSibling;)ae.parentNode.removeChild(ae.previousSibling);for(;ae.nextSibling;)ae.parentNode.removeChild(ae.nextSibling);ae.pmViewDesc&&(ae.pmViewDesc=void 0)}let ve=new Ie(this,ae,$,ee);L.input.compositionNodes.push(ve),this.children=lt(this.children,ne,ne+ee.length,L,ve)}update(L,$,ne,ee){return this.dirty==Te||!L.sameMarkup(this.node)?!1:(this.updateInner(L,$,ne,ee),!0)}updateInner(L,$,ne,ee){this.updateOuterDeco($),this.node=L,this.innerDeco=ne,this.contentDOM&&this.updateChildren(ee,this.posAtStart),this.dirty=Me}updateOuterDeco(L){if(wt(L,this.outerDeco))return;let $=this.nodeDOM.nodeType!=1,ne=this.dom;this.dom=sn(this.dom,this.nodeDOM,Tt(this.outerDeco,this.node,$),Tt(L,this.node,$)),this.dom!=ne&&(ne.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=L}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function z(N,L,$,ne,ee){return Nt(ne,L,N),new Ve(void 0,N,L,$,ne,ne,ne,ee,0)}class se extends Ve{constructor(L,$,ne,ee,ae,ve,Re){super(L,$,ne,ee,ae,null,ve,Re,0)}parseRule(){let L=this.nodeDOM.parentNode;for(;L&&L!=this.dom&&!L.pmIsDeco;)L=L.parentNode;return{skip:L||!0}}update(L,$,ne,ee){return this.dirty==Te||this.dirty!=Me&&!this.inParent()||!L.sameMarkup(this.node)?!1:(this.updateOuterDeco($),(this.dirty!=Me||L.text!=this.node.text)&&L.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=L.text,ee.trackWrites==this.nodeDOM&&(ee.trackWrites=null)),this.node=L,this.dirty=Me,!0)}inParent(){let L=this.parent.contentDOM;for(let $=this.nodeDOM;$;$=$.parentNode)if($==L)return!0;return!1}domFromPos(L){return{node:this.nodeDOM,offset:L}}localPosFromDOM(L,$,ne){return L==this.nodeDOM?this.posAtStart+Math.min($,this.node.text.length):super.localPosFromDOM(L,$,ne)}ignoreMutation(L){return L.type!="characterData"&&L.type!="selection"}slice(L,$,ne){let ee=this.node.cut(L,$),ae=document.createTextNode(ee.text);return new se(this.parent,ee,this.outerDeco,this.innerDeco,ae,ae,ne)}markDirty(L,$){super.markDirty(L,$),this.dom!=this.nodeDOM&&(L==0||$==this.nodeDOM.nodeValue.length)&&(this.dirty=Te)}get domAtom(){return!1}}class Se extends we{parseRule(){return{ignore:!0}}matchesHack(L){return this.dirty==Me&&this.dom.nodeName==L}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Oe extends Ve{constructor(L,$,ne,ee,ae,ve,Re,$e,bt,Ut){super(L,$,ne,ee,ae,ve,Re,bt,Ut);this.spec=$e}update(L,$,ne,ee){if(this.dirty==Te)return!1;if(this.spec.update){let ae=this.spec.update(L,$,ne);return ae&&this.updateInner(L,$,ne,ee),ae}else return!this.contentDOM&&!L.isLeaf?!1:super.update(L,$,ne,ee)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(L,$,ne,ee){this.spec.setSelection?this.spec.setSelection(L,$,ne):super.setSelection(L,$,ne,ee)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(L){return this.spec.stopEvent?this.spec.stopEvent(L):!1}ignoreMutation(L){return this.spec.ignoreMutation?this.spec.ignoreMutation(L):super.ignoreMutation(L)}}function ge(N,L,$){let ne=N.firstChild,ee=!1;for(let ae=0;ae<L.length;ae++){let ve=L[ae],Re=ve.dom;if(Re.parentNode==N){for(;Re!=ne;)ne=yt(ne),ee=!0;ne=ne.nextSibling}else ee=!0,N.insertBefore(Re,ne);if(ve instanceof He){let $e=ne?ne.previousSibling:N.lastChild;ge(ve.contentDOM,ve.children,$),ne=$e?$e.nextSibling:N.firstChild}}for(;ne;)ne=yt(ne),ee=!0;ee&&$.trackWrites==N&&($.trackWrites=null)}const je=function(N){N&&(this.nodeName=N)};je.prototype=Object.create(null);const it=[new je];function Tt(N,L,$){if(N.length==0)return it;let ne=$?it[0]:new je,ee=[ne];for(let ae=0;ae<N.length;ae++){let ve=N[ae].type.attrs;if(!!ve){ve.nodeName&&ee.push(ne=new je(ve.nodeName));for(let Re in ve){let $e=ve[Re];$e!=null&&($&&ee.length==1&&ee.push(ne=new je(L.isInline?"span":"div")),Re=="class"?ne.class=(ne.class?ne.class+" ":"")+$e:Re=="style"?ne.style=(ne.style?ne.style+";":"")+$e:Re!="nodeName"&&(ne[Re]=$e))}}}return ee}function sn(N,L,$,ne){if($==it&&ne==it)return L;let ee=L;for(let ae=0;ae<ne.length;ae++){let ve=ne[ae],Re=$[ae];if(ae){let $e;Re&&Re.nodeName==ve.nodeName&&ee!=N&&($e=ee.parentNode)&&$e.nodeName.toLowerCase()==ve.nodeName||($e=document.createElement(ve.nodeName),$e.pmIsDeco=!0,$e.appendChild(ee),Re=it[0]),ee=$e}ht(ee,Re||it[0],ve)}return ee}function ht(N,L,$){for(let ne in L)ne!="class"&&ne!="style"&&ne!="nodeName"&&!(ne in $)&&N.removeAttribute(ne);for(let ne in $)ne!="class"&&ne!="style"&&ne!="nodeName"&&$[ne]!=L[ne]&&N.setAttribute(ne,$[ne]);if(L.class!=$.class){let ne=L.class?L.class.split(" ").filter(Boolean):[],ee=$.class?$.class.split(" ").filter(Boolean):[];for(let ae=0;ae<ne.length;ae++)ee.indexOf(ne[ae])==-1&&N.classList.remove(ne[ae]);for(let ae=0;ae<ee.length;ae++)ne.indexOf(ee[ae])==-1&&N.classList.add(ee[ae]);N.classList.length==0&&N.removeAttribute("class")}if(L.style!=$.style){if(L.style){let ne=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,ee;for(;ee=ne.exec(L.style);)N.style.removeProperty(ee[1])}$.style&&(N.style.cssText+=$.style)}}function Nt(N,L,$){return sn(N,N,it,Tt(L,$,N.nodeType!=1))}function wt(N,L){if(N.length!=L.length)return!1;for(let $=0;$<N.length;$++)if(!N[$].type.eq(L[$].type))return!1;return!0}function yt(N){let L=N.nextSibling;return N.parentNode.removeChild(N),L}class Qe{constructor(L,$,ne){this.lock=$,this.view=ne,this.index=0,this.stack=[],this.changed=!1,this.top=L,this.preMatch=At(L.node.content,L)}destroyBetween(L,$){if(L!=$){for(let ne=L;ne<$;ne++)this.top.children[ne].destroy();this.top.children.splice(L,$-L),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(L,$,ne){let ee=0,ae=this.stack.length>>1,ve=Math.min(ae,L.length);for(;ee<ve&&(ee==ae-1?this.top:this.stack[ee+1<<1]).matchesMark(L[ee])&&L[ee].type.spec.spanning!==!1;)ee++;for(;ee<ae;)this.destroyRest(),this.top.dirty=Me,this.index=this.stack.pop(),this.top=this.stack.pop(),ae--;for(;ae<L.length;){this.stack.push(this.top,this.index+1);let Re=-1;for(let $e=this.index;$e<Math.min(this.index+3,this.top.children.length);$e++){let bt=this.top.children[$e];if(bt.matchesMark(L[ae])&&!this.isLocked(bt.dom)){Re=$e;break}}if(Re>-1)Re>this.index&&(this.changed=!0,this.destroyBetween(this.index,Re)),this.top=this.top.children[this.index];else{let $e=He.create(this.top,L[ae],$,ne);this.top.children.splice(this.index,0,$e),this.top=$e,this.changed=!0}this.index=0,ae++}}findNodeMatch(L,$,ne,ee){let ae=-1,ve;if(ee>=this.preMatch.index&&(ve=this.preMatch.matches[ee-this.preMatch.index]).parent==this.top&&ve.matchesNode(L,$,ne))ae=this.top.children.indexOf(ve,this.index);else for(let Re=this.index,$e=Math.min(this.top.children.length,Re+5);Re<$e;Re++){let bt=this.top.children[Re];if(bt.matchesNode(L,$,ne)&&!this.preMatch.matched.has(bt)){ae=Re;break}}return ae<0?!1:(this.destroyBetween(this.index,ae),this.index++,!0)}updateNodeAt(L,$,ne,ee,ae){let ve=this.top.children[ee];return ve.dirty==Te&&ve.dom==ve.contentDOM&&(ve.dirty=Xe),ve.update(L,$,ne,ae)?(this.destroyBetween(this.index,ee),this.index++,!0):!1}findIndexWithChild(L){for(;;){let $=L.parentNode;if(!$)return-1;if($==this.top.contentDOM){let ne=L.pmViewDesc;if(ne){for(let ee=this.index;ee<this.top.children.length;ee++)if(this.top.children[ee]==ne)return ee}return-1}L=$}}updateNextNode(L,$,ne,ee,ae){for(let ve=this.index;ve<this.top.children.length;ve++){let Re=this.top.children[ve];if(Re instanceof Ve){let $e=this.preMatch.matched.get(Re);if($e!=null&&$e!=ae)return!1;let bt=Re.dom;if(!(this.isLocked(bt)&&!(L.isText&&Re.node&&Re.node.isText&&Re.nodeDOM.nodeValue==L.text&&Re.dirty!=Te&&wt($,Re.outerDeco)))&&Re.update(L,$,ne,ee))return this.destroyBetween(this.index,ve),Re.dom!=bt&&(this.changed=!0),this.index++,!0;break}}return!1}addNode(L,$,ne,ee,ae){this.top.children.splice(this.index++,0,Ve.create(this.top,L,$,ne,ee,ae)),this.changed=!0}placeWidget(L,$,ne){let ee=this.index<this.top.children.length?this.top.children[this.index]:null;if(ee&&ee.matchesWidget(L)&&(L==ee.widget||!ee.widget.type.toDOM.parentNode))this.index++;else{let ae=new De(this.top,L,$,ne);this.top.children.splice(this.index++,0,ae),this.changed=!0}}addTextblockHacks(){let L=this.top.children[this.index-1],$=this.top;for(;L instanceof He;)$=L,L=$.children[$.children.length-1];(!L||!(L instanceof se)||/\n$/.test(L.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(L.node.text))&&((T||H)&&L&&L.dom.contentEditable=="false"&&this.addHackNode("IMG",$),this.addHackNode("BR",this.top))}addHackNode(L,$){if($==this.top&&this.index<$.children.length&&$.children[this.index].matchesHack(L))this.index++;else{let ne=document.createElement(L);L=="IMG"&&(ne.className="ProseMirror-separator",ne.alt=""),L=="BR"&&(ne.className="ProseMirror-trailingBreak");let ee=new Se(this.top,[],ne,null);$!=this.top?$.children.push(ee):$.children.splice(this.index++,0,ee),this.changed=!0}}isLocked(L){return this.lock&&(L==this.lock||L.nodeType==1&&L.contains(this.lock.parentNode))}}function At(N,L){let $=L,ne=$.children.length,ee=N.childCount,ae=new Map,ve=[];e:for(;ee>0;){let Re;for(;;)if(ne){let bt=$.children[ne-1];if(bt instanceof He)$=bt,ne=bt.children.length;else{Re=bt,ne--;break}}else{if($==L)break e;ne=$.parent.children.indexOf($),$=$.parent}let $e=Re.node;if(!!$e){if($e!=N.child(ee-1))break;--ee,ae.set(Re,ee),ve.push(Re)}}return{index:ee,matched:ae,matches:ve.reverse()}}function jt(N,L){return N.type.side-L.type.side}function ke(N,L,$,ne){let ee=L.locals(N),ae=0;if(ee.length==0){for(let bt=0;bt<N.childCount;bt++){let Ut=N.child(bt);ne(Ut,ee,L.forChild(ae,Ut),bt),ae+=Ut.nodeSize}return}let ve=0,Re=[],$e=null;for(let bt=0;;){if(ve<ee.length&&ee[ve].to==ae){let Nn=ee[ve++],Xn;for(;ve<ee.length&&ee[ve].to==ae;)(Xn||(Xn=[Nn])).push(ee[ve++]);if(Xn){Xn.sort(jt);for(let Lr=0;Lr<Xn.length;Lr++)$(Xn[Lr],bt,!!$e)}else $(Nn,bt,!!$e)}let Ut,dn;if($e)dn=-1,Ut=$e,$e=null;else if(bt<N.childCount)dn=bt,Ut=N.child(bt++);else break;for(let Nn=0;Nn<Re.length;Nn++)Re[Nn].to<=ae&&Re.splice(Nn--,1);for(;ve<ee.length&&ee[ve].from<=ae&&ee[ve].to>ae;)Re.push(ee[ve++]);let pn=ae+Ut.nodeSize;if(Ut.isText){let Nn=pn;ve<ee.length&&ee[ve].from<Nn&&(Nn=ee[ve].from);for(let Xn=0;Xn<Re.length;Xn++)Re[Xn].to<Nn&&(Nn=Re[Xn].to);Nn<pn&&($e=Ut.cut(Nn-ae),Ut=Ut.cut(0,Nn-ae),pn=Nn,dn=-1)}let jn=Ut.isInline&&!Ut.isLeaf?Re.filter(Nn=>!Nn.inline):Re.slice();ne(Ut,jn,L.forChild(ae,Ut),dn),ae=pn}}function tn(N){if(N.nodeName=="UL"||N.nodeName=="OL"){let L=N.style.cssText;N.style.cssText=L+"; list-style: square !important",window.getComputedStyle(N).listStyle,N.style.cssText=L}}function Pn(N,L){for(;;){if(N.nodeType==3)return N;if(N.nodeType==1&&L>0){if(N.childNodes.length>L&&N.childNodes[L].nodeType==3)return N.childNodes[L];N=N.childNodes[L-1],L=g(N)}else if(N.nodeType==1&&L<N.childNodes.length)N=N.childNodes[L],L=0;else return null}}function Ft(N,L,$,ne){for(let ee=0,ae=0;ee<N.childCount&&ae<=ne;){let ve=N.child(ee++),Re=ae;if(ae+=ve.nodeSize,!ve.isText)continue;let $e=ve.text;for(;ee<N.childCount;){let bt=N.child(ee++);if(ae+=bt.nodeSize,!bt.isText)break;$e+=bt.text}if(ae>=$){let bt=Re<ne?$e.lastIndexOf(L,ne-Re-1):-1;if(bt>=0&&bt+L.length+Re>=$)return Re+bt;if($==ne&&$e.length>=ne+L.length-Re&&$e.slice(ne-Re,ne-Re+L.length)==L)return ne}}return-1}function lt(N,L,$,ne,ee){let ae=[];for(let ve=0,Re=0;ve<N.length;ve++){let $e=N[ve],bt=Re,Ut=Re+=$e.size;bt>=$||Ut<=L?ae.push($e):(bt<L&&ae.push($e.slice(0,L-bt,ne)),ee&&(ae.push(ee),ee=void 0),Ut>$&&ae.push($e.slice($-bt,$e.size,ne)))}return ae}function Rt(N,L=null){let $=N.domSelectionRange(),ne=N.state.doc;if(!$.focusNode)return null;let ee=N.docView.nearestDesc($.focusNode),ae=ee&&ee.size==0,ve=N.docView.posFromDOM($.focusNode,$.focusOffset,1);if(ve<0)return null;let Re=ne.resolve(ve),$e,bt;if(r($)){for($e=Re;ee&&!ee.node;)ee=ee.parent;let Ut=ee.node;if(ee&&Ut.isAtom&&e.NodeSelection.isSelectable(Ut)&&ee.parent&&!(Ut.isInline&&O($.focusNode,$.focusOffset,ee.dom))){let dn=ee.posBefore;bt=new e.NodeSelection(ve==dn?Re:ne.resolve(dn))}}else{let Ut=N.docView.posFromDOM($.anchorNode,$.anchorOffset,1);if(Ut<0)return null;$e=ne.resolve(Ut)}if(!bt){let Ut=L=="pointer"||N.state.selection.head<Re.pos&&!ae?1:-1;bt=zr(N,$e,Re,Ut)}return bt}function ln(N){return N.editable?N.hasFocus():Rr(N)&&document.activeElement&&document.activeElement.contains(N.dom)}function Mt(N,L=!1){let $=N.state.selection;if(rr(N,$),!!ln(N)){if(!L&&N.input.mouseDown&&N.input.mouseDown.allowDefault&&H){let ne=N.domSelectionRange(),ee=N.domObserver.currentSelection;if(ne.anchorNode&&ee.anchorNode&&f(ne.anchorNode,ne.anchorOffset,ee.anchorNode,ee.anchorOffset)){N.input.mouseDown.delayedSelectionSync=!0,N.domObserver.setCurSelection();return}}if(N.domObserver.disconnectSelection(),N.cursorWrapper)Qn(N);else{let{anchor:ne,head:ee}=$,ae,ve;$t&&!($ instanceof e.TextSelection)&&($.$from.parent.inlineContent||(ae=nn(N,$.from)),!$.empty&&!$.$from.parent.inlineContent&&(ve=nn(N,$.to))),N.docView.setSelection(ne,ee,N.root,L),$t&&(ae&&Kt(ae),ve&&Kt(ve)),$.visible?N.dom.classList.remove("ProseMirror-hideselection"):(N.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Sn(N))}N.domObserver.setCurSelection(),N.domObserver.connectSelection()}}const $t=T||H&&C<63;function nn(N,L){let{node:$,offset:ne}=N.docView.domFromPos(L,0),ee=ne<$.childNodes.length?$.childNodes[ne]:null,ae=ne?$.childNodes[ne-1]:null;if(T&&ee&&ee.contentEditable=="false")return Bt(ee);if((!ee||ee.contentEditable=="false")&&(!ae||ae.contentEditable=="false")){if(ee)return Bt(ee);if(ae)return Bt(ae)}}function Bt(N){return N.contentEditable="true",T&&N.draggable&&(N.draggable=!1,N.wasDraggable=!0),N}function Kt(N){N.contentEditable="false",N.wasDraggable&&(N.draggable=!0,N.wasDraggable=null)}function Sn(N){let L=N.dom.ownerDocument;L.removeEventListener("selectionchange",N.input.hideSelectionGuard);let $=N.domSelectionRange(),ne=$.anchorNode,ee=$.anchorOffset;L.addEventListener("selectionchange",N.input.hideSelectionGuard=()=>{($.anchorNode!=ne||$.anchorOffset!=ee)&&(L.removeEventListener("selectionchange",N.input.hideSelectionGuard),setTimeout(()=>{(!ln(N)||N.state.selection.visible)&&N.dom.classList.remove("ProseMirror-hideselection")},20))})}function Qn(N){let L=N.domSelection(),$=document.createRange(),ne=N.cursorWrapper.dom,ee=ne.nodeName=="IMG";ee?$.setEnd(ne.parentNode,l(ne)+1):$.setEnd(ne,0),$.collapse(!1),L.removeAllRanges(),L.addRange($),!ee&&!N.state.selection.visible&&A&&_<=11&&(ne.disabled=!0,ne.disabled=!1)}function rr(N,L){if(L instanceof e.NodeSelection){let $=N.docView.descAt(L.from);$!=N.lastSelectedViewDesc&&(Mr(N),$&&$.selectNode(),N.lastSelectedViewDesc=$)}else Mr(N)}function Mr(N){N.lastSelectedViewDesc&&(N.lastSelectedViewDesc.parent&&N.lastSelectedViewDesc.deselectNode(),N.lastSelectedViewDesc=void 0)}function zr(N,L,$,ne){return N.someProp("createSelectionBetween",ee=>ee(N,L,$))||e.TextSelection.between(L,$,ne)}function dr(N){return N.editable&&!N.hasFocus()?!1:Rr(N)}function Rr(N){let L=N.domSelectionRange();if(!L.anchorNode)return!1;try{return N.dom.contains(L.anchorNode.nodeType==3?L.anchorNode.parentNode:L.anchorNode)&&(N.editable||N.dom.contains(L.focusNode.nodeType==3?L.focusNode.parentNode:L.focusNode))}catch($){return!1}}function _r(N){let L=N.docView.domFromPos(N.state.selection.anchor,0),$=N.domSelectionRange();return f(L.node,L.offset,$.anchorNode,$.anchorOffset)}function ro(N,L){let{$anchor:$,$head:ne}=N.selection,ee=L>0?$.max(ne):$.min(ne),ae=ee.parent.inlineContent?ee.depth?N.doc.resolve(L>0?ee.after():ee.before()):null:ee;return ae&&e.Selection.findFrom(ae,L)}function Dn(N,L){return N.dispatch(N.state.tr.setSelection(L).scrollIntoView()),!0}function ut(N,L,$){let ne=N.state.selection;if(ne instanceof e.TextSelection){if(!ne.empty||$.indexOf("s")>-1)return!1;if(N.endOfTextblock(L>0?"right":"left")){let ee=ro(N.state,L);return ee&&ee instanceof e.NodeSelection?Dn(N,ee):!1}else if(!(D&&$.indexOf("m")>-1)){let ee=ne.$head,ae=ee.textOffset?null:L<0?ee.nodeBefore:ee.nodeAfter,ve;if(!ae||ae.isText)return!1;let Re=L<0?ee.pos-ae.nodeSize:ee.pos;return ae.isAtom||(ve=N.docView.descAt(Re))&&!ve.contentDOM?e.NodeSelection.isSelectable(ae)?Dn(N,new e.NodeSelection(L<0?N.state.doc.resolve(ee.pos-ae.nodeSize):ee)):U?Dn(N,new e.TextSelection(N.state.doc.resolve(L<0?Re:Re+ae.nodeSize))):!1:!1}}else{if(ne instanceof e.NodeSelection&&ne.node.isInline)return Dn(N,new e.TextSelection(L>0?ne.$to:ne.$from));{let ee=ro(N.state,L);return ee?Dn(N,ee):!1}}}function fn(N){return N.nodeType==3?N.nodeValue.length:N.childNodes.length}function On(N){let L=N.pmViewDesc;return L&&L.size==0&&(N.nextSibling||N.nodeName!="BR")}function Ot(N){let L=N.domSelectionRange(),$=L.focusNode,ne=L.focusOffset;if(!$)return;let ee,ae,ve=!1;for(M&&$.nodeType==1&&ne<fn($)&&On($.childNodes[ne])&&(ve=!0);;)if(ne>0){if($.nodeType!=1)break;{let Re=$.childNodes[ne-1];if(On(Re))ee=$,ae=--ne;else if(Re.nodeType==3)$=Re,ne=$.nodeValue.length;else break}}else{if(Zt($))break;{let Re=$.previousSibling;for(;Re&&On(Re);)ee=$.parentNode,ae=l(Re),Re=Re.previousSibling;if(Re)$=Re,ne=fn($);else{if($=$.parentNode,$==N.dom)break;ne=0}}}ve?Vn(N,$,ne):ee&&Vn(N,ee,ae)}function kt(N){let L=N.domSelectionRange(),$=L.focusNode,ne=L.focusOffset;if(!$)return;let ee=fn($),ae,ve;for(;;)if(ne<ee){if($.nodeType!=1)break;let Re=$.childNodes[ne];if(On(Re))ae=$,ve=++ne;else break}else{if(Zt($))break;{let Re=$.nextSibling;for(;Re&&On(Re);)ae=Re.parentNode,ve=l(Re)+1,Re=Re.nextSibling;if(Re)$=Re,ne=0,ee=fn($);else{if($=$.parentNode,$==N.dom)break;ne=ee=0}}}ae&&Vn(N,ae,ve)}function Zt(N){let L=N.pmViewDesc;return L&&L.node&&L.node.isBlock}function Vn(N,L,$){let ne=N.domSelection();if(r(ne)){let ae=document.createRange();ae.setEnd(L,$),ae.setStart(L,$),ne.removeAllRanges(),ne.addRange(ae)}else ne.extend&&ne.extend(L,$);N.domObserver.setCurSelection();let{state:ee}=N;setTimeout(()=>{N.state==ee&&Mt(N)},50)}function Gn(N,L,$){let ne=N.state.selection;if(ne instanceof e.TextSelection&&!ne.empty||$.indexOf("s")>-1||D&&$.indexOf("m")>-1)return!1;let{$from:ee,$to:ae}=ne;if(!ee.parent.inlineContent||N.endOfTextblock(L<0?"up":"down")){let ve=ro(N.state,L);if(ve&&ve instanceof e.NodeSelection)return Dn(N,ve)}if(!ee.parent.inlineContent){let ve=L<0?ee:ae,Re=ne instanceof e.AllSelection?e.Selection.near(ve,L):e.Selection.findFrom(ve,L);return Re?Dn(N,Re):!1}return!1}function tr(N,L){if(!(N.state.selection instanceof e.TextSelection))return!0;let{$head:$,$anchor:ne,empty:ee}=N.state.selection;if(!$.sameParent(ne))return!0;if(!ee)return!1;if(N.endOfTextblock(L>0?"forward":"backward"))return!0;let ae=!$.textOffset&&(L<0?$.nodeBefore:$.nodeAfter);if(ae&&!ae.isText){let ve=N.state.tr;return L<0?ve.delete($.pos-ae.nodeSize,$.pos):ve.delete($.pos,$.pos+ae.nodeSize),N.dispatch(ve),!0}return!1}function rn(N,L,$){N.domObserver.stop(),L.contentEditable=$,N.domObserver.start()}function _n(N){if(!T||N.state.selection.$head.parentOffset>0)return!1;let{focusNode:L,focusOffset:$}=N.domSelectionRange();if(L&&L.nodeType==1&&$==0&&L.firstChild&&L.firstChild.contentEditable=="false"){let ne=L.firstChild;rn(N,ne,"true"),setTimeout(()=>rn(N,ne,"false"),20)}return!1}function Yn(N){let L="";return N.ctrlKey&&(L+="c"),N.metaKey&&(L+="m"),N.altKey&&(L+="a"),N.shiftKey&&(L+="s"),L}function cr(N,L){let $=L.keyCode,ne=Yn(L);return $==8||D&&$==72&&ne=="c"?tr(N,-1)||Ot(N):$==46||D&&$==68&&ne=="c"?tr(N,1)||kt(N):$==13||$==27?!0:$==37||D&&$==66&&ne=="c"?ut(N,-1,ne)||Ot(N):$==39||D&&$==70&&ne=="c"?ut(N,1,ne)||kt(N):$==38||D&&$==80&&ne=="c"?Gn(N,-1,ne)||Ot(N):$==40||D&&$==78&&ne=="c"?_n(N)||Gn(N,1,ne)||kt(N):ne==(D?"m":"c")&&($==66||$==73||$==89||$==90)}function Jt(N,L){N.someProp("transformCopied",jn=>{L=jn(L,N)});let $=[],{content:ne,openStart:ee,openEnd:ae}=L;for(;ee>1&&ae>1&&ne.childCount==1&&ne.firstChild.childCount==1;){ee--,ae--;let jn=ne.firstChild;$.push(jn.type.name,jn.attrs!=jn.type.defaultAttrs?jn.attrs:null),ne=jn.content}let ve=N.someProp("clipboardSerializer")||a.DOMSerializer.fromSchema(N.state.schema),Re=$n(),$e=Re.createElement("div");$e.appendChild(ve.serializeFragment(ne,{document:Re}));let bt=$e.firstChild,Ut,dn=0;for(;bt&&bt.nodeType==1&&(Ut=qt[bt.nodeName.toLowerCase()]);){for(let jn=Ut.length-1;jn>=0;jn--){let Nn=Re.createElement(Ut[jn]);for(;$e.firstChild;)Nn.appendChild($e.firstChild);$e.appendChild(Nn),dn++}bt=$e.firstChild}bt&&bt.nodeType==1&&bt.setAttribute("data-pm-slice",`${ee} ${ae}${dn?` -${dn}`:""} ${JSON.stringify($)}`);let pn=N.someProp("clipboardTextSerializer",jn=>jn(L,N))||L.content.textBetween(0,L.content.size,`

`);return{dom:$e,text:pn}}function cn(N,L,$,ne,ee){let ae=ee.parent.type.spec.code,ve,Re;if(!$&&!L)return null;let $e=L&&(ne||ae||!$);if($e){if(N.someProp("transformPastedText",pn=>{L=pn(L,ae||ne,N)}),ae)return L?new a.Slice(a.Fragment.from(N.state.schema.text(L.replace(/\r\n?/g,`
`))),0,0):a.Slice.empty;let dn=N.someProp("clipboardTextParser",pn=>pn(L,ee,ne,N));if(dn)Re=dn;else{let pn=ee.marks(),{schema:jn}=N.state,Nn=a.DOMSerializer.fromSchema(jn);ve=document.createElement("div"),L.split(/(?:\r\n?|\n)+/).forEach(Xn=>{let Lr=ve.appendChild(document.createElement("p"));Xn&&Lr.appendChild(Nn.serializeNode(jn.text(Xn,pn)))})}}else N.someProp("transformPastedHTML",dn=>{$=dn($,N)}),ve=Wn($),U&&Jn(ve);let bt=ve&&ve.querySelector("[data-pm-slice]"),Ut=bt&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(bt.getAttribute("data-pm-slice")||"");if(Ut&&Ut[3])for(let dn=+Ut[3];dn>0;dn--){let pn=ve.firstChild;for(;pn&&pn.nodeType!=1;)pn=pn.nextSibling;if(!pn)break;ve=pn}if(Re||(Re=(N.someProp("clipboardParser")||N.someProp("domParser")||a.DOMParser.fromSchema(N.state.schema)).parseSlice(ve,{preserveWhitespace:!!($e||Ut),context:ee,ruleFromNode(pn){return pn.nodeName=="BR"&&!pn.nextSibling&&pn.parentNode&&!bn.test(pn.parentNode.nodeName)?{ignore:!0}:null}})),Ut)Re=Tr(Lt(Re,+Ut[1],+Ut[2]),Ut[4]);else if(Re=a.Slice.maxOpen(zn(Re.content,ee),!0),Re.openStart||Re.openEnd){let dn=0,pn=0;for(let jn=Re.content.firstChild;dn<Re.openStart&&!jn.type.spec.isolating;dn++,jn=jn.firstChild);for(let jn=Re.content.lastChild;pn<Re.openEnd&&!jn.type.spec.isolating;pn++,jn=jn.lastChild);Re=Lt(Re,dn,pn)}return N.someProp("transformPasted",dn=>{Re=dn(Re,N)}),Re}const bn=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function zn(N,L){if(N.childCount<2)return N;for(let $=L.depth;$>=0;$--){let ee=L.node($).contentMatchAt(L.index($)),ae,ve=[];if(N.forEach(Re=>{if(!ve)return;let $e=ee.findWrapping(Re.type),bt;if(!$e)return ve=null;if(bt=ve.length&&ae.length&&xn($e,ae,Re,ve[ve.length-1],0))ve[ve.length-1]=bt;else{ve.length&&(ve[ve.length-1]=mr(ve[ve.length-1],ae.length));let Ut=Rn(Re,$e);ve.push(Ut),ee=ee.matchType(Ut.type),ae=$e}}),ve)return a.Fragment.from(ve)}return N}function Rn(N,L,$=0){for(let ne=L.length-1;ne>=$;ne--)N=L[ne].create(null,a.Fragment.from(N));return N}function xn(N,L,$,ne,ee){if(ee<N.length&&ee<L.length&&N[ee]==L[ee]){let ae=xn(N,L,$,ne.lastChild,ee+1);if(ae)return ne.copy(ne.content.replaceChild(ne.childCount-1,ae));if(ne.contentMatchAt(ne.childCount).matchType(ee==N.length-1?$.type:N[ee+1]))return ne.copy(ne.content.append(a.Fragment.from(Rn($,N,ee+1))))}}function mr(N,L){if(L==0)return N;let $=N.content.replaceChild(N.childCount-1,mr(N.lastChild,L-1)),ne=N.contentMatchAt(N.childCount).fillBefore(a.Fragment.empty,!0);return N.copy($.append(ne))}function Or(N,L,$,ne,ee,ae){let ve=L<0?N.firstChild:N.lastChild,Re=ve.content;return ee<ne-1&&(Re=Or(Re,L,$,ne,ee+1,ae)),ee>=$&&(Re=L<0?ve.contentMatchAt(0).fillBefore(Re,N.childCount>1||ae<=ee).append(Re):Re.append(ve.contentMatchAt(ve.childCount).fillBefore(a.Fragment.empty,!0))),N.replaceChild(L<0?0:N.childCount-1,ve.copy(Re))}function Lt(N,L,$){return L<N.openStart&&(N=new a.Slice(Or(N.content,-1,L,N.openStart,0,N.openEnd),L,N.openEnd)),$<N.openEnd&&(N=new a.Slice(Or(N.content,1,$,N.openEnd,0,0),N.openStart,$)),N}const qt={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let wn=null;function $n(){return wn||(wn=document.implementation.createHTMLDocument("title"))}function Wn(N){let L=/^(\s*<meta [^>]*>)*/.exec(N);L&&(N=N.slice(L[0].length));let $=$n().createElement("div"),ne=/<([a-z][^>\s]+)/i.exec(N),ee;if((ee=ne&&qt[ne[1].toLowerCase()])&&(N=ee.map(ae=>"<"+ae+">").join("")+N+ee.map(ae=>"</"+ae+">").reverse().join("")),$.innerHTML=N,ee)for(let ae=0;ae<ee.length;ae++)$=$.querySelector(ee[ae])||$;return $}function Jn(N){let L=N.querySelectorAll(H?"span:not([class]):not([style])":"span.Apple-converted-space");for(let $=0;$<L.length;$++){let ne=L[$];ne.childNodes.length==1&&ne.textContent=="\xA0"&&ne.parentNode&&ne.parentNode.replaceChild(N.ownerDocument.createTextNode(" "),ne)}}function Tr(N,L){if(!N.size)return N;let $=N.content.firstChild.type.schema,ne;try{ne=JSON.parse(L)}catch(Re){return N}let{content:ee,openStart:ae,openEnd:ve}=N;for(let Re=ne.length-2;Re>=0;Re-=2){let $e=$.nodes[ne[Re]];if(!$e||$e.hasRequiredAttrs())break;ee=a.Fragment.from($e.create(ne[Re+1],ee)),ae++,ve++}return new a.Slice(ee,ae,ve)}const Qr={},ao={},oo={touchstart:!0,touchmove:!0};class eo{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function bo(N){for(let L in Qr){let $=Qr[L];N.dom.addEventListener(L,N.input.eventHandlers[L]=ne=>{ft(N,ne)&&!Mo(N,ne)&&(N.editable||!(ne.type in ao))&&$(N,ne)},oo[L]?{passive:!0}:void 0)}T&&N.dom.addEventListener("input",()=>null),Co(N)}function zo(N,L){N.input.lastSelectionOrigin=L,N.input.lastSelectionTime=Date.now()}function Eo(N){N.domObserver.stop();for(let L in N.input.eventHandlers)N.dom.removeEventListener(L,N.input.eventHandlers[L]);clearTimeout(N.input.composingTimeout),clearTimeout(N.input.lastIOSEnterFallbackTimeout)}function Co(N){N.someProp("handleDOMEvents",L=>{for(let $ in L)N.input.eventHandlers[$]||N.dom.addEventListener($,N.input.eventHandlers[$]=ne=>Mo(N,ne))})}function Mo(N,L){return N.someProp("handleDOMEvents",$=>{let ne=$[L.type];return ne?ne(N,L)||L.defaultPrevented:!1})}function ft(N,L){if(!L.bubbles)return!0;if(L.defaultPrevented)return!1;for(let $=L.target;$!=N.dom;$=$.parentNode)if(!$||$.nodeType==11||$.pmViewDesc&&$.pmViewDesc.stopEvent(L))return!1;return!0}function qe(N,L){!Mo(N,L)&&Qr[L.type]&&(N.editable||!(L.type in ao))&&Qr[L.type](N,L)}ao.keydown=(N,L)=>{let $=L;if(N.input.shiftKey=$.keyCode==16||$.shiftKey,!Ln(N,$)&&(N.input.lastKeyCode=$.keyCode,N.input.lastKeyCodeTime=Date.now(),!(w&&H&&$.keyCode==13)))if($.keyCode!=229&&N.domObserver.forceFlush(),S&&$.keyCode==13&&!$.ctrlKey&&!$.altKey&&!$.metaKey){let ne=Date.now();N.input.lastIOSEnter=ne,N.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{N.input.lastIOSEnter==ne&&(N.someProp("handleKeyDown",ee=>ee(N,i(13,"Enter"))),N.input.lastIOSEnter=0)},200)}else N.someProp("handleKeyDown",ne=>ne(N,$))||cr(N,$)?$.preventDefault():zo(N,"key")},ao.keyup=(N,L)=>{L.keyCode==16&&(N.input.shiftKey=!1)},ao.keypress=(N,L)=>{let $=L;if(Ln(N,$)||!$.charCode||$.ctrlKey&&!$.altKey||D&&$.metaKey)return;if(N.someProp("handleKeyPress",ee=>ee(N,$))){$.preventDefault();return}let ne=N.state.selection;if(!(ne instanceof e.TextSelection)||!ne.$from.sameParent(ne.$to)){let ee=String.fromCharCode($.charCode);!/[\r\n]/.test(ee)&&!N.someProp("handleTextInput",ae=>ae(N,ne.$from.pos,ne.$to.pos,ee))&&N.dispatch(N.state.tr.insertText(ee).scrollIntoView()),$.preventDefault()}};function rt(N){return{left:N.clientX,top:N.clientY}}function mt(N,L){let $=L.x-N.clientX,ne=L.y-N.clientY;return $*$+ne*ne<100}function un(N,L,$,ne,ee){if(ne==-1)return!1;let ae=N.state.doc.resolve(ne);for(let ve=ae.depth+1;ve>0;ve--)if(N.someProp(L,Re=>ve>ae.depth?Re(N,$,ae.nodeAfter,ae.before(ve),ee,!0):Re(N,$,ae.node(ve),ae.before(ve),ee,!1)))return!0;return!1}function yn(N,L,$){N.focused||N.focus();let ne=N.state.tr.setSelection(L);$=="pointer"&&ne.setMeta("pointer",!0),N.dispatch(ne)}function An(N,L){if(L==-1)return!1;let $=N.state.doc.resolve(L),ne=$.nodeAfter;return ne&&ne.isAtom&&e.NodeSelection.isSelectable(ne)?(yn(N,new e.NodeSelection($),"pointer"),!0):!1}function Je(N,L){if(L==-1)return!1;let $=N.state.selection,ne,ee;$ instanceof e.NodeSelection&&(ne=$.node);let ae=N.state.doc.resolve(L);for(let ve=ae.depth+1;ve>0;ve--){let Re=ve>ae.depth?ae.nodeAfter:ae.node(ve);if(e.NodeSelection.isSelectable(Re)){ne&&$.$from.depth>0&&ve>=$.$from.depth&&ae.before($.$from.depth+1)==$.$from.pos?ee=ae.before($.$from.depth):ee=ae.before(ve);break}}return ee!=null?(yn(N,e.NodeSelection.create(N.state.doc,ee),"pointer"),!0):!1}function St(N,L,$,ne,ee){return un(N,"handleClickOn",L,$,ne)||N.someProp("handleClick",ae=>ae(N,L,ne))||(ee?Je(N,$):An(N,$))}function Gt(N,L,$,ne){return un(N,"handleDoubleClickOn",L,$,ne)||N.someProp("handleDoubleClick",ee=>ee(N,L,ne))}function vn(N,L,$,ne){return un(N,"handleTripleClickOn",L,$,ne)||N.someProp("handleTripleClick",ee=>ee(N,L,ne))||kn(N,$,ne)}function kn(N,L,$){if($.button!=0)return!1;let ne=N.state.doc;if(L==-1)return ne.inlineContent?(yn(N,e.TextSelection.create(ne,0,ne.content.size),"pointer"),!0):!1;let ee=ne.resolve(L);for(let ae=ee.depth+1;ae>0;ae--){let ve=ae>ee.depth?ee.nodeAfter:ee.node(ae),Re=ee.before(ae);if(ve.inlineContent)yn(N,e.TextSelection.create(ne,Re+1,Re+1+ve.content.size),"pointer");else if(e.NodeSelection.isSelectable(ve))yn(N,e.NodeSelection.create(ne,Re),"pointer");else continue;return!0}}function or(N){return tt(N)}const fr=D?"metaKey":"ctrlKey";Qr.mousedown=(N,L)=>{let $=L;N.input.shiftKey=$.shiftKey;let ne=or(N),ee=Date.now(),ae="singleClick";ee-N.input.lastClick.time<500&&mt($,N.input.lastClick)&&!$[fr]&&(N.input.lastClick.type=="singleClick"?ae="doubleClick":N.input.lastClick.type=="doubleClick"&&(ae="tripleClick")),N.input.lastClick={time:ee,x:$.clientX,y:$.clientY,type:ae};let ve=N.posAtCoords(rt($));!ve||(ae=="singleClick"?(N.input.mouseDown&&N.input.mouseDown.done(),N.input.mouseDown=new er(N,ve,$,!!ne)):(ae=="doubleClick"?Gt:vn)(N,ve.pos,ve.inside,$)?$.preventDefault():zo(N,"pointer"))};class er{constructor(L,$,ne,ee){this.view=L,this.pos=$,this.event=ne,this.flushed=ee,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=L.state.doc,this.selectNode=!!ne[fr],this.allowDefault=ne.shiftKey;let ae,ve;if($.inside>-1)ae=L.state.doc.nodeAt($.inside),ve=$.inside;else{let Ut=L.state.doc.resolve($.pos);ae=Ut.parent,ve=Ut.depth?Ut.before():0}const Re=ee?null:ne.target,$e=Re?L.docView.nearestDesc(Re,!0):null;this.target=$e?$e.dom:null;let{selection:bt}=L.state;(ne.button==0&&ae.type.spec.draggable&&ae.type.spec.selectable!==!1||bt instanceof e.NodeSelection&&bt.from<=ve&&bt.to>ve)&&(this.mightDrag={node:ae,pos:ve,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&M&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),L.root.addEventListener("mouseup",this.up=this.up.bind(this)),L.root.addEventListener("mousemove",this.move=this.move.bind(this)),zo(L,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Mt(this.view)),this.view.input.mouseDown=null}up(L){if(this.done(),!this.view.dom.contains(L.target))return;let $=this.pos;this.view.state.doc!=this.startDoc&&($=this.view.posAtCoords(rt(L))),this.updateAllowDefault(L),this.allowDefault||!$?zo(this.view,"pointer"):St(this.view,$.pos,$.inside,L,this.selectNode)?L.preventDefault():L.button==0&&(this.flushed||T&&this.mightDrag&&!this.mightDrag.node.isAtom||H&&!this.view.state.selection.visible&&Math.min(Math.abs($.pos-this.view.state.selection.from),Math.abs($.pos-this.view.state.selection.to))<=2)?(yn(this.view,e.Selection.near(this.view.state.doc.resolve($.pos)),"pointer"),L.preventDefault()):zo(this.view,"pointer")}move(L){this.updateAllowDefault(L),zo(this.view,"pointer"),L.buttons==0&&this.done()}updateAllowDefault(L){!this.allowDefault&&(Math.abs(this.event.x-L.clientX)>4||Math.abs(this.event.y-L.clientY)>4)&&(this.allowDefault=!0)}}Qr.touchstart=N=>{N.input.lastTouch=Date.now(),or(N),zo(N,"pointer")},Qr.touchmove=N=>{N.input.lastTouch=Date.now(),zo(N,"pointer")},Qr.contextmenu=N=>or(N);function Ln(N,L){return N.composing?!0:T&&Math.abs(L.timeStamp-N.input.compositionEndedAt)<500?(N.input.compositionEndedAt=-2e8,!0):!1}const ur=w?5e3:-1;ao.compositionstart=ao.compositionupdate=N=>{if(!N.composing){N.domObserver.flush();let{state:L}=N,$=L.selection.$from;if(L.selection.empty&&(L.storedMarks||!$.textOffset&&$.parentOffset&&$.nodeBefore.marks.some(ne=>ne.type.spec.inclusive===!1)))N.markCursor=N.state.storedMarks||$.marks(),tt(N,!0),N.markCursor=null;else if(tt(N),M&&L.selection.empty&&$.parentOffset&&!$.textOffset&&$.nodeBefore.marks.length){let ne=N.domSelectionRange();for(let ee=ne.focusNode,ae=ne.focusOffset;ee&&ee.nodeType==1&&ae!=0;){let ve=ae<0?ee.lastChild:ee.childNodes[ae-1];if(!ve)break;if(ve.nodeType==3){N.domSelection().collapse(ve,ve.nodeValue.length);break}else ee=ve,ae=-1}}N.input.composing=!0}br(N,ur)},ao.compositionend=(N,L)=>{N.composing&&(N.input.composing=!1,N.input.compositionEndedAt=L.timeStamp,br(N,20))};function br(N,L){clearTimeout(N.input.composingTimeout),L>-1&&(N.input.composingTimeout=setTimeout(()=>tt(N),L))}function et(N){for(N.composing&&(N.input.composing=!1,N.input.compositionEndedAt=Ge());N.input.compositionNodes.length>0;)N.input.compositionNodes.pop().markParentsDirty()}function Ge(){let N=document.createEvent("Event");return N.initEvent("event",!0,!0),N.timeStamp}function tt(N,L=!1){if(!(w&&N.domObserver.flushingSoon>=0)){if(N.domObserver.forceFlush(),et(N),L||N.docView&&N.docView.dirty){let $=Rt(N);return $&&!$.eq(N.state.selection)?N.dispatch(N.state.tr.setSelection($)):N.updateState(N.state),!0}return!1}}function Pt(N,L){if(!N.dom.parentNode)return;let $=N.dom.parentNode.appendChild(document.createElement("div"));$.appendChild(L),$.style.cssText="position: fixed; left: -10000px; top: 10px";let ne=getSelection(),ee=document.createRange();ee.selectNodeContents(L),N.dom.blur(),ne.removeAllRanges(),ne.addRange(ee),setTimeout(()=>{$.parentNode&&$.parentNode.removeChild($),N.focus()},50)}const gt=A&&_<15||S&&V<604;Qr.copy=ao.cut=(N,L)=>{let $=L,ne=N.state.selection,ee=$.type=="cut";if(ne.empty)return;let ae=gt?null:$.clipboardData,ve=ne.content(),{dom:Re,text:$e}=Jt(N,ve);ae?($.preventDefault(),ae.clearData(),ae.setData("text/html",Re.innerHTML),ae.setData("text/plain",$e)):Pt(N,Re),ee&&N.dispatch(N.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function me(N){return N.openStart==0&&N.openEnd==0&&N.content.childCount==1?N.content.firstChild:null}function fe(N,L){if(!N.dom.parentNode)return;let $=N.input.shiftKey||N.state.selection.$from.parent.type.spec.code,ne=N.dom.parentNode.appendChild(document.createElement($?"textarea":"div"));$||(ne.contentEditable="true"),ne.style.cssText="position: fixed; left: -10000px; top: 10px",ne.focus(),setTimeout(()=>{N.focus(),ne.parentNode&&ne.parentNode.removeChild(ne),$?Ee(N,ne.value,null,N.input.shiftKey,L):Ee(N,ne.textContent,ne.innerHTML,N.input.shiftKey,L)},50)}function Ee(N,L,$,ne,ee){let ae=cn(N,L,$,ne,N.state.selection.$from);if(N.someProp("handlePaste",$e=>$e(N,ee,ae||a.Slice.empty)))return!0;if(!ae)return!1;let ve=me(ae),Re=ve?N.state.tr.replaceSelectionWith(ve,N.input.shiftKey):N.state.tr.replaceSelection(ae);return N.dispatch(Re.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}ao.paste=(N,L)=>{let $=L;if(N.composing&&!w)return;let ne=gt?null:$.clipboardData;ne&&Ee(N,ne.getData("text/plain"),ne.getData("text/html"),N.input.shiftKey,$)?$.preventDefault():fe(N,$)};class Ue{constructor(L,$){this.slice=L,this.move=$}}const Ye=D?"altKey":"ctrlKey";Qr.dragstart=(N,L)=>{let $=L,ne=N.input.mouseDown;if(ne&&ne.done(),!$.dataTransfer)return;let ee=N.state.selection,ae=ee.empty?null:N.posAtCoords(rt($));if(!(ae&&ae.pos>=ee.from&&ae.pos<=(ee instanceof e.NodeSelection?ee.to-1:ee.to))){if(ne&&ne.mightDrag)N.dispatch(N.state.tr.setSelection(e.NodeSelection.create(N.state.doc,ne.mightDrag.pos)));else if($.target&&$.target.nodeType==1){let bt=N.docView.nearestDesc($.target,!0);bt&&bt.node.type.spec.draggable&&bt!=N.docView&&N.dispatch(N.state.tr.setSelection(e.NodeSelection.create(N.state.doc,bt.posBefore)))}}let ve=N.state.selection.content(),{dom:Re,text:$e}=Jt(N,ve);$.dataTransfer.clearData(),$.dataTransfer.setData(gt?"Text":"text/html",Re.innerHTML),$.dataTransfer.effectAllowed="copyMove",gt||$.dataTransfer.setData("text/plain",$e),N.dragging=new Ue(ve,!$[Ye])},Qr.dragend=N=>{let L=N.dragging;window.setTimeout(()=>{N.dragging==L&&(N.dragging=null)},50)},ao.dragover=ao.dragenter=(N,L)=>L.preventDefault(),ao.drop=(N,L)=>{let $=L,ne=N.dragging;if(N.dragging=null,!$.dataTransfer)return;let ee=N.posAtCoords(rt($));if(!ee)return;let ae=N.state.doc.resolve(ee.pos),ve=ne&&ne.slice;ve?N.someProp("transformPasted",Nn=>{ve=Nn(ve,N)}):ve=cn(N,$.dataTransfer.getData(gt?"Text":"text/plain"),gt?null:$.dataTransfer.getData("text/html"),!1,ae);let Re=!!(ne&&!$[Ye]);if(N.someProp("handleDrop",Nn=>Nn(N,$,ve||a.Slice.empty,Re))){$.preventDefault();return}if(!ve)return;$.preventDefault();let $e=ve?Object(o.dropPoint)(N.state.doc,ae.pos,ve):ae.pos;$e==null&&($e=ae.pos);let bt=N.state.tr;Re&&bt.deleteSelection();let Ut=bt.mapping.map($e),dn=ve.openStart==0&&ve.openEnd==0&&ve.content.childCount==1,pn=bt.doc;if(dn?bt.replaceRangeWith(Ut,Ut,ve.content.firstChild):bt.replaceRange(Ut,Ut,ve),bt.doc.eq(pn))return;let jn=bt.doc.resolve(Ut);if(dn&&e.NodeSelection.isSelectable(ve.content.firstChild)&&jn.nodeAfter&&jn.nodeAfter.sameMarkup(ve.content.firstChild))bt.setSelection(new e.NodeSelection(jn));else{let Nn=bt.mapping.map($e);bt.mapping.maps[bt.mapping.maps.length-1].forEach((Xn,Lr,Wr,Kr)=>Nn=Kr),bt.setSelection(zr(N,jn,bt.doc.resolve(Nn)))}N.focus(),N.dispatch(bt.setMeta("uiEvent","drop"))},Qr.focus=N=>{N.input.lastFocus=Date.now(),N.focused||(N.domObserver.stop(),N.dom.classList.add("ProseMirror-focused"),N.domObserver.start(),N.focused=!0,setTimeout(()=>{N.docView&&N.hasFocus()&&!N.domObserver.currentSelection.eq(N.domSelectionRange())&&Mt(N)},20))},Qr.blur=(N,L)=>{let $=L;N.focused&&(N.domObserver.stop(),N.dom.classList.remove("ProseMirror-focused"),N.domObserver.start(),$.relatedTarget&&N.dom.contains($.relatedTarget)&&N.domObserver.currentSelection.clear(),N.focused=!1)},Qr.beforeinput=(N,L)=>{if(H&&w&&L.inputType=="deleteContentBackward"){N.domObserver.flushSoon();let{domChangeCount:ne}=N.input;setTimeout(()=>{if(N.input.domChangeCount!=ne||(N.dom.blur(),N.focus(),N.someProp("handleKeyDown",ae=>ae(N,i(8,"Backspace")))))return;let{$cursor:ee}=N.state.selection;ee&&ee.pos>0&&N.dispatch(N.state.tr.delete(ee.pos-1,ee.pos).scrollIntoView())},50)}};for(let N in ao)Qr[N]=ao[N];function ct(N,L){if(N==L)return!0;for(let $ in N)if(N[$]!==L[$])return!1;for(let $ in L)if(!($ in N))return!1;return!0}class Yt{constructor(L,$){this.toDOM=L,this.spec=$||Fn,this.side=this.spec.side||0}map(L,$,ne,ee){let{pos:ae,deleted:ve}=L.mapResult($.from+ee,this.side<0?-1:1);return ve?null:new hn(ae-ne,ae-ne,this)}valid(){return!0}eq(L){return this==L||L instanceof Yt&&(this.spec.key&&this.spec.key==L.spec.key||this.toDOM==L.toDOM&&ct(this.spec,L.spec))}destroy(L){this.spec.destroy&&this.spec.destroy(L)}}class Qt{constructor(L,$){this.attrs=L,this.spec=$||Fn}map(L,$,ne,ee){let ae=L.map($.from+ee,this.spec.inclusiveStart?-1:1)-ne,ve=L.map($.to+ee,this.spec.inclusiveEnd?1:-1)-ne;return ae>=ve?null:new hn(ae,ve,this)}valid(L,$){return $.from<$.to}eq(L){return this==L||L instanceof Qt&&ct(this.attrs,L.attrs)&&ct(this.spec,L.spec)}static is(L){return L.type instanceof Qt}destroy(){}}class En{constructor(L,$){this.attrs=L,this.spec=$||Fn}map(L,$,ne,ee){let ae=L.mapResult($.from+ee,1);if(ae.deleted)return null;let ve=L.mapResult($.to+ee,-1);return ve.deleted||ve.pos<=ae.pos?null:new hn(ae.pos-ne,ve.pos-ne,this)}valid(L,$){let{index:ne,offset:ee}=L.content.findIndex($.from),ae;return ee==$.from&&!(ae=L.child(ne)).isText&&ee+ae.nodeSize==$.to}eq(L){return this==L||L instanceof En&&ct(this.attrs,L.attrs)&&ct(this.spec,L.spec)}destroy(){}}class hn{constructor(L,$,ne){this.from=L,this.to=$,this.type=ne}copy(L,$){return new hn(L,$,this.type)}eq(L,$=0){return this.type.eq(L.type)&&this.from+$==L.from&&this.to+$==L.to}map(L,$,ne){return this.type.map(L,this,$,ne)}static widget(L,$,ne){return new hn(L,L,new Yt($,ne))}static inline(L,$,ne,ee){return new hn(L,$,new Qt(ne,ee))}static node(L,$,ne,ee){return new hn(L,$,new En(ne,ee))}get spec(){return this.type.spec}get inline(){return this.type instanceof Qt}}const In=[],Fn={};class Un{constructor(L,$){this.local=L.length?L:In,this.children=$.length?$:In}static create(L,$){return $.length?Ur($,L,0,Fn):nr}find(L,$,ne){let ee=[];return this.findInner(L==null?0:L,$==null?1e9:$,ee,0,ne),ee}findInner(L,$,ne,ee,ae){for(let ve=0;ve<this.local.length;ve++){let Re=this.local[ve];Re.from<=$&&Re.to>=L&&(!ae||ae(Re.spec))&&ne.push(Re.copy(Re.from+ee,Re.to+ee))}for(let ve=0;ve<this.children.length;ve+=3)if(this.children[ve]<$&&this.children[ve+1]>L){let Re=this.children[ve]+1;this.children[ve+2].findInner(L-Re,$-Re,ne,ee+Re,ae)}}map(L,$,ne){return this==nr||L.maps.length==0?this:this.mapInner(L,$,0,0,ne||Fn)}mapInner(L,$,ne,ee,ae){let ve;for(let Re=0;Re<this.local.length;Re++){let $e=this.local[Re].map(L,ne,ee);$e&&$e.type.valid($,$e)?(ve||(ve=[])).push($e):ae.onRemove&&ae.onRemove(this.local[Re].spec)}return this.children.length?Hr(this.children,ve||[],L,$,ne,ee,ae):ve?new Un(ve.sort(Cr),In):nr}add(L,$){return $.length?this==nr?Un.create(L,$):this.addInner(L,$,0):this}addInner(L,$,ne){let ee,ae=0;L.forEach((Re,$e)=>{let bt=$e+ne,Ut;if(!!(Ut=so($,Re,bt))){for(ee||(ee=this.children.slice());ae<ee.length&&ee[ae]<$e;)ae+=3;ee[ae]==$e?ee[ae+2]=ee[ae+2].addInner(Re,Ut,bt+1):ee.splice(ae,0,$e,$e+Re.nodeSize,Ur(Ut,Re,bt+1,Fn)),ae+=3}});let ve=Br(ae?Pr($):$,-ne);for(let Re=0;Re<ve.length;Re++)ve[Re].type.valid(L,ve[Re])||ve.splice(Re--,1);return new Un(ve.length?this.local.concat(ve).sort(Cr):this.local,ee||this.children)}remove(L){return L.length==0||this==nr?this:this.removeInner(L,0)}removeInner(L,$){let ne=this.children,ee=this.local;for(let ae=0;ae<ne.length;ae+=3){let ve,Re=ne[ae]+$,$e=ne[ae+1]+$;for(let Ut=0,dn;Ut<L.length;Ut++)(dn=L[Ut])&&dn.from>Re&&dn.to<$e&&(L[Ut]=null,(ve||(ve=[])).push(dn));if(!ve)continue;ne==this.children&&(ne=this.children.slice());let bt=ne[ae+2].removeInner(ve,Re+1);bt!=nr?ne[ae+2]=bt:(ne.splice(ae,3),ae-=3)}if(ee.length){for(let ae=0,ve;ae<L.length;ae++)if(ve=L[ae])for(let Re=0;Re<ee.length;Re++)ee[Re].eq(ve,$)&&(ee==this.local&&(ee=this.local.slice()),ee.splice(Re--,1))}return ne==this.children&&ee==this.local?this:ee.length||ne.length?new Un(ee,ne):nr}forChild(L,$){if(this==nr)return this;if($.isLeaf)return Un.empty;let ne,ee;for(let Re=0;Re<this.children.length;Re+=3)if(this.children[Re]>=L){this.children[Re]==L&&(ne=this.children[Re+2]);break}let ae=L+1,ve=ae+$.content.size;for(let Re=0;Re<this.local.length;Re++){let $e=this.local[Re];if($e.from<ve&&$e.to>ae&&$e.type instanceof Qt){let bt=Math.max(ae,$e.from)-ae,Ut=Math.min(ve,$e.to)-ae;bt<Ut&&(ee||(ee=[])).push($e.copy(bt,Ut))}}if(ee){let Re=new Un(ee.sort(Cr),In);return ne?new jr([Re,ne]):Re}return ne||nr}eq(L){if(this==L)return!0;if(!(L instanceof Un)||this.local.length!=L.local.length||this.children.length!=L.children.length)return!1;for(let $=0;$<this.local.length;$++)if(!this.local[$].eq(L.local[$]))return!1;for(let $=0;$<this.children.length;$+=3)if(this.children[$]!=L.children[$]||this.children[$+1]!=L.children[$+1]||!this.children[$+2].eq(L.children[$+2]))return!1;return!0}locals(L){return io(this.localsInner(L))}localsInner(L){if(this==nr)return In;if(L.inlineContent||!this.local.some(Qt.is))return this.local;let $=[];for(let ne=0;ne<this.local.length;ne++)this.local[ne].type instanceof Qt||$.push(this.local[ne]);return $}}Un.empty=new Un([],[]),Un.removeOverlap=io;const nr=Un.empty;class jr{constructor(L){this.members=L}map(L,$){const ne=this.members.map(ee=>ee.map(L,$,Fn));return jr.from(ne)}forChild(L,$){if($.isLeaf)return Un.empty;let ne=[];for(let ee=0;ee<this.members.length;ee++){let ae=this.members[ee].forChild(L,$);ae!=nr&&(ae instanceof jr?ne=ne.concat(ae.members):ne.push(ae))}return jr.from(ne)}eq(L){if(!(L instanceof jr)||L.members.length!=this.members.length)return!1;for(let $=0;$<this.members.length;$++)if(!this.members[$].eq(L.members[$]))return!1;return!0}locals(L){let $,ne=!0;for(let ee=0;ee<this.members.length;ee++){let ae=this.members[ee].localsInner(L);if(!!ae.length)if(!$)$=ae;else{ne&&($=$.slice(),ne=!1);for(let ve=0;ve<ae.length;ve++)$.push(ae[ve])}}return $?io(ne?$:$.sort(Cr)):In}static from(L){switch(L.length){case 0:return nr;case 1:return L[0];default:return new jr(L.every($=>$ instanceof Un)?L:L.reduce(($,ne)=>$.concat(ne instanceof Un?ne:ne.members),[]))}}}function Hr(N,L,$,ne,ee,ae,ve){let Re=N.slice();for(let bt=0,Ut=ae;bt<$.maps.length;bt++){let dn=0;$.maps[bt].forEach((pn,jn,Nn,Xn)=>{let Lr=Xn-Nn-(jn-pn);for(let Wr=0;Wr<Re.length;Wr+=3){let Kr=Re[Wr+1];if(Kr<0||pn>Kr+Ut-dn)continue;let Zr=Re[Wr]+Ut-dn;jn>=Zr?Re[Wr+1]=pn<=Zr?-2:-1:Nn>=ee&&Lr&&(Re[Wr]+=Lr,Re[Wr+1]+=Lr)}dn+=Lr}),Ut=$.maps[bt].map(Ut,-1)}let $e=!1;for(let bt=0;bt<Re.length;bt+=3)if(Re[bt+1]<0){if(Re[bt+1]==-2){$e=!0,Re[bt+1]=-1;continue}let Ut=$.map(N[bt]+ae),dn=Ut-ee;if(dn<0||dn>=ne.content.size){$e=!0;continue}let pn=$.map(N[bt+1]+ae,-1),jn=pn-ee,{index:Nn,offset:Xn}=ne.content.findIndex(dn),Lr=ne.maybeChild(Nn);if(Lr&&Xn==dn&&Xn+Lr.nodeSize==jn){let Wr=Re[bt+2].mapInner($,Lr,Ut+1,N[bt]+ae+1,ve);Wr!=nr?(Re[bt]=dn,Re[bt+1]=jn,Re[bt+2]=Wr):(Re[bt+1]=-2,$e=!0)}else $e=!0}if($e){let bt=Jr(Re,N,L,$,ee,ae,ve),Ut=Ur(bt,ne,0,ve);L=Ut.local;for(let dn=0;dn<Re.length;dn+=3)Re[dn+1]<0&&(Re.splice(dn,3),dn-=3);for(let dn=0,pn=0;dn<Ut.children.length;dn+=3){let jn=Ut.children[dn];for(;pn<Re.length&&Re[pn]<jn;)pn+=3;Re.splice(pn,0,Ut.children[dn],Ut.children[dn+1],Ut.children[dn+2])}}return new Un(L.sort(Cr),Re)}function Br(N,L){if(!L||!N.length)return N;let $=[];for(let ne=0;ne<N.length;ne++){let ee=N[ne];$.push(new hn(ee.from+L,ee.to+L,ee.type))}return $}function Jr(N,L,$,ne,ee,ae,ve){function Re($e,bt){for(let Ut=0;Ut<$e.local.length;Ut++){let dn=$e.local[Ut].map(ne,ee,bt);dn?$.push(dn):ve.onRemove&&ve.onRemove($e.local[Ut].spec)}for(let Ut=0;Ut<$e.children.length;Ut+=3)Re($e.children[Ut+2],$e.children[Ut]+bt+1)}for(let $e=0;$e<N.length;$e+=3)N[$e+1]==-1&&Re(N[$e+2],L[$e]+ae+1);return $}function so(N,L,$){if(L.isLeaf)return null;let ne=$+L.nodeSize,ee=null;for(let ae=0,ve;ae<N.length;ae++)(ve=N[ae])&&ve.from>$&&ve.to<ne&&((ee||(ee=[])).push(ve),N[ae]=null);return ee}function Pr(N){let L=[];for(let $=0;$<N.length;$++)N[$]!=null&&L.push(N[$]);return L}function Ur(N,L,$,ne){let ee=[],ae=!1;L.forEach((Re,$e)=>{let bt=so(N,Re,$e+$);if(bt){ae=!0;let Ut=Ur(bt,Re,$+$e+1,ne);Ut!=nr&&ee.push($e,$e+Re.nodeSize,Ut)}});let ve=Br(ae?Pr(N):N,-$).sort(Cr);for(let Re=0;Re<ve.length;Re++)ve[Re].type.valid(L,ve[Re])||(ne.onRemove&&ne.onRemove(ve[Re].spec),ve.splice(Re--,1));return ve.length||ee.length?new Un(ve,ee):nr}function Cr(N,L){return N.from-L.from||N.to-L.to}function io(N){let L=N;for(let $=0;$<L.length-1;$++){let ne=L[$];if(ne.from!=ne.to)for(let ee=$+1;ee<L.length;ee++){let ae=L[ee];if(ae.from==ne.from){ae.to!=ne.to&&(L==N&&(L=N.slice()),L[ee]=ae.copy(ae.from,ne.to),co(L,ee+1,ae.copy(ne.to,ae.to)));continue}else{ae.from<ne.to&&(L==N&&(L=N.slice()),L[$]=ne.copy(ne.from,ae.from),co(L,ee,ne.copy(ae.from,ne.to)));break}}}return L}function co(N,L,$){for(;L<N.length&&Cr($,N[L])>0;)L++;N.splice(L,0,$)}function Wo(N){let L=[];return N.someProp("decorations",$=>{let ne=$(N.state);ne&&ne!=nr&&L.push(ne)}),N.cursorWrapper&&L.push(Un.create(N.state.doc,[N.cursorWrapper.deco])),jr.from(L)}const qo={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Jo=A&&_<=11;class Go{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(L){this.anchorNode=L.anchorNode,this.anchorOffset=L.anchorOffset,this.focusNode=L.focusNode,this.focusOffset=L.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(L){return L.anchorNode==this.anchorNode&&L.anchorOffset==this.anchorOffset&&L.focusNode==this.focusNode&&L.focusOffset==this.focusOffset}}class ko{constructor(L,$){this.view=L,this.handleDOMChange=$,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Go,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(ne=>{for(let ee=0;ee<ne.length;ee++)this.queue.push(ne[ee]);A&&_<=11&&ne.some(ee=>ee.type=="childList"&&ee.removedNodes.length||ee.type=="characterData"&&ee.oldValue.length>ee.target.nodeValue.length)?this.flushSoon():this.flush()}),Jo&&(this.onCharData=ne=>{this.queue.push({target:ne.target,type:"characterData",oldValue:ne.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,qo)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let L=this.observer.takeRecords();if(L.length){for(let $=0;$<L.length;$++)this.queue.push(L[$]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(!!dr(this.view)){if(this.suppressingSelectionUpdates)return Mt(this.view);if(A&&_<=11&&!this.view.state.selection.empty){let L=this.view.domSelectionRange();if(L.focusNode&&f(L.focusNode,L.focusOffset,L.anchorNode,L.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(L){if(!L.focusNode)return!0;let $=new Set,ne;for(let ae=L.focusNode;ae;ae=d(ae))$.add(ae);for(let ae=L.anchorNode;ae;ae=d(ae))if($.has(ae)){ne=ae;break}let ee=ne&&this.view.docView.nearestDesc(ne);if(ee&&ee.ignoreMutation({type:"selection",target:ne.nodeType==3?ne.parentNode:ne}))return this.setCurSelection(),!0}flush(){let{view:L}=this;if(!L.docView||this.flushingSoon>-1)return;let $=this.observer?this.observer.takeRecords():[];this.queue.length&&($=this.queue.concat($),this.queue.length=0);let ne=L.domSelectionRange(),ee=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(ne)&&dr(L)&&!this.ignoreSelectionChange(ne),ae=-1,ve=-1,Re=!1,$e=[];if(L.editable)for(let Ut=0;Ut<$.length;Ut++){let dn=this.registerMutation($[Ut],$e);dn&&(ae=ae<0?dn.from:Math.min(dn.from,ae),ve=ve<0?dn.to:Math.max(dn.to,ve),dn.typeOver&&(Re=!0))}if(M&&$e.length>1){let Ut=$e.filter(dn=>dn.nodeName=="BR");if(Ut.length==2){let dn=Ut[0],pn=Ut[1];dn.parentNode&&dn.parentNode.parentNode==pn.parentNode?pn.remove():dn.remove()}}let bt=null;ae<0&&ee&&L.input.lastFocus>Date.now()-200&&Math.max(L.input.lastTouch,L.input.lastClick.time)<Date.now()-300&&r(ne)&&(bt=Rt(L))&&bt.eq(e.Selection.near(L.state.doc.resolve(0),1))?(L.input.lastFocus=0,Mt(L),this.currentSelection.set(ne),L.scrollToSelection()):(ae>-1||ee)&&(ae>-1&&(L.docView.markDirty(ae,ve),Ti(L)),this.handleDOMChange(ae,ve,Re,$e),L.docView&&L.docView.dirty?L.updateState(L.state):this.currentSelection.eq(ne)||Mt(L),this.currentSelection.set(ne))}registerMutation(L,$){if($.indexOf(L.target)>-1)return null;let ne=this.view.docView.nearestDesc(L.target);if(L.type=="attributes"&&(ne==this.view.docView||L.attributeName=="contenteditable"||L.attributeName=="style"&&!L.oldValue&&!L.target.getAttribute("style"))||!ne||ne.ignoreMutation(L))return null;if(L.type=="childList"){for(let Ut=0;Ut<L.addedNodes.length;Ut++)$.push(L.addedNodes[Ut]);if(ne.contentDOM&&ne.contentDOM!=ne.dom&&!ne.contentDOM.contains(L.target))return{from:ne.posBefore,to:ne.posAfter};let ee=L.previousSibling,ae=L.nextSibling;if(A&&_<=11&&L.addedNodes.length)for(let Ut=0;Ut<L.addedNodes.length;Ut++){let{previousSibling:dn,nextSibling:pn}=L.addedNodes[Ut];(!dn||Array.prototype.indexOf.call(L.addedNodes,dn)<0)&&(ee=dn),(!pn||Array.prototype.indexOf.call(L.addedNodes,pn)<0)&&(ae=pn)}let ve=ee&&ee.parentNode==L.target?l(ee)+1:0,Re=ne.localPosFromDOM(L.target,ve,-1),$e=ae&&ae.parentNode==L.target?l(ae):L.target.childNodes.length,bt=ne.localPosFromDOM(L.target,$e,1);return{from:Re,to:bt}}else return L.type=="attributes"?{from:ne.posAtStart-ne.border,to:ne.posAtEnd+ne.border}:{from:ne.posAtStart,to:ne.posAtEnd,typeOver:L.target.nodeValue==L.oldValue}}}let Ho=new WeakMap,Vo=!1;function Ti(N){if(!Ho.has(N)&&(Ho.set(N,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(N.dom).whiteSpace)!==-1)){if(N.requiresGeckoHackNode=M,Vo)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Vo=!0}}function dt(N){let L;function $($e){$e.preventDefault(),$e.stopImmediatePropagation(),L=$e.getTargetRanges()[0]}N.dom.addEventListener("beforeinput",$,!0),document.execCommand("indent"),N.dom.removeEventListener("beforeinput",$,!0);let ne=L.startContainer,ee=L.startOffset,ae=L.endContainer,ve=L.endOffset,Re=N.domAtPos(N.state.selection.anchor);return f(Re.node,Re.offset,ae,ve)&&([ne,ee,ae,ve]=[ae,ve,ne,ee]),{anchorNode:ne,anchorOffset:ee,focusNode:ae,focusOffset:ve}}function pt(N,L,$){let{node:ne,fromOffset:ee,toOffset:ae,from:ve,to:Re}=N.docView.parseRange(L,$),$e=N.domSelectionRange(),bt,Ut=$e.anchorNode;if(Ut&&N.dom.contains(Ut.nodeType==1?Ut:Ut.parentNode)&&(bt=[{node:Ut,offset:$e.anchorOffset}],r($e)||bt.push({node:$e.focusNode,offset:$e.focusOffset})),H&&N.input.lastKeyCode===8)for(let Lr=ae;Lr>ee;Lr--){let Wr=ne.childNodes[Lr-1],Kr=Wr.pmViewDesc;if(Wr.nodeName=="BR"&&!Kr){ae=Lr;break}if(!Kr||Kr.size)break}let dn=N.state.doc,pn=N.someProp("domParser")||a.DOMParser.fromSchema(N.state.schema),jn=dn.resolve(ve),Nn=null,Xn=pn.parse(ne,{topNode:jn.parent,topMatch:jn.parent.contentMatchAt(jn.index()),topOpen:!0,from:ee,to:ae,preserveWhitespace:jn.parent.type.whitespace=="pre"?"full":!0,findPositions:bt,ruleFromNode:Xt,context:jn});if(bt&&bt[0].pos!=null){let Lr=bt[0].pos,Wr=bt[1]&&bt[1].pos;Wr==null&&(Wr=Lr),Nn={anchor:Lr+ve,head:Wr+ve}}return{doc:Xn,sel:Nn,from:ve,to:Re}}function Xt(N){let L=N.pmViewDesc;if(L)return L.parseRule();if(N.nodeName=="BR"&&N.parentNode){if(T&&/^(ul|ol)$/i.test(N.parentNode.nodeName)){let $=document.createElement("div");return $.appendChild(document.createElement("li")),{skip:$}}else if(N.parentNode.lastChild==N||T&&/^(tr|table)$/i.test(N.parentNode.nodeName))return{ignore:!0}}else if(N.nodeName=="IMG"&&N.getAttribute("mark-placeholder"))return{ignore:!0};return null}function Hn(N,L,$,ne,ee){if(L<0){let Sr=N.input.lastSelectionTime>Date.now()-50?N.input.lastSelectionOrigin:null,Ro=Rt(N,Sr);if(Ro&&!N.state.selection.eq(Ro)){if(H&&w&&N.input.lastKeyCode===13&&Date.now()-100<N.input.lastKeyCodeTime&&N.someProp("handleKeyDown",Yo=>Yo(N,i(13,"Enter"))))return;let Po=N.state.tr.setSelection(Ro);Sr=="pointer"?Po.setMeta("pointer",!0):Sr=="key"&&Po.scrollIntoView(),N.dispatch(Po)}return}let ae=N.state.doc.resolve(L),ve=ae.sharedDepth($);L=ae.before(ve+1),$=N.state.doc.resolve($).after(ve+1);let Re=N.state.selection,$e=pt(N,L,$),bt=N.state.doc,Ut=bt.slice($e.from,$e.to),dn,pn;N.input.lastKeyCode===8&&Date.now()-100<N.input.lastKeyCodeTime?(dn=N.state.selection.to,pn="end"):(dn=N.state.selection.from,pn="start"),N.input.lastKeyCode=null;let jn=Tn(Ut.content,$e.doc.content,$e.from,dn,pn);if((S&&N.input.lastIOSEnter>Date.now()-225||w)&&ee.some(Sr=>Sr.nodeName=="DIV"||Sr.nodeName=="P"||Sr.nodeName=="LI")&&(!jn||jn.endA>=jn.endB)&&N.someProp("handleKeyDown",Sr=>Sr(N,i(13,"Enter")))){N.input.lastIOSEnter=0;return}if(!jn)if(ne&&Re instanceof e.TextSelection&&!Re.empty&&Re.$head.sameParent(Re.$anchor)&&!N.composing&&!($e.sel&&$e.sel.anchor!=$e.sel.head))jn={start:Re.from,endA:Re.to,endB:Re.to};else{if($e.sel){let Sr=ir(N,N.state.doc,$e.sel);Sr&&!Sr.eq(N.state.selection)&&N.dispatch(N.state.tr.setSelection(Sr))}return}if(H&&N.cursorWrapper&&$e.sel&&$e.sel.anchor==N.cursorWrapper.deco.from&&$e.sel.head==$e.sel.anchor){let Sr=jn.endB-jn.start;$e.sel={anchor:$e.sel.anchor+Sr,head:$e.sel.anchor+Sr}}N.input.domChangeCount++,N.state.selection.from<N.state.selection.to&&jn.start==jn.endB&&N.state.selection instanceof e.TextSelection&&(jn.start>N.state.selection.from&&jn.start<=N.state.selection.from+2&&N.state.selection.from>=$e.from?jn.start=N.state.selection.from:jn.endA<N.state.selection.to&&jn.endA>=N.state.selection.to-2&&N.state.selection.to<=$e.to&&(jn.endB+=N.state.selection.to-jn.endA,jn.endA=N.state.selection.to)),A&&_<=11&&jn.endB==jn.start+1&&jn.endA==jn.start&&jn.start>$e.from&&$e.doc.textBetween(jn.start-$e.from-1,jn.start-$e.from+1)==" \xA0"&&(jn.start--,jn.endA--,jn.endB--);let Nn=$e.doc.resolveNoCache(jn.start-$e.from),Xn=$e.doc.resolveNoCache(jn.endB-$e.from),Lr=bt.resolve(jn.start),Wr=Nn.sameParent(Xn)&&Nn.parent.inlineContent&&Lr.end()>=jn.endA,Kr;if((S&&N.input.lastIOSEnter>Date.now()-225&&(!Wr||ee.some(Sr=>Sr.nodeName=="DIV"||Sr.nodeName=="P"))||!Wr&&Nn.pos<$e.doc.content.size&&(Kr=e.Selection.findFrom($e.doc.resolve(Nn.pos+1),1,!0))&&Kr.head==Xn.pos)&&N.someProp("handleKeyDown",Sr=>Sr(N,i(13,"Enter")))){N.input.lastIOSEnter=0;return}if(N.state.selection.anchor>jn.start&&_t(bt,jn.start,jn.endA,Nn,Xn)&&N.someProp("handleKeyDown",Sr=>Sr(N,i(8,"Backspace")))){w&&H&&N.domObserver.suppressSelectionUpdates();return}H&&w&&jn.endB==jn.start&&(N.input.lastAndroidDelete=Date.now()),w&&!Wr&&Nn.start()!=Xn.start()&&Xn.parentOffset==0&&Nn.depth==Xn.depth&&$e.sel&&$e.sel.anchor==$e.sel.head&&$e.sel.head==jn.endA&&(jn.endB-=2,Xn=$e.doc.resolveNoCache(jn.endB-$e.from),setTimeout(()=>{N.someProp("handleKeyDown",function(Sr){return Sr(N,i(13,"Enter"))})},20));let Zr=jn.start,uo=jn.endA,go,yo,vo;if(Wr){if(Nn.pos==Xn.pos)A&&_<=11&&Nn.parentOffset==0&&(N.domObserver.suppressSelectionUpdates(),setTimeout(()=>Mt(N),20)),go=N.state.tr.delete(Zr,uo),yo=bt.resolve(jn.start).marksAcross(bt.resolve(jn.endA));else if(jn.endA==jn.endB&&(vo=It(Nn.parent.content.cut(Nn.parentOffset,Xn.parentOffset),Lr.parent.content.cut(Lr.parentOffset,jn.endA-Lr.start()))))go=N.state.tr,vo.type=="add"?go.addMark(Zr,uo,vo.mark):go.removeMark(Zr,uo,vo.mark);else if(Nn.parent.child(Nn.index()).isText&&Nn.index()==Xn.index()-(Xn.textOffset?0:1)){let Sr=Nn.parent.textBetween(Nn.parentOffset,Xn.parentOffset);if(N.someProp("handleTextInput",Ro=>Ro(N,Zr,uo,Sr)))return;go=N.state.tr.insertText(Sr,Zr,uo)}}if(go||(go=N.state.tr.replace(Zr,uo,$e.doc.slice(jn.start-$e.from,jn.endB-$e.from))),$e.sel){let Sr=ir(N,go.doc,$e.sel);Sr&&!(H&&w&&N.composing&&Sr.empty&&(jn.start!=jn.endB||N.input.lastAndroidDelete<Date.now()-100)&&(Sr.head==Zr||Sr.head==go.mapping.map(uo)-1)||A&&Sr.empty&&Sr.head==Zr)&&go.setSelection(Sr)}yo&&go.ensureMarks(yo),N.dispatch(go.scrollIntoView())}function ir(N,L,$){return Math.max($.anchor,$.head)>L.content.size?null:zr(N,L.resolve($.anchor),L.resolve($.head))}function It(N,L){let $=N.firstChild.marks,ne=L.firstChild.marks,ee=$,ae=ne,ve,Re,$e;for(let Ut=0;Ut<ne.length;Ut++)ee=ne[Ut].removeFromSet(ee);for(let Ut=0;Ut<$.length;Ut++)ae=$[Ut].removeFromSet(ae);if(ee.length==1&&ae.length==0)Re=ee[0],ve="add",$e=Ut=>Ut.mark(Re.addToSet(Ut.marks));else if(ee.length==0&&ae.length==1)Re=ae[0],ve="remove",$e=Ut=>Ut.mark(Re.removeFromSet(Ut.marks));else return null;let bt=[];for(let Ut=0;Ut<L.childCount;Ut++)bt.push($e(L.child(Ut)));if(a.Fragment.from(bt).eq(N))return{mark:Re,type:ve}}function _t(N,L,$,ne,ee){if(!ne.parent.isTextblock||$-L<=ee.pos-ne.pos||Vt(ne,!0,!1)<ee.pos)return!1;let ae=N.resolve(L);if(ae.parentOffset<ae.parent.content.size||!ae.parent.isTextblock)return!1;let ve=N.resolve(Vt(ae,!0,!0));return!ve.parent.isTextblock||ve.pos>$||Vt(ve,!0,!1)<$?!1:ne.parent.content.cut(ne.parentOffset).eq(ve.parent.content)}function Vt(N,L,$){let ne=N.depth,ee=L?N.end():N.pos;for(;ne>0&&(L||N.indexAfter(ne)==N.node(ne).childCount);)ne--,ee++,L=!1;if($){let ae=N.node(ne).maybeChild(N.indexAfter(ne));for(;ae&&!ae.isLeaf;)ae=ae.firstChild,ee++}return ee}function Tn(N,L,$,ne,ee){let ae=N.findDiffStart(L,$);if(ae==null)return null;let{a:ve,b:Re}=N.findDiffEnd(L,$+N.size,$+L.size);if(ee=="end"){let $e=Math.max(0,ae-Math.min(ve,Re));ne-=ve+$e-ae}return ve<ae&&N.size<L.size?(ae-=ne<=ae&&ne>=ve?ae-ne:0,Re=ae+(Re-ve),ve=ae):Re<ae&&(ae-=ne<=ae&&ne>=Re?ae-ne:0,ve=ae+(ve-Re),Re=ae),{start:ae,endA:ve,endB:Re}}const sr=Jt,qn=cn,qr=tt;class Vr{constructor(L,$){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new eo,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=$,this.state=$.state,this.directPlugins=$.plugins||[],this.directPlugins.forEach(Dt),this.dispatch=this.dispatch.bind(this),this.dom=L&&L.mount||document.createElement("div"),L&&(L.appendChild?L.appendChild(this.dom):typeof L=="function"?L(this.dom):L.mount&&(this.mounted=!0)),this.editable=yr(this),$r(this),this.nodeViews=gr(this),this.docView=z(this.state.doc,Gr(this),Wo(this),this.dom,this),this.domObserver=new ko(this,(ne,ee,ae,ve)=>Hn(this,ne,ee,ae,ve)),this.domObserver.start(),bo(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let L=this._props;this._props={};for(let $ in L)this._props[$]=L[$];this._props.state=this.state}return this._props}update(L){L.handleDOMEvents!=this._props.handleDOMEvents&&Co(this);let $=this._props;this._props=L,L.plugins&&(L.plugins.forEach(Dt),this.directPlugins=L.plugins),this.updateStateInner(L.state,$)}setProps(L){let $={};for(let ne in this._props)$[ne]=this._props[ne];$.state=this.state;for(let ne in L)$[ne]=L[ne];this.update($)}updateState(L){this.updateStateInner(L,this._props)}updateStateInner(L,$){let ne=this.state,ee=!1,ae=!1;L.storedMarks&&this.composing&&(et(this),ae=!0),this.state=L;let ve=ne.plugins!=L.plugins||this._props.plugins!=$.plugins;if(ve||this._props.plugins!=$.plugins||this._props.nodeViews!=$.nodeViews){let pn=gr(this);Xr(pn,this.nodeViews)&&(this.nodeViews=pn,ee=!0)}(ve||$.handleDOMEvents!=this._props.handleDOMEvents)&&Co(this),this.editable=yr(this),$r(this);let Re=Wo(this),$e=Gr(this),bt=ne.plugins!=L.plugins&&!ne.doc.eq(L.doc)?"reset":L.scrollToSelection>ne.scrollToSelection?"to selection":"preserve",Ut=ee||!this.docView.matchesNode(L.doc,$e,Re);(Ut||!L.selection.eq(ne.selection))&&(ae=!0);let dn=bt=="preserve"&&ae&&this.dom.style.overflowAnchor==null&&B(this);if(ae){this.domObserver.stop();let pn=Ut&&(A||H)&&!this.composing&&!ne.selection.empty&&!L.selection.empty&&Nr(ne.selection,L.selection);if(Ut){let jn=H?this.trackWrites=this.domSelectionRange().focusNode:null;(ee||!this.docView.update(L.doc,$e,Re,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=z(L.doc,$e,Re,this.dom,this)),jn&&!this.trackWrites&&(pn=!0)}pn||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&_r(this))?Mt(this,pn):(rr(this,L.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(ne),bt=="reset"?this.dom.scrollTop=0:bt=="to selection"?this.scrollToSelection():dn&&G(dn)}scrollToSelection(){let L=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",$=>$(this)))if(this.state.selection instanceof e.NodeSelection){let $=this.docView.domAfterPos(this.state.selection.from);$.nodeType==1&&R(this,$.getBoundingClientRect(),L)}else R(this,this.coordsAtPos(this.state.selection.head,1),L)}destroyPluginViews(){let L;for(;L=this.pluginViews.pop();)L.destroy&&L.destroy()}updatePluginViews(L){if(!L||L.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let $=0;$<this.directPlugins.length;$++){let ne=this.directPlugins[$];ne.spec.view&&this.pluginViews.push(ne.spec.view(this))}for(let $=0;$<this.state.plugins.length;$++){let ne=this.state.plugins[$];ne.spec.view&&this.pluginViews.push(ne.spec.view(this))}}else for(let $=0;$<this.pluginViews.length;$++){let ne=this.pluginViews[$];ne.update&&ne.update(this,L)}}someProp(L,$){let ne=this._props&&this._props[L],ee;if(ne!=null&&(ee=$?$(ne):ne))return ee;for(let ve=0;ve<this.directPlugins.length;ve++){let Re=this.directPlugins[ve].props[L];if(Re!=null&&(ee=$?$(Re):Re))return ee}let ae=this.state.plugins;if(ae)for(let ve=0;ve<ae.length;ve++){let Re=ae[ve].props[L];if(Re!=null&&(ee=$?$(Re):Re))return ee}}hasFocus(){if(A){let L=this.root.activeElement;if(L==this.dom)return!0;if(!L||!this.dom.contains(L))return!1;for(;L&&this.dom!=L&&this.dom.contains(L);){if(L.contentEditable=="false")return!1;L=L.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Z(this.dom),Mt(this),this.domObserver.start()}get root(){let L=this._root;if(L==null){for(let $=this.dom.parentNode;$;$=$.parentNode)if($.nodeType==9||$.nodeType==11&&$.host)return $.getSelection||(Object.getPrototypeOf($).getSelection=()=>$.ownerDocument.getSelection()),this._root=$}return L||document}posAtCoords(L){return Ae(this,L)}coordsAtPos(L,$=1){return ce(this,L,$)}domAtPos(L,$=0){return this.docView.domFromPos(L,$)}nodeDOM(L){let $=this.docView.descAt(L);return $?$.nodeDOM:null}posAtDOM(L,$,ne=-1){let ee=this.docView.posFromDOM(L,$,ne);if(ee==null)throw new RangeError("DOM position not inside the editor");return ee}endOfTextblock(L,$){return at(this,$||this.state,L)}pasteHTML(L,$){return Ee(this,"",L,!1,$||new ClipboardEvent("paste"))}pasteText(L,$){return Ee(this,L,null,!0,$||new ClipboardEvent("paste"))}destroy(){!this.docView||(Eo(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Wo(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(L){return qe(this,L)}dispatch(L){let $=this._props.dispatchTransaction;$?$.call(this,L):this.updateState(this.state.apply(L))}domSelectionRange(){return T&&this.root.nodeType===11&&h(this.dom.ownerDocument)==this.dom?dt(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function Gr(N){let L=Object.create(null);return L.class="ProseMirror",L.contenteditable=String(N.editable),L.translate="no",N.someProp("attributes",$=>{if(typeof $=="function"&&($=$(N.state)),$)for(let ne in $)ne=="class"&&(L.class+=" "+$[ne]),ne=="style"?L.style=(L.style?L.style+";":"")+$[ne]:!L[ne]&&ne!="contenteditable"&&ne!="nodeName"&&(L[ne]=String($[ne]))}),[hn.node(0,N.state.doc.content.size,L)]}function $r(N){if(N.markCursor){let L=document.createElement("img");L.className="ProseMirror-separator",L.setAttribute("mark-placeholder","true"),L.setAttribute("alt",""),N.cursorWrapper={dom:L,deco:hn.widget(N.state.selection.head,L,{raw:!0,marks:N.markCursor})}}else N.cursorWrapper=null}function yr(N){return!N.someProp("editable",L=>L(N.state)===!1)}function Nr(N,L){let $=Math.min(N.$anchor.sharedDepth(N.head),L.$anchor.sharedDepth(L.head));return N.$anchor.start($)!=L.$anchor.start($)}function gr(N){let L=Object.create(null);function $(ne){for(let ee in ne)Object.prototype.hasOwnProperty.call(L,ee)||(L[ee]=ne[ee])}return N.someProp("nodeViews",$),N.someProp("markViews",$),L}function Xr(N,L){let $=0,ne=0;for(let ee in N){if(N[ee]!=L[ee])return!0;$++}for(let ee in L)ne++;return $!=ne}function Dt(N){if(N.spec.state||N.spec.filterTransaction||N.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}},function(k,n,t){"use strict";t.d(n,"a",function(){return l}),t.d(n,"b",function(){return d});var e=t(778),a=t.n(e);function o(c){return c&&d(c)[0]||null}function l(c){return c&&d(c).pop()||null}function d(c){return Object(e.find)(c).filter(u=>u.type==="url"&&u.href.startsWith("http"))}},function(k,n,t){"use strict";t.d(n,"b",function(){return a}),t.d(n,"a",function(){return o});var e=t(1);function a(l,d){var c;const[u,f]=Object(e.l)(typeof localStorage!="undefined"&&(c=localStorage.getItem(l))!=null?c:d);return[u,p=>{f(p),localStorage.setItem(l,p)}]}function o(l,d){const c=Object(e.i)(()=>JSON.stringify(d),[d]),[u,f]=a(l,c);return[Object(e.i)(()=>{try{return JSON.parse(u)}catch(g){return console.error("Failed to parse stored value:",g),d}},[u,d]),g=>f(JSON.stringify(g))]}},function(k,n,t){"use strict";var e=t(0),a=t(541),o=t(343),l=t(513);const d=({audience:c,className:u,size:f=16,isStatic:m,thin:p})=>c==="only_paid"?p?Object(e.h)(l.default,{className:u,height:f,isStatic:m}):Object(e.h)(a.a,{className:u,size:f}):c==="founding"?Object(e.h)(o.default,{className:u,height:f,isStatic:m}):null;n.a=d},function(k,n,t){"use strict";n.a={badge:"frontend-components-NavBadge-module__badge--1pq8F",dotContainer:"frontend-components-NavBadge-module__dotContainer--1mCmU",dot:"frontend-components-NavBadge-module__dot--3-m_2",responsive:"frontend-components-NavBadge-module__responsive--3TOrk",binary:"frontend-components-NavBadge-module__binary--Zcfyp"}},function(k,n,t){var e=t(244),a=t(637),o=t(638),l=t(639),d=t(640),c=t(641);function u(f){var m=this.__data__=new e(f);this.size=m.size}u.prototype.clear=a,u.prototype.delete=o,u.prototype.get=l,u.prototype.has=d,u.prototype.set=c,k.exports=u},function(k,n,t){var e=t(668),a=t(411),o=t(516),l=o&&o.isTypedArray,d=l?a(l):e;k.exports=d},function(k,n,t){"use strict";t.d(n,"a",function(){return e});const e={ABOUT_PAGE_END_CTA_RENDERED:"About Page End Cta Rendered",ABOUT_PAGE_END_CTA_SEEN:"About Page End Cta Seen",ABOUT_PAGE_VISITED:"About Page Visited",ACCOUNT_CARD_PRESUBSCRIBE_CLICKED:"Account Card Presubscribe Clicked",ACCOUNT_CARD_READS_LINK_CLICKED:"Account Card Reads Link Clicked",ACCOUNT_CARD_SHOWN:"Account Card Shown",ACCOUNT_CARD_SUBSCRIBE_CLICKED:"Account Card Subscribe Clicked",ACCOUNT_CARD_UNPRESUBSCRIBE_CLICKED:"Account Card Unpresubscribe Clicked",ACCOUNT_CARD_VIEW_PROFILE_LINK_CLICKED:"Account Card View Profile Link Clicked",ACCOUNT_CARD_WRITES_LINK_CLICKED:"Account Card Writes Link Clicked",ACTIVITY_ITEM_TAPPED:"Activity Item Tapped",ACTIVITY_ITEM_VIEWED:"Activity Item Viewed",ACTIVITY_SCREEN_VIEWED:"Activity Screen Viewed",ADD_EPISODE_AUDIO_CLICKED:"Add Episode Audio Clicked",ADD_TO_PODCAST_CLICKED:"Add To Podcast Clicked",ADD_TO_PODCAST_SCREEN_SHOWN:"Add To Podcast Screen Shown",ADD_TO_PODCAST_SKIPPED:"Add To Podcast Skipped",APPLE_PAY_ATTEMPED:"Apple Pay Attemped",APPLE_PAY_FAILED:"Apple Pay Failed",APPLE_PAY_SETUP_FINISHED:"Apple Pay Setup Finished",APPLE_PAY_SETUP_STARTED:"Apple Pay Setup Started",APPLE_PAY_SUCCEEDED:"Apple Pay Succeeded",APP_BANNER_DISMISSED:"App Banner Dismissed",APP_BANNER_TAPPED:"App Banner Tapped",APP_BANNER_VIEWED:"App Banner Viewed",APP_PROMO_WIZARD_CLICKED:"App Promo Wizard Clicked",APP_PROMO_WIZARD_DISMISSED:"App Promo Wizard Dismissed",APP_PROMO_WIZARD_SEEN:"App Promo Wizard Seen",ARCHIVE_PAGE_POST_CLICKED:"Archive Page Post Clicked",AUDIO_BUFFERING_COMPLETED:"Audio Buffering Completed",AUDIO_BUFFERING_STARTED:"Audio Buffering Started",AUDIO_DRAWER_DONE_CLICKED:"Audio Drawer Done Clicked",AUDIO_MODAL_BROWSE_FILES_CLICKED:"Audio Modal Browse Files Clicked",AUDIO_MODAL_CANCEL_CLICKED:"Audio Modal Cancel Clicked",AUDIO_MODAL_DROPPED_FILE:"Audio Modal Dropped File",AUDIO_MODAL_INSERT_CLICKED:"Audio Modal Insert Clicked",AUDIO_MODAL_PLAYPAUSE_CLICKED:"Audio Modal Playpause Clicked",AUDIO_MODAL_START_OVER_CLICKED:"Audio Modal Start Over Clicked",AUDIO_PLAYBACK_COMPLETE:"Audio Playback Complete",AUDIO_PLAYBACK_CONTINUED:"Audio Playback Continued",AUDIO_PLAYBACK_STARTED:"Audio Playback Started",AUDIO_PRESS_RECORD_CLICKED:"Audio Press Record Clicked",AUDIO_UPLOAD_COMPLETED:"Audio Upload Completed",AUTOSAVE_CONFLICT_DISPLAYED:"Autosave Conflict Displayed",BESTSELLER_INFO_SHOWN:"Bestseller Info Shown",BILLING_FORM_ERROR:"Billing Form Error",BILLING_FORM_INPUT_FILLED:"Billing Form Input Filled",BILLING_FORM_MISSING_PAYMENT:"Billing Form Missing Payment",BILLING_FORM_SUBMIT_PRESSED:"Billing Form Submit Pressed",BILLING_UPDATE_PAGE_SEEN:"Billing Update Page Seen",BOOST_LEARN_MORE_CLICKED:"Boost Learn More Clicked",BOOST_MODAL_DONE_CLICKED:"Boost Modal Done Clicked",BOOST_MODAL_SEEN:"Boost Modal Seen",BOOST_MODAL_TURN_ON_CLICKED:"Boost Modal Turn On Clicked",BUNDLE_PUBLICATION_TOGGLED:"Bundle Publication Toggled",BUNDLE_SCREEN_SHOWN:"Bundle Screen Shown",BUNDLE_SUBSCRIBED:"Bundle Subscribed",BUNDLE_SUBSCRIBE_FAILED:"Bundle Subscribe Failed",BUNDLE_SUBSCRIBE_INITIATED:"Bundle Subscribe Initiated",CARD_EXPIRED_WARNING_DISMISSED:"Card Expired Warning Dismissed",CHAT_APP_UPSELL_SUBSCRIBE_SCREEN_SHOWN:"Chat App Upsell Subscribe Screen Shown",CHAT_CHECKLIST_GET_APP_CLICKED:"Chat Checklist Get App Clicked",CHAT_CHECKLIST_SEE_EXAMPLES_CLICKED:"Chat Checklist See Examples Clicked",CHAT_CHECKLIST_USE_TEMPLATE_CLICKED:"Chat Checklist Use Template Clicked",CHAT_ENABLE_DASHBOARD_CTA_CLICKED:"Chat Enable Dashboard Cta Clicked",CHAT_ENABLE_DASHBOARD_CTA_DISMISSED:"Chat Enable Dashboard Cta Dismissed",CHAT_ENABLE_DASHBOARD_CTA_SHOWN:"Chat Enable Dashboard Cta Shown",CHAT_INVITE_DRAFT_POST_CTA_CLICKED:"Chat Invite Draft Post Cta Clicked",CHAT_INVITE_DRAFT_POST_CTA_DISMISSED:"Chat Invite Draft Post Cta Dismissed",CHAT_INVITE_DRAFT_POST_CTA_SHOWN:"Chat Invite Draft Post Cta Shown",CHAT_START_CHAT_THREAD_CLICKED:"Chat Start Chat Thread Clicked",CLICKED_CATEGORY:"Clicked Category",CLICKED_GO_TO_SUBSCRIPTION_ON_PROFILE_PAGE:"Clicked Go To Subscription On Profile Page",CLICKED_PAUSE_BUTTON:"Clicked Pause Button",CLICKED_PLAY_BUTTON:"Clicked Play Button",CLICKED_SUBSCRIBE_ON_PROFILE_PAGE:"Clicked Subscribe On Profile Page",COHORT_PAGE_CLICKED:"Cohort Page Clicked",COLLAPSED_POSTS_SHOWN:"Collapsed Posts Shown",COMMENTS_SORTED:"Comments Sorted",COMMENTS_VIEWED:"Comments Viewed",COMMENT_EXPAND_TOGGLE_CLICKED:"Comment Expand Toggle Clicked",COMMENT_PAYWALL_SHOWN:"Comment Paywall Shown",CONFLICT_TOAST_DISMISSED:"Conflict Toast Dismissed",COVER_PAGE_AUTHOR_CLICKED:"Cover Page Author Clicked",COVER_PAGE_BECOME_PAYING_CLICKED:"Cover Page Become Paying Clicked",COVER_PAGE_EMAIL_SUBMITTED:"Cover Page Email Submitted",COVER_PAGE_LEARN_MORE_CLICKED:"Cover Page Learn More Clicked",COVER_PAGE_MAYBE_LATER_CLICKED:"Cover Page Maybe Later Clicked",COVER_PAGE_SHOWN:"Cover Page Shown",CROSS_POST_MODAL_CLOSED:"Cross Post Modal Closed",CROSS_POST_MODAL_CONTINUED:"Cross Post Modal Continued",CROSS_POST_MODAL_CONTINUE_CLICKED:"Cross Post Modal Continue Clicked",CROSS_POST_MODAL_CONTINUE_FAILED:"Cross Post Modal Continue Failed",CROSS_POST_MODAL_SUBMITTED:"Cross Post Modal Submitted",CROSS_POST_MODAL_SUBMIT_CLICKED:"Cross Post Modal Submit Clicked",CROSS_POST_MODAL_SUBMIT_FAILED:"Cross Post Modal Submit Failed",CROSS_POST_MODAL_TYPING_STARTED:"Cross Post Modal Typing Started",CUSTOMER_SUPPORT_MODE_FORM_ERROR:"Customer Support Mode Form Error",CUSTOMER_SUPPORT_MODE_FORM_INPUT_FILLED:"Customer Support Mode Form Input Filled",CUSTOMER_SUPPORT_MODE_FORM_MISSING_PAYMENT:"Customer Support Mode Form Missing Payment",CUSTOMER_SUPPORT_MODE_FORM_SUBMIT_PRESSED:"Customer Support Mode Form Submit Pressed",CUSTOM_DOMAIN_CONFIG_ERROR:"Custom Domain Config Error",CUSTOM_DOMAIN_CONFIG_INPUT_FILLED:"Custom Domain Config Input Filled",CUSTOM_DOMAIN_CONFIG_MISSING_PAYMENT:"Custom Domain Config Missing Payment",CUSTOM_DOMAIN_CONFIG_SUBMIT_PRESSED:"Custom Domain Config Submit Pressed",CUSTOM_DOMAIN_INQUIRY:"Custom Domain Inquiry",CUSTOM_DOMAIN_LOGIN_REDIRECT_ATTEMPTED:"Custom Domain Login Redirect Attempted",CUSTOM_DOMAIN_PAYMENT_ERROR:"Custom Domain Payment Error",CUSTOM_DOMAIN_PAYMENT_INPUT_FILLED:"Custom Domain Payment Input Filled",CUSTOM_DOMAIN_PAYMENT_MISSING_PAYMENT:"Custom Domain Payment Missing Payment",CUSTOM_DOMAIN_PAYMENT_SUBMIT_PRESSED:"Custom Domain Payment Submit Pressed",DEFAULT_PUBLICATION_CREATION_FAILED:"Default Publication Creation Failed",DONATE_SUBSCRIBE_FORM_ERROR:"Donate Subscribe Form Error",DONATE_SUBSCRIBE_FORM_INPUT_FILLED:"Donate Subscribe Form Input Filled",DONATE_SUBSCRIBE_FORM_MISSING_PAYMENT:"Donate Subscribe Form Missing Payment",DONATE_SUBSCRIBE_FORM_SUBMIT_PRESSED:"Donate Subscribe Form Submit Pressed",DONATE_SUBSCRIBE_SCREEN_SHOWN:"Donate Subscribe Screen Shown",EARNING_CALCULATOR_INFO_CLICKED:"Earning Calculator Info Clicked",EARNING_CALCULATOR_UPDATED:"Earning Calculator Updated",EDITOR_MENU_ICON_CLICKED:"Editor Menu Icon Clicked",EDIT_POST_DROPDOWN_MENU_OPENED:"Edit Post Dropdown Menu Opened",EMAIL_LINK_INTERSTITIAL_CLICKED:"Email Link Interstitial Clicked",EMAIL_TYPO_SUGGESTION_ACCEPTED:"Email Typo Suggestion Accepted",EMAIL_TYPO_SUGGESTION_REJECTED:"Email Typo Suggestion Rejected",EMAIL_TYPO_SUGGESTION_SHOWN:"Email Typo Suggestion Shown",EMBED_URL_ATTEMPTED:"Embed Url Attempted",EMBED_URL_FAILED:"Embed Url Failed",EMBED_URL_SUCCEEDED:"Embed Url Succeeded",END_OF_POST_RECOMMEND_CTA_CLICKED:"End Of Post Recommend Cta Clicked",FEATURE_ANNOUNCEMENT_BANNER_CLICKED:"Feature Announcement Banner Clicked",FEATURE_ANNOUNCEMENT_BANNER_SHOWN:"Feature Announcement Banner Shown",FEED_DASHBOARD_CTA_CLICKED:"Feed Dashboard Cta Clicked",FEED_DASHBOARD_CTA_DISMISSED:"Feed Dashboard Cta Dismissed",FEED_FIRST_NOTE_DASHBOARD_CTA_CLICKED:"Feed First Note Dashboard Cta Clicked",FEED_FIRST_NOTE_DASHBOARD_CTA_DISMISSED:"Feed First Note Dashboard Cta Dismissed",FEED_FIRST_NOTE_DASHBOARD_CTA_SHOWN:"Feed First Note Dashboard Cta Shown",FEED_ITEM_CLICKED:"Feed Item Clicked",FEED_ITEM_SEEN:"Feed Item Seen",FEED_ITEM_SHARE_LINK_CLICKED:"Feed Item Share Link Clicked",FEED_ONE_CLICK_SUBSCRIBE:"Feed One Click Subscribe",FEED_PERMALINK_SCREEN_VIEWED:"Feed Permalink Screen Viewed",FEED_SCREEN_VIEWED:"Feed Screen Viewed",FEED_USER_SUGGESTION_CLICKED:"Feed User Suggestion Clicked",FEED_USER_SUGGESTION_SEEN:"Feed User Suggestion Seen",FILES_REJECTED:"Files Rejected",FINISH_MAGIC_LOGIN_MODAL_SHOWN:"Finish Magic Login Modal Shown",FIRST_MONTH_UPSELL_MODAL_DONE_CLICKED:"First Month Upsell Modal Done Clicked",FIRST_MONTH_UPSELL_MODAL_EDIT_EMAIL_CLICKED:"First Month Upsell Modal Edit Email Clicked",FIRST_MONTH_UPSELL_MODAL_SEEN:"First Month Upsell Modal Seen",FOUNDING_PRICE_CONFIRMATION_DISMISSED:"Founding Price Confirmation Dismissed",FOUNDING_PRICE_CONFIRMATION_REQUIRED:"Founding Price Confirmation Required",FOUNDING_PRICE_CONFIRMATION_SUBMITTED:"Founding Price Confirmation Submitted",FRAME_MESSAGE_HANDLED:"Frame Message Handled",FRAME_MESSAGE_SENT:"Frame Message Sent",FREE_SIGNUP_FAILED:"Free Signup Failed",FULL_EMAIL_FORM_SHOWN:"Full Email Form Shown",GIFT_SUBSCRIBE_FORM_ERROR:"Gift Subscribe Form Error",GIFT_SUBSCRIBE_FORM_INPUT_FILLED:"Gift Subscribe Form Input Filled",GIFT_SUBSCRIBE_FORM_MISSING_PAYMENT:"Gift Subscribe Form Missing Payment",GIFT_SUBSCRIBE_FORM_SUBMIT_PRESSED:"Gift Subscribe Form Submit Pressed",GIFT_SUBSCRIBE_SCREEN_SHOWN:"Gift Subscribe Screen Shown",GO_PAID_CTA_CLICKED:"Go Paid Cta Clicked",GO_PAID_CTA_DISMISSED:"Go Paid Cta Dismissed",GO_PAID_CTA_SHOWN:"Go Paid Cta Shown",GROUP_SUBSCRIBE_FORM_ERROR:"Group Subscribe Form Error",GROUP_SUBSCRIBE_FORM_INPUT_FILLED:"Group Subscribe Form Input Filled",GROUP_SUBSCRIBE_FORM_MISSING_PAYMENT:"Group Subscribe Form Missing Payment",GROUP_SUBSCRIBE_FORM_SUBMIT_PRESSED:"Group Subscribe Form Submit Pressed",GROUP_SUBSCRIBE_MODAL_CANCEL_CLICKED:"Group Subscribe Modal Cancel Clicked",GROUP_SUBSCRIBE_MODAL_CONFIRM_CLICKED:"Group Subscribe Modal Confirm Clicked",GROUP_SUBSCRIBE_SCREEN_SHOWN:"Group Subscribe Screen Shown",HEADER_ANCHOR_WIDGET_CLICKED:"Header Anchor Widget Clicked",HEADER_SEARCHED:"Header Searched",HOLIDAY_GIFT_CTA_CLICKED:"Holiday Gift Cta Clicked",HOLIDAY_GIFT_CTA_DISMISSED:"Holiday Gift Cta Dismissed",HOLIDAY_GIFT_CTA_SHOWN:"Holiday Gift Cta Shown",HOMEPAGE_DASHBOARD_LINK_CLICKED:"Homepage Dashboard Link Clicked",HOMEPAGE_GET_STARTED_CLICKED:"Homepage Get Started Clicked",HOMEPAGE_GOING_PAID_LINK_CLICKED:"Homepage Going Paid Link Clicked",HOMEPAGE_GROW_LINK_CLICKED:"Homepage Grow Link Clicked",HOMEPAGE_LINK_CLICKED:"Homepage Link Clicked",HOMEPAGE_PUBLICATION_LINK_CLICKED:"Homepage Publication Link Clicked",HOMEPAGE_READER_LINK_CLICKED:"Homepage Reader Link Clicked",IMPORT_PUBLICATION_BYPASSED:"Import Publication Bypassed",IMPORT_PUBLICATION_CANCELLED:"Import Publication Cancelled",IMPORT_PUBLICATION_COMPLETE:"Import Publication Complete",IMPORT_PUBLICATION_CONFIRMED:"Import Publication Confirmed",IMPORT_PUBLICATION_ERROR_SKIPPED:"Import Publication Error Skipped",IMPORT_PUBLICATION_LOADED:"Import Publication Loaded",INBOX_DATA_FETCHED:"Inbox Data Fetched",INBOX_INITIAL_DATA_LOADED:"Inbox Initial Data Loaded",INBOX_POST_CLICKED:"Inbox Post Clicked",INBOX_POST_REACTION:"Inbox Post Reaction",INBOX_SIDEBAR_HIDDEN:"Inbox Sidebar Hidden",INBOX_SIDEBAR_TOGGLED:"Inbox Sidebar Toggled",INBOX_SIDEBAR_VIEWED:"Inbox Sidebar Viewed",INTRODUCING_RECOMMENDATION_DIGESTS_MODAL_LEARN_MORE_CLICKED:"Introducing Recommendation Digests Modal Learn More Clicked",INTRODUCING_RECOMMENDATION_DIGESTS_MODAL_SHOWN:"Introducing Recommendation Digests Modal Shown",INVITE_FRIENDS_MODAL_SHOWN:"Invite Friends Modal Shown",LATEX_BLOCK_ADDED:"Latex Block Added",LIKE_ACTIVITY_TOGGLED:"Like Activity Toggled",LIKE_NUX_SHOWN:"Like Nux Shown",LIKE_UPSELL_FREE_SUBSCRIBED:"Like Upsell Free Subscribed",LIKE_UPSELL_MODAL_SEEN:"Like Upsell Modal Seen",LIKE_UPSELL_PLAN_SELECTED:"Like Upsell Plan Selected",LIKE_UPSELL_PLEDGE_CLICKED:"Like Upsell Pledge Clicked",LISTEN_TO_THIS_POST_MODAL_DISMISSED:"Listen To This Post Modal Dismissed",LISTEN_TO_THIS_POST_MODAL_GET_THE_APP_CLICKED:"Listen To This Post Modal Get The App Clicked",LISTEN_TO_THIS_POST_MODAL_SHOWN:"Listen To This Post Modal Shown",MANAGE_RECOMMENDATIONS_BUTTON_CLICKED:"Manage Recommendations Button Clicked",MANAGE_RECOMMENDATIONS_LEARN_MORE_CLICKED:"Manage Recommendations Learn More Clicked",MANAGE_RECOMMENDATIONS_MODAL_CLOSED:"Manage Recommendations Modal Closed",MANAGE_RECOMMENDATIONS_MODAL_OPENED:"Manage Recommendations Modal Opened",MANAGE_RECOMMENDATIONS_STEP_CHANGED:"Manage Recommendations Step Changed",MEDIA_UPLOAD_COMPLETED:"Media Upload Completed",MEDIA_UPLOAD_CREATED:"Media Upload Created",MEDIA_UPLOAD_FAILED:"Media Upload Failed",MEDIA_UPLOAD_STARTED:"Media Upload Started",MEETING_MISSING_PAYMENT:"Meeting Missing Payment",MEETING_ORDER_PAGE_VIEWED:"Meeting Order Page Viewed",MEETING_PAGE_VIEWED:"Meeting Page Viewed",MEETING_POST_TEMPLATE_CREATED:"Meeting Post Template Created",MEETING_SUBMIT_PRESSED:"Meeting Submit Pressed",NATIVE_SHARE_FAILED:"Native Share Failed",NATIVE_SHARE_SUCCESS:"Native Share Success",NAV_BAR_CTA_CLICKED:"Nav Bar Cta Clicked",NAV_BAR_HOME_LINK_CLICKED:"Nav Bar Home Link Clicked",NEW_GUEST_POST_CLICKED:"New Guest Post Clicked",NEW_SUBSCRIPTION_ON_PROFILE_DISPLAYED:"New Subscription On Profile Displayed",NEXT_POST_LINK_CLICKED:"Next Post Link Clicked",NOTES_BAN_PAGE_VIEWED:"Notes Ban Page Viewed",NOTIFICATIONS_ALERT_SHOWN:"Notifications Alert Shown",NOTIFICATIONS_DROPDOWN_VIEWED:"Notifications Dropdown Viewed",NOTIFICATIONS_UNREAD_SHOWN:"Notifications Unread Shown",OPENNODE_ACCOUNT_SIGNUP_CLICKED:"Opennode Account Signup Clicked",OPENNODE_GENERATE_API_KEY_CLICKED:"Opennode Generate Api Key Clicked",OTHER_SUBSCRIPTION_OPTIONS_CLICKED:"Other Subscription Options Clicked",OTHER_SUBSCRIPTION_OPTION_SELECTED:"Other Subscription Option Selected",PAGES:"Pages",PAYMENT_CONFIRMATION_FAILED:"Payment Confirmation Failed",PAYMENT_CONFIRMATION_STARTED:"Payment Confirmation Started",PAYMENT_CONFIRMATION_SUCCEEDED:"Payment Confirmation Succeeded",PAYMENT_PLEDGE_LAUNCH_MODAL_SEEN:"Payment Pledge Launch Modal Seen",PAYMENT_PLEDGE_LAUNCH_MODAL_TURN_OFF_CLICKED:"Payment Pledge Launch Modal Turn Off Clicked",PAYMENT_PLEDGE_MISSING_PAYMENT:"Payment Pledge Missing Payment",PAYMENT_PLEDGE_NOTE_SCREEN_FAILED:"Payment Pledge Note Screen Failed",PAYMENT_PLEDGE_NOTE_SCREEN_SEEN:"Payment Pledge Note Screen Seen",PAYMENT_PLEDGE_NOTE_SCREEN_SUBMITTED:"Payment Pledge Note Screen Submitted",PAYMENT_PLEDGE_PRICE_WARNING_SEEN:"Payment Pledge Price Warning Seen",PAYMENT_PLEDGE_SCREEN_FAILED:"Payment Pledge Screen Failed",PAYMENT_PLEDGE_SCREEN_SEEN:"Payment Pledge Screen Seen",PAYMENT_PLEDGE_SCREEN_SKIPPED:"Payment Pledge Screen Skipped",PAYMENT_PLEDGE_SCREEN_SUBMITTED:"Payment Pledge Screen Submitted",PAYMENT_SETUP_BUTTON_CLICKED:"Payment Setup Button Clicked",PAYMENT_SUGGESTION_MODAL_ERROR:"Payment Suggestion Modal Error",PAYMENT_SUGGESTION_MODAL_SEEN:"Payment Suggestion Modal Seen",PAYMENT_SUGGESTION_MODAL_STRIPE_ERROR:"Payment Suggestion Modal Stripe Error",PAYMENT_SUGGESTION_MODAL_SUBMITTED:"Payment Suggestion Modal Submitted",PAYWALL_FREE_SIGNUP_FAILED:"Paywall Free Signup Failed",PAYWALL_FREE_TRIAL_CTA_CLICKED:"Paywall Free Trial Cta Clicked",PAYWALL_FREE_TRIAL_CTA_DISMISSED:"Paywall Free Trial Cta Dismissed",PAYWALL_FREE_TRIAL_CTA_SHOWN:"Paywall Free Trial Cta Shown",PAYWALL_PROMPT_ACCEPTED:"Paywall Prompt Accepted",PAYWALL_PROMPT_REJECTED:"Paywall Prompt Rejected",PODCAST_APP_LINK_CLICK:"Podcast App Link Click",PODCAST_EDITING_COMPLETE:"Podcast Editing Complete",PODCAST_EDITING_ERROR:"Podcast Editing Error",PODCAST_EDITING_INITIATED:"Podcast Editing Initiated",PODCAST_EMAIL_LINK_CLICKED:"Podcast Email Link Clicked",PODCAST_EPISODE_NOTES_SAVE_CLICKED:"Podcast Episode Notes Save Clicked",PODCAST_FEED_URL_COPIED:"Podcast Feed Url Copied",PODCAST_LISTEN_ON_CLICKED:"Podcast Listen On Clicked",PODCAST_PREVIEW_MENU_ADD_PREVIEW_CLICKED:"Podcast Preview Menu Add Preview Clicked",PODCAST_PREVIEW_MENU_CLICKED:"Podcast Preview Menu Clicked",PODCAST_PREVIEW_MENU_REMOVE_CLICKED:"Podcast Preview Menu Remove Clicked",PODCAST_PREVIEW_MENU_REMOVE_PREVIEW_CLICKED:"Podcast Preview Menu Remove Preview Clicked",PODCAST_SETUP_COMPLETE:"Podcast Setup Complete",PODCAST_SETUP_ERROR:"Podcast Setup Error",PODCAST_SETUP_INITIATED:"Podcast Setup Initiated",POLL_SIGNUP_DIALOG_CLOSED:"Poll Signup Dialog Closed",POLL_SIGNUP_DIALOG_PRESENTED:"Poll Signup Dialog Presented",POLL_SIGNUP_DIALOG_SUBMITTED:"Poll Signup Dialog Submitted",POST_ARCHIVED:"Post Archived",POST_BOTTOM_SEEN:"Post Bottom Seen",POST_COMMENTS_FOOTER_SEEN:"Post Comments Footer Seen",POST_COMPOSER_CREATION_SHARED:"Post Composer Creation Shared",POST_COMPOSER_CREATION_SHARE_SHEET_VIEWED:"Post Composer Creation Share Sheet Viewed",POST_COMPOSER_DRAFT_LOADED:"Post Composer Draft Loaded",POST_COMPOSER_PUBLISH_CONFIRMATION_VIEWED:"Post Composer Publish Confirmation Viewed",POST_COMPOSER_PUB_PICKER_PUB_SELECTED:"Post Composer Pub Picker Pub Selected",POST_COMPOSER_PUB_PICKER_VIEWED:"Post Composer Pub Picker Viewed",POST_COMPOSER_SETTINGS_VIEWED:"Post Composer Settings Viewed",POST_COMPOSER_VIEWED:"Post Composer Viewed",POST_EDITOR_ADD_GUEST_CLICKED:"Post Editor Add Guest Clicked",POST_END_CTA_CLICKED:"Post End Cta Clicked",POST_END_CTA_RENDERED:"Post End Cta Rendered",POST_END_CTA_SEEN:"Post End Cta Seen",POST_INFO_VIEWED:"Post Info Viewed",POST_LINK_CLICKED:"Post Link Clicked",POST_PAGE_PINGBACK:"Post Page Pingback",POST_PAYWALL_SHOWN:"Post Paywall Shown",POST_PREVIEW_OPTION:"Post Preview Option",POST_PUBLISHED_SETTINGS:"Post Published Settings",POST_REACTIONS_MODAL_VIEWED:"Post Reactions Modal Viewed",POST_RECOMMENDATIONS_SHOWN:"Post Recommendations Shown",POST_SAVED:"Post Saved",POST_SEARCH_RESULT_CLICKED:"Post Search Result Clicked",POST_SEEN:"Post Seen",POST_SHARE_BUTTON_CLICKED:"Post Share Button Clicked",POST_TEXT_SELECTED:"Post Text Selected",POST_VIEWER_CLOSED:"Post Viewer Closed",POST_VIEWER_NAVIGATED:"Post Viewer Navigated",POST_VIEWER_VIEWED:"Post Viewer Viewed",PREFER_APPLE_PAY_CLICKED:"Prefer Apple Pay Clicked",PREFER_CREDIT_CARD_CLICKED:"Prefer Credit Card Clicked",PREPUBLISH_PROMPT_DISPLAYED:"Prepublish Prompt Displayed",PREVIEW_BUTTON_CLICKED:"Preview Button Clicked",PREVIOUS_POST_LINK_CLICKED:"Previous Post Link Clicked",PROCESSING_EPISODE_AUDIO_CLICKED:"Processing Episode Audio Clicked",PROCESSING_VOICEOVER_AUDIO_CLICKED:"Processing Voiceover Audio Clicked",PROFILE_EDITED:"Profile Edited",PROFILE_FILLED_OUT:"Profile Filled Out",PROFILE_SHARE_LINK_CLICKED:"Profile Share Link Clicked",PROFILE_STARTED:"Profile Started",PROFILE_UPDATER_SHOWN:"Profile Updater Shown",PROFILE_VISIBILITY_SET:"Profile Visibility Set",PROFILE_VISITED:"Profile Visited",PUBLICATION_FOOTER_SEEN:"Publication Footer Seen",PUBLICATION_HOVER_CARD_SHOWN:"Publication Hover Card Shown",PUBLICATION_RECOMMENDATIONS_SHOWN:"Publication Recommendations Shown",PUBLICATION_RECOMMENDATION_LINK_CLICKED:"Publication Recommendation Link Clicked",PUBLICATION_SETTING_TEXT_INPUT_ERRORED:"Publication Setting Text Input Errored",PUBLICATION_THREADS_SCREEN_VIEWED:"Publication Threads Screen Viewed",PUBLICATION_VISITED:"Publication Visited",PUBLISHER_DASHBOARD_POST_BUTTON_CLICKED:"Publisher Dashboard Post Button Clicked",PUBLISHER_DASHBOARD_SEEN:"Publisher Dashboard Seen",PUBLISHER_DASHBOARD_VISIT_SITE_CLICKED:"Publisher Dashboard Visit Site Clicked",PUBLISH_DISABLED_APPEALED:"Publish Disabled Appealed",REACTION_REJECTED:"Reaction Rejected",READER_INBOX_TAB_CHANGED:"Reader Inbox Tab Changed",READER_ONBOARDING_BULK_SUBSCRIBED:"Reader Onboarding Bulk Subscribed",READER_ONBOARDING_BULK_SUBSCRIBE_SELECTED_IN_UI:"Reader Onboarding Bulk Subscribe Selected In Ui",READER_ONBOARDING_BULK_SUBSCRIBE_SKIPPED:"Reader Onboarding Bulk Subscribe Skipped",READER_ONBOARDING_CATEGORIES_FINALIZED:"Reader Onboarding Categories Finalized",READER_ONBOARDING_CATEGORY_REQUESTED:"Reader Onboarding Category Requested",READER_ONBOARDING_CREATE_PUBLICATION_STEP_ERROR:"Reader Onboarding Create Publication Step Error",READER_ONBOARDING_CREATE_PUBLICATION_STEP_STARTED:"Reader Onboarding Create Publication Step Started",READER_ONBOARDING_CREATE_PUBLICATION_SUCCESS_STEP_SKIPPED:"Reader Onboarding Create Publication Success Step Skipped",READER_ONBOARDING_CREATE_PUBLICATION_SUCCESS_STEP_STARTED:"Reader Onboarding Create Publication Success Step Started",READER_ONBOARDING_EDIT_SUB_VISIBILITY_SKIPPED:"Reader Onboarding Edit Sub Visibility Skipped",READER_ONBOARDING_ERROR:"Reader Onboarding Error",READER_ONBOARDING_MODAL_CLOSED:"Reader Onboarding Modal Closed",READER_ONBOARDING_MODAL_OPENED:"Reader Onboarding Modal Opened",READER_ONBOARDING_NO_TWITTER_PUBS_RECOMMENDED:"Reader Onboarding No Twitter Pubs Recommended",READER_ONBOARDING_PROFILE_SETUP_SKIPPED:"Reader Onboarding Profile Setup Skipped",READER_ONBOARDING_PROFILE_SETUP_STARTED:"Reader Onboarding Profile Setup Started",READER_ONBOARDING_PUB_LANDING_LET_ME_READ_CLICKED:"Reader Onboarding Pub Landing Let Me Read Clicked",READER_ONBOARDING_PUB_LANDING_SIGNUP_SUCCEEDED:"Reader Onboarding Pub Landing Signup Succeeded",READER_ONBOARDING_PUB_LANDING_SUBSCRIBE_CLICKED:"Reader Onboarding Pub Landing Subscribe Clicked",READER_ONBOARDING_PUB_RECOMMENDED:"Reader Onboarding Pub Recommended",READER_ONBOARDING_PUB_SIGNUP_FAILED:"Reader Onboarding Pub Signup Failed",READER_ONBOARDING_PUB_SIGNUP_SUCCEEDED:"Reader Onboarding Pub Signup Succeeded",READER_ONBOARDING_SIGNUP_FAILED:"Reader Onboarding Signup Failed",READER_ONBOARDING_SIGNUP_SUCCEEDED:"Reader Onboarding Signup Succeeded",READER_ONBOARDING_SKIP_CATEGORIES_CLICKED:"Reader Onboarding Skip Categories Clicked",READER_ONBOARDING_SKIP_SUBSCRIBE_CLICKED:"Reader Onboarding Skip Subscribe Clicked",READER_ONBOARDING_SKIP_TWITTER_CLICKED:"Reader Onboarding Skip Twitter Clicked",READER_ONBOARDING_START_READING_CLICKED:"Reader Onboarding Start Reading Clicked",READER_ONBOARDING_START_WRITING_STEP_SKIPPED:"Reader Onboarding Start Writing Step Skipped",READER_ONBOARDING_START_WRITING_STEP_STARTED:"Reader Onboarding Start Writing Step Started",READER_ONBOARDING_STEP_CHANGED:"Reader Onboarding Step Changed",READER_ONBOARDING_TWITTER_LINK_CLICKED:"Reader Onboarding Twitter Link Clicked",READER_REFERRALS_MODAL_LEARN_MORE_CLICKED:"Reader Referrals Modal Learn More Clicked",READER_REFERRALS_MODAL_LEARN_MORE_SEEN:"Reader Referrals Modal Learn More Seen",READER_REFERRALS_MODAL_OPT_IN_CLICKED:"Reader Referrals Modal Opt In Clicked",READER_REFERRALS_MODAL_OPT_OUT_CLICKED:"Reader Referrals Modal Opt Out Clicked",RECOMMENDATIONS_CTA_CLICKED:"Recommendations Cta Clicked",RECOMMENDATIONS_CTA_DISMISSED:"Recommendations Cta Dismissed",RECOMMENDATIONS_CTA_SHOWN:"Recommendations Cta Shown",RECOMMENDATIONS_INVITE_WRITER_CLICKED:"Recommendations Invite Writer Clicked",RECOMMENDATION_SUBSCRIBE_BUTTON_CLICKED:"Recommendation Subscribe Button Clicked",RECOMMENDATION_UNSUBSCRIBE_BUTTON_CLICKED:"Recommendation Unsubscribe Button Clicked",RECOMMENDED_POST_CLICKED:"Recommended Post Clicked",RECOMMENDED_PUBLICATIONS_MAYBE_LATER_CLICKED:"Recommended Publications Maybe Later Clicked",RECOMMENDED_PUBLICATION_CLICKED:"Recommended Publication Clicked",RECOMMENDED_PUBLICATION_TOGGLED:"Recommended Publication Toggled",RECOMMEND_FROM_WRITER_ONBOARDING_CLICKED:"Recommend From Writer Onboarding Clicked",RECOMMEND_FROM_WRITER_ONBOARDING_SKIPPED:"Recommend From Writer Onboarding Skipped",RECORD_EPISODE_AUDIO_CLICKED:"Record Episode Audio Clicked",REFERRALS_ENABLE_DASHBOARD_CTA_CLICKED:"Referrals Enable Dashboard Cta Clicked",REFERRALS_ENABLE_DASHBOARD_CTA_DISMISSED:"Referrals Enable Dashboard Cta Dismissed",REFERRALS_ENABLE_DASHBOARD_CTA_SHOWN:"Referrals Enable Dashboard Cta Shown",RESTACK_POST_CLICKED:"Restack Post Clicked",RESTACK_POST_SUBMITTED:"Restack Post Submitted",REVUE_IMPORT_FORM_ERROR:"Revue Import Form Error",REVUE_IMPORT_FORM_INPUT_FILLED:"Revue Import Form Input Filled",REVUE_IMPORT_FORM_SUBMIT_PRESSED:"Revue Import Form Submit Pressed",SAVED_CARD_PAYWALL_FAILED:"Saved Card Paywall Failed",SAVED_CARD_PAYWALL_SEEN:"Saved Card Paywall Seen",SAVED_CARD_PAYWALL_SUBMITTED:"Saved Card Paywall Submitted",SAVED_POST_CLICKED:"Saved Post Clicked",SCORE_BASED_UPSELL_MODAL_DONE_CLICKED:"Score Based Upsell Modal Done Clicked",SCORE_BASED_UPSELL_MODAL_EDIT_EMAIL_CLICKED:"Score Based Upsell Modal Edit Email Clicked",SCORE_BASED_UPSELL_MODAL_SEEN:"Score Based Upsell Modal Seen",SECRET_LINK_COPIED:"Secret Link Copied",SECTION_EDITING_ERROR:"Section Editing Error",SECTION_EMAIL_STATE_SCREEN_SHOWN:"Section Email State Screen Shown",SECTION_SETUP_ERROR:"Section Setup Error",SECURITY_QUESTIONS_VIEWED:"Security Questions Viewed",SEEKED_AUDIO:"Seeked Audio",SELECTED_PLAN_CHANGED:"Selected Plan Changed",SEND_AS_EMAIL_PROMPT_ACCEPTED:"Send As Email Prompt Accepted",SEND_AS_EMAIL_PROMPT_REJECTED:"Send As Email Prompt Rejected",SETTINGS_PAGE_CONFIRM_EMAIL_BANNER_SHOWN:"Settings Page Confirm Email Banner Shown",SETTINGS_PAGE_CONFIRM_EMAIL_BUTTON_TAPPED:"Settings Page Confirm Email Button Tapped",SETUP_TWITTER_CTA_CONNECT_CLICKED:"Setup Twitter Cta Connect Clicked",SETUP_TWITTER_CTA_DISMISSED:"Setup Twitter Cta Dismissed",SETUP_TWITTER_CTA_SETDISCOVERABLE_CLICKED:"Setup Twitter Cta Setdiscoverable Clicked",SET_NEW_RATES_CLICKED:"Set New Rates Clicked",SHARE_DIALOG_OPENED:"Share Dialog Opened",SHARE_LINK_CLICKED:"Share Link Clicked",STAGED_RELEASE_SCHEDULED:"Staged Release Scheduled",STATS_PAGE_VIEWED:"Stats Page Viewed",STATS_PLACEHOLDER_SEEN:"Stats Placeholder Seen",SUBDOMAIN_CHANGED:"Subdomain Changed",SUBSCRIBER_BADGE_INFO_SHOWN:"Subscriber Badge Info Shown",SUBSCRIBER_COUNT_ANNOUNCEMENT_DISMISSED:"Subscriber Count Announcement Dismissed",SUBSCRIBER_COUNT_ANNOUNCEMENT_SETTINGS_CLICKED:"Subscriber Count Announcement Settings Clicked",SUBSCRIBER_COUNT_ANNOUNCEMENT_SHOWN:"Subscriber Count Announcement Shown",SUBSCRIBE_BUTTON_FLOATING_IN_POST_CLICKED:"Subscribe Button Floating In Post Clicked",SUBSCRIBE_BUTTON_IN_READER_ONBOARDING_CLICKED:"Subscribe Button In Reader Onboarding Clicked",SUBSCRIBE_BUTTON_IN_SEARCH_RESULTS_CLICKED:"Subscribe Button In Search Results Clicked",SUBSCRIBE_CONFIRM_PAYMENT_SCREEN_SHOWN:"Subscribe Confirm Payment Screen Shown",SUBSCRIBE_CTA_PROMPT_ACCEPTED:"Subscribe Cta Prompt Accepted",SUBSCRIBE_CTA_PROMPT_REJECTED:"Subscribe Cta Prompt Rejected",SUBSCRIBE_EMAIL_FULL_SCREEN_SHOWN:"Subscribe Email Full Screen Shown",SUBSCRIBE_EMAIL_SCREEN_SHOWN:"Subscribe Email Screen Shown",SUBSCRIBE_FLOW_START_WRITING_SEEN:"Subscribe Flow Start Writing Seen",SUBSCRIBE_FOOTER_SEEN:"Subscribe Footer Seen",SUBSCRIBE_FORM_ERROR:"Subscribe Form Error",SUBSCRIBE_FORM_INPUT_FILLED:"Subscribe Form Input Filled",SUBSCRIBE_FORM_MISSING_PAYMENT:"Subscribe Form Missing Payment",SUBSCRIBE_FORM_SUBMIT_PRESSED:"Subscribe Form Submit Pressed",SUBSCRIBE_INVITE_SCREEN_SHOWN:"Subscribe Invite Screen Shown",SUBSCRIBE_LATER_SCREEN_SHOWN:"Subscribe Later Screen Shown",SUBSCRIBE_MODAL_IN_POST_CLOSED:"Subscribe Modal In Post Closed",SUBSCRIBE_MODAL_IN_POST_OPENED_AUTOMATICALLY:"Subscribe Modal In Post Opened Automatically",SUBSCRIBE_PAGE_BULK_SUBSCRIBED:"Subscribe Page Bulk Subscribed",SUBSCRIBE_PROMPT_DISMISSED:"Subscribe Prompt Dismissed",SUBSCRIBE_PROMPT_EXPANDED:"Subscribe Prompt Expanded",SUBSCRIBE_PROMPT_SHOWN:"Subscribe Prompt Shown",SUBSCRIBE_PROMPT_SIGN_IN_CLICKED:"Subscribe Prompt Sign In Clicked",SUBSCRIBE_PROMPT_SUBMITTED:"Subscribe Prompt Submitted",SUBSCRIBE_SCREEN_SHOWN:"Subscribe Screen Shown",SUBSCRIBE_SCREEN_SUBMIT_ERROR:"Subscribe Screen Submit Error",SUBSCRIBE_SCREEN_TYPE_SELECTED:"Subscribe Screen Type Selected",SUBSCRIBE_THANK_YOU_SCREEN_SHOWN:"Subscribe Thank You Screen Shown",SUBSCRIBE_TWEET_SCREEN_SHOWN:"Subscribe Tweet Screen Shown",SUGGESTED_PUBS_SCREEN_SHOWN:"Suggested Pubs Screen Shown",SUGGESTED_PUBS_UPSELL_SCREEN_FREE_SUBSCRIPTION_ERROR:"Suggested Pubs Upsell Screen Free Subscription Error",SUGGESTED_PUBS_UPSELL_SCREEN_SHOWN:"Suggested Pubs Upsell Screen Shown",SUGGESTED_RECOMMEND_SUBSCRIBING_PUB_SCREEN_SHOWN:"Suggested Recommend Subscribing Pub Screen Shown",SUGGESTED_SUBDOMAIN_SELECTED:"Suggested Subdomain Selected",TEST_DRAFT_EMAIL_ERROR:"Test Draft Email Error",TEST_DRAFT_EMAIL_INPUT_FILLED:"Test Draft Email Input Filled",TEST_DRAFT_EMAIL_MISSING_PAYMENT:"Test Draft Email Missing Payment",TEST_DRAFT_EMAIL_SUBMIT_PRESSED:"Test Draft Email Submit Pressed",THREADS_COMPOSER_SCREEN_VIEWED:"Threads Composer Screen Viewed",THREADS_INBOX_SCREEN_VIEWED:"Threads Inbox Screen Viewed",THREAD_PAYWALL_SCREEN_VIEWED:"Thread Paywall Screen Viewed",THREAD_PERMALINK_VIEWED:"Thread Permalink Viewed",THREAD_REPLY_PERMALINK_VIEWED:"Thread Reply Permalink Viewed",THREAD_SUBSCRIBE_WALL_VIEWED:"Thread Subscribe Wall Viewed",TICKER_DID_YOU_MEAN_CLICKED:"Ticker Did You Mean Clicked",TOP_POSTS_FOOTER_SEEN:"Top Posts Footer Seen",TWITTER_AUTO_SHARE_OPTION_TOGGLED:"Twitter Auto Share Option Toggled",TWITTER_PROFILE_VISIBLE_TOGGLED:"Twitter Profile Visible Toggled",UNSUBSCRIBE_BUTTON_IN_READER_ONBOARDING_CLICKED:"Unsubscribe Button In Reader Onboarding Clicked",UNSUBSCRIBE_BUTTON_IN_SEARCH_RESULTS_CLICKED:"Unsubscribe Button In Search Results Clicked",UPDATE_EXPIRED_CARD_LINK_CLICKED:"Update Expired Card Link Clicked",UPGRADE_PLAN_MODAL_DISMISSED:"Upgrade Plan Modal Dismissed",UPGRADE_PLAN_MODAL_OPENED:"Upgrade Plan Modal Opened",UPGRADE_PLAN_MODAL_PLAN_CHANGED:"Upgrade Plan Modal Plan Changed",UPGRADE_PLAN_MODAL_SUBMITTED:"Upgrade Plan Modal Submitted",UPLOAD_AUDIO_CLICKED:"Upload Audio Clicked",UPLOAD_EPISODE_AUDIO_CLICKED:"Upload Episode Audio Clicked",UPLOAD_VIDEO_CLICKED:"Upload Video Clicked",USER_HEAD_CLICKED:"User Head Clicked",USER_LINK_CLICKED:"User Link Clicked",USER_MENU_ACCOUNT_SETTINGS_CLICKED:"User Menu Account Settings Clicked",USER_MENU_ACTIVITY_CLICKED:"User Menu Activity Clicked",USER_MENU_DASHBOARD_CLICKED:"User Menu Dashboard Clicked",USER_MENU_DISCOVER_CLICKED:"User Menu Discover Clicked",USER_MENU_DISMISSED:"User Menu Dismissed",USER_MENU_MANAGE_SUBSCRIPTION_CLICKED:"User Menu Manage Subscription Clicked",USER_MENU_OPENED:"User Menu Opened",USER_MENU_PROFILE_CLICKED:"User Menu Profile Clicked",USER_MENU_READER_CLICKED:"User Menu Reader Clicked",USER_MENU_SAVED_CLICKED:"User Menu Saved Clicked",VIDEO_BUFFERING_COMPLETED:"Video Buffering Completed",VIDEO_BUFFERING_STARTED:"Video Buffering Started",VIDEO_MODAL_BROWSE_FILES_CLICKED:"Video Modal Browse Files Clicked",VIDEO_MODAL_CANCEL_CLICKED:"Video Modal Cancel Clicked",VIDEO_MODAL_DROPPED_FILE:"Video Modal Dropped File",VIDEO_MODAL_INSERT_CLICKED:"Video Modal Insert Clicked",VIDEO_PAUSE_BUTTON_CLICKED:"Video Pause Button Clicked",VIDEO_PLAYBACK_COMPLETED:"Video Playback Completed",VIDEO_PLAYBACK_CONTINUED:"Video Playback Continued",VIDEO_RECORDED:"Video Recorded",VIDEO_RECORDER_HIDDEN:"Video Recorder Hidden",VIDEO_RECORDER_SHOWN:"Video Recorder Shown",VIDEO_RECORDER_STARTED:"Video Recorder Started",VIDEO_RECORDER_STARTING:"Video Recorder Starting",VIDEO_RECORDER_STOPPED:"Video Recorder Stopped",VIDEO_RECORDER_STOPPING:"Video Recorder Stopping",VIEWED_MORE_CATEGORY:"Viewed More Category",VIRAL_GIFT_ALL_EMAILS_FILLED:"Viral Gift All Emails Filled",VIRAL_GIFT_FORM_SUBMITTED:"Viral Gift Form Submitted",VIRAL_GIFT_LINK_COPIED:"Viral Gift Link Copied",VIRAL_GIFT_LINK_INPUT_CLICKED:"Viral Gift Link Input Clicked",VIRAL_GIFT_PAGE_VIEWED:"Viral Gift Page Viewed",VIRAL_GIFT_SHARE_ON_TWITTER_CLICKED:"Viral Gift Share On Twitter Clicked",VIRTUAL_FREE_SIGNUP_FAILED:"Virtual Free Signup Failed",WRITER_MEDIA_ASSETS_IMAGE_DOWNLOADED:"Writer Media Assets Image Downloaded",WRITER_MEDIA_ASSETS_PAGE_VISITED:"Writer Media Assets Page Visited",WRITER_REFERRAL_ACTION_BOX_DISMISSED:"Writer Referral Action Box Dismissed",WRITER_REFERRAL_ACTION_BOX_SHOWN:"Writer Referral Action Box Shown",WRITER_REFERRAL_CODE_COPIED:"Writer Referral Code Copied",WRITER_REFERRAL_PROFILE_LINK_CLICKED:"Writer Referral Profile Link Clicked",WRITER_SIGNUP_ADD_SUBS_SKIP:"Writer Signup Add Subs Skip",WRITER_SIGNUP_ADD_SUBS_SUCCESS:"Writer Signup Add Subs Success",WRITER_SIGNUP_CONNECT_ACCOUNTS_SKIP:"Writer Signup Connect Accounts Skip",WRITER_SIGNUP_CREATE_PUBLICATION_FORM_ERROR:"Writer Signup Create Publication Form Error",WRITER_SIGNUP_CREATE_PUBLICATION_FORM_INPUT_FILLED:"Writer Signup Create Publication Form Input Filled",WRITER_SIGNUP_CREATE_PUBLICATION_FORM_MISSING_PAYMENT:"Writer Signup Create Publication Form Missing Payment",WRITER_SIGNUP_CREATE_PUBLICATION_FORM_SUBMIT_PRESSED:"Writer Signup Create Publication Form Submit Pressed",WRITER_SIGNUP_EMAIL_INPUTS_FORM_ERROR:"Writer Signup Email Inputs Form Error",WRITER_SIGNUP_EMAIL_INPUTS_FORM_INPUT_FILLED:"Writer Signup Email Inputs Form Input Filled",WRITER_SIGNUP_EMAIL_INPUTS_FORM_MISSING_PAYMENT:"Writer Signup Email Inputs Form Missing Payment",WRITER_SIGNUP_EMAIL_INPUTS_FORM_SUBMIT_PRESSED:"Writer Signup Email Inputs Form Submit Pressed",WRITER_SIGNUP_GOOGLE_CLICKED:"Writer Signup Google Clicked",WRITER_SIGNUP_IMPORT_SKIP:"Writer Signup Import Skip",WRITER_SIGNUP_IMPORT_SUCCESS:"Writer Signup Import Success",WRITER_SIGNUP_LOG_IN_CLICKED:"Writer Signup Log In Clicked",WRITER_SIGNUP_PUBLISHER_AGREEMENT_FORM_ERROR:"Writer Signup Publisher Agreement Form Error",WRITER_SIGNUP_PUBLISHER_AGREEMENT_FORM_INPUT_FILLED:"Writer Signup Publisher Agreement Form Input Filled",WRITER_SIGNUP_PUBLISHER_AGREEMENT_FORM_MISSING_PAYMENT:"Writer Signup Publisher Agreement Form Missing Payment",WRITER_SIGNUP_PUBLISHER_AGREEMENT_FORM_SUBMIT_PRESSED:"Writer Signup Publisher Agreement Form Submit Pressed",WRITER_SIGNUP_SECOND_TWITTER_SKIP:"Writer Signup Second Twitter Skip",WRITER_SIGNUP_SETUP_PROFILE_FORM_ERROR:"Writer Signup Setup Profile Form Error",WRITER_SIGNUP_SETUP_PROFILE_FORM_INPUT_FILLED:"Writer Signup Setup Profile Form Input Filled",WRITER_SIGNUP_SETUP_PROFILE_FORM_MISSING_PAYMENT:"Writer Signup Setup Profile Form Missing Payment",WRITER_SIGNUP_SETUP_PROFILE_FORM_SUBMIT_PRESSED:"Writer Signup Setup Profile Form Submit Pressed",WRITER_SIGNUP_SUBSCRIBE_TO_OTHERS_SKIPPED:"Writer Signup Subscribe To Others Skipped",WRITER_SIGNUP_SWITCH_ACCOUNTS_CLICKED:"Writer Signup Switch Accounts Clicked",WRITER_SIGNUP_TWITTER_CLICKED:"Writer Signup Twitter Clicked",WRITING_BRANDPAGE_VISITED:"Writing Brandpage Visited",WRITING_HOMEPAGE_VISITED:"Writing Homepage Visited",ZENDESK_CLASSIC_WIDGET_INTERACTED:"Zendesk Classic Widget Interacted"},a={APPLICATION_BACKGROUNDED:"Application Backgrounded",APPLICATION_INSTALLED:"Application Installed",APPLICATION_OPENED:"Application Opened",APPLICATION_UPDATED:"Application Updated",APP_ICON_CHANGED:"App Icon Changed",APP_SIGN_IN_COMPLETE:"App Sign In Complete",ARCHIVE_SCREEN_VIEWED:"Archive Screen Viewed",AUDIO_UNAVAILABLE_MODAL_SHOWN:"Audio Unavailable Modal Shown",CHAT_MENTION_INSERTED:"Chat Mention Inserted",CHAT_MENTION_SEARCH_CANCELLED:"Chat Mention Search Cancelled",CHAT_MENTION_SEARCH_STARTED:"Chat Mention Search Started",COMING_SOON_SCREEN_VIEWED:"Coming Soon Screen Viewed",COMMENTS_THREAD_VIEWED:"Comments Thread Viewed",CONNECT_TWITTER_SCREEN_COMPLETED:"Connect Twitter Screen Completed",CONNECT_TWITTER_SCREEN_VIEWED:"Connect Twitter Screen Viewed",DISCOVERY_SCREEN_VIEWED:"Discovery Screen Viewed",DISCOVER_CATEGORY_SCREEN_VIEWED:"Discover Category Screen Viewed",DISPLAY_SETTINGS_UPDATED:"Display Settings Updated",DISPLAY_SETTINGS_VIEWED:"Display Settings Viewed",EMAIL_INSTRUCTIONS_SCREEN_VIEWED:"Email Instructions Screen Viewed",ENTER_PASSWORD_SCREEN_VIEWED:"Enter Password Screen Viewed",ENTRY_FLOW_COMPLETED:"Entry Flow Completed",ENTRY_FLOW_STARTED:"Entry Flow Started",FEED_COMPOSER_SCREEN_VIEWED:"Feed Composer Screen Viewed",INBOX_AUDIO_ENTRY_TAPPED:"Inbox Audio Entry Tapped",INBOX_SCREEN_VIEWED:"Inbox Screen Viewed",IOS_EXTERNAL_LINK_CLICKED:"Ios External Link Clicked",IOS_EXTERNAL_LINK_OPENED:"Ios External Link Opened",IOS_EXTERNAL_LINK_SEEN:"Ios External Link Seen",LIBRARY_SCREEN_VIEWED:"Library Screen Viewed",MENTION_INSERTED:"Mention Inserted",MENTION_SEARCH_CANCELLED:"Mention Search Cancelled",MENTION_SEARCH_STARTED:"Mention Search Started",MFA_CHALLENGE_SCREEN_VIEWED:"Mfa Challenge Screen Viewed",MOBILE_NEW_FEATURE_MODAL_SHOWN:"Mobile New Feature Modal Shown",NOTIFICATIONS_UPSELL_MODAL_SHOWN:"Notifications Upsell Modal Shown",ONBOARDING_NOTIFICATIONS_SCREEN_COMPLETED:"Onboarding Notifications Screen Completed",ONBOARDING_NOTIFICATIONS_SCREEN_VIEWED:"Onboarding Notifications Screen Viewed",ONBOARDING_NOTIFICATIONS_SKIP_REPROMPT_VIEWED:"Onboarding Notifications Skip Reprompt Viewed",ONBOARDING_SUGGESTIONS_SCREEN_COMPLETED:"Onboarding Suggestions Screen Completed",ONBOARDING_SUGGESTIONS_SCREEN_VIEWED:"Onboarding Suggestions Screen Viewed",PLAYER_ACTIVATED:"Player Activated",PLAYER_DISMISSED:"Player Dismissed",PLAYER_OPENED:"Player Opened",PLAYER_QUEUE_ITEM_REMOVED:"Player Queue Item Removed",PLAYER_QUEUE_ITEM_SELECTED:"Player Queue Item Selected",PLAYER_QUEUE_OPENED:"Player Queue Opened",PLAYER_QUEUE_REORDERED:"Player Queue Reordered",PLAYER_SPEED_CHANGED:"Player Speed Changed",PODCASTS_SCREEN_VIEWED:"Podcasts Screen Viewed",POSTS_BULK_ARCHIVED:"Posts Bulk Archived",POST_AUDIO_ENTRY_TAPPED:"Post Audio Entry Tapped",POST_AUDIO_QUEUED:"Post Audio Queued",PROFILE_CREATION_SCREEN_VIEWED:"Profile Creation Screen Viewed",PROFILE_VISIBILITY_SCREEN_VIEWED:"Profile Visibility Screen Viewed",PUSH_AUTHORIZATION_STATUS_CHANGED:"Push Authorization Status Changed",PUSH_NOTIFICATIONS_ENABLED:"Push Notifications Enabled",PUSH_NOTIFICATION_DELIVERED:"Push Notification Delivered",PUSH_NOTIFICATION_PERMISSION_TRIGGERED:"Push Notification Permission Triggered",PUSH_NOTIFICATION_TAPPED:"Push Notification Tapped",PUSH_SETTINGS_SCREEN_VIEWED:"Push Settings Screen Viewed",SAVED_POSTS_VIEWED:"Saved Posts Viewed",SUBSTACK_PUB_SCREEN_COMPLETED:"Substack Pub Screen Completed",SUBSTACK_PUB_SCREEN_VIEWED:"Substack Pub Screen Viewed",THREADS_INTRO_SCREEN_VIEWED:"Threads Intro Screen Viewed",TWITTER_SUGGESTIONS_SCREEN_COMPLETED:"Twitter Suggestions Screen Completed",TWITTER_SUGGESTIONS_SCREEN_VIEWED:"Twitter Suggestions Screen Viewed",UNSUPPORTED_EMBED_SEEN:"Unsupported Embed Seen",WELCOME_SCREEN_VIEWED:"Welcome Screen Viewed"}},function(k,n,t){"use strict";(function(e){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
* @license  MIT
*/var a=t(971),o=t(972),l=t(973);n.Buffer=f,n.SlowBuffer=j,n.INSPECT_MAX_BYTES=50,f.TYPED_ARRAY_SUPPORT=e.TYPED_ARRAY_SUPPORT!==void 0?e.TYPED_ARRAY_SUPPORT:d(),n.kMaxLength=c();function d(){try{var ce=new Uint8Array(1);return ce.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},ce.foo()===42&&typeof ce.subarray=="function"&&ce.subarray(1,1).byteLength===0}catch(q){return!1}}function c(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(ce,q){if(c()<q)throw new RangeError("Invalid typed array length");return f.TYPED_ARRAY_SUPPORT?(ce=new Uint8Array(q),ce.__proto__=f.prototype):(ce===null&&(ce=new f(q)),ce.length=q),ce}function f(ce,q,te){if(!f.TYPED_ARRAY_SUPPORT&&!(this instanceof f))return new f(ce,q,te);if(typeof ce=="number"){if(typeof q=="string")throw new Error("If encoding is specified then the first argument must be a string");return O(this,ce)}return m(this,ce,q,te)}f.poolSize=8192,f._augment=function(ce){return ce.__proto__=f.prototype,ce};function m(ce,q,te,ue){if(typeof q=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&q instanceof ArrayBuffer?i(ce,q,te,ue):typeof q=="string"?s(ce,q,te):h(ce,q)}f.from=function(ce,q,te){return m(null,ce,q,te)},f.TYPED_ARRAY_SUPPORT&&(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0}));function p(ce){if(typeof ce!="number")throw new TypeError('"size" argument must be a number');if(ce<0)throw new RangeError('"size" argument must not be negative')}function g(ce,q,te,ue){return p(q),q<=0?u(ce,q):te!==void 0?typeof ue=="string"?u(ce,q).fill(te,ue):u(ce,q).fill(te):u(ce,q)}f.alloc=function(ce,q,te){return g(null,ce,q,te)};function O(ce,q){if(p(q),ce=u(ce,q<0?0:v(q)|0),!f.TYPED_ARRAY_SUPPORT)for(var te=0;te<q;++te)ce[te]=0;return ce}f.allocUnsafe=function(ce){return O(null,ce)},f.allocUnsafeSlow=function(ce){return O(null,ce)};function s(ce,q,te){if((typeof te!="string"||te==="")&&(te="utf8"),!f.isEncoding(te))throw new TypeError('"encoding" must be a valid string encoding');var ue=y(q,te)|0;ce=u(ce,ue);var We=ce.write(q,te);return We!==ue&&(ce=ce.slice(0,We)),ce}function r(ce,q){var te=q.length<0?0:v(q.length)|0;ce=u(ce,te);for(var ue=0;ue<te;ue+=1)ce[ue]=q[ue]&255;return ce}function i(ce,q,te,ue){if(q.byteLength,te<0||q.byteLength<te)throw new RangeError("'offset' is out of bounds");if(q.byteLength<te+(ue||0))throw new RangeError("'length' is out of bounds");return te===void 0&&ue===void 0?q=new Uint8Array(q):ue===void 0?q=new Uint8Array(q,te):q=new Uint8Array(q,te,ue),f.TYPED_ARRAY_SUPPORT?(ce=q,ce.__proto__=f.prototype):ce=r(ce,q),ce}function h(ce,q){if(f.isBuffer(q)){var te=v(q.length)|0;return ce=u(ce,te),ce.length===0||q.copy(ce,0,0,te),ce}if(q){if(typeof ArrayBuffer!="undefined"&&q.buffer instanceof ArrayBuffer||"length"in q)return typeof q.length!="number"||Ne(q.length)?u(ce,0):r(ce,q);if(q.type==="Buffer"&&l(q.data))return r(ce,q.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function v(ce){if(ce>=c())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c().toString(16)+" bytes");return ce|0}function j(ce){return+ce!=ce&&(ce=0),f.alloc(+ce)}f.isBuffer=function(q){return!!(q!=null&&q._isBuffer)},f.compare=function(q,te){if(!f.isBuffer(q)||!f.isBuffer(te))throw new TypeError("Arguments must be Buffers");if(q===te)return 0;for(var ue=q.length,We=te.length,ot=0,ze=Math.min(ue,We);ot<ze;++ot)if(q[ot]!==te[ot]){ue=q[ot],We=te[ot];break}return ue<We?-1:We<ue?1:0},f.isEncoding=function(q){switch(String(q).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(q,te){if(!l(q))throw new TypeError('"list" argument must be an Array of Buffers');if(q.length===0)return f.alloc(0);var ue;if(te===void 0)for(te=0,ue=0;ue<q.length;++ue)te+=q[ue].length;var We=f.allocUnsafe(te),ot=0;for(ue=0;ue<q.length;++ue){var ze=q[ue];if(!f.isBuffer(ze))throw new TypeError('"list" argument must be an Array of Buffers');ze.copy(We,ot),ot+=ze.length}return We};function y(ce,q){if(f.isBuffer(ce))return ce.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(ce)||ce instanceof ArrayBuffer))return ce.byteLength;typeof ce!="string"&&(ce=""+ce);var te=ce.length;if(te===0)return 0;for(var ue=!1;;)switch(q){case"ascii":case"latin1":case"binary":return te;case"utf8":case"utf-8":case void 0:return ie(ce).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return te*2;case"hex":return te>>>1;case"base64":return Ae(ce).length;default:if(ue)return ie(ce).length;q=(""+q).toLowerCase(),ue=!0}}f.byteLength=y;function b(ce,q,te){var ue=!1;if((q===void 0||q<0)&&(q=0),q>this.length||((te===void 0||te>this.length)&&(te=this.length),te<=0)||(te>>>=0,q>>>=0,te<=q))return"";for(ce||(ce="utf8");;)switch(ce){case"hex":return Y(this,q,te);case"utf8":case"utf-8":return D(this,q,te);case"ascii":return V(this,q,te);case"latin1":case"binary":return K(this,q,te);case"base64":return S(this,q,te);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,q,te);default:if(ue)throw new TypeError("Unknown encoding: "+ce);ce=(ce+"").toLowerCase(),ue=!0}}f.prototype._isBuffer=!0;function E(ce,q,te){var ue=ce[q];ce[q]=ce[te],ce[te]=ue}f.prototype.swap16=function(){var q=this.length;if(q%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var te=0;te<q;te+=2)E(this,te,te+1);return this},f.prototype.swap32=function(){var q=this.length;if(q%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var te=0;te<q;te+=4)E(this,te,te+3),E(this,te+1,te+2);return this},f.prototype.swap64=function(){var q=this.length;if(q%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var te=0;te<q;te+=8)E(this,te,te+7),E(this,te+1,te+6),E(this,te+2,te+5),E(this,te+3,te+4);return this},f.prototype.toString=function(){var q=this.length|0;return q===0?"":arguments.length===0?D(this,0,q):b.apply(this,arguments)},f.prototype.equals=function(q){if(!f.isBuffer(q))throw new TypeError("Argument must be a Buffer");return this===q?!0:f.compare(this,q)===0},f.prototype.inspect=function(){var q="",te=n.INSPECT_MAX_BYTES;return this.length>0&&(q=this.toString("hex",0,te).match(/.{2}/g).join(" "),this.length>te&&(q+=" ... ")),"<Buffer "+q+">"},f.prototype.compare=function(q,te,ue,We,ot){if(!f.isBuffer(q))throw new TypeError("Argument must be a Buffer");if(te===void 0&&(te=0),ue===void 0&&(ue=q?q.length:0),We===void 0&&(We=0),ot===void 0&&(ot=this.length),te<0||ue>q.length||We<0||ot>this.length)throw new RangeError("out of range index");if(We>=ot&&te>=ue)return 0;if(We>=ot)return-1;if(te>=ue)return 1;if(te>>>=0,ue>>>=0,We>>>=0,ot>>>=0,this===q)return 0;for(var ze=ot-We,vt=ue-te,Wt=Math.min(ze,vt),zt=this.slice(We,ot),at=q.slice(te,ue),Me=0;Me<Wt;++Me)if(zt[Me]!==at[Me]){ze=zt[Me],vt=at[Me];break}return ze<vt?-1:vt<ze?1:0};function P(ce,q,te,ue,We){if(ce.length===0)return-1;if(typeof te=="string"?(ue=te,te=0):te>2147483647?te=2147483647:te<-2147483648&&(te=-2147483648),te=+te,isNaN(te)&&(te=We?0:ce.length-1),te<0&&(te=ce.length+te),te>=ce.length){if(We)return-1;te=ce.length-1}else if(te<0)if(We)te=0;else return-1;if(typeof q=="string"&&(q=f.from(q,ue)),f.isBuffer(q))return q.length===0?-1:A(ce,q,te,ue,We);if(typeof q=="number")return q=q&255,f.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?We?Uint8Array.prototype.indexOf.call(ce,q,te):Uint8Array.prototype.lastIndexOf.call(ce,q,te):A(ce,[q],te,ue,We);throw new TypeError("val must be string, number or Buffer")}function A(ce,q,te,ue,We){var ot=1,ze=ce.length,vt=q.length;if(ue!==void 0&&(ue=String(ue).toLowerCase(),ue==="ucs2"||ue==="ucs-2"||ue==="utf16le"||ue==="utf-16le")){if(ce.length<2||q.length<2)return-1;ot=2,ze/=2,vt/=2,te/=2}function Wt(Xe,Te){return ot===1?Xe[Te]:Xe.readUInt16BE(Te*ot)}var zt;if(We){var at=-1;for(zt=te;zt<ze;zt++)if(Wt(ce,zt)===Wt(q,at===-1?0:zt-at)){if(at===-1&&(at=zt),zt-at+1===vt)return at*ot}else at!==-1&&(zt-=zt-at),at=-1}else for(te+vt>ze&&(te=ze-vt),zt=te;zt>=0;zt--){for(var Me=!0,Be=0;Be<vt;Be++)if(Wt(ce,zt+Be)!==Wt(q,Be)){Me=!1;break}if(Me)return zt}return-1}f.prototype.includes=function(q,te,ue){return this.indexOf(q,te,ue)!==-1},f.prototype.indexOf=function(q,te,ue){return P(this,q,te,ue,!0)},f.prototype.lastIndexOf=function(q,te,ue){return P(this,q,te,ue,!1)};function _(ce,q,te,ue){te=Number(te)||0;var We=ce.length-te;ue?(ue=Number(ue),ue>We&&(ue=We)):ue=We;var ot=q.length;if(ot%2!=0)throw new TypeError("Invalid hex string");ue>ot/2&&(ue=ot/2);for(var ze=0;ze<ue;++ze){var vt=parseInt(q.substr(ze*2,2),16);if(isNaN(vt))return ze;ce[te+ze]=vt}return ze}function M(ce,q,te,ue){return Pe(ie(q,ce.length-te),ce,te,ue)}function F(ce,q,te,ue){return Pe(Ce(q),ce,te,ue)}function H(ce,q,te,ue){return F(ce,q,te,ue)}function C(ce,q,te,ue){return Pe(Ae(q),ce,te,ue)}function T(ce,q,te,ue){return Pe(Le(q,ce.length-te),ce,te,ue)}f.prototype.write=function(q,te,ue,We){if(te===void 0)We="utf8",ue=this.length,te=0;else if(ue===void 0&&typeof te=="string")We=te,ue=this.length,te=0;else if(isFinite(te))te=te|0,isFinite(ue)?(ue=ue|0,We===void 0&&(We="utf8")):(We=ue,ue=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ot=this.length-te;if((ue===void 0||ue>ot)&&(ue=ot),q.length>0&&(ue<0||te<0)||te>this.length)throw new RangeError("Attempt to write outside buffer bounds");We||(We="utf8");for(var ze=!1;;)switch(We){case"hex":return _(this,q,te,ue);case"utf8":case"utf-8":return M(this,q,te,ue);case"ascii":return F(this,q,te,ue);case"latin1":case"binary":return H(this,q,te,ue);case"base64":return C(this,q,te,ue);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,q,te,ue);default:if(ze)throw new TypeError("Unknown encoding: "+We);We=(""+We).toLowerCase(),ze=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function S(ce,q,te){return q===0&&te===ce.length?a.fromByteArray(ce):a.fromByteArray(ce.slice(q,te))}function D(ce,q,te){te=Math.min(ce.length,te);for(var ue=[],We=q;We<te;){var ot=ce[We],ze=null,vt=ot>239?4:ot>223?3:ot>191?2:1;if(We+vt<=te){var Wt,zt,at,Me;switch(vt){case 1:ot<128&&(ze=ot);break;case 2:Wt=ce[We+1],(Wt&192)==128&&(Me=(ot&31)<<6|Wt&63,Me>127&&(ze=Me));break;case 3:Wt=ce[We+1],zt=ce[We+2],(Wt&192)==128&&(zt&192)==128&&(Me=(ot&15)<<12|(Wt&63)<<6|zt&63,Me>2047&&(Me<55296||Me>57343)&&(ze=Me));break;case 4:Wt=ce[We+1],zt=ce[We+2],at=ce[We+3],(Wt&192)==128&&(zt&192)==128&&(at&192)==128&&(Me=(ot&15)<<18|(Wt&63)<<12|(zt&63)<<6|at&63,Me>65535&&Me<1114112&&(ze=Me))}}ze===null?(ze=65533,vt=1):ze>65535&&(ze-=65536,ue.push(ze>>>10&1023|55296),ze=56320|ze&1023),ue.push(ze),We+=vt}return U(ue)}var w=4096;function U(ce){var q=ce.length;if(q<=w)return String.fromCharCode.apply(String,ce);for(var te="",ue=0;ue<q;)te+=String.fromCharCode.apply(String,ce.slice(ue,ue+=w));return te}function V(ce,q,te){var ue="";te=Math.min(ce.length,te);for(var We=q;We<te;++We)ue+=String.fromCharCode(ce[We]&127);return ue}function K(ce,q,te){var ue="";te=Math.min(ce.length,te);for(var We=q;We<te;++We)ue+=String.fromCharCode(ce[We]);return ue}function Y(ce,q,te){var ue=ce.length;(!q||q<0)&&(q=0),(!te||te<0||te>ue)&&(te=ue);for(var We="",ot=q;ot<te;++ot)We+=X(ce[ot]);return We}function W(ce,q,te){for(var ue=ce.slice(q,te),We="",ot=0;ot<ue.length;ot+=2)We+=String.fromCharCode(ue[ot]+ue[ot+1]*256);return We}f.prototype.slice=function(q,te){var ue=this.length;q=~~q,te=te===void 0?ue:~~te,q<0?(q+=ue,q<0&&(q=0)):q>ue&&(q=ue),te<0?(te+=ue,te<0&&(te=0)):te>ue&&(te=ue),te<q&&(te=q);var We;if(f.TYPED_ARRAY_SUPPORT)We=this.subarray(q,te),We.__proto__=f.prototype;else{var ot=te-q;We=new f(ot,void 0);for(var ze=0;ze<ot;++ze)We[ze]=this[ze+q]}return We};function R(ce,q,te){if(ce%1!=0||ce<0)throw new RangeError("offset is not uint");if(ce+q>te)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUIntLE=function(q,te,ue){q=q|0,te=te|0,ue||R(q,te,this.length);for(var We=this[q],ot=1,ze=0;++ze<te&&(ot*=256);)We+=this[q+ze]*ot;return We},f.prototype.readUIntBE=function(q,te,ue){q=q|0,te=te|0,ue||R(q,te,this.length);for(var We=this[q+--te],ot=1;te>0&&(ot*=256);)We+=this[q+--te]*ot;return We},f.prototype.readUInt8=function(q,te){return te||R(q,1,this.length),this[q]},f.prototype.readUInt16LE=function(q,te){return te||R(q,2,this.length),this[q]|this[q+1]<<8},f.prototype.readUInt16BE=function(q,te){return te||R(q,2,this.length),this[q]<<8|this[q+1]},f.prototype.readUInt32LE=function(q,te){return te||R(q,4,this.length),(this[q]|this[q+1]<<8|this[q+2]<<16)+this[q+3]*16777216},f.prototype.readUInt32BE=function(q,te){return te||R(q,4,this.length),this[q]*16777216+(this[q+1]<<16|this[q+2]<<8|this[q+3])},f.prototype.readIntLE=function(q,te,ue){q=q|0,te=te|0,ue||R(q,te,this.length);for(var We=this[q],ot=1,ze=0;++ze<te&&(ot*=256);)We+=this[q+ze]*ot;return ot*=128,We>=ot&&(We-=Math.pow(2,8*te)),We},f.prototype.readIntBE=function(q,te,ue){q=q|0,te=te|0,ue||R(q,te,this.length);for(var We=te,ot=1,ze=this[q+--We];We>0&&(ot*=256);)ze+=this[q+--We]*ot;return ot*=128,ze>=ot&&(ze-=Math.pow(2,8*te)),ze},f.prototype.readInt8=function(q,te){return te||R(q,1,this.length),this[q]&128?(255-this[q]+1)*-1:this[q]},f.prototype.readInt16LE=function(q,te){te||R(q,2,this.length);var ue=this[q]|this[q+1]<<8;return ue&32768?ue|4294901760:ue},f.prototype.readInt16BE=function(q,te){te||R(q,2,this.length);var ue=this[q+1]|this[q]<<8;return ue&32768?ue|4294901760:ue},f.prototype.readInt32LE=function(q,te){return te||R(q,4,this.length),this[q]|this[q+1]<<8|this[q+2]<<16|this[q+3]<<24},f.prototype.readInt32BE=function(q,te){return te||R(q,4,this.length),this[q]<<24|this[q+1]<<16|this[q+2]<<8|this[q+3]},f.prototype.readFloatLE=function(q,te){return te||R(q,4,this.length),o.read(this,q,!0,23,4)},f.prototype.readFloatBE=function(q,te){return te||R(q,4,this.length),o.read(this,q,!1,23,4)},f.prototype.readDoubleLE=function(q,te){return te||R(q,8,this.length),o.read(this,q,!0,52,8)},f.prototype.readDoubleBE=function(q,te){return te||R(q,8,this.length),o.read(this,q,!1,52,8)};function B(ce,q,te,ue,We,ot){if(!f.isBuffer(ce))throw new TypeError('"buffer" argument must be a Buffer instance');if(q>We||q<ot)throw new RangeError('"value" argument is out of bounds');if(te+ue>ce.length)throw new RangeError("Index out of range")}f.prototype.writeUIntLE=function(q,te,ue,We){if(q=+q,te=te|0,ue=ue|0,!We){var ot=Math.pow(2,8*ue)-1;B(this,q,te,ue,ot,0)}var ze=1,vt=0;for(this[te]=q&255;++vt<ue&&(ze*=256);)this[te+vt]=q/ze&255;return te+ue},f.prototype.writeUIntBE=function(q,te,ue,We){if(q=+q,te=te|0,ue=ue|0,!We){var ot=Math.pow(2,8*ue)-1;B(this,q,te,ue,ot,0)}var ze=ue-1,vt=1;for(this[te+ze]=q&255;--ze>=0&&(vt*=256);)this[te+ze]=q/vt&255;return te+ue},f.prototype.writeUInt8=function(q,te,ue){return q=+q,te=te|0,ue||B(this,q,te,1,255,0),f.TYPED_ARRAY_SUPPORT||(q=Math.floor(q)),this[te]=q&255,te+1};function x(ce,q,te,ue){q<0&&(q=65535+q+1);for(var We=0,ot=Math.min(ce.length-te,2);We<ot;++We)ce[te+We]=(q&255<<8*(ue?We:1-We))>>>(ue?We:1-We)*8}f.prototype.writeUInt16LE=function(q,te,ue){return q=+q,te=te|0,ue||B(this,q,te,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[te]=q&255,this[te+1]=q>>>8):x(this,q,te,!0),te+2},f.prototype.writeUInt16BE=function(q,te,ue){return q=+q,te=te|0,ue||B(this,q,te,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[te]=q>>>8,this[te+1]=q&255):x(this,q,te,!1),te+2};function G(ce,q,te,ue){q<0&&(q=4294967295+q+1);for(var We=0,ot=Math.min(ce.length-te,4);We<ot;++We)ce[te+We]=q>>>(ue?We:3-We)*8&255}f.prototype.writeUInt32LE=function(q,te,ue){return q=+q,te=te|0,ue||B(this,q,te,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[te+3]=q>>>24,this[te+2]=q>>>16,this[te+1]=q>>>8,this[te]=q&255):G(this,q,te,!0),te+4},f.prototype.writeUInt32BE=function(q,te,ue){return q=+q,te=te|0,ue||B(this,q,te,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[te]=q>>>24,this[te+1]=q>>>16,this[te+2]=q>>>8,this[te+3]=q&255):G(this,q,te,!1),te+4},f.prototype.writeIntLE=function(q,te,ue,We){if(q=+q,te=te|0,!We){var ot=Math.pow(2,8*ue-1);B(this,q,te,ue,ot-1,-ot)}var ze=0,vt=1,Wt=0;for(this[te]=q&255;++ze<ue&&(vt*=256);)q<0&&Wt===0&&this[te+ze-1]!==0&&(Wt=1),this[te+ze]=(q/vt>>0)-Wt&255;return te+ue},f.prototype.writeIntBE=function(q,te,ue,We){if(q=+q,te=te|0,!We){var ot=Math.pow(2,8*ue-1);B(this,q,te,ue,ot-1,-ot)}var ze=ue-1,vt=1,Wt=0;for(this[te+ze]=q&255;--ze>=0&&(vt*=256);)q<0&&Wt===0&&this[te+ze+1]!==0&&(Wt=1),this[te+ze]=(q/vt>>0)-Wt&255;return te+ue},f.prototype.writeInt8=function(q,te,ue){return q=+q,te=te|0,ue||B(this,q,te,1,127,-128),f.TYPED_ARRAY_SUPPORT||(q=Math.floor(q)),q<0&&(q=255+q+1),this[te]=q&255,te+1},f.prototype.writeInt16LE=function(q,te,ue){return q=+q,te=te|0,ue||B(this,q,te,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[te]=q&255,this[te+1]=q>>>8):x(this,q,te,!0),te+2},f.prototype.writeInt16BE=function(q,te,ue){return q=+q,te=te|0,ue||B(this,q,te,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[te]=q>>>8,this[te+1]=q&255):x(this,q,te,!1),te+2},f.prototype.writeInt32LE=function(q,te,ue){return q=+q,te=te|0,ue||B(this,q,te,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[te]=q&255,this[te+1]=q>>>8,this[te+2]=q>>>16,this[te+3]=q>>>24):G(this,q,te,!0),te+4},f.prototype.writeInt32BE=function(q,te,ue){return q=+q,te=te|0,ue||B(this,q,te,4,2147483647,-2147483648),q<0&&(q=4294967295+q+1),f.TYPED_ARRAY_SUPPORT?(this[te]=q>>>24,this[te+1]=q>>>16,this[te+2]=q>>>8,this[te+3]=q&255):G(this,q,te,!1),te+4};function Q(ce,q,te,ue,We,ot){if(te+ue>ce.length)throw new RangeError("Index out of range");if(te<0)throw new RangeError("Index out of range")}function he(ce,q,te,ue,We){return We||Q(ce,q,te,4,34028234663852886e22,-34028234663852886e22),o.write(ce,q,te,ue,23,4),te+4}f.prototype.writeFloatLE=function(q,te,ue){return he(this,q,te,!0,ue)},f.prototype.writeFloatBE=function(q,te,ue){return he(this,q,te,!1,ue)};function Z(ce,q,te,ue,We){return We||Q(ce,q,te,8,17976931348623157e292,-17976931348623157e292),o.write(ce,q,te,ue,52,8),te+8}f.prototype.writeDoubleLE=function(q,te,ue){return Z(this,q,te,!0,ue)},f.prototype.writeDoubleBE=function(q,te,ue){return Z(this,q,te,!1,ue)},f.prototype.copy=function(q,te,ue,We){if(ue||(ue=0),!We&&We!==0&&(We=this.length),te>=q.length&&(te=q.length),te||(te=0),We>0&&We<ue&&(We=ue),We===ue||q.length===0||this.length===0)return 0;if(te<0)throw new RangeError("targetStart out of bounds");if(ue<0||ue>=this.length)throw new RangeError("sourceStart out of bounds");if(We<0)throw new RangeError("sourceEnd out of bounds");We>this.length&&(We=this.length),q.length-te<We-ue&&(We=q.length-te+ue);var ot=We-ue,ze;if(this===q&&ue<te&&te<We)for(ze=ot-1;ze>=0;--ze)q[ze+te]=this[ze+ue];else if(ot<1e3||!f.TYPED_ARRAY_SUPPORT)for(ze=0;ze<ot;++ze)q[ze+te]=this[ze+ue];else Uint8Array.prototype.set.call(q,this.subarray(ue,ue+ot),te);return ot},f.prototype.fill=function(q,te,ue,We){if(typeof q=="string"){if(typeof te=="string"?(We=te,te=0,ue=this.length):typeof ue=="string"&&(We=ue,ue=this.length),q.length===1){var ot=q.charCodeAt(0);ot<256&&(q=ot)}if(We!==void 0&&typeof We!="string")throw new TypeError("encoding must be a string");if(typeof We=="string"&&!f.isEncoding(We))throw new TypeError("Unknown encoding: "+We)}else typeof q=="number"&&(q=q&255);if(te<0||this.length<te||this.length<ue)throw new RangeError("Out of range index");if(ue<=te)return this;te=te>>>0,ue=ue===void 0?this.length:ue>>>0,q||(q=0);var ze;if(typeof q=="number")for(ze=te;ze<ue;++ze)this[ze]=q;else{var vt=f.isBuffer(q)?q:ie(new f(q,We).toString()),Wt=vt.length;for(ze=0;ze<ue-te;++ze)this[ze+te]=vt[ze%Wt]}return this};var le=/[^+\/0-9A-Za-z-_]/g;function de(ce){if(ce=be(ce).replace(le,""),ce.length<2)return"";for(;ce.length%4!=0;)ce=ce+"=";return ce}function be(ce){return ce.trim?ce.trim():ce.replace(/^\s+|\s+$/g,"")}function X(ce){return ce<16?"0"+ce.toString(16):ce.toString(16)}function ie(ce,q){q=q||1/0;for(var te,ue=ce.length,We=null,ot=[],ze=0;ze<ue;++ze){if(te=ce.charCodeAt(ze),te>55295&&te<57344){if(!We){if(te>56319){(q-=3)>-1&&ot.push(239,191,189);continue}else if(ze+1===ue){(q-=3)>-1&&ot.push(239,191,189);continue}We=te;continue}if(te<56320){(q-=3)>-1&&ot.push(239,191,189),We=te;continue}te=(We-55296<<10|te-56320)+65536}else We&&(q-=3)>-1&&ot.push(239,191,189);if(We=null,te<128){if((q-=1)<0)break;ot.push(te)}else if(te<2048){if((q-=2)<0)break;ot.push(te>>6|192,te&63|128)}else if(te<65536){if((q-=3)<0)break;ot.push(te>>12|224,te>>6&63|128,te&63|128)}else if(te<1114112){if((q-=4)<0)break;ot.push(te>>18|240,te>>12&63|128,te>>6&63|128,te&63|128)}else throw new Error("Invalid code point")}return ot}function Ce(ce){for(var q=[],te=0;te<ce.length;++te)q.push(ce.charCodeAt(te)&255);return q}function Le(ce,q){for(var te,ue,We,ot=[],ze=0;ze<ce.length&&!((q-=2)<0);++ze)te=ce.charCodeAt(ze),ue=te>>8,We=te%256,ot.push(We),ot.push(ue);return ot}function Ae(ce){return a.toByteArray(de(ce))}function Pe(ce,q,te,ue){for(var We=0;We<ue&&!(We+te>=q.length||We>=ce.length);++We)q[We+te]=ce[We];return We}function Ne(ce){return ce!==ce}}).call(this,t(173))},function(k,n,t){var e=t(670),a=t(305),o=t(671),l=t(452),d=t(672),c=t(182),u=t(414),f="[object Map]",m="[object Object]",p="[object Promise]",g="[object Set]",O="[object WeakMap]",s="[object DataView]",r=u(e),i=u(a),h=u(o),v=u(l),j=u(d),y=c;(e&&y(new e(new ArrayBuffer(1)))!=s||a&&y(new a)!=f||o&&y(o.resolve())!=p||l&&y(new l)!=g||d&&y(new d)!=O)&&(y=function(b){var E=c(b),P=E==m?b.constructor:void 0,A=P?u(P):"";if(A)switch(A){case r:return s;case i:return f;case h:return p;case v:return g;case j:return O}return E}),k.exports=y},function(k,n,t){var e=t(558);function a(o){var l=e(o),d=l%1;return l===l?d?l-d:l:0}k.exports=a},function(k,n,t){"use strict";t.d(n,"a",function(){return l});var e=t(0),a=t(124),o=t(37);function l({users:c,children:u}){const f=Object(o.a)(),m=6;let p;c.length>m+1?p=c.slice(0,m).map(O=>O.name).concat([`+ ${d.format(c.length-m)} others`]):p=c.map(O=>O.name);const g=p.join(`
`);return Object(e.h)(a.a,{text:g,disabled:f},u)}const d=Intl.NumberFormat(void 0,{maximumSignificantDigits:4})},function(k,n,t){"use strict";t.d(n,"a",function(){return F}),t.d(n,"b",function(){return T});var e=t(0),a=t(1),o=t(567),l=t(568),d=t(42),c=t(10),u=t.n(c),f=t(18),m=t(9),p=t.n(m),g=t(11),O=t(23),s=t(170),r=t(25),i=Object.defineProperty,h=Object.defineProperties,v=Object.getOwnPropertyDescriptors,j=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable,E=(S,D,w)=>D in S?i(S,D,{enumerable:!0,configurable:!0,writable:!0,value:w}):S[D]=w,P=(S,D)=>{for(var w in D||(D={}))y.call(D,w)&&E(S,w,D[w]);if(j)for(var w of j(D))b.call(D,w)&&E(S,w,D[w]);return S},A=(S,D)=>h(S,v(D)),_=(S,D,w)=>new Promise((U,V)=>{var K=R=>{try{W(w.next(R))}catch(B){V(B)}},Y=R=>{try{W(w.throw(R))}catch(B){V(B)}},W=R=>R.done?U(R.value):Promise.resolve(R.value).then(K,Y);W((w=w.apply(S,D)).next())});const M=Object(e.createContext)({seeMoreUserIds:[],refetch:()=>null});M.displayName="FeedUserVisibilityPreferenceContext";function F({user:S,children:D}){var w;const U=Object(f.f)({pathname:"/api/v1/feed/visibility-preferences",deps:[S],auto:!!S});return Object(e.h)(M.Provider,{value:{seeMoreUserIds:(w=U.result)!=null?w:[],refetch:U.refetch}},D)}function H(){return Object(a.b)(M)}function C(S){const{seeMoreUserIds:D}=H();return S&&D.includes(S)?d.d.SeeMore:d.d.SeeLess}function T(S,D){const w=Object(r.c)(),U=Object(s.f)(S==null?void 0:S.id),V=C(S==null?void 0:S.id),K=Boolean(w&&S&&w.id!==S.id)&&!U,Y=!0,{refetch:W}=H(),R=Object(g.L)(),B=Object(c.guessFirstName)(S==null?void 0:S.name),x=Z=>_(this,null,function*(){if(!!S){try{yield Object(f.c)(`/api/v1/feed/${S.id}/visibility-preference`,{method:"POST",json:{visibilityPreference:Z,surface:D}})}catch(le){R.popToast(de=>Object(e.h)(g.I,A(P({},de),{text:Object(m.getNetworkErrorMessage)(le)})));return}W()}}),G=()=>_(this,null,function*(){yield x(d.d.SeeMore)}),Q=()=>_(this,null,function*(){yield x(d.d.SeeLess)}),he=[];return K&&he.push(Object(e.h)(O.d,{icon:Y?Object(e.h)(o.a,null):Object(e.h)(l.a,null),onClick:Y?G:Q},Y?D==="profile"&&V!==d.d.SeeMore?`See notes from ${B||(S==null?void 0:S.name)||"this person"}`:`See more from ${B||(S==null?void 0:S.name)||"this person"}`:`See less from ${B||(S==null?void 0:S.name)||"this person"}`)),he}},function(k,n,t){"use strict";t.d(n,"a",function(){return o});var e=t(0),a=t(24);function o({children:l}){return Object(e.h)("div",{className:a.a.variables},l)}},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"ShareCopyLinkIcon",svgParams:{height:16,width:20}}),Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.1303 0.000379039C10.9833 -0.00959082 9.87819 0.431464 9.05309 1.22855L9.04556 1.23593L7.79145 2.48303C7.50587 2.767 7.50453 3.22877 7.78844 3.51441C8.07235 3.80004 8.53401 3.80139 8.81959 3.51741L10.0698 2.27423C10.6194 1.74503 11.3546 1.45229 12.1177 1.45892C12.8824 1.46556 13.6139 1.77236 14.1546 2.31323C14.6954 2.8541 15.0021 3.58577 15.0087 4.35065C15.0154 5.11353 14.7229 5.84857 14.1943 6.39829L12.0116 8.58145L12.0115 8.58155C11.7159 8.87739 11.36 9.10617 10.9682 9.25237C10.5764 9.39857 10.1577 9.45878 9.74051 9.42889C9.32337 9.39901 8.91752 9.27975 8.55051 9.07918C8.1835 8.87862 7.8639 8.60146 7.6134 8.26649C7.3722 7.94396 6.91526 7.87807 6.5928 8.11933C6.27034 8.36059 6.20447 8.81763 6.44567 9.14016C6.82142 9.64261 7.30082 10.0584 7.85134 10.3592C8.40186 10.66 9.01062 10.8389 9.63634 10.8838C10.2621 10.9286 10.8901 10.8383 11.4779 10.619C12.0656 10.3997 12.5994 10.0565 13.0429 9.61274L15.2302 7.42494L15.2391 7.4159C16.036 6.59062 16.4769 5.48529 16.467 4.33797C16.457 3.19066 15.9969 2.09316 15.1858 1.28185C14.3746 0.470545 13.2774 0.0103489 12.1303 0.000379039ZM7.29806 5.11625C6.67234 5.07142 6.0443 5.16173 5.45654 5.38103C4.86882 5.60031 4.33502 5.94355 3.89153 6.38727L1.70423 8.57506L1.69534 8.5841C0.898438 9.40939 0.457483 10.5147 0.467451 11.662C0.477418 12.8094 0.937512 13.9069 1.74864 14.7182C2.55976 15.5295 3.65701 15.9897 4.80407 15.9996C5.95113 16.0096 7.05622 15.5685 7.88132 14.7715L7.89035 14.7626L9.13717 13.5155C9.42192 13.2307 9.42192 12.7689 9.13717 12.4841C8.85243 12.1993 8.39077 12.1993 8.10602 12.4841L6.86392 13.7265C6.31432 14.2552 5.57945 14.5477 4.81675 14.5411C4.05204 14.5344 3.32054 14.2276 2.77979 13.6868C2.23904 13.1459 1.93231 12.4142 1.92566 11.6494C1.91904 10.8865 2.21146 10.1514 2.74011 9.60172L4.92287 7.41846C5.21854 7.12262 5.57437 6.89384 5.96621 6.74763C6.35805 6.60143 6.77674 6.54123 7.19389 6.57111C7.61104 6.601 8.01688 6.72026 8.38389 6.92082C8.75091 7.12138 9.0705 7.39855 9.32101 7.73352C9.56221 8.05605 10.0191 8.12194 10.3416 7.88068C10.6641 7.63942 10.7299 7.18238 10.4887 6.85985C10.113 6.3574 9.63359 5.94165 9.08307 5.64081C8.53255 5.33997 7.92378 5.16107 7.29806 5.11625Z"}));n.default=O},function(k,n,t){"use strict";t.d(n,"a",function(){return b});var e=t(0),a=t(562),o=t(17),l=t.n(o);const d=1653592864;var c=t(4),u=t(174),f=t(26),m=t(7),p=t(61),g=Object.defineProperty,O=Object.defineProperties,s=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,v=(E,P,A)=>P in E?g(E,P,{enumerable:!0,configurable:!0,writable:!0,value:A}):E[P]=A,j=(E,P)=>{for(var A in P||(P={}))i.call(P,A)&&v(E,A,P[A]);if(r)for(var A of r(P))h.call(P,A)&&v(E,A,P[A]);return E},y=(E,P)=>O(E,s(P));function b({user:E,noBase:P}){const A=Object(f.e)(),_=()=>fetch("/api/v1/user/like_nux/seen",{method:"POST"});return()=>{const M="has_seen_like_nux",F=Object(p.getStoredValue)(M),H=d;return F&&E&&!E.has_seen_like_nux?(_(),!1):!E||!E.profile_set_up_at||E.subscription_visibility==="private"||!E.activity_likes_enabled||F||E.has_seen_like_nux||l()((E==null?void 0:E.profile_set_up_at)||0).unix()>H?!1:(Object(m.i)(m.a.LIKE_NUX_SHOWN),Object(p.setStoredValue)(M,!0),_(),A.popToast(C=>Object(e.h)(f.a,y(j({},C),{title:"New: see who's liked a post",body:"Now you can see who's liked a post and visit their profiles. Your own profile won't show up on posts you liked before this change.",buttons:Object(e.h)(e.Fragment,null,Object(e.h)(f.b,{href:Object(c.getReaderProfileUrl)(E,{utm_source:"like_toast",noBase:P})},Object(e.h)(u.c,null,"OK")),Object(e.h)(f.b,{href:Object(c.getEditProfileUrl)({params:{utm_source:"like_toast"}})},Object(e.h)(u.c,{color:"secondary"},"Settings"))),Icon:a.a}))),!0)}}},function(k,n,t){"use strict";t.d(n,"a",function(){return d});var e=t(0),a=(m,p,g)=>new Promise((O,s)=>{var r=v=>{try{h(g.next(v))}catch(j){s(j)}},i=v=>{try{h(g.throw(v))}catch(j){s(j)}},h=v=>v.done?O(v.value):Promise.resolve(v.value).then(r,i);h((g=g.apply(m,p)).next())});const o="https://www.google.com/recaptcha/api.js?render=explicit&onload=__captchaOnloadCallback";let l=!1;typeof window!="undefined"&&(window.__captchaOnloadCallback=u);class d extends e.Component{componentDidMount(){return a(this,null,function*(){yield f(),this.captchaId=window.grecaptcha.render(this.base,{sitekey:window._preloads.captcha_site_key,size:"compact"})})}getResponse(){return window.grecaptcha.getResponse(this.captchaId)}render({className:p}){return Object(e.h)("div",{className:p})}}function c(){const m=document.getElementsByTagName("script")[0],p=document.createElement("script");p.type="text/javascript",p.async=!0,p.defer=!0,p.src=o,m.parentNode.insertBefore(p,m)}function u(){if(l){const m=l;l=!0;for(const p of m)p()}}function f(){return new Promise(m=>{l===!0?m():l===!1?(l=[m],c()):l.push(m)})}},function(k,n,t){const{TASTEMAKER_CATEGORY_NAME:e,COMMUNITY_PICKS_CATEGORY_NAME:a}=t(10);n.getCategoryIdFromSlug=(o,l)=>{if(!o)return"featured";if(o==="featured"||o==="twitter"||o==="podcast"||o===a||o===e)return o;const d=l.find(c=>c.slug===o);return d?d.id:"featured"}},,function(k,n,t){var e=t(182),a=t(146),o="[object AsyncFunction]",l="[object Function]",d="[object GeneratorFunction]",c="[object Proxy]";function u(f){if(!a(f))return!1;var m=e(f);return m==l||m==d||m==o||m==c}k.exports=u},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"ShareFbIcon",svgParams:{height:24,width:24,stroke:"none"}}),Object(e.h)("g",{"clip-path":"url(#clip0_14802_325807)"},Object(e.h)("path",{d:"M11.9993 23.9949C12.6415 23.9949 13.272 23.9444 13.8869 23.8473L19 15L19.5 5L12.5 2L4.5 12.5L10.1117 23.8473C10.7266 23.9444 11.357 23.9949 11.9993 23.9949Z",fill:"white",stroke:"none"}),Object(e.h)("path",{d:"M11.9977 0C5.37098 0 0 5.37089 0 11.9975C0 17.9844 4.38331 22.9414 10.1117 23.8491L10.1164 15.473H7.04998V12.0021H10.1164C10.1164 12.0021 10.1023 10.0269 10.1164 9.14743C10.1305 8.26797 10.3045 7.42142 10.7607 6.65008C11.4615 5.4555 12.5526 4.87237 13.893 4.70775C14.9935 4.57135 16.08 4.72183 17.1664 4.87237C17.2416 4.88176 17.2792 4.89115 17.3545 4.90529C17.3545 4.90529 17.3592 5.03225 17.3545 5.11222C17.3498 5.94933 17.3545 7.86819 17.3545 7.86819C16.8324 7.8588 15.9671 7.80706 15.3933 7.89641C14.4433 8.04221 13.8977 8.64891 13.8789 9.6036C13.8601 10.3467 13.8695 12.0021 13.8695 12.0021H17.2134L16.6726 15.473H13.8742V23.8491C19.612 22.9508 24 17.9844 24 11.9975C23.9953 5.37089 18.6243 0 11.9977 0Z",fill:"#1778F2",stroke:"none"})),Object(e.h)("defs",null,Object(e.h)("clipPath",{id:"clip0_14802_325807"},Object(e.h)("rect",{width:"24",height:"24",fill:"white"}))));n.default=O},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"ShareTwitterIcon",svgParams:{height:24,width:24,stroke:"none"}}),Object(e.h)("g",{"clip-path":"url(#clip0_14802_325810)"},Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 24C18.6274 24 24 18.6274 24 12C24 5.37257 18.6274 0 12 0C5.37259 0 0 5.37257 0 12C0 18.6274 5.37259 24 12 24Z",fill:"#1DA1F2",stroke:"none"}),Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M19.573 6.28855C19.1372 6.5863 18.1365 7.01904 17.643 7.01904V7.0199C17.0795 6.392 16.2862 6 15.4064 6C13.6975 6 12.3119 7.47805 12.3119 9.3001C12.3119 9.55323 12.3393 9.80017 12.3902 10.037C10.0722 9.9721 7.5365 8.73282 6.01036 6.61176C5.072 8.34417 5.88398 10.2709 6.94882 10.973C6.58432 11.0023 5.91334 10.9282 5.59748 10.5995C5.57632 11.7494 6.09468 13.2729 7.98468 13.8256C7.62066 14.0345 6.97636 13.9746 6.69618 13.9301C6.79448 14.9008 8.06884 16.1698 9.46234 16.1698C8.96568 16.7826 7.097 17.894 5 17.5404C6.42414 18.4647 8.084 19 9.84082 19C14.8334 19 18.7105 14.6841 18.5018 9.3598C18.501 9.35395 18.501 9.3481 18.5005 9.3417C18.501 9.328 18.5018 9.3143 18.5018 9.3001C18.5018 9.28353 18.5005 9.26793 18.5 9.2519C18.9545 8.92034 19.5644 8.33388 20 7.56195C19.7474 7.71042 18.9893 8.00763 18.284 8.08141C18.7367 7.82081 19.4073 6.96731 19.573 6.28855Z",fill:"white",stroke:"none"})),Object(e.h)("defs",null,Object(e.h)("clipPath",{id:"clip0_14802_325810"},Object(e.h)("rect",{width:"24",height:"24",fill:"white"}))));n.default=O},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"UsersIcon",svgParams:{height:14,width:15,stroke:"#B6B6B6"}}),Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.91732 12.249V11.0824C9.91732 9.79369 8.87265 8.74902 7.58398 8.74902H2.91732C1.62865 8.74902 0.583984 9.79369 0.583984 11.0824V12.249",fill:"#838383",stroke:"#838383","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.24935 6.41423C6.53801 6.41423 7.58268 5.36956 7.58268 4.08089C7.58268 2.79223 6.53801 1.74756 5.24935 1.74756C3.96068 1.74756 2.91602 2.79223 2.91602 4.08089C2.91602 5.36956 3.96068 6.41423 5.24935 6.41423Z",fill:"#838383",stroke:"#838383","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.8118 12.2659H13.563C13.5622 11.2025 14.0005 8.82373 11.666 8.82373",fill:"#838383",stroke:"#838383","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.33398 1.82227C10.3664 2.08661 11.0886 3.01693 11.0886 4.08268C11.0886 5.14844 10.3664 6.07875 9.33398 6.3431",fill:"#838383",stroke:"#838383","stroke-linecap":"round","stroke-linejoin":"round"}));n.default=O},function(k,n,t){"use strict";t.r(n),t.d(n,"LucideBookmark",function(){return s});var e=t(0),a=t(564),o=t(13),l=Object.defineProperty,d=Object.defineProperties,c=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,p=(r,i,h)=>i in r?l(r,i,{enumerable:!0,configurable:!0,writable:!0,value:h}):r[i]=h,g=(r,i)=>{for(var h in i||(i={}))f.call(i,h)&&p(r,h,i[h]);if(u)for(var h of u(i))m.call(i,h)&&p(r,h,i[h]);return r},O=(r,i)=>d(r,c(i));function s(r){return Object(e.h)(o.a,O(g({},r),{name:"LucideBookmark",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),Object(e.h)(a.a,{height:24,stroke:r.stroke,fill:r.fill,strokeWidth:r.strokeWidth}))}n.default=s},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"PinIconSmall",svgParams:{height:16,width:14}}),Object(e.h)("path",{d:"M7 1.00006L10 1.00006C10.5523 1.00006 11.0846 1.47946 10.8452 1.97714C10.6681 2.3451 10.2927 2.75194 9.5 3.17301L10 7.51891C10.7819 7.7681 11.949 8.31222 12.9204 9.21856C13.4827 9.74324 13.0402 10.561 12.2711 10.561H7"}),Object(e.h)("path",{d:"M7 1.00006L4 1.00006C3.44772 1.00006 2.91538 1.47946 3.15482 1.97714C3.33185 2.3451 3.70727 2.75194 4.5 3.17301L4 7.51891C3.2181 7.7681 2.05103 8.31222 1.07961 9.21856C0.517263 9.74324 0.959808 10.561 1.72891 10.561H7"}),Object(e.h)("path",{d:"M7 10.561L7 15","stroke-linecap":"round","stroke-linejoin":"round"}));n.default=O},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"LucideShare",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),Object(e.h)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object(e.h)("path",{d:"M12.4376 15.6C4.77778 15.6 2 20.3999 2 20.3999C2 12.5999 5.88889 8.4 12.4376 8.4V3L22 11.9812L12.4376 21V15.6Z","stroke-width":s.strokeWidth,fill:s.fill,className:"lucide","stroke-linecap":"round","stroke-linejoin":"round"})));n.default=O},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"CopyIcon",svgParams:{height:15,width:15}}),Object(e.h)("rect",{x:"4",y:"1",width:"10.2862",height:"10.2862",rx:"1"}),Object(e.h)("rect",{x:"1",y:"4",width:"10.2862",height:"10.2862",rx:"1"}));n.default=O},function(k,n,t){"use strict";t.d(n,"c",function(){return g}),t.d(n,"a",function(){return O}),t.d(n,"b",function(){return r});var e=t(0),a=t(1),o=t(5),l=t.n(o),d=t(96),c=t(130),u=t(9),f=t.n(u),m=t(66),p=t(52);function g({children:i,className:h,onClose:v,onClick:j,hasClosePill:y,isPopup:b,noExit:E,noExitOnClick:P,noFullscreen:A,noCloseButton:_,testID:M}){const F=Object(a.k)(),H=C=>{!E&&!P&&b&&(A||window.innerWidth>540)&&(C.stopPropagation(),C.preventDefault(),v())};return Object(e.h)(c.a,null,Object(e.h)("div",{className:l()("modal simple-modal wide typography","in",h,{"has-close-pill":y,popup:b}),"data-testid":M,role:"dialog"},Object(e.h)("div",{className:"modal-table"},Object(e.h)("div",{className:"modal-row"},Object(e.h)("div",{className:l()("modal-cell modal-content reader2-modal",{"no-fullscreen":A})},Object(e.h)("div",{className:"modal-clickspace",onClick:H}),Object(e.h)("div",{className:"container",ref:F},!E&&(!_||Object(u.isMobileBrowser)())&&Object(e.h)(m.a,{className:l()("modal-btn modal-exit-btn no-margin",{"button btn btn-secondary btn-pill icon-only":y}),onClick:()=>v()},Object(e.h)(d.default,null)),i))))))}function O({children:i,onCancel:h}){return Object(e.h)(g,{className:"rss-feed-modal remove-rss-feed",isPopup:!0,onClose:h},Object(e.h)(s,null,i))}const s=Object(p.a)("simple-modal-pad reader2-confirm-modal"),r=Object(p.a)("buttons")},function(k,n,t){var e=t(948),a=t(949);function o(l,d,c){var u=d&&c||0;typeof l=="string"&&(d=l==="binary"?new Array(16):null,l=null),l=l||{};var f=l.random||(l.rng||e)();if(f[6]=f[6]&15|64,f[8]=f[8]&63|128,d)for(var m=0;m<16;++m)d[u+m]=f[m];return d||a(f)}k.exports=o},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"LucideMute",svgParams:{height:24,width:24,stroke:s.stroke,strokeWidth:s.strokeWidth}}),Object(e.h)("path",{d:"M9.71429 7.71429H6C5.44772 7.71429 5 8.162 5 8.71429V15.2857C5 15.838 5.44772 16.2857 6 16.2857H10.43C10.6552 16.2857 10.8739 16.3617 11.0505 16.5015L16.3795 20.7179C17.0351 21.2366 18 20.7696 18 19.9336V16M18 10V4.06636C18 3.23036 17.0351 2.76341 16.3795 3.28214L14.03 5.14107L13.4427 5.6058M3 1L23 21","stroke-linecap":"round","stroke-linejoin":"round"}));n.default=O},function(k,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=a;function e(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(d){return typeof d}:e=function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},e(o)}function a(o){var l=typeof o=="string"||o instanceof String;if(!l){var d=e(o);throw o===null?d="null":d==="object"&&(d=o.constructor.name),new TypeError("Expected a string but received a ".concat(d))}}k.exports=n.default,k.exports.default=n.default},function(k,n,t){"use strict";n.__esModule=!0,n.inherits=e;function e(a,o){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},d=Object.create(a.prototype);for(var c in l)d[c]=l[c];return d.constructor=o,o.prototype=d,o}},function(k,n,t){"use strict";let e=t(487),a=t(754),{isClean:o}=t(489),l=t(490);function d(u,f){let m=new u.constructor;for(let p in u){if(!Object.prototype.hasOwnProperty.call(u,p)||p==="proxyCache")continue;let g=u[p],O=typeof g;p==="parent"&&O==="object"?f&&(m[p]=f):p==="source"?m[p]=g:Array.isArray(g)?m[p]=g.map(s=>d(s,m)):(O==="object"&&g!==null&&(g=d(g)),m[p]=g)}return m}class c{constructor(f={}){this.raws={},this[o]=!1;for(let m in f)if(m==="nodes"){this.nodes=[];for(let p of f[m])typeof p.clone=="function"?this.append(p.clone()):this.append(p)}else this[m]=f[m]}error(f,m={}){if(this.source){let p=this.positionBy(m);return this.source.input.error(f,p.line,p.column,m)}return new e(f)}warn(f,m,p){let g={node:this};for(let O in p)g[O]=p[O];return f.warn(m,g)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}toString(f=l){f.stringify&&(f=f.stringify);let m="";return f(this,p=>{m+=p}),m}clone(f={}){let m=d(this);for(let p in f)m[p]=f[p];return m}cloneBefore(f={}){let m=this.clone(f);return this.parent.insertBefore(this,m),m}cloneAfter(f={}){let m=this.clone(f);return this.parent.insertAfter(this,m),m}replaceWith(...f){if(this.parent){let m=this,p=!1;for(let g of f)g===this?p=!0:p?(this.parent.insertAfter(m,g),m=g):this.parent.insertBefore(m,g);p||this.remove()}return this}next(){if(!this.parent)return;let f=this.parent.index(this);return this.parent.nodes[f+1]}prev(){if(!this.parent)return;let f=this.parent.index(this);return this.parent.nodes[f-1]}before(f){return this.parent.insertBefore(this,f),this}after(f){return this.parent.insertAfter(this,f),this}root(){let f=this;for(;f.parent;)f=f.parent;return f}raw(f,m){return new a().raw(this,f,m)}cleanRaws(f){delete this.raws.before,delete this.raws.after,f||delete this.raws.between}toJSON(){let f={};for(let m in this){if(!Object.prototype.hasOwnProperty.call(this,m)||m==="parent")continue;let p=this[m];Array.isArray(p)?f[m]=p.map(g=>typeof g=="object"&&g.toJSON?g.toJSON():g):typeof p=="object"&&p.toJSON?f[m]=p.toJSON():f[m]=p}return f}positionInside(f){let m=this.toString(),p=this.source.start.column,g=this.source.start.line;for(let O=0;O<f;O++)m[O]===`
`?(p=1,g+=1):p+=1;return{line:g,column:p}}positionBy(f){let m=this.source.start;if(f.index)m=this.positionInside(f.index);else if(f.word){let p=this.toString().indexOf(f.word);p!==-1&&(m=this.positionInside(p))}return m}getProxyProcessor(){return{set(f,m,p){return f[m]===p||(f[m]=p,(m==="prop"||m==="value"||m==="name"||m==="params"||m==="important"||m==="text")&&f.markDirty()),!0},get(f,m){return m==="proxyOf"?f:m==="root"?()=>f.root().toProxy():f[m]}}}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}addToError(f){if(f.postcssNode=this,f.stack&&this.source&&/\n\s{4}at /.test(f.stack)){let m=this.source;f.stack=f.stack.replace(/\n\s{4}at /,`$&${m.input.from}:${m.start.line}:${m.start.column}$&`)}return f}markDirty(){if(this[o]){this[o]=!1;let f=this;for(;f=f.parent;)f[o]=!1}}get proxyOf(){return this}}k.exports=c,c.default=c},function(k,n,t){"use strict";let e=t(329),a,o;class l extends e{constructor(c){super(c);this.type="root",this.nodes||(this.nodes=[])}removeChild(c,u){let f=this.index(c);return!u&&f===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[f].raws.before),super.removeChild(c)}normalize(c,u,f){let m=super.normalize(c);if(u){if(f==="prepend")this.nodes.length>1?u.raws.before=this.nodes[1].raws.before:delete u.raws.before;else if(this.first!==u)for(let p of m)p.raws.before=u.raws.before}return m}toResult(c={}){return new a(new o,this,c).stringify()}}l.registerLazyResult=d=>{a=d},l.registerProcessor=d=>{o=d},k.exports=l,l.default=l},function(k,n,t){"use strict";t.d(n,"a",function(){return f}),t.d(n,"b",function(){return m});var e=t(0),a=t(599),o=t(5),l=t.n(o),d=t(96),c=t(177),u=t(116);const f=({isModal:p=!0,onClose:g,includeClose:O=!1,bottomBorder:s,title:r,description:i,as:h="h2",usePubThemeForTitle:v=!1,className:j,pagination:y})=>Object(e.h)("div",{className:l()("tw-grid tw-grid-cols-[auto_auto] tw-items-center tw-justify-between tw-pt-6",j,{"tw-px-4":!y,"tw-border-0 tw-border-b tw-border-solid tw-border-substack-detail tw-pb-6":s})},!r&&!y&&Object(e.h)(c.default,{alt:"Substack icon",height:24}),y&&Object(e.h)("label",{className:"tw-text-[12px] tw-font-medium tw-leading-5",role:"label",title:"pagination"},y[0]," OF ",y[1]),O&&Object(e.h)("button",{className:"tw-col-start-2 tw-flex tw-cursor-pointer tw-border-none tw-bg-transparent",role:"button",title:"Close",onClick:g,"aria-label":"close"},Object(e.h)(d.default,null)),r&&p&&Object(e.h)(a.a.Title,{as:h,className:`tw-col-start-1 tw-row-start-1 tw-my-0 tw-font-title tw-text-h2 ${v?"tw-text-pub-primary-text":" tw-text-substack-primary"}`},r),i&&p&&Object(e.h)(a.a.Description,{as:"span",className:"tw-col-start-1 tw-mt-2 tw-font-body tw-text-sm tw-text-substack-secondary"},i),r&&!p&&Object(e.h)(m,{className:"tw-col-start-1 tw-row-start-1"},r)&&Object(e.createElement)(h,{className:`tw-col-start-1 tw-row-start-1 tw-my-0 tw-font-title ${v?"tw-text-pub-primary-text":" tw-text-substack-primary"}`},r),i&&!p&&Object(e.h)("span",{className:"tw-col-start-1 tw-mt-1 tw-font-body tw-text-sm tw-text-substack-secondary"},i)&&Object(e.createElement)("span",{className:"tw-mt-1 tw-col-start-1 tw-font-body tw-text-sm tw-text-substack-secondary"},i)),m=Object(u.a)("tw-my-0 tw-font-title","h2")},function(k,n,t){"use strict";t.d(n,"b",function(){return s}),t.d(n,"a",function(){return i});var e=t(0),a=t(3),o=t(551),l=t(599),d=t(5),c=t.n(d),u=t(301),f=t.n(u),m=t(37),p=t(116),g=t(2),O={container:"frontend-pencraft-Modal-Modal-module__container--2iMwp",full:"frontend-pencraft-Modal-Modal-module__full--2nG6I",default:"frontend-pencraft-Modal-Modal-module__default--3sL1T",fullscreenMobile:"frontend-pencraft-Modal-Modal-module__fullscreenMobile--2nom0",dynamicMobile:"frontend-pencraft-Modal-Modal-module__dynamicMobile--3iiQJ"};const s=Object(p.a)("sm:tw-max-h-[60vh] tw-overflow-auto tw-px-4 tw-py-5 tw-font-body"),r=({children:h})=>Object(e.h)("div",{className:"tw-max-h-5/6 tw-flex tw-min-h-full tw-items-center tw-justify-center"},h),i=({isOpen:h,onClose:v=()=>{},children:j,includeBackdrop:y=!0,position:b="default",opacity:E="medium",testId:P="modal",className:A,onEscape:_,fullscreenMobile:M,overflow:F,width:H=440,disableCloseOnBackdropClick:C=!1})=>{const T=Object(m.a)(),S=D=>{const{code:w}=D;_&&w==="Escape"&&_(D)};return Object(e.h)(o.a,{show:h,as:a.Fragment},Object(e.h)(l.a,{onMouseDown:D=>D.stopPropagation(),onMouseUp:D=>D.stopPropagation(),onClick:D=>D.stopPropagation(),"data-testid":P,as:"div",className:"tw-fixed tw-inset-0 tw-z-30 tw-overflow-y-auto",open:h,onClose:C?f.a:v,onKeyDown:_&&S},Object(e.h)(r,null,y&&Object(e.h)(o.a.Child,{enter:"tw-transition tw-ease-in-out tw-duration-200",enterFrom:"tw-opacity-0",enterTo:"tw-opacity-100",leave:"tw-transition tw-ease-in-out tw-duration-200",leaveFrom:"tw-opacity-100",leaveTo:"tw-opacity-0"},Object(e.h)(l.a.Overlay,{className:E==="dark"?"tw-fixed tw-inset-0 tw-bg-black tw-opacity-80":"tw-fixed tw-inset-0 tw-bg-black tw-opacity-50"})),Object(e.h)(o.a.Child,{as:a.Fragment,enter:"tw-transition ease-in-out tw-duration-200",enterFrom:"tw-opacity-0",enterTo:"tw-opacity-100",leave:"tw-transition tw-ease-in-out tw-duration-200",leaveFrom:"tw-opacity-100",leaveTo:"tw-opacity-0"},Object(e.h)(g.a,{className:c()(A,O.container,O[b],M?O.fullscreenMobile:O.dynamicMobile),style:{width:T||b==="full"?void 0:H,overflow:F}},j)))))}},function(k,n,t){"use strict";t.d(n,"a",function(){return p});var e=t(0),a=t(1),o=t(49),l=t(51),d=t(18),c=t(113),u=t(2),f=t(8);function m(){const{result:O}=Object(d.h)(()=>Promise.all([t.e(17),t.e(23)]).then(t.bind(null,1231)).then(s=>s.Sentry),[],{auto:!0});return Object(a.e)(s=>{console.error(s),O&&O.captureException(s)})}function p({children:O}){const[s,r]=m(),i=Object(a.k)(Object(o.getCurrentUrl)());return Object(c.b)(h=>{s&&i.current!==h&&r(),i.current=h},[]),s?Object(e.h)(g,null):O}function g(){return Object(e.h)(u.b,{flex:"grow",justifyContent:"center",alignItems:"center",gap:32,padding:20},Object(e.h)(l.a,{src:"/img/reader/toad.png",maxWidth:200}),Object(e.h)(u.b,{gap:8},Object(e.h)(f.b.H3,{weight:"semibold",align:"center"},"Oh no\u2014this page croaked."),Object(e.h)(f.b.B3,{color:"secondary",align:"center"},"Try again, or hop to another page.")))}},function(k,n,t){"use strict";t.d(n,"a",function(){return E});var e=t(0),a=t(1),o=t(15),l=t(187),d=t(7),c=t(18),u=t(14),f=t(2),m=t(8),p=t(26),g=Object.defineProperty,O=Object.defineProperties,s=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,v=(P,A,_)=>A in P?g(P,A,{enumerable:!0,configurable:!0,writable:!0,value:_}):P[A]=_,j=(P,A)=>{for(var _ in A||(A={}))i.call(A,_)&&v(P,_,A[_]);if(r)for(var _ of r(A))h.call(A,_)&&v(P,_,A[_]);return P},y=(P,A)=>O(P,s(A)),b=(P,A,_)=>new Promise((M,F)=>{var H=S=>{try{T(_.next(S))}catch(D){F(D)}},C=S=>{try{T(_.throw(S))}catch(D){F(D)}},T=S=>S.done?M(S.value):Promise.resolve(S.value).then(H,C);T((_=_.apply(P,A)).next())});const E=({profile:P,requireLogin:A,source:_})=>{const M=Object(p.e)(),{refetch:F,isLoading:H,error:C}=Object(c.f)({pathname:P?Object(o.getPresubscribeUrl)(P):"",auto:!1,deps:[P]}),{refetch:T}=Object(l.b)({subjectId:P.id,subjectName:P.name}),S=Object(a.a)(()=>b(void 0,null,function*(){var U;if(Object(d.i)(d.a.ACCOUNT_CARD_PRESUBSCRIBE_CLICKED,_),A){A();return}yield F({method:"POST",json:{source:(U=_.utmSource)!=null?U:_.type}}),M.popToast(V=>Object(e.h)(p.c,y(j({},V),{text:`You're subscribed to ${P.name||"<no name>"}! You'll get an email when they create a publication`}))),T(P.id)}),[F,T,P,M,A,_]),D=Object(a.a)(()=>b(void 0,null,function*(){Object(d.i)(d.a.ACCOUNT_CARD_UNPRESUBSCRIBE_CLICKED,_),yield F({method:"DELETE"}),M.popToast(U=>Object(e.h)(p.c,y(j({},U),{text:`You're unsubscribed from ${P.name||"<no name>"}! `}))),T(P.id)}),[F,T,M,P,_]);if(!P)return null;const w=Boolean(P.isPresubscribed);return Object(e.h)(e.Fragment,null,!!C&&Object(e.h)(f.c,{justifyContent:"center"},Object(e.h)(m.b.B4,{weight:"bold",color:"error",paddingBottom:20},"Something went wrong. Please refresh the page.")),w?Object(e.h)(u.a,{priority:"secondary",fill:"outline",rounded:!0,disabled:H,onClick:U=>{D(),U.stopPropagation()},title:P.name},"Subscribed"):Object(e.h)(u.a,{priority:"primary",disabled:H,rounded:!0,onClick:U=>{S(),U.stopPropagation()},title:P.name},"Subscribe"))}},function(k,n,t){"use strict";t.d(n,"a",function(){return o});var e=t(1),a=(l,d,c)=>new Promise((u,f)=>{var m=O=>{try{g(c.next(O))}catch(s){f(s)}},p=O=>{try{g(c.throw(O))}catch(s){f(s)}},g=O=>O.done?u(O.value):Promise.resolve(O.value).then(m,p);g((c=c.apply(l,d)).next())});function o(l,d){const[c,u]=Object(e.j)(l,d),f=Object(e.k)(c);f.current=c;const m=Object(e.i)(()=>p=>a(this,null,function*(){if(typeof p=="function")return yield p(m,()=>f.current);u(p)}),[]);return[c,m]}},function(k,n,t){"use strict";t.d(n,"a",function(){return e});function e(a,o){return e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(d,c){return d.__proto__=c,d},e(a,o)}},function(k,n,t){"use strict";t.d(n,"a",function(){return o});function e(l){if(l.sheet)return l.sheet;for(var d=0;d<document.styleSheets.length;d++)if(document.styleSheets[d].ownerNode===l)return document.styleSheets[d]}function a(l){var d=document.createElement("style");return d.setAttribute("data-emotion",l.key),l.nonce!==void 0&&d.setAttribute("nonce",l.nonce),d.appendChild(document.createTextNode("")),d}var o=function(){function l(c){this.isSpeedy=c.speedy===void 0?!0:c.speedy,this.tags=[],this.ctr=0,this.nonce=c.nonce,this.key=c.key,this.container=c.container,this.before=null}var d=l.prototype;return d.insert=function(u){if(this.ctr%(this.isSpeedy?65e3:1)==0){var f=a(this),m;this.tags.length===0?m=this.before:m=this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(f,m),this.tags.push(f)}var p=this.tags[this.tags.length-1];if(this.isSpeedy){var g=e(p);try{var O=u.charCodeAt(1)===105&&u.charCodeAt(0)===64;g.insertRule(u,O?0:g.cssRules.length)}catch(s){}}else p.appendChild(document.createTextNode(u));this.ctr++},d.flush=function(){this.tags.forEach(function(u){return u.parentNode.removeChild(u)}),this.tags=[],this.ctr=0},l}()},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(337);function a(o,l){if(!!o){if(typeof o=="string")return Object(e.a)(o,l);var d=Object.prototype.toString.call(o).slice(8,-1);if(d==="Object"&&o.constructor&&(d=o.constructor.name),d==="Map"||d==="Set")return Array.from(o);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return Object(e.a)(o,l)}}},function(k,n,t){"use strict";t.d(n,"a",function(){return p});var e=t(0),a=t(193),o=t(14),l=Object.defineProperty,d=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,f=(g,O,s)=>O in g?l(g,O,{enumerable:!0,configurable:!0,writable:!0,value:s}):g[O]=s,m=(g,O)=>{for(var s in O||(O={}))c.call(O,s)&&f(g,s,O[s]);if(d)for(var s of d(O))u.call(O,s)&&f(g,s,O[s]);return g};function p(g){return Object(e.h)(o.c,m({rounded:!0},g),Object(e.h)(a.a,null))}},function(k,n,t){"use strict";t.d(n,"a",function(){return i});var e=t(0),a=t(1),o=t(4),l=t.n(o),d=t(141),c=t(59),u=t(18),f=t(14),m=t(2),p=t(256),g=t(8),O=t(48),s=t(138),r=(v,j,y)=>new Promise((b,E)=>{var P=M=>{try{_(y.next(M))}catch(F){E(F)}},A=M=>{try{_(y.throw(M))}catch(F){E(F)}},_=M=>M.done?b(M.value):Promise.resolve(M.value).then(P,A);_((y=y.apply(v,j)).next())});function i({suggestions:v,secondaryButton:j,onSuccess:y,source:b="feed-user-suggestions"}){const E=v.filter(C=>C.user.name).sort((C,T)=>C.publication&&T.publication?0:C.publication?-1:1),{isLoading:P,refetch:A}=Object(u.f)({pathname:"/api/v1/reader/feed/bulk-subscribe",method:"POST"}),[_,M]=Object(a.l)(()=>new Set(E.map(C=>C.user.id))),F=(C,T)=>{const S=new Set(_);T?S.add(C):S.delete(C),M(S)},H=()=>r(this,null,function*(){if(P)return;const C=[..._].map(S=>E.find(D=>D.user.id===S)).filter(S=>Boolean(S)).map(S=>{var D;return{user_id:S.user.id,publication_id:(D=S.publication)==null?void 0:D.id}}),T=yield A({json:{suggestions:C,source:b}});T instanceof Error?alert(T instanceof u.b?T.getMessage():"Error"):y(C.length>0)});return Object(e.h)(e.Fragment,null,Object(e.h)(m.b,{paddingX:16},Object(e.h)(m.b,{borderTop:"detail",overflowY:"auto",style:{maxHeight:422}},Object(e.h)(m.b,{gap:16,paddingY:16},E.map(({user:C,publication:T})=>Object(e.h)(h,{key:C.id,user:C,pub:T,isSelected:_.has(C.id),onChange:S=>F(C.id,S),disabled:P}))))),Object(e.h)(m.b,{padding:16,gap:8,borderTop:"detail"},Object(e.h)(f.a,{priority:"primary",onClick:H,disabled:P||_.size===0},_.size!==0?`Subscribe to ${String(_.size)} and continue`:"Add at least one subscription"),j))}function h({user:v,pub:j,isSelected:y,onChange:b,disabled:E}){return Object(e.h)(m.a,{gap:12,alignItems:"center"},Object(e.h)(O.b,{size:40,user:v,pub:j}),Object(e.h)(m.b,{gap:2,flex:"grow",minWidth:0},Object(e.h)(g.b.B4,{ellipsis:!0},Object(e.h)(c.b,{subject:v,inline:!0},Object(e.h)(g.b,{as:"a",decoration:"hover-underline",target:"_blank",rel:"noopener",href:Object(d.e)(v)},v.name))),Object(e.h)(g.b.B4,{color:"secondary",ellipsis:!0},j&&Object(e.h)(s.c,{publication_id:j.id,inline:!0},Object(e.h)(g.b,{as:"a",decoration:"hover-underline",target:"_blank",rel:"noopener",href:Object(o.getPubUrl)(j)},j.name)))),Object(e.h)(p.a,{checked:y,onChange:b,disabled:E}))}},function(k,n,t){"use strict";var e=t(0),a=t(1),o=t(5),l=t.n(o),d=t(12),c=t.n(d),u=t(21),f=t(718),m=t(50),p=t(176),g=t(89),O=t.n(g),s=t(9),r=t.n(s),i=(y,b,E)=>new Promise((P,A)=>{var _=H=>{try{F(E.next(H))}catch(C){A(C)}},M=H=>{try{F(E.throw(H))}catch(C){A(C)}},F=H=>H.done?P(H.value):Promise.resolve(H.value).then(_,M);F((E=E.apply(y,b)).next())});const h=({className:y,pub:b,comment:E,onClose:P,onReportSuccess:A})=>{const _=Object(a.k)(null),[M,F]=Object(a.l)(!1),H={Report:0,Confirm:1},[C,T]=Object(a.l)(H.Report),S=w=>i(void 0,null,function*(){if(w===""){alert("Please enter a reason!");return}F(!0);try{yield c.a.post(`/api/v1/comment/${E.id}/report`).send({publication_id:b==null?void 0:b.id,reason:w}),A(),T(H.Confirm)}catch(U){alert(Object(s.getNetworkErrorMessage)(U))}finally{F(!1)}}),D=()=>{var w;(w=_==null?void 0:_.current)==null||w.close()};return Object(a.d)(()=>{var w;(w=_==null?void 0:_.current)==null||w.open()},[]),Object(e.h)(m.a,{className:l()("report-comment-modal",y),ref:_,onClose:P},C===H.Report?Object(e.h)(v,{pub:b,reportComment:S,reporting:M,closeModal:D}):Object(e.h)(j,{pub:b,closeModal:D}))},v=({pub:y,reportComment:b,reporting:E,closeModal:P})=>{const[A,_]=Object(a.l)("");return Object(e.h)(e.Fragment,null,Object(e.h)("h4",null,"Report ",y?`to ${y.name} admins`:"note"),Object(e.h)("p",null,"Thanks for reporting this ",y?"comment":"note","."," ",y?Object(e.h)(e.Fragment,null,"Only the admins of ",Object(e.h)("span",{className:"weight"},y.name)," will see your name and the content of this report."):"Please help us understand the issue."),Object(e.h)(p.a,{placeholder:"Describe why you\u2019re reporting this comment...",maxLines:8,value:A,onInput:M=>_(M.target.value)}),Object(e.h)("div",{className:"buttons"},Object(e.h)(u.b,{className:"secondary",onClick:P},Object(e.h)("span",null,"Cancel")),Object(e.h)(u.b,{className:"primary",onClick:()=>b(A),disabled:A===""||E},Object(e.h)("span",null,E?"Loading...":"Submit"))))},j=({pub:y,closeModal:b})=>Object(e.h)(e.Fragment,null,Object(e.h)(f.default,{stroke:(y==null?void 0:y.theme_var_background_pop)||g.substack_color}),Object(e.h)("h4",null,"Thanks for your report"),y?Object(e.h)("p",null,"The admins of ",Object(e.h)("span",{className:"weight"},y.name)," will review this comment."):Object(e.h)("p",null,"We will review this note."),Object(e.h)("div",{className:"buttons"},Object(e.h)(u.b,{className:"primary",onClick:b},Object(e.h)("span",null,"Done"))));n.a=h},function(k,n,t){"use strict";var e=t(0),a=t(5),o=t.n(a),l=t(67),d=t(70),c=t(434),u=t(73),f=t(55),m=Object.defineProperty,p=(s,r,i)=>r in s?m(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,g=(s,r,i)=>(p(s,typeof r!="symbol"?r+"":r,i),i);class O extends e.Component{constructor(){super(...arguments);g(this,"onSortCommentsClicked",r=>{this.sortMenuRef.toggle(),this.props.onSortSelected(r)})}render({sort:r,loading:i,pub:h}){const v=Object(f.default)("like_comments_enabled");return Object(e.h)("div",{className:o()("comments-page-sort-controls",{loading:i})},Object(e.h)("div",{className:"comments-page-sort-menu"},Object(e.h)("button",{className:"comments-page-sort-menu-button",onClick:()=>this.sortMenuRef.toggle()},Object(e.h)("span",{className:"comments-page-sort-menu-button-label"},Object(l.commentSortText)(r)),Object(e.h)(c.default,{height:"6"})),Object(e.h)(d.b,{className:"comments-page-sort-menu-dropdown",ref:j=>this.sortMenuRef=j},Object(l.commentSortOptions)({likesEnabled:v}).map(({key:j,text:y})=>Object(e.h)(u.a,{className:r===j?"selected":"",onClick:()=>this.onSortCommentsClicked(j)},y)))))}}n.a=O},function(k,n,t){"use strict";t.d(n,"a",function(){return o});var e=t(162);function a(l,d){if(Object(e.a)(l)!=="object"||l===null)return l;var c=l[Symbol.toPrimitive];if(c!==void 0){var u=c.call(l,d||"default");if(Object(e.a)(u)!=="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(d==="string"?String:Number)(l)}function o(l){var d=a(l,"string");return Object(e.a)(d)==="symbol"?d:String(d)}},,,function(k,n){function t(e){return function(a){return e(a)}}k.exports=t},function(k,n,t){(function(e,a){k.exports=a()})(this,function(){"use strict";return function(e,a){a.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}})},function(k,n,t){(function(e){var a=typeof e=="object"&&e&&e.Object===Object&&e;k.exports=a}).call(this,t(173))},function(k,n){var t=Function.prototype,e=t.toString;function a(o){if(o!=null){try{return e.call(o)}catch(l){}try{return o+""}catch(l){}}return""}k.exports=a},function(k,n,t){var e=t(449),a=t(663),o=t(450),l=1,d=2;function c(u,f,m,p,g,O){var s=m&l,r=u.length,i=f.length;if(r!=i&&!(s&&i>r))return!1;var h=O.get(u),v=O.get(f);if(h&&v)return h==f&&v==u;var j=-1,y=!0,b=m&d?new e:void 0;for(O.set(u,f),O.set(f,u);++j<r;){var E=u[j],P=f[j];if(p)var A=s?p(P,E,j,f,u,O):p(E,P,j,u,f,O);if(A!==void 0){if(A)continue;y=!1;break}if(b){if(!a(f,function(_,M){if(!o(b,M)&&(E===_||g(E,_,m,p,O)))return b.push(M)})){y=!1;break}}else if(!(E===P||g(E,P,m,p,O))){y=!1;break}}return O.delete(u),O.delete(f),y}k.exports=c},function(k,n,t){var e=t(146);function a(o){return o===o&&!e(o)}k.exports=a},function(k,n){function t(e,a){return function(o){return o==null?!1:o[e]===a&&(a!==void 0||e in Object(o))}}k.exports=t},function(k,n,t){"use strict";t.d(n,"a",function(){return y}),t.d(n,"b",function(){return b}),t.d(n,"c",function(){return E}),t.d(n,"d",function(){return P});var e=t(0),a=t(5),o=t.n(a),l=t(17),d=t.n(l),c={datePicker:"frontend-pencraft-DatePicker-module__datePicker--gvF4e"},u=Object.defineProperty,f=Object.defineProperties,m=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,s=(M,F,H)=>F in M?u(M,F,{enumerable:!0,configurable:!0,writable:!0,value:H}):M[F]=H,r=(M,F)=>{for(var H in F||(F={}))g.call(F,H)&&s(M,H,F[H]);if(p)for(var H of p(F))O.call(F,H)&&s(M,H,F[H]);return M},i=(M,F)=>f(M,m(F)),h=(M,F)=>{var H={};for(var C in M)g.call(M,C)&&F.indexOf(C)<0&&(H[C]=M[C]);if(M!=null&&p)for(var C of p(M))F.indexOf(C)<0&&O.call(M,C)&&(H[C]=M[C]);return H};const v="YYYY-MM-DD",j="YYYY-MM-DDThh:mm";function y(M){var F=M,{className:H,min:C,max:T,value:S,onChange:D,disabled:w}=F,U=h(F,["className","min","max","value","onChange","disabled"]);return Object(e.h)("input",i(r({},U),{type:"date",className:o()(c.datePicker,H),value:S?d()(S).format(v):void 0,min:C?d()(C).format(v):void 0,max:T?d()(T).format(v):void 0,onChange:D,disabled:w}))}function b(M){var F=M,{className:H,min:C,max:T,value:S,onChange:D,disabled:w}=F,U=h(F,["className","min","max","value","onChange","disabled"]);return Object(e.h)("input",i(r({},U),{type:"datetime-local",className:o()(c.datePicker,H),value:S?d()(S).format(j):void 0,min:C?d()(C).format(j):void 0,max:T?d()(T).format(j):void 0,onChange:D,disabled:w}))}function E(M){var F=M,{className:H,min:C,max:T,value:S,onChange:D,disabled:w}=F,U=h(F,["className","min","max","value","onChange","disabled"]);return Object(e.h)("input",i(r({},U),{type:"datetime-local",className:o()(c.datePicker,H),value:A(S),min:A(C),max:A(T),onChange:D,disabled:w}))}function P(M){var F=M,{className:H,min:C,max:T,value:S,onChange:D,disabled:w}=F,U=h(F,["className","min","max","value","onChange","disabled"]);return Object(e.h)("input",i(r({},U),{type:"month",className:o()(c.datePicker,H),value:A(S),min:A(C),max:A(T),onChange:D,disabled:w}))}function A(M){return M instanceof Date?`${M.getFullYear()}-${_(M.getMonth()+1)}-${_(M.getDate())}T${_(M.getHours())}:${_(M.getMinutes())}`:M}function _(M){const F=String(M);return F.length<2?`0${F}`:F}},function(k,n,t){"use strict";t.d(n,"a",function(){return r});var e=t(0),a=t(5),o=t.n(a),l=t(2),d=t(8),c={clickable:"frontend-pencraft-Placeholder-module__clickable--1gp4B",bg_secondary:"frontend-pencraft-Placeholder-module__bg_secondary--1lwgl","bg_secondary-themed":"frontend-pencraft-Placeholder-module__bg_secondary-themed--2RNEQ",text_secondary:"frontend-pencraft-Placeholder-module__text_secondary--3q22V","text_pub-secondary-text":"frontend-pencraft-Placeholder-module__text_pub-secondary-text--1FTKh"},u=Object.defineProperty,f=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,g=(i,h,v)=>h in i?u(i,h,{enumerable:!0,configurable:!0,writable:!0,value:v}):i[h]=v,O=(i,h)=>{for(var v in h||(h={}))m.call(h,v)&&g(i,v,h[v]);if(f)for(var v of f(h))p.call(h,v)&&g(i,v,h[v]);return i},s=(i,h)=>{var v={};for(var j in i)m.call(i,j)&&h.indexOf(j)<0&&(v[j]=i[j]);if(i!=null&&f)for(var j of f(i))h.indexOf(j)<0&&p.call(i,j)&&(v[j]=i[j]);return v};const r=i=>{var h=i,{icon:v,text:j,textColor:y="secondary",bgColor:b="secondary",paddingX:E=24,paddingY:P=24,className:A,onClick:_}=h,M=s(h,["icon","text","textColor","bgColor","paddingX","paddingY","className","onClick"]);return Object(e.h)(l.a,O({sizing:"border-box",alignItems:"center",justifyContent:"center",paddingX:E,paddingY:P,radius:8,className:o()(A,c.placeholder,c[`bg_${b}`],c[`text_${y}`],{[c.clickable]:!!_}),onClick:_},M),Object(e.h)(l.b,{gap:8,alignItems:"center"},v,Object(e.h)(d.b.B4,{color:y,className:c.text,weight:"bold"},j)))}},function(k,n,t){"use strict";t.d(n,"a",function(){return e});function*e(a){if(yield a,a.content)for(const o of a.content)yield*e(o)}},function(k,n,t){n.__esModule=!0;var e=function(){function B(x,G){for(var Q=0;Q<G.length;Q++){var he=G[Q];he.enumerable=he.enumerable||!1,he.configurable=!0,"value"in he&&(he.writable=!0),Object.defineProperty(x,he.key,he)}}return function(x,G,Q){return G&&B(x.prototype,G),Q&&B(x,Q),x}}(),a=Object.assign||function(B){for(var x=1;x<arguments.length;x++){var G=arguments[x];for(var Q in G)Object.prototype.hasOwnProperty.call(G,Q)&&(B[Q]=G[Q])}return B},o=t(0),l=t(624),d=g(l),c=t(625),u=g(c),f=t(628),m=g(f),p=t(629);function g(B){return B&&B.__esModule?B:{default:B}}function O(B,x){if(!(B instanceof x))throw new TypeError("Cannot call a class as a function")}function s(B,x){if(!B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:B}function r(B,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);B.prototype=Object.create(x&&x.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(B,x):B.__proto__=x)}function i(B,x,G){return x in B?Object.defineProperty(B,x,{value:G,enumerable:!0,configurable:!0,writable:!0}):B[x]=G,B}var h="data-preact-helmet",v=function(x){return String(x).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},j=function(x,G){for(var Q=x.length-1;Q>=0;Q--){var he=x[Q];if(he[G])return he[G]}return null},y=function(x){var G=j(x,"title"),Q=j(x,"titleTemplate");if(Q&&G)return Q.replace(/%s/g,function(){return G});var he=j(x,"defaultTitle");return G||he||""},b=function(x){return j(x,"onChangeClientState")||function(){}},E=function(x,G){return G.filter(function(Q){return typeof Q[x]!="undefined"}).map(function(Q){return Q[x]}).reduce(function(Q,he){return a({},Q,he)},{})},P=function(x,G){return G.filter(function(Q){return typeof Q[p.TAG_NAMES.BASE]!="undefined"}).map(function(Q){return Q[p.TAG_NAMES.BASE]}).reverse().reduce(function(Q,he){if(!Q.length)for(var Z=Object.keys(he),le=0;le<Z.length;le++){var de=Z[le],be=de.toLowerCase();if(x.indexOf(be)!==-1&&he[be])return Q.concat(he)}return Q},[])},A=function(x,G,Q){var he={};return Q.filter(function(Z){return typeof Z[x]!="undefined"}).map(function(Z){return Z[x]}).reverse().reduce(function(Z,le){var de={};le.filter(function(Le){for(var Ae=void 0,Pe=Object.keys(Le),Ne=0;Ne<Pe.length;Ne++){var ce=Pe[Ne],q=ce.toLowerCase();G.indexOf(q)!==-1&&!(Ae===p.TAG_PROPERTIES.REL&&Le[Ae].toLowerCase()==="canonical")&&!(q===p.TAG_PROPERTIES.REL&&Le[q].toLowerCase()==="stylesheet")&&(Ae=q),G.indexOf(ce)!==-1&&(ce===p.TAG_PROPERTIES.INNER_HTML||ce===p.TAG_PROPERTIES.CSS_TEXT||ce===p.TAG_PROPERTIES.ITEM_PROP)&&(Ae=ce)}if(!Ae||!Le[Ae])return!1;var te=Le[Ae].toLowerCase();return he[Ae]||(he[Ae]={}),de[Ae]||(de[Ae]={}),he[Ae][te]?!1:(de[Ae][te]=!0,!0)}).reverse().forEach(function(Le){return Z.push(Le)});for(var be=Object.keys(de),X=0;X<be.length;X++){var ie=be[X],Ce=(0,m.default)({},he[ie],de[ie]);he[ie]=Ce}return Z},[]).reverse()},_=function(x,G){document.title=x||document.title,M(p.TAG_NAMES.TITLE,G)},M=function(x,G){for(var Q=document.getElementsByTagName(x)[0],he=Q.getAttribute(h),Z=he?he.split(","):[],le=[].concat(Z),de=Object.keys(G),be=0;be<de.length;be++){var X=de[be],ie=G[X]||"";Q.setAttribute(X,ie),Z.indexOf(X)===-1&&Z.push(X);var Ce=le.indexOf(X);Ce!==-1&&le.splice(Ce,1)}for(var Le=le.length-1;Le>=0;Le--)Q.removeAttribute(le[Le]);Z.length===le.length?Q.removeAttribute(h):Q.setAttribute(h,Z.join(","))},F=function(x,G){var Q=document.head||document.querySelector("head"),he=Q.querySelectorAll(x+"["+h+"]"),Z=Array.prototype.slice.call(he),le=[],de=void 0;return G&&G.length&&G.forEach(function(be){var X=document.createElement(x);for(var ie in be)if(be.hasOwnProperty(ie))if(ie==="innerHTML")X.innerHTML=be.innerHTML;else if(ie==="cssText")X.styleSheet?X.styleSheet.cssText=be.cssText:X.appendChild(document.createTextNode(be.cssText));else{var Ce=typeof be[ie]=="undefined"?"":be[ie];X.setAttribute(ie,Ce)}X.setAttribute(h,"true"),Z.some(function(Le,Ae){return de=Ae,X.isEqualNode(Le)})?Z.splice(de,1):le.push(X)}),Z.forEach(function(be){return be.parentNode.removeChild(be)}),le.forEach(function(be){return Q.appendChild(be)}),{oldTags:Z,newTags:le}},H=function(x){return Object.keys(x).reduce(function(G,Q){var he=typeof x[Q]!="undefined"?Q+'="'+x[Q]+'"':""+Q;return G?G+" "+he:he},"")},C=function(x,G,Q){var he=H(Q);return he?"<"+x+" "+h+" "+he+">"+v(G)+"</"+x+">":"<"+x+" "+h+">"+v(G)+"</"+x+">"},T=function(x,G){return G.reduce(function(Q,he){var Z=Object.keys(he).filter(function(be){return!(be==="innerHTML"||be==="cssText")}).reduce(function(be,X){var ie=typeof he[X]=="undefined"?X:X+'="'+v(he[X])+'"';return be?be+" "+ie:ie},""),le=he.innerHTML||he.cssText||"",de=[p.TAG_NAMES.NOSCRIPT,p.TAG_NAMES.SCRIPT,p.TAG_NAMES.STYLE].indexOf(x)===-1;return Q+"<"+x+" "+h+" "+Z+(de?">":">"+le+"</"+x+">")},"")},S=function(x,G,Q){var he=i({key:G},h,!0),Z=Object.keys(Q).reduce(function(le,de){return le[de]=Q[de],le},he);return[(0,o.h)(p.TAG_NAMES.TITLE,Z,G)]},D=function(x,G){return G.map(function(Q,he){var Z=i({key:he},h,!0);return Object.keys(Q).forEach(function(le){var de=le;if(de==="innerHTML"||de==="cssText"){var be=Q.innerHTML||Q.cssText;Z.dangerouslySetInnerHTML={__html:be}}else Z[de]=Q[le]}),(0,o.h)(x,Z)})},w=function(x,G){switch(x){case p.TAG_NAMES.TITLE:return{toComponent:function(){return S(x,G.title,G.titleAttributes)},toString:function(){return C(x,G.title,G.titleAttributes)}};case p.TAG_NAMES.HTML:return{toComponent:function(){return G},toString:function(){return H(G)}};default:return{toComponent:function(){return D(x,G)},toString:function(){return T(x,G)}}}},U=function(x){var G=x.htmlAttributes,Q=x.title,he=x.titleAttributes,Z=x.baseTag,le=x.metaTags,de=x.linkTags,be=x.scriptTags,X=x.noscriptTags,ie=x.styleTags;return{htmlAttributes:w(p.TAG_NAMES.HTML,G),title:w(p.TAG_NAMES.TITLE,{title:Q,titleAttributes:he}),base:w(p.TAG_NAMES.BASE,Z),meta:w(p.TAG_NAMES.META,le),link:w(p.TAG_NAMES.LINK,de),script:w(p.TAG_NAMES.SCRIPT,be),noscript:w(p.TAG_NAMES.NOSCRIPT,X),style:w(p.TAG_NAMES.STYLE,ie)}},V=function(x){var G,Q;return Q=G=function(he){r(Z,he);function Z(){return O(this,Z),s(this,(Z.__proto__||Object.getPrototypeOf(Z)).apply(this,arguments))}return e(Z,[{key:"shouldComponentUpdate",value:function(de){var be=a({},de);return(!be.children||!be.children.length)&&delete be.children,!(0,u.default)(this.props,be)}},{key:"render",value:function(){return(0,o.h)(x,this.props)}}],[{key:"canUseDOM",set:function(de){x.canUseDOM=de}}]),Z}(o.Component),G.peek=x.peek,G.rewind=function(){var he=x.rewind();return he||(he=U({htmlAttributes:{},title:"",titleAttributes:{},baseTag:[],metaTags:[],linkTags:[],scriptTags:[],noscriptTags:[],styleTags:[]})),he},Q},K=function(x){return{htmlAttributes:E(p.TAG_NAMES.HTML,x),title:y(x),titleAttributes:E("titleAttributes",x),baseTag:P([p.TAG_PROPERTIES.HREF],x),metaTags:A(p.TAG_NAMES.META,[p.TAG_PROPERTIES.NAME,p.TAG_PROPERTIES.CHARSET,p.TAG_PROPERTIES.HTTPEQUIV,p.TAG_PROPERTIES.PROPERTY,p.TAG_PROPERTIES.ITEM_PROP],x),linkTags:A(p.TAG_NAMES.LINK,[p.TAG_PROPERTIES.REL,p.TAG_PROPERTIES.HREF],x),scriptTags:A(p.TAG_NAMES.SCRIPT,[p.TAG_PROPERTIES.SRC,p.TAG_PROPERTIES.INNER_HTML],x),noscriptTags:A(p.TAG_NAMES.NOSCRIPT,[p.TAG_PROPERTIES.INNER_HTML],x),styleTags:A(p.TAG_NAMES.STYLE,[p.TAG_PROPERTIES.CSS_TEXT],x),onChangeClientState:b(x)}},Y=function(x){var G=x.htmlAttributes,Q=x.title,he=x.titleAttributes,Z=x.baseTag,le=x.metaTags,de=x.linkTags,be=x.scriptTags,X=x.noscriptTags,ie=x.styleTags,Ce=x.onChangeClientState;M("html",G),_(Q,he);var Le={baseTag:F(p.TAG_NAMES.BASE,Z),metaTags:F(p.TAG_NAMES.META,le),linkTags:F(p.TAG_NAMES.LINK,de),scriptTags:F(p.TAG_NAMES.SCRIPT,be),noscriptTags:F(p.TAG_NAMES.NOSCRIPT,X),styleTags:F(p.TAG_NAMES.STYLE,ie)},Ae={},Pe={};Object.keys(Le).forEach(function(Ne){var ce=Le[Ne],q=ce.newTags,te=ce.oldTags;q.length&&(Ae[Ne]=q),te.length&&(Pe[Ne]=Le[Ne].oldTags)}),Ce(x,Ae,Pe)},W=function(){return null},R=(0,d.default)(K,Y,U)(W);n.default=V(R),k.exports=n.default},function(k,n,t){var e=t(437),a=t(243),o=t(372),l=Math.max,d=Math.min;function c(u,f,m){var p=u==null?0:u.length;if(!p)return-1;var g=p-1;return m!==void 0&&(g=o(m),g=m<0?l(p+g,0):d(g,p-1)),e(u,a(f,3),g,!0)}k.exports=c},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(r,i,h)=>i in r?o(r,i,{enumerable:!0,configurable:!0,writable:!0,value:h}):r[i]=h,p=(r,i)=>{for(var h in i||(i={}))u.call(i,h)&&m(r,h,i[h]);if(c)for(var h of c(i))f.call(i,h)&&m(r,h,i[h]);return r},g=(r,i)=>l(r,d(i)),O=(r,i)=>{var h={};for(var v in r)u.call(r,v)&&i.indexOf(v)<0&&(h[v]=r[v]);if(r!=null&&c)for(var v of c(r))i.indexOf(v)<0&&f.call(r,v)&&(h[v]=r[v]);return h};const s=r=>{var i=r,{strokeWidth:h=1.5}=i,v=O(i,["strokeWidth"]);return Object(e.h)(a.a,g(p({},v),{name:"UserIcon",svgParams:{width:24,height:24,viewBox:"0 0 24 24",fill:"none"}}),Object(e.h)("path",{d:"M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21","stroke-width":h,"stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M12 11C14.2091 11 16 9.20914 16 7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7C8 9.20914 9.79086 11 12 11Z","stroke-width":h,"stroke-linecap":"round","stroke-linejoin":"round"}))};n.default=s},function(k,n,t){"use strict";var e=t(0),a=t(1),o=t(70),l=t(242);const d=({children:c,content:u,baseRef:f=void 0,portalClass:m="",className:p="",style:g=void 0})=>{const O=Object(a.k)(null),s=Object(a.k)(null);return u?Object(e.h)("div",{ref:O,className:p,style:g},c,Object(e.h)(l.a,{baseRef:f||O,hoverToggle:!0,onOpen:()=>{var r;return(r=s.current)==null?void 0:r.open()},onClose:()=>{var r;return(r=s.current)==null?void 0:r.close()},className:m},Object(e.h)(o.a,{ref:s,noList:!0,className:"explanation"},u))):c};n.a=d},,function(k,n,t){"use strict";t.d(n,"a",function(){return o}),t.d(n,"b",function(){return l});var e=t(4),a=t.n(e);function o(d,c){if(d){if(!d.has_publication&&!d.subdomain)return{type:"no-dashboard",url:Object(e.getStartPublishingUrl)(c)};if(d.subdomain)return{type:"dashboard",url:Object(e.getDashboardUrlForSubdomain)(d.subdomain,{params:c})}}return null}function l(d,c){return(d==null?void 0:d.profile_set_up_at)?Object(e.getReaderProfileUrl)(d,c):Object(e.getProfileSetupUrl)(c)}},function(k,n){function t(e,a){for(var o=-1,l=a.length,d=e.length;++o<l;)e[d+o]=a[o];return e}k.exports=t},function(k,n,t){const e=t(951),a=t(963),{klona:o}=t(964),{isPlainObject:l}=t(965),d=t(966),c=t(967),{parse:u}=t(968),f=t(491),m=["img","audio","video","picture","svg","object","map","iframe","embed"],p=["script","style"];function g(y,b){y&&Object.keys(y).forEach(function(E){b(y[E],E)})}function O(y,b){return{}.hasOwnProperty.call(y,b)}function s(y,b){const E=[];return g(y,function(P){b(P)&&E.push(P)}),E}function r(y){for(const b in y)if(O(y,b))return!1;return!0}function i(y){return y.map(function(b){if(!b.url)throw new Error("URL missing");return b.url+(b.w?` ${b.w}w`:"")+(b.h?` ${b.h}h`:"")+(b.d?` ${b.d}x`:"")}).join(", ")}k.exports=v;const h=/^[^\0\t\n\f\r /<=>]+$/;function v(y,b,E){let P="",A="";function _(de,be){const X=this;this.tag=de,this.attribs=be||{},this.tagPosition=P.length,this.text="",this.mediaChildren=[],this.updateParentNodeText=function(){if(w.length){const ie=w[w.length-1];ie.text+=X.text}},this.updateParentNodeMediaChildren=function(){w.length&&m.includes(this.tag)&&w[w.length-1].mediaChildren.push(this.tag)}}b?(b=Object.assign({},v.defaults,b),b.parser?b.parser=Object.assign({},j,b.parser):b.parser=j):(b=v.defaults,b.parser=j),p.forEach(function(de){b.allowedTags&&b.allowedTags.indexOf(de)>-1&&!b.allowVulnerableTags&&console.warn(`

\u26A0\uFE0F Your \`allowedTags\` option includes, \`${de}\`, which is inherently
vulnerable to XSS attacks. Please remove it from \`allowedTags\`.
Or, to disable this warning, add the \`allowVulnerableTags\` option
and ensure you are accounting for this risk.

`)});const M=b.nonTextTags||["script","style","textarea","option"];let F,H;b.allowedAttributes&&(F={},H={},g(b.allowedAttributes,function(de,be){F[be]=[];const X=[];de.forEach(function(ie){typeof ie=="string"&&ie.indexOf("*")>=0?X.push(a(ie).replace(/\\\*/g,".*")):F[be].push(ie)}),H[be]=new RegExp("^("+X.join("|")+")$")}));const C={};g(b.allowedClasses,function(de,be){F&&(O(F,be)||(F[be]=[]),F[be].push("class")),C[be]=de});const T={};let S;g(b.transformTags,function(de,be){let X;typeof de=="function"?X=de:typeof de=="string"&&(X=v.simpleTransform(de)),be==="*"?S=X:T[be]=X});let D,w,U,V,K,Y,W=!1;B();const R=new e.Parser({onopentag:function(de,be){if(b.enforceHtmlBoundary&&de==="html"&&B(),K){Y++;return}const X=new _(de,be);w.push(X);let ie=!1;const Ce=!!X.text;let Le;if(O(T,de)&&(Le=T[de](de,be),X.attribs=be=Le.attribs,Le.text!==void 0&&(X.innerText=Le.text),de!==Le.tagName&&(X.name=de=Le.tagName,V[D]=Le.tagName)),S&&(Le=S(de,be),X.attribs=be=Le.attribs,de!==Le.tagName&&(X.name=de=Le.tagName,V[D]=Le.tagName)),(b.allowedTags&&b.allowedTags.indexOf(de)===-1||b.disallowedTagsMode==="recursiveEscape"&&!r(U)||b.nestingLimit!=null&&D>=b.nestingLimit)&&(ie=!0,U[D]=!0,b.disallowedTagsMode==="discard"&&M.indexOf(de)!==-1&&(K=!0,Y=1),U[D]=!0),D++,ie){if(b.disallowedTagsMode==="discard")return;A=P,P=""}P+="<"+de,(!F||O(F,de)||F["*"])&&g(be,function(Ae,Pe){if(!h.test(Pe)){delete X.attribs[Pe];return}let Ne,ce=!1;if(!F||O(F,de)&&F[de].indexOf(Pe)!==-1||F["*"]&&F["*"].indexOf(Pe)!==-1||O(H,de)&&H[de].test(Pe)||H["*"]&&H["*"].test(Pe))ce=!0;else if(F&&F[de]){for(const q of F[de])if(l(q)&&q.name&&q.name===Pe){ce=!0;let te="";if(q.multiple===!0){const ue=Ae.split(" ");for(const We of ue)q.values.indexOf(We)!==-1&&(te===""?te=We:te+=" "+We)}else q.values.indexOf(Ae)>=0&&(te=Ae);Ae=te}}if(ce){if(b.allowedSchemesAppliedToAttributes.indexOf(Pe)!==-1&&G(de,Ae)){delete X.attribs[Pe];return}if(de==="iframe"&&Pe==="src"){let q=!0;try{if(Ne=f.parse(Ae,!1,!0),Ne&&Ne.host===null&&Ne.protocol===null)q=O(b,"allowIframeRelativeUrls")?b.allowIframeRelativeUrls:!b.allowedIframeHostnames&&!b.allowedIframeDomains;else if(b.allowedIframeHostnames||b.allowedIframeDomains){const ue=(b.allowedIframeHostnames||[]).find(function(ot){return ot===Ne.hostname}),We=(b.allowedIframeDomains||[]).find(function(ot){return Ne.hostname===ot||Ne.hostname.endsWith(`.${ot}`)});q=ue||We}}catch(te){q=!1}if(!q){delete X.attribs[Pe];return}}if(Pe==="srcset")try{if(Ne=c(Ae),Ne.forEach(function(q){G("srcset",q.url)&&(q.evil=!0)}),Ne=s(Ne,function(q){return!q.evil}),Ne.length)Ae=i(s(Ne,function(q){return!q.evil})),X.attribs[Pe]=Ae;else{delete X.attribs[Pe];return}}catch(q){delete X.attribs[Pe];return}if(Pe==="class"){const q=C[de],te=C["*"];if(q&&te?Ae=le(Ae,d(q,te)):Ae=le(Ae,q||te),!Ae.length){delete X.attribs[Pe];return}}if(Pe==="style")try{const q=u(de+" {"+Ae+"}"),te=Q(q,b.allowedStyles);if(Ae=he(te),Ae.length===0){delete X.attribs[Pe];return}}catch(q){delete X.attribs[Pe];return}P+=" "+Pe,Ae&&Ae.length&&(P+='="'+x(Ae,!0)+'"')}else delete X.attribs[Pe]}),b.selfClosing.indexOf(de)!==-1?P+=" />":(P+=">",X.innerText&&!Ce&&!b.textFilter&&(P+=x(X.innerText),W=!0)),ie&&(P=A+x(P),A="")},ontext:function(de){if(K)return;const be=w[w.length-1];let X;if(be&&(X=be.tag,de=be.innerText!==void 0?be.innerText:de),b.disallowedTagsMode==="discard"&&(X==="script"||X==="style"))P+=de;else{const ie=x(de,!1);b.textFilter&&!W?P+=b.textFilter(ie,X):W||(P+=ie)}if(w.length){const ie=w[w.length-1];ie.text+=de}},onclosetag:function(de){if(K)if(Y--,!Y)K=!1;else return;const be=w.pop();if(!be)return;K=b.enforceHtmlBoundary?de==="html":!1,D--;const X=U[D];if(X){if(delete U[D],b.disallowedTagsMode==="discard"){be.updateParentNodeText();return}A=P,P=""}if(V[D]&&(de=V[D],delete V[D]),b.exclusiveFilter&&b.exclusiveFilter(be)){P=P.substr(0,be.tagPosition);return}if(be.updateParentNodeMediaChildren(),be.updateParentNodeText(),b.selfClosing.indexOf(de)!==-1){X&&(P=A,A="");return}P+="</"+de+">",X&&(P=A+x(P),A="")}},b.parser);return R.write(y),R.end(),P;function B(){P="",D=0,w=[],U={},V={},K=!1,Y=0}function x(de,be){return typeof de!="string"&&(de=de+""),b.parser.decodeEntities&&(de=de.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),be&&(de=de.replace(/"/g,"&quot;"))),de=de.replace(/&(?![a-zA-Z0-9#]{1,20};)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),be&&(de=de.replace(/"/g,"&quot;")),de}function G(de,be){be=be.replace(/[\x00-\x20]+/g,""),be=be.replace(/<!--.*?-->/g,"");const X=be.match(/^([a-zA-Z]+):/);if(!X)return be.match(/^[/\\]{2}/)?!b.allowProtocolRelative:!1;const ie=X[1].toLowerCase();return O(b.allowedSchemesByTag,de)?b.allowedSchemesByTag[de].indexOf(ie)===-1:!b.allowedSchemes||b.allowedSchemes.indexOf(ie)===-1}function Q(de,be){if(!be)return de;const X=o(de),ie=de.nodes[0];let Ce;return be[ie.selector]&&be["*"]?Ce=d(be[ie.selector],be["*"]):Ce=be[ie.selector]||be["*"],Ce&&(X.nodes[0].nodes=ie.nodes.reduce(Z(Ce),[])),X}function he(de){return de.nodes[0].nodes.reduce(function(be,X){return be.push(X.prop+":"+X.value),be},[]).join(";")}function Z(de){return function(be,X){return O(de,X.prop)&&de[X.prop].some(function(Ce){return Ce.test(X.value)})&&be.push(X),be}}function le(de,be){return be?(de=de.split(/\s+/),de.filter(function(X){return be.indexOf(X)!==-1}).join(" ")):de}}const j={decodeEntities:!0};v.defaults={allowedTags:["address","article","aside","footer","header","h1","h2","h3","h4","h5","h6","hgroup","main","nav","section","blockquote","dd","div","dl","dt","figcaption","figure","hr","li","main","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rb","rp","rt","rtc","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr"],disallowedTagsMode:"discard",allowedAttributes:{a:["href","name","target"],img:["src"]},selfClosing:["img","br","hr","area","base","basefont","input","link","meta"],allowedSchemes:["http","https","ftp","mailto","tel"],allowedSchemesByTag:{},allowedSchemesAppliedToAttributes:["href","src","cite"],allowProtocolRelative:!0,enforceHtmlBoundary:!1},v.simpleTransform=function(y,b,E){return E=E===void 0?!0:E,b=b||{},function(P,A){let _;if(E)for(_ in b)A[_]=b[_];else A=b;return{tagName:y,attribs:A}}}},function(k,n){function t(){return k.exports=t=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var o=arguments[a];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(e[l]=o[l])}return e},k.exports.__esModule=!0,k.exports.default=k.exports,t.apply(this,arguments)}k.exports=t,k.exports.__esModule=!0,k.exports.default=k.exports},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(0);const a=Object(e.createContext)(!1)},function(k,n){n.isCouponValid=(t,{is_group:e,is_gift:a,paywallFreeTrialEnabled:o})=>!(!t||!t.valid||t.max_redemptions&&t.max_redemptions<=t.times_redeemed||t.group_only&&!e||t.redeem_by&&new Date(t.redeem_by)<new Date||t.type==="FREE_TRIAL"&&(!o||a||e)),n.isCouponValidForPlan=(t,e)=>!(!t||!e||e.metadata.no_coupons||e.metadata.unlimited_group||e.interval==="forever"||t.yearly_only&&e.interval!=="year"||t.monthly_only&&e.interval!=="month"||t.duration==="repeating"&&(e.interval==="month"&&t.duration_in_months%e.interval_count!=0||e.interval==="year"&&t.duration_in_months%(e.interval_count*12)!=0)||t.amount_off&&t.currency&&t.currency!==e.currency),n.isEmailValidEdu=(t,e)=>{const a=e.filter(d=>d.is_suffix);return e.filter(d=>!d.is_suffix).find(d=>t.split("@").pop().startsWith(d.pattern))||a.find(d=>t.endsWith(d.pattern))},n.isCouponValidForEmail=(t,e,a)=>!(t.edu_only&&!n.isEmailValidEdu(e,a)||t.allowed_suffixes&&!t.allowed_suffixes.split(/, */).find(l=>e.toLowerCase().endsWith(l.toLowerCase()))),n.getDiscountedAmount=(t,e)=>{let a=t.amount;return e&&n.isCouponValidForPlan(e,t)&&(e.percent_off?a=Math.round(a*(1-(e.percent_off_precise||e.percent_off)/100)):e.amount_off&&(a=Math.max(0,a-e.amount_off))),a}},,function(k,n){function t(e){return k.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},k.exports.__esModule=!0,k.exports.default=k.exports,t(e)}k.exports=t,k.exports.__esModule=!0,k.exports.default=k.exports},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"MenuIcon",svgParams:{height:10,width:18}}),Object(e.h)("path",{d:"M1 1L9 9L17 1",stroke:"#999","stroke-width":"1"}));n.default=O},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(r,i,h)=>i in r?o(r,i,{enumerable:!0,configurable:!0,writable:!0,value:h}):r[i]=h,p=(r,i)=>{for(var h in i||(i={}))u.call(i,h)&&m(r,h,i[h]);if(c)for(var h of c(i))f.call(i,h)&&m(r,h,i[h]);return r},g=(r,i)=>l(r,d(i)),O=(r,i)=>{var h={};for(var v in r)u.call(r,v)&&i.indexOf(v)<0&&(h[v]=r[v]);if(r!=null&&c)for(var v of c(r))i.indexOf(v)<0&&f.call(r,v)&&(h[v]=r[v]);return h};const s=r=>{var i=r,{fill:h="#FF6719"}=i,v=O(i,["fill"]);return Object(e.h)(a.a,g(p({},v),{fill:h,name:"UserBadgeIcon",svgParams:{viewBox:"0 0 40 40",height:40,width:40}}),Object(e.h)("path",{d:"M17.4385 1.2681C19.3988 0.456149 21.6012 0.45615 23.5615 1.2681L31.5807 4.58976C33.5409 5.40172 35.0983 6.95911 35.9102 8.91933L39.2319 16.9385C40.0439 18.8988 40.0439 21.1012 39.2319 23.0615L35.9102 31.0807C35.0983 33.0409 33.5409 34.5983 31.5807 35.4102L23.5615 38.7319C21.6012 39.5439 19.3988 39.5439 17.4385 38.7319L9.41933 35.4102C7.45911 34.5983 5.90171 33.0409 5.08976 31.0807L1.7681 23.0615C0.956149 21.1012 0.95615 18.8988 1.7681 16.9385L5.08976 8.91933C5.90172 6.95911 7.45911 5.40171 9.41933 4.58976L17.4385 1.2681Z",fill:h,stroke:"transparent"}),Object(e.h)("path",{d:"M27.1666 15L17.9999 24.1667L13.8333 20",stroke:"white",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}))};n.default=s},,function(k,n){function t(e,a,o,l){for(var d=e.length,c=o+(l?1:-1);l?c--:++c<d;)if(a(e[c],c,e))return c;return-1}k.exports=t},function(k,n){n.generateVisitIdHelper=(t,{utm_source:e}={})=>{const a={id:t(),timestamp:new Date};return e&&(a.utm_source=e),a}},function(k,n,t){"use strict";(function(e){const a={},o=a.hasOwnProperty,l=(E,P)=>{for(const A in E)o.call(E,A)&&P(A,E[A])},d=(E,P)=>(P&&l(P,(A,_)=>{E[A]=_}),E),c=(E,P)=>{const A=E.length;let _=-1;for(;++_<A;)P(E[_])},u=a.toString,f=Array.isArray,m=e.isBuffer,p=E=>u.call(E)=="[object Object]",g=E=>typeof E=="string"||u.call(E)=="[object String]",O=E=>typeof E=="number"||u.call(E)=="[object Number]",s=E=>typeof E=="function",r=E=>u.call(E)=="[object Map]",i=E=>u.call(E)=="[object Set]",h={'"':'\\"',"'":"\\'","\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},v=/["'\\\b\f\n\r\t]/,j=/[0-9]/,y=/[ !#-&\(-\[\]-_a-~]/,b=(E,P)=>{const A=()=>{S=T,++P.indentLevel,T=P.indent.repeat(P.indentLevel)},_={escapeEverything:!1,minimal:!1,isScriptContext:!1,quotes:"single",wrap:!1,es6:!1,json:!1,compact:!0,lowercaseHex:!1,numbers:"decimal",indent:"	",indentLevel:0,__inline1__:!1,__inline2__:!1},M=P&&P.json;M&&(_.quotes="double",_.wrap=!0),P=d(_,P),P.quotes!="single"&&P.quotes!="double"&&P.quotes!="backtick"&&(P.quotes="single");const F=P.quotes=="double"?'"':P.quotes=="backtick"?"`":"'",H=P.compact,C=P.lowercaseHex;let T=P.indent.repeat(P.indentLevel),S="";const D=P.__inline1__,w=P.__inline2__,U=H?"":`
`;let V,K=!0;const Y=P.numbers=="binary",W=P.numbers=="octal",R=P.numbers=="decimal",B=P.numbers=="hexadecimal";if(M&&E&&s(E.toJSON)&&(E=E.toJSON()),!g(E)){if(r(E))return E.size==0?"new Map()":(H||(P.__inline1__=!0,P.__inline2__=!1),"new Map("+b(Array.from(E),P)+")");if(i(E))return E.size==0?"new Set()":"new Set("+b(Array.from(E),P)+")";if(m(E))return E.length==0?"Buffer.from([])":"Buffer.from("+b(Array.from(E),P)+")";if(f(E))return V=[],P.wrap=!0,D&&(P.__inline1__=!1,P.__inline2__=!0),w||A(),c(E,he=>{K=!1,w&&(P.__inline2__=!1),V.push((H||w?"":T)+b(he,P))}),K?"[]":w?"["+V.join(", ")+"]":"["+U+V.join(","+U)+U+(H?"":S)+"]";if(O(E)){if(M)return JSON.stringify(E);if(R)return String(E);if(B){let he=E.toString(16);return C||(he=he.toUpperCase()),"0x"+he}if(Y)return"0b"+E.toString(2);if(W)return"0o"+E.toString(8)}else return p(E)?(V=[],P.wrap=!0,A(),l(E,(he,Z)=>{K=!1,V.push((H?"":T)+b(he,P)+":"+(H?"":" ")+b(Z,P))}),K?"{}":"{"+U+V.join(","+U)+U+(H?"":S)+"}"):M?JSON.stringify(E)||"null":String(E)}const x=E;let G=-1;const Q=x.length;for(V="";++G<Q;){const he=x.charAt(G);if(P.es6){const X=x.charCodeAt(G);if(X>=55296&&X<=56319&&Q>G+1){const ie=x.charCodeAt(G+1);if(ie>=56320&&ie<=57343){let Le=((X-55296)*1024+ie-56320+65536).toString(16);C||(Le=Le.toUpperCase()),V+="\\u{"+Le+"}",++G;continue}}}if(!P.escapeEverything){if(y.test(he)){V+=he;continue}if(he=='"'){V+=F==he?'\\"':he;continue}if(he=="`"){V+=F==he?"\\`":he;continue}if(he=="'"){V+=F==he?"\\'":he;continue}}if(he=="\0"&&!M&&!j.test(x.charAt(G+1))){V+="\\0";continue}if(v.test(he)){V+=h[he];continue}const Z=he.charCodeAt(0);if(P.minimal&&Z!=8232&&Z!=8233){V+=he;continue}let le=Z.toString(16);C||(le=le.toUpperCase());const de=le.length>2||M;V+="\\"+(de?"u":"x")+("0000"+le).slice(de?-4:-2)}return P.wrap&&(V=F+V+F),F=="`"&&(V=V.replace(/\$\{/g,"\\${")),P.isScriptContext?V.replace(/<\/(script|style)/gi,"<\\/$1").replace(/<!--/g,M?"\\u003C!--":"\\x3C!--"):V};b.version="2.5.2",k.exports=b}).call(this,t(370).Buffer)},function(k,n,t){"use strict";t.d(n,"c",function(){return v}),t.d(n,"a",function(){return j}),t.d(n,"b",function(){return y});var e=t(17),a=t.n(e),o=t(45),l=t(4),d=t.n(l),c=t(10),u=t.n(c),f=Object.defineProperty,m=Object.defineProperties,p=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,r=(b,E,P)=>E in b?f(b,E,{enumerable:!0,configurable:!0,writable:!0,value:P}):b[E]=P,i=(b,E)=>{for(var P in E||(E={}))O.call(E,P)&&r(b,P,E[P]);if(g)for(var P of g(E))s.call(E,P)&&r(b,P,E[P]);return b},h=(b,E)=>m(b,p(E));function v(b,{name:E,url:P,description:A,potentialAction:_}={}){return _===void 0&&(_={"@type":"SearchAction",name:`Search ${b.name}`,target:`${b.base_url}${Object(l.getBaseArchiveUrl)(b)}?utm_source=google&sort=search&search={search_term_string}`,"query-input":"required name=search_term_string"}),{"@context":"https://schema.org","@type":"WebSite",name:E||b.name,publisher:i(i({"@type":"Organization",name:b.name,url:b.base_url},b.logo_url?{logo:{"@type":"ImageObject",url:b.logo_url}}:{}),b.twitter_screen_name?{sameAs:[`https://twitter.com/${b.twitter_screen_name}`]}:{}),url:P||b.base_url,mainEntityOfPage:{"@type":"WebPage",url:P||b.base_url},description:A||b.hero_text,potentialAction:_}}function j(b,E){var P,A,_,M;const F=Object(c.getBylineUsers)(E),H=i(i(h(i({"@type":"Organization",name:(b.parent_publication||b).name,url:Object(l.getBaseUrl)(b.parent_publication||b),description:(b.parent_publication||b).hero_text},b.rankingDetailFreeIncludedOrderOfMagnitude&&{interactionStatistic:{"@type":"InteractionCounter",name:"Subscribers",interactionType:"https://schema.org/SubscribeAction",userInteractionCount:b.rankingDetailFreeIncludedOrderOfMagnitude}}),{identifier:`pub:${(b.parent_publication||b).id}`}),(b.parent_publication||b).logo_url&&{logo:{"@type":"ImageObject",url:(b.parent_publication||b).logo_url,contentUrl:Object(l.cloudinary)((P=(b.parent_publication||b).logo_url)!=null?P:""),thumbnailUrl:Object(l.cloudinary)((A=(b.parent_publication||b).logo_url)!=null?A:"",128,{height:128})},image:{"@type":"ImageObject",url:(b.parent_publication||b).logo_url,contentUrl:Object(l.cloudinary)((_=(b.parent_publication||b).logo_url)!=null?_:""),thumbnailUrl:Object(l.cloudinary)((M=(b.parent_publication||b).logo_url)!=null?M:"",128,{height:128})}}),(b.parent_publication||b).twitter_screen_name&&{sameAs:[`https://twitter.com/${(b.parent_publication||b).twitter_screen_name}`]});return h(i({"@context":"https://schema.org","@type":"NewsArticle",url:Object(l.getPostUrl)(b,E),mainEntityOfPage:Object(l.getPostUrl)(b,E),headline:E.search_engine_title||E.social_title||E.title,description:E.search_engine_description||E.description,image:E.cover_image?[{"@type":"ImageObject",url:E.cover_image}]:[],datePublished:a()(E.post_date).format("YYYY-MM-DDTHH:mm:ssZ"),dateModified:a()(E.post_date).format("YYYY-MM-DDTHH:mm:ssZ"),isAccessibleForFree:!Object(o.isPaidAudience)(E.audience)},E.post_paywall_content_for_google&&{hasPart:[{"@type":"WebPageElement",isAccessibleForFree:!0,cssSelector:".available-content"},{"@type":"WebPageElement",isAccessibleForFree:!1,cssSelector:".paywall-content"}]}),{author:F.length>0?F.map(C=>i(i({"@type":"Person",name:C.name,url:Object(l.getReaderProfileUrl)(C),description:C.bio,identifier:`user:${C.id}`},C.twitter_screen_name&&{sameAs:[`https://twitter.com/${C.twitter_screen_name}`]}),C.photo_url&&{image:{"@type":"ImageObject",contentUrl:Object(l.cloudinary)(C.photo_url),thumbnailUrl:Object(l.cloudinary)(C.photo_url,128,{height:128})}})):H,publisher:H})}function y(b){return i({"@context":"https://schema.org","@type":"Person",image:(b==null?void 0:b.photo_url)&&Object(l.cloudinary)(b.photo_url),name:`${b==null?void 0:b.name}`,url:b&&Object(l.getReaderProfileUrl)(b),jobTitle:b==null?void 0:b.bio,description:b==null?void 0:b.bio},(b==null?void 0:b.twitter_screen_name)?{sameAs:[`https://twitter.com/${b.twitter_screen_name}`]}:{})}},function(k,n,t){"use strict";t.d(n,"a",function(){return p}),t.d(n,"c",function(){return g}),t.d(n,"b",function(){return O});var e=t(85),a=t.n(e),o=t(156),l=t(10),d=t.n(l),c=t(55),u=t(9),f=t.n(u),m=t(270);function p({publication:s,siteConfigs:r={},twitterCardUrl:i=null}){var h;const{title:v,description:j}=g(s);let y,b;return i?(y=i,b=!0):[y,b]=Object(m.b)(s,null),Object(u.setMetaData)({title:v,description:j,image:y,isLargeImage:b,pub:s,siteConfigs:r,themeColor:(h=s.theme)==null?void 0:h.web_bg_color})}function g(s,r,i){var h,v;let j;const y=Boolean(Object(c.default)("publication_author_display_override"))&&String(Object(c.default)("publication_author_display_override"))||((h=Object(o.a)(s.contributors))==null?void 0:h.owner),b=y&&!((v=s.name)==null?void 0:v.toLowerCase().includes(y==null?void 0:y.toLowerCase())),E=r!=null?r:s.name;return b?j=`${E} | ${y} | Substack`:j=`${E} | Substack`,{title:j,description:a()(O(s,i))}}function O(s,r){var i,h,v;const j=(i=s.name)==null?void 0:i.trim();let y=j;Object(l.endsWithPunctuation)(j)&&(y=`"${j}"`);const b=Object(o.a)(s.contributors);let E,P;return s.invite_only?(E=null,P=null):(E=((h=s.rankingDetailFreeIncluded)==null?void 0:h.toLowerCase().includes("readers"))?s.rankingDetailFreeIncluded.toLowerCase():null,P=s.rankingDetailFreeIncluded||s.rankingDetail),Object(o.c)(r!=null?r:(v=s.hero_text)==null?void 0:v.trim(),b,E,y,P)}},function(k,n,t){"use strict";t.r(n),t.d(n,"getSize",function(){return s}),t.d(n,"ImageGallery",function(){return j}),t.d(n,"ImageGalleryStatic",function(){return y});var e=t(0),a=t(1),o=t(127),l=t(5),d=t.n(l),c=t(794),u=t(15),f=t(70),m=t(2),p=t(231),g=t(51),O={imageGallery:"frontend-components-ImageGallery-module__imageGallery--1FA0N",static:"frontend-components-ImageGallery-module__static--3Qwgb",canEdit:"frontend-components-ImageGallery-module__canEdit--Nsi9e",editGalleryWrap:"frontend-components-ImageGallery-module__editGalleryWrap--2eoPQ",editGallery:"frontend-components-ImageGallery-module__editGallery--zYsO-",imageCaption:"frontend-components-ImageGallery-module__imageCaption--y-CHy",image:"frontend-components-ImageGallery-module__image--PYY7P",zoom:"frontend-components-ImageGallery-module__zoom--1nZvk",imageRow:"frontend-components-ImageGallery-module__imageRow--3V892","length-2":"frontend-components-ImageGallery-module__length-2--6Qu32",inbox:"frontend-components-ImageGallery-module__inbox--2bSoE",imageGalleryWrap:"frontend-components-ImageGallery-module__imageGalleryWrap--2c54x",imageWrap:"frontend-components-ImageGallery-module__imageWrap--2M-wN",small:"frontend-components-ImageGallery-module__small--3V1fO",medium:"frontend-components-ImageGallery-module__medium--2lGIJ"};const s=(E,P)=>P===1?"large":P===2||P===4?"medium":P%3==0?"small":P===5||P===7?E<=2?"small":"medium":E<=5?"small":"medium",r={small:237,medium:360,large:728},i=({src:E,size:P,onSelectImage:A,useViewer:_=!1,alt:M})=>{const F=()=>{!_||A()};return Object(e.h)(g.a,{src:E,alt:M,maxWidth:2*r[P],className:d()(O.image,O[P],_&&O.zoom),onClick:F})},h=(E,P="",A="")=>{const _=[];for(const M in E){const F=E[M],{height:H=0,width:C=0}=Object(u.extractDimensionsFromImageUrl)(F.src)||{},T=`(${Number(M)+1} of ${E.length})`,S={src:F.src,height:H,width:C,alt:`${A} ${T}`,title:`${P} ${T}`};_.push({attrs:S})}return _},v=({onEditGallery:E,editGalleryRef:P})=>Object(e.h)(m.a,{justifyContent:"center",alignItems:"center",className:O.editGalleryWrap},Object(e.h)(f.a,{ref:P,noList:!0},Object(e.h)(m.b,{onClick:E,justifyContent:"center",alignItems:"center",className:O.editGallery},Object(e.h)(c.a,{height:20})))),j=({node:E,editor:P})=>{const{gallery:A}=E.attrs,_=E.attrs.isEditor||P,{images:M=[],caption:F,alt:H}=A,C=typeof window!="undefined"&&!window.location.pathname.startsWith("/publish"),[T,S]=Object(a.l)(!1),[D,w]=Object(a.l)(0),U=Object(a.k)(null),V=M.length===1,K=h(M,F),Y=x=>{w(x),S(!0)},W=()=>{document.dispatchEvent(new Event("editSelectedImageGallery"))};if(M.length===0)return null;const R=x=>{var G,Q;!_||(x?(G=U.current)==null||G.open():(Q=U.current)==null||Q.close())},B=b(M);return Object(e.h)(o.d,{className:"image-gallery-embed","data-drag-handle":""},Object(e.h)("figure",{className:d()(O.imageGallery,_&&O.canEdit),onMouseEnter:()=>R(!0),onMouseLeave:()=>R(!1),"data-drag-handle":!0},_&&A&&Object(e.h)(v,{onEditGallery:W,editGalleryRef:U}),Object(e.h)(m.b,{gap:8},V?Object(e.h)(i,{src:M[0].src,alt:H,caption:F,size:s(0,1),onSelectImage:()=>Y(0),useViewer:C}):B.map(x=>Object(e.h)(m.a,{className:d()(O.imageRow,O[`length-${x.length}`]),gap:8},x.map((G,Q)=>Object(e.h)(i,{src:G.src,alt:H,caption:F,size:s(Q,M.length),onSelectImage:()=>Y(Q),useViewer:C})))),F&&Object(e.h)("figcaption",{className:O.imageCaption},F)),Object(e.h)(p.ImageViewerModal,{showModal:T,modalContent:K,onClose:()=>S(!1),step:D})))},y=({node:E})=>{const{gallery:P}=E.attrs;if(!P)return null;const{alt:A,staticGalleryImage:_,caption:M}=P;return _?Object(e.h)("div",{className:d()(O.static,O.imageGallery)},Object(e.h)("img",{src:Object(u.cloudinary)(_.src,2*r.large),alt:A}),M&&Object(e.h)("div",{className:d()(O.imageCaption,O.static)},M)):null};function b(E){const P=E.length===4?2:3;let A=[E.slice(0,P)];const _=E.slice(P);return _.length>0&&(A=A.concat(b(_))),A}},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"15",x2:"9",y1:"9",y2:"15",key:"f7djnv"}],["line",{x1:"9",x2:"15",y1:"9",y2:"15",key:"1shsy8"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return P}),t.d(n,"b",function(){return A});var e=t(0),a=t(12),o=t.n(a),l=t(40),d=t(4),c=t.n(d),u=t(10),f=t.n(u),m=t(125),p=t(33),g=t(7),O=t(9),s=t.n(O),r=t(209),i=t(47),h=t(216),v=t(137),j=Object.defineProperty,y=(_,M,F)=>M in _?j(_,M,{enumerable:!0,configurable:!0,writable:!0,value:F}):_[M]=F,b=(_,M,F)=>(y(_,typeof M!="symbol"?M+"":M,F),F),E=(_,M,F)=>new Promise((H,C)=>{var T=w=>{try{D(F.next(w))}catch(U){C(U)}},S=w=>{try{D(F.throw(w))}catch(U){C(U)}},D=w=>w.done?H(w.value):Promise.resolve(w.value).then(T,S);D((F=F.apply(_,M)).next())});class P extends e.Component{onTopReached(){this.state.topReached||(this.setState({topReached:!0}),Object(g.i)(g.a.POST_SEEN,{post_id:this.props.post.id,post_audience:this.props.post.audience,post_type:this.props.post.type}))}onBottomReached(){this.state.bottomReached||(this.setState({bottomReached:!0}),Object(g.i)(g.a.POST_BOTTOM_SEEN,{post_id:this.props.post.id,post_audience:this.props.post.audience,post_type:this.props.post.type}))}enableEmailNotifications(){return E(this,null,function*(){try{yield o.a.post(`/api/v1/post/${this.props.post.id}/subscribe`),window.location.reload()}catch(M){console.error("Failed to subscribe to email notifications:",M),alert(Object(O.getNetworkErrorMessage)(M))}})}render({className:M,pub:F,post:H,user:C,freeSignup:T,freeSignupEmail:S,isStatic:D,hidden:w,truncated:U,invisible:V,post_reaction_token:K,onChange:Y,showCta:W=U,showUnsubscribeNotice:R,dataForEmailRender:B={},showReactions:x=!0,gap:G=16}){typeof w!="boolean"&&(w=H.hidden);let Q,he;w?(Q="Subscribe to view",he=Object(d.pathWithQuery)("/subscribe",{simple:!0,next:document.location.href,utm_source:"thread",utm_medium:"web",utm_content:H.id})):(he=Object(d.getPostUrl)(F,H,{noBase:!0}),H.type!=="thread"||U?Q=Object(u.getPostCtaText)(H):H.comment_count?Q=`View ${H.comment_count} comments`:Q="Reply");const Z=D&&!this.context.isAmp;return Object(e.h)(p.e,{className:`thread-head typography ${M||""}`},Object(e.h)("tr",null,Object(e.h)("td",null,Object(e.h)(p.d,{width:"100%"},!V&&!w&&Object(e.h)(v.a,{onVisible:()=>this.onTopReached()}),Object(e.h)(p.d,{gap:G,width:"100%"},Object(e.h)(r.d,{pub:F,post:H,user:C,isStatic:D,freeSignup:T,freeSignupEmail:S,reaction_token:K,allowEdit:!0,allowTruncate:U,showReactions:!!W||x,showShare:!1,showComments:!!H.comment_count,small:!0,inThreadHead:!0,showActiveBadge:!0,onChange:Y,showLabel:!0}),Object(e.h)(h.a,{user:C,freeSignup:T,freeSignupEmail:S,pub:F,post:H,html:!w&&!U&&H.body_html,isStatic:D,dataForEmailRender:B},w?Object(e.h)("p",null,Object(e.h)("i",null,"This thread is only visible to paid subscribers of ",F.name)):U?Object(e.h)("p",null,H.description):null),W?Object(e.h)("a",{className:"thread-head-cta",href:he,native:!0},Q," \u2192"):w&&Object(e.h)("p",{className:"thread-head-cta"},Object(e.h)("a",{href:Object(d.getSubscribeUrl)(F,{simple:!0,next:document.location.href,utm_source:"thread",utm_medium:"web",utm_content:H.id}),className:"button primary subscribe-btn",native:!D},Object(u.getSubscribeText)(F)),Object(e.h)("a",{href:Object(d.getSigninUrl)({for_pub:F.subdomain}),className:"button",native:!0},"Sign in"))),Z&&Object(e.h)(p.d,{gap:G,style:{width:"100%"}},Object(e.h)(p.d,{style:{width:"100%",textAlign:"center"}},Object(e.h)("a",{role:"button",className:"button primary",style:{margin:"0 auto"},href:l.Substitutions.HALF_MAGIC_COMMENTS_URL},"See the discussion")),Object(e.h)(i.h,{isFooter:!0,customization:{showShare:!0,showComments:!0,showReactions:{showReactions:x},showRestack:!1,showLabels:!0,showCommentRestack:!0}})),R&&H.unsubscribed&&Object(e.h)("div",{className:"notifications-alert"},"Email notifications are disabled for this thread."," ",Object(e.h)("a",{href:"javascript:void(0)",onClick:()=>this.enableEmailNotifications()},"Re-enable")),!V&&!w&&Object(e.h)(v.a,{onVisible:()=>this.onBottomReached()})))))}}b(P,"contextType",m.a);class A extends e.Component{render(){return Object(e.h)("div",{className:"thread-head-silhouette"},Object(e.h)("div",{className:"thread-head-silhouette-head"}),Object(e.h)("div",{className:"thread-head-silhouette-content"},Object(e.h)("div",{className:"thread-head-silhouette-title"}),Object(e.h)("div",{className:"thread-head-silhouette-meta"}),Object(e.h)("div",{className:"thread-head-silhouette-body"},Object(e.h)("div",{className:"thread-head-silhouette-body-line"}),Object(e.h)("div",{className:"thread-head-silhouette-body-line"}),Object(e.h)("div",{className:"thread-head-silhouette-body-line"}))))}}},function(k,n,t){"use strict";(function(e){t.d(n,"a",function(){return c});var a=t(4),o=t.n(a),l=t(9),d=t.n(l);const c=[{name:"Choose installed player",ios:!1,android:!0,desktop:!1,icon:"/img/podcast-app-icons/generic-orange-microphone.svg?v=1",onClick:u=>{document.location.href=`itpc://${Object(a.stripProtocol)(u)}`}},{name:"Apple Podcasts",ios:!0,android:!1,desktop:!0,icon:"/img/podcast-app-icons/apple-podcasts.svg?v=1",onClick:u=>{document.location.href=`podcast://${Object(a.stripProtocol)(u)}`}},{name:"Google Podcasts",ios:!0,android:!0,desktop:!1,icon:"/img/podcast-app-icons/google-podcasts.svg?v=1",onClick:u=>{document.location.href=`googlepodcasts://subscribe-by-rss-feed?feed=${e.from(u).toString("base64")}`}},{name:"Overcast",ios:!0,android:!1,desktop:!0,icon:"/img/podcast-app-icons/overcast.svg?v=1",onClick:u=>{document.location.href=`overcast://x-callback-url/add?url=${encodeURIComponent(u)}`}},{name:"Pocket Casts",ios:!0,android:!0,desktop:!1,icon:"/img/podcast-app-icons/pocketcasts.svg?v=1",onClick:u=>{document.location.href=`pktc://subscribe/${Object(a.stripProtocol)(u)}`}},{name:"Downcast",ios:!0,android:!1,desktop:!1,icon:"/img/podcast-app-icons/downcast.svg?v=1",onClick:u=>{document.location.href=`downcast://${Object(a.stripProtocol)(u)}`}},{name:"Podcast Addict",ios:!1,android:!0,desktop:!1,icon:"/img/podcast-app-icons/podcast-addict.svg?v=1",onClick:u=>{document.location.href=`podcastaddict://${Object(a.stripProtocol)(u)}`}},{name:"Castro",ios:!0,android:!1,desktop:!1,icon:"/img/podcast-app-icons/castro.svg?v=1",onClick:u=>{Object(l.copyToClipboard)(u),document.location.href=`castros://subscribe/${Object(a.stripProtocol)(u)}`}},{name:"Radio Public",ios:!0,android:!0,desktop:!1,icon:"/img/podcast-app-icons/radiopublic.svg?v=1",onClick:u=>{document.location.href=`https://radiopublic.com/${encodeURIComponent(u)}`}}]}).call(this,t(370).Buffer)},function(k,n,t){"use strict";t.d(n,"b",function(){return he}),t.d(n,"c",function(){return X}),t.d(n,"a",function(){return ie});var e=t(0),a=t(1),o=t(478),l=t.n(o),d=t(816),c=t.n(d),u=t(292),f=t.n(u),m=t(208),p=t.n(m),g=t(223),O=t.n(g),s=t(49),r=t(12),i=t.n(r),h=t(17),v=t.n(h),j=t(4),y=t(21),b=t(57),E=t(207),P=t(73),A=t(5),_=t.n(A),M=t(240);const F=()=>Object(e.h)(H,null,Object(e.h)(M.default,{height:10,stroke:"white"}),"Podcast"),H=({children:Ne,className:ce})=>Object(e.h)("div",{className:_()("pill",ce)},Object(e.h)("span",null,Ne));var C=H,T=t(780),S=t(202),D=Object.defineProperty,w=Object.defineProperties,U=Object.getOwnPropertyDescriptors,V=Object.getOwnPropertySymbols,K=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable,W=(Ne,ce,q)=>ce in Ne?D(Ne,ce,{enumerable:!0,configurable:!0,writable:!0,value:q}):Ne[ce]=q,R=(Ne,ce)=>{for(var q in ce||(ce={}))K.call(ce,q)&&W(Ne,q,ce[q]);if(V)for(var q of V(ce))Y.call(ce,q)&&W(Ne,q,ce[q]);return Ne},B=(Ne,ce)=>w(Ne,U(ce)),x=(Ne,ce,q)=>new Promise((te,ue)=>{var We=vt=>{try{ze(q.next(vt))}catch(Wt){ue(Wt)}},ot=vt=>{try{ze(q.throw(vt))}catch(Wt){ue(Wt)}},ze=vt=>vt.done?te(vt.value):Promise.resolve(vt.value).then(We,ot);ze((q=q.apply(Ne,ce)).next())});const G=({onClick:Ne,checked:ce})=>Object(e.h)("div",{className:"select-all"},Object(e.h)("input",{name:"all",type:"checkbox",onInput:Ne,checked:ce}),Object(e.h)("label",{for:"all",onClick:Ne},"Select ",ce?"none":"all")),Q=({disabled:Ne,onClick:ce,children:q})=>Object(e.h)(y.b,{type:"submit",className:"primary xl",disabled:Ne,onClick:ce},q),he=({isStatic:Ne=!1,extraProps:ce={},linkType:q=null,discoverable:te=null,text:ue,icon:We=!0,onClick:ot=null})=>{const ze={};q!==null&&(ze.type=q),te!==null&&(ze.discoverable=te);const vt=Object(j.getFindTwitterPubsUrl)(ze);return Object(e.h)("div",R({className:"twitter-discover"},ce),Object(e.h)("a",B(R({className:"twitter-link",href:vt},ot&&{onClick:ot}),{native:!0}),Object(e.h)("div",{className:"inner"},We&&Object(e.h)(E.default,{stroke:"white",fill:"white",isStatic:Ne}),Object(e.h)("span",{className:"twitter-link-text"},ue||"Find writers I follow"))))},Z=({pub:Ne,checked:ce,onToggle:q,isSubscribed:te,author:ue,screenName:We})=>Object(e.h)("li",{className:"linked-pub"},Object(e.h)("div",{className:"linked-pub"},Object(e.h)("div",{className:"photo"},Object(e.h)("div",{className:"subscribed-status"},Object(e.h)("input",{type:"checkbox",checked:ce||te,disabled:te,onInput:()=>q(Ne.id)})),Object(e.h)(S.b,{size:60,photo_url:ue.photo_url}),Object(e.h)("div",{className:"twitter-handle"},Object(e.h)("span",{className:"author"},ue==null?void 0:ue.name),Object(e.h)("span",{className:"handle"}," @",We))),Object(e.h)("div",{className:"info"},Object(e.h)("div",{className:"publication-row"},Object(e.h)("a",{className:"publication",href:Object(j.updateQuery)(`${Object(j.getBaseUrl)(Ne)}/`,{utm_source:"substack",utm_medium:"web",utm_content:"discover-twitter"}),target:"_blank",native:!0},Object(e.h)(T.b,{publication:Ne,logo_size:30},te?Object(e.h)("div",{className:"subscribed"},Object(e.h)(C,null,"Subscribed")):null)))))),le=({result:Ne,selectedPubs:ce,onToggle:q})=>{var te;const{publicationAuthor:ue,screen_name:We,publication_id:ot}=Ne,{name:ze,ownedPublications:vt}=ue,Wt=O()(vt,Me=>Me.id),zt=p()(Wt,Me=>Me.latestPost[0]?v()(Me.latestPost[0].post_date).toDate():v.a.unix(1).toDate()).reverse(),at=ue.photo_url||((te=vt.find(Me=>Me.id===ot))==null?void 0:te.logo_url);return zt.map(Me=>{const Be=Me.subscriptions.length;return Object(e.h)(Z,{author:ue,screenName:We,authorName:ze,showLogo:at!==ue.photo_url,pub:Me,checked:ce.has(Me.id),onToggle:q,isSubscribed:Be})})},de=({user:Ne,freeSignupEmail:ce,twitterEmail:q,twitterToken:te,onConfirmed:ue,onSubscribed:We,formAction:ot,pubIds:ze,subscribeToken:vt,redirect:Wt,showDiscover:zt,editable:at,showLogout:Me})=>{const Be=(Ne==null?void 0:Ne.email)||ce||q,[Xe,Te]=Object(a.l)(!1),[we,De]=Object(a.l)(!0),[Ie,He]=Object(a.l)(Be);ze?Wt=Object(j.updateQuery)(Wt,{pubIds:ze,t:te}):Wt=Object(j.updateQuery)(Wt,{t:te,d:we});const Ve=z=>{const{userExists:se,subscribed:Se}=z.body;Se?We(Se):se?se&&(window.location.href=Object(j.pathWithQuery)(`${Object(j.getSubstackUrl)()}/sign-in`,{with_password:!1,email:Ie,redirect:Wt})):ue()};return Object(e.h)("div",{className:"twitter-publications container"},Object(e.h)("section",null,Object(e.h)("div",{className:"terms-check"},Object(e.h)(b.g,{onSuccess:z=>Ve(z),method:"post",action:ot,loading:!1,autoLock:!0},Object(e.h)("input",{name:"t",type:"hidden",value:te}),ze&&Object(e.h)("input",{name:"pubIds",type:"hidden",value:ze}),vt&&Object(e.h)("input",{name:"subscribeToken",type:"hidden",value:vt}),Object(e.h)("input",{name:"email",type:"text",disabled:!at&&Be,value:Ie,onInput:z=>He(z.target.value)}),Object(e.h)("label",null,Object(e.h)("input",{type:"checkbox",checked:Xe,onInput:()=>Te(!Xe)}),"I accept the"," ",Object(e.h)("a",{href:"/tos",target:"_blank",native:!0},"Terms of Use")),zt&&Object(e.h)("label",null,Object(e.h)("input",{name:"allow_discover",type:"checkbox",checked:we,onInput:()=>De(!Xe)}),"Allow people to find my publications via Twitter"),Me&&Object(e.h)("label",null,Object(e.h)("a",{className:"login-button",href:Object(j.getSignoutUrl)(),native:!0},"Not you?")),Object(e.h)(Q,{disabled:!Xe},"Next \u2192")))))},be=()=>Object(e.h)("div",{className:"twitter-publications container landing"},Object(e.h)("h2",null,"Thousands of writers and readers are already on Substack"),Object(e.h)("section",null,Object(e.h)("p",null,"Connect with Twitter to find them and subscribe to their publications."," ",Object(e.h)("span",{className:"light"},"(We'll never post to your Twitter without permission or abuse your data.)")),Object(e.h)("div",{className:"banner"},Object(e.h)(he,null)))),X=({user:Ne,stage:ce,twitterEmail:q,freeSignupEmail:te,twitterToken:ue})=>!ue&&!Ne||ce=="connect"?Object(e.h)(be,null):Object(e.h)(ie,R({},{user:Ne,stage:ce,twitterEmail:q,freeSignupEmail:te,twitterToken:ue})),ie=({user:Ne,stage:ce,twitterEmail:q,freeSignupEmail:te,twitterToken:ue,buttonText:We=null,onSignup:ot=null,requireSignup:ze=!0,needsEmailConfirm:vt=!0,renderIfNoneFound:Wt=null,useProfilePrefix:zt=!1})=>{const[at,Me]=Object(a.l)(null),[Be,Xe]=Object(a.l)(null),[Te,we]=Object(a.l)(null),[De,Ie]=Object(a.l)(null),[He,Ve]=Object(a.l)(!vt),[z,se]=Object(a.l)(null),[Se,Oe]=Object(a.l)(!1),[ge,je]=Object(a.l)(new Set),[it,Tt]=Object(a.l)(null),sn=Object(j.getQueryItem)("subscribed"),ht=zt?"/profile":"";sn?ot?ot():(we(sn.split(",")),Object(s.route)("/discover-twitter/success")):ce&&ce!=="connect"&&!at&&!Te&&Object(s.route)("/discover-twitter");const Nt=Ft=>{const lt=new Set(ge);ge.has(Ft)?lt.delete(Ft):lt.add(Ft),je(lt)},wt=Ft=>l()(Ft.map(lt=>{var Rt;return((Rt=lt.publicationAuthor)==null?void 0:Rt.ownedPublications)||[]}));Object(a.d)(()=>x(void 0,null,function*(){if(!Se){Oe(!0);try{const Ft=yield i.a.get("/api/v1/twitter/publications"),{results:lt,subscribeToken:Rt,needsConnect:ln,needsTwitterConfirm:Mt}=Ft.body;if(ln)Object(s.route)("/discover-twitter/connect");else{const $t=wt(lt),nn=new Set($t.filter(Kt=>Kt.subscriptions.length===0).map(Kt=>Kt.id));let Bt;nn.size<=30?Bt=new Set(nn):Bt=new Set,Me(lt),se(!1),Tt(Rt),Xe(nn),je(Bt),Ie(!Mt)}}catch(Ft){se(Ft)}Oe(!1)}}),[]);let yt;at&&(at.length>0?De?yt=`We found ${at.length} account${at.length>1?"s":""} you follow on Twitter`:yt=`Confirm your email to see ${at.length} account${at.length>1?"s":""} you follow on Twitter`:De||(yt="Confirm your email to continue")),ce==="confirm"&&(yt="Confirm your email"),Te&&(yt="Success!");const Qe=at?wt(at):null,At=()=>{Ve(!0),Ie(!0)},jt=()=>x(void 0,null,function*(){Oe(!0);try{const Ft=yield i.a.post("/api/v1/twitter/subscribe").send({pubIds:[...ge].join(","),t:ue,subscribeToken:it});if(ot)ot();else{const{subscribed:lt}=Ft.body;we(lt),Object(s.route)("/discover-twitter/success")}}catch(Ft){console.error("error subscribing",Ft)}Oe(!1)}),ke=Ft=>{we(Ft),Object(s.route)("/discover-twitter/success")},tn=Ft=>{let lt;Ft?lt=new Set(Be):lt=new Set,je(lt)},Pn=()=>{!vt||He?jt():Object(s.route)("/discover-twitter/confirm")};return Object(e.h)("div",{className:"twitter-publications pub-list"},Object(e.h)("h2",{className:ce},yt),Se&&Object(e.h)("p",{className:"loading"},"Loading..."),z&&Object(e.h)(e.Fragment,null,Object(e.h)("p",{className:"error"},"Sorry, there was an error getting your results!"),Object(e.h)("div",{className:"banner"},Object(e.h)(he,null))),Object(e.h)(s.default,null,at&&!Te&&De&&!Se&&Object(e.h)(Pe,{path:`${ht}/discover-twitter`,results:at,selectedPubs:ge,subscribablePubs:Be,onToggleChecked:Nt,onToggleAll:tn,onNext:Pn,loading:Se,buttonText:We,requireSignup:ze,renderIfNoneFound:Wt}),De==!1&&Object(e.h)(de,{path:`${ht}/discover-twitter`,formAction:"/api/v1/twitter/confirm",redirect:"/api/v1/twitter/continue-confirm",user:Ne,onConfirmed:At,twitterEmail:q,twitterToken:ue,freeSignupEmail:te,pubIds:[...ge],showDiscover:!0}),!He&&Object(e.h)(de,{path:`${ht}/discover-twitter/confirm`,redirect:"/api/v1/twitter/continue-subscribe",formAction:"/api/v1/twitter/subscribe",user:Ne,onSubscribed:ke,twitterEmail:q,twitterToken:ue,freeSignupEmail:te,pubIds:[...ge],subscribeToken:it,editable:!1,showLogout:!0}),at&&Te&&Object(e.h)(Le,{path:`${ht}/discover-twitter/success`,user:Ne,subscribed:Te,pubs:Qe,results:at})))},Ce=({pub:Ne,result:ce})=>{const{hero_text:q,stripeAccount:te,logo_url:ue}=Ne,{screen_name:We,publicationAuthor:{name:ot,photo_url:ze}}=ce,vt=te==null?void 0:te.plans;return Object(e.h)("li",{className:"linked-pub subscribed"},Object(e.h)("div",{className:"linked-pub"},Object(e.h)("div",{className:"photo"},Object(e.h)(S.b,{size:60,photo_url:ue||ze})),Object(e.h)("div",{className:"info"},Object(e.h)("div",{className:"publication-row"},Object(e.h)("div",{className:"publication"},Object(e.h)("div",{className:"name"},"@",We," - ",ot),Object(e.h)("div",{className:"description"},q)),Object(e.h)("div",null,vt&&Object(e.h)(P.a,{className:"outline small button",href:`${Object(j.getBaseUrl)(Ne)}/subscribe`,target:"_blank"},"Upgrade"))))))},Le=({subscribed:Ne,pubs:ce,results:q})=>{const te=O()(ce.filter(vt=>Ne.find(Wt=>Wt===vt.subdomain)),vt=>vt.id),[ue,We]=f()(te,vt=>{var Wt;return(Wt=vt.stripeAccount)==null?void 0:Wt.plans}),ot=[...ue,...We].length>1,ze=ue.length>1;return Object(e.h)("ul",null,Object(e.h)("div",{className:"sign-up"},ue.length>0?Object(e.h)(e.Fragment,null,ze?`${ue.length} of the newsletters`:ot?"One of the newsletters":"The newsletter"," ","you subscribed to ",ze?"have":"has"," a paid version. You can upgrade"," ",ze?"those subscriptions":"that subscription"," now or later."):`You're subscribed to the free version of ${ot?"these newsletters":"this newsletter"}.  Happy reading!`),[...ue,...We].map(vt=>{const Wt=q.find(zt=>zt.screen_name===vt.twitterAccount.screen_name);return Wt?Object(e.h)(Ce,{pub:vt,result:Wt}):null}))},Ae=({onNext:Ne})=>Object(e.h)("div",null,Object(e.h)("ul",null,Object(e.h)("p",null,"It doesn't appear anyone you follow on Twitter has a Substack yet. We'll let you know if that changes."),Object(e.h)(P.a,{className:"primary button",onClick:()=>{Ne()}},"Continue"))),Pe=({results:Ne,selectedPubs:ce,onNext:q,onToggleChecked:te,onToggleAll:ue,subscribablePubs:We,loading:ot,buttonText:ze,requireSignup:vt,renderIfNoneFound:Wt})=>{if(Ne.length===0)return Wt||Object(e.h)(Ae,{onNext:q});const zt=p()(Ne,De=>{var Ie;let He;return De.publicationAuthor.ownedPublications?He=c()(De.publicationAuthor.ownedPublications,Ve=>Ve.latestPost[0]?v()(Ve.latestPost[0].post_date).toDate():null):He=null,(He==null?void 0:He.latestPost[0])?v()((Ie=He.latestPost[0])==null?void 0:Ie.post_date).toDate():v.a.unix(1).toDate()}).reverse(),[at,Me]=f()(zt,De=>(De.publicationAuthor.ownedPublications||[]).some(Ie=>Ie.subscriptions.length===0)),Be=We.size===ce.size,Xe=()=>{ue(!Be)},Te=(!vt||ce.size>0)&&!ot,we=!vt||We.size>0?Object(e.h)(Q,{onClick:q,disabled:!Te},ze?(ce.size>0?"Subscribe and ":"")+ze:"Sign up \u2192"):null;return Object(e.h)("div",null,Object(e.h)("section",{className:"sign-up"},"Subscribe to free newsletters from the people you already follow on Twitter"),Object(e.h)("ul",null,(!vt||We.size>0)&&Object(e.h)(e.Fragment,null,(We.size>3||!vt)&&we,Object(e.h)("li",null,We.size<30&&Object(e.h)(G,{checked:Be,onClick:Xe}))),[...at,...Me].map(De=>Object(e.h)(le,{result:De,selectedPubs:ce,onToggle:te})),we))}},function(k,n,t){var e=t(306),a=t(661),o=t(662);function l(d){var c=-1,u=d==null?0:d.length;for(this.__data__=new e;++c<u;)this.add(d[c])}l.prototype.add=l.prototype.push=a,l.prototype.has=o,k.exports=l},function(k,n){function t(e,a){return e.has(a)}k.exports=t},function(k,n){function t(e,a){for(var o=-1,l=Array(e);++o<e;)l[o]=a(o);return l}k.exports=t},function(k,n,t){var e=t(152),a=t(108),o=e(a,"Set");k.exports=o},function(k,n,t){var e=t(682),a=t(146),o=t(201),l=0/0,d=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,u=/^0o[0-7]+$/i,f=parseInt;function m(p){if(typeof p=="number")return p;if(o(p))return l;if(a(p)){var g=typeof p.valueOf=="function"?p.valueOf():p;p=a(g)?g+"":g}if(typeof p!="string")return p===0?p:+p;p=e(p);var O=c.test(p);return O||u.test(p)?f(p.slice(2),O?2:8):d.test(p)?l:+p}k.exports=m},function(k,n,t){"use strict";var e=t(922),a=t.n(e),o=t(429),l=t.n(o),d=t(905),c=t.n(d),u=t(923),f=t.n(u),m=t(260),p=t.n(m),g=t(133),O=t(134),s=t(155),r=t.n(s),i=t(135),h=t(144),v=t(93),j=t(3),y=t(318),b=t(39),E=t(433),P=t.n(E),A=t(264),_=t(196),M=t(909),F=t.n(M),H=t(464),C=t.n(H),T=t(576),S=t(316);function D(K){var Y=w();return function(){var R=Object(v.a)(K),B;if(Y){var x=Object(v.a)(this).constructor;B=Reflect.construct(R,arguments,x)}else B=R.apply(this,arguments);return Object(h.a)(this,B)}}function w(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(K){return!1}}var U=function(K){Object(i.a)(W,K);var Y=D(W);function W(R){var B;return Object(g.a)(this,W),B=Y.call(this,R),B.createEmotionCache=function(x){return Object(S.a)({nonce:x})},B.createEmotionCache=Object(y.a)(B.createEmotionCache),B}return Object(O.a)(W,[{key:"render",value:function(){var B=this.createEmotionCache(this.props.nonce);return j.default.createElement(b.a,{value:B},this.props.children)}}]),W}(j.Component),V=Object(T.a)(A.a);n.a=V},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"DotDotDotIcon",svgParams:{height:100,width:100}}),Object(e.h)("circle",{cx:"23",cy:"50",r:"9"}),Object(e.h)("circle",{cx:"50",cy:"50",r:"9"}),Object(e.h)("circle",{cx:"77",cy:"50",r:"9"}));n.default=O},function(k,n,t){"use strict";t.d(n,"a",function(){return r}),t.d(n,"b",function(){return h}),t.d(n,"c",function(){return v});var e=t(0),a=t(3),o=t(1),l=Object.defineProperty,d=Object.defineProperties,c=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,p=(j,y,b)=>y in j?l(j,y,{enumerable:!0,configurable:!0,writable:!0,value:b}):j[y]=b,g=(j,y)=>{for(var b in y||(y={}))f.call(y,b)&&p(j,b,y[b]);if(u)for(var b of u(y))m.call(y,b)&&p(j,b,y[b]);return j},O=(j,y)=>d(j,c(y)),s=(j,y)=>{var b={};for(var E in j)f.call(j,E)&&y.indexOf(E)<0&&(b[E]=j[E]);if(j!=null&&u)for(var E of u(j))y.indexOf(E)<0&&m.call(j,E)&&(b[E]=j[E]);return b};const r=Object(e.createContext)({language:"en",country:"US"});r.displayName="LocaleContext";function i(){return Object(o.b)(r)}function h(j){var y=j,{children:b}=y,E=s(y,["children"]);const P=Object(o.i)(()=>E,Object.values(E));return Object(e.h)(r.Provider,{value:P},b)}function v(j){const y=Object(a.forwardRef)((b,E)=>{const P=i();return Object(e.h)(j,O(g(g({},P),b),{ref:E}))});return y.displayName=`withLocaleContext(${j.displayName||j.name||"Anonymous"})`,y}},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"PlayIconRound",svgParams:{height:24,width:24}}),Object(e.h)("path",{className:"outer-circle",d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{className:"inner-triangle",d:"M10 8L16 12L10 16V8Z","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));n.default=O},,,function(k,n,t){(function(e){function a(c,u){for(var f=0,m=c.length-1;m>=0;m--){var p=c[m];p==="."?c.splice(m,1):p===".."?(c.splice(m,1),f++):f&&(c.splice(m,1),f--)}if(u)for(;f--;f)c.unshift("..");return c}n.resolve=function(){for(var c="",u=!1,f=arguments.length-1;f>=-1&&!u;f--){var m=f>=0?arguments[f]:e.cwd();if(typeof m!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!m)continue;c=m+"/"+c,u=m.charAt(0)==="/"}return c=a(l(c.split("/"),function(p){return!!p}),!u).join("/"),(u?"/":"")+c||"."},n.normalize=function(c){var u=n.isAbsolute(c),f=d(c,-1)==="/";return c=a(l(c.split("/"),function(m){return!!m}),!u).join("/"),!c&&!u&&(c="."),c&&f&&(c+="/"),(u?"/":"")+c},n.isAbsolute=function(c){return c.charAt(0)==="/"},n.join=function(){var c=Array.prototype.slice.call(arguments,0);return n.normalize(l(c,function(u,f){if(typeof u!="string")throw new TypeError("Arguments to path.join must be strings");return u}).join("/"))},n.relative=function(c,u){c=n.resolve(c).substr(1),u=n.resolve(u).substr(1);function f(i){for(var h=0;h<i.length&&i[h]==="";h++);for(var v=i.length-1;v>=0&&i[v]==="";v--);return h>v?[]:i.slice(h,v-h+1)}for(var m=f(c.split("/")),p=f(u.split("/")),g=Math.min(m.length,p.length),O=g,s=0;s<g;s++)if(m[s]!==p[s]){O=s;break}for(var r=[],s=O;s<m.length;s++)r.push("..");return r=r.concat(p.slice(O)),r.join("/")},n.sep="/",n.delimiter=":",n.dirname=function(c){if(typeof c!="string"&&(c=c+""),c.length===0)return".";for(var u=c.charCodeAt(0),f=u===47,m=-1,p=!0,g=c.length-1;g>=1;--g)if(u=c.charCodeAt(g),u===47){if(!p){m=g;break}}else p=!1;return m===-1?f?"/":".":f&&m===1?"/":c.slice(0,m)};function o(c){typeof c!="string"&&(c=c+"");var u=0,f=-1,m=!0,p;for(p=c.length-1;p>=0;--p)if(c.charCodeAt(p)===47){if(!m){u=p+1;break}}else f===-1&&(m=!1,f=p+1);return f===-1?"":c.slice(u,f)}n.basename=function(c,u){var f=o(c);return u&&f.substr(-1*u.length)===u&&(f=f.substr(0,f.length-u.length)),f},n.extname=function(c){typeof c!="string"&&(c=c+"");for(var u=-1,f=0,m=-1,p=!0,g=0,O=c.length-1;O>=0;--O){var s=c.charCodeAt(O);if(s===47){if(!p){f=O+1;break}continue}m===-1&&(p=!1,m=O+1),s===46?u===-1?u=O:g!==1&&(g=1):u!==-1&&(g=-1)}return u===-1||m===-1||g===0||g===1&&u===m-1&&u===f+1?"":c.slice(u,m)};function l(c,u){if(c.filter)return c.filter(u);for(var f=[],m=0;m<c.length;m++)u(c[m],m,c)&&f.push(c[m]);return f}var d="ab".substr(-1)==="b"?function(c,u,f){return c.substr(u,f)}:function(c,u,f){return u<0&&(u=c.length+u),c.substr(u,f)}}).call(this,t(195))},function(k,n){function t(e){var a=-1,o=Array(e.size);return e.forEach(function(l,d){o[++a]=[d,l]}),o}k.exports=t},function(k,n,t){"use strict";t.d(n,"a",function(){return j}),t.d(n,"b",function(){return v});for(var e={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},a={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},o=typeof navigator!="undefined"&&/Chrome\/(\d+)/.exec(navigator.userAgent),l=typeof navigator!="undefined"&&/Apple Computer/.test(navigator.vendor),d=typeof navigator!="undefined"&&/Gecko\/\d+/.test(navigator.userAgent),c=typeof navigator!="undefined"&&/Mac/.test(navigator.platform),u=typeof navigator!="undefined"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),f=o&&(c||+o[1]<57)||d&&c,m=0;m<10;m++)e[48+m]=e[96+m]=String(m);for(var m=1;m<=24;m++)e[m+111]="F"+m;for(var m=65;m<=90;m++)e[m]=String.fromCharCode(m+32),a[m]=String.fromCharCode(m);for(var p in e)a.hasOwnProperty(p)||(a[p]=e[p]);function g(y){var b=f&&(y.ctrlKey||y.altKey||y.metaKey)||(l||u)&&y.shiftKey&&y.key&&y.key.length==1,E=!b&&y.key||(y.shiftKey?a:e)[y.keyCode]||y.key||"Unidentified";return E=="Esc"&&(E="Escape"),E=="Del"&&(E="Delete"),E=="Left"&&(E="ArrowLeft"),E=="Up"&&(E="ArrowUp"),E=="Right"&&(E="ArrowRight"),E=="Down"&&(E="ArrowDown"),E}var O=t(27);const s=typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function r(y){let b=y.split(/-(?!$)/),E=b[b.length-1];E=="Space"&&(E=" ");let P,A,_,M;for(let F=0;F<b.length-1;F++){let H=b[F];if(/^(cmd|meta|m)$/i.test(H))M=!0;else if(/^a(lt)?$/i.test(H))P=!0;else if(/^(c|ctrl|control)$/i.test(H))A=!0;else if(/^s(hift)?$/i.test(H))_=!0;else if(/^mod$/i.test(H))s?M=!0:A=!0;else throw new Error("Unrecognized modifier name: "+H)}return P&&(E="Alt-"+E),A&&(E="Ctrl-"+E),M&&(E="Meta-"+E),_&&(E="Shift-"+E),E}function i(y){let b=Object.create(null);for(let E in y)b[r(E)]=y[E];return b}function h(y,b,E=!0){return b.altKey&&(y="Alt-"+y),b.ctrlKey&&(y="Ctrl-"+y),b.metaKey&&(y="Meta-"+y),E&&b.shiftKey&&(y="Shift-"+y),y}function v(y){return new O.Plugin({props:{handleKeyDown:j(y)}})}function j(y){let b=i(y);return function(E,P){let A=g(P),_,M=b[h(A,P)];if(M&&M(E.state,E.dispatch,E))return!0;if(A.length==1&&A!=" "){if(P.shiftKey){let F=b[h(A,P,!1)];if(F&&F(E.state,E.dispatch,E))return!0}if((P.shiftKey||P.altKey||P.metaKey||A.charCodeAt(0)>127)&&(_=e[P.keyCode])&&_!=A){let F=b[h(_,P)];if(F&&F(E.state,E.dispatch,E))return!0}}return!1}}},function(k,n,t){"use strict";t.d(n,"a",function(){return l});var e=t(0),a=t(1);const o=150,l=({children:d,expanded:c,renderWhenCollapsed:u,onEnter:f,flex:m})=>{const p=Object(a.k)(null),[g,O]=Object(a.l)(c?"expanded":"collapsed"),[s,r]=Object(a.l)(null);return Object(a.d)(()=>{c&&g==="collapsed"&&O("startExpanding"),g==="startExpanding"&&p.current&&(r(p.current.offsetHeight),O("expanding"),setTimeout(()=>{O("expanded"),f&&f()},o)),!c&&g==="expanded"&&p.current&&(r(p.current.offsetHeight),O("startCollapsing")),g==="startCollapsing"&&(O("collapsing"),setTimeout(()=>{O("collapsed")},o))},[c,g]),Object(e.h)("div",{style:{height:g==="collapsed"||g==="startExpanding"||g==="collapsing"?0:g==="expanding"||g==="startCollapsing"?s:null,transition:`height ${o}ms ease-in-out`,overflow:g==="expanded"?"visible":"hidden",display:m?"flex":"block",flexDirection:"column"}},Object(e.h)("div",{ref:p,style:{paddingTop:.05,paddingBottom:.05,display:m?"flex":"block",flex:"0 0 auto",flexDirection:"column"}},(g!=="collapsed"||u)&&d))}},function(k,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=Object.assign||function(y){for(var b=1;b<arguments.length;b++){var E=arguments[b];for(var P in E)Object.prototype.hasOwnProperty.call(E,P)&&(y[P]=E[P])}return y},a=function(){function y(b,E){for(var P=0;P<E.length;P++){var A=E[P];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(b,A.key,A)}}return function(b,E,P){return E&&y(b.prototype,E),P&&y(b,P),b}}(),o=t(3),l=u(o),d=t(509),c=u(d);function u(y){return y&&y.__esModule?y:{default:y}}function f(y,b){var E={};for(var P in y)b.indexOf(P)>=0||!Object.prototype.hasOwnProperty.call(y,P)||(E[P]=y[P]);return E}function m(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}function p(y,b){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:y}function g(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(y,b):y.__proto__=b)}var O={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},s=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],r=function(b){return s.forEach(function(E){return delete b[E]}),b},i=function(b,E){E.style.fontSize=b.fontSize,E.style.fontFamily=b.fontFamily,E.style.fontWeight=b.fontWeight,E.style.fontStyle=b.fontStyle,E.style.letterSpacing=b.letterSpacing,E.style.textTransform=b.textTransform},h=typeof window!="undefined"&&window.navigator?/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent):!1,v=function(){return h?"_"+Math.random().toString(36).substr(2,12):void 0},j=function(y){g(b,y),a(b,null,[{key:"getDerivedStateFromProps",value:function(P,A){var _=P.id;return _!==A.prevId?{inputId:_||v(),prevId:_}:null}}]);function b(E){m(this,b);var P=p(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,E));return P.inputRef=function(A){P.input=A,typeof P.props.inputRef=="function"&&P.props.inputRef(A)},P.placeHolderSizerRef=function(A){P.placeHolderSizer=A},P.sizerRef=function(A){P.sizer=A},P.state={inputWidth:E.minWidth,inputId:E.id||v(),prevId:E.id},P}return a(b,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"componentDidUpdate",value:function(P,A){A.inputWidth!==this.state.inputWidth&&typeof this.props.onAutosize=="function"&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(!(!this.mounted||!window.getComputedStyle)){var P=this.input&&window.getComputedStyle(this.input);!P||(i(P,this.sizer),this.placeHolderSizer&&i(P,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(!(!this.mounted||!this.sizer||typeof this.sizer.scrollWidth=="undefined")){var P=void 0;this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?P=Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:P=this.sizer.scrollWidth+2;var A=this.props.type==="number"&&this.props.extraWidth===void 0?16:parseInt(this.props.extraWidth)||0;P+=A,P<this.props.minWidth&&(P=this.props.minWidth),P!==this.state.inputWidth&&this.setState({inputWidth:P})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var P=this.props.injectStyles;return h&&P?l.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var P=[this.props.defaultValue,this.props.value,""].reduce(function(F,H){return F!=null?F:H}),A=e({},this.props.style);A.display||(A.display="inline-block");var _=e({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),M=f(this.props,[]);return r(M),M.className=this.props.inputClassName,M.id=this.state.inputId,M.style=_,l.default.createElement("div",{className:this.props.className,style:A},this.renderStyles(),l.default.createElement("input",e({},M,{ref:this.inputRef})),l.default.createElement("div",{ref:this.sizerRef,style:O},P),this.props.placeholder?l.default.createElement("div",{ref:this.placeHolderSizerRef,style:O},this.props.placeholder):null)}}]),b}(o.Component);j.propTypes={className:c.default.string,defaultValue:c.default.any,extraWidth:c.default.oneOfType([c.default.number,c.default.string]),id:c.default.string,injectStyles:c.default.bool,inputClassName:c.default.string,inputRef:c.default.func,inputStyle:c.default.object,minWidth:c.default.oneOfType([c.default.number,c.default.string]),onAutosize:c.default.func,onChange:c.default.func,placeholder:c.default.string,placeholderIsMinWidth:c.default.bool,style:c.default.object,value:c.default.any},j.defaultProps={minWidth:1,injectStyles:!0},n.default=j},function(k,n,t){"use strict";var e=t(1);n.a=({root:a=null,threshold:o=0,rootMargin:l}={})=>{if(typeof window=="undefined"||typeof IntersectionObserver=="undefined")return[null,null];const[d,c]=Object(e.l)(null),[u,f]=Object(e.l)(null),m=Object(e.k)(new IntersectionObserver(([p])=>c(p),{root:a,threshold:o,rootMargin:l}));return Object(e.d)(()=>{var p;const g=((p=u==null?void 0:u.base)==null?void 0:p.addEventListener)?u.base:(u==null?void 0:u.addEventListener)?u:null,{current:O}=m;return O.disconnect(),g&&O.observe(g),()=>O.disconnect()},[u]),[f,d]}},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"ShareEmailIcon",svgParams:{height:16,width:21}}),Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.22192 2.20503C2.36754 1.77115 2.78269 1.45455 3.26639 1.45455H17.9332C18.4169 1.45455 18.8321 1.77118 18.9777 2.2051L10.5999 8.02107L2.22192 2.20503ZM2.16639 3.94198V13.4545C2.16639 14.0529 2.66307 14.5455 3.26639 14.5455H17.9332C18.5365 14.5455 19.0332 14.0529 19.0332 13.4545V3.94206L11.0204 9.50462C10.7679 9.67991 10.4318 9.67991 10.1793 9.50462L2.16639 3.94198ZM20.4999 2.55809V13.4545C20.4999 14.8562 19.3465 16 17.9332 16H3.26639C1.85304 16 0.699707 14.8562 0.699707 13.4545V2.54545C0.699707 1.14379 1.85304 0 3.26639 0H17.9332C19.3407 0 20.4904 1.13441 20.4998 2.52818C20.5 2.53816 20.5001 2.54813 20.4999 2.55809Z"}));n.default=O},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(r,i,h)=>i in r?o(r,i,{enumerable:!0,configurable:!0,writable:!0,value:h}):r[i]=h,p=(r,i)=>{for(var h in i||(i={}))u.call(i,h)&&m(r,h,i[h]);if(c)for(var h of c(i))f.call(i,h)&&m(r,h,i[h]);return r},g=(r,i)=>l(r,d(i)),O=(r,i)=>{var h={};for(var v in r)u.call(r,v)&&i.indexOf(v)<0&&(h[v]=r[v]);if(r!=null&&c)for(var v of c(r))i.indexOf(v)<0&&f.call(r,v)&&(h[v]=r[v]);return h};const s=r=>{var i=r,{color:h="#1C110B",strokeWidth:v=1}=i,j=O(i,["color","strokeWidth"]);return Object(e.h)(a.a,g(p({},j),{name:"CaretRightIcon",svgParams:{height:14,width:8,viewBox:"0 0 8 14"}}),Object(e.h)("path",{d:"M1 13L7 7L1 1",stroke:h,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":v}))};n.default=s},function(k,n,t){"use strict";t.r(n),t.d(n,"DigestPostEmbed",function(){return Ne}),t.d(n,"DigestPostEmbedStatic",function(){return ce});var e=t(0),a=t(1),o=t(5),l=t.n(o),d=t(279),c=t(428),u=t.n(c),f=t(11),m={digestPostEmbed:"frontend-components-DigestPostEmbed-index-module__digestPostEmbed--2RDDN",menu:"frontend-components-DigestPostEmbed-index-module__menu--4xTEp",caption:"frontend-components-DigestPostEmbed-index-module__caption--3hoFG",captionEditor:"frontend-components-DigestPostEmbed-index-module__captionEditor--c-OHs",smSquare:"frontend-components-DigestPostEmbed-index-module__smSquare--3qDJO",mdSquare:"frontend-components-DigestPostEmbed-index-module__mdSquare--3DhBT",fullWidth:"frontend-components-DigestPostEmbed-index-module__fullWidth--3Mm8R",inheritColor:"frontend-components-DigestPostEmbed-index-module__inheritColor--zVljj",link:"frontend-components-DigestPostEmbed-index-module__link--1yOd-",disableLink:"frontend-components-DigestPostEmbed-index-module__disableLink--2G5aI"},p=Object.defineProperty,g=Object.defineProperties,O=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,h=(q,te,ue)=>te in q?p(q,te,{enumerable:!0,configurable:!0,writable:!0,value:ue}):q[te]=ue,v=(q,te)=>{for(var ue in te||(te={}))r.call(te,ue)&&h(q,ue,te[ue]);if(s)for(var ue of s(te))i.call(te,ue)&&h(q,ue,te[ue]);return q},j=(q,te)=>g(q,O(te));const y=q=>{q.stopPropagation()},b=({editing:q,caption:te,onFocus:ue,onSave:We,onCancel:ot})=>{const ze=te.replace(/<br\s*\/?>/gi,`
`),[vt,Wt]=Object(a.l)(ze);return q?Object(e.h)(f.o,{flex:"grow"},Object(e.h)(f.G,{name:"description",value:vt,onChange:zt=>{Wt(zt.target.value)},className:m.captionEditor,rows:6,maxLength:5e3,placeholder:"Enter a caption...",onKeyPress:y,onKeyDown:y,onCopy:y,onPaste:y}),Object(e.h)(f.e,{paddingY:8,justifyContent:"end"},Object(e.h)(f.d,{priority:"secondary-theme",onClick:ot},"Cancel"),Object(e.h)(f.d,{priority:"primary-theme",onClick:()=>{const zt=vt.replace(/\n/g,"<br>"),at=u()(zt,j(v({},u.a.defaults),{allowedTags:["br"]}));We(at)}},"Save"))):Object(e.h)("p",{onClick:ue,className:m.caption,dangerouslySetInnerHTML:{__html:te}})};var E=t(538),P=t(99),A=t(23);const _=({size:q,onOpen:te,onClose:ue,onEditCaption:We,onSetLayout:ot,onConvertToLink:ze,onConvertToEmbeddedPost:vt,onDelete:Wt})=>Object(e.h)(f.n,{className:m.menu,justifyContent:"end"},Object(e.h)(A.c,{trigger:Object(e.h)(f.r,{priority:"secondary-theme",rounded:!1,fill:"outline"},Object(e.h)(E.a,{className:m.menuIcon,height:20})),onOpen:te,onClose:ue,layerOptions:{placement:"bottom-end"}},Object(e.h)(A.d,{disabled:q==="sm",onClick:()=>ot("sm")},"Small display"),Object(e.h)(A.d,{disabled:q==="lg",onClick:()=>ot("lg")},"Large display"),Object(e.h)(P.a,null),q==="lg"&&Object(e.h)(A.d,{onClick:We},"Edit caption"),Object(e.h)(A.d,{onClick:()=>vt()},"Convert to default"),Object(e.h)(A.d,{onClick:ze},"Convert to link"),Object(e.h)(A.d,{priority:"destructive",onClick:Wt},"Remove")));var M=t(51),F=t(33),H=t(2),C=t(566),T=t(287),S=t(25),D=t(47);const w=({post:q,href:te,isEditor:ue,includeUfi:We=!1,paddingTop:ot=0,paddingBottom:ze=0})=>{const vt=Object(S.c)(),Wt=Object(T.b)();return Object(e.h)(H.c,{gap:16,paddingTop:ot,paddingBottom:ze,alignItems:"center"},We&&Wt&&vt&&q&&Object(e.h)(H.c,{gap:8,className:"post-ufi"},Object(e.h)(D.f,{post:q,pub:Wt,user:vt}),Object(e.h)(D.e,{post:q,pub:Wt}),Object(e.h)(D.g,{post:q,pub:Wt,user:vt,style:"button",labelStyle:"cta"})),Object(e.h)(f.D.Button,{className:l()({[m.disableLink]:ue}),as:"a",href:te,align:"center"},Object(e.h)(H.c,{gap:8,alignItems:"center",className:m.link},Object(e.h)(f.D.B4,{color:"pub-accent",weight:"semibold",as:"span",size:14},"Read full story"),Object(e.h)(C.a,{size:16}))))},U=({href:q,includeUfi:te=!1,paddingTop:ue=0,paddingBottom:We=0})=>Object(e.h)(F.c,{gap:16,style:{paddingTop:ue,paddingBottom:We}},Object(e.h)(f.D.Button,{as:"a",href:q,align:"center"},Object(e.h)(F.c,{gap:8},Object(e.h)(f.D.B4,{color:"pub-accent",as:"span",size:14,className:m.link},"Read full story"))));var V=t(15),K=t(9),Y=t(197);const W=({bylines:q,date:te,isEditor:ue})=>Object(e.h)(H.c,{alignItems:"center",gap:4},(q==null?void 0:q.length)?Object(e.h)(e.Fragment,null,Object(e.h)(f.D.Meta,{className:l()({[m.disableLink]:ue}),color:"pub-secondary-text"},Object(e.h)(Y.a,{array:q||[],limit:3,formatter:({id:We,name:ot})=>Object(e.h)("a",{className:m.inheritColor,href:Object(V.getProfileUrlById)(We,ot)},ot)})),Object(e.h)(f.D,{color:"pub-secondary-text"},"\xB7")):null,Object(e.h)(f.D.Meta,{color:"pub-secondary-text"},Object(K.formatPostDate)(te))),R=({bylines:q,date:te})=>Object(e.h)(F.c,{gap:4},Object(e.h)(f.D.Meta,{color:"pub-secondary-text"},Object(e.h)(Y.a,{array:q||[],limit:3,formatter:({id:ue,name:We})=>Object(e.h)("a",{className:m.inheritColor,href:Object(V.getProfileUrlById)(ue,We)},We)})),Object(e.h)(f.D,{color:"pub-secondary-text"},"\xB7"),Object(e.h)(f.D.Meta,{color:"pub-secondary-text"},Object(K.formatPostDate)(te))),B=({post:q,isEditor:te,children:ue})=>{const{publishedBylines:We,title:ot,canonical_url:ze,post_date:vt,section_name:Wt,cover_image:zt,cover_image_alt:at}=q;return Object(e.h)(H.b,null,Wt&&Object(e.h)(f.D.Meta,{color:"pub-primary-text",paddingBottom:8},Wt),Object(e.h)(f.D.H2,{color:"pub-primary-text"},Object(e.h)("a",{href:ze,className:l()({[m.disableLink]:te})},ot)),Object(e.h)(W,{bylines:We,date:vt,isEditor:te}),zt&&Object(e.h)(f.c,{paddingTop:24},Object(e.h)(M.a,{className:m.fullWidth,src:zt,alt:at!=null?at:ot,maxWidth:1300,imageProps:{height:Math.round(1300/2),smartCrop:!0}})),Object(e.h)(f.n,{paddingTop:16,flex:"grow"},ue),Object(e.h)(w,{post:q,href:ze,includeUfi:!1,isEditor:te}))},x=({post:q,children:te})=>{const{publishedBylines:ue,title:We,canonical_url:ot,post_date:ze,section_name:vt,cover_image:Wt,cover_image_alt:zt}=q;return Object(e.h)(F.d,null,vt&&Object(e.h)(f.D.Meta,{color:"pub-primary-text",paddingBottom:8},vt),Object(e.h)(f.D.H2,{color:"pub-primary-text"},Object(e.h)("a",{href:ot},We)),Object(e.h)(R,{bylines:ue,date:ze}),Wt&&Object(e.h)(f.c,{paddingTop:24},Object(e.h)(M.a,{className:m.fullWidth,src:Wt,alt:zt!=null?zt:We,maxWidth:1300,imageProps:{height:Math.round(1300/2),smartCrop:!0}})),Object(e.h)(f.c,{as:"p"},te),Object(e.h)(U,{href:ot}))},G=({post:q,isEditor:te})=>{const{publishedBylines:ue,title:We,canonical_url:ot,post_date:ze,cover_image:vt,cover_image_alt:Wt}=q;return Object(e.h)(H.c,{gap:16},vt&&Object(e.h)(f.c,{style:{width:70,height:70}},Object(e.h)(M.a,{className:m.smSquare,src:vt,alt:Wt!=null?Wt:We,maxWidth:140,imageProps:{height:Math.round(140),smartCrop:!0}})),Object(e.h)(H.b,null,Object(e.h)(f.D.H4,{color:"pub-primary-text"},Object(e.h)("a",{href:ot,className:l()({[m.disableLink]:te})},We)),Object(e.h)(W,{bylines:ue,date:ze,isEditor:te}),Object(e.h)(w,{post:q,href:ot,includeUfi:!1,isEditor:te})))},Q=({post:q})=>{const{publishedBylines:te,title:ue,canonical_url:We,post_date:ot,cover_image:ze,cover_image_alt:vt}=q;return Object(e.h)(F.c,{gap:16},ze&&Object(e.h)(f.c,{style:{width:70}},Object(e.h)(M.a,{className:m.smSquare,src:ze,alt:vt!=null?vt:ue,maxWidth:140,imageProps:{height:140,smartCrop:!0}})),Object(e.h)(F.d,null,Object(e.h)(f.D.H4,{color:"pub-primary-text"},Object(e.h)("a",{href:We},ue)),Object(e.h)(R,{bylines:te,date:ot}),Object(e.h)(U,{href:We})))};var he=Object.defineProperty,Z=Object.getOwnPropertySymbols,le=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable,be=(q,te,ue)=>te in q?he(q,te,{enumerable:!0,configurable:!0,writable:!0,value:ue}):q[te]=ue,X=(q,te)=>{for(var ue in te||(te={}))le.call(te,ue)&&be(q,ue,te[ue]);if(Z)for(var ue of Z(te))de.call(te,ue)&&be(q,ue,te[ue]);return q},ie=(q,te)=>{var ue={};for(var We in q)le.call(q,We)&&te.indexOf(We)<0&&(ue[We]=q[We]);if(q!=null&&Z)for(var We of Z(q))te.indexOf(We)<0&&de.call(q,We)&&(ue[We]=q[We]);return ue};const Ce=q=>{document.dispatchEvent(new CustomEvent("updateDigestPostEmbed",{detail:q,bubbles:!0}))},Le=q=>{document.dispatchEvent(new CustomEvent("convertDigestPostEmbedToLink",{detail:q,bubbles:!0}))},Ae=q=>{document.dispatchEvent(new CustomEvent("convertDigestPostEmbedToEmbeddedPost",{detail:q,bubbles:!0}))},Pe=()=>{document.dispatchEvent(new CustomEvent("deleteDigestPostEmbed",{bubbles:!0}))},Ne=({nodeId:q,caption:te,size:ue="lg",isEditor:We,title:ot,publishedBylines:ze,post_date:vt,cover_image:Wt,cover_image_alt:zt,canonical_url:at,section_name:Me,id:Be,type:Xe,reaction_count:Te,comment_count:we,publication_name:De,publication_logo_url:Ie})=>{const[He,Ve]=Object(a.l)(!1),[z,se]=Object(a.l)(!1),[Se,Oe]=Object(a.l)(!1),ge={title:ot,publishedBylines:ze,post_date:vt,cover_image:Wt,cover_image_alt:zt,canonical_url:at,section_name:Me,id:Be,type:Xe,reaction_count:Te,comment_count:we,publication_name:De,publication_logo_url:Ie},je=()=>{se(!0),Ve(!1),Ce({nodeId:q,shouldDisableDrag:!0})},it=Object(e.h)(b,{editing:z,caption:te,onFocus:je,onSave:Tt=>{se(!1),Ce({nodeId:q,caption:Tt,shouldDisableDrag:!1})},onCancel:()=>{se(!1),Ce({nodeId:q,shouldDisableDrag:!1})}});return Object(e.h)("div",{className:l()(m.digestPostEmbed),onMouseEnter:()=>!z&&Ve(!0),onMouseLeave:()=>!Se&&Ve(!1)},Object(e.h)(e.Fragment,null,We&&He&&Object(e.h)(_,{size:ue,onOpen:()=>Oe(!0),onClose:()=>Oe(!1),onEditCaption:je,onSetLayout:Tt=>{Ce(X({nodeId:q,caption:te,size:Tt},ge))},onConvertToEmbeddedPost:()=>{Ae({url:at})},onConvertToLink:()=>{Le({url:at})},onDelete:()=>{Pe()}}),ue==="sm"&&Object(e.h)(G,{post:ge,isEditor:We}),ue==="lg"&&Object(e.h)(B,{post:ge,isEditor:We},We?it:Object(e.h)("p",{className:m.caption,dangerouslySetInnerHTML:{__html:te}}))))},ce=q=>{var te=q,{caption:ue,size:We}=te,ot=ie(te,["caption","size"]);return ot?Object(e.h)("div",{className:l()(m.digestPostEmbed,d.a.digestPostEmbed)},We==="sm"&&Object(e.h)(Q,{post:ot}),We==="lg"&&Object(e.h)(x,{post:ot},Object(e.h)("p",{className:m.caption,dangerouslySetInnerHTML:{__html:ue}}))):null}},function(k,n,t){"use strict";t.r(n),t.d(n,"CommunityPostEmbed",function(){return U}),t.d(n,"EmailCommunityPostEmbed",function(){return V});var e=t(0),a=t(15),o=t(18),l=t(2),d=t(118),c=t(831),u=t(4),f=t(10),m=t(33),p=t(8),g={bubbleStack:"frontend-community-EmailCommunityPostView-module__bubbleStack--3Bnwj",bubble:"frontend-community-EmailCommunityPostView-module__bubble--YkIHc",img:"frontend-community-EmailCommunityPostView-module__img--3BK41",linkImg:"frontend-community-EmailCommunityPostView-module__linkImg--3eanJ",paywallBubble:"frontend-community-EmailCommunityPostView-module__paywallBubble--H9IlM frontend-community-EmailCommunityPostView-module__bubble--YkIHc"},O=Object.defineProperty,s=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,h=(K,Y,W)=>Y in K?O(K,Y,{enumerable:!0,configurable:!0,writable:!0,value:W}):K[Y]=W,v=(K,Y)=>{for(var W in Y||(Y={}))r.call(Y,W)&&h(K,W,Y[W]);if(s)for(var W of s(Y))i.call(Y,W)&&h(K,W,Y[W]);return K};function j({communityPost:K,is_freemail:Y,author:W,cta:R,withAttribution:B,attributionText:x,hideReply:G,truncateBodyAt:Q}){const he=!K||Y&&K.audience==="only_paid";let Z=null;return!he&&K.body&&(Z=Q?Object(f.truncateText)(K.body,Q):K.body),Object(e.h)(m.c,{gap:12,verticalAlign:"top"},Object(e.h)(m.a,{src:W.photo_url,size:40}),Object(e.h)(m.d,{gap:4,style:{lineHeight:0}},B&&Object(e.h)(d.a,{isStatic:!0,text:x||`From ${Object(f.possessive)(W.name)} subscriber chat`}),he?Object(e.h)(b,null):[K.type==="media"&&K.media_assets?K.media_assets.slice(0,1).map(le=>Object(e.h)(E,{key:le.url,asset:le})):K.type==="link"&&Object(e.h)(P,{communityPost:K}),Z&&Object(e.h)(y,null,Object(e.h)("span",null,Object(e.h)(p.a,{weight:"bold"},W.name)," ",Z))],!G&&Object(e.h)(y,null,Object(e.h)(m.e,null,Object(e.h)("tr",null,Object(e.h)("td",{align:"left"},Object(e.h)(p.a,{color:"secondary"},"Reply...")),Object(e.h)("td",{align:"right"},Object(e.h)(c.a,{size:20,stroke:"var(--color-secondary}"}))))),R&&Object(e.h)(m.g,{fullWidth:!0,href:R.url},R.text),R&&R.blurb&&Object(e.h)("div",null,Object(e.h)(p.b,{color:"secondary",align:"center",size:14,lineHeight:20},R.blurb))))}function y(K){return Object(e.h)("div",v({className:g.bubble},K))}function b(){return Object(e.h)("div",{className:g.paywallBubble,style:{backgroundImage:`url(${Object(u.cloudinary)("/img/community/paywall-pixels-light.png")})`}},Object(e.h)(p.b.Meta,null,"SUBSCRIBERS ONLY"))}function E({asset:K}){const Y=400;return Object(e.h)("img",{className:g.img,width:Y,src:Object(u.cloudinary)(K.url,Y*2,{crop:"limit",height:Y*2})})}function P({communityPost:K}){var Y,W;const{link_url_data:R,link_url:B}=K,x=(W=(Y=R==null?void 0:R.url)!=null?Y:B)!=null?W:"";let G;try{const Q=new URL(x);G=`${Q.host}${Q.pathname}${Q.search}${Q.hash}`}catch(Q){G=x}return Object(e.h)(y,null,Object(e.h)(m.e,{style:{width:"400px"}},Object(e.h)("tr",null,Object(e.h)("td",{align:"left",style:{verticalAlign:"top"}},(R==null?void 0:R.title)&&Object(e.h)(p.b,{font:"serif",lineHeight:24},R.title),Object(e.h)(p.b.Meta,{color:"secondary"},G)),Object(e.h)("td",{width:"16"}),Object(e.h)("td",{align:"right"},(R==null?void 0:R.image)&&Object(e.h)("img",{className:g.linkImg,src:Object(u.cloudinary)(R.image,72*2,{height:72*2,smartCrop:!0})})))))}var A={container:"frontend-community-CommunityPostEmbed-module__container--25DDW",emailWrapper:"frontend-community-CommunityPostEmbed-module__emailWrapper--3VNnr"},_=Object.defineProperty,M=Object.defineProperties,F=Object.getOwnPropertyDescriptors,H=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,S=(K,Y,W)=>Y in K?_(K,Y,{enumerable:!0,configurable:!0,writable:!0,value:W}):K[Y]=W,D=(K,Y)=>{for(var W in Y||(Y={}))C.call(Y,W)&&S(K,W,Y[W]);if(H)for(var W of H(Y))T.call(Y,W)&&S(K,W,Y[W]);return K},w=(K,Y)=>M(K,F(Y));function U({postId:K}){var Y;const{isLoading:W,error:R,result:B}=Object(o.f)({pathname:`/api/v1/community/posts/${K}`,auto:!0,deps:[K]}),x=R instanceof o.b&&R.response.status===402&&((Y=R.body)==null?void 0:Y.status)==="PAID_SUBSCRIPTION_REQUIRED"?R.body:null;return Object(e.h)(l.a,{as:"a",className:A.container,target:"_blank",href:Object(a.getCommunityPostAppLinkUrl)({postId:K,utm_source:"thread_embed"})},x?Object(e.h)(d.d,{author:x.user}):R?"Error":B&&Object(e.h)(d.e,{author:B.user,communityPost:B.communityPost,withAttribution:!0,isReadOnly:!0}))}function V(K){const{postId:Y}=K;return Object(e.h)("a",{className:A.emailWrapper,href:Object(a.getCommunityPostAppLinkUrl)({postId:Y,utm_source:"thread_embed",modal:"1"})},Object(e.h)("div",{className:A.container},Object(e.h)(j,w(D({},K),{withAttribution:!0}))))}},function(k,n,t){"use strict";t.r(n),t.d(n,"Poll",function(){return at}),t.d(n,"StaticPoll",function(){return Me});var e=t(0),a=t(1),o=t(5),l=t.n(o),d=t(193),c=t(844),u=t(444),f=t(795),m=t(541),p=t(12),g=t.n(p),O=t(17),s=t.n(O),r=t(4),i=t(10),h;const v=typeof window!="undefined"?(h=window._preloads)==null?void 0:h.freeSignup:!1,j=Object(e.createContext)(v);j.displayName="FreeSignupContext";function y(){return Object(a.b)(j)}var b=t(287),E=t(25),P=t(33),A=t(9),_=t(64),M=t(2),F=t(32),H=t(8),C=t(26),T=t(153),S=t(7),D=t(57),w=t(50),U=Object.defineProperty,V=Object.defineProperties,K=Object.getOwnPropertyDescriptors,Y=Object.getOwnPropertySymbols,W=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable,B=(Be,Xe,Te)=>Xe in Be?U(Be,Xe,{enumerable:!0,configurable:!0,writable:!0,value:Te}):Be[Xe]=Te,x=(Be,Xe)=>{for(var Te in Xe||(Xe={}))W.call(Xe,Te)&&B(Be,Te,Xe[Te]);if(Y)for(var Te of Y(Xe))R.call(Xe,Te)&&B(Be,Te,Xe[Te]);return Be},G=(Be,Xe)=>V(Be,K(Xe));class Q extends w.a{constructor(Xe,Te){super(Xe,Te);var we,De;this.state.email=(De=(we=this.props.user)==null?void 0:we.email)!=null?De:null}onOpen(){Object(S.i)(S.a.POLL_SIGNUP_DIALOG_PRESENTED,{poll_id:this.props.pollId,post_id:this.props.post.id})}onClose(){Object(S.i)(S.a.POLL_SIGNUP_DIALOG_CLOSED,{poll_id:this.props.pollId,post_id:this.props.post.id})}renderChildren(){const{pub:Xe,post:Te,user:we,audience:De,pollId:Ie}=this.props,{email:He}=this.state,Ve=De==="only_paid"?"paid subscribers":"subscribers";return Object(e.h)("div",null,Object(e.h)("div",{className:"poll-signup-header"},Object(e.h)("div",{className:"poll-signup-title"},`Subscribe to ${Xe.name} to vote on this poll`),Object(e.h)("div",{className:"poll-signup-audience"},"Only ",Ve," can vote on this poll.")),Object(e.h)(D.g,{method:"post",action:Object(r.pathWithQuery)("/api/v1/free"),loading:!1,autoLock:!0,onSuccess:z=>{Object(S.i)(S.a.POLL_SIGNUP_DIALOG_SUBMITTED,{poll_id:Ie,post_id:Te.id}),Xe.plans||Xe.has_recommendations?document.location.href=Object(r.getSubscribeUrl)(this.props.pub,G(x({utm_medium:"web",utm_source:"poll-subscribe-modal",utm_content:Te&&Te.id,just_signed_up:!0,requires_confirmation:z.body.requires_confirmation?"true":""},z.body.subscription_id&&{subscription_id:z.body.subscription_id}),{next:Object(r.getPostUrl)(Xe,Te)})):document.location.reload()}},Object(e.h)("div",{className:"poll-signup"},Object(e.h)("input",{placeholder:"Type your email...",type:"email",name:"email","aria-label":"Email",value:He,disabled:!!we.email,tabIndex:0,onChange:z=>{this.setState({email:z.target.value})}}),Object(e.h)("input",{type:"hidden",name:"source",value:"poll-subscribe-modal"})),Object(e.h)("div",{id:"error-container"}),Object(e.h)("button",{className:"button primary",type:"submit"},"Subscribe")),!we.email&&Object(e.h)("div",{className:"poll-signin-prompt"},"Already a subscriber?"," ",Object(e.h)("a",{className:"poll-signin-link",href:Object(r.getSigninUrl)({for_pub:Xe.subdomain,redirect:Object(r.getPostUrl)(Xe,Te)})},"Sign in")))}}var he=t(349),Z=t(274),le=Object.defineProperty,de=Object.defineProperties,be=Object.getOwnPropertyDescriptors,X=Object.getOwnPropertySymbols,ie=Object.prototype.hasOwnProperty,Ce=Object.prototype.propertyIsEnumerable,Le=(Be,Xe,Te)=>Xe in Be?le(Be,Xe,{enumerable:!0,configurable:!0,writable:!0,value:Te}):Be[Xe]=Te,Ae=(Be,Xe)=>{for(var Te in Xe||(Xe={}))ie.call(Xe,Te)&&Le(Be,Te,Xe[Te]);if(X)for(var Te of X(Xe))Ce.call(Xe,Te)&&Le(Be,Te,Xe[Te]);return Be},Pe=(Be,Xe)=>de(Be,be(Xe)),Ne=(Be,Xe,Te)=>new Promise((we,De)=>{var Ie=z=>{try{Ve(Te.next(z))}catch(se){De(se)}},He=z=>{try{Ve(Te.throw(z))}catch(se){De(se)}},Ve=z=>z.done?we(z.value):Promise.resolve(z.value).then(Ie,He);Ve((Te=Te.apply(Be,Xe)).next())});const ce=2,q=5,te=35,ue=255,We=({isExpired:Be,isPublished:Xe,remainingHours:Te})=>Be?"POLL CLOSED":Xe?Te>=48?`${Math.floor(Te/24)} DAYS REMAINING`:Te>=24?"1 DAY REMAINING":Te>=2?`${Te} HOURS REMAINING`:Te==1?"1 HOUR REMAINING":"LESS THAN 1 HOUR REMAINING":"NOT PUBLISHED",ot=Be=>Be>1?`Choice ${Be+1} (optional)`:`Choice ${Be+1}`,ze=({question:Be,expiry:Xe,audience:Te,options:we})=>{const De=we.filter(Boolean);if(Be.length<1||Be.length>255)return"The question must be between 1 and 255 characters long.";if(De.length<2||De.length>5)return"Your poll must have 2 to 5 options.";if(De.some(Ie=>Ie.length<1||Ie.length>50))return"Each option must be between 1 and 50 characters long.";if(["all_subscribers","only_paid"].includes(Te)){if(![1,24,72,168].includes(Xe))return"The length of your poll is invalid."}else return"Your poll audience is invalid.";return null},vt=({index:Be,text:Xe,onChange:Te,onDelete:we,showDeleteButton:De,disabled:Ie})=>Object(e.h)("div",{className:"poll-option-editor"},Object(e.h)("input",{type:"text",onChange:He=>{Te(Be,He.currentTarget.value)},value:Xe,disabled:Ie,placeholder:ot(Be),maxLength:te}),Object(e.h)("button",{className:l()("poll-remove-option",{"is-hidden":!De}),onClick:()=>we(Be),disabled:Ie,tabIndex:De?void 0:-1},Object(e.h)(d.a,null))),Wt=({poll:Be,isOpen:Xe,onClose:Te,onSave:we,isPublished:De,totalVotes:Ie,shouldShowAudiencePicker:He})=>{let Ve=Be.options.map(Bt=>Bt.label);Ve.length>1?Ve.length<q&&Ve.push(""):Ve=["",""];const{payments_state:z}=Object(b.b)()||{},se=He&&z==="enabled"?"only_paid":"all_subscribers",[Se,Oe]=Object(a.l)(Be.question||""),[ge,je]=Object(a.l)(Ve),[it,Tt]=Object(a.l)(Be.expiry||24),[sn,ht]=Object(a.l)(Be.audience||se),[Nt,wt]=Object(a.l)(!1),[yt,Qe]=Object(a.l)(Be.votes_hidden||!1),[At,jt]=Object(a.l)(null),ke=ze({question:Se,options:ge,expiry:it,audience:sn,votes_hidden:yt}),tn=Object(a.a)(()=>{var Bt;Oe(Be.question||""),je(((Bt=Be.options)==null?void 0:Bt.map(Kt=>Kt.label))||["",""]),Tt(Be.expiry||24),ht(Be.audience||se),Qe(Be.votes_hidden||!1),jt(null),Te()},[Oe,je,Tt,ht,Be,Te]),Pn=Object(a.a)(({value:Bt})=>{["only_paid","all_subscribers"].includes(Bt)&&ht(Bt)},[ht]),Ft=sn==="only_paid"?"Only paid subscribers":"All subscribers who can see this post",lt=Object(a.a)(({value:Bt})=>{const Kt=Number(Bt);[1,24,72,168].includes(Kt)&&Tt(Kt)},[Tt]),Rt=it===1?"1 hour":it===24?"1 day":it===72?"3 days":"1 week",ln=Object(a.a)((Bt,Kt)=>{const Sn=[...ge];Sn.splice(Bt,1,Kt),Bt===Sn.length-1&&Sn.length<q&&Sn.push(""),je(Sn)},[ge,je]),Mt=Object(a.a)(Bt=>{if(ge.length<=ce||Bt>=ge.length)return;const Kt=[...ge];Kt.splice(Bt,1),Kt[Kt.length-1].length&&Kt.push(""),je(Kt)},[ge,je]),$t=Array(Math.max(2,ge.length||0)).fill("").map((Bt,Kt)=>ge.length>Kt?ge[Kt]:Bt),nn=At||De&&`This poll is part of a post that has already been published. If you modify it, ${Ie} existing ${Ie===1?"vote":"votes"} will be removed.`;return Object(e.h)(F.a,{className:"poll-editor-modal",isOpen:Xe,onClose:Te},Object(e.h)("div",{className:"poll-editor"},Object(e.h)("div",{className:"poll-editor-section question-section"},Object(e.h)("input",{className:"poll-question-editor",type:"text",value:Se,onChange:Bt=>Oe(Bt.currentTarget.value),placeholder:"Enter your question...",disabled:Nt,maxLength:ue})),Object(e.h)("div",{className:"poll-editor-section options-section"},Object(e.h)("div",{className:"poll-options-editor"},$t.map((Bt,Kt)=>Object(e.h)(vt,{index:Kt,text:Bt,onChange:ln,onDelete:Mt,disabled:Nt,showDeleteButton:$t.length>ce&&(Kt<$t.length-1||Bt.length>0)})))),Object(e.h)("div",{className:"poll-editor-section length-section"},Object(e.h)("div",{className:"poll-section-title"},"Length"),Object(e.h)(Z.a,{options:[{label:"1 hour",value:"1"},{label:"1 day",value:"24"},{label:"3 day",value:"72"},{label:"1 week",value:"168"}],isDisabled:Nt,value:{label:Rt,value:String(it)},onChange:lt})),He&&z==="enabled"&&Object(e.h)("div",{className:"poll-editor-section audience-section"},Object(e.h)("div",{className:"poll-section-title"},"Who can vote?"),Object(e.h)(Z.a,{options:[{label:"Only paid subscribers",value:"only_paid"},{label:"All subscribers who can see this post",value:"all_subscribers"}],isDisabled:Nt,value:{label:Ft,value:sn},onChange:Pn})),Object(e.h)("div",{className:"poll-editor-section vote-visibility-section"},Object(e.h)(T.a,{checked:yt,onChange:()=>Qe(!yt),label:"Hide the total vote count from readers?",name:"votes-hidden"})),Object(e.h)("div",{className:"poll-editor-section action-section"},nn&&Object(e.h)("div",{className:"edit-warning"},nn),Object(e.h)("div",{className:"action-buttons"},Object(e.h)(_.a,{className:"button btn btn-secondary poll-editor-cancel-button",variant:"secondary",look:"button",onClick:tn,disabled:Nt},"Cancel"),Object(e.h)(he.a,{content:ke,className:l()("inverse",{disabled:ke===null})},Object(e.h)(_.a,{className:"button btn btn-primary poll-editor-confirm-button",variant:"primary",look:"button",onClick:()=>Ne(void 0,null,function*(){wt(!0);try{yield we({audience:sn,question:Se,options:ge.filter(Boolean),expiry:it,votes_hidden:yt})}catch(Bt){jt("An error occurred while saving this poll.")}wt(!1)}),disabled:ke!==null||Nt},"Save"))))))},zt=({id:Be,text:Xe,onVote:Te,showVotes:we,currentVotes:De,totalVotes:Ie,myVote:He,canVote:Ve})=>{const z=Object(a.a)(()=>Ne(void 0,null,function*(){Be&&(yield Te(Be))}),[Be,Te]),se=Math.round(100*(Ie===0?0:De/Ie));return Object(e.h)("div",{className:l()("poll-option",{"show-votes":we,"hide-votes":!we,"can-vote":Ve,"my-vote":He}),onClick:z},we&&Object(e.h)("div",{className:"poll-vote-background",style:{width:`${se}%`}}),Object(e.h)("div",{className:"poll-option-background"},Object(e.h)("div",{className:"poll-option-text"},Xe,we&&He&&Object(e.h)(c.a,{className:"vote-icon"}))),we&&Object(e.h)("div",{className:"poll-percentage-text"},se,"%"))},at=({id:Be,isEditor:Xe,post:Te,pub:we,isVersionView:De})=>{var Ie,He,Ve;const[z,se]=Object(a.l)(!1),[Se,Oe]=Object(a.l)(!0),[ge,je]=Object(a.l)(null),[it,Tt]=Object(a.l)(null),[sn,ht]=Object(a.l)(!0),[Nt,wt]=Object(a.l)(De!=null?De:!1),yt=Object(C.e)(),Qe={token:void 0,uuid:void 0};if(typeof window!="undefined"&&!Xe){const On=Object(r.parseQuery)(window.location.href);if(On&&On.token&&(Qe.token=On.token),!Qe.token&&((Ie=window._preloads)==null?void 0:Ie.original_url)){const Ot=Object(r.parseQuery)(window._preloads.original_url);Ot&&Ot.token&&(Qe.token=Ot.token)}}if(typeof window!="undefined"&&!Xe&&Te.is_draft){const On=Object(r.getPostSlug)(window.location.href);On&&Object(i.isUUID)(On)&&(Qe.uuid=On)}const At=Object(E.c)()||{},jt=Ae({is_subscribed:!1,is_free_subscribed:!1,is_contributor:!1,is_author:!1,is_admin:!1},At),{is_subscribed:ke,is_admin:tn,is_contributor:Pn,is_author:Ft}=jt;let{is_free_subscribed:lt}=jt;y()&&(lt=!0);const Rt=Pn||tn||Ft,ln=s()(),Mt=ge&&ge.published_at&&s()(ge.published_at).add(ge.expiry,"hour"),$t=Mt&&Mt.diff(ln,"hour"),Bt=(ge==null?void 0:ge.audience)==="only_paid"?ke:lt,Kt=ge&&ge.options.some(On=>On.my_vote),Sn=!!(ge==null?void 0:ge.is_published),Qn=Sn&&Mt&&Mt.isBefore(ln),rr=Xe&&((ge==null?void 0:ge.post_type)!=="adhoc_email"||!Sn),Mr=Object(a.k)(null),zr=!Kt&&Sn&&!Qn&&Bt,dr=(ge==null?void 0:ge.total_votes)==1?"1 VOTE":`${ge==null?void 0:ge.total_votes} VOTES`,Rr=We({isExpired:Qn,isPublished:Sn,remainingHours:$t}),_r=Object(a.a)((...On)=>Ne(void 0,[...On],function*({shouldNotSetLoading:Ot}={shouldNotSetLoading:!1}){Ot||Oe(!0);try{const kt=yield g()(`/api/v1/poll/${Be}`).query(Qe);je(kt.body),Tt(null)}catch(kt){Tt("We were unable to load this poll. Please refresh the page.")}Oe(!1)}),[Be,Oe,je]);Object(a.d)(()=>{_r()},[_r]);const ro=Object(a.a)(On=>Ne(void 0,null,function*(){try{yield g.a.put(`/api/v1/poll/${Be}`).send(On)}catch(Ot){return Ot}return se(!1),Oe(!0),yield _r(),null}),[Be,Oe,_r]),Dn=Object(a.a)(On=>Ne(void 0,null,function*(){var Ot;if(!Bt&&Sn&&!Qn&&!rr){(Ot=Mr.current)==null||Ot.open();return}if(!(rr||!zr||Nt)){wt(!0);try{yield g.a.post(`/api/v1/poll/${Be}/vote`).send({poll_option_id:On}).query(Qe),Tt(null)}catch(kt){Tt("We were unable to record your vote. Please refresh the page and try again."),wt(!1);return}yield _r({shouldNotSetLoading:!0}),wt(!1)}}),[rr,zr,Nt,wt,Be,_r,Bt,Sn,Qn]),ut=rr?Array(Math.max(2,((He=ge==null?void 0:ge.options)==null?void 0:He.length)||0)).fill("").map((On,Ot)=>{var kt;return ge&&((kt=ge.options)==null?void 0:kt.length)>Ot?ge.options[Ot].label:ot(Ot)}):(Ve=ge==null?void 0:ge.options)==null?void 0:Ve.map(On=>On.label);if(it!==null&&!ge)return Object(e.h)("div",{className:"poll-wrapper poll-web"},Object(e.h)("div",{className:"poll-error"},it));const fn=Xe?null:`${Object(r.getPostUrl)(we,Te)}#poll-${Be}`;return Object(e.h)(M.b,{className:"poll-wrapper poll-web",gap:24},fn&&Object(e.h)("div",{className:"poll-anchor-target",id:`poll-${Be}`},Object(e.h)("div",{className:"poll-anchor-copy-button",onClick:On=>{!(location==null?void 0:location.href)||(On.preventDefault(),Object(A.copyToClipboard)(fn),yt.popToast(Ot=>Object(e.h)(C.c,Pe(Ae({},Ot),{text:"Link copied",Icon:u.a}))))}},Object(e.h)("a",{href:fn},Object(e.h)(u.a,{size:20})))),rr&&ge&&Object(e.h)(Wt,{poll:ge,isOpen:z,onClose:()=>{se(!1)},isPublished:Sn,totalVotes:(ge==null?void 0:ge.total_votes)||0,onSave:ro,shouldShowAudiencePicker:(ge==null?void 0:ge.post_type)!=="adhoc_email"}),!Xe&&ge&&Object(e.h)(Q,{ref:Mr,noCloseButton:!0,className:"poll-dialog",pub:we,post:Te,user:At,pollId:ge.id,audience:ge.audience}),Se?Object(e.h)(M.b,{gap:8,paddingY:48,alignItems:"center",justifyContent:"center"},Object(e.h)(H.b.Meta,null,"Loading...")):Object(e.h)(e.Fragment,null,rr&&Object(e.h)("button",{className:"poll-edit",onClick:()=>{se(!0)},disabled:Se},Object(e.h)(f.a,{height:20})),Object(e.h)(M.b,{gap:4},Object(e.h)(M.c,{className:"poll-title",alignItems:"baseline",gap:4},(ge==null?void 0:ge.audience)==="only_paid"?Object(e.h)(e.Fragment,null,Object(e.h)(m.a,{size:16}),Object(e.h)(H.b.Meta,{className:"subscriber-only-poll"},"SUBSCRIBER-ONLY POLL")):Object(e.h)(H.b.Meta,null,"POLL")),Object(e.h)(H.b.H3,{className:"poll-question",color:"pub-primary-text"},(ge==null?void 0:ge.question)||"New Poll")),it!==null&&Object(e.h)("div",{className:"poll-error"},it),Object(e.h)(M.b,{gap:12,className:l()("poll-options",{"no-margins":!Sn})},ut.map((On,Ot)=>{var kt,Zt,Vn;return Object(e.h)(zt,{id:((kt=ge==null?void 0:ge.options[Ot])==null?void 0:kt.id)||null,text:On,canVote:!Kt&&Sn&&!Qn&&(!Xe||(ge==null?void 0:ge.post_type)==="adhoc_email"),onVote:Dn,showVotes:Kt||Qn||Rt&&sn,totalVotes:(ge==null?void 0:ge.total_votes)||0,currentVotes:((Zt=ge==null?void 0:ge.options[Ot])==null?void 0:Zt.votes)||0,myVote:((Vn=ge==null?void 0:ge.options[Ot])==null?void 0:Vn.my_vote)||!1})})),Sn&&Object(e.h)(H.b.Meta,{className:"poll-status"},(Rt||!ge.votes_hidden)&&`${dr} \xB7 `,Rr,Rt&&!Kt&&!Qn&&Object(e.h)(e.Fragment,null," \xB7 ",Object(e.h)("span",{className:"poll-author-visibility-toggle",title:"Only the author, contributors, and admins may view results before voting.",onClick:()=>{ht(!sn)}},sn?"SHOW OPTIONS":"SHOW RESULTS")))))},Me=({id:Be,embeddedPolls:Xe})=>{const Te=Xe.find(we=>we.id===Be);return Te?Object(e.h)(P.e,{className:"poll-email-wrapper"},Object(e.h)("tr",null,Object(e.h)("td",null,Object(e.h)(P.e,{width:"100%"},Object(e.h)("tr",null,Object(e.h)("td",{className:"poll-header"},(Te==null?void 0:Te.audience)==="only_paid"?"SUBSCRIBER-ONLY POLL":"POLL")),Object(e.h)("tr",{className:"poll-question",width:"100%"},Object(e.h)("td",null,Te.question||"New Poll")),Object(e.h)("tr",null,Object(e.h)("td",null,Object(e.h)(P.e,{className:"poll-options",width:"100%"},Te.options.map(({label:we,id:De},Ie)=>Object(e.h)("tr",null,Object(e.h)("td",{className:"poll-option",width:"100%"},Object(e.h)("a",{className:"poll-vote-link",href:`%%poll_vote_option_${De}_url%%`,width:"100%"},Object(e.h)("div",{className:"poll-vote-contents"},we||ot(Ie))))))))))))):Object(e.h)("table",{className:"poll-wrapper"},"Something went wrong.")}},function(k,n,t){"use strict";t.r(n),t.d(n,"CommunityChatEmbed",function(){return m}),t.d(n,"EmailCommunityChatEmbed",function(){return p});var e=t(0),a=t(15),o=t(33),l=t(14),d=t(2),c=t(8),u=t(348),f={webContainer:"frontend-community-CommunityChatEmbed-module__webContainer--1s8IH",container:"frontend-community-CommunityChatEmbed-module__container--1kOgY",emailWrapper:"frontend-community-CommunityChatEmbed-module__emailWrapper--3ThaL",text:"frontend-community-CommunityChatEmbed-module__text--2uW9W",title:"frontend-community-CommunityChatEmbed-module__title--3MnjB",button:"frontend-community-CommunityChatEmbed-module__button--14mRw"};function m({pub:O,subdomain:s}){return Object(e.h)(d.b,{className:f.webContainer,alignItems:"center",border:"detail-themed",radius:12,padding:20,gap:16,as:"a",href:g(s),target:"_blank"},Object(e.h)(u.a,{size:"xl",imageUrl:Object(a.cloudinary)(O.author_photo_url),border:!0}),Object(e.h)(d.b,{gap:4,alignItems:"center"},Object(e.h)(c.b.H3,{as:"div",color:"pub-primary-text"},"Join ",O.author_name,"\u2019s subscriber chat"),Object(e.h)(c.b.B4,{color:"pub-secondary-text"},"Available in the Substack app and on web")),Object(e.h)(d.b,{alignSelf:"stretch"},Object(e.h)(l.a,{priority:"primary-theme",href:g(s)},"Join chat")))}function p({pub:O,subdomain:s}){return Object(e.h)("a",{className:f.emailWrapper,href:g(s)},Object(e.h)("div",{className:f.container},Object(e.h)(o.a,{size:64,src:Object(a.cloudinary)(O.author_photo_url),framed:!0}),Object(e.h)("div",{className:f.text},Object(e.h)(c.b.H3,{className:f.title,as:"div",color:"pub-primary-text"},"Join ",O.author_name,"\u2019s subscriber chat"),Object(e.h)(c.b.B4,{color:"pub-secondary-text"},"Available in the Substack app and on web")),Object(e.h)(o.f,{tableClassName:f.button},"Join chat")))}function g(O){return Object(a.getPublicationChatAppLinkUrl)({pubKey:O,utm_source:"chat_embed"})}},function(k,n,t){"use strict";t.r(n),t.d(n,"MeetingEmbedStatic",function(){return p}),t.d(n,"MeetingEmbed",function(){return g});var e=t(0),a=t(825),o=t(33),l=t(9),d=t(14),c=t(2),u=t(8),f=t(348),m={avatar:"frontend-main-meetings-Embed-module__avatar--hXzex",badge:"frontend-main-meetings-Embed-module__badge--3uldz",container:"frontend-main-meetings-Embed-module__container--3WPne",header:"frontend-main-meetings-Embed-module__header--3DOas",emailButton:"frontend-main-meetings-Embed-module__emailButton--2Rcwl",cta:"frontend-main-meetings-Embed-module__cta--YhEx3"};const p=({avatarUrl:O,name:s,url:r})=>Object(e.h)(o.d,{gap:12,style:{padding:"16px",border:"1px solid #E0E0E0",borderRadius:"8px",margin:"0 auto 20px"}},Object(e.h)(o.c,{gap:12},Object(e.h)(o.a,{src:O,size:40}),Object(e.h)(o.d,null,Object(e.h)(u.b.H4,{size:14,paddingBottom:4,color:"pub-primary-text"},"Book a meeting with ",s),Object(e.h)(u.b.B4,{color:"pub-secondary-text"},"Schedule a meeting"))),Object(e.h)(o.f,{tableClassName:m.emailButton,href:r},"Book meeting")),g=({avatarUrl:O,name:s,url:r})=>Object(e.h)(c.a,{direction:{mobile:"column",desktop:"row"},radius:8,padding:24,alignItems:"center",className:m.container,justifyContent:"space-between"},Object(e.h)(c.c,{className:m.header,gap:16,paddingBottom:{mobile:20,desktop:0}},Object(e.h)(f.a,{className:m.avatar,imageUrl:O,size:"lg",badge:Object(e.h)("div",{className:m.badge},Object(e.h)(a.a,{color:"white",size:12})),badgePosition:"bottom-right"}),Object(e.h)("div",null,Object(e.h)(u.b.H4,{paddingBottom:4,color:"pub-primary-text"},"Book a meeting with ",s),Object(e.h)(u.b.B4,{color:"pub-secondary-text"},"Schedule a meeting"))),Object(e.h)(d.a,{className:m.cta,priority:"primary-theme",onClick:()=>{Object(l.redirect)(r,{newTab:!0})}},"Book meeting"))},function(k,n,t){"use strict";t.d(n,"a",function(){return g});var e=t(0),a=t(9),o=t.n(a);const l="balance-text",d=100,c=10,u=4;function f(O){p(O)&&(O.style.maxWidth="",m(O,O.clientHeight,0,O.clientWidth)),O.classList.add("visible")}function m(O,s,r,i){if(i-r<u){O.clientHeight>s?O.style.maxWidth=`${i}px`:O.style.maxWidth=`${O.scrollWidth+1}px`;return}if(r>=i){O.style.maxWidth=`${i}px`;return}const h=(r+i)/2;O.style.maxWidth=`${h}px`,O.clientHeight>s?m(O,s,h,i):m(O,s,r,h)}function p(O){var s;const r=O.innerHTML,i=O.textContent.split(" "),h=document.createElement("span");h.id="element-first-word",h.textContent=i.shift(),O.innerHTML="",O.appendChild(h),O.appendChild(document.createTextNode(` ${i.join(" ")}`));const v=((s=document.getElementById("element-first-word"))==null?void 0:s.offsetHeight)||h.offsetHeight,j=O.offsetHeight;return O.innerHTML=r,j-c>v}class g extends e.Component{constructor(s,r){super(s,r);this.debouncedRebalance=Object(a.debounce)(()=>this.rebalance(),d)}componentDidMount(){this.rebalance(),typeof window!="undefined"&&window.addEventListener("resize",this.debouncedRebalance,!0)}componentDidUpdate(){this.rebalance()}componentWillUnmount(){typeof window!="undefined"&&window.removeEventListener("resize",this.debouncedRebalance,!0)}shouldComponentUpdate(s){return s.children!==this.props.children}rebalance(){typeof window!="undefined"&&(!this.base||f(this.base))}render({text:s}){return Object(e.h)("span",{className:l,style:{display:"inline-block"}},s)}}},function(k,n){var t=Object.prototype;function e(a){var o=a&&a.constructor,l=typeof o=="function"&&o.prototype||t;return a===l}k.exports=e},function(k,n,t){"use strict";var e=t(361),a=Object.prototype.hasOwnProperty,o=Array.isArray,l=function(){for(var h=[],v=0;v<256;++v)h.push("%"+((v<16?"0":"")+v.toString(16)).toUpperCase());return h}(),d=function(v){for(;v.length>1;){var j=v.pop(),y=j.obj[j.prop];if(o(y)){for(var b=[],E=0;E<y.length;++E)typeof y[E]!="undefined"&&b.push(y[E]);j.obj[j.prop]=b}}},c=function(v,j){for(var y=j&&j.plainObjects?Object.create(null):{},b=0;b<v.length;++b)typeof v[b]!="undefined"&&(y[b]=v[b]);return y},u=function h(v,j,y){if(!j)return v;if(typeof j!="object"){if(o(v))v.push(j);else if(v&&typeof v=="object")(y&&(y.plainObjects||y.allowPrototypes)||!a.call(Object.prototype,j))&&(v[j]=!0);else return[v,j];return v}if(!v||typeof v!="object")return[v].concat(j);var b=v;return o(v)&&!o(j)&&(b=c(v,y)),o(v)&&o(j)?(j.forEach(function(E,P){if(a.call(v,P)){var A=v[P];A&&typeof A=="object"&&E&&typeof E=="object"?v[P]=h(A,E,y):v.push(E)}else v[P]=E}),v):Object.keys(j).reduce(function(E,P){var A=j[P];return a.call(E,P)?E[P]=h(E[P],A,y):E[P]=A,E},b)},f=function(v,j){return Object.keys(j).reduce(function(y,b){return y[b]=j[b],y},v)},m=function(h,v,j){var y=h.replace(/\+/g," ");if(j==="iso-8859-1")return y.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(y)}catch(b){return y}},p=function(v,j,y,b,E){if(v.length===0)return v;var P=v;if(typeof v=="symbol"?P=Symbol.prototype.toString.call(v):typeof v!="string"&&(P=String(v)),y==="iso-8859-1")return escape(P).replace(/%u[0-9a-f]{4}/gi,function(F){return"%26%23"+parseInt(F.slice(2),16)+"%3B"});for(var A="",_=0;_<P.length;++_){var M=P.charCodeAt(_);if(M===45||M===46||M===95||M===126||M>=48&&M<=57||M>=65&&M<=90||M>=97&&M<=122||E===e.RFC1738&&(M===40||M===41)){A+=P.charAt(_);continue}if(M<128){A=A+l[M];continue}if(M<2048){A=A+(l[192|M>>6]+l[128|M&63]);continue}if(M<55296||M>=57344){A=A+(l[224|M>>12]+l[128|M>>6&63]+l[128|M&63]);continue}_+=1,M=65536+((M&1023)<<10|P.charCodeAt(_)&1023),A+=l[240|M>>18]+l[128|M>>12&63]+l[128|M>>6&63]+l[128|M&63]}return A},g=function(v){for(var j=[{obj:{o:v},prop:"o"}],y=[],b=0;b<j.length;++b)for(var E=j[b],P=E.obj[E.prop],A=Object.keys(P),_=0;_<A.length;++_){var M=A[_],F=P[M];typeof F=="object"&&F!==null&&y.indexOf(F)===-1&&(j.push({obj:P,prop:M}),y.push(F))}return d(j),v},O=function(v){return Object.prototype.toString.call(v)==="[object RegExp]"},s=function(v){return!v||typeof v!="object"?!1:!!(v.constructor&&v.constructor.isBuffer&&v.constructor.isBuffer(v))},r=function(v,j){return[].concat(v,j)},i=function(v,j){if(o(v)){for(var y=[],b=0;b<v.length;b+=1)y.push(j(v[b]));return y}return j(v)};k.exports={arrayToObject:c,assign:f,combine:r,compact:g,decode:m,encode:p,isBuffer:s,isRegExp:O,maybeMap:i,merge:u}},function(k,n,t){"use strict";function e(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(d){return typeof d}:e=function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},e(o)}function a(o){return o!==null&&e(o)==="object"}k.exports=a},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,u=(p,g,O)=>g in p?o(p,g,{enumerable:!0,configurable:!0,writable:!0,value:O}):p[g]=O,f=(p,g)=>{for(var O in g||(g={}))d.call(g,O)&&u(p,O,g[O]);if(l)for(var O of l(g))c.call(g,O)&&u(p,O,g[O]);return p};const m=p=>Object(e.h)(a.a,f({name:"RoundedInformationIcon",svgParams:{viewBox:"0 0 21 21",height:20,width:20,stroke:"white"}},p),Object(e.h)("path",{d:"M10.4998 18.3337C15.1022 18.3337 18.8332 14.6027 18.8332 10.0003C18.8332 5.39795 15.1022 1.66699 10.4998 1.66699C5.89746 1.66699 2.1665 5.39795 2.1665 10.0003C2.1665 14.6027 5.89746 18.3337 10.4998 18.3337Z","stroke-width":"1.66667","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M10.5 13.3333V10","stroke-width":"1.66667","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M10.5 6.66699H10.5092","stroke-width":"1.66667","stroke-linecap":"round","stroke-linejoin":"round"}));n.default=m},function(k,n,t){var e=t(705);function a(o){var l=o==null?0:o.length;return l?e(o,1):[]}k.exports=a},function(k,n,t){const e=t(950);k.exports=(a,{only_non_ascii:o=!1,useNamedReferences:l=!1}={})=>a&&e.encode(a||"",{useNamedReferences:l,decimal:!0,allowUnsafeSymbols:o})},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(r,i,h)=>i in r?o(r,i,{enumerable:!0,configurable:!0,writable:!0,value:h}):r[i]=h,p=(r,i)=>{for(var h in i||(i={}))u.call(i,h)&&m(r,h,i[h]);if(c)for(var h of c(i))f.call(i,h)&&m(r,h,i[h]);return r},g=(r,i)=>l(r,d(i)),O=(r,i)=>{var h={};for(var v in r)u.call(r,v)&&i.indexOf(v)<0&&(h[v]=r[v]);if(r!=null&&c)for(var v of c(r))i.indexOf(v)<0&&f.call(r,v)&&(h[v]=r[v]);return h};const s=r=>{var i=r,{stroke:h="black",height:v=19,width:j=19}=i,y=O(i,["stroke","height","width"]);return Object(e.h)(a.a,g(p({},y),{name:"NewsletterIcon",svgParams:{height:v,width:j,viewBox:"0 0 19 19"}}),Object(e.h)("path",{d:"M3.5 3.5H15.5",stroke:h,"stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M3.5 7.5H15.5",stroke:h,"stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M3.5 11.5H15.5",stroke:h,"stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M3.5 15.5H12",stroke:h,"stroke-linecap":"round","stroke-linejoin":"round"}))};n.default=s},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"DollarCircle",svgParams:{height:24,width:24,stroke:s.stroke,strokeWidth:s.strokeWidth}}),Object(e.h)("path",{d:"M12 5V19M15.3333 7.54545H10.3333C9.71449 7.54545 9.121 7.78011 8.68342 8.19781C8.24583 8.6155 8 9.18202 8 9.77273C8 10.3634 8.24583 10.93 8.68342 11.3476C9.121 11.7653 9.71449 12 10.3333 12H13.6667C14.2855 12 14.879 12.2347 15.3166 12.6524C15.7542 13.07 16 13.6366 16 14.2273C16 14.818 15.7542 15.3845 15.3166 15.8022C14.879 16.2199 14.2855 16.4545 13.6667 16.4545H8","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z","stroke-linecap":"round","stroke-linejoin":"round"}));n.default=O},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"RightArrowIcon",svgParams:{height:20,width:20}}),Object(e.h)("path",{d:"M7.5 15L12.5 10L7.5 5","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));n.default=O},,function(k,n,t){"use strict";n.__esModule=!0,n.AMPERSAND=n.CLOSEPAREN=n.CLOSEANGLEBRACKET=n.CLOSEBRACKET=n.CLOSEBRACE=n.OPENPAREN=n.OPENANGLEBRACKET=n.OPENBRACKET=n.OPENBRACE=n.WS=n.TLD=n.SYM=n.UNDERSCORE=n.SLASH=n.MAILTO=n.PROTOCOL=n.QUERY=n.POUND=n.PLUS=n.NUM=n.NL=n.LOCALHOST=n.PUNCTUATION=n.DOT=n.COLON=n.AT=n.DOMAIN=n.Base=void 0;var e=t(738),a=t(393),o=(0,e.createTokenClass)();o.prototype={toString:function(){return this.v+""}};function l(w){var U=w?{v:w}:{};return(0,a.inherits)(o,(0,e.createTokenClass)(),U)}var d=l(),c=l("@"),u=l(":"),f=l("."),m=l(),p=l(),g=l(`
`),O=l(),s=l("+"),r=l("#"),i=l(),h=l("mailto:"),v=l("?"),j=l("/"),y=l("_"),b=l(),E=l(),P=l(),A=l("{"),_=l("["),M=l("<"),F=l("("),H=l("}"),C=l("]"),T=l(">"),S=l(")"),D=l("&");n.Base=o,n.DOMAIN=d,n.AT=c,n.COLON=u,n.DOT=f,n.PUNCTUATION=m,n.LOCALHOST=p,n.NL=g,n.NUM=O,n.PLUS=s,n.POUND=r,n.QUERY=v,n.PROTOCOL=i,n.MAILTO=h,n.SLASH=j,n.UNDERSCORE=y,n.SYM=b,n.TLD=E,n.WS=P,n.OPENBRACE=A,n.OPENBRACKET=_,n.OPENANGLEBRACKET=M,n.OPENPAREN=F,n.CLOSEBRACE=H,n.CLOSEBRACKET=C,n.CLOSEANGLEBRACKET=T,n.CLOSEPAREN=S,n.AMPERSAND=D},function(k){k.exports=JSON.parse('{"Aacute":"\xC1","aacute":"\xE1","Abreve":"\u0102","abreve":"\u0103","ac":"\u223E","acd":"\u223F","acE":"\u223E\u0333","Acirc":"\xC2","acirc":"\xE2","acute":"\xB4","Acy":"\u0410","acy":"\u0430","AElig":"\xC6","aelig":"\xE6","af":"\u2061","Afr":"\u{1D504}","afr":"\u{1D51E}","Agrave":"\xC0","agrave":"\xE0","alefsym":"\u2135","aleph":"\u2135","Alpha":"\u0391","alpha":"\u03B1","Amacr":"\u0100","amacr":"\u0101","amalg":"\u2A3F","amp":"&","AMP":"&","andand":"\u2A55","And":"\u2A53","and":"\u2227","andd":"\u2A5C","andslope":"\u2A58","andv":"\u2A5A","ang":"\u2220","ange":"\u29A4","angle":"\u2220","angmsdaa":"\u29A8","angmsdab":"\u29A9","angmsdac":"\u29AA","angmsdad":"\u29AB","angmsdae":"\u29AC","angmsdaf":"\u29AD","angmsdag":"\u29AE","angmsdah":"\u29AF","angmsd":"\u2221","angrt":"\u221F","angrtvb":"\u22BE","angrtvbd":"\u299D","angsph":"\u2222","angst":"\xC5","angzarr":"\u237C","Aogon":"\u0104","aogon":"\u0105","Aopf":"\u{1D538}","aopf":"\u{1D552}","apacir":"\u2A6F","ap":"\u2248","apE":"\u2A70","ape":"\u224A","apid":"\u224B","apos":"\'","ApplyFunction":"\u2061","approx":"\u2248","approxeq":"\u224A","Aring":"\xC5","aring":"\xE5","Ascr":"\u{1D49C}","ascr":"\u{1D4B6}","Assign":"\u2254","ast":"*","asymp":"\u2248","asympeq":"\u224D","Atilde":"\xC3","atilde":"\xE3","Auml":"\xC4","auml":"\xE4","awconint":"\u2233","awint":"\u2A11","backcong":"\u224C","backepsilon":"\u03F6","backprime":"\u2035","backsim":"\u223D","backsimeq":"\u22CD","Backslash":"\u2216","Barv":"\u2AE7","barvee":"\u22BD","barwed":"\u2305","Barwed":"\u2306","barwedge":"\u2305","bbrk":"\u23B5","bbrktbrk":"\u23B6","bcong":"\u224C","Bcy":"\u0411","bcy":"\u0431","bdquo":"\u201E","becaus":"\u2235","because":"\u2235","Because":"\u2235","bemptyv":"\u29B0","bepsi":"\u03F6","bernou":"\u212C","Bernoullis":"\u212C","Beta":"\u0392","beta":"\u03B2","beth":"\u2136","between":"\u226C","Bfr":"\u{1D505}","bfr":"\u{1D51F}","bigcap":"\u22C2","bigcirc":"\u25EF","bigcup":"\u22C3","bigodot":"\u2A00","bigoplus":"\u2A01","bigotimes":"\u2A02","bigsqcup":"\u2A06","bigstar":"\u2605","bigtriangledown":"\u25BD","bigtriangleup":"\u25B3","biguplus":"\u2A04","bigvee":"\u22C1","bigwedge":"\u22C0","bkarow":"\u290D","blacklozenge":"\u29EB","blacksquare":"\u25AA","blacktriangle":"\u25B4","blacktriangledown":"\u25BE","blacktriangleleft":"\u25C2","blacktriangleright":"\u25B8","blank":"\u2423","blk12":"\u2592","blk14":"\u2591","blk34":"\u2593","block":"\u2588","bne":"=\u20E5","bnequiv":"\u2261\u20E5","bNot":"\u2AED","bnot":"\u2310","Bopf":"\u{1D539}","bopf":"\u{1D553}","bot":"\u22A5","bottom":"\u22A5","bowtie":"\u22C8","boxbox":"\u29C9","boxdl":"\u2510","boxdL":"\u2555","boxDl":"\u2556","boxDL":"\u2557","boxdr":"\u250C","boxdR":"\u2552","boxDr":"\u2553","boxDR":"\u2554","boxh":"\u2500","boxH":"\u2550","boxhd":"\u252C","boxHd":"\u2564","boxhD":"\u2565","boxHD":"\u2566","boxhu":"\u2534","boxHu":"\u2567","boxhU":"\u2568","boxHU":"\u2569","boxminus":"\u229F","boxplus":"\u229E","boxtimes":"\u22A0","boxul":"\u2518","boxuL":"\u255B","boxUl":"\u255C","boxUL":"\u255D","boxur":"\u2514","boxuR":"\u2558","boxUr":"\u2559","boxUR":"\u255A","boxv":"\u2502","boxV":"\u2551","boxvh":"\u253C","boxvH":"\u256A","boxVh":"\u256B","boxVH":"\u256C","boxvl":"\u2524","boxvL":"\u2561","boxVl":"\u2562","boxVL":"\u2563","boxvr":"\u251C","boxvR":"\u255E","boxVr":"\u255F","boxVR":"\u2560","bprime":"\u2035","breve":"\u02D8","Breve":"\u02D8","brvbar":"\xA6","bscr":"\u{1D4B7}","Bscr":"\u212C","bsemi":"\u204F","bsim":"\u223D","bsime":"\u22CD","bsolb":"\u29C5","bsol":"\\\\","bsolhsub":"\u27C8","bull":"\u2022","bullet":"\u2022","bump":"\u224E","bumpE":"\u2AAE","bumpe":"\u224F","Bumpeq":"\u224E","bumpeq":"\u224F","Cacute":"\u0106","cacute":"\u0107","capand":"\u2A44","capbrcup":"\u2A49","capcap":"\u2A4B","cap":"\u2229","Cap":"\u22D2","capcup":"\u2A47","capdot":"\u2A40","CapitalDifferentialD":"\u2145","caps":"\u2229\uFE00","caret":"\u2041","caron":"\u02C7","Cayleys":"\u212D","ccaps":"\u2A4D","Ccaron":"\u010C","ccaron":"\u010D","Ccedil":"\xC7","ccedil":"\xE7","Ccirc":"\u0108","ccirc":"\u0109","Cconint":"\u2230","ccups":"\u2A4C","ccupssm":"\u2A50","Cdot":"\u010A","cdot":"\u010B","cedil":"\xB8","Cedilla":"\xB8","cemptyv":"\u29B2","cent":"\xA2","centerdot":"\xB7","CenterDot":"\xB7","cfr":"\u{1D520}","Cfr":"\u212D","CHcy":"\u0427","chcy":"\u0447","check":"\u2713","checkmark":"\u2713","Chi":"\u03A7","chi":"\u03C7","circ":"\u02C6","circeq":"\u2257","circlearrowleft":"\u21BA","circlearrowright":"\u21BB","circledast":"\u229B","circledcirc":"\u229A","circleddash":"\u229D","CircleDot":"\u2299","circledR":"\xAE","circledS":"\u24C8","CircleMinus":"\u2296","CirclePlus":"\u2295","CircleTimes":"\u2297","cir":"\u25CB","cirE":"\u29C3","cire":"\u2257","cirfnint":"\u2A10","cirmid":"\u2AEF","cirscir":"\u29C2","ClockwiseContourIntegral":"\u2232","CloseCurlyDoubleQuote":"\u201D","CloseCurlyQuote":"\u2019","clubs":"\u2663","clubsuit":"\u2663","colon":":","Colon":"\u2237","Colone":"\u2A74","colone":"\u2254","coloneq":"\u2254","comma":",","commat":"@","comp":"\u2201","compfn":"\u2218","complement":"\u2201","complexes":"\u2102","cong":"\u2245","congdot":"\u2A6D","Congruent":"\u2261","conint":"\u222E","Conint":"\u222F","ContourIntegral":"\u222E","copf":"\u{1D554}","Copf":"\u2102","coprod":"\u2210","Coproduct":"\u2210","copy":"\xA9","COPY":"\xA9","copysr":"\u2117","CounterClockwiseContourIntegral":"\u2233","crarr":"\u21B5","cross":"\u2717","Cross":"\u2A2F","Cscr":"\u{1D49E}","cscr":"\u{1D4B8}","csub":"\u2ACF","csube":"\u2AD1","csup":"\u2AD0","csupe":"\u2AD2","ctdot":"\u22EF","cudarrl":"\u2938","cudarrr":"\u2935","cuepr":"\u22DE","cuesc":"\u22DF","cularr":"\u21B6","cularrp":"\u293D","cupbrcap":"\u2A48","cupcap":"\u2A46","CupCap":"\u224D","cup":"\u222A","Cup":"\u22D3","cupcup":"\u2A4A","cupdot":"\u228D","cupor":"\u2A45","cups":"\u222A\uFE00","curarr":"\u21B7","curarrm":"\u293C","curlyeqprec":"\u22DE","curlyeqsucc":"\u22DF","curlyvee":"\u22CE","curlywedge":"\u22CF","curren":"\xA4","curvearrowleft":"\u21B6","curvearrowright":"\u21B7","cuvee":"\u22CE","cuwed":"\u22CF","cwconint":"\u2232","cwint":"\u2231","cylcty":"\u232D","dagger":"\u2020","Dagger":"\u2021","daleth":"\u2138","darr":"\u2193","Darr":"\u21A1","dArr":"\u21D3","dash":"\u2010","Dashv":"\u2AE4","dashv":"\u22A3","dbkarow":"\u290F","dblac":"\u02DD","Dcaron":"\u010E","dcaron":"\u010F","Dcy":"\u0414","dcy":"\u0434","ddagger":"\u2021","ddarr":"\u21CA","DD":"\u2145","dd":"\u2146","DDotrahd":"\u2911","ddotseq":"\u2A77","deg":"\xB0","Del":"\u2207","Delta":"\u0394","delta":"\u03B4","demptyv":"\u29B1","dfisht":"\u297F","Dfr":"\u{1D507}","dfr":"\u{1D521}","dHar":"\u2965","dharl":"\u21C3","dharr":"\u21C2","DiacriticalAcute":"\xB4","DiacriticalDot":"\u02D9","DiacriticalDoubleAcute":"\u02DD","DiacriticalGrave":"`","DiacriticalTilde":"\u02DC","diam":"\u22C4","diamond":"\u22C4","Diamond":"\u22C4","diamondsuit":"\u2666","diams":"\u2666","die":"\xA8","DifferentialD":"\u2146","digamma":"\u03DD","disin":"\u22F2","div":"\xF7","divide":"\xF7","divideontimes":"\u22C7","divonx":"\u22C7","DJcy":"\u0402","djcy":"\u0452","dlcorn":"\u231E","dlcrop":"\u230D","dollar":"$","Dopf":"\u{1D53B}","dopf":"\u{1D555}","Dot":"\xA8","dot":"\u02D9","DotDot":"\u20DC","doteq":"\u2250","doteqdot":"\u2251","DotEqual":"\u2250","dotminus":"\u2238","dotplus":"\u2214","dotsquare":"\u22A1","doublebarwedge":"\u2306","DoubleContourIntegral":"\u222F","DoubleDot":"\xA8","DoubleDownArrow":"\u21D3","DoubleLeftArrow":"\u21D0","DoubleLeftRightArrow":"\u21D4","DoubleLeftTee":"\u2AE4","DoubleLongLeftArrow":"\u27F8","DoubleLongLeftRightArrow":"\u27FA","DoubleLongRightArrow":"\u27F9","DoubleRightArrow":"\u21D2","DoubleRightTee":"\u22A8","DoubleUpArrow":"\u21D1","DoubleUpDownArrow":"\u21D5","DoubleVerticalBar":"\u2225","DownArrowBar":"\u2913","downarrow":"\u2193","DownArrow":"\u2193","Downarrow":"\u21D3","DownArrowUpArrow":"\u21F5","DownBreve":"\u0311","downdownarrows":"\u21CA","downharpoonleft":"\u21C3","downharpoonright":"\u21C2","DownLeftRightVector":"\u2950","DownLeftTeeVector":"\u295E","DownLeftVectorBar":"\u2956","DownLeftVector":"\u21BD","DownRightTeeVector":"\u295F","DownRightVectorBar":"\u2957","DownRightVector":"\u21C1","DownTeeArrow":"\u21A7","DownTee":"\u22A4","drbkarow":"\u2910","drcorn":"\u231F","drcrop":"\u230C","Dscr":"\u{1D49F}","dscr":"\u{1D4B9}","DScy":"\u0405","dscy":"\u0455","dsol":"\u29F6","Dstrok":"\u0110","dstrok":"\u0111","dtdot":"\u22F1","dtri":"\u25BF","dtrif":"\u25BE","duarr":"\u21F5","duhar":"\u296F","dwangle":"\u29A6","DZcy":"\u040F","dzcy":"\u045F","dzigrarr":"\u27FF","Eacute":"\xC9","eacute":"\xE9","easter":"\u2A6E","Ecaron":"\u011A","ecaron":"\u011B","Ecirc":"\xCA","ecirc":"\xEA","ecir":"\u2256","ecolon":"\u2255","Ecy":"\u042D","ecy":"\u044D","eDDot":"\u2A77","Edot":"\u0116","edot":"\u0117","eDot":"\u2251","ee":"\u2147","efDot":"\u2252","Efr":"\u{1D508}","efr":"\u{1D522}","eg":"\u2A9A","Egrave":"\xC8","egrave":"\xE8","egs":"\u2A96","egsdot":"\u2A98","el":"\u2A99","Element":"\u2208","elinters":"\u23E7","ell":"\u2113","els":"\u2A95","elsdot":"\u2A97","Emacr":"\u0112","emacr":"\u0113","empty":"\u2205","emptyset":"\u2205","EmptySmallSquare":"\u25FB","emptyv":"\u2205","EmptyVerySmallSquare":"\u25AB","emsp13":"\u2004","emsp14":"\u2005","emsp":"\u2003","ENG":"\u014A","eng":"\u014B","ensp":"\u2002","Eogon":"\u0118","eogon":"\u0119","Eopf":"\u{1D53C}","eopf":"\u{1D556}","epar":"\u22D5","eparsl":"\u29E3","eplus":"\u2A71","epsi":"\u03B5","Epsilon":"\u0395","epsilon":"\u03B5","epsiv":"\u03F5","eqcirc":"\u2256","eqcolon":"\u2255","eqsim":"\u2242","eqslantgtr":"\u2A96","eqslantless":"\u2A95","Equal":"\u2A75","equals":"=","EqualTilde":"\u2242","equest":"\u225F","Equilibrium":"\u21CC","equiv":"\u2261","equivDD":"\u2A78","eqvparsl":"\u29E5","erarr":"\u2971","erDot":"\u2253","escr":"\u212F","Escr":"\u2130","esdot":"\u2250","Esim":"\u2A73","esim":"\u2242","Eta":"\u0397","eta":"\u03B7","ETH":"\xD0","eth":"\xF0","Euml":"\xCB","euml":"\xEB","euro":"\u20AC","excl":"!","exist":"\u2203","Exists":"\u2203","expectation":"\u2130","exponentiale":"\u2147","ExponentialE":"\u2147","fallingdotseq":"\u2252","Fcy":"\u0424","fcy":"\u0444","female":"\u2640","ffilig":"\uFB03","fflig":"\uFB00","ffllig":"\uFB04","Ffr":"\u{1D509}","ffr":"\u{1D523}","filig":"\uFB01","FilledSmallSquare":"\u25FC","FilledVerySmallSquare":"\u25AA","fjlig":"fj","flat":"\u266D","fllig":"\uFB02","fltns":"\u25B1","fnof":"\u0192","Fopf":"\u{1D53D}","fopf":"\u{1D557}","forall":"\u2200","ForAll":"\u2200","fork":"\u22D4","forkv":"\u2AD9","Fouriertrf":"\u2131","fpartint":"\u2A0D","frac12":"\xBD","frac13":"\u2153","frac14":"\xBC","frac15":"\u2155","frac16":"\u2159","frac18":"\u215B","frac23":"\u2154","frac25":"\u2156","frac34":"\xBE","frac35":"\u2157","frac38":"\u215C","frac45":"\u2158","frac56":"\u215A","frac58":"\u215D","frac78":"\u215E","frasl":"\u2044","frown":"\u2322","fscr":"\u{1D4BB}","Fscr":"\u2131","gacute":"\u01F5","Gamma":"\u0393","gamma":"\u03B3","Gammad":"\u03DC","gammad":"\u03DD","gap":"\u2A86","Gbreve":"\u011E","gbreve":"\u011F","Gcedil":"\u0122","Gcirc":"\u011C","gcirc":"\u011D","Gcy":"\u0413","gcy":"\u0433","Gdot":"\u0120","gdot":"\u0121","ge":"\u2265","gE":"\u2267","gEl":"\u2A8C","gel":"\u22DB","geq":"\u2265","geqq":"\u2267","geqslant":"\u2A7E","gescc":"\u2AA9","ges":"\u2A7E","gesdot":"\u2A80","gesdoto":"\u2A82","gesdotol":"\u2A84","gesl":"\u22DB\uFE00","gesles":"\u2A94","Gfr":"\u{1D50A}","gfr":"\u{1D524}","gg":"\u226B","Gg":"\u22D9","ggg":"\u22D9","gimel":"\u2137","GJcy":"\u0403","gjcy":"\u0453","gla":"\u2AA5","gl":"\u2277","glE":"\u2A92","glj":"\u2AA4","gnap":"\u2A8A","gnapprox":"\u2A8A","gne":"\u2A88","gnE":"\u2269","gneq":"\u2A88","gneqq":"\u2269","gnsim":"\u22E7","Gopf":"\u{1D53E}","gopf":"\u{1D558}","grave":"`","GreaterEqual":"\u2265","GreaterEqualLess":"\u22DB","GreaterFullEqual":"\u2267","GreaterGreater":"\u2AA2","GreaterLess":"\u2277","GreaterSlantEqual":"\u2A7E","GreaterTilde":"\u2273","Gscr":"\u{1D4A2}","gscr":"\u210A","gsim":"\u2273","gsime":"\u2A8E","gsiml":"\u2A90","gtcc":"\u2AA7","gtcir":"\u2A7A","gt":">","GT":">","Gt":"\u226B","gtdot":"\u22D7","gtlPar":"\u2995","gtquest":"\u2A7C","gtrapprox":"\u2A86","gtrarr":"\u2978","gtrdot":"\u22D7","gtreqless":"\u22DB","gtreqqless":"\u2A8C","gtrless":"\u2277","gtrsim":"\u2273","gvertneqq":"\u2269\uFE00","gvnE":"\u2269\uFE00","Hacek":"\u02C7","hairsp":"\u200A","half":"\xBD","hamilt":"\u210B","HARDcy":"\u042A","hardcy":"\u044A","harrcir":"\u2948","harr":"\u2194","hArr":"\u21D4","harrw":"\u21AD","Hat":"^","hbar":"\u210F","Hcirc":"\u0124","hcirc":"\u0125","hearts":"\u2665","heartsuit":"\u2665","hellip":"\u2026","hercon":"\u22B9","hfr":"\u{1D525}","Hfr":"\u210C","HilbertSpace":"\u210B","hksearow":"\u2925","hkswarow":"\u2926","hoarr":"\u21FF","homtht":"\u223B","hookleftarrow":"\u21A9","hookrightarrow":"\u21AA","hopf":"\u{1D559}","Hopf":"\u210D","horbar":"\u2015","HorizontalLine":"\u2500","hscr":"\u{1D4BD}","Hscr":"\u210B","hslash":"\u210F","Hstrok":"\u0126","hstrok":"\u0127","HumpDownHump":"\u224E","HumpEqual":"\u224F","hybull":"\u2043","hyphen":"\u2010","Iacute":"\xCD","iacute":"\xED","ic":"\u2063","Icirc":"\xCE","icirc":"\xEE","Icy":"\u0418","icy":"\u0438","Idot":"\u0130","IEcy":"\u0415","iecy":"\u0435","iexcl":"\xA1","iff":"\u21D4","ifr":"\u{1D526}","Ifr":"\u2111","Igrave":"\xCC","igrave":"\xEC","ii":"\u2148","iiiint":"\u2A0C","iiint":"\u222D","iinfin":"\u29DC","iiota":"\u2129","IJlig":"\u0132","ijlig":"\u0133","Imacr":"\u012A","imacr":"\u012B","image":"\u2111","ImaginaryI":"\u2148","imagline":"\u2110","imagpart":"\u2111","imath":"\u0131","Im":"\u2111","imof":"\u22B7","imped":"\u01B5","Implies":"\u21D2","incare":"\u2105","in":"\u2208","infin":"\u221E","infintie":"\u29DD","inodot":"\u0131","intcal":"\u22BA","int":"\u222B","Int":"\u222C","integers":"\u2124","Integral":"\u222B","intercal":"\u22BA","Intersection":"\u22C2","intlarhk":"\u2A17","intprod":"\u2A3C","InvisibleComma":"\u2063","InvisibleTimes":"\u2062","IOcy":"\u0401","iocy":"\u0451","Iogon":"\u012E","iogon":"\u012F","Iopf":"\u{1D540}","iopf":"\u{1D55A}","Iota":"\u0399","iota":"\u03B9","iprod":"\u2A3C","iquest":"\xBF","iscr":"\u{1D4BE}","Iscr":"\u2110","isin":"\u2208","isindot":"\u22F5","isinE":"\u22F9","isins":"\u22F4","isinsv":"\u22F3","isinv":"\u2208","it":"\u2062","Itilde":"\u0128","itilde":"\u0129","Iukcy":"\u0406","iukcy":"\u0456","Iuml":"\xCF","iuml":"\xEF","Jcirc":"\u0134","jcirc":"\u0135","Jcy":"\u0419","jcy":"\u0439","Jfr":"\u{1D50D}","jfr":"\u{1D527}","jmath":"\u0237","Jopf":"\u{1D541}","jopf":"\u{1D55B}","Jscr":"\u{1D4A5}","jscr":"\u{1D4BF}","Jsercy":"\u0408","jsercy":"\u0458","Jukcy":"\u0404","jukcy":"\u0454","Kappa":"\u039A","kappa":"\u03BA","kappav":"\u03F0","Kcedil":"\u0136","kcedil":"\u0137","Kcy":"\u041A","kcy":"\u043A","Kfr":"\u{1D50E}","kfr":"\u{1D528}","kgreen":"\u0138","KHcy":"\u0425","khcy":"\u0445","KJcy":"\u040C","kjcy":"\u045C","Kopf":"\u{1D542}","kopf":"\u{1D55C}","Kscr":"\u{1D4A6}","kscr":"\u{1D4C0}","lAarr":"\u21DA","Lacute":"\u0139","lacute":"\u013A","laemptyv":"\u29B4","lagran":"\u2112","Lambda":"\u039B","lambda":"\u03BB","lang":"\u27E8","Lang":"\u27EA","langd":"\u2991","langle":"\u27E8","lap":"\u2A85","Laplacetrf":"\u2112","laquo":"\xAB","larrb":"\u21E4","larrbfs":"\u291F","larr":"\u2190","Larr":"\u219E","lArr":"\u21D0","larrfs":"\u291D","larrhk":"\u21A9","larrlp":"\u21AB","larrpl":"\u2939","larrsim":"\u2973","larrtl":"\u21A2","latail":"\u2919","lAtail":"\u291B","lat":"\u2AAB","late":"\u2AAD","lates":"\u2AAD\uFE00","lbarr":"\u290C","lBarr":"\u290E","lbbrk":"\u2772","lbrace":"{","lbrack":"[","lbrke":"\u298B","lbrksld":"\u298F","lbrkslu":"\u298D","Lcaron":"\u013D","lcaron":"\u013E","Lcedil":"\u013B","lcedil":"\u013C","lceil":"\u2308","lcub":"{","Lcy":"\u041B","lcy":"\u043B","ldca":"\u2936","ldquo":"\u201C","ldquor":"\u201E","ldrdhar":"\u2967","ldrushar":"\u294B","ldsh":"\u21B2","le":"\u2264","lE":"\u2266","LeftAngleBracket":"\u27E8","LeftArrowBar":"\u21E4","leftarrow":"\u2190","LeftArrow":"\u2190","Leftarrow":"\u21D0","LeftArrowRightArrow":"\u21C6","leftarrowtail":"\u21A2","LeftCeiling":"\u2308","LeftDoubleBracket":"\u27E6","LeftDownTeeVector":"\u2961","LeftDownVectorBar":"\u2959","LeftDownVector":"\u21C3","LeftFloor":"\u230A","leftharpoondown":"\u21BD","leftharpoonup":"\u21BC","leftleftarrows":"\u21C7","leftrightarrow":"\u2194","LeftRightArrow":"\u2194","Leftrightarrow":"\u21D4","leftrightarrows":"\u21C6","leftrightharpoons":"\u21CB","leftrightsquigarrow":"\u21AD","LeftRightVector":"\u294E","LeftTeeArrow":"\u21A4","LeftTee":"\u22A3","LeftTeeVector":"\u295A","leftthreetimes":"\u22CB","LeftTriangleBar":"\u29CF","LeftTriangle":"\u22B2","LeftTriangleEqual":"\u22B4","LeftUpDownVector":"\u2951","LeftUpTeeVector":"\u2960","LeftUpVectorBar":"\u2958","LeftUpVector":"\u21BF","LeftVectorBar":"\u2952","LeftVector":"\u21BC","lEg":"\u2A8B","leg":"\u22DA","leq":"\u2264","leqq":"\u2266","leqslant":"\u2A7D","lescc":"\u2AA8","les":"\u2A7D","lesdot":"\u2A7F","lesdoto":"\u2A81","lesdotor":"\u2A83","lesg":"\u22DA\uFE00","lesges":"\u2A93","lessapprox":"\u2A85","lessdot":"\u22D6","lesseqgtr":"\u22DA","lesseqqgtr":"\u2A8B","LessEqualGreater":"\u22DA","LessFullEqual":"\u2266","LessGreater":"\u2276","lessgtr":"\u2276","LessLess":"\u2AA1","lesssim":"\u2272","LessSlantEqual":"\u2A7D","LessTilde":"\u2272","lfisht":"\u297C","lfloor":"\u230A","Lfr":"\u{1D50F}","lfr":"\u{1D529}","lg":"\u2276","lgE":"\u2A91","lHar":"\u2962","lhard":"\u21BD","lharu":"\u21BC","lharul":"\u296A","lhblk":"\u2584","LJcy":"\u0409","ljcy":"\u0459","llarr":"\u21C7","ll":"\u226A","Ll":"\u22D8","llcorner":"\u231E","Lleftarrow":"\u21DA","llhard":"\u296B","lltri":"\u25FA","Lmidot":"\u013F","lmidot":"\u0140","lmoustache":"\u23B0","lmoust":"\u23B0","lnap":"\u2A89","lnapprox":"\u2A89","lne":"\u2A87","lnE":"\u2268","lneq":"\u2A87","lneqq":"\u2268","lnsim":"\u22E6","loang":"\u27EC","loarr":"\u21FD","lobrk":"\u27E6","longleftarrow":"\u27F5","LongLeftArrow":"\u27F5","Longleftarrow":"\u27F8","longleftrightarrow":"\u27F7","LongLeftRightArrow":"\u27F7","Longleftrightarrow":"\u27FA","longmapsto":"\u27FC","longrightarrow":"\u27F6","LongRightArrow":"\u27F6","Longrightarrow":"\u27F9","looparrowleft":"\u21AB","looparrowright":"\u21AC","lopar":"\u2985","Lopf":"\u{1D543}","lopf":"\u{1D55D}","loplus":"\u2A2D","lotimes":"\u2A34","lowast":"\u2217","lowbar":"_","LowerLeftArrow":"\u2199","LowerRightArrow":"\u2198","loz":"\u25CA","lozenge":"\u25CA","lozf":"\u29EB","lpar":"(","lparlt":"\u2993","lrarr":"\u21C6","lrcorner":"\u231F","lrhar":"\u21CB","lrhard":"\u296D","lrm":"\u200E","lrtri":"\u22BF","lsaquo":"\u2039","lscr":"\u{1D4C1}","Lscr":"\u2112","lsh":"\u21B0","Lsh":"\u21B0","lsim":"\u2272","lsime":"\u2A8D","lsimg":"\u2A8F","lsqb":"[","lsquo":"\u2018","lsquor":"\u201A","Lstrok":"\u0141","lstrok":"\u0142","ltcc":"\u2AA6","ltcir":"\u2A79","lt":"<","LT":"<","Lt":"\u226A","ltdot":"\u22D6","lthree":"\u22CB","ltimes":"\u22C9","ltlarr":"\u2976","ltquest":"\u2A7B","ltri":"\u25C3","ltrie":"\u22B4","ltrif":"\u25C2","ltrPar":"\u2996","lurdshar":"\u294A","luruhar":"\u2966","lvertneqq":"\u2268\uFE00","lvnE":"\u2268\uFE00","macr":"\xAF","male":"\u2642","malt":"\u2720","maltese":"\u2720","Map":"\u2905","map":"\u21A6","mapsto":"\u21A6","mapstodown":"\u21A7","mapstoleft":"\u21A4","mapstoup":"\u21A5","marker":"\u25AE","mcomma":"\u2A29","Mcy":"\u041C","mcy":"\u043C","mdash":"\u2014","mDDot":"\u223A","measuredangle":"\u2221","MediumSpace":"\u205F","Mellintrf":"\u2133","Mfr":"\u{1D510}","mfr":"\u{1D52A}","mho":"\u2127","micro":"\xB5","midast":"*","midcir":"\u2AF0","mid":"\u2223","middot":"\xB7","minusb":"\u229F","minus":"\u2212","minusd":"\u2238","minusdu":"\u2A2A","MinusPlus":"\u2213","mlcp":"\u2ADB","mldr":"\u2026","mnplus":"\u2213","models":"\u22A7","Mopf":"\u{1D544}","mopf":"\u{1D55E}","mp":"\u2213","mscr":"\u{1D4C2}","Mscr":"\u2133","mstpos":"\u223E","Mu":"\u039C","mu":"\u03BC","multimap":"\u22B8","mumap":"\u22B8","nabla":"\u2207","Nacute":"\u0143","nacute":"\u0144","nang":"\u2220\u20D2","nap":"\u2249","napE":"\u2A70\u0338","napid":"\u224B\u0338","napos":"\u0149","napprox":"\u2249","natural":"\u266E","naturals":"\u2115","natur":"\u266E","nbsp":"\xA0","nbump":"\u224E\u0338","nbumpe":"\u224F\u0338","ncap":"\u2A43","Ncaron":"\u0147","ncaron":"\u0148","Ncedil":"\u0145","ncedil":"\u0146","ncong":"\u2247","ncongdot":"\u2A6D\u0338","ncup":"\u2A42","Ncy":"\u041D","ncy":"\u043D","ndash":"\u2013","nearhk":"\u2924","nearr":"\u2197","neArr":"\u21D7","nearrow":"\u2197","ne":"\u2260","nedot":"\u2250\u0338","NegativeMediumSpace":"\u200B","NegativeThickSpace":"\u200B","NegativeThinSpace":"\u200B","NegativeVeryThinSpace":"\u200B","nequiv":"\u2262","nesear":"\u2928","nesim":"\u2242\u0338","NestedGreaterGreater":"\u226B","NestedLessLess":"\u226A","NewLine":"\\n","nexist":"\u2204","nexists":"\u2204","Nfr":"\u{1D511}","nfr":"\u{1D52B}","ngE":"\u2267\u0338","nge":"\u2271","ngeq":"\u2271","ngeqq":"\u2267\u0338","ngeqslant":"\u2A7E\u0338","nges":"\u2A7E\u0338","nGg":"\u22D9\u0338","ngsim":"\u2275","nGt":"\u226B\u20D2","ngt":"\u226F","ngtr":"\u226F","nGtv":"\u226B\u0338","nharr":"\u21AE","nhArr":"\u21CE","nhpar":"\u2AF2","ni":"\u220B","nis":"\u22FC","nisd":"\u22FA","niv":"\u220B","NJcy":"\u040A","njcy":"\u045A","nlarr":"\u219A","nlArr":"\u21CD","nldr":"\u2025","nlE":"\u2266\u0338","nle":"\u2270","nleftarrow":"\u219A","nLeftarrow":"\u21CD","nleftrightarrow":"\u21AE","nLeftrightarrow":"\u21CE","nleq":"\u2270","nleqq":"\u2266\u0338","nleqslant":"\u2A7D\u0338","nles":"\u2A7D\u0338","nless":"\u226E","nLl":"\u22D8\u0338","nlsim":"\u2274","nLt":"\u226A\u20D2","nlt":"\u226E","nltri":"\u22EA","nltrie":"\u22EC","nLtv":"\u226A\u0338","nmid":"\u2224","NoBreak":"\u2060","NonBreakingSpace":"\xA0","nopf":"\u{1D55F}","Nopf":"\u2115","Not":"\u2AEC","not":"\xAC","NotCongruent":"\u2262","NotCupCap":"\u226D","NotDoubleVerticalBar":"\u2226","NotElement":"\u2209","NotEqual":"\u2260","NotEqualTilde":"\u2242\u0338","NotExists":"\u2204","NotGreater":"\u226F","NotGreaterEqual":"\u2271","NotGreaterFullEqual":"\u2267\u0338","NotGreaterGreater":"\u226B\u0338","NotGreaterLess":"\u2279","NotGreaterSlantEqual":"\u2A7E\u0338","NotGreaterTilde":"\u2275","NotHumpDownHump":"\u224E\u0338","NotHumpEqual":"\u224F\u0338","notin":"\u2209","notindot":"\u22F5\u0338","notinE":"\u22F9\u0338","notinva":"\u2209","notinvb":"\u22F7","notinvc":"\u22F6","NotLeftTriangleBar":"\u29CF\u0338","NotLeftTriangle":"\u22EA","NotLeftTriangleEqual":"\u22EC","NotLess":"\u226E","NotLessEqual":"\u2270","NotLessGreater":"\u2278","NotLessLess":"\u226A\u0338","NotLessSlantEqual":"\u2A7D\u0338","NotLessTilde":"\u2274","NotNestedGreaterGreater":"\u2AA2\u0338","NotNestedLessLess":"\u2AA1\u0338","notni":"\u220C","notniva":"\u220C","notnivb":"\u22FE","notnivc":"\u22FD","NotPrecedes":"\u2280","NotPrecedesEqual":"\u2AAF\u0338","NotPrecedesSlantEqual":"\u22E0","NotReverseElement":"\u220C","NotRightTriangleBar":"\u29D0\u0338","NotRightTriangle":"\u22EB","NotRightTriangleEqual":"\u22ED","NotSquareSubset":"\u228F\u0338","NotSquareSubsetEqual":"\u22E2","NotSquareSuperset":"\u2290\u0338","NotSquareSupersetEqual":"\u22E3","NotSubset":"\u2282\u20D2","NotSubsetEqual":"\u2288","NotSucceeds":"\u2281","NotSucceedsEqual":"\u2AB0\u0338","NotSucceedsSlantEqual":"\u22E1","NotSucceedsTilde":"\u227F\u0338","NotSuperset":"\u2283\u20D2","NotSupersetEqual":"\u2289","NotTilde":"\u2241","NotTildeEqual":"\u2244","NotTildeFullEqual":"\u2247","NotTildeTilde":"\u2249","NotVerticalBar":"\u2224","nparallel":"\u2226","npar":"\u2226","nparsl":"\u2AFD\u20E5","npart":"\u2202\u0338","npolint":"\u2A14","npr":"\u2280","nprcue":"\u22E0","nprec":"\u2280","npreceq":"\u2AAF\u0338","npre":"\u2AAF\u0338","nrarrc":"\u2933\u0338","nrarr":"\u219B","nrArr":"\u21CF","nrarrw":"\u219D\u0338","nrightarrow":"\u219B","nRightarrow":"\u21CF","nrtri":"\u22EB","nrtrie":"\u22ED","nsc":"\u2281","nsccue":"\u22E1","nsce":"\u2AB0\u0338","Nscr":"\u{1D4A9}","nscr":"\u{1D4C3}","nshortmid":"\u2224","nshortparallel":"\u2226","nsim":"\u2241","nsime":"\u2244","nsimeq":"\u2244","nsmid":"\u2224","nspar":"\u2226","nsqsube":"\u22E2","nsqsupe":"\u22E3","nsub":"\u2284","nsubE":"\u2AC5\u0338","nsube":"\u2288","nsubset":"\u2282\u20D2","nsubseteq":"\u2288","nsubseteqq":"\u2AC5\u0338","nsucc":"\u2281","nsucceq":"\u2AB0\u0338","nsup":"\u2285","nsupE":"\u2AC6\u0338","nsupe":"\u2289","nsupset":"\u2283\u20D2","nsupseteq":"\u2289","nsupseteqq":"\u2AC6\u0338","ntgl":"\u2279","Ntilde":"\xD1","ntilde":"\xF1","ntlg":"\u2278","ntriangleleft":"\u22EA","ntrianglelefteq":"\u22EC","ntriangleright":"\u22EB","ntrianglerighteq":"\u22ED","Nu":"\u039D","nu":"\u03BD","num":"#","numero":"\u2116","numsp":"\u2007","nvap":"\u224D\u20D2","nvdash":"\u22AC","nvDash":"\u22AD","nVdash":"\u22AE","nVDash":"\u22AF","nvge":"\u2265\u20D2","nvgt":">\u20D2","nvHarr":"\u2904","nvinfin":"\u29DE","nvlArr":"\u2902","nvle":"\u2264\u20D2","nvlt":"<\u20D2","nvltrie":"\u22B4\u20D2","nvrArr":"\u2903","nvrtrie":"\u22B5\u20D2","nvsim":"\u223C\u20D2","nwarhk":"\u2923","nwarr":"\u2196","nwArr":"\u21D6","nwarrow":"\u2196","nwnear":"\u2927","Oacute":"\xD3","oacute":"\xF3","oast":"\u229B","Ocirc":"\xD4","ocirc":"\xF4","ocir":"\u229A","Ocy":"\u041E","ocy":"\u043E","odash":"\u229D","Odblac":"\u0150","odblac":"\u0151","odiv":"\u2A38","odot":"\u2299","odsold":"\u29BC","OElig":"\u0152","oelig":"\u0153","ofcir":"\u29BF","Ofr":"\u{1D512}","ofr":"\u{1D52C}","ogon":"\u02DB","Ograve":"\xD2","ograve":"\xF2","ogt":"\u29C1","ohbar":"\u29B5","ohm":"\u03A9","oint":"\u222E","olarr":"\u21BA","olcir":"\u29BE","olcross":"\u29BB","oline":"\u203E","olt":"\u29C0","Omacr":"\u014C","omacr":"\u014D","Omega":"\u03A9","omega":"\u03C9","Omicron":"\u039F","omicron":"\u03BF","omid":"\u29B6","ominus":"\u2296","Oopf":"\u{1D546}","oopf":"\u{1D560}","opar":"\u29B7","OpenCurlyDoubleQuote":"\u201C","OpenCurlyQuote":"\u2018","operp":"\u29B9","oplus":"\u2295","orarr":"\u21BB","Or":"\u2A54","or":"\u2228","ord":"\u2A5D","order":"\u2134","orderof":"\u2134","ordf":"\xAA","ordm":"\xBA","origof":"\u22B6","oror":"\u2A56","orslope":"\u2A57","orv":"\u2A5B","oS":"\u24C8","Oscr":"\u{1D4AA}","oscr":"\u2134","Oslash":"\xD8","oslash":"\xF8","osol":"\u2298","Otilde":"\xD5","otilde":"\xF5","otimesas":"\u2A36","Otimes":"\u2A37","otimes":"\u2297","Ouml":"\xD6","ouml":"\xF6","ovbar":"\u233D","OverBar":"\u203E","OverBrace":"\u23DE","OverBracket":"\u23B4","OverParenthesis":"\u23DC","para":"\xB6","parallel":"\u2225","par":"\u2225","parsim":"\u2AF3","parsl":"\u2AFD","part":"\u2202","PartialD":"\u2202","Pcy":"\u041F","pcy":"\u043F","percnt":"%","period":".","permil":"\u2030","perp":"\u22A5","pertenk":"\u2031","Pfr":"\u{1D513}","pfr":"\u{1D52D}","Phi":"\u03A6","phi":"\u03C6","phiv":"\u03D5","phmmat":"\u2133","phone":"\u260E","Pi":"\u03A0","pi":"\u03C0","pitchfork":"\u22D4","piv":"\u03D6","planck":"\u210F","planckh":"\u210E","plankv":"\u210F","plusacir":"\u2A23","plusb":"\u229E","pluscir":"\u2A22","plus":"+","plusdo":"\u2214","plusdu":"\u2A25","pluse":"\u2A72","PlusMinus":"\xB1","plusmn":"\xB1","plussim":"\u2A26","plustwo":"\u2A27","pm":"\xB1","Poincareplane":"\u210C","pointint":"\u2A15","popf":"\u{1D561}","Popf":"\u2119","pound":"\xA3","prap":"\u2AB7","Pr":"\u2ABB","pr":"\u227A","prcue":"\u227C","precapprox":"\u2AB7","prec":"\u227A","preccurlyeq":"\u227C","Precedes":"\u227A","PrecedesEqual":"\u2AAF","PrecedesSlantEqual":"\u227C","PrecedesTilde":"\u227E","preceq":"\u2AAF","precnapprox":"\u2AB9","precneqq":"\u2AB5","precnsim":"\u22E8","pre":"\u2AAF","prE":"\u2AB3","precsim":"\u227E","prime":"\u2032","Prime":"\u2033","primes":"\u2119","prnap":"\u2AB9","prnE":"\u2AB5","prnsim":"\u22E8","prod":"\u220F","Product":"\u220F","profalar":"\u232E","profline":"\u2312","profsurf":"\u2313","prop":"\u221D","Proportional":"\u221D","Proportion":"\u2237","propto":"\u221D","prsim":"\u227E","prurel":"\u22B0","Pscr":"\u{1D4AB}","pscr":"\u{1D4C5}","Psi":"\u03A8","psi":"\u03C8","puncsp":"\u2008","Qfr":"\u{1D514}","qfr":"\u{1D52E}","qint":"\u2A0C","qopf":"\u{1D562}","Qopf":"\u211A","qprime":"\u2057","Qscr":"\u{1D4AC}","qscr":"\u{1D4C6}","quaternions":"\u210D","quatint":"\u2A16","quest":"?","questeq":"\u225F","quot":"\\"","QUOT":"\\"","rAarr":"\u21DB","race":"\u223D\u0331","Racute":"\u0154","racute":"\u0155","radic":"\u221A","raemptyv":"\u29B3","rang":"\u27E9","Rang":"\u27EB","rangd":"\u2992","range":"\u29A5","rangle":"\u27E9","raquo":"\xBB","rarrap":"\u2975","rarrb":"\u21E5","rarrbfs":"\u2920","rarrc":"\u2933","rarr":"\u2192","Rarr":"\u21A0","rArr":"\u21D2","rarrfs":"\u291E","rarrhk":"\u21AA","rarrlp":"\u21AC","rarrpl":"\u2945","rarrsim":"\u2974","Rarrtl":"\u2916","rarrtl":"\u21A3","rarrw":"\u219D","ratail":"\u291A","rAtail":"\u291C","ratio":"\u2236","rationals":"\u211A","rbarr":"\u290D","rBarr":"\u290F","RBarr":"\u2910","rbbrk":"\u2773","rbrace":"}","rbrack":"]","rbrke":"\u298C","rbrksld":"\u298E","rbrkslu":"\u2990","Rcaron":"\u0158","rcaron":"\u0159","Rcedil":"\u0156","rcedil":"\u0157","rceil":"\u2309","rcub":"}","Rcy":"\u0420","rcy":"\u0440","rdca":"\u2937","rdldhar":"\u2969","rdquo":"\u201D","rdquor":"\u201D","rdsh":"\u21B3","real":"\u211C","realine":"\u211B","realpart":"\u211C","reals":"\u211D","Re":"\u211C","rect":"\u25AD","reg":"\xAE","REG":"\xAE","ReverseElement":"\u220B","ReverseEquilibrium":"\u21CB","ReverseUpEquilibrium":"\u296F","rfisht":"\u297D","rfloor":"\u230B","rfr":"\u{1D52F}","Rfr":"\u211C","rHar":"\u2964","rhard":"\u21C1","rharu":"\u21C0","rharul":"\u296C","Rho":"\u03A1","rho":"\u03C1","rhov":"\u03F1","RightAngleBracket":"\u27E9","RightArrowBar":"\u21E5","rightarrow":"\u2192","RightArrow":"\u2192","Rightarrow":"\u21D2","RightArrowLeftArrow":"\u21C4","rightarrowtail":"\u21A3","RightCeiling":"\u2309","RightDoubleBracket":"\u27E7","RightDownTeeVector":"\u295D","RightDownVectorBar":"\u2955","RightDownVector":"\u21C2","RightFloor":"\u230B","rightharpoondown":"\u21C1","rightharpoonup":"\u21C0","rightleftarrows":"\u21C4","rightleftharpoons":"\u21CC","rightrightarrows":"\u21C9","rightsquigarrow":"\u219D","RightTeeArrow":"\u21A6","RightTee":"\u22A2","RightTeeVector":"\u295B","rightthreetimes":"\u22CC","RightTriangleBar":"\u29D0","RightTriangle":"\u22B3","RightTriangleEqual":"\u22B5","RightUpDownVector":"\u294F","RightUpTeeVector":"\u295C","RightUpVectorBar":"\u2954","RightUpVector":"\u21BE","RightVectorBar":"\u2953","RightVector":"\u21C0","ring":"\u02DA","risingdotseq":"\u2253","rlarr":"\u21C4","rlhar":"\u21CC","rlm":"\u200F","rmoustache":"\u23B1","rmoust":"\u23B1","rnmid":"\u2AEE","roang":"\u27ED","roarr":"\u21FE","robrk":"\u27E7","ropar":"\u2986","ropf":"\u{1D563}","Ropf":"\u211D","roplus":"\u2A2E","rotimes":"\u2A35","RoundImplies":"\u2970","rpar":")","rpargt":"\u2994","rppolint":"\u2A12","rrarr":"\u21C9","Rrightarrow":"\u21DB","rsaquo":"\u203A","rscr":"\u{1D4C7}","Rscr":"\u211B","rsh":"\u21B1","Rsh":"\u21B1","rsqb":"]","rsquo":"\u2019","rsquor":"\u2019","rthree":"\u22CC","rtimes":"\u22CA","rtri":"\u25B9","rtrie":"\u22B5","rtrif":"\u25B8","rtriltri":"\u29CE","RuleDelayed":"\u29F4","ruluhar":"\u2968","rx":"\u211E","Sacute":"\u015A","sacute":"\u015B","sbquo":"\u201A","scap":"\u2AB8","Scaron":"\u0160","scaron":"\u0161","Sc":"\u2ABC","sc":"\u227B","sccue":"\u227D","sce":"\u2AB0","scE":"\u2AB4","Scedil":"\u015E","scedil":"\u015F","Scirc":"\u015C","scirc":"\u015D","scnap":"\u2ABA","scnE":"\u2AB6","scnsim":"\u22E9","scpolint":"\u2A13","scsim":"\u227F","Scy":"\u0421","scy":"\u0441","sdotb":"\u22A1","sdot":"\u22C5","sdote":"\u2A66","searhk":"\u2925","searr":"\u2198","seArr":"\u21D8","searrow":"\u2198","sect":"\xA7","semi":";","seswar":"\u2929","setminus":"\u2216","setmn":"\u2216","sext":"\u2736","Sfr":"\u{1D516}","sfr":"\u{1D530}","sfrown":"\u2322","sharp":"\u266F","SHCHcy":"\u0429","shchcy":"\u0449","SHcy":"\u0428","shcy":"\u0448","ShortDownArrow":"\u2193","ShortLeftArrow":"\u2190","shortmid":"\u2223","shortparallel":"\u2225","ShortRightArrow":"\u2192","ShortUpArrow":"\u2191","shy":"\xAD","Sigma":"\u03A3","sigma":"\u03C3","sigmaf":"\u03C2","sigmav":"\u03C2","sim":"\u223C","simdot":"\u2A6A","sime":"\u2243","simeq":"\u2243","simg":"\u2A9E","simgE":"\u2AA0","siml":"\u2A9D","simlE":"\u2A9F","simne":"\u2246","simplus":"\u2A24","simrarr":"\u2972","slarr":"\u2190","SmallCircle":"\u2218","smallsetminus":"\u2216","smashp":"\u2A33","smeparsl":"\u29E4","smid":"\u2223","smile":"\u2323","smt":"\u2AAA","smte":"\u2AAC","smtes":"\u2AAC\uFE00","SOFTcy":"\u042C","softcy":"\u044C","solbar":"\u233F","solb":"\u29C4","sol":"/","Sopf":"\u{1D54A}","sopf":"\u{1D564}","spades":"\u2660","spadesuit":"\u2660","spar":"\u2225","sqcap":"\u2293","sqcaps":"\u2293\uFE00","sqcup":"\u2294","sqcups":"\u2294\uFE00","Sqrt":"\u221A","sqsub":"\u228F","sqsube":"\u2291","sqsubset":"\u228F","sqsubseteq":"\u2291","sqsup":"\u2290","sqsupe":"\u2292","sqsupset":"\u2290","sqsupseteq":"\u2292","square":"\u25A1","Square":"\u25A1","SquareIntersection":"\u2293","SquareSubset":"\u228F","SquareSubsetEqual":"\u2291","SquareSuperset":"\u2290","SquareSupersetEqual":"\u2292","SquareUnion":"\u2294","squarf":"\u25AA","squ":"\u25A1","squf":"\u25AA","srarr":"\u2192","Sscr":"\u{1D4AE}","sscr":"\u{1D4C8}","ssetmn":"\u2216","ssmile":"\u2323","sstarf":"\u22C6","Star":"\u22C6","star":"\u2606","starf":"\u2605","straightepsilon":"\u03F5","straightphi":"\u03D5","strns":"\xAF","sub":"\u2282","Sub":"\u22D0","subdot":"\u2ABD","subE":"\u2AC5","sube":"\u2286","subedot":"\u2AC3","submult":"\u2AC1","subnE":"\u2ACB","subne":"\u228A","subplus":"\u2ABF","subrarr":"\u2979","subset":"\u2282","Subset":"\u22D0","subseteq":"\u2286","subseteqq":"\u2AC5","SubsetEqual":"\u2286","subsetneq":"\u228A","subsetneqq":"\u2ACB","subsim":"\u2AC7","subsub":"\u2AD5","subsup":"\u2AD3","succapprox":"\u2AB8","succ":"\u227B","succcurlyeq":"\u227D","Succeeds":"\u227B","SucceedsEqual":"\u2AB0","SucceedsSlantEqual":"\u227D","SucceedsTilde":"\u227F","succeq":"\u2AB0","succnapprox":"\u2ABA","succneqq":"\u2AB6","succnsim":"\u22E9","succsim":"\u227F","SuchThat":"\u220B","sum":"\u2211","Sum":"\u2211","sung":"\u266A","sup1":"\xB9","sup2":"\xB2","sup3":"\xB3","sup":"\u2283","Sup":"\u22D1","supdot":"\u2ABE","supdsub":"\u2AD8","supE":"\u2AC6","supe":"\u2287","supedot":"\u2AC4","Superset":"\u2283","SupersetEqual":"\u2287","suphsol":"\u27C9","suphsub":"\u2AD7","suplarr":"\u297B","supmult":"\u2AC2","supnE":"\u2ACC","supne":"\u228B","supplus":"\u2AC0","supset":"\u2283","Supset":"\u22D1","supseteq":"\u2287","supseteqq":"\u2AC6","supsetneq":"\u228B","supsetneqq":"\u2ACC","supsim":"\u2AC8","supsub":"\u2AD4","supsup":"\u2AD6","swarhk":"\u2926","swarr":"\u2199","swArr":"\u21D9","swarrow":"\u2199","swnwar":"\u292A","szlig":"\xDF","Tab":"\\t","target":"\u2316","Tau":"\u03A4","tau":"\u03C4","tbrk":"\u23B4","Tcaron":"\u0164","tcaron":"\u0165","Tcedil":"\u0162","tcedil":"\u0163","Tcy":"\u0422","tcy":"\u0442","tdot":"\u20DB","telrec":"\u2315","Tfr":"\u{1D517}","tfr":"\u{1D531}","there4":"\u2234","therefore":"\u2234","Therefore":"\u2234","Theta":"\u0398","theta":"\u03B8","thetasym":"\u03D1","thetav":"\u03D1","thickapprox":"\u2248","thicksim":"\u223C","ThickSpace":"\u205F\u200A","ThinSpace":"\u2009","thinsp":"\u2009","thkap":"\u2248","thksim":"\u223C","THORN":"\xDE","thorn":"\xFE","tilde":"\u02DC","Tilde":"\u223C","TildeEqual":"\u2243","TildeFullEqual":"\u2245","TildeTilde":"\u2248","timesbar":"\u2A31","timesb":"\u22A0","times":"\xD7","timesd":"\u2A30","tint":"\u222D","toea":"\u2928","topbot":"\u2336","topcir":"\u2AF1","top":"\u22A4","Topf":"\u{1D54B}","topf":"\u{1D565}","topfork":"\u2ADA","tosa":"\u2929","tprime":"\u2034","trade":"\u2122","TRADE":"\u2122","triangle":"\u25B5","triangledown":"\u25BF","triangleleft":"\u25C3","trianglelefteq":"\u22B4","triangleq":"\u225C","triangleright":"\u25B9","trianglerighteq":"\u22B5","tridot":"\u25EC","trie":"\u225C","triminus":"\u2A3A","TripleDot":"\u20DB","triplus":"\u2A39","trisb":"\u29CD","tritime":"\u2A3B","trpezium":"\u23E2","Tscr":"\u{1D4AF}","tscr":"\u{1D4C9}","TScy":"\u0426","tscy":"\u0446","TSHcy":"\u040B","tshcy":"\u045B","Tstrok":"\u0166","tstrok":"\u0167","twixt":"\u226C","twoheadleftarrow":"\u219E","twoheadrightarrow":"\u21A0","Uacute":"\xDA","uacute":"\xFA","uarr":"\u2191","Uarr":"\u219F","uArr":"\u21D1","Uarrocir":"\u2949","Ubrcy":"\u040E","ubrcy":"\u045E","Ubreve":"\u016C","ubreve":"\u016D","Ucirc":"\xDB","ucirc":"\xFB","Ucy":"\u0423","ucy":"\u0443","udarr":"\u21C5","Udblac":"\u0170","udblac":"\u0171","udhar":"\u296E","ufisht":"\u297E","Ufr":"\u{1D518}","ufr":"\u{1D532}","Ugrave":"\xD9","ugrave":"\xF9","uHar":"\u2963","uharl":"\u21BF","uharr":"\u21BE","uhblk":"\u2580","ulcorn":"\u231C","ulcorner":"\u231C","ulcrop":"\u230F","ultri":"\u25F8","Umacr":"\u016A","umacr":"\u016B","uml":"\xA8","UnderBar":"_","UnderBrace":"\u23DF","UnderBracket":"\u23B5","UnderParenthesis":"\u23DD","Union":"\u22C3","UnionPlus":"\u228E","Uogon":"\u0172","uogon":"\u0173","Uopf":"\u{1D54C}","uopf":"\u{1D566}","UpArrowBar":"\u2912","uparrow":"\u2191","UpArrow":"\u2191","Uparrow":"\u21D1","UpArrowDownArrow":"\u21C5","updownarrow":"\u2195","UpDownArrow":"\u2195","Updownarrow":"\u21D5","UpEquilibrium":"\u296E","upharpoonleft":"\u21BF","upharpoonright":"\u21BE","uplus":"\u228E","UpperLeftArrow":"\u2196","UpperRightArrow":"\u2197","upsi":"\u03C5","Upsi":"\u03D2","upsih":"\u03D2","Upsilon":"\u03A5","upsilon":"\u03C5","UpTeeArrow":"\u21A5","UpTee":"\u22A5","upuparrows":"\u21C8","urcorn":"\u231D","urcorner":"\u231D","urcrop":"\u230E","Uring":"\u016E","uring":"\u016F","urtri":"\u25F9","Uscr":"\u{1D4B0}","uscr":"\u{1D4CA}","utdot":"\u22F0","Utilde":"\u0168","utilde":"\u0169","utri":"\u25B5","utrif":"\u25B4","uuarr":"\u21C8","Uuml":"\xDC","uuml":"\xFC","uwangle":"\u29A7","vangrt":"\u299C","varepsilon":"\u03F5","varkappa":"\u03F0","varnothing":"\u2205","varphi":"\u03D5","varpi":"\u03D6","varpropto":"\u221D","varr":"\u2195","vArr":"\u21D5","varrho":"\u03F1","varsigma":"\u03C2","varsubsetneq":"\u228A\uFE00","varsubsetneqq":"\u2ACB\uFE00","varsupsetneq":"\u228B\uFE00","varsupsetneqq":"\u2ACC\uFE00","vartheta":"\u03D1","vartriangleleft":"\u22B2","vartriangleright":"\u22B3","vBar":"\u2AE8","Vbar":"\u2AEB","vBarv":"\u2AE9","Vcy":"\u0412","vcy":"\u0432","vdash":"\u22A2","vDash":"\u22A8","Vdash":"\u22A9","VDash":"\u22AB","Vdashl":"\u2AE6","veebar":"\u22BB","vee":"\u2228","Vee":"\u22C1","veeeq":"\u225A","vellip":"\u22EE","verbar":"|","Verbar":"\u2016","vert":"|","Vert":"\u2016","VerticalBar":"\u2223","VerticalLine":"|","VerticalSeparator":"\u2758","VerticalTilde":"\u2240","VeryThinSpace":"\u200A","Vfr":"\u{1D519}","vfr":"\u{1D533}","vltri":"\u22B2","vnsub":"\u2282\u20D2","vnsup":"\u2283\u20D2","Vopf":"\u{1D54D}","vopf":"\u{1D567}","vprop":"\u221D","vrtri":"\u22B3","Vscr":"\u{1D4B1}","vscr":"\u{1D4CB}","vsubnE":"\u2ACB\uFE00","vsubne":"\u228A\uFE00","vsupnE":"\u2ACC\uFE00","vsupne":"\u228B\uFE00","Vvdash":"\u22AA","vzigzag":"\u299A","Wcirc":"\u0174","wcirc":"\u0175","wedbar":"\u2A5F","wedge":"\u2227","Wedge":"\u22C0","wedgeq":"\u2259","weierp":"\u2118","Wfr":"\u{1D51A}","wfr":"\u{1D534}","Wopf":"\u{1D54E}","wopf":"\u{1D568}","wp":"\u2118","wr":"\u2240","wreath":"\u2240","Wscr":"\u{1D4B2}","wscr":"\u{1D4CC}","xcap":"\u22C2","xcirc":"\u25EF","xcup":"\u22C3","xdtri":"\u25BD","Xfr":"\u{1D51B}","xfr":"\u{1D535}","xharr":"\u27F7","xhArr":"\u27FA","Xi":"\u039E","xi":"\u03BE","xlarr":"\u27F5","xlArr":"\u27F8","xmap":"\u27FC","xnis":"\u22FB","xodot":"\u2A00","Xopf":"\u{1D54F}","xopf":"\u{1D569}","xoplus":"\u2A01","xotime":"\u2A02","xrarr":"\u27F6","xrArr":"\u27F9","Xscr":"\u{1D4B3}","xscr":"\u{1D4CD}","xsqcup":"\u2A06","xuplus":"\u2A04","xutri":"\u25B3","xvee":"\u22C1","xwedge":"\u22C0","Yacute":"\xDD","yacute":"\xFD","YAcy":"\u042F","yacy":"\u044F","Ycirc":"\u0176","ycirc":"\u0177","Ycy":"\u042B","ycy":"\u044B","yen":"\xA5","Yfr":"\u{1D51C}","yfr":"\u{1D536}","YIcy":"\u0407","yicy":"\u0457","Yopf":"\u{1D550}","yopf":"\u{1D56A}","Yscr":"\u{1D4B4}","yscr":"\u{1D4CE}","YUcy":"\u042E","yucy":"\u044E","yuml":"\xFF","Yuml":"\u0178","Zacute":"\u0179","zacute":"\u017A","Zcaron":"\u017D","zcaron":"\u017E","Zcy":"\u0417","zcy":"\u0437","Zdot":"\u017B","zdot":"\u017C","zeetrf":"\u2128","ZeroWidthSpace":"\u200B","Zeta":"\u0396","zeta":"\u03B6","zfr":"\u{1D537}","Zfr":"\u2128","ZHcy":"\u0416","zhcy":"\u0436","zigrarr":"\u21DD","zopf":"\u{1D56B}","Zopf":"\u2124","Zscr":"\u{1D4B5}","zscr":"\u{1D4CF}","zwj":"\u200D","zwnj":"\u200C"}')},function(k){k.exports=JSON.parse(`{"amp":"&","apos":"'","gt":">","lt":"<","quot":"\\""}`)},function(k,n,t){"use strict";let{red:e,bold:a,gray:o,options:l}=t(969),d=t(753);class c extends Error{constructor(f,m,p,g,O,s){super(f);this.name="CssSyntaxError",this.reason=f,O&&(this.file=O),g&&(this.source=g),s&&(this.plugin=s),typeof m!="undefined"&&typeof p!="undefined"&&(this.line=m,this.column=p),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,c)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line!="undefined"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(f){if(!this.source)return"";let m=this.source;f==null&&(f=l.enabled),d&&f&&(m=d(m));let p=m.split(/\r?\n/),g=Math.max(this.line-3,0),O=Math.min(this.line+2,p.length),s=String(O).length,r,i;return f?(r=h=>a(e(h)),i=h=>o(h)):r=i=h=>h,p.slice(g,O).map((h,v)=>{let j=g+1+v,y=" "+(" "+j).slice(-s)+" | ";if(j===this.line){let b=i(y.replace(/\d/g," "))+h.slice(0,this.column-1).replace(/[^\t]/g," ");return r(">")+i(y)+h+`
 `+b+r("^")}return" "+i(y)+h}).join(`
`)}toString(){let f=this.showSourceCode();return f&&(f=`

`+f+`
`),this.name+": "+this.message+f}}k.exports=c,c.default=c},function(k,n,t){"use strict";let e=t(394);class a extends e{constructor(l){l&&typeof l.value!="undefined"&&typeof l.value!="string"&&(l=_o(pr({},l),{value:String(l.value)}));super(l);this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}}k.exports=a,a.default=a},function(k,n,t){"use strict";k.exports.isClean=Symbol("isClean")},function(k,n,t){"use strict";let e=t(754);function a(o,l){new e(l).stringify(o)}k.exports=a,a.default=a},function(k,n,t){"use strict";var e=t(904),a=t(974);n.parse=y,n.resolve=E,n.resolveObject=P,n.format=b,n.Url=o;function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var l=/^([a-z0-9.+-]+:)/i,d=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["<",">",'"',"`"," ","\r",`
`,"	"],f=["{","}","|","\\","^","`"].concat(u),m=["'"].concat(f),p=["%","/","?",";","#"].concat(m),g=["/","?","#"],O=255,s=/^[+a-z0-9A-Z_-]{0,63}$/,r=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,i={javascript:!0,"javascript:":!0},h={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},j=t(975);function y(A,_,M){if(A&&a.isObject(A)&&A instanceof o)return A;var F=new o;return F.parse(A,_,M),F}o.prototype.parse=function(A,_,M){if(!a.isString(A))throw new TypeError("Parameter 'url' must be a string, not "+typeof A);var F=A.indexOf("?"),H=F!==-1&&F<A.indexOf("#")?"?":"#",C=A.split(H),T=/\\/g;C[0]=C[0].replace(T,"/"),A=C.join(H);var S=A;if(S=S.trim(),!M&&A.split("#").length===1){var D=c.exec(S);if(D)return this.path=S,this.href=S,this.pathname=D[1],D[2]?(this.search=D[2],_?this.query=j.parse(this.search.substr(1)):this.query=this.search.substr(1)):_&&(this.search="",this.query={}),this}var w=l.exec(S);if(w){w=w[0];var U=w.toLowerCase();this.protocol=U,S=S.substr(w.length)}if(M||w||S.match(/^\/\/[^@\/]+@[^@\/]+/)){var V=S.substr(0,2)==="//";V&&!(w&&h[w])&&(S=S.substr(2),this.slashes=!0)}if(!h[w]&&(V||w&&!v[w])){for(var K=-1,Y=0;Y<g.length;Y++){var W=S.indexOf(g[Y]);W!==-1&&(K===-1||W<K)&&(K=W)}var R,B;K===-1?B=S.lastIndexOf("@"):B=S.lastIndexOf("@",K),B!==-1&&(R=S.slice(0,B),S=S.slice(B+1),this.auth=decodeURIComponent(R)),K=-1;for(var Y=0;Y<p.length;Y++){var W=S.indexOf(p[Y]);W!==-1&&(K===-1||W<K)&&(K=W)}K===-1&&(K=S.length),this.host=S.slice(0,K),S=S.slice(K),this.parseHost(),this.hostname=this.hostname||"";var x=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!x)for(var G=this.hostname.split(/\./),Y=0,Q=G.length;Y<Q;Y++){var he=G[Y];if(!!he&&!he.match(s)){for(var Z="",le=0,de=he.length;le<de;le++)he.charCodeAt(le)>127?Z+="x":Z+=he[le];if(!Z.match(s)){var be=G.slice(0,Y),X=G.slice(Y+1),ie=he.match(r);ie&&(be.push(ie[1]),X.unshift(ie[2])),X.length&&(S="/"+X.join(".")+S),this.hostname=be.join(".");break}}}this.hostname.length>O?this.hostname="":this.hostname=this.hostname.toLowerCase(),x||(this.hostname=e.toASCII(this.hostname));var Ce=this.port?":"+this.port:"",Le=this.hostname||"";this.host=Le+Ce,this.href+=this.host,x&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),S[0]!=="/"&&(S="/"+S))}if(!i[U])for(var Y=0,Q=m.length;Y<Q;Y++){var Ae=m[Y];if(S.indexOf(Ae)!==-1){var Pe=encodeURIComponent(Ae);Pe===Ae&&(Pe=escape(Ae)),S=S.split(Ae).join(Pe)}}var Ne=S.indexOf("#");Ne!==-1&&(this.hash=S.substr(Ne),S=S.slice(0,Ne));var ce=S.indexOf("?");if(ce!==-1?(this.search=S.substr(ce),this.query=S.substr(ce+1),_&&(this.query=j.parse(this.query)),S=S.slice(0,ce)):_&&(this.search="",this.query={}),S&&(this.pathname=S),v[U]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Ce=this.pathname||"",q=this.search||"";this.path=Ce+q}return this.href=this.format(),this};function b(A){return a.isString(A)&&(A=y(A)),A instanceof o?A.format():o.prototype.format.call(A)}o.prototype.format=function(){var A=this.auth||"";A&&(A=encodeURIComponent(A),A=A.replace(/%3A/i,":"),A+="@");var _=this.protocol||"",M=this.pathname||"",F=this.hash||"",H=!1,C="";this.host?H=A+this.host:this.hostname&&(H=A+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(H+=":"+this.port)),this.query&&a.isObject(this.query)&&Object.keys(this.query).length&&(C=j.stringify(this.query));var T=this.search||C&&"?"+C||"";return _&&_.substr(-1)!==":"&&(_+=":"),this.slashes||(!_||v[_])&&H!==!1?(H="//"+(H||""),M&&M.charAt(0)!=="/"&&(M="/"+M)):H||(H=""),F&&F.charAt(0)!=="#"&&(F="#"+F),T&&T.charAt(0)!=="?"&&(T="?"+T),M=M.replace(/[?#]/g,function(S){return encodeURIComponent(S)}),T=T.replace("#","%23"),_+H+M+T+F};function E(A,_){return y(A,!1,!0).resolve(_)}o.prototype.resolve=function(A){return this.resolveObject(y(A,!1,!0)).format()};function P(A,_){return A?y(A,!1,!0).resolveObject(_):_}o.prototype.resolveObject=function(A){if(a.isString(A)){var _=new o;_.parse(A,!1,!0),A=_}for(var M=new o,F=Object.keys(this),H=0;H<F.length;H++){var C=F[H];M[C]=this[C]}if(M.hash=A.hash,A.href==="")return M.href=M.format(),M;if(A.slashes&&!A.protocol){for(var T=Object.keys(A),S=0;S<T.length;S++){var D=T[S];D!=="protocol"&&(M[D]=A[D])}return v[M.protocol]&&M.hostname&&!M.pathname&&(M.path=M.pathname="/"),M.href=M.format(),M}if(A.protocol&&A.protocol!==M.protocol){if(!v[A.protocol]){for(var w=Object.keys(A),U=0;U<w.length;U++){var V=w[U];M[V]=A[V]}return M.href=M.format(),M}if(M.protocol=A.protocol,!A.host&&!h[A.protocol]){for(var Q=(A.pathname||"").split("/");Q.length&&!(A.host=Q.shift()););A.host||(A.host=""),A.hostname||(A.hostname=""),Q[0]!==""&&Q.unshift(""),Q.length<2&&Q.unshift(""),M.pathname=Q.join("/")}else M.pathname=A.pathname;if(M.search=A.search,M.query=A.query,M.host=A.host||"",M.auth=A.auth,M.hostname=A.hostname||A.host,M.port=A.port,M.pathname||M.search){var K=M.pathname||"",Y=M.search||"";M.path=K+Y}return M.slashes=M.slashes||A.slashes,M.href=M.format(),M}var W=M.pathname&&M.pathname.charAt(0)==="/",R=A.host||A.pathname&&A.pathname.charAt(0)==="/",B=R||W||M.host&&A.pathname,x=B,G=M.pathname&&M.pathname.split("/")||[],Q=A.pathname&&A.pathname.split("/")||[],he=M.protocol&&!v[M.protocol];if(he&&(M.hostname="",M.port=null,M.host&&(G[0]===""?G[0]=M.host:G.unshift(M.host)),M.host="",A.protocol&&(A.hostname=null,A.port=null,A.host&&(Q[0]===""?Q[0]=A.host:Q.unshift(A.host)),A.host=null),B=B&&(Q[0]===""||G[0]==="")),R)M.host=A.host||A.host===""?A.host:M.host,M.hostname=A.hostname||A.hostname===""?A.hostname:M.hostname,M.search=A.search,M.query=A.query,G=Q;else if(Q.length)G||(G=[]),G.pop(),G=G.concat(Q),M.search=A.search,M.query=A.query;else if(!a.isNullOrUndefined(A.search)){if(he){M.hostname=M.host=G.shift();var Z=M.host&&M.host.indexOf("@")>0?M.host.split("@"):!1;Z&&(M.auth=Z.shift(),M.host=M.hostname=Z.shift())}return M.search=A.search,M.query=A.query,(!a.isNull(M.pathname)||!a.isNull(M.search))&&(M.path=(M.pathname?M.pathname:"")+(M.search?M.search:"")),M.href=M.format(),M}if(!G.length)return M.pathname=null,M.search?M.path="/"+M.search:M.path=null,M.href=M.format(),M;for(var le=G.slice(-1)[0],de=(M.host||A.host||G.length>1)&&(le==="."||le==="..")||le==="",be=0,X=G.length;X>=0;X--)le=G[X],le==="."?G.splice(X,1):le===".."?(G.splice(X,1),be++):be&&(G.splice(X,1),be--);if(!B&&!x)for(;be--;be)G.unshift("..");B&&G[0]!==""&&(!G[0]||G[0].charAt(0)!=="/")&&G.unshift(""),de&&G.join("/").substr(-1)!=="/"&&G.push("");var ie=G[0]===""||G[0]&&G[0].charAt(0)==="/";if(he){M.hostname=M.host=ie?"":G.length?G.shift():"";var Z=M.host&&M.host.indexOf("@")>0?M.host.split("@"):!1;Z&&(M.auth=Z.shift(),M.host=M.hostname=Z.shift())}return B=B||M.host&&G.length,B&&!ie&&G.unshift(""),G.length?M.pathname=G.join("/"):(M.pathname=null,M.path=null),(!a.isNull(M.pathname)||!a.isNull(M.search))&&(M.path=(M.pathname?M.pathname:"")+(M.search?M.search:"")),M.auth=A.auth||M.auth,M.slashes=M.slashes||A.slashes,M.href=M.format(),M},o.prototype.parseHost=function(){var A=this.host,_=d.exec(A);_&&(_=_[0],_!==":"&&(this.port=_.substr(1)),A=A.substr(0,A.length-_.length)),A&&(this.hostname=A)}},function(k,n,t){"use strict";let e=t(394);class a extends e{constructor(l){super(l);this.type="comment"}}k.exports=a,a.default=a},function(k,n){n.L={bit:1},n.M={bit:0},n.Q={bit:3},n.H={bit:2};function t(e){if(typeof e!="string")throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return n.L;case"m":case"medium":return n.M;case"q":case"quartile":return n.Q;case"h":case"high":return n.H;default:throw new Error("Unknown EC Level: "+e)}}n.isValid=function(a){return a&&typeof a.bit!="undefined"&&a.bit>=0&&a.bit<4},n.from=function(a,o){if(n.isValid(a))return a;try{return t(a)}catch(l){return o}}},function(k,n,t){"use strict";t.d(n,"a",function(){return i}),t.d(n,"b",function(){return j}),t.d(n,"c",function(){return r}),t.d(n,"d",function(){return O});var e=t(46),a=t(20),o=t(27);const l=["ol",0],d=["ul",0],c=["li",0],u={attrs:{order:{default:1}},parseDOM:[{tag:"ol",getAttrs(y){return{order:y.hasAttribute("start")?+y.getAttribute("start"):1}}}],toDOM(y){return y.attrs.order==1?l:["ol",{start:y.attrs.order},0]}},f={parseDOM:[{tag:"ul"}],toDOM(){return d}},m={parseDOM:[{tag:"li"}],toDOM(){return c},defining:!0};function p(y,b){let E={};for(let P in y)E[P]=y[P];for(let P in b)E[P]=b[P];return E}function g(y,b,E){return y.append({ordered_list:p(u,{content:"list_item+",group:E}),bullet_list:p(f,{content:"list_item+",group:E}),list_item:p(m,{content:b})})}function O(y,b=null){return function(E,P){let{$from:A,$to:_}=E.selection,M=A.blockRange(_),F=!1,H=M;if(!M)return!1;if(M.depth>=2&&A.node(M.depth-1).type.compatibleContent(y)&&M.startIndex==0){if(A.index(M.depth-1)==0)return!1;let T=E.doc.resolve(M.start-2);H=new a.NodeRange(T,T,M.depth),M.endIndex<M.parent.childCount&&(M=new a.NodeRange(A,E.doc.resolve(_.end(M.depth)),M.depth)),F=!0}let C=Object(e.findWrapping)(H,y,b,M);return C?(P&&P(s(E.tr,M,C,F,y).scrollIntoView()),!0):!1}}function s(y,b,E,P,A){let _=a.Fragment.empty;for(let T=E.length-1;T>=0;T--)_=a.Fragment.from(E[T].type.create(E[T].attrs,_));y.step(new e.ReplaceAroundStep(b.start-(P?2:0),b.end,b.start,b.end,new a.Slice(_,0,0),E.length,!0));let M=0;for(let T=0;T<E.length;T++)E[T].type==A&&(M=T+1);let F=E.length-M,H=b.start+E.length-(P?2:0),C=b.parent;for(let T=b.startIndex,S=b.endIndex,D=!0;T<S;T++,D=!1)!D&&Object(e.canSplit)(y.doc,H,F)&&(y.split(H,F),H+=2*F),H+=C.child(T).nodeSize;return y}function r(y){return function(b,E){let{$from:P,$to:A,node:_}=b.selection;if(_&&_.isBlock||P.depth<2||!P.sameParent(A))return!1;let M=P.node(-1);if(M.type!=y)return!1;if(P.parent.content.size==0&&P.node(-1).childCount==P.indexAfter(-1)){if(P.depth==3||P.node(-3).type!=y||P.index(-2)!=P.node(-2).childCount-1)return!1;if(E){let T=a.Fragment.empty,S=P.index(-1)?1:P.index(-2)?2:3;for(let K=P.depth-S;K>=P.depth-3;K--)T=a.Fragment.from(P.node(K).copy(T));let D=P.indexAfter(-1)<P.node(-2).childCount?1:P.indexAfter(-2)<P.node(-3).childCount?2:3;T=T.append(a.Fragment.from(y.createAndFill()));let w=P.before(P.depth-(S-1)),U=b.tr.replace(w,P.after(-D),new a.Slice(T,4-S,0)),V=-1;U.doc.nodesBetween(w,U.doc.content.size,(K,Y)=>{if(V>-1)return!1;K.isTextblock&&K.content.size==0&&(V=Y+1)}),V>-1&&U.setSelection(o.Selection.near(U.doc.resolve(V))),E(U.scrollIntoView())}return!0}let F=A.pos==P.end()?M.contentMatchAt(0).defaultType:null,H=b.tr.delete(P.pos,A.pos),C=F?[null,{type:F}]:void 0;return Object(e.canSplit)(H.doc,P.pos,2,C)?(E&&E(H.split(P.pos,2,C).scrollIntoView()),!0):!1}}function i(y){return function(b,E){let{$from:P,$to:A}=b.selection,_=P.blockRange(A,M=>M.childCount>0&&M.firstChild.type==y);return _?E?P.node(_.depth-1).type==y?h(b,E,y,_):v(b,E,_):!0:!1}}function h(y,b,E,P){let A=y.tr,_=P.end,M=P.$to.end(P.depth);_<M&&(A.step(new e.ReplaceAroundStep(_-1,M,_,M,new a.Slice(a.Fragment.from(E.create(null,P.parent.copy())),1,0),1,!0)),P=new a.NodeRange(A.doc.resolve(P.$from.pos),A.doc.resolve(M),P.depth));const F=Object(e.liftTarget)(P);if(F==null)return!1;A.lift(P,F);let H=A.mapping.map(_,-1)-1;return Object(e.canJoin)(A.doc,H)&&A.join(H),b(A.scrollIntoView()),!0}function v(y,b,E){let P=y.tr,A=E.parent;for(let w=E.end,U=E.endIndex-1,V=E.startIndex;U>V;U--)w-=A.child(U).nodeSize,P.delete(w-1,w+1);let _=P.doc.resolve(E.start),M=_.nodeAfter;if(P.mapping.map(E.end)!=E.start+_.nodeAfter.nodeSize)return!1;let F=E.startIndex==0,H=E.endIndex==A.childCount,C=_.node(-1),T=_.index(-1);if(!C.canReplace(T+(F?0:1),T+1,M.content.append(H?a.Fragment.empty:a.Fragment.from(A))))return!1;let S=_.pos,D=S+M.nodeSize;return P.step(new e.ReplaceAroundStep(S-(F?1:0),D+(H?1:0),S+1,D-1,new a.Slice((F?a.Fragment.empty:a.Fragment.from(A.copy(a.Fragment.empty))).append(H?a.Fragment.empty:a.Fragment.from(A.copy(a.Fragment.empty))),F?0:1,H?0:1),F?0:1)),b(P.scrollIntoView()),!0}function j(y){return function(b,E){let{$from:P,$to:A}=b.selection,_=P.blockRange(A,C=>C.childCount>0&&C.firstChild.type==y);if(!_)return!1;let M=_.startIndex;if(M==0)return!1;let F=_.parent,H=F.child(M-1);if(H.type!=y)return!1;if(E){let C=H.lastChild&&H.lastChild.type==F.type,T=a.Fragment.from(C?y.create():null),S=new a.Slice(a.Fragment.from(y.create(null,a.Fragment.from(F.type.create(null,T)))),C?3:1,0),D=_.start,w=_.end;E(b.tr.step(new e.ReplaceAroundStep(D-(C?3:1),w,D,w,S,1,!0)).scrollIntoView())}return!0}}},function(k,n,t){"use strict";t.r(n),t.d(n,"Blockquote",function(){return o}),t.d(n,"default",function(){return o}),t.d(n,"inputRegex",function(){return a});var e=t(22);const a=/^\s*>\s$/,o=e.Node.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:l}){return["blockquote",Object(e.mergeAttributes)(this.options.HTMLAttributes,l),0]},addCommands(){return{setBlockquote:()=>({commands:l})=>l.wrapIn(this.name),toggleBlockquote:()=>({commands:l})=>l.toggleWrap(this.name),unsetBlockquote:()=>({commands:l})=>l.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Object(e.wrappingInputRule)({find:a,type:this.type})]}})},function(k,n,t){"use strict";t.d(n,"a",function(){return a}),t.d(n,"b",function(){return a});var e=t(22);const a=e.Node.create({name:"doc",topNode:!0,content:"block+"})},function(k,n,t){"use strict";t.d(n,"a",function(){return a}),t.d(n,"b",function(){return a});var e=t(22);const a=e.Node.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:o}){return["p",Object(e.mergeAttributes)(this.options.HTMLAttributes,o),0]},addCommands(){return{setParagraph:()=>({commands:o})=>o.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}})},function(k,n,t){"use strict";t.d(n,"a",function(){return a}),t.d(n,"b",function(){return a});var e=t(22);const a=e.Node.create({name:"text",group:"inline"})},function(k,n,t){"use strict";t.d(n,"a",function(){return c}),t.d(n,"b",function(){return c});var e=t(22);const a=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,o=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,l=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,d=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,c=e.Mark.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:u=>u.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:u=>/^(bold(er)?|[5-9]\d{2,})$/.test(u)&&null}]},renderHTML({HTMLAttributes:u}){return["strong",Object(e.mergeAttributes)(this.options.HTMLAttributes,u),0]},addCommands(){return{setBold:()=>({commands:u})=>u.setMark(this.name),toggleBold:()=>({commands:u})=>u.toggleMark(this.name),unsetBold:()=>({commands:u})=>u.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Object(e.markInputRule)({find:a,type:this.type}),Object(e.markInputRule)({find:l,type:this.type})]},addPasteRules(){return[Object(e.markPasteRule)({find:o,type:this.type}),Object(e.markPasteRule)({find:d,type:this.type})]}})},function(k,n,t){"use strict";t.d(n,"a",function(){return d}),t.d(n,"b",function(){return d});var e=t(22);const a=e.Node.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:c}){return["li",Object(e.mergeAttributes)(this.options.HTMLAttributes,c),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),o=e.Mark.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:c=>c.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:c}){return["span",Object(e.mergeAttributes)(this.options.HTMLAttributes,c),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:c,commands:u})=>{const f=Object(e.getMarkAttributes)(c,this.type);return Object.entries(f).some(([,p])=>!!p)?!0:u.unsetMark(this.name)}}}}),l=/^\s*([-+*])\s$/,d=e.Node.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:c}){return["ul",Object(e.mergeAttributes)(this.options.HTMLAttributes,c),0]},addCommands(){return{toggleBulletList:()=>({commands:c,chain:u})=>this.options.keepAttributes?u().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(a.name,this.editor.getAttributes(o.name)).run():c.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let c=Object(e.wrappingInputRule)({find:l,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(c=Object(e.wrappingInputRule)({find:l,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(o.name),editor:this.editor})),[c]}})},function(k,n,t){"use strict";t.d(n,"a",function(){return c}),t.d(n,"b",function(){return c});var e=t(22);const a=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,o=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,l=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,d=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,c=e.Mark.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:u=>u.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:u}){return["em",Object(e.mergeAttributes)(this.options.HTMLAttributes,u),0]},addCommands(){return{setItalic:()=>({commands:u})=>u.setMark(this.name),toggleItalic:()=>({commands:u})=>u.toggleMark(this.name),unsetItalic:()=>({commands:u})=>u.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Object(e.markInputRule)({find:a,type:this.type}),Object(e.markInputRule)({find:l,type:this.type})]},addPasteRules(){return[Object(e.markPasteRule)({find:o,type:this.type}),Object(e.markPasteRule)({find:d,type:this.type})]}})},function(k,n,t){"use strict";t.d(n,"a",function(){return d}),t.d(n,"b",function(){return d});var e=t(22);const a=e.Node.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:c}){return["li",Object(e.mergeAttributes)(this.options.HTMLAttributes,c),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),o=e.Mark.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:c=>c.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:c}){return["span",Object(e.mergeAttributes)(this.options.HTMLAttributes,c),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:c,commands:u})=>{const f=Object(e.getMarkAttributes)(c,this.type);return Object.entries(f).some(([,p])=>!!p)?!0:u.unsetMark(this.name)}}}}),l=/^(\d+)\.\s$/,d=e.Node.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:c=>c.hasAttribute("start")?parseInt(c.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:c}){const m=c,{start:u}=m,f=Ji(m,["start"]);return u===1?["ol",Object(e.mergeAttributes)(this.options.HTMLAttributes,f),0]:["ol",Object(e.mergeAttributes)(this.options.HTMLAttributes,c),0]},addCommands(){return{toggleOrderedList:()=>({commands:c,chain:u})=>this.options.keepAttributes?u().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(a.name,this.editor.getAttributes(o.name)).run():c.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let c=Object(e.wrappingInputRule)({find:l,type:this.type,getAttributes:u=>({start:+u[1]}),joinPredicate:(u,f)=>f.childCount+f.attrs.start===+u[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(c=Object(e.wrappingInputRule)({find:l,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:u=>pr({start:+u[1]},this.editor.getAttributes(o.name)),joinPredicate:(u,f)=>f.childCount+f.attrs.start===+u[1],editor:this.editor})),[c]}})},function(k,n,t){const e=t(1003),a=t(1004),o=t(1022),l=t(1023);function d(c,u,f,m,p){const g=[].slice.call(arguments,1),O=g.length,s=typeof g[O-1]=="function";if(!s&&!e())throw new Error("Callback required as last argument");if(s){if(O<2)throw new Error("Too few arguments provided");O===2?(p=f,f=u,u=m=void 0):O===3&&(u.getContext&&typeof p=="undefined"?(p=m,m=void 0):(p=m,m=f,f=u,u=void 0))}else{if(O<1)throw new Error("Too few arguments provided");return O===1?(f=u,u=m=void 0):O===2&&!u.getContext&&(m=f,f=u,u=void 0),new Promise(function(r,i){try{const h=a.create(f,m);r(c(h,u,m))}catch(h){i(h)}})}try{const r=a.create(f,m);p(null,c(r,u,m))}catch(r){p(r)}}n.create=a.create,n.toCanvas=d.bind(null,o.render),n.toDataURL=d.bind(null,o.renderToDataURL),n.toString=d.bind(null,function(c,u,f){return l.render(c,f)})},function(k,n,t){"use strict";t.d(n,"a",function(){return e});function e(a){return Array.from(a.items).filter(o=>o.kind==="file"&&o.type.startsWith("image/")).length>0}},function(k,n,t){/*!
 * mux-embed
 * @version 4.25.0
 * @copyright 2023 Mux, Inc
 */(function(){var e,a;e=this,a=function(){return function(){var o={80:function(c,u,f){c.exports=f(728).default},728:function(c,u,f){"use strict";f.d(u,{default:function(){return br}});var m=f(48),p=f.n(m),g=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(et){var Ge=16*Math.random()|0;return(et==="x"?Ge:3&Ge|8).toString(16)})},O=function(){return("000000"+(Math.random()*Math.pow(36,6)<<0).toString(36)).slice(-6)},s=function(et){return et&&et.nodeName!==void 0?(et.muxId||(et.muxId=et.id||O()),et.muxId):et},r=function(et){var Ge;et&&et.nodeName!==void 0?et=s(Ge=et):Ge=document.querySelector(et);var tt=Ge&&Ge.nodeName?Ge.nodeName.toLowerCase():"";return[Ge,et,tt]},i=f(640),h=f.n(i),v=h().methodFactory;h().methodFactory=function(et,Ge,tt){var Pt=v(et,Ge,tt);return function(){for(var gt=["[mux]"],me=0;me<arguments.length;me++)gt.push(arguments[me]);Pt.apply(void 0,gt)}},h().setLevel(h().getLevel());var j=h();function y(){return(p().doNotTrack||p().navigator&&p().navigator.doNotTrack)==="1"}var b={now:function(){var et=p().performance,Ge=et&&et.timing,tt=Ge&&Ge.navigationStart,Pt=typeof tt=="number"&&typeof et.now=="function"?tt+et.now():Date.now();return Math.round(Pt)}},E=function(et){return P(et)[0]},P=function(et){if(typeof et!="string"||et==="")return["localhost"];var Ge,tt=(et.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/)||[])[4];return tt&&(Ge=(tt.match(/[^\.]+\.[^\.]+$/)||[])[0]),[tt,Ge]},A={exists:function(){var et=p().performance;return(et&&et.timing)!==void 0},domContentLoadedEventEnd:function(){var et=p().performance,Ge=et&&et.timing;return Ge&&Ge.domContentLoadedEventEnd},navigationStart:function(){var et=p().performance,Ge=et&&et.timing;return Ge&&Ge.navigationStart}};function _(et,Ge,tt){tt=tt===void 0?1:tt,et[Ge]=et[Ge]||0,et[Ge]+=tt}var M=["x-request-id","cf-ray","x-amz-cf-id","x-akamai-request-id"],F=["x-cdn","content-type"].concat(M);function H(et){var Ge={};return(et=et||"").trim().split(/[\r\n]+/).forEach(function(tt){if(tt){var Pt=tt.split(": "),gt=Pt.shift();gt&&(F.indexOf(gt.toLowerCase())>=0||gt.toLowerCase().indexOf("x-litix-")===0)&&(Ge[gt]=Pt.join(": "))}}),Ge}function C(et){if(et){var Ge=M.find(function(tt){return et[tt]!==void 0});return Ge?et[Ge]:void 0}}var T=function(et){var Ge={};for(var tt in et){var Pt=et[tt];Pt["DATA-ID"].search("io.litix.data.")!==-1&&(Ge[Pt["DATA-ID"].replace("io.litix.data.","")]=Pt.VALUE)}return Ge};function S(et,Ge){var tt=Object.keys(et);if(Object.getOwnPropertySymbols){var Pt=Object.getOwnPropertySymbols(et);Ge&&(Pt=Pt.filter(function(gt){return Object.getOwnPropertyDescriptor(et,gt).enumerable})),tt.push.apply(tt,Pt)}return tt}function D(et){for(var Ge=1;Ge<arguments.length;Ge++){var tt=arguments[Ge]!=null?arguments[Ge]:{};Ge%2?S(Object(tt),!0).forEach(function(Pt){w(et,Pt,tt[Pt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(tt)):S(Object(tt)).forEach(function(Pt){Object.defineProperty(et,Pt,Object.getOwnPropertyDescriptor(tt,Pt))})}return et}function w(et,Ge,tt){return Ge in et?Object.defineProperty(et,Ge,{value:tt,enumerable:!0,configurable:!0,writable:!0}):et[Ge]=tt,et}var U=function(et){if(!et)return{};var Ge=A.navigationStart(),tt=et.loading,Pt=tt?tt.start:et.trequest,gt=tt?tt.first:et.tfirst,me=tt?tt.end:et.tload;return{bytesLoaded:et.total,requestStart:Math.round(Ge+Pt),responseStart:Math.round(Ge+gt),responseEnd:Math.round(Ge+me)}},V=function(et){if(et&&typeof et.getAllResponseHeaders=="function")return H(et.getAllResponseHeaders())};function K(et,Ge){var tt=Object.keys(et);if(Object.getOwnPropertySymbols){var Pt=Object.getOwnPropertySymbols(et);Ge&&(Pt=Pt.filter(function(gt){return Object.getOwnPropertyDescriptor(et,gt).enumerable})),tt.push.apply(tt,Pt)}return tt}function Y(et){for(var Ge=1;Ge<arguments.length;Ge++){var tt=arguments[Ge]!=null?arguments[Ge]:{};Ge%2?K(Object(tt),!0).forEach(function(Pt){W(et,Pt,tt[Pt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(tt)):K(Object(tt)).forEach(function(Pt){Object.defineProperty(et,Pt,Object.getOwnPropertyDescriptor(tt,Pt))})}return et}function W(et,Ge,tt){return Ge in et?Object.defineProperty(et,Ge,{value:tt,enumerable:!0,configurable:!0,writable:!0}):et[Ge]=tt,et}var R=function(et,Ge){if(!et||typeof et.getRequests!="function")return{};var tt=et.getRequests({state:"executed"});if(tt.length===0)return{};var Pt,gt=tt[tt.length-1],me=E(gt.url),fe=gt.url,Ee=gt.bytesLoaded,Ue=new Date(gt.requestStartDate).getTime(),Ye=new Date(gt.firstByteDate).getTime(),ct=new Date(gt.requestEndDate).getTime(),Yt=isNaN(gt.duration)?0:gt.duration,Qt=typeof Ge.getMetricsFor=="function"?Ge.getMetricsFor(gt.mediaType).HttpList:Ge.getDashMetrics().getHttpRequests(gt.mediaType);return Qt.length>0&&(Pt=H(Qt[Qt.length-1]._responseHeaders||"")),{requestStart:Ue,requestResponseStart:Ye,requestResponseEnd:ct,requestBytesLoaded:Ee,requestResponseHeaders:Pt,requestMediaDuration:Yt,requestHostname:me,requestUrl:fe,requestId:Pt?C(Pt):void 0}},B=function(et,Ge){var tt=Ge.getQualityFor(et),Pt=Ge.getCurrentTrackFor(et).bitrateList;return Pt?{currentLevel:tt,renditionWidth:Pt[tt].width||null,renditionHeight:Pt[tt].height||null,renditionBitrate:Pt[tt].bandwidth}:{}},x=function(et){var Ge;return(Ge=et.match(/.*codecs\*?="(.*)"/))===null||Ge===void 0?void 0:Ge[1]};function G(et,Ge){for(var tt=0;tt<Ge.length;tt++){var Pt=Ge[tt];Pt.enumerable=Pt.enumerable||!1,Pt.configurable=!0,"value"in Pt&&(Pt.writable=!0),Object.defineProperty(et,Pt.key,Pt)}}var Q=0,he=function(){function et(){(function(gt,me){if(!(gt instanceof me))throw new TypeError("Cannot call a class as a function")})(this,et)}var Ge,tt,Pt;return Ge=et,tt=[{key:"on",value:function(gt,me,fe){return me._eventEmitterGuid=me._eventEmitterGuid||++Q,this._listeners=this._listeners||{},this._listeners[gt]=this._listeners[gt]||[],fe&&(me=me.bind(fe)),this._listeners[gt].push(me),me}},{key:"off",value:function(gt,me){var fe=this._listeners&&this._listeners[gt];fe&&fe.forEach(function(Ee,Ue){Ee._eventEmitterGuid===me._eventEmitterGuid&&fe.splice(Ue,1)})}},{key:"one",value:function(gt,me,fe){var Ee=this;me._eventEmitterGuid=me._eventEmitterGuid||++Q;var Ue=function Ye(){Ee.off(gt,Ye),me.apply(fe||this,arguments)};Ue._eventEmitterGuid=me._eventEmitterGuid,this.on(gt,Ue)}},{key:"emit",value:function(gt,me){var fe=this;if(this._listeners){me=me||{};var Ee=this._listeners["before*"]||[],Ue=this._listeners[gt]||[],Ye=this._listeners["after"+gt]||[],ct=function(Yt,Qt){(Yt=Yt.slice()).forEach(function(En){En.call(fe,{type:gt},Qt)})};ct(Ee,me),ct(Ue,me),ct(Ye,me)}}}],tt&&G(Ge.prototype,tt),Pt&&G(Ge,Pt),Object.defineProperty(Ge,"prototype",{writable:!1}),et}(),Z=he;function le(et,Ge){for(var tt=0;tt<Ge.length;tt++){var Pt=Ge[tt];Pt.enumerable=Pt.enumerable||!1,Pt.configurable=!0,"value"in Pt&&(Pt.writable=!0),Object.defineProperty(et,Pt.key,Pt)}}var de=function(){function et(gt){var me=this;(function(fe,Ee){if(!(fe instanceof Ee))throw new TypeError("Cannot call a class as a function")})(this,et),this.pm=gt,this._playbackHeartbeatInterval=null,this._playheadShouldBeProgressing=!1,gt.on("playing",function(){me._playheadShouldBeProgressing=!0}),gt.on("play",this._startPlaybackHeartbeatInterval.bind(this)),gt.on("playing",this._startPlaybackHeartbeatInterval.bind(this)),gt.on("adbreakstart",this._startPlaybackHeartbeatInterval.bind(this)),gt.on("adplay",this._startPlaybackHeartbeatInterval.bind(this)),gt.on("adplaying",this._startPlaybackHeartbeatInterval.bind(this)),gt.on("seeking",this._startPlaybackHeartbeatInterval.bind(this)),gt.on("devicewake",this._startPlaybackHeartbeatInterval.bind(this)),gt.on("viewstart",this._startPlaybackHeartbeatInterval.bind(this)),gt.on("rebufferstart",this._startPlaybackHeartbeatInterval.bind(this)),gt.on("pause",this._stopPlaybackHeartbeatInterval.bind(this)),gt.on("ended",this._stopPlaybackHeartbeatInterval.bind(this)),gt.on("viewend",this._stopPlaybackHeartbeatInterval.bind(this)),gt.on("error",this._stopPlaybackHeartbeatInterval.bind(this)),gt.on("aderror",this._stopPlaybackHeartbeatInterval.bind(this)),gt.on("adpause",this._stopPlaybackHeartbeatInterval.bind(this)),gt.on("adended",this._stopPlaybackHeartbeatInterval.bind(this)),gt.on("adbreakend",this._stopPlaybackHeartbeatInterval.bind(this)),gt.on("seeked",function(){gt.data.player_is_paused?me._stopPlaybackHeartbeatInterval():me._startPlaybackHeartbeatInterval()}),gt.on("timeupdate",function(){me._playbackHeartbeatInterval!==null&&gt.emit("playbackheartbeat")}),gt.on("devicesleep",function(fe,Ee){me._playbackHeartbeatInterval!==null&&(p().clearInterval(me._playbackHeartbeatInterval),gt.emit("playbackheartbeatend",{viewer_time:Ee.viewer_time}),me._playbackHeartbeatInterval=null)})}var Ge,tt,Pt;return Ge=et,(tt=[{key:"_startPlaybackHeartbeatInterval",value:function(){var gt=this;this._playbackHeartbeatInterval===null&&(this.pm.emit("playbackheartbeat"),this._playbackHeartbeatInterval=p().setInterval(function(){gt.pm.emit("playbackheartbeat")},this.pm.playbackHeartbeatTime))}},{key:"_stopPlaybackHeartbeatInterval",value:function(){this._playheadShouldBeProgressing=!1,this._playbackHeartbeatInterval!==null&&(p().clearInterval(this._playbackHeartbeatInterval),this.pm.emit("playbackheartbeatend"),this._playbackHeartbeatInterval=null)}}])&&le(Ge.prototype,tt),Pt&&le(Ge,Pt),Object.defineProperty(Ge,"prototype",{writable:!1}),et}();function be(et,Ge){for(var tt=0;tt<Ge.length;tt++){var Pt=Ge[tt];Pt.enumerable=Pt.enumerable||!1,Pt.configurable=!0,"value"in Pt&&(Pt.writable=!0),Object.defineProperty(et,Pt.key,Pt)}}function X(et,Ge,tt){return Ge&&be(et.prototype,Ge),tt&&be(et,tt),Object.defineProperty(et,"prototype",{writable:!1}),et}var ie=X(function et(Ge){var tt=this;(function(Pt,gt){if(!(Pt instanceof gt))throw new TypeError("Cannot call a class as a function")})(this,et),Ge.on("viewinit",function(){tt.viewErrored=!1}),Ge.on("error",function(Pt,gt){try{var me=Ge.errorTranslator({player_error_code:gt.player_error_code,player_error_message:gt.player_error_message,player_error_context:gt.player_error_context});me?(Ge.data.player_error_code=me.player_error_code||gt.player_error_code,Ge.data.player_error_message=me.player_error_message||gt.player_error_message,Ge.data.player_error_context=me.player_error_context||gt.player_error_context,tt.viewErrored=!0):(delete Ge.data.player_error_code,delete Ge.data.player_error_message,delete Ge.data.player_error_context)}catch(fe){Ge.mux.log.warn("Exception in error translator callback.",fe),tt.viewErrored=!0}})});function Ce(et,Ge){for(var tt=0;tt<Ge.length;tt++){var Pt=Ge[tt];Pt.enumerable=Pt.enumerable||!1,Pt.configurable=!0,"value"in Pt&&(Pt.writable=!0),Object.defineProperty(et,Pt.key,Pt)}}var Le=function(){function et(gt){(function(me,fe){if(!(me instanceof fe))throw new TypeError("Cannot call a class as a function")})(this,et),this.pm=gt,this._watchTimeTrackerLastCheckedTime=null,gt.on("playbackheartbeat",this._updateWatchTime.bind(this)),gt.on("playbackheartbeatend",this._clearWatchTimeState.bind(this))}var Ge,tt,Pt;return Ge=et,(tt=[{key:"_updateWatchTime",value:function(gt,me){var fe=me.viewer_time;this._watchTimeTrackerLastCheckedTime===null&&(this._watchTimeTrackerLastCheckedTime=fe),_(this.pm.data,"view_watch_time",fe-this._watchTimeTrackerLastCheckedTime),this._watchTimeTrackerLastCheckedTime=fe}},{key:"_clearWatchTimeState",value:function(gt,me){this._updateWatchTime(gt,me),this._watchTimeTrackerLastCheckedTime=null}}])&&Ce(Ge.prototype,tt),Pt&&Ce(Ge,Pt),Object.defineProperty(Ge,"prototype",{writable:!1}),et}();function Ae(et,Ge){for(var tt=0;tt<Ge.length;tt++){var Pt=Ge[tt];Pt.enumerable=Pt.enumerable||!1,Pt.configurable=!0,"value"in Pt&&(Pt.writable=!0),Object.defineProperty(et,Pt.key,Pt)}}var Pe=function(){function et(gt){var me=this;(function(fe,Ee){if(!(fe instanceof Ee))throw new TypeError("Cannot call a class as a function")})(this,et),this.pm=gt,this._playbackTimeTrackerLastPlayheadPosition=-1,this._lastTime=b.now(),this._isAdPlaying=!1,gt.on("playbackheartbeat",this._updatePlaybackTime.bind(this)),gt.on("playbackheartbeatend",this._clearPlaybackTimeState.bind(this)),gt.on("seeking",this._clearPlaybackTimeState.bind(this)),gt.on("adplaying",function(){me._isAdPlaying=!0}),gt.on("adended",function(){me._isAdPlaying=!1}),gt.on("adpause",function(){me._isAdPlaying=!1}),gt.on("adbreakstart",function(){me._isAdPlaying=!1}),gt.on("adbreakend",function(){me._isAdPlaying=!1}),gt.on("adplay",function(){me._isAdPlaying=!1})}var Ge,tt,Pt;return Ge=et,(tt=[{key:"_updatePlaybackTime",value:function(){var gt=this.pm.data.player_playhead_time,me=b.now(),fe=-1;this._playbackTimeTrackerLastPlayheadPosition>=0&&gt>this._playbackTimeTrackerLastPlayheadPosition?fe=gt-this._playbackTimeTrackerLastPlayheadPosition:this._isAdPlaying&&(fe=me-this._lastTime),fe>0&&fe<=1e3&&_(this.pm.data,"view_content_playback_time",fe),this._playbackTimeTrackerLastPlayheadPosition=gt,this._lastTime=me}},{key:"_clearPlaybackTimeState",value:function(){this._updatePlaybackTime(),this._playbackTimeTrackerLastPlayheadPosition=-1}}])&&Ae(Ge.prototype,tt),Pt&&Ae(Ge,Pt),Object.defineProperty(Ge,"prototype",{writable:!1}),et}();function Ne(et,Ge){for(var tt=0;tt<Ge.length;tt++){var Pt=Ge[tt];Pt.enumerable=Pt.enumerable||!1,Pt.configurable=!0,"value"in Pt&&(Pt.writable=!0),Object.defineProperty(et,Pt.key,Pt)}}var ce=function(){function et(gt){(function(fe,Ee){if(!(fe instanceof Ee))throw new TypeError("Cannot call a class as a function")})(this,et),this.pm=gt;var me=this._updatePlayheadTime.bind(this);gt.on("playbackheartbeat",me),gt.on("playbackheartbeatend",me),gt.on("timeupdate",me),gt.on("destroy",function(){gt.off("timeupdate",me)})}var Ge,tt,Pt;return Ge=et,(tt=[{key:"_updateMaxPlayheadPosition",value:function(){this.pm.data.view_max_playhead_position=this.pm.data.view_max_playhead_position===void 0?this.pm.data.player_playhead_time:Math.max(this.pm.data.view_max_playhead_position,this.pm.data.player_playhead_time)}},{key:"_updatePlayheadTime",value:function(gt,me){var fe=this,Ee=function(){fe.pm.currentFragmentPDT&&fe.pm.currentFragmentStart&&(fe.pm.data.player_program_time=fe.pm.currentFragmentPDT+fe.pm.data.player_playhead_time-fe.pm.currentFragmentStart)};if(me&&me.player_playhead_time)this.pm.data.player_playhead_time=me.player_playhead_time,Ee(),this._updateMaxPlayheadPosition();else if(this.pm.getPlayheadTime){var Ue=this.pm.getPlayheadTime();Ue!==void 0&&(this.pm.data.player_playhead_time=Ue,Ee(),this._updateMaxPlayheadPosition())}}}])&&Ne(Ge.prototype,tt),Pt&&Ne(Ge,Pt),Object.defineProperty(Ge,"prototype",{writable:!1}),et}();function q(et,Ge){for(var tt=0;tt<Ge.length;tt++){var Pt=Ge[tt];Pt.enumerable=Pt.enumerable||!1,Pt.configurable=!0,"value"in Pt&&(Pt.writable=!0),Object.defineProperty(et,Pt.key,Pt)}}function te(et,Ge,tt){return Ge&&q(et.prototype,Ge),tt&&q(et,tt),Object.defineProperty(et,"prototype",{writable:!1}),et}var ue=3e5,We=te(function et(Ge){if(function(me,fe){if(!(me instanceof fe))throw new TypeError("Cannot call a class as a function")}(this,et),!Ge.disableRebufferTracking){var tt,Pt=function(me,fe){gt(fe),tt=void 0},gt=function(me){if(tt){var fe=me.viewer_time-tt;_(Ge.data,"view_rebuffer_duration",fe),tt=me.viewer_time,Ge.data.view_rebuffer_duration>ue&&(Ge.emit("viewend"),Ge.send("viewend"),Ge.mux.log.warn("Ending view after rebuffering for longer than ".concat(ue,"ms, future events will be ignored unless a programchange or videochange occurs.")))}Ge.data.view_watch_time>=0&&Ge.data.view_rebuffer_count>0&&(Ge.data.view_rebuffer_frequency=Ge.data.view_rebuffer_count/Ge.data.view_watch_time,Ge.data.view_rebuffer_percentage=Ge.data.view_rebuffer_duration/Ge.data.view_watch_time)};Ge.on("playbackheartbeat",function(me,fe){return gt(fe)}),Ge.on("rebufferstart",function(me,fe){tt||(_(Ge.data,"view_rebuffer_count",1),tt=fe.viewer_time,Ge.one("rebufferend",Pt))}),Ge.on("viewinit",function(){tt=void 0,Ge.off("rebufferend",Pt)})}});function ot(et,Ge){for(var tt=0;tt<Ge.length;tt++){var Pt=Ge[tt];Pt.enumerable=Pt.enumerable||!1,Pt.configurable=!0,"value"in Pt&&(Pt.writable=!0),Object.defineProperty(et,Pt.key,Pt)}}var ze=function(){function et(gt){var me=this;(function(fe,Ee){if(!(fe instanceof Ee))throw new TypeError("Cannot call a class as a function")})(this,et),this.pm=gt,gt.disableRebufferTracking||gt.disablePlayheadRebufferTracking||(this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null,gt.on("playbackheartbeat",this._checkIfRebuffering.bind(this)),gt.on("playbackheartbeatend",this._cleanupRebufferTracker.bind(this)),gt.on("seeking",function(){me._cleanupRebufferTracker(null,{viewer_time:b.now()})}))}var Ge,tt,Pt;return Ge=et,tt=[{key:"_checkIfRebuffering",value:function(gt,me){if(this.pm.seekingTracker.isSeeking||this.pm.adTracker.isAdBreak||!this.pm.playbackHeartbeat._playheadShouldBeProgressing)this._cleanupRebufferTracker(gt,me);else if(this._lastCheckedTime!==null)if(this._lastPlayheadTime===this.pm.data.player_playhead_time){var fe=me.viewer_time-this._lastPlayheadTimeUpdatedTime;typeof this.pm.sustainedRebufferThreshold=="number"&&fe>=this.pm.sustainedRebufferThreshold&&(this._rebuffering||(this._rebuffering=!0,this.pm.emit("rebufferstart",{viewer_time:this._lastPlayheadTimeUpdatedTime}))),this._lastCheckedTime=me.viewer_time}else this._cleanupRebufferTracker(gt,me,!0);else this._prepareRebufferTrackerState(me.viewer_time)}},{key:"_clearRebufferTrackerState",value:function(){this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null}},{key:"_prepareRebufferTrackerState",value:function(gt){this._lastCheckedTime=gt,this._lastPlayheadTime=this.pm.data.player_playhead_time,this._lastPlayheadTimeUpdatedTime=gt}},{key:"_cleanupRebufferTracker",value:function(gt,me){var fe=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(this._rebuffering)this._rebuffering=!1,this.pm.emit("rebufferend",{viewer_time:me.viewer_time});else{if(this._lastCheckedTime===null)return;var Ee=this.pm.data.player_playhead_time-this._lastPlayheadTime,Ue=me.viewer_time-this._lastPlayheadTimeUpdatedTime;typeof this.pm.minimumRebufferDuration=="number"&&Ee>0&&Ue-Ee>this.pm.minimumRebufferDuration&&(this._lastCheckedTime=null,this.pm.emit("rebufferstart",{viewer_time:this._lastPlayheadTimeUpdatedTime}),this.pm.emit("rebufferend",{viewer_time:this._lastPlayheadTimeUpdatedTime+Ue-Ee}))}fe?this._prepareRebufferTrackerState(me.viewer_time):this._clearRebufferTrackerState()}}],tt&&ot(Ge.prototype,tt),Pt&&ot(Ge,Pt),Object.defineProperty(Ge,"prototype",{writable:!1}),et}(),vt=ze;function Wt(et,Ge){for(var tt=0;tt<Ge.length;tt++){var Pt=Ge[tt];Pt.enumerable=Pt.enumerable||!1,Pt.configurable=!0,"value"in Pt&&(Pt.writable=!0),Object.defineProperty(et,Pt.key,Pt)}}var zt=function(){function et(gt){var me=this;(function(fe,Ee){if(!(fe instanceof Ee))throw new TypeError("Cannot call a class as a function")})(this,et),this.pm=gt,gt.on("viewinit",function(){var fe=gt.data,Ee=fe.view_id;if(!fe.view_program_changed){var Ue=function(Ye,ct){var Yt=ct.viewer_time;Ye.type==="playing"&&gt.data.view_time_to_first_frame===void 0?me.calculateTimeToFirstFrame(Yt||b.now(),Ee):Ye.type!=="adplaying"||gt.data.view_time_to_first_frame!==void 0&&!me._inPrerollPosition()||me.calculateTimeToFirstFrame(Yt||b.now(),Ee)};gt.one("playing",Ue),gt.one("adplaying",Ue),gt.one("viewend",function(){gt.off("playing",Ue),gt.off("adplaying",Ue)})}})}var Ge,tt,Pt;return Ge=et,(tt=[{key:"_inPrerollPosition",value:function(){return this.pm.data.view_content_playback_time===void 0||this.pm.data.view_content_playback_time<=1e3}},{key:"calculateTimeToFirstFrame",value:function(gt,me){me===this.pm.data.view_id&&(this.pm.watchTimeTracker._updateWatchTime(null,{viewer_time:gt}),this.pm.data.view_time_to_first_frame=this.pm.data.view_watch_time,(this.pm.data.player_autoplay_on||this.pm.data.video_is_autoplay)&&this.NAVIGATION_START&&(this.pm.data.view_aggregate_startup_time=this.pm.data.view_start+this.pm.data.view_watch_time-this.NAVIGATION_START))}}])&&Wt(Ge.prototype,tt),Pt&&Wt(Ge,Pt),Object.defineProperty(Ge,"prototype",{writable:!1}),et}();function at(et,Ge){for(var tt=0;tt<Ge.length;tt++){var Pt=Ge[tt];Pt.enumerable=Pt.enumerable||!1,Pt.configurable=!0,"value"in Pt&&(Pt.writable=!0),Object.defineProperty(et,Pt.key,Pt)}}function Me(et,Ge,tt){return Ge&&at(et.prototype,Ge),tt&&at(et,tt),Object.defineProperty(et,"prototype",{writable:!1}),et}var Be=Me(function et(Ge){var tt=this;(function(Pt,gt){if(!(Pt instanceof gt))throw new TypeError("Cannot call a class as a function")})(this,et),Ge.on("viewinit",function(){tt._lastPlayheadPosition=-1}),["pause","rebufferstart","seeking","error","adbreakstart","hb"].forEach(function(Pt){Ge.on(Pt,function(){if(tt._lastPlayheadPosition>=0&&Ge.data.player_playhead_time>=0&&tt._lastPlayerWidth>=0&&tt._lastSourceWidth>0&&tt._lastPlayerHeight>=0&&tt._lastSourceHeight>0){var gt=Ge.data.player_playhead_time-tt._lastPlayheadPosition;if(gt<0)return void(tt._lastPlayheadPosition=-1);var me=Math.min(tt._lastPlayerWidth/tt._lastSourceWidth,tt._lastPlayerHeight/tt._lastSourceHeight),fe=Math.max(0,me-1),Ee=Math.max(0,1-me);Ge.data.view_max_upscale_percentage=Math.max(Ge.data.view_max_upscale_percentage||0,fe),Ge.data.view_max_downscale_percentage=Math.max(Ge.data.view_max_downscale_percentage||0,Ee),_(Ge.data,"view_total_content_playback_time",gt),_(Ge.data,"view_total_upscaling",fe*gt),_(Ge.data,"view_total_downscaling",Ee*gt)}tt._lastPlayheadPosition=-1})}),["playing","hb"].forEach(function(Pt){Ge.on(Pt,function(){tt._lastPlayheadPosition=Ge.data.player_playhead_time,tt._lastPlayerWidth=Ge.data.player_width,tt._lastPlayerHeight=Ge.data.player_height,tt._lastSourceWidth=Ge.data.video_source_width,tt._lastSourceHeight=Ge.data.video_source_height})})});function Xe(et,Ge){for(var tt=0;tt<Ge.length;tt++){var Pt=Ge[tt];Pt.enumerable=Pt.enumerable||!1,Pt.configurable=!0,"value"in Pt&&(Pt.writable=!0),Object.defineProperty(et,Pt.key,Pt)}}function Te(et,Ge,tt){return Ge&&Xe(et.prototype,Ge),tt&&Xe(et,tt),Object.defineProperty(et,"prototype",{writable:!1}),et}var we=Te(function et(Ge){var tt=this;(function(Pt,gt){if(!(Pt instanceof gt))throw new TypeError("Cannot call a class as a function")})(this,et),this.isSeeking=!1,Ge.on("seeking",function(Pt,gt){Object.assign(Ge.data,gt),tt._lastSeekingTime=b.now(),tt.isSeeking===!1&&(tt.isSeeking=!0,Ge.send("seeking"))}),Ge.on("seeked",function(){tt.isSeeking=!1;var Pt=tt._lastSeekingTime||b.now(),gt=b.now()-Pt;_(Ge.data,"view_seek_count",1),_(Ge.data,"view_seek_duration",gt);var me=Ge.data.view_max_seek_time||0;Ge.data.view_max_seek_time=Math.max(me,gt)}),Ge.on("viewend",function(){tt.isSeeking=!1})});function De(et,Ge){return function(tt){if(Array.isArray(tt))return tt}(et)||function(tt,Pt){var gt=tt==null?null:typeof Symbol!="undefined"&&tt[Symbol.iterator]||tt["@@iterator"];if(gt!=null){var me,fe,Ee=[],Ue=!0,Ye=!1;try{for(gt=gt.call(tt);!(Ue=(me=gt.next()).done)&&(Ee.push(me.value),!Pt||Ee.length!==Pt);Ue=!0);}catch(ct){Ye=!0,fe=ct}finally{try{Ue||gt.return==null||gt.return()}finally{if(Ye)throw fe}}return Ee}}(et,Ge)||function(tt,Pt){if(tt){if(typeof tt=="string")return Ie(tt,Pt);var gt=Object.prototype.toString.call(tt).slice(8,-1);return gt==="Object"&&tt.constructor&&(gt=tt.constructor.name),gt==="Map"||gt==="Set"?Array.from(tt):gt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(gt)?Ie(tt,Pt):void 0}}(et,Ge)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ie(et,Ge){(Ge==null||Ge>et.length)&&(Ge=et.length);for(var tt=0,Pt=new Array(Ge);tt<Ge;tt++)Pt[tt]=et[tt];return Pt}function He(et,Ge){for(var tt=0;tt<Ge.length;tt++){var Pt=Ge[tt];Pt.enumerable=Pt.enumerable||!1,Pt.configurable=!0,"value"in Pt&&(Pt.writable=!0),Object.defineProperty(et,Pt.key,Pt)}}var Ve=function(et,Ge){et.push(Ge),et.sort(function(tt,Pt){return tt.viewer_time-Pt.viewer_time})},z=["adbreakstart","adrequest","adresponse","adplay","adplaying","adpause","adended","adbreakend","aderror"],se=function(){function et(gt){var me=this;(function(Ee,Ue){if(!(Ee instanceof Ue))throw new TypeError("Cannot call a class as a function")})(this,et),this.pm=gt,gt.on("viewinit",function(){me.isAdBreak=!1,me._currentAdRequestNumber=0,me._currentAdResponseNumber=0,me._adRequests=[],me._adResponses=[],me._adHasPlayed=!1,me._wouldBeNewAdPlay=!0,me._prerollPlayTime=void 0}),z.forEach(function(Ee){return gt.on(Ee,me._updateAdData.bind(me))});var fe=function(){me.isAdBreak=!1};gt.on("adbreakstart",function(){me.isAdBreak=!0}),gt.on("play",fe),gt.on("playing",fe),gt.on("viewend",fe),gt.on("adrequest",function(Ee,Ue){Ue=Object.assign({ad_request_id:"generatedAdRequestId"+me._currentAdRequestNumber++},Ue),Ve(me._adRequests,Ue),_(gt.data,"view_ad_request_count"),me.inPrerollPosition()&&(gt.data.view_preroll_requested=!0,me._adHasPlayed||_(gt.data,"view_preroll_request_count"))}),gt.on("adresponse",function(Ee,Ue){Ue=Object.assign({ad_request_id:"generatedAdRequestId"+me._currentAdResponseNumber++},Ue),Ve(me._adResponses,Ue);var Ye=me.findAdRequest(Ue.ad_request_id);Ye&&_(gt.data,"view_ad_request_time",Math.max(0,Ue.viewer_time-Ye.viewer_time))}),gt.on("adplay",function(Ee,Ue){me._adHasPlayed=!0,me._wouldBeNewAdPlay&&(me._wouldBeNewAdPlay=!1,_(gt.data,"view_ad_played_count")),me.inPrerollPosition()&&!gt.data.view_preroll_played&&(gt.data.view_preroll_played=!0,me._adRequests.length>0&&(gt.data.view_preroll_request_time=Math.max(0,Ue.viewer_time-me._adRequests[0].viewer_time)),gt.data.view_start&&(gt.data.view_startup_preroll_request_time=Math.max(0,Ue.viewer_time-gt.data.view_start)),me._prerollPlayTime=Ue.viewer_time)}),gt.on("adplaying",function(Ee,Ue){me.inPrerollPosition()&&gt.data.view_preroll_load_time===void 0&&me._prerollPlayTime!==void 0&&(gt.data.view_preroll_load_time=Ue.viewer_time-me._prerollPlayTime,gt.data.view_startup_preroll_load_time=Ue.viewer_time-me._prerollPlayTime)}),gt.on("adended",function(){me._wouldBeNewAdPlay=!0}),gt.on("aderror",function(){me._wouldBeNewAdPlay=!0})}var Ge,tt,Pt;return Ge=et,(tt=[{key:"inPrerollPosition",value:function(){return this.pm.data.view_content_playback_time===void 0||this.pm.data.view_content_playback_time<=1e3}},{key:"findAdRequest",value:function(gt){for(var me=0;me<this._adRequests.length;me++)if(this._adRequests[me].ad_request_id===gt)return this._adRequests[me]}},{key:"_updateAdData",value:function(gt,me){if(this.inPrerollPosition()){if(!this.pm.data.view_preroll_ad_tag_hostname&&me.ad_tag_url){var fe=De(P(me.ad_tag_url),2),Ee=fe[0],Ue=fe[1];this.pm.data.view_preroll_ad_tag_domain=Ue,this.pm.data.view_preroll_ad_tag_hostname=Ee}if(!this.pm.data.view_preroll_ad_asset_hostname&&me.ad_asset_url){var Ye=De(P(me.ad_asset_url),2),ct=Ye[0],Yt=Ye[1];this.pm.data.view_preroll_ad_asset_domain=Yt,this.pm.data.view_preroll_ad_asset_hostname=ct}}this.pm.data.ad_asset_url=me==null?void 0:me.ad_asset_url,this.pm.data.ad_tag_url=me==null?void 0:me.ad_tag_url,this.pm.data.ad_creative_id=me==null?void 0:me.ad_creative_id,this.pm.data.ad_id=me==null?void 0:me.ad_id,this.pm.data.ad_universal_id=me==null?void 0:me.ad_universal_id}}])&&He(Ge.prototype,tt),Pt&&He(Ge,Pt),Object.defineProperty(Ge,"prototype",{writable:!1}),et}();function Se(et,Ge){for(var tt=0;tt<Ge.length;tt++){var Pt=Ge[tt];Pt.enumerable=Pt.enumerable||!1,Pt.configurable=!0,"value"in Pt&&(Pt.writable=!0),Object.defineProperty(et,Pt.key,Pt)}}function Oe(et,Ge,tt){return Ge&&Se(et.prototype,Ge),tt&&Se(et,tt),Object.defineProperty(et,"prototype",{writable:!1}),et}var ge=Oe(function et(Ge){var tt,Pt;(function(Ee,Ue){if(!(Ee instanceof Ue))throw new TypeError("Cannot call a class as a function")})(this,et);var gt=function(){Ge.disableRebufferTracking||tt&&(_(Ge.data,"view_waiting_rebuffer_duration",b.now()-tt),tt=!1,p().clearInterval(Pt))},me=!1,fe=function(){me=!1,gt()};Ge.on("waiting",function(){me&&(Ge.disableRebufferTracking||(_(Ge.data,"view_waiting_rebuffer_count",1),tt=b.now(),Pt=p().setInterval(function(){if(tt){var Ee=b.now();_(Ge.data,"view_waiting_rebuffer_duration",Ee-tt),tt=Ee}},250)))}),Ge.on("playing",function(){gt(),me=!0}),Ge.on("pause",fe),Ge.on("seeking",fe)});function je(et,Ge){for(var tt=0;tt<Ge.length;tt++){var Pt=Ge[tt];Pt.enumerable=Pt.enumerable||!1,Pt.configurable=!0,"value"in Pt&&(Pt.writable=!0),Object.defineProperty(et,Pt.key,Pt)}}function it(et,Ge,tt){return Ge&&je(et.prototype,Ge),tt&&je(et,tt),Object.defineProperty(et,"prototype",{writable:!1}),et}var Tt=it(function et(Ge){var tt=this;(function(me,fe){if(!(me instanceof fe))throw new TypeError("Cannot call a class as a function")})(this,et);var Pt=function(){tt.lastWallClockTime=b.now(),Ge.on("before*",gt)},gt=function(me){var fe=b.now(),Ee=tt.lastWallClockTime;tt.lastWallClockTime=fe,fe-Ee>3e4&&(Ge.emit("devicesleep",{viewer_time:Ee}),Object.assign(Ge.data,{viewer_time:Ee}),Ge.send("devicesleep"),Ge.emit("devicewake",{viewer_time:fe}),Object.assign(Ge.data,{viewer_time:fe}),Ge.send("devicewake"))};Ge.one("playbackheartbeat",Pt),Ge.on("playbackheartbeatend",function(){Ge.off("before*",gt),Ge.one("playbackheartbeat",Pt)})}),sn=f(375),ht=f(655),Nt=f.n(ht),wt="muxData",yt=function(){var et;try{et=sn.parse(Nt().get(wt)||"")}catch(Ge){et={}}return et},Qe=function(et){try{Nt().set(wt,sn.stringify(et),{expires:7300})}catch(Ge){}},At=function(){var et=yt();return et.mux_viewer_id=et.mux_viewer_id||g(),et.msn=et.msn||Math.random(),Qe(et),{mux_viewer_id:et.mux_viewer_id,mux_sample_number:et.msn}};function jt(et,Ge){var tt=Ge.beaconCollectionDomain,Pt=Ge.beaconDomain;if(tt)return"https://"+tt;var gt=Pt||"litix.io";return(et=et||"inferred").match(/^[a-z0-9]+$/)?"https://"+et+"."+gt:"https://img.litix.io/a.gif"}var ke=function(){var et;switch(tn()){case"cellular":et="cellular";break;case"ethernet":et="wired";break;case"wifi":et="wifi";break;case void 0:break;default:et="other"}return et},tn=function(){var et=p().navigator,Ge=et&&(et.connection||et.mozConnection||et.webkitConnection);return Ge&&Ge.type};ke.getConnectionFromAPI=tn;var Pn=ke,Ft=Rt({a:"env",b:"beacon",c:"custom",d:"ad",e:"event",f:"experiment",i:"internal",m:"mux",n:"response",p:"player",q:"request",r:"retry",s:"session",t:"timestamp",u:"viewer",v:"video",w:"page",x:"view",y:"sub"}),lt=Rt({ad:"ad",ag:"aggregate",ap:"api",al:"application",ar:"architecture",as:"asset",au:"autoplay",av:"average",bi:"bitrate",br:"break",bw:"browser",by:"bytes",ca:"cached",cb:"cancel",cc:"codec",cd:"code",cg:"category",ch:"changed",cl:"canceled",cn:"config",co:"count",ce:"counter",cp:"complete",cr:"creative",ct:"content",cu:"current",cx:"connection",cz:"context",dg:"downscaling",dm:"domain",dn:"cdn",do:"downscale",dr:"drm",dp:"dropped",du:"duration",dv:"device",ec:"encoding",ed:"edge",en:"end",eg:"engine",em:"embed",er:"error",es:"errorcode",et:"errortext",ee:"event",ev:"events",ex:"expires",ep:"experiments",fa:"failed",fi:"first",fm:"family",ft:"format",fp:"fps",fq:"frequency",fr:"frame",fs:"fullscreen",ha:"has",hb:"holdback",he:"headers",ho:"host",hn:"hostname",ht:"height",id:"id",ii:"init",in:"instance",ip:"ip",is:"is",ke:"key",la:"language",lb:"labeled",le:"level",li:"live",ld:"loaded",lo:"load",ls:"lists",lt:"latency",ma:"max",md:"media",me:"message",mf:"manifest",mi:"mime",ml:"midroll",mm:"min",mn:"manufacturer",mo:"model",mx:"mux",ne:"newest",nm:"name",no:"number",on:"on",os:"os",pa:"paused",pb:"playback",pd:"producer",pe:"percentage",pf:"played",pg:"program",ph:"playhead",pi:"plugin",pl:"preroll",pn:"playing",po:"poster",pr:"preload",ps:"position",pt:"part",py:"property",ra:"rate",rd:"requested",re:"rebuffer",rf:"rendition",rm:"remote",ro:"ratio",rp:"response",rq:"request",rs:"requests",sa:"sample",se:"session",sk:"seek",sm:"stream",so:"source",sq:"sequence",sr:"series",st:"start",su:"startup",sv:"server",sw:"software",ta:"tag",tc:"tech",te:"text",tg:"target",th:"throughput",ti:"time",tl:"total",to:"to",tt:"title",ty:"type",ug:"upscaling",un:"universal",up:"upscale",ur:"url",us:"user",va:"variant",vd:"viewed",vi:"video",ve:"version",vw:"view",vr:"viewer",wd:"width",wa:"watch",wt:"waiting"});function Rt(et){var Ge={};for(var tt in et)et.hasOwnProperty(tt)&&(Ge[et[tt]]=tt);return Ge}function ln(et){var Ge={},tt={};return Object.keys(et).forEach(function(Pt){var gt=!1;if(et.hasOwnProperty(Pt)&&et[Pt]!==void 0){var me=Pt.split("_"),fe=me[0],Ee=Ft[fe];Ee||(j.info("Data key word `"+me[0]+"` not expected in "+Pt),Ee=fe+"_"),me.splice(1).forEach(function(Ue){Ue==="url"&&(gt=!0),lt[Ue]?Ee+=lt[Ue]:Number(Ue)&&Math.floor(Number(Ue))===Number(Ue)?Ee+=Ue:(j.info("Data key word `"+Ue+"` not expected in "+Pt),Ee+="_"+Ue+"_")}),gt?tt[Ee]=et[Pt]:Ge[Ee]=et[Pt]}}),Object.assign(Ge,tt)}var Mt={maxBeaconSize:300,maxQueueLength:3600,baseTimeBetweenBeacons:1e4,maxPayloadKBSize:500},$t=["hb","requestcompleted","requestfailed","requestcanceled"],nn="https://img.litix.io",Bt=function(et){var Ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._beaconUrl=et||nn,this._eventQueue=[],this._postInFlight=!1,this._failureCount=0,this._sendTimeout=!1,this._options=Object.assign({},Mt,Ge)};Bt.prototype.queueEvent=function(et,Ge){var tt=Object.assign({},Ge);return(this._eventQueue.length<=this._options.maxQueueLength||et==="eventrateexceeded")&&(this._eventQueue.push(tt),this._sendTimeout||this._startBeaconSending(),this._eventQueue.length<=this._options.maxQueueLength)},Bt.prototype.flushEvents=function(){var et=arguments.length>0&&arguments[0]!==void 0&&arguments[0];et&&this._eventQueue.length===1?this._eventQueue.pop():(this._eventQueue.length&&this._sendBeaconQueue(),this._startBeaconSending())},Bt.prototype.destroy=function(){var et=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.destroyed=!0,et?this._clearBeaconQueue():this.flushEvents(),p().clearTimeout(this._sendTimeout)},Bt.prototype._clearBeaconQueue=function(){var et=this._eventQueue.length>this._options.maxBeaconSize?this._eventQueue.length-this._options.maxBeaconSize:0,Ge=this._eventQueue.slice(et);et>0&&Object.assign(Ge[Ge.length-1],ln({mux_view_message:"event queue truncated"}));var tt=this._createPayload(Ge);Sn(this._beaconUrl,tt,!0,function(){})},Bt.prototype._sendBeaconQueue=function(){var et=this;if(!this._postInFlight){var Ge=this._eventQueue.slice(0,this._options.maxBeaconSize);this._eventQueue=this._eventQueue.slice(this._options.maxBeaconSize),this._postInFlight=!0;var tt=this._createPayload(Ge),Pt=b.now();Sn(this._beaconUrl,tt,!1,function(gt,me){me?(et._eventQueue=Ge.concat(et._eventQueue),et._failureCount+=1,j.info("Error sending beacon: "+me)):et._failureCount=0,et._roundTripTime=b.now()-Pt,et._postInFlight=!1})}},Bt.prototype._getNextBeaconTime=function(){if(!this._failureCount)return this._options.baseTimeBetweenBeacons;var et=Math.pow(2,this._failureCount-1);return(1+(et*=Math.random()))*this._options.baseTimeBetweenBeacons},Bt.prototype._startBeaconSending=function(){var et=this;p().clearTimeout(this._sendTimeout),this.destroyed||(this._sendTimeout=p().setTimeout(function(){et._eventQueue.length&&et._sendBeaconQueue(),et._startBeaconSending()},this._getNextBeaconTime()))},Bt.prototype._createPayload=function(et){var Ge,tt,Pt,gt=this,me={transmission_timestamp:Math.round(b.now())};this._roundTripTime&&(me.rtt_ms=Math.round(this._roundTripTime));var fe=function(){Ge=JSON.stringify({metadata:me,events:tt||et}),Pt=Ge.length/1024},Ee=function(){return Pt<=gt._options.maxPayloadKBSize};return fe(),Ee()||(j.info("Payload size is too big ("+Pt+" kb). Removing unnecessary events."),tt=et.filter(function(Ue){return $t.indexOf(Ue.e)===-1}),fe()),Ee()||(j.info("Payload size still too big ("+Pt+" kb). Cropping fields.."),tt.forEach(function(Ue){for(var Ye in Ue){var ct=Ue[Ye];typeof ct=="string"&&ct.length>51200&&(Ue[Ye]=ct.substring(0,51200))}}),fe()),Ge};var Kt=function(et){return et.length<=57344},Sn=function(et,Ge,tt,Pt){if(tt&&navigator&&navigator.sendBeacon&&navigator.sendBeacon(et,Ge))Pt();else if(p().fetch)p().fetch(et,{method:"POST",body:Ge,headers:{"Content-Type":"text/plain"},keepalive:Kt(Ge)}).then(function(me){return Pt(null,me.ok?null:"Error")}).catch(function(me){return Pt(null,me)});else{if(p().XMLHttpRequest){var gt=new(p()).XMLHttpRequest;return gt.onreadystatechange=function(){if(gt.readyState===4)return Pt(null,gt.status!==200?"error":void 0)},gt.open("POST",et),gt.setRequestHeader("Content-Type","text/plain"),void gt.send(Ge)}Pt()}},Qn=Bt;function rr(et,Ge){return function(tt){if(Array.isArray(tt))return tt}(et)||function(tt,Pt){var gt=tt==null?null:typeof Symbol!="undefined"&&tt[Symbol.iterator]||tt["@@iterator"];if(gt!=null){var me,fe,Ee=[],Ue=!0,Ye=!1;try{for(gt=gt.call(tt);!(Ue=(me=gt.next()).done)&&(Ee.push(me.value),!Pt||Ee.length!==Pt);Ue=!0);}catch(ct){Ye=!0,fe=ct}finally{try{Ue||gt.return==null||gt.return()}finally{if(Ye)throw fe}}return Ee}}(et,Ge)||function(tt,Pt){if(tt){if(typeof tt=="string")return Mr(tt,Pt);var gt=Object.prototype.toString.call(tt).slice(8,-1);return gt==="Object"&&tt.constructor&&(gt=tt.constructor.name),gt==="Map"||gt==="Set"?Array.from(tt):gt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(gt)?Mr(tt,Pt):void 0}}(et,Ge)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Mr(et,Ge){(Ge==null||Ge>et.length)&&(Ge=et.length);for(var tt=0,Pt=new Array(Ge);tt<Ge;tt++)Pt[tt]=et[tt];return Pt}function zr(et,Ge){var tt=Object.keys(et);if(Object.getOwnPropertySymbols){var Pt=Object.getOwnPropertySymbols(et);Ge&&(Pt=Pt.filter(function(gt){return Object.getOwnPropertyDescriptor(et,gt).enumerable})),tt.push.apply(tt,Pt)}return tt}function dr(et){for(var Ge=1;Ge<arguments.length;Ge++){var tt=arguments[Ge]!=null?arguments[Ge]:{};Ge%2?zr(Object(tt),!0).forEach(function(Pt){Dn(et,Pt,tt[Pt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(tt)):zr(Object(tt)).forEach(function(Pt){Object.defineProperty(et,Pt,Object.getOwnPropertyDescriptor(tt,Pt))})}return et}function Rr(et){return Rr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ge){return typeof Ge}:function(Ge){return Ge&&typeof Symbol=="function"&&Ge.constructor===Symbol&&Ge!==Symbol.prototype?"symbol":typeof Ge},Rr(et)}function _r(et,Ge){if(!(et instanceof Ge))throw new TypeError("Cannot call a class as a function")}function ro(et,Ge){for(var tt=0;tt<Ge.length;tt++){var Pt=Ge[tt];Pt.enumerable=Pt.enumerable||!1,Pt.configurable=!0,"value"in Pt&&(Pt.writable=!0),Object.defineProperty(et,Pt.key,Pt)}}function Dn(et,Ge,tt){return Ge in et?Object.defineProperty(et,Ge,{value:tt,enumerable:!0,configurable:!0,writable:!0}):et[Ge]=tt,et}var ut=["env_key","view_id","view_sequence_number","player_sequence_number","beacon_domain","player_playhead_time","viewer_time","mux_api_version","event","video_id","player_instance_id"],fn=["adplay","adplaying","adpause","adfirstquartile","admidpoint","adthirdquartile","adended","adresponse"],On=["viewstart","error","ended","viewend"],Ot=function(){function et(gt,me){var fe,Ee,Ue,Ye,ct,Yt,Qt,En,hn,In,Fn,Un,nr,jr,Hr,Br=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};_r(this,et),Dn(this,"previousBeaconData",null),Dn(this,"lastEventTime",0),Dn(this,"rateLimited",!1),this.mux=gt,this.envKey=me,this.options=Br,this.eventQueue=new Qn(jt(this.envKey,this.options)),this.sampleRate=(fe=this.options.sampleRate)!==null&&fe!==void 0?fe:1,this.disableCookies=(Ee=this.options.disableCookies)!==null&&Ee!==void 0&&Ee,this.respectDoNotTrack=(Ue=this.options.respectDoNotTrack)!==null&&Ue!==void 0&&Ue,this.previousBeaconData=null,this.lastEventTime=0,this.rateLimited=!1,this.pageLevelData={mux_api_version:this.mux.API_VERSION,mux_embed:this.mux.NAME,mux_embed_version:this.mux.VERSION,viewer_application_name:(Ye=this.options.platform)===null||Ye===void 0?void 0:Ye.name,viewer_application_version:(ct=this.options.platform)===null||ct===void 0?void 0:ct.version,viewer_application_engine:(Yt=this.options.platform)===null||Yt===void 0?void 0:Yt.layout,viewer_device_name:(Qt=this.options.platform)===null||Qt===void 0?void 0:Qt.product,viewer_device_category:"",viewer_device_manufacturer:(En=this.options.platform)===null||En===void 0?void 0:En.manufacturer,viewer_os_family:(hn=this.options.platform)===null||hn===void 0||(In=hn.os)===null||In===void 0?void 0:In.family,viewer_os_architecture:(Fn=this.options.platform)===null||Fn===void 0||(Un=Fn.os)===null||Un===void 0?void 0:Un.architecture,viewer_os_version:(nr=this.options.platform)===null||nr===void 0||(jr=nr.os)===null||jr===void 0?void 0:jr.version,viewer_connection_type:Pn(),page_url:p()===null||p()===void 0||(Hr=p().location)===null||Hr===void 0?void 0:Hr.href},this.viewerData=this.disableCookies?{}:At()}var Ge,tt,Pt;return Ge=et,(tt=[{key:"send",value:function(gt,me){var fe;if(gt&&me!=null&&me.view_id){if(this.respectDoNotTrack&&y())return j.info("Not sending `"+gt+"` because Do Not Track is enabled");if(!me||Rr(me)!=="object")return j.error("A data object was expected in send() but was not provided");var Ee,Ue,Ye=this.disableCookies?{}:(Ee=yt(),Ue=b.now(),Ee.session_start&&(Ee.sst=Ee.session_start,delete Ee.session_start),Ee.session_id&&(Ee.sid=Ee.session_id,delete Ee.session_id),Ee.session_expires&&(Ee.sex=Ee.session_expires,delete Ee.session_expires),(!Ee.sex||Ee.sex<Ue)&&(Ee.sid=g(),Ee.sst=Ue),Ee.sex=Ue+15e5,Qe(Ee),{session_id:Ee.sid,session_start:Ee.sst,session_expires:Ee.sex}),ct=dr(dr(dr(dr(dr({},this.pageLevelData),me),Ye),this.viewerData),{},{event:gt,env_key:this.envKey});ct.user_id&&(ct.viewer_user_id=ct.user_id,delete ct.user_id);var Yt=((fe=ct.mux_sample_number)!==null&&fe!==void 0?fe:0)>=this.sampleRate,Qt=ln(this._deduplicateBeaconData(gt,ct));if(this.lastEventTime=this.mux.utils.now(),Yt)return j.info("Not sending event due to sample rate restriction",gt,ct,Qt);if(this.envKey||j.info("Missing environment key (envKey) - beacons will be dropped if the video source is not a valid mux video URL",gt,ct,Qt),!this.rateLimited){if(j.info("Sending event",gt,ct,Qt),this.rateLimited=!this.eventQueue.queueEvent(gt,Qt),this.mux.WINDOW_UNLOADING&&gt==="viewend")this.eventQueue.destroy(!0);else if(this.mux.WINDOW_HIDDEN&&gt==="hb"?this.eventQueue.flushEvents(!0):On.indexOf(gt)>=0&&this.eventQueue.flushEvents(),this.rateLimited)return ct.event="eventrateexceeded",Qt=ln(ct),this.eventQueue.queueEvent(ct.event,Qt),j.error("Beaconing disabled due to rate limit.")}}}},{key:"destroy",value:function(){this.eventQueue.destroy(!1)}},{key:"_deduplicateBeaconData",value:function(gt,me){var fe=this,Ee={},Ue=me.view_id;if(Ue==="-1"||gt==="viewstart"||gt==="viewend"||!this.previousBeaconData||this.mux.utils.now()-this.lastEventTime>=6e5)Ee=dr({},me),Ue&&(this.previousBeaconData=Ee),Ue&&gt==="viewend"&&(this.previousBeaconData=null);else{var Ye=gt.indexOf("request")===0;Object.entries(me).forEach(function(ct){var Yt=rr(ct,2),Qt=Yt[0],En=Yt[1];fe.previousBeaconData&&(En!==fe.previousBeaconData[Qt]||ut.indexOf(Qt)>-1||fe.objectHasChanged(Ye,Qt,En,fe.previousBeaconData[Qt])||fe.eventRequiresKey(gt,Qt))&&(Ee[Qt]=En,fe.previousBeaconData[Qt]=En)})}return Ee}},{key:"objectHasChanged",value:function(gt,me,fe,Ee){return!(!gt||me.indexOf("request_")!==0||me!=="request_response_headers"&&Rr(fe)==="object"&&Rr(Ee)==="object"&&Object.keys(fe||{}).length===Object.keys(Ee||{}).length)}},{key:"eventRequiresKey",value:function(gt,me){return gt==="renditionchange"&&me.indexOf("video_source_")===0||!(me.indexOf("ad_id")!==0||!fn.includes(gt))}}])&&ro(Ge.prototype,tt),Pt&&ro(Ge,Pt),Object.defineProperty(Ge,"prototype",{writable:!1}),et}();function kt(et,Ge){for(var tt=0;tt<Ge.length;tt++){var Pt=Ge[tt];Pt.enumerable=Pt.enumerable||!1,Pt.configurable=!0,"value"in Pt&&(Pt.writable=!0),Object.defineProperty(et,Pt.key,Pt)}}function Zt(et,Ge,tt){return Ge&&kt(et.prototype,Ge),tt&&kt(et,tt),Object.defineProperty(et,"prototype",{writable:!1}),et}var Vn=Zt(function et(Ge){(function(Ye,ct){if(!(Ye instanceof ct))throw new TypeError("Cannot call a class as a function")})(this,et);var tt=0,Pt=0,gt=0,me=0,fe=0,Ee=0,Ue=0;Ge.on("requestcompleted",function(Ye,ct){var Yt,Qt,En=ct.request_start,hn=ct.request_response_start,In=ct.request_response_end,Fn=ct.request_bytes_loaded;if(me++,hn?(Yt=hn-(En!=null?En:0),Qt=(In!=null?In:0)-hn):Qt=(In!=null?In:0)-(En!=null?En:0),Qt>0&&Fn&&Fn>0){var Un=Fn/Qt*8e3;fe++,Pt+=Fn,gt+=Qt,Ge.data.view_min_request_throughput=Math.min(Ge.data.view_min_request_throughput||1/0,Un),Ge.data.view_average_request_throughput=Pt/gt*8e3,Ge.data.view_request_count=me,Yt>0&&(tt+=Yt,Ge.data.view_max_request_latency=Math.max(Ge.data.view_max_request_latency||0,Yt),Ge.data.view_average_request_latency=tt/fe)}}),Ge.on("requestfailed",function(Ye,ct){me++,Ee++,Ge.data.view_request_count=me,Ge.data.view_request_failed_count=Ee}),Ge.on("requestcanceled",function(Ye,ct){me++,Ue++,Ge.data.view_request_count=me,Ge.data.view_request_canceled_count=Ue})});function Gn(et,Ge){for(var tt=0;tt<Ge.length;tt++){var Pt=Ge[tt];Pt.enumerable=Pt.enumerable||!1,Pt.configurable=!0,"value"in Pt&&(Pt.writable=!0),Object.defineProperty(et,Pt.key,Pt)}}function tr(et,Ge,tt){return Ge&&Gn(et.prototype,Ge),tt&&Gn(et,tt),Object.defineProperty(et,"prototype",{writable:!1}),et}var rn=tr(function et(Ge){var tt=this;(function(Pt,gt){if(!(Pt instanceof gt))throw new TypeError("Cannot call a class as a function")})(this,et),Ge.on("before*",function(Pt,gt){var me=gt.viewer_time,fe=b.now(),Ee=tt._lastEventTime;if(tt._lastEventTime=fe,Ee&&fe-Ee>36e5){var Ue=Object.keys(Ge.data).reduce(function(Ye,ct){return ct.indexOf("video_")===0?Object.assign(Ye,function(Yt,Qt,En){return Qt in Yt?Object.defineProperty(Yt,Qt,{value:En,enumerable:!0,configurable:!0,writable:!0}):Yt[Qt]=En,Yt}({},ct,Ge.data[ct])):Ye},{});Ge.mux.log.info("Received event after at least an hour inactivity, creating a new view"),Ge.emit("viewinit",Object.assign({viewer_time:me},Ue)),Ge.playbackHeartbeat._playheadShouldBeProgressing&&Pt.type!=="play"&&Pt.type!=="adbreakstart"&&(Ge.emit("play",{viewer_time:me}),Pt.type!=="playing"&&Ge.emit("playing",{viewer_time:me}))}})});function _n(et){return _n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ge){return typeof Ge}:function(Ge){return Ge&&typeof Symbol=="function"&&Ge.constructor===Symbol&&Ge!==Symbol.prototype?"symbol":typeof Ge},_n(et)}function Yn(et,Ge){return function(tt){if(Array.isArray(tt))return tt}(et)||function(tt,Pt){var gt=tt==null?null:typeof Symbol!="undefined"&&tt[Symbol.iterator]||tt["@@iterator"];if(gt!=null){var me,fe,Ee=[],Ue=!0,Ye=!1;try{for(gt=gt.call(tt);!(Ue=(me=gt.next()).done)&&(Ee.push(me.value),!Pt||Ee.length!==Pt);Ue=!0);}catch(ct){Ye=!0,fe=ct}finally{try{Ue||gt.return==null||gt.return()}finally{if(Ye)throw fe}}return Ee}}(et,Ge)||function(tt,Pt){if(tt){if(typeof tt=="string")return cr(tt,Pt);var gt=Object.prototype.toString.call(tt).slice(8,-1);return gt==="Object"&&tt.constructor&&(gt=tt.constructor.name),gt==="Map"||gt==="Set"?Array.from(tt):gt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(gt)?cr(tt,Pt):void 0}}(et,Ge)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function cr(et,Ge){(Ge==null||Ge>et.length)&&(Ge=et.length);for(var tt=0,Pt=new Array(Ge);tt<Ge;tt++)Pt[tt]=et[tt];return Pt}function Jt(et,Ge){for(var tt=0;tt<Ge.length;tt++){var Pt=Ge[tt];Pt.enumerable=Pt.enumerable||!1,Pt.configurable=!0,"value"in Pt&&(Pt.writable=!0),Object.defineProperty(et,Pt.key,Pt)}}function cn(et,Ge){return cn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,Pt){return tt.__proto__=Pt,tt},cn(et,Ge)}function bn(et){var Ge=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(tt){return!1}}();return function(){var tt,Pt=xn(et);if(Ge){var gt=xn(this).constructor;tt=Reflect.construct(Pt,arguments,gt)}else tt=Pt.apply(this,arguments);return zn(this,tt)}}function zn(et,Ge){if(Ge&&(_n(Ge)==="object"||typeof Ge=="function"))return Ge;if(Ge!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rn(et)}function Rn(et){if(et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et}function xn(et){return xn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Ge){return Ge.__proto__||Object.getPrototypeOf(Ge)},xn(et)}var mr=["viewstart","ended","loadstart","pause","play","playing","ratechange","waiting","adplay","adpause","adended","aderror","adplaying","adrequest","adresponse","adbreakstart","adbreakend","adfirstquartile","admidpoint","adthirdquartile","rebufferstart","rebufferend","seeked","error","hb","requestcompleted","requestfailed","requestcanceled","renditionchange"],Or=function(et){(function(fe,Ee){if(typeof Ee!="function"&&Ee!==null)throw new TypeError("Super expression must either be null or a function");fe.prototype=Object.create(Ee&&Ee.prototype,{constructor:{value:fe,writable:!0,configurable:!0}}),Object.defineProperty(fe,"prototype",{writable:!1}),Ee&&cn(fe,Ee)})(me,et);var Ge,tt,Pt,gt=bn(me);function me(fe,Ee,Ue){var Ye;(function(hn,In){if(!(hn instanceof In))throw new TypeError("Cannot call a class as a function")})(this,me),(Ye=gt.call(this)).DOM_CONTENT_LOADED_EVENT_END=A.domContentLoadedEventEnd(),Ye.NAVIGATION_START=A.navigationStart(),Ye.mux=fe,Ye.id=Ee,(Ue=Object.assign({debug:!1,minimumRebufferDuration:250,sustainedRebufferThreshold:1e3,playbackHeartbeatTime:25,beaconDomain:"litix.io",sampleRate:1,disableCookies:!1,respectDoNotTrack:!1,disableRebufferTracking:!1,disablePlayheadRebufferTracking:!1,errorTranslator:function(hn){return hn}},Ue)).data=Ue.data||{},Ue.data.property_key&&(Ue.data.env_key=Ue.data.property_key,delete Ue.data.property_key),j.setLevel(Ue.debug?"debug":"warn"),Ye.getPlayheadTime=Ue.getPlayheadTime,Ye.getStateData=Ue.getStateData||function(){return{}},Ye.getAdData=Ue.getAdData||function(){},Ye.minimumRebufferDuration=Ue.minimumRebufferDuration,Ye.sustainedRebufferThreshold=Ue.sustainedRebufferThreshold,Ye.playbackHeartbeatTime=Ue.playbackHeartbeatTime,Ye.disableRebufferTracking=Ue.disableRebufferTracking,Ye.disableRebufferTracking&&Ye.mux.log.warn("Disabling rebuffer tracking. This should only be used in specific circumstances as a last resort when your player is known to unreliably track rebuffering."),Ye.disablePlayheadRebufferTracking=Ue.disablePlayheadRebufferTracking,Ye.errorTranslator=Ue.errorTranslator,Ye.playbackEventDispatcher=new Ot(fe,Ue.data.env_key,Ue),Ye.data={player_instance_id:g(),mux_sample_rate:Ue.sampleRate,beacon_domain:Ue.beaconCollectionDomain?Ue.beaconCollectionDomain:Ue.beaconDomain},Ye.data.view_sequence_number=1,Ye.data.player_sequence_number=1,Ye.oldEmit=Ye.emit,Ye.emit=function(hn,In){In=Object.assign({viewer_time:this.mux.utils.now()},In),this.oldEmit(hn,In)};var ct=function(){this.data.view_start===void 0&&(this.data.view_start=this.mux.utils.now(),this.emit("viewstart"))}.bind(Rn(Ye));Ye.on("viewinit",function(hn,In){this._resetVideoData(),this._resetViewData(),this._resetErrorData(),this._updateStateData(),Object.assign(this.data,In),this._initializeViewData(),this.one("play",ct),this.one("adbreakstart",ct)});var Yt=function(hn){this.emit("viewend"),this.send("viewend"),this.emit("viewinit",hn)}.bind(Rn(Ye));if(Ye.on("videochange",function(hn,In){Yt(In)}),Ye.on("programchange",function(hn,In){this.data.player_is_paused&&this.mux.log.warn("The `programchange` event is intended to be used when the content changes mid playback without the video source changing, however the video is not currently playing. If the video source is changing please use the videochange event otherwise you will lose startup time information."),Yt(Object.assign(In,{view_program_changed:!0})),ct(),this.emit("play"),this.emit("playing")}),Ye.on("fragmentchange",function(hn,In){this.currentFragmentPDT=In.currentFragmentPDT,this.currentFragmentStart=In.currentFragmentStart}),Ye.on("destroy",Ye.destroy),typeof window!="undefined"&&typeof window.addEventListener=="function"&&typeof window.removeEventListener=="function"){var Qt=function(){var hn=Ye.data.view_start!==void 0;Ye.mux.WINDOW_HIDDEN=document.visibilityState==="hidden",hn&&Ye.mux.WINDOW_HIDDEN&&(Ye.data.player_is_paused||Ye.emit("hb"))};window.addEventListener("visibilitychange",Qt,!1);var En=function(hn){hn.persisted||Ye.destroy()};window.addEventListener("pagehide",En,!1),Ye.on("destroy",function(){window.removeEventListener("visibilitychange",Qt),window.removeEventListener("pagehide",En)})}return Ye.on("playerready",function(hn,In){Object.assign(this.data,In)}),mr.forEach(function(hn){Ye.on(hn,function(In,Fn){hn.indexOf("ad")!==0&&this._updateStateData(),Object.assign(this.data,Fn),this._sanitizeData()}),Ye.on("after"+hn,function(){(hn!=="error"||this.errorTracker.viewErrored)&&this.send(hn)})}),Ye.on("viewend",function(hn,In){Object.assign(Ye.data,In)}),Ye.one("playerready",function(hn){var In=this.mux.utils.now();this.data.player_init_time&&(this.data.player_startup_time=In-this.data.player_init_time),!this.mux.PLAYER_TRACKED&&this.NAVIGATION_START&&(this.mux.PLAYER_TRACKED=!0,(this.data.player_init_time||this.DOM_CONTENT_LOADED_EVENT_END)&&(this.data.page_load_time=Math.min(this.data.player_init_time||1/0,this.DOM_CONTENT_LOADED_EVENT_END||1/0)-this.NAVIGATION_START)),this.send("playerready"),delete this.data.player_startup_time,delete this.data.page_load_time}),Ye.longResumeTracker=new rn(Rn(Ye)),Ye.errorTracker=new ie(Rn(Ye)),new Tt(Rn(Ye)),Ye.seekingTracker=new we(Rn(Ye)),Ye.playheadTime=new ce(Rn(Ye)),Ye.playbackHeartbeat=new de(Rn(Ye)),new Be(Rn(Ye)),Ye.watchTimeTracker=new Le(Rn(Ye)),new Pe(Rn(Ye)),Ye.adTracker=new se(Rn(Ye)),new vt(Rn(Ye)),new We(Rn(Ye)),new zt(Rn(Ye)),new ge(Rn(Ye)),new Vn(Rn(Ye)),Ue.hlsjs&&Ye.addHLSJS(Ue),Ue.dashjs&&Ye.addDashJS(Ue),Ye.emit("viewinit",Ue.data),Ye}return Ge=me,tt=[{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.data.view_start!==void 0&&(this.emit("viewend"),this.send("viewend")),this.playbackEventDispatcher.destroy(),this.removeHLSJS(),this.removeDashJS(),window.clearTimeout(this._heartBeatTimeout))}},{key:"send",value:function(fe){if(this.data.view_id){var Ee=Object.assign({},this.data);if(Ee.video_source_is_live===void 0&&(Ee.player_source_duration===1/0||Ee.video_source_duration===1/0?Ee.video_source_is_live=!0:(Ee.player_source_duration>0||Ee.video_source_duration>0)&&(Ee.video_source_is_live=!1)),Ee.video_source_is_live||["player_program_time","player_manifest_newest_program_time","player_live_edge_program_time","player_program_time","video_holdback","video_part_holdback","video_target_duration","video_part_target_duration"].forEach(function(Yt){Ee[Yt]=void 0}),Ee.video_source_url=Ee.video_source_url||Ee.player_source_url,Ee.video_source_url){var Ue=Yn(P(Ee.video_source_url),2),Ye=Ue[0],ct=Ue[1];Ee.video_source_domain=ct,Ee.video_source_hostname=Ye}delete Ee.ad_request_id,this.playbackEventDispatcher.send(fe,Ee),this.data.view_sequence_number++,this.data.player_sequence_number++,this._restartHeartBeat(),fe==="viewend"&&delete this.data.view_id}}},{key:"_updateStateData",value:function(){Object.assign(this.data,this.getStateData()),this.playheadTime._updatePlayheadTime(),this._sanitizeData()}},{key:"_sanitizeData",value:function(){var fe=this;["player_width","player_height","video_source_width","video_source_height","player_playhead_time","video_source_bitrate"].forEach(function(Ee){var Ue=parseInt(fe.data[Ee],10);fe.data[Ee]=isNaN(Ue)?void 0:Ue}),["player_source_url","video_source_url"].forEach(function(Ee){if(fe.data[Ee]){var Ue=fe.data[Ee].toLowerCase();Ue.indexOf("data:")!==0&&Ue.indexOf("blob:")!==0||(fe.data[Ee]="MSE style URL")}})}},{key:"_resetVideoData",value:function(fe,Ee){var Ue=this;Object.keys(this.data).forEach(function(Ye){Ye.indexOf("video_")===0&&delete Ue.data[Ye]})}},{key:"_resetViewData",value:function(){var fe=this;Object.keys(this.data).forEach(function(Ee){Ee.indexOf("view_")===0&&delete fe.data[Ee]}),this.data.view_sequence_number=1}},{key:"_resetErrorData",value:function(fe,Ee){delete this.data.player_error_code,delete this.data.player_error_message}},{key:"_initializeViewData",value:function(){var fe=this,Ee=this.data.view_id=g(),Ue=function(){Ee===fe.data.view_id&&_(fe.data,"player_view_count",1)};this.data.player_is_paused?this.one("play",Ue):Ue()}},{key:"_restartHeartBeat",value:function(){var fe=this;window.clearTimeout(this._heartBeatTimeout),this.errorTracker.viewErrored||(this._heartBeatTimeout=window.setTimeout(function(){fe.data.player_is_paused||fe.emit("hb")},1e4))}},{key:"addHLSJS",value:function(fe){fe.hlsjs?this.hlsjs?this.mux.log.warn("An instance of HLS.js is already being monitored for this player."):(this.hlsjs=fe.hlsjs,function(Ee,Ue,Ye){var ct=arguments.length>4?arguments[4]:void 0,Yt=Ee.log,Qt=Ee.utils.secondsToMs,En=function(so){var Pr,Ur=parseInt(ct.version);return Ur===1&&so.programDateTime!==null&&(Pr=so.programDateTime),Ur===0&&so.pdt!==null&&(Pr=so.pdt),Pr};if(A.exists()){var hn=function(so,Pr){return Ee.emit(Ue,so,Pr)},In=function(so,Pr){var Ur=Pr.levels,Cr=Pr.audioTracks,io=Pr.url,co=Pr.stats,Wo=Pr.networkDetails,qo=Pr.sessionData,Jo={},Go={};Ur.forEach(function(pt,Xt){Jo[Xt]={width:pt.width,height:pt.height,bitrate:pt.bitrate,attrs:pt.attrs}}),Cr.forEach(function(pt,Xt){Go[Xt]={name:pt.name,language:pt.lang,bitrate:pt.bitrate}});var ko=U(co),Ho=ko.bytesLoaded,Vo=ko.requestStart,Ti=ko.responseStart,dt=ko.responseEnd;hn("requestcompleted",D(D({},T(qo)),{},{request_event_type:so,request_bytes_loaded:Ho,request_start:Vo,request_response_start:Ti,request_response_end:dt,request_type:"manifest",request_hostname:E(io),request_response_headers:V(Wo),request_rendition_lists:{media:Jo,audio:Go,video:{}}}))};Ye.on(ct.Events.MANIFEST_LOADED,In);var Fn=function(so,Pr){var Ur=Pr.details,Cr=Pr.level,io=Pr.networkDetails,co=Pr.stats,Wo=U(co),qo=Wo.bytesLoaded,Jo=Wo.requestStart,Go=Wo.responseStart,ko=Wo.responseEnd,Ho=Ur.fragments[Ur.fragments.length-1],Vo=En(Ho)+Qt(Ho.duration);hn("requestcompleted",{request_event_type:so,request_bytes_loaded:qo,request_start:Jo,request_response_start:Go,request_response_end:ko,request_current_level:Cr,request_type:"manifest",request_hostname:E(Ur.url),request_response_headers:V(io),video_holdback:Ur.holdBack&&Qt(Ur.holdBack),video_part_holdback:Ur.partHoldBack&&Qt(Ur.partHoldBack),video_part_target_duration:Ur.partTarget&&Qt(Ur.partTarget),video_target_duration:Ur.targetduration&&Qt(Ur.targetduration),video_source_is_live:Ur.live,player_manifest_newest_program_time:isNaN(Vo)?void 0:Vo})};Ye.on(ct.Events.LEVEL_LOADED,Fn);var Un=function(so,Pr){var Ur=Pr.details,Cr=Pr.networkDetails,io=Pr.stats,co=U(io),Wo=co.bytesLoaded,qo=co.requestStart,Jo=co.responseStart,Go=co.responseEnd;hn("requestcompleted",{request_event_type:so,request_bytes_loaded:Wo,request_start:qo,request_response_start:Jo,request_response_end:Go,request_type:"manifest",request_hostname:E(Ur.url),request_response_headers:V(Cr)})};Ye.on(ct.Events.AUDIO_TRACK_LOADED,Un);var nr=function(so,Pr){var Ur=Pr.stats,Cr=Pr.networkDetails,io=Pr.frag;Ur=Ur||io.stats;var co=U(Ur),Wo=co.bytesLoaded,qo=co.requestStart,Jo=co.responseStart,Go=co.responseEnd,ko=Cr?V(Cr):void 0,Ho={request_event_type:so,request_bytes_loaded:Wo,request_start:qo,request_response_start:Jo,request_response_end:Go,request_hostname:Cr?E(Cr.responseURL):void 0,request_id:ko?C(ko):void 0,request_response_headers:ko,request_media_duration:io.duration,request_url:Cr==null?void 0:Cr.responseURL};io.type==="main"?(Ho.request_type="media",Ho.request_current_level=io.level,Ho.request_video_width=(Ye.levels[io.level]||{}).width,Ho.request_video_height=(Ye.levels[io.level]||{}).height,Ho.request_labeled_bitrate=(Ye.levels[io.level]||{}).bitrate):Ho.request_type=io.type,hn("requestcompleted",Ho)};Ye.on(ct.Events.FRAG_LOADED,nr);var jr=function(so,Pr){var Ur=Pr.frag,Cr=Ur.start,io={currentFragmentPDT:En(Ur),currentFragmentStart:Qt(Cr)};hn("fragmentchange",io)};Ye.on(ct.Events.FRAG_CHANGED,jr);var Hr=function(so,Pr){var Ur=Pr.type,Cr=Pr.details,io=Pr.response,co=Pr.fatal,Wo=Pr.frag,qo=Pr.networkDetails,Jo=(Wo==null?void 0:Wo.url)||Pr.url||"",Go=qo?V(qo):void 0;if(Cr!==ct.ErrorDetails.MANIFEST_LOAD_ERROR&&Cr!==ct.ErrorDetails.MANIFEST_LOAD_TIMEOUT&&Cr!==ct.ErrorDetails.FRAG_LOAD_ERROR&&Cr!==ct.ErrorDetails.FRAG_LOAD_TIMEOUT&&Cr!==ct.ErrorDetails.LEVEL_LOAD_ERROR&&Cr!==ct.ErrorDetails.LEVEL_LOAD_TIMEOUT&&Cr!==ct.ErrorDetails.AUDIO_TRACK_LOAD_ERROR&&Cr!==ct.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT&&Cr!==ct.ErrorDetails.SUBTITLE_LOAD_ERROR&&Cr!==ct.ErrorDetails.SUBTITLE_LOAD_TIMEOUT&&Cr!==ct.ErrorDetails.KEY_LOAD_ERROR&&Cr!==ct.ErrorDetails.KEY_LOAD_TIMEOUT||hn("requestfailed",{request_error:Cr,request_url:Jo,request_hostname:E(Jo),request_id:Go?C(Go):void 0,request_type:Cr===ct.ErrorDetails.FRAG_LOAD_ERROR||Cr===ct.ErrorDetails.FRAG_LOAD_TIMEOUT?"media":Cr===ct.ErrorDetails.AUDIO_TRACK_LOAD_ERROR||Cr===ct.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT?"audio":Cr===ct.ErrorDetails.SUBTITLE_LOAD_ERROR||Cr===ct.ErrorDetails.SUBTITLE_LOAD_TIMEOUT?"subtitle":Cr===ct.ErrorDetails.KEY_LOAD_ERROR||Cr===ct.ErrorDetails.KEY_LOAD_TIMEOUT?"encryption":"manifest",request_error_code:io==null?void 0:io.code,request_error_text:io==null?void 0:io.text}),co){var ko,Ho="".concat(Jo?"url: ".concat(Jo,`
`):"")+"".concat(io&&(io.code||io.text)?"response: ".concat(io.code,", ").concat(io.text,`
`):"")+"".concat(Pr.reason?"failure reason: ".concat(Pr.reason,`
`):"")+"".concat(Pr.level?"level: ".concat(Pr.level,`
`):"")+"".concat(Pr.parent?"parent stream controller: ".concat(Pr.parent,`
`):"")+"".concat(Pr.buffer?"buffer length: ".concat(Pr.buffer,`
`):"")+"".concat(Pr.error?"error: ".concat(Pr.error,`
`):"")+"".concat(Pr.event?"event: ".concat(Pr.event,`
`):"")+"".concat(Pr.err?"error message: ".concat((ko=Pr.err)===null||ko===void 0?void 0:ko.message,`
`):"");hn("error",{player_error_code:Ur,player_error_message:Cr,player_error_context:Ho})}};Ye.on(ct.Events.ERROR,Hr);var Br=function(so,Pr){var Ur=Pr.frag,Cr=Ur&&Ur._url||"";hn("requestcanceled",{request_event_type:so,request_url:Cr,request_type:"media",request_hostname:E(Cr)})};Ye.on(ct.Events.FRAG_LOAD_EMERGENCY_ABORTED,Br);var Jr=function(so,Pr){var Ur=Pr.level,Cr=Ye.levels[Ur];if(Cr&&Cr.attrs&&Cr.attrs.BANDWIDTH){var io,co=Cr.attrs.BANDWIDTH,Wo=parseFloat(Cr.attrs["FRAME-RATE"]);isNaN(Wo)||(io=Wo),co?hn("renditionchange",{video_source_fps:io,video_source_bitrate:co,video_source_width:Cr.width,video_source_height:Cr.height,video_source_rendition_name:Cr.name,video_source_codec:Cr==null?void 0:Cr.videoCodec}):Yt.warn("missing BANDWIDTH from HLS manifest parsed by HLS.js")}};Ye.on(ct.Events.LEVEL_SWITCHED,Jr),Ye._stopMuxMonitor=function(){Ye.off(ct.Events.MANIFEST_LOADED,In),Ye.off(ct.Events.LEVEL_LOADED,Fn),Ye.off(ct.Events.AUDIO_TRACK_LOADED,Un),Ye.off(ct.Events.FRAG_LOADED,nr),Ye.off(ct.Events.FRAG_CHANGED,jr),Ye.off(ct.Events.ERROR,Hr),Ye.off(ct.Events.FRAG_LOAD_EMERGENCY_ABORTED,Br),Ye.off(ct.Events.LEVEL_SWITCHED,Jr),Ye.off(ct.Events.DESTROYING,Ye._stopMuxMonitor),delete Ye._stopMuxMonitor},Ye.on(ct.Events.DESTROYING,Ye._stopMuxMonitor)}else Yt.warn("performance timing not supported. Not tracking HLS.js.")}(this.mux,this.id,fe.hlsjs,{},fe.Hls||window.Hls)):this.mux.log.warn("You must pass a valid hlsjs instance in order to track it.")}},{key:"removeHLSJS",value:function(){var fe;this.hlsjs&&((fe=this.hlsjs)&&typeof fe._stopMuxMonitor=="function"&&fe._stopMuxMonitor(),this.hlsjs=void 0)}},{key:"addDashJS",value:function(fe){fe.dashjs?this.dashjs?this.mux.log.warn("An instance of Dash.js is already being monitored for this player."):(this.dashjs=fe.dashjs,function(Ee,Ue,Ye){var ct=Ee.log;if(Ye&&Ye.on){var Yt=function(Br,Jr){return Ee.emit(Ue,Br,Jr)},Qt=function(Br){var Jr=Br.type,so=(Br.data||{}).url;Yt("requestcompleted",{request_event_type:Jr,request_start:0,request_response_start:0,request_response_end:0,request_bytes_loaded:-1,request_type:"manifest",request_hostname:E(so),request_url:so})};Ye.on("manifestLoaded",Qt);var En={},hn=function(Br){var Jr=Br.type,so=Br.fragmentModel,Pr=(Br.chunk||{}).mediaInfo||{},Ur=Pr.type,Cr=Pr.bitrateList,io={};(Cr=Cr||[]).forEach(function(dt,pt){io[pt]={},io[pt].width=dt.width,io[pt].height=dt.height,io[pt].bitrate=dt.bandwidth,io[pt].attrs={}}),Ur==="video"?En.video=io:Ur==="audio"?En.audio=io:En.media=io;var co=R(so,Ye),Wo=co.requestStart,qo=co.requestResponseStart,Jo=co.requestResponseEnd,Go=co.requestResponseHeaders,ko=co.requestMediaDuration,Ho=co.requestHostname,Vo=co.requestUrl,Ti=co.requestId;Yt("requestcompleted",{request_event_type:Jr,request_start:Wo,request_response_start:qo,request_response_end:Jo,request_bytes_loaded:-1,request_type:Ur+"_init",request_response_headers:Go,request_hostname:Ho,request_id:Ti,request_url:Vo,request_media_duration:ko,request_rendition_lists:En})};Ye.on("initFragmentLoaded",hn);var In=function(Br){var Jr=Br.type,so=Br.fragmentModel,Pr=Br.chunk||{},Ur=Pr.mediaInfo,Cr=Pr.start,io=(Ur||{}).type,co=R(so,Ye),Wo=co.requestStart,qo=co.requestResponseStart,Jo=co.requestResponseEnd,Go=co.requestBytesLoaded,ko=co.requestResponseHeaders,Ho=co.requestMediaDuration,Vo=co.requestHostname,Ti=co.requestUrl,dt=co.requestId,pt=B(io,Ye),Xt=pt.currentLevel,Hn=pt.renditionWidth,ir=pt.renditionHeight,It=pt.renditionBitrate;Yt("requestcompleted",{request_event_type:Jr,request_start:Wo,request_response_start:qo,request_response_end:Jo,request_bytes_loaded:Go,request_type:io,request_response_headers:ko,request_hostname:Vo,request_id:dt,request_url:Ti,request_media_start_time:Cr,request_media_duration:Ho,request_current_level:Xt,request_labeled_bitrate:It,request_video_width:Hn,request_video_height:ir})};Ye.on("mediaFragmentLoaded",In);var Fn={video:void 0,audio:void 0,totalBitrate:void 0},Un=function(){if(Fn.video&&typeof Fn.video.bitrate=="number"){if(Fn.video.width&&Fn.video.height){var Br=Fn.video.bitrate;return Fn.audio&&typeof Fn.audio.bitrate=="number"&&(Br+=Fn.audio.bitrate),Br!==Fn.totalBitrate?(Fn.totalBitrate=Br,{video_source_bitrate:Br,video_source_height:Fn.video.height,video_source_width:Fn.video.width,video_source_codec:x(Fn.video.codec)}):void 0}ct.warn("have bitrate info for video but missing width/height")}},nr=function(Br,Jr,so){if(typeof Br.newQuality=="number"){var Pr=Br.mediaType;if(Pr==="audio"||Pr==="video"){var Ur=Ye.getBitrateInfoListFor(Pr).find(function(io){return io.qualityIndex===Br.newQuality});if(Ur&&typeof Ur.bitrate=="number"){Fn[Pr]=Y(Y({},Ur),{},{codec:Ye.getCurrentTrackFor(Pr).codec});var Cr=Un();Cr&&Yt("renditionchange",Cr)}else ct.warn("missing bitrate info for ".concat(Pr))}}else ct.warn("missing evt.newQuality in qualityChangeRendered event",Br)};Ye.on("qualityChangeRendered",nr);var jr=function(Br){var Jr=Br.request,so=Br.mediaType;Yt("requestcanceled",{request_event_type:(Jr=Jr||{}).type+"_"+Jr.action,request_url:Jr.url,request_type:so,request_hostname:E(Jr.url)})};Ye.on("fragmentLoadingAbandoned",jr);var Hr=function(Br){var Jr,so,Pr=Br.error,Ur=(Pr==null||(Jr=Pr.data)===null||Jr===void 0?void 0:Jr.request)||{},Cr=(Pr==null||(so=Pr.data)===null||so===void 0?void 0:so.response)||{};(Pr==null?void 0:Pr.code)===27&&Yt("requestfailed",{request_error:Ur.type+"_"+Ur.action,request_url:Ur.url,request_hostname:E(Ur.url),request_type:Ur.mediaType,request_error_code:Cr.status,request_error_text:Cr.statusText});var io="".concat(Ur!=null&&Ur.url?"url: ".concat(Ur.url,`
`):"")+"".concat(Cr!=null&&Cr.status||Cr!=null&&Cr.statusText?"response: ".concat(Cr==null?void 0:Cr.status,", ").concat(Cr==null?void 0:Cr.statusText,`
`):"");Yt("error",{player_error_code:Pr==null?void 0:Pr.code,player_error_message:Pr==null?void 0:Pr.message,player_error_context:io})};Ye.on("error",Hr),Ye._stopMuxMonitor=function(){Ye.off("manifestLoaded",Qt),Ye.off("initFragmentLoaded",hn),Ye.off("mediaFragmentLoaded",In),Ye.off("qualityChangeRendered",nr),Ye.off("error",Hr),Ye.off("fragmentLoadingAbandoned",jr),delete Ye._stopMuxMonitor}}else ct.warn("Invalid dash.js player reference. Monitoring blocked.")}(this.mux,this.id,fe.dashjs)):this.mux.log.warn("You must pass a valid dashjs instance in order to track it.")}},{key:"removeDashJS",value:function(){var fe;this.dashjs&&((fe=this.dashjs)&&typeof fe._stopMuxMonitor=="function"&&fe._stopMuxMonitor(),this.dashjs=void 0)}}],tt&&Jt(Ge.prototype,tt),Pt&&Jt(Ge,Pt),Object.defineProperty(Ge,"prototype",{writable:!1}),me}(Z),Lt=Or,qt=f(153),wn=f.n(qt);function $n(et){return $n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ge){return typeof Ge}:function(Ge){return Ge&&typeof Symbol=="function"&&Ge.constructor===Symbol&&Ge!==Symbol.prototype?"symbol":typeof Ge},$n(et)}function Wn(et,Ge){return function(tt){if(Array.isArray(tt))return tt}(et)||function(tt,Pt){var gt=tt==null?null:typeof Symbol!="undefined"&&tt[Symbol.iterator]||tt["@@iterator"];if(gt!=null){var me,fe,Ee=[],Ue=!0,Ye=!1;try{for(gt=gt.call(tt);!(Ue=(me=gt.next()).done)&&(Ee.push(me.value),!Pt||Ee.length!==Pt);Ue=!0);}catch(ct){Ye=!0,fe=ct}finally{try{Ue||gt.return==null||gt.return()}finally{if(Ye)throw fe}}return Ee}}(et,Ge)||function(tt,Pt){if(tt){if(typeof tt=="string")return Jn(tt,Pt);var gt=Object.prototype.toString.call(tt).slice(8,-1);return gt==="Object"&&tt.constructor&&(gt=tt.constructor.name),gt==="Map"||gt==="Set"?Array.from(tt):gt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(gt)?Jn(tt,Pt):void 0}}(et,Ge)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Jn(et,Ge){(Ge==null||Ge>et.length)&&(Ge=et.length);for(var tt=0,Pt=new Array(Ge);tt<Ge;tt++)Pt[tt]=et[tt];return Pt}var Tr,Qr=["loadstart","pause","play","playing","seeking","seeked","timeupdate","ratechange","stalled","waiting","error","ended"],ao={1:"MEDIA_ERR_ABORTED",2:"MEDIA_ERR_NETWORK",3:"MEDIA_ERR_DECODE",4:"MEDIA_ERR_SRC_NOT_SUPPORTED"};p()&&p().WeakMap&&(Tr=new WeakMap);var oo="#EXT-X-TARGETDURATION",eo="#EXT-X-PART-INF",bo="#EXT-X-SERVER-CONTROL",zo="#EXTINF",Eo="#EXT-X-PROGRAM-DATE-TIME",Co="#EXT-X-VERSION",Mo="#EXT-X-SESSION-DATA",ft=function(et){return this.buffer="",this.manifest={segments:[],serverControl:{},sessionData:{}},this.currentUri={},this.process(et),this.manifest};ft.prototype.process=function(et){var Ge;for(this.buffer+=et,Ge=this.buffer.indexOf(`
`);Ge>-1;Ge=this.buffer.indexOf(`
`))this.processLine(this.buffer.substring(0,Ge)),this.buffer=this.buffer.substring(Ge+1)},ft.prototype.processLine=function(et){var Ge=et.indexOf(":"),tt=Je(et,Ge),Pt=tt[0],gt=tt.length===2?mt(tt[1]):void 0;if(Pt[0]!=="#")this.currentUri.uri=Pt,this.manifest.segments.push(this.currentUri),this.manifest.targetDuration&&!("duration"in this.currentUri)&&(this.currentUri.duration=this.manifest.targetDuration),this.currentUri={};else switch(Pt){case oo:if(!isFinite(gt)||gt<0)return;this.manifest.targetDuration=gt,this.setHoldBack();break;case eo:qe(this.manifest,tt),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),this.setHoldBack();break;case bo:qe(this.manifest,tt),this.setHoldBack();break;case zo:gt===0?this.currentUri.duration=.01:gt>0&&(this.currentUri.duration=gt);break;case Eo:var me=gt,fe=new Date(me);this.manifest.dateTimeString||(this.manifest.dateTimeString=me,this.manifest.dateTimeObject=fe),this.currentUri.dateTimeString=me,this.currentUri.dateTimeObject=fe;break;case Co:qe(this.manifest,tt);break;case Mo:var Ee=St(tt[1]),Ue=T(Ee);Object.assign(this.manifest.sessionData,Ue)}},ft.prototype.setHoldBack=function(){var et=this.manifest,Ge=et.serverControl,tt=et.targetDuration,Pt=et.partTargetDuration;if(Ge){var gt="holdBack",me="partHoldBack",fe=tt&&3*tt,Ee=Pt&&2*Pt;tt&&!Ge.hasOwnProperty(gt)&&(Ge[gt]=fe),fe&&Ge[gt]<fe&&(Ge[gt]=fe),Pt&&!Ge.hasOwnProperty(me)&&(Ge[me]=3*Pt),Pt&&Ge[me]<Ee&&(Ge[me]=Ee)}};var qe=function(et,Ge){var tt,Pt=rt(Ge[0].replace("#EXT-X-",""));An(Ge[1])?(tt={},tt=Object.assign(yn(Ge[1]),tt)):tt=mt(Ge[1]),et[Pt]=tt},rt=function(et){return et.toLowerCase().replace(/-(\w)/g,function(Ge){return Ge[1].toUpperCase()})},mt=function(et){if(et.toLowerCase()==="yes"||et.toLowerCase()==="no")return et.toLowerCase()==="yes";var Ge=et.indexOf(":")!==-1?et:parseFloat(et);return isNaN(Ge)?et:Ge},un=function(et){var Ge={},tt=et.split("=");return tt.length>1&&(Ge[rt(tt[0])]=mt(tt[1])),Ge},yn=function(et){for(var Ge=et.split(","),tt={},Pt=0;Ge.length>Pt;Pt++){var gt=Ge[Pt],me=un(gt);tt=Object.assign(me,tt)}return tt},An=function(et){return et.indexOf("=")>-1},Je=function(et,Ge){return Ge===-1?[et]:[et.substring(0,Ge),et.substring(Ge+1)]},St=function(et){var Ge={};if(et){var tt=et.search(",");return[et.slice(0,tt),et.slice(tt+1)].forEach(function(Pt,gt){for(var me=Pt.replace(/['"]+/g,"").split("="),fe=0;fe<me.length;fe++)me[fe]==="DATA-ID"&&(Ge["DATA-ID"]=me[1-fe]),me[fe]==="VALUE"&&(Ge.VALUE=me[1-fe])}),{data:Ge}}},Gt=ft,vn={safeCall:function(et,Ge,tt,Pt){var gt=Pt;if(et&&typeof et[Ge]=="function")try{gt=et[Ge].apply(et,tt)}catch(me){j.info("safeCall error",me)}return gt},safeIncrement:_,getComputedStyle:function(et,Ge){var tt;if(et&&Ge&&p()&&typeof p().getComputedStyle=="function")return Tr&&Tr.has(et)&&(tt=Tr.get(et)),tt||(tt=p().getComputedStyle(et,null),Tr&&Tr.set(et,tt)),tt.getPropertyValue(Ge)},secondsToMs:function(et){return Math.floor(1e3*et)},assign:Object.assign,headersStringToObject:H,cdnHeadersToRequestId:C,extractHostnameAndDomain:P,extractHostname:E,manifestParser:Gt,generateShortID:O,generateUUID:g,now:b.now},kn={PLAYER_READY:"playerready",VIEW_INIT:"viewinit",VIDEO_CHANGE:"videochange",PLAY:"play",PAUSE:"pause",PLAYING:"playing",TIME_UPDATE:"timeupdate",SEEKING:"seeking",SEEKED:"seeked",REBUFFER_START:"rebufferstart",REBUFFER_END:"rebufferend",ERROR:"error",ENDED:"ended",RENDITION_CHANGE:"renditionchange",ORIENTATION_CHANGE:"orientationchange",AD_REQUEST:"adrequest",AD_RESPONSE:"adresponse",AD_BREAK_START:"adbreakstart",AD_PLAY:"adplay",AD_PLAYING:"adplaying",AD_PAUSE:"adpause",AD_FIRST_QUARTILE:"adfirstquartile",AD_MID_POINT:"admidpoint",AD_THIRD_QUARTILE:"adthirdquartile",AD_ENDED:"adended",AD_BREAK_END:"adbreakend",AD_ERROR:"aderror",REQUEST_COMPLETED:"requestcompleted",REQUEST_FAILED:"requestfailed",REQUEST_CANCELLED:"requestcanceled"};function or(et,Ge){return function(tt){if(Array.isArray(tt))return tt}(et)||function(tt,Pt){var gt=tt==null?null:typeof Symbol!="undefined"&&tt[Symbol.iterator]||tt["@@iterator"];if(gt!=null){var me,fe,Ee=[],Ue=!0,Ye=!1;try{for(gt=gt.call(tt);!(Ue=(me=gt.next()).done)&&(Ee.push(me.value),!Pt||Ee.length!==Pt);Ue=!0);}catch(ct){Ye=!0,fe=ct}finally{try{Ue||gt.return==null||gt.return()}finally{if(Ye)throw fe}}return Ee}}(et,Ge)||function(tt,Pt){if(tt){if(typeof tt=="string")return fr(tt,Pt);var gt=Object.prototype.toString.call(tt).slice(8,-1);return gt==="Object"&&tt.constructor&&(gt=tt.constructor.name),gt==="Map"||gt==="Set"?Array.from(tt):gt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(gt)?fr(tt,Pt):void 0}}(et,Ge)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function fr(et,Ge){(Ge==null||Ge>et.length)&&(Ge=et.length);for(var tt=0,Pt=new Array(Ge);tt<Ge;tt++)Pt[tt]=et[tt];return Pt}var er={},Ln=function et(Ge){var tt=arguments;typeof Ge=="string"?et.hasOwnProperty(Ge)?p().setTimeout(function(){tt=Array.prototype.splice.call(tt,1),et[Ge].apply(null,tt)},0):j.warn("`"+Ge+"` is an unknown task"):typeof Ge=="function"?p().setTimeout(function(){Ge(et)},0):j.warn("`"+Ge+"` is invalid.")},ur={loaded:b.now(),NAME:"mux-embed",VERSION:"4.25.0",API_VERSION:"2.1",PLAYER_TRACKED:!1,monitor:function(et,Ge){return function(tt,Pt,gt){var me=Wn(r(Pt),3),fe=me[0],Ee=me[1],Ue=me[2],Ye=tt.log,ct=tt.utils.getComputedStyle,Yt=tt.utils.secondsToMs;if(!fe)return Ye.error("No element was found with the `"+Ee+"` query selector.");if(Ue!=="video"&&Ue!=="audio")return Ye.error("The element of `"+Ee+"` was not a media element.");fe.mux&&(fe.mux.destroy(),delete fe.mux,Ye.warn("Already monitoring this video element, replacing existing event listeners")),(gt=Object.assign({automaticErrorTracking:!0},gt)).data=Object.assign({player_software:"HTML5 Video Element",player_mux_plugin_name:"VideoElementMonitor",player_mux_plugin_version:tt.VERSION},gt.data),gt.getPlayheadTime=function(){return Yt(fe.currentTime)},gt.getStateData=function(){var En,hn,In=this.hlsjs&&this.hlsjs.url,Fn=this.dashjs&&$n(this.dashjs.getSource==="function")&&this.dashjs.getSource(),Un={player_is_paused:fe.paused,player_playhead_time:Yt(fe.currentTime),player_width:parseInt(ct(fe,"width")),player_height:parseInt(ct(fe,"height")),player_autoplay_on:fe.autoplay,player_preload_on:fe.preload,player_language_code:fe.lang,player_is_fullscreen:wn()&&!!(wn().fullscreenElement||wn().webkitFullscreenElement||wn().mozFullScreenElement||wn().msFullscreenElement),video_poster_url:fe.poster,video_source_url:In||Fn||fe.currentSrc,video_source_duration:Yt(fe.duration),video_source_height:fe.videoHeight,video_source_width:fe.videoWidth,view_dropped_frame_count:(En=fe)===null||En===void 0||(hn=En.getVideoPlaybackQuality)===null||hn===void 0?void 0:hn.call(En).droppedVideoFrames},nr=gt.getPlayheadTime();if(fe.getStartDate&&nr>0){var jr=fe.getStartDate();if(jr&&typeof jr.getTime=="function"&&jr.getTime()){var Hr=jr.getTime();if(Un.player_program_time=Hr+nr,fe.seekable.length>0){var Br=Hr+fe.seekable.end(fe.seekable.length-1);Un.player_live_edge_program_time=Br}}}return Un},fe.mux=fe.mux||{},fe.mux.deleted=!1,fe.mux.emit=function(En,hn){tt.emit(Ee,En,hn)};var Qt=function(){Ye.error("The monitor for this video element has already been destroyed.")};fe.mux.destroy=function(){Object.keys(fe.mux.listeners).forEach(function(En){fe.removeEventListener(En,fe.mux.listeners[En],!1)}),delete fe.mux.listeners,fe.mux.destroy=Qt,fe.mux.swapElement=Qt,fe.mux.emit=Qt,fe.mux.addHLSJS=Qt,fe.mux.addDashJS=Qt,fe.mux.removeHLSJS=Qt,fe.mux.removeDashJS=Qt,fe.mux.deleted=!0,tt.emit(Ee,"destroy")},fe.mux.swapElement=function(En){var hn=Wn(r(En),3),In=hn[0],Fn=hn[1],Un=hn[2];return In?Un!=="video"&&Un!=="audio"?tt.log.error("The element of `"+Fn+"` was not a media element."):(In.muxId=fe.muxId,delete fe.muxId,In.mux=In.mux||{},In.mux.listeners=Object.assign({},fe.mux.listeners),delete fe.mux.listeners,Object.keys(In.mux.listeners).forEach(function(nr){fe.removeEventListener(nr,In.mux.listeners[nr],!1),In.addEventListener(nr,In.mux.listeners[nr],!1)}),In.mux.swapElement=fe.mux.swapElement,In.mux.destroy=fe.mux.destroy,delete fe.mux,void(fe=In)):tt.log.error("No element was found with the `"+Fn+"` query selector.")},fe.mux.addHLSJS=function(En){tt.addHLSJS(Ee,En)},fe.mux.addDashJS=function(En){tt.addDashJS(Ee,En)},fe.mux.removeHLSJS=function(){tt.removeHLSJS(Ee)},fe.mux.removeDashJS=function(){tt.removeDashJS(Ee)},tt.init(Ee,gt),tt.emit(Ee,"playerready"),fe.paused||(tt.emit(Ee,"play"),fe.readyState>2&&tt.emit(Ee,"playing")),fe.mux.listeners={},Qr.forEach(function(En){(En!=="error"||gt.automaticErrorTracking)&&(fe.mux.listeners[En]=function(){var hn={};if(En==="error"){if(!fe.error||fe.error.code===1)return;hn.player_error_code=fe.error.code,hn.player_error_message=ao[fe.error.code]||fe.error.message}tt.emit(Ee,En,hn)},fe.addEventListener(En,fe.mux.listeners[En],!1))})}(Ln,et,Ge)},destroyMonitor:function(et){var Ge=or(r(et),1)[0];Ge&&Ge.mux&&typeof Ge.mux.destroy=="function"?Ge.mux.destroy():j.error("A video element monitor for `"+et+"` has not been initialized via `mux.monitor`.")},addHLSJS:function(et,Ge){var tt=s(et);er[tt]?er[tt].addHLSJS(Ge):j.error("A monitor for `"+tt+"` has not been initialized.")},addDashJS:function(et,Ge){var tt=s(et);er[tt]?er[tt].addDashJS(Ge):j.error("A monitor for `"+tt+"` has not been initialized.")},removeHLSJS:function(et){var Ge=s(et);er[Ge]?er[Ge].removeHLSJS():j.error("A monitor for `"+Ge+"` has not been initialized.")},removeDashJS:function(et){var Ge=s(et);er[Ge]?er[Ge].removeDashJS():j.error("A monitor for `"+Ge+"` has not been initialized.")},init:function(et,Ge){y()&&Ge&&Ge.respectDoNotTrack&&j.info("The browser's Do Not Track flag is enabled - Mux beaconing is disabled.");var tt=s(et);er[tt]=new Lt(Ln,tt,Ge)},emit:function(et,Ge,tt){var Pt=s(et);er[Pt]?(er[Pt].emit(Ge,tt),Ge==="destroy"&&delete er[Pt]):j.error("A monitor for `"+Pt+"` has not been initialized.")},checkDoNotTrack:y,log:j,utils:vn,events:kn,WINDOW_HIDDEN:!1,WINDOW_UNLOADING:!1};Object.assign(Ln,ur),p()!==void 0&&typeof p().addEventListener=="function"&&p().addEventListener("pagehide",function(et){et.persisted||(Ln.WINDOW_UNLOADING=!0)},!1);var br=Ln},655:function(c,u,f){var m,p;function g(O){return g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},g(O);/*!
 * JavaScript Cookie v2.1.3
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */}(function(O){var s=!1;if((p=typeof(m=O)=="function"?m.call(u,f,u,c):m)===void 0||(c.exports=p),s=!0,g(u)==="object"&&(c.exports=O(),s=!0),!s){var r=window.Cookies,i=window.Cookies=O();i.noConflict=function(){return window.Cookies=r,i}}})(function(){var O=function(){for(var s=0,r={};s<arguments.length;s++){var i=arguments[s];for(var h in i)r[h]=i[h]}return r};return function s(r){function i(h,v,j){var y;if(typeof document!="undefined"){if(arguments.length>1){if(typeof(j=O({path:"/"},i.defaults,j)).expires=="number"){var b=new Date;b.setMilliseconds(b.getMilliseconds()+864e5*j.expires),j.expires=b}try{y=JSON.stringify(v),/^[\{\[]/.test(y)&&(v=y)}catch(H){}return v=r.write?r.write(v,h):encodeURIComponent(String(v)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),h=(h=(h=encodeURIComponent(String(h))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape),document.cookie=[h,"=",v,j.expires?"; expires="+j.expires.toUTCString():"",j.path?"; path="+j.path:"",j.domain?"; domain="+j.domain:"",j.secure?"; secure":""].join("")}h||(y={});for(var E=document.cookie?document.cookie.split("; "):[],P=/(%[0-9A-Z]{2})+/g,A=0;A<E.length;A++){var _=E[A].split("="),M=_.slice(1).join("=");M.charAt(0)==='"'&&(M=M.slice(1,-1));try{var F=_[0].replace(P,decodeURIComponent);if(M=r.read?r.read(M,F):r(M,F)||M.replace(P,decodeURIComponent),this.json)try{M=JSON.parse(M)}catch(H){}if(h===F){y=M;break}h||(y[F]=M)}catch(H){}}return y}}return i.set=i,i.get=function(h){return i.call(i,h)},i.getJSON=function(){return i.apply({json:!0},[].slice.call(arguments))},i.defaults={},i.remove=function(h,v){i(h,"",O(v,{expires:-1}))},i.withConverter=s,i}(function(){})})},153:function(c,u,f){var m,p=f.g!==void 0?f.g:typeof window!="undefined"?window:{},g=f(558);typeof document!="undefined"?m=document:(m=p["__GLOBAL_DOCUMENT_CACHE@4"])||(m=p["__GLOBAL_DOCUMENT_CACHE@4"]=g),c.exports=m},48:function(c,u,f){var m;m=typeof window!="undefined"?window:f.g!==void 0?f.g:typeof self!="undefined"?self:{},c.exports=m},640:function(c,u,f){var m,p;(function(g,O){"use strict";m=function(){var s=function(){},r="undefined",i=typeof window!==r&&typeof window.navigator!==r&&/Trident\/|MSIE /.test(window.navigator.userAgent),h=["trace","debug","info","warn","error"];function v(H,C){var T=H[C];if(typeof T.bind=="function")return T.bind(H);try{return Function.prototype.bind.call(T,H)}catch(S){return function(){return Function.prototype.apply.apply(T,[H,arguments])}}}function j(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function y(H){return H==="debug"&&(H="log"),typeof console!==r&&(H==="trace"&&i?j:console[H]!==void 0?v(console,H):console.log!==void 0?v(console,"log"):s)}function b(H,C){for(var T=0;T<h.length;T++){var S=h[T];this[S]=T<H?s:this.methodFactory(S,H,C)}this.log=this.debug}function E(H,C,T){return function(){typeof console!==r&&(b.call(this,C,T),this[H].apply(this,arguments))}}function P(H,C,T){return y(H)||E.apply(this,arguments)}function A(H,C,T){var S,D=this;C=C==null?"WARN":C;var w="loglevel";function U(W){var R=(h[W]||"silent").toUpperCase();if(typeof window!==r&&w){try{return void(window.localStorage[w]=R)}catch(B){}try{window.document.cookie=encodeURIComponent(w)+"="+R+";"}catch(B){}}}function V(){var W;if(typeof window!==r&&w){try{W=window.localStorage[w]}catch(x){}if(typeof W===r)try{var R=window.document.cookie,B=R.indexOf(encodeURIComponent(w)+"=");B!==-1&&(W=/^([^;]+)/.exec(R.slice(B))[1])}catch(x){}return D.levels[W]===void 0&&(W=void 0),W}}function K(){if(typeof window!==r&&w){try{return void window.localStorage.removeItem(w)}catch(W){}try{window.document.cookie=encodeURIComponent(w)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(W){}}}typeof H=="string"?w+=":"+H:typeof H=="symbol"&&(w=void 0),D.name=H,D.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},D.methodFactory=T||P,D.getLevel=function(){return S},D.setLevel=function(W,R){if(typeof W=="string"&&D.levels[W.toUpperCase()]!==void 0&&(W=D.levels[W.toUpperCase()]),!(typeof W=="number"&&W>=0&&W<=D.levels.SILENT))throw"log.setLevel() called with invalid level: "+W;if(S=W,R!==!1&&U(W),b.call(D,W,H),typeof console===r&&W<D.levels.SILENT)return"No console available for logging"},D.setDefaultLevel=function(W){C=W,V()||D.setLevel(W,!1)},D.resetLevel=function(){D.setLevel(C,!1),K()},D.enableAll=function(W){D.setLevel(D.levels.TRACE,W)},D.disableAll=function(W){D.setLevel(D.levels.SILENT,W)};var Y=V();Y==null&&(Y=C),D.setLevel(Y,!1)}var _=new A,M={};_.getLogger=function(H){if(typeof H!="symbol"&&typeof H!="string"||H==="")throw new TypeError("You must supply a name when creating a logger.");var C=M[H];return C||(C=M[H]=new A(H,_.getLevel(),_.methodFactory)),C};var F=typeof window!==r?window.log:void 0;return _.noConflict=function(){return typeof window!==r&&window.log===_&&(window.log=F),_},_.getLoggers=function(){return M},_.default=_,_},(p=typeof m=="function"?m.call(u,f,u,c):m)===void 0||(c.exports=p)})()},375:function(c,u){"use strict";var f=Object.prototype.hasOwnProperty;function m(g){try{return decodeURIComponent(g.replace(/\+/g," "))}catch(O){return null}}function p(g){try{return encodeURIComponent(g)}catch(O){return null}}u.stringify=function(g,O){O=O||"";var s,r,i=[];for(r in typeof O!="string"&&(O="?"),g)if(f.call(g,r)){if((s=g[r])||s!=null&&!isNaN(s)||(s=""),r=p(r),s=p(s),r===null||s===null)continue;i.push(r+"="+s)}return i.length?O+i.join("&"):""},u.parse=function(g){for(var O,s=/([^=?#&]+)=?([^&]*)/g,r={};O=s.exec(g);){var i=m(O[1]),h=m(O[2]);i===null||h===null||i in r||(r[i]=h)}return r}},558:function(){}},l={};function d(c){var u=l[c];if(u!==void 0)return u.exports;var f=l[c]={exports:{}};return o[c].call(f.exports,f,f.exports,d),f.exports}return d.n=function(c){var u=c&&c.__esModule?function(){return c.default}:function(){return c};return d.d(u,{a:u}),u},d.d=function(c,u){for(var f in u)d.o(u,f)&&!d.o(c,f)&&Object.defineProperty(c,f,{enumerable:!0,get:u[f]})},d.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(c){if(typeof window=="object")return window}}(),d.o=function(c,u){return Object.prototype.hasOwnProperty.call(c,u)},d(80)}()},k.exports=a()})()},,,function(k,n,t){"use strict";t.d(n,"a",function(){return p});var e=t(0),a=t(5),o=t.n(a),l=Object.defineProperty,d=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,f=(s,r,i)=>r in s?l(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,m=(s,r)=>{for(var i in r||(r={}))c.call(r,i)&&f(s,i,r[i]);if(d)for(var i of d(r))u.call(r,i)&&f(s,i,r[i]);return s};const p=s=>s.alignment==="center"?Object(e.h)(O,m({},s)):Object(e.h)(g,m({},s)),g=({primaryButton:s,secondaryButton:r,destructiveButton:i,includeDivider:h,className:v})=>Object(e.h)("div",{className:o()("tw-flex tw-justify-end tw-gap-2 tw-p-4",{"tw-shadow-detail-inset":h},v)},i&&Object(e.cloneElement)(i,{className:o()("tw-mr-auto",i.props.className)}),r,s),O=({includeDivider:s,primaryButton:r,secondaryButton:i,className:h})=>Object(e.h)("div",{className:o()("tw-flex tw-flex-col tw-gap-2 tw-py-4 tw-px-4",{"tw-shadow-detail-inset":s},h)},r,i)},function(k,n,t){if(!1)var e,a;else k.exports=t(910)()},function(k,n,t){var e=t(587),a=t(533),o=Object.prototype,l=o.propertyIsEnumerable,d=Object.getOwnPropertySymbols,c=d?function(u){return u==null?[]:(u=Object(u),e(d(u),function(f){return l.call(u,f)}))}:a;k.exports=c},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"AuthorBadgeIcon",svgParams:{height:15,width:12,viewBox:"0 0 12 15"}}),Object(e.h)("path",{d:"M3.50002 2.58453C3.33335 3.58454 2.50001 5.58455 1 7.08456L6 14.5","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("circle",{cx:"6.00019",cy:"8.58503",r:"1.00001","stroke-width":"1"}),Object(e.h)("path",{d:"M3 0.5V2.58469H9.00004V0.5","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M8.49998 2.58453C8.66665 3.58454 9.49999 5.58455 11 7.08456L6 14.5","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M6.00012 9.58484L6.00012 14.5849","stroke-width":"1"}));n.default=O},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(r,i,h)=>i in r?o(r,i,{enumerable:!0,configurable:!0,writable:!0,value:h}):r[i]=h,p=(r,i)=>{for(var h in i||(i={}))u.call(i,h)&&m(r,h,i[h]);if(c)for(var h of c(i))f.call(i,h)&&m(r,h,i[h]);return r},g=(r,i)=>l(r,d(i)),O=(r,i)=>{var h={};for(var v in r)u.call(r,v)&&i.indexOf(v)<0&&(h[v]=r[v]);if(r!=null&&c)for(var v of c(r))i.indexOf(v)<0&&f.call(r,v)&&(h[v]=r[v]);return h};const s=r=>{var i=r,{fill:h}=i,v=O(i,["fill"]);return Object(e.h)(a.a,g(p({},v),{name:"CheckboxCheckmarkIcon",svgParams:{viewBox:"0 0 16 13",height:16,width:13,fill:h||"white"}}),Object(e.h)("path",{d:"M5.71444 12.6276L0 6.9132L1.61147 5.30173L5.71444 9.39327L14.389 0.71875L16.0004 2.34165L5.71444 12.6276Z",stroke:h||"white"}))};n.default=s},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(r,i,h)=>i in r?o(r,i,{enumerable:!0,configurable:!0,writable:!0,value:h}):r[i]=h,p=(r,i)=>{for(var h in i||(i={}))u.call(i,h)&&m(r,h,i[h]);if(c)for(var h of c(i))f.call(i,h)&&m(r,h,i[h]);return r},g=(r,i)=>l(r,d(i)),O=(r,i)=>{var h={};for(var v in r)u.call(r,v)&&i.indexOf(v)<0&&(h[v]=r[v]);if(r!=null&&c)for(var v of c(r))i.indexOf(v)<0&&f.call(r,v)&&(h[v]=r[v]);return h};const s=r=>{var i=r,{color:h="#262626"}=i,v=O(i,["color"]);return Object(e.h)(a.a,g(p({},v),{name:"LockThinIcon",svgParams:{height:16,width:16}}),Object(e.h)("path",{className:"lock-shackle",d:"M5 6L5 3.9C5 2.57452 6.11929 1.5 7.5 1.5C8.88071 1.5 10 2.57452 10 3.9V6",stroke:h}),Object(e.h)("path",{className:"lock-body",d:"M2 7.5C2 6.94772 2.44772 6.5 3 6.5H12C12.5523 6.5 13 6.94772 13 7.5V12.5C13 13.0523 12.5523 13.5 12 13.5H3C2.44771 13.5 2 13.0523 2 12.5V7.5Z",fill:h,stroke:h}))};n.default=s},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"LucideTabNotesFilled",svgParams:{height:24,width:24}}),Object(e.h)("path",{d:"M6.785 1.92766C5.45134 1.57031 4.08049 2.36176 3.72314 3.69543L0.444815 15.9303C0.0874636 17.264 0.878901 18.6348 2.21255 18.9922L5.37495 19.8396V7.66664C5.37495 6.40099 6.40096 5.37498 7.66661 5.37498H19.4723C19.3299 5.30548 19.1788 5.24858 19.0201 5.20604L6.785 1.92766Z",fill:s.fill,stroke:"none"}),Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.44161 7.4C7.86632 7.4 7.39995 7.86637 7.39995 8.44167V22.1081C7.39995 22.6834 7.86631 23.1498 8.4416 23.1498L22.1083 23.15C22.6836 23.15 23.1499 22.6836 23.1499 22.1083V8.44167C23.1499 7.86637 22.6836 7.4 22.1083 7.4H8.44161ZM10.3999 9.65C9.84766 9.65 9.39995 10.0977 9.39995 10.65C9.39995 11.2023 9.84766 11.65 10.3999 11.65H18.3999C18.9522 11.65 19.3999 11.2023 19.3999 10.65C19.3999 10.0977 18.9522 9.65 18.3999 9.65H10.3999ZM10.3999 14.15C9.84766 14.15 9.39995 14.5977 9.39995 15.15C9.39995 15.7023 9.84766 16.15 10.3999 16.15H15.3999C15.9522 16.15 16.3999 15.7023 16.3999 15.15C16.3999 14.5977 15.9522 14.15 15.3999 14.15H10.3999Z",fill:s.fill,stroke:"none"}));n.default=O},function(k,n,t){"use strict";t.d(n,"a",function(){return e});function e(a,o){if(a==null)return{};var l={},d=Object.keys(a),c,u;for(u=0;u<d.length;u++)c=d[u],!(o.indexOf(c)>=0)&&(l[c]=a[c]);return l}},function(k,n,t){(function(e){var a=t(413),o=n&&!n.nodeType&&n,l=o&&typeof e=="object"&&e&&!e.nodeType&&e,d=l&&l.exports===o,c=d&&a.process,u=function(){try{var f=l&&l.require&&l.require("util").types;return f||c&&c.binding&&c.binding("util")}catch(m){}}();e.exports=u}).call(this,t(271)(k))},function(k,n,t){var e=t(678),a=t(679);function o(l,d){return l!=null&&a(l,d,e)}k.exports=o},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"ImageIcon",svgParams:{height:52.13,width:63.67}}),Object(e.h)("path",{d:"M58.55,52.13H5.13A5.13,5.13,0,0,1,0,47V5.13A5.13,5.13,0,0,1,5.13,0H58.55a5.13,5.13,0,0,1,5.13,5.13V47A5.13,5.13,0,0,1,58.55,52.13ZM5.13,4A1.13,1.13,0,0,0,4,5.13V47a1.13,1.13,0,0,0,1.13,1.13H58.55A1.13,1.13,0,0,0,59.67,47V5.13A1.13,1.13,0,0,0,58.55,4Z"}),Object(e.h)("path",{d:"M12.08,43.46H51.59A1.69,1.69,0,0,0,53,40.77l-5.45-7.4A1.69,1.69,0,0,0,45,33.15l-5.6,5.33-13-17.65a1.69,1.69,0,0,0-2.78.08l-13,19.94A1.69,1.69,0,0,0,12.08,43.46Z"}),Object(e.h)("circle",{cx:"44.13",cy:"15.12",r:"5.93"}));n.default=O},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("ChevronDown",[["polyline",{points:"6 9 12 15 18 9",key:"1do0m2"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return l}),t.d(n,"b",function(){return l});var e=t(22);const a=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,o=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,l=e.Mark.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:d}){return["code",Object(e.mergeAttributes)(this.options.HTMLAttributes,d),0]},addCommands(){return{setCode:()=>({commands:d})=>d.setMark(this.name),toggleCode:()=>({commands:d})=>d.toggleMark(this.name),unsetCode:()=>({commands:d})=>d.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Object(e.markInputRule)({find:a,type:this.type})]},addPasteRules(){return[Object(e.markPasteRule)({find:o,type:this.type})]}})},function(k,n,t){"use strict";t.d(n,"a",function(){return d}),t.d(n,"b",function(){return d});var e=t(22),a=t(36);const o=/^```([a-z]+)?[\s\n]$/,l=/^~~~([a-z]+)?[\s\n]$/,d=e.Node.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:c=>{var u;const{languageClassPrefix:f}=this.options,g=[...((u=c.firstElementChild)===null||u===void 0?void 0:u.classList)||[]].filter(O=>O.startsWith(f)).map(O=>O.replace(f,""))[0];return g||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:c,HTMLAttributes:u}){return["pre",Object(e.mergeAttributes)(this.options.HTMLAttributes,u),["code",{class:c.attrs.language?this.options.languageClassPrefix+c.attrs.language:null},0]]},addCommands(){return{setCodeBlock:c=>({commands:u})=>u.setNode(this.name,c),toggleCodeBlock:c=>({commands:u})=>u.toggleNode(this.name,"paragraph",c)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:c,$anchor:u}=this.editor.state.selection,f=u.pos===1;return!c||u.parent.type.name!==this.name?!1:f||!u.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:c})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:u}=c,{selection:f}=u,{$from:m,empty:p}=f;if(!p||m.parent.type!==this.type)return!1;const g=m.parentOffset===m.parent.nodeSize-2,O=m.parent.textContent.endsWith(`

`);return!g||!O?!1:c.chain().command(({tr:s})=>(s.delete(m.pos-2,m.pos),!0)).exitCode().run()},ArrowDown:({editor:c})=>{if(!this.options.exitOnArrowDown)return!1;const{state:u}=c,{selection:f,doc:m}=u,{$from:p,empty:g}=f;if(!g||p.parent.type!==this.type||!(p.parentOffset===p.parent.nodeSize-2))return!1;const s=p.after();return s===void 0||m.nodeAt(s)?!1:c.commands.exitCode()}}},addInputRules(){return[Object(e.textblockTypeInputRule)({find:o,type:this.type,getAttributes:c=>({language:c[1]})}),Object(e.textblockTypeInputRule)({find:l,type:this.type,getAttributes:c=>({language:c[1]})})]},addProseMirrorPlugins(){return[new a.c({key:new a.d("codeBlockVSCodeHandler"),props:{handlePaste:(c,u)=>{if(!u.clipboardData||this.editor.isActive(this.type.name))return!1;const f=u.clipboardData.getData("text/plain"),m=u.clipboardData.getData("vscode-editor-data"),p=m?JSON.parse(m):void 0,g=p==null?void 0:p.mode;if(!f||!g)return!1;const{tr:O}=c.state;return O.replaceSelectionWith(this.type.create({language:g})),O.setSelection(a.f.near(O.doc.resolve(Math.max(0,O.selection.from-2)))),O.insertText(f.replace(/\r\n?/g,`
`)),O.setMeta("paste",!0),c.dispatch(O),!0}}})]}})},function(k,n,t){"use strict";t.d(n,"a",function(){return a}),t.d(n,"b",function(){return a});var e=t(22);const a=e.Node.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(o=>({tag:`h${o}`,attrs:{level:o}}))},renderHTML({node:o,HTMLAttributes:l}){return[`h${this.options.levels.includes(o.attrs.level)?o.attrs.level:this.options.levels[0]}`,Object(e.mergeAttributes)(this.options.HTMLAttributes,l),0]},addCommands(){return{setHeading:o=>({commands:l})=>this.options.levels.includes(o.level)?l.setNode(this.name,o):!1,toggleHeading:o=>({commands:l})=>this.options.levels.includes(o.level)?l.toggleNode(this.name,"paragraph",o):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((o,l)=>_o(pr({},o),{[`Mod-Alt-${l}`]:()=>this.editor.commands.toggleHeading({level:l})}),{})},addInputRules(){return this.options.levels.map(o=>Object(e.textblockTypeInputRule)({find:new RegExp(`^(#{1,${o}})\\s$`),type:this.type,getAttributes:{level:o}}))}})},function(k,n,t){"use strict";t.d(n,"a",function(){return a}),t.d(n,"b",function(){return a});var e=t(22);const a=e.Node.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:o}){return["li",Object(e.mergeAttributes)(this.options.HTMLAttributes,o),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}})},function(k,n,t){"use strict";t.d(n,"a",function(){return l}),t.d(n,"b",function(){return l});var e=t(22);const a=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,o=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,l=e.Mark.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:d=>d.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:d}){return["s",Object(e.mergeAttributes)(this.options.HTMLAttributes,d),0]},addCommands(){return{setStrike:()=>({commands:d})=>d.setMark(this.name),toggleStrike:()=>({commands:d})=>d.toggleMark(this.name),unsetStrike:()=>({commands:d})=>d.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-x":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Object(e.markInputRule)({find:a,type:this.type})]},addPasteRules(){return[Object(e.markPasteRule)({find:o,type:this.type})]}})},function(k,n,t){"use strict";t.d(n,"a",function(){return a}),t.d(n,"b",function(){return o});var e=t(1);function a(){const l=d=>{var c,u;(d.data==="3pc.supported"||d.data==="3pc.unsupported")&&(d.data==="3pc.supported"&&Array.from(document.getElementsByClassName("tiktok-wrap outer")).forEach(m=>{const p=m.querySelector(".tiktok-iframe");p.classList.add("visible"),m.querySelector(".tiktok-wrap.static").classList.add("hidden");const g=m.querySelector(".fallback-failure");g.classList.add("no-border");try{(p.contentDocument||p.contentWindow.document).readyState=="complete"&&g.classList.add("visible")}catch(O){}p.onload=()=>{g.classList.add("visible")},p.onerror=()=>{g.classList.add("visible")},p.onabort=()=>{g.classList.add("visible")}}),(u=(c=document.getElementsByClassName("third-party-cookie-check-iframe"))==null?void 0:c.forEach)==null||u.call(c,f=>f.remove()))};return window.addEventListener("message",l),()=>{window.removeEventListener("message",l)}}function o(){Object(e.d)(a,[])}},function(k,n,t){"use strict";t.d(n,"a",function(){return r});var e=t(0),a=t(1),o=t(378),l=t(232);function d(){const E=Object(a.k)();return Object(a.d)(()=>{var P;(P=E.current)==null||P.focus()},[]),E}var c=t(286),u=t(18),f=t(9),m=t(66),p=t(52),g=t(389),O=t(19),s=(E,P,A)=>new Promise((_,M)=>{var F=T=>{try{C(A.next(T))}catch(S){M(S)}},H=T=>{try{C(A.throw(T))}catch(S){M(S)}},C=T=>T.done?_(T.value):Promise.resolve(T.value).then(F,H);C((A=A.apply(E,P)).next())});function r({onCancel:E,onSuccess:P,onSignup:A,noCloseButton:_,noExit:M}){const[F,H]=Object(a.l)("email"),[C,T]=Object(a.l)(""),S=()=>{H("mfa")};return Object(e.h)(g.c,{className:"",isPopup:!0,onClose:E,noCloseButton:_,noExit:M},Object(e.h)("div",{className:"simple-modal-pad tw-flex tw-flex-col tw-gap-4"},Object(e.h)(l.default,{className:"reader-nav-logo modal-header-icon"}),Object(e.h)(O.n,null,"Log in to Substack"),F==="email"?Object(e.h)(h,{onUsePassword:D=>{T(D),H("password")},onSuccess:D=>{T(D),H("poll")}}):F==="poll"?Object(e.h)(v,{email:C,onSuccess:P,onChangeMode:H}):F==="mfa"?Object(e.h)(j,{onSuccess:P}):Object(e.h)(i,{email:C,onMfa:S,onSuccess:P})),A&&Object(e.h)(O.L,{className:"simple-modal-footer tw-flex tw-h-14 tw-items-center tw-justify-center"},Object(e.h)("span",null,"Don't have an account yet?"," ",Object(e.h)(m.a,{variant:"primary",look:"text",onClick:A},"Sign up"))))}function i({email:E,onSuccess:P,onMfa:A}){const _=Object(u.f)({pathname:"/api/v1/login",method:"post"}),M=Object(a.k)(),F=C=>s(this,null,function*(){if(C.preventDefault(),_.isLoading)return;const T=b(C.currentTarget);M.current&&(T.captcha_response=M.current.getResponse());const S=yield _.refetch({json:T});S instanceof Error||(S.mfa_required?A():P())}),H=d();return Object(e.h)(e.Fragment,null,_.error instanceof u.b&&_.error.response.status===401&&Object(e.h)(o.a,{ref:M}),Object(e.h)(y,{onSubmit:F,disabled:_.isLoading},Object(e.h)(O.i,{type:"email",name:"email",placeholder:"Your email",defaultValue:E}),Object(e.h)(O.i,{type:"password",name:"password",placeholder:"Your password",ref:H}),_.error&&Object(e.h)(O.f,null,Object(f.getNetworkErrorMessage)(_.error)),Object(e.h)(m.a,{type:"submit",variant:"primary"},_.isLoading?"Signing in...":"Sign in")))}function h({onUsePassword:E,onSuccess:P}){const A=Object(u.f)({pathname:"/api/v1/email-login",method:"POST"}),_=F=>{if(F.preventDefault(),A.isLoading)return;const H=F.currentTarget.email.value;A.refetch({json:{email:H,redirect:location.pathname}}).then(C=>{C instanceof u.b||P(H)})},M=d();return Object(e.h)(y,{onSubmit:_,disabled:A.isLoading},Object(e.h)(O.i,{type:"email",name:"email",placeholder:"Your email",ref:M}),Object(e.h)("div",{className:"tw-flex tw-flex-col tw-gap-2"},Object(e.h)(m.a,{type:"submit",variant:"primary"},A.isLoading?"Logging in...":"Log in with email"),Object(e.h)(m.a,{variant:"secondary",look:"borderless",onClick:()=>{var F;return E((F=M.current)==null?void 0:F.value)}},"or log in with password")))}function v({email:E,onSuccess:P,onChangeMode:A}){return Object(c.a)(()=>{fetch("/api/v1/am_i_logged_in").then(_=>s(this,null,function*(){(yield _.json()).loggedIn&&P()}))},5e3),Object(e.h)("div",{className:"tw-flex tw-flex-col tw-gap-8"},Object(e.h)("b",null,"Check your email"),Object(e.h)("div",null,"If you have an account with us, we\u2019ve sent an email to ",Object(e.h)("b",null,E)," with a link that you can use to sign in."),Object(e.h)("div",null,"You can also"," ",Object(e.h)(m.a,{look:"text",onClick:()=>A("email")},Object(e.h)("b",null,"try again"))," ","or"," ",Object(e.h)(m.a,{look:"text",onClick:()=>A("password")},Object(e.h)("b",null,"sign in using your password")),"."))}function j({onSuccess:E}){const P=Object(u.f)({pathname:"/api/v1/mfa-login",method:"Post"}),A=_=>{_.preventDefault(),!P.isLoading&&P.refetch({json:b(_.currentTarget)}).then(M=>{M instanceof u.b||E()})};return Object(e.h)(y,{onSubmit:A,disabled:P.isLoading},Object(e.h)(O.i,{type:"password",name:"code",placeholder:"Your MFA code"}),P.error&&Object(e.h)(O.f,null,Object(f.getNetworkErrorMessage)(P.error)),Object(e.h)(m.a,{type:"submit",variant:"primary"},P.isLoading?"Signing in...":"Sign in"))}const y=Object(p.a)("tw-flex tw-flex-col tw-gap-3","form");function b(E){return Object.fromEntries(Array.from(E.elements).filter(P=>P instanceof HTMLInputElement||P instanceof HTMLTextAreaElement).map(P=>[P.name,P.value]))}},function(k,n,t){"use strict";t.d(n,"a",function(){return f}),t.d(n,"b",function(){return f});var e=t(22),a=t(36),o=t(288);function l(m){var p;const{char:g,allowSpaces:O,allowedPrefixes:s,startOfLine:r,$position:i}=m,h=Object(e.escapeForRegEx)(g),v=new RegExp(`\\s${h}$`),j=r?"^":"",y=O?new RegExp(`${j}${h}.*?(?=\\s${h}|$)`,"gm"):new RegExp(`${j}(?:^)?${h}[^\\s${h}]*`,"gm"),b=((p=i.nodeBefore)===null||p===void 0?void 0:p.isText)&&i.nodeBefore.text;if(!b)return null;const E=i.pos-b.length,P=Array.from(b.matchAll(y)).pop();if(!P||P.input===void 0||P.index===void 0)return null;const A=P.input.slice(Math.max(0,P.index-1),P.index),_=new RegExp(`^[${s==null?void 0:s.join("")}\0]?$`).test(A);if(s!==null&&!_)return null;const M=E+P.index;let F=M+P[0].length;return O&&v.test(b.slice(F-1,F+1))&&(P[0]+=" ",F+=1),M<i.pos&&F>=i.pos?{range:{from:M,to:F},query:P[0].slice(g.length),text:P[0]}:null}const d=new a.d("suggestion");function c({pluginKey:m=d,editor:p,char:g="@",allowSpaces:O=!1,allowedPrefixes:s=[" "],startOfLine:r=!1,decorationTag:i="span",decorationClass:h="suggestion",command:v=()=>null,items:j=()=>[],render:y=()=>({}),allow:b=()=>!0}){let E;const P=y==null?void 0:y(),A=new a.c({key:m,view(){return{update:(_,M)=>Zl(this,null,function*(){var F,H,C,T,S,D,w;const U=(F=this.key)===null||F===void 0?void 0:F.getState(M),V=(H=this.key)===null||H===void 0?void 0:H.getState(_.state),K=U.active&&V.active&&U.range.from!==V.range.from,Y=!U.active&&V.active,W=U.active&&!V.active,R=!Y&&!W&&U.query!==V.query,B=Y||K,x=R&&!K,G=W||K;if(!B&&!x&&!G)return;const Q=G&&!B?U:V,he=_.dom.querySelector(`[data-decoration-id="${Q.decorationId}"]`);E={editor:p,range:Q.range,query:Q.query,text:Q.text,items:[],command:Z=>{v({editor:p,range:Q.range,props:Z})},decorationNode:he,clientRect:he?()=>{var Z;const{decorationId:le}=(Z=this.key)===null||Z===void 0?void 0:Z.getState(p.state),de=_.dom.querySelector(`[data-decoration-id="${le}"]`);return(de==null?void 0:de.getBoundingClientRect())||null}:null},B&&((C=P==null?void 0:P.onBeforeStart)===null||C===void 0||C.call(P,E)),x&&((T=P==null?void 0:P.onBeforeUpdate)===null||T===void 0||T.call(P,E)),(x||B)&&(E.items=yield j({editor:p,query:Q.query})),G&&((S=P==null?void 0:P.onExit)===null||S===void 0||S.call(P,E)),x&&((D=P==null?void 0:P.onUpdate)===null||D===void 0||D.call(P,E)),B&&((w=P==null?void 0:P.onStart)===null||w===void 0||w.call(P,E))}),destroy:()=>{var _;!E||(_=P==null?void 0:P.onExit)===null||_===void 0||_.call(P,E)}}},state:{init(){return{active:!1,range:{from:0,to:0},query:null,text:null,composing:!1}},apply(_,M,F,H){const{isEditable:C}=p,{composing:T}=p.view,{selection:S}=_,{empty:D,from:w}=S,U=pr({},M);if(U.composing=T,C&&(D||p.view.composing)){(w<M.range.from||w>M.range.to)&&!T&&!M.composing&&(U.active=!1);const V=l({char:g,allowSpaces:O,allowedPrefixes:s,startOfLine:r,$position:S.$from}),K=`id_${Math.floor(Math.random()*4294967295)}`;V&&b({editor:p,state:H,range:V.range})?(U.active=!0,U.decorationId=M.decorationId?M.decorationId:K,U.range=V.range,U.query=V.query,U.text=V.text):U.active=!1}else U.active=!1;return U.active||(U.decorationId=null,U.range={from:0,to:0},U.query=null,U.text=null),U}},props:{handleKeyDown(_,M){var F;const{active:H,range:C}=A.getState(_.state);return H&&((F=P==null?void 0:P.onKeyDown)===null||F===void 0?void 0:F.call(P,{view:_,event:M,range:C}))||!1},decorations(_){const{active:M,range:F,decorationId:H}=A.getState(_);return M?o.b.create(_.doc,[o.a.inline(F.from,F.to,{nodeName:i,class:h,"data-decoration-id":H})]):null}}});return A}const u=new a.d("mention"),f=e.Node.create({name:"mention",addOptions(){return{HTMLAttributes:{},renderLabel({options:m,node:p}){var g;return`${m.suggestion.char}${(g=p.attrs.label)!==null&&g!==void 0?g:p.attrs.id}`},suggestion:{char:"@",pluginKey:u,command:({editor:m,range:p,props:g})=>{var O,s;const r=m.view.state.selection.$to.nodeAfter;((O=r==null?void 0:r.text)===null||O===void 0?void 0:O.startsWith(" "))&&(p.to+=1),m.chain().focus().insertContentAt(p,[{type:this.name,attrs:g},{type:"text",text:" "}]).run(),(s=window.getSelection())===null||s===void 0||s.collapseToEnd()},allow:({state:m,range:p})=>{const g=m.doc.resolve(p.from),O=m.schema.nodes[this.name];return!!g.parent.type.contentMatch.matchType(O)}}}},group:"inline",inline:!0,selectable:!1,atom:!0,addAttributes(){return{id:{default:null,parseHTML:m=>m.getAttribute("data-id"),renderHTML:m=>m.id?{"data-id":m.id}:{}},label:{default:null,parseHTML:m=>m.getAttribute("data-label"),renderHTML:m=>m.label?{"data-label":m.label}:{}}}},parseHTML(){return[{tag:`span[data-type="${this.name}"]`}]},renderHTML({node:m,HTMLAttributes:p}){return["span",Object(e.mergeAttributes)({"data-type":this.name},this.options.HTMLAttributes,p),this.options.renderLabel({options:this.options,node:m})]},renderText({node:m}){return this.options.renderLabel({options:this.options,node:m})},addKeyboardShortcuts(){return{Backspace:()=>this.editor.commands.command(({tr:m,state:p})=>{let g=!1;const{selection:O}=p,{empty:s,anchor:r}=O;return s?(p.doc.nodesBetween(r-1,r,(i,h)=>{if(i.type.name===this.name)return g=!0,m.insertText(this.options.suggestion.char||"",h,h+i.nodeSize),!1}),g):!1})}},addProseMirrorPlugins(){return[c(pr({editor:this.editor},this.options.suggestion))]}})},,function(k,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Link=n.Match=void 0;var e=Object.assign||function(p){for(var g=1;g<arguments.length;g++){var O=arguments[g];for(var s in O)Object.prototype.hasOwnProperty.call(O,s)&&(p[s]=O[s])}return p},a=t(0),o=t(49);function l(p,g){var O={};for(var s in p)g.indexOf(s)>=0||!Object.prototype.hasOwnProperty.call(p,s)||(O[s]=p[s]);return O}function d(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function c(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function u(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var f=n.Match=function(p){u(g,p);function g(){var O,s,r;d(this,g);for(var i=arguments.length,h=Array(i),v=0;v<i;v++)h[v]=arguments[v];return r=(O=(s=c(this,p.call.apply(p,[this].concat(h))),s),s.update=function(j){s.nextUrl=j,s.setState({})},O),c(s,r)}return g.prototype.componentDidMount=function(){o.subscribers.push(this.update)},g.prototype.componentWillUnmount=function(){o.subscribers.splice(o.subscribers.indexOf(this.update)>>>0,1)},g.prototype.render=function(s){var r=this.nextUrl||(0,o.getCurrentUrl)(),i=r.replace(/\?.+$/,"");return this.nextUrl=null,s.children({url:r,path:i,matches:(0,o.exec)(i,s.path,{})!==!1})},g}(a.Component),m=function(g){var O=g.activeClassName,s=g.path,r=l(g,["activeClassName","path"]);return(0,a.h)(f,{path:s||r.href},function(i){var h=i.matches;return(0,a.h)(o.Link,e({},r,{class:[r.class||r.className,h&&O].filter(Boolean).join(" ")}))})};n.Link=m,n.default=f,f.Link=m},,function(k,n,t){"use strict";t.d(n,"a",function(){return a}),t.d(n,"b",function(){return o}),t.d(n,"c",function(){return l});var e=t(931);function a(d){var c,u,f;return d.link_title||((c=d.postTag)==null?void 0:c.name)||((u=d.section)==null?void 0:u.name)||((f=d.post)==null?void 0:f.title)||""}function o(d){var c;return d.postTag?"tag":d.section?"section":((c=d.post)==null?void 0:c.type)==="page"?"page":d.post?"post":"link"}function l(d,{isPodcastActive:c,isChatActive:u,isMeetingsActive:f,hasMultipleNewsletters:m,isChatEnabled:p,isFeedEnabled:g}){var O;const s=d.filter(h=>!h.standard_key),r=new Map(d.filter(h=>h.standard_key).map(h=>[h.standard_key,h]));for(const h of s)((O=h.section)==null?void 0:O.hide_from_navbar)&&(h.is_hidden=!0);const i=[g&&{standard_key:"notes",link_title:"Notes",link_url:"/notes"},p&&{standard_key:"chat",link_title:"Chat",link_url:"/chat",is_hidden:!u},f&&{standard_key:"meetings",link_title:"Meetings",link_url:"/meetings"},...s,{standard_key:"archive",link_title:"Archive",link_url:"/archive"},m&&{standard_key:"newsletters",link_title:"Newsletters",link_url:"/newsletters",is_hidden:!0},{standard_key:"about",link_title:"About",link_url:"/about"}].filter(h=>!!h);for(const h of i)if(h.standard_key){const v=r.get(h.standard_key);v&&Object(e.a)(h,v)}return i}},function(k,n,t){var e=t(427),a=t(95);function o(l,d,c){var u=d(l);return a(l)?u:e(u,c(l))}k.exports=o},function(k,n){function t(){return[]}k.exports=t},function(k,n,t){var e=t(451),a=t(304),o=t(95),l=t(354),d=t(298),c=t(368),u=Object.prototype,f=u.hasOwnProperty;function m(p,g){var O=o(p),s=!O&&a(p),r=!O&&!s&&l(p),i=!O&&!s&&!r&&c(p),h=O||s||r||i,v=h?e(p.length,String):[],j=v.length;for(var y in p)(g||f.call(p,y))&&!(h&&(y=="length"||r&&(y=="offset"||y=="parent")||i&&(y=="buffer"||y=="byteLength"||y=="byteOffset")||d(y,j)))&&v.push(y);return v}k.exports=m},function(k,n){function t(e,a){return function(o){return e(a(o))}}k.exports=t},function(k,n,t){"use strict";t.d(n,"a",function(){return b});var e=t(0),a=t(1),o=t(2),l=t(8),d=t(157),c=t(5),u=t.n(c),f={container:"frontend-pencraft-form-Radio-module__container--1p9k7",containerMedium:"frontend-pencraft-form-Radio-module__containerMedium--1F8ES",containerLarge:"frontend-pencraft-form-Radio-module__containerLarge--2YOHv",radio:"frontend-pencraft-form-Radio-module__radio--1wez4"},m=Object.defineProperty,p=Object.defineProperties,g=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,i=(E,P,A)=>P in E?m(E,P,{enumerable:!0,configurable:!0,writable:!0,value:A}):E[P]=A,h=(E,P)=>{for(var A in P||(P={}))s.call(P,A)&&i(E,A,P[A]);if(O)for(var A of O(P))r.call(P,A)&&i(E,A,P[A]);return E},v=(E,P)=>p(E,g(P)),j=(E,P)=>{var A={};for(var _ in E)s.call(E,_)&&P.indexOf(_)<0&&(A[_]=E[_]);if(E!=null&&O)for(var _ of O(E))P.indexOf(_)<0&&r.call(E,_)&&(A[_]=E[_]);return A};const y=E=>{var P=E,{size:A}=P,_=j(P,["size"]);return Object(e.h)("div",{className:u()(f.container,A==="medium"?f.containerMedium:f.containerLarge)},Object(e.h)("input",v(h({},_),{type:"radio"})),Object(e.h)("span",{className:f.radio}))},b=({label:E,name:P,options:A,paddingBottom:_,paddingTop:M,size:F="medium",value:H,onChange:C})=>{const T=Object(a.a)(S=>{C(S.target.value)},[C]);return Object(e.h)(d.a,{label:E,paddingBottom:_,paddingTop:M},Object(e.h)(o.b,{gap:F==="medium"?8:16},A.map(({value:S,label:D,disabled:w,track:U,testid:V})=>Object(e.h)(o.c,{as:"label",gap:8,alignItems:"center",paddingLeft:4},Object(e.h)(y,{checked:S===H,"data-testid":V,"data-track-input":U,disabled:w,name:P,size:F,value:S,onClick:T}),F==="medium"?Object(e.h)(l.b.B4,{as:"span"},D):Object(e.h)(l.b.B3,null,D)))))}},function(k,n,t){var e=t(908);function a(o,l){o.prototype=Object.create(l.prototype),o.prototype.constructor=o,e(o,l)}k.exports=a,k.exports.__esModule=!0,k.exports.default=k.exports},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("Sliders",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(r,i,h)=>i in r?o(r,i,{enumerable:!0,configurable:!0,writable:!0,value:h}):r[i]=h,p=(r,i)=>{for(var h in i||(i={}))u.call(i,h)&&m(r,h,i[h]);if(c)for(var h of c(i))f.call(i,h)&&m(r,h,i[h]);return r},g=(r,i)=>l(r,d(i)),O=(r,i)=>{var h={};for(var v in r)u.call(r,v)&&i.indexOf(v)<0&&(h[v]=r[v]);if(r!=null&&c)for(var v of c(r))i.indexOf(v)<0&&f.call(r,v)&&(h[v]=r[v]);return h};const s=r=>{var i=r,{fill:h="white"}=i,v=O(i,["fill"]);return Object(e.h)(a.a,g(p({},v),{name:"PodcastEmbedPauseIcon",svgParams:{width:13,height:16,viewBox:"0 0 13 16",stroke:"none",fill:h}}),Object(e.h)("path",{d:"M4 0H1C0.447715 0 0 0.447715 0 1V15C0 15.5523 0.447715 16 1 16H4C4.55228 16 5 15.5523 5 15V1C5 0.447715 4.55228 0 4 0Z"}),Object(e.h)("path",{d:"M11.9998 0H8.99976C8.44747 0 7.99976 0.447715 7.99976 1V15C7.99976 15.5523 8.44747 16 8.99976 16H11.9998C12.552 16 12.9998 15.5523 12.9998 15V1C12.9998 0.447715 12.552 0 11.9998 0Z"}))};n.default=s},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"VoiceoverIcon",svgParams:{height:24,width:24,viewBox:"0 0 24 24"},fill:"none"}),Object(e.h)("path",{d:"M11.8518 3.31518C12.2459 4.26329 13.551 7.10985 14.4542 8.3467C15.3764 9.60967 12.8285 9.95184 12 10.5","stroke-width":"1.5","stroke-linecap":"round"}),Object(e.h)("path",{d:"M12 10.5C12 10.5 12.4662 11.2332 12.7627 11.7326C13.0592 12.232 13 12.5 11.5 13C10.7772 13.2409 9.5 13.5 9.5 13.5C10.3447 13.9272 12.2664 14.1393 12.4041 14.3167C12.763 14.779 12.3241 15.4618 11.8617 15.8208C11.3994 16.1797 12.0724 18.7353 10.5 19.5C8.9276 20.2647 5.70772 19.432 3 18","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M18.5 6.5L20.3544 4.8526","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M18.5 15.5L20.3544 17.2545","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M19.5 11.0326L22 11.0326","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));n.default=O},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("ArrowLeftRight",[["polyline",{points:"17 11 21 7 17 3",key:"l3l6r3"}],["line",{x1:"21",x2:"9",y1:"7",y2:"7",key:"ubux2p"}],["polyline",{points:"7 21 3 17 7 13",key:"lfumnw"}],["line",{x1:"15",x2:"3",y1:"17",y2:"17",key:"1iqtwg"}]])},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"FacebookIcon",svgParams:{height:24,width:24}}),Object(e.h)("path",{d:"M18 2H15C13.6739 2 12.4021 2.52678 11.4645 3.46447C10.5268 4.40215 10 5.67392 10 7V10H7V14H10V22H14V14H17L18 10H14V7C14 6.73478 14.1054 6.48043 14.2929 6.29289C14.4804 6.10536 14.7348 6 15 6H18V2Z"}));n.default=O},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"TwitterIcon",svgParams:{height:24,width:24}}),Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.99998 3.01998C4.80189 3.01998 3.01998 4.80189 3.01998 6.99998V17C3.01998 19.1981 4.80189 20.98 6.99998 20.98H17C19.1981 20.98 20.98 19.1981 20.98 17V6.99998C20.98 4.80189 19.1981 3.01998 17 3.01998H6.99998ZM0.97998 6.99998C0.97998 3.67523 3.67523 0.97998 6.99998 0.97998H17C20.3247 0.97998 23.02 3.67523 23.02 6.99998V17C23.02 20.3247 20.3247 23.02 17 23.02H6.99998C3.67523 23.02 0.97998 20.3247 0.97998 17V6.99998Z"}),Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.4982 8.89054C11.8532 8.7949 11.1944 8.90507 10.6157 9.20538C10.0369 9.50569 9.56756 9.98085 9.27441 10.5633C8.98126 11.1457 8.87922 11.8057 8.98281 12.4495C9.0864 13.0933 9.39034 13.688 9.85141 14.149C10.3125 14.6101 10.9072 14.9141 11.5509 15.0176C12.1947 15.1212 12.8547 15.0192 13.4372 14.726C14.0196 14.4329 14.4948 13.9635 14.7951 13.3848C15.0954 12.806 15.2056 12.1473 15.1099 11.5023C15.0123 10.8444 14.7058 10.2353 14.2355 9.76498C13.7652 9.29468 13.1561 8.9881 12.4982 8.89054ZM9.78664 7.60766C10.7015 7.13297 11.7427 6.95883 12.7622 7.11001C13.8021 7.26422 14.7649 7.74881 15.5083 8.49219C16.2516 9.23557 16.7362 10.1983 16.8904 11.2383C17.0416 12.2578 16.8675 13.299 16.3928 14.2138C15.9181 15.1286 15.167 15.8705 14.2464 16.3339C13.3258 16.7972 12.2825 16.9585 11.265 16.7948C10.2474 16.631 9.30739 16.1506 8.57861 15.4218C7.84984 14.6931 7.36941 13.753 7.20567 12.7355C7.04193 11.7179 7.20322 10.6746 7.66659 9.75402C8.12996 8.83341 8.87181 8.08235 9.78664 7.60766Z"}),Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16.6 6.5001C16.6 6.00304 17.0029 5.6001 17.5 5.6001H17.51C18.007 5.6001 18.41 6.00304 18.41 6.5001C18.41 6.99715 18.007 7.4001 17.51 7.4001H17.5C17.0029 7.4001 16.6 6.99715 16.6 6.5001Z"}));n.default=O},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"LinkedinIcon",svgParams:{height:24,width:24}}),Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.35951 21.3538V8.96983H2.24333V21.3538H6.35951V21.3538ZM4.3014 7.27902C5.7368 7.27902 6.63021 6.32807 6.63021 5.13966C6.60346 3.9245 5.7368 2.99994 4.32863 2.99994C2.92061 2.99994 2 3.9245 2 5.13966C2 6.32807 2.89322 7.27902 4.27457 7.27902H4.30132H4.3014Z"}),Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.63708 21.3538H12.7532V14.4381C12.7532 14.0679 12.78 13.6982 12.8887 13.4336C13.1862 12.6941 13.8635 11.9282 15.0006 11.9282C16.4901 11.9282 17.0859 13.0639 17.0859 14.7286V21.3538H21.2017V14.253C21.2017 10.4492 19.171 8.67924 16.4629 8.67924C14.2423 8.67924 13.2675 9.92041 12.7259 10.7658H12.7533V8.96983H8.6372C8.69121 10.1319 8.6372 21.3538 8.6372 21.3538H8.63708Z"}));n.default=O},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"YoutubeIcon",svgParams:{height:24,width:24}}),Object(e.h)("path",{d:"M21.582 6.07467C21.352 5.21467 20.674 4.53667 19.814 4.30667C18.254 3.88867 12 3.88867 12 3.88867C12 3.88867 5.746 3.88867 4.186 4.30667C3.326 4.53667 2.648 5.21467 2.418 6.07467C2 7.63467 2 11.8887 2 11.8887C2 11.8887 2 16.1427 2.418 17.7027C2.648 18.5627 3.326 19.2407 4.186 19.4707C5.746 19.8887 12 19.8887 12 19.8887C12 19.8887 18.254 19.8887 19.814 19.4707C20.675 19.2407 21.352 18.5627 21.582 17.7027C22 16.1427 22 11.8887 22 11.8887C22 11.8887 22 7.63467 21.582 6.07467ZM10 15.3527V8.42467L16 11.8887L10 15.3527Z"}));n.default=O},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(314),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.default,g(p({},s),{name:"ActivationUsersIcon"}),Object(e.h)("path",{d:"M17 21V19C17 16.7909 15.2091 15 13 15H5C2.79086 15 1 16.7909 1 19V21","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9 11C11.2091 11 13 9.20917 13 7.00003C13 4.79089 11.2091 3.00003 9 3.00003C6.79086 3.00003 5 4.79089 5 7.00003C5 9.20917 6.79086 11 9 11Z","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M23 21V19C22.9986 17.1772 21.765 15.5858 20 15.13","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M16 3.13004C17.7699 3.58321 19.0078 5.17803 19.0078 7.00504C19.0078 8.83204 17.7699 10.4269 16 10.88","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}));n.default=O},function(k,n,t){"use strict";t.d(n,"a",function(){return Pn}),t.d(n,"c",function(){return rr}),t.d(n,"b",function(){return kt});var e=t(0),a=t(1),o=t(5),l=t.n(o),d=t(439),c=t.n(d),u=t(241),f=t.n(u),m=t(261),p=t(852),g=t(351),O=t(795),s=t(853),r=t(854),i=t(444),h=t(840),v=t(833),j=t(814),y=t(851),b=t(775),E=t(855),P=t(856),A=t(193),_=t(12),M=t.n(_),F=t(440),H=t(42),C=t(4),T=t(15),S=t(10),D=t(120),w=t(545),U=t(546),V=t(547),K=t(382),Y=t(383),W=t(730),R=t(207),B=t(423),x=t(548),G=t(399),Q=t(122),he=t(170),Z=t(374),le=t(187),de=t(35),be=t(25),X=t(128),ie=t(7),Ce=t(18),Le=t(113),Ae=t(9),Pe=t(14),Ne=t(99),ce=t(2),q=t(23),te=t(8),ue=t(26),We=t(77),ot=t(48),ze=t(60),vt=t(267),Wt=t(111),zt=t(91),at=t(19),Me=t(233),Be=t(21),Xe=t(50),Te=t(11),we={reasonRow:"frontend-reader2-ProfileReportModal-module__reasonRow--1j_lL",reasonLabel:"frontend-reader2-ProfileReportModal-module__reasonLabel--1qNV9"},De=(rn,_n,Yn)=>new Promise((cr,Jt)=>{var cn=Rn=>{try{zn(Yn.next(Rn))}catch(xn){Jt(xn)}},bn=Rn=>{try{zn(Yn.throw(Rn))}catch(xn){Jt(xn)}},zn=Rn=>Rn.done?cr(Rn.value):Promise.resolve(Rn.value).then(cn,bn);zn((Yn=Yn.apply(rn,_n)).next())});function Ie({userId:rn,surface:_n,onClose:Yn,onReportSuccess:cr}){const Jt=Object(a.k)(),cn=()=>{var Lt;return(Lt=Jt==null?void 0:Jt.current)==null?void 0:Lt.close()};Object(a.d)(()=>{var Lt;(Lt=Jt==null?void 0:Jt.current)==null||Lt.open()},[Boolean(Jt.current)]);const bn=[{value:"spam",label:"It's spam"},{value:"impersonation",label:"It's pretending to be someone else"},{value:"violation",label:"It's posting content that violates Substack's Content Guidelines"}],[zn,Rn]=Object(a.l)(null),[xn,mr]=Object(a.l)(!1),Or=Lt=>De(this,null,function*(){if(!Lt){alert("Please enter a reason!");return}mr(!0);try{yield M.a.post(`/api/v1/user/${rn}/report`).send({userId:rn,reason:Lt,surface:_n}),cn(),cr(),mr(!1),Lt==="violation"&&(location.href=Object(T.getHcProfileViolationFormUrl)(rn))}catch(qt){mr(!1),alert(Object(Ae.getNetworkErrorMessage)(qt))}});return Object(e.h)(Xe.a,{ref:Jt,onClose:Yn},Object(e.h)(Te.o,{padding:24,gap:8},Object(e.h)(Te.D.H3,null,"Report profile"),Object(e.h)(Te.D.Detail,null,"Why are you reporting this profile?"),Object(e.h)(at.c,null,Object(e.h)(Te.o,{gap:4},bn.map(({value:Lt,label:qt})=>Object(e.h)("label",{className:we.reasonRow},Object(e.h)(Te.D,{className:we.reasonLabel},qt),Object(e.h)("input",{type:"radio",name:"reason",value:Lt,onInput:()=>Rn(Lt)}))))),Object(e.h)(Te.p,null,Object(e.h)(Te.D.Detail,null,"Substack ",Object(e.h)("a",{href:"/content"},"Content Guidelines"))),Object(e.h)(Te.p,{style:{flexDirection:"row-reverse"}},Object(e.h)(Be.b,{className:"primary",onClick:()=>Or(zn),disabled:zn===null||xn},Object(e.h)("span",null,xn?"Loading...":zn==="violation"?"Proceed":"Submit")),Object(e.h)(Be.b,{className:"secondary",onClick:cn},Object(e.h)("span",null,"Cancel")))))}var He=t(62),Ve=t(203),z=t(373),se=t(224),Se=t(37),Oe=t(159),ge={fillIcon:"frontend-reader2-ProfilePage-module__fillIcon--k5VPe",twitterVerifiedIcon:"frontend-reader2-ProfilePage-module__twitterVerifiedIcon--3a_y6",profileRow:"frontend-reader2-ProfilePage-module__profileRow--3QmfU",profileImage:"frontend-reader2-ProfilePage-module__profileImage--lBNSw",stat:"frontend-reader2-ProfilePage-module__stat--uhTVP",avatar:"frontend-reader2-ProfilePage-module__avatar--3i2gi",readsRow:"frontend-reader2-ProfilePage-module__readsRow--2JcXq",tabs:"frontend-reader2-ProfilePage-module__tabs--3ewnW",tab:"frontend-reader2-ProfilePage-module__tab--3bjbe",isActive:"frontend-reader2-ProfilePage-module__isActive--3HaXS",page:"frontend-reader2-ProfilePage-module__page--M2dgC",grid:"frontend-reader2-ProfilePage-module__grid--3H9zD",pubMain:"frontend-reader2-ProfilePage-module__pubMain--DjdCY",pub:"frontend-reader2-ProfilePage-module__pub--11SwD"},je=Object.defineProperty,it=Object.defineProperties,Tt=Object.getOwnPropertyDescriptors,sn=Object.getOwnPropertySymbols,ht=Object.prototype.hasOwnProperty,Nt=Object.prototype.propertyIsEnumerable,wt=(rn,_n,Yn)=>_n in rn?je(rn,_n,{enumerable:!0,configurable:!0,writable:!0,value:Yn}):rn[_n]=Yn,yt=(rn,_n)=>{for(var Yn in _n||(_n={}))ht.call(_n,Yn)&&wt(rn,Yn,_n[Yn]);if(sn)for(var Yn of sn(_n))Nt.call(_n,Yn)&&wt(rn,Yn,_n[Yn]);return rn},Qe=(rn,_n)=>it(rn,Tt(_n)),At=(rn,_n)=>{var Yn={};for(var cr in rn)ht.call(rn,cr)&&_n.indexOf(cr)<0&&(Yn[cr]=rn[cr]);if(rn!=null&&sn)for(var cr of sn(rn))_n.indexOf(cr)<0&&Nt.call(rn,cr)&&(Yn[cr]=rn[cr]);return Yn},jt=(rn,_n,Yn)=>new Promise((cr,Jt)=>{var cn=Rn=>{try{zn(Yn.next(Rn))}catch(xn){Jt(xn)}},bn=Rn=>{try{zn(Yn.throw(Rn))}catch(xn){Jt(xn)}},zn=Rn=>Rn.done?cr(Rn.value):Promise.resolve(Rn.value).then(cn,bn);zn((Yn=Yn.apply(rn,_n)).next())});const ke=Object(C.getProfileSetupUrl)({utm_source:"substack"}),tn="profile-page-feed";function Pn({id:rn="",user:_n,profileSubscribeOnTransit:Yn=!1}){var cr;const Jt=Object(a.k)(null),cn=Object(Se.a)(),bn=Object(ue.e)();let zn,Rn;rn.indexOf("-")>-1?(zn=lt(rn),Rn=Rt(rn)):zn=rn;const{subjectProfile:xn,error:mr}=Object(le.b)({subjectId:zn,subjectName:Rn}),Or=Object(he.f)(zn),Lt=Or==="blocked"||Or==="blocking",qt=!!(xn==null?void 0:xn.profile_set_up_at),wn=xn&&xn.id===(_n==null?void 0:_n.id),$n=(xn==null?void 0:xn.subscriptions)||[],Wn=(xn==null?void 0:xn.primaryPublication)&&((cr=xn.publicationUsers.find(eo=>{var bo;return eo.publication_id===((bo=xn==null?void 0:xn.primaryPublication)==null?void 0:bo.id)}))==null?void 0:cr.publication),Jn=Boolean(Wn&&(xn==null?void 0:xn.isSubscribed)),Tr=(xn==null?void 0:xn.max_pub_tier)===2;Object(a.d)(()=>{xn&&(Object(ie.i)(ie.a.PROFILE_VISITED,{profile_user_id:xn.id,is_set_up:qt,is_self:wn,has_name:!!xn.name,has_photo:!!xn.photo_url,has_bio:!!xn.bio,has_twitter:!!xn.twitterAccount,reads_count:$n.length,writes_count:xn.publicationUsers.length,subscribe_cta_publication_id:!Jn&&(Wn==null?void 0:Wn.id)}),Yn&&(Object(Ae.removeQueryParam)("subscribed"),bn.popToast(eo=>Object(e.h)(ue.c,Qe(yt({},eo),{text:`Subscribed to ${(Wn==null?void 0:Wn.name)||xn.name||"user"}`,Icon:m.a})))))},[rn]);const[{url:Qr}]=Object(Le.a)(),oo=Vn(Qr)?tn:"profile-page";return mr?Object(e.h)(at.q,{className:ge.page},Object(Ae.setMetaData)({title:"Profile not found"}),Object(e.h)(ce.a,{paddingY:64,flex:"grow"},Object(e.h)(at.Q,{icon:Object(e.h)(p.a,null),title:"Profile not found",text:"We couldn't load this profile profile.",action:Object(e.h)(Pe.a,{priority:"secondary",href:Object(C.getDiscoverSearchUrl)()},"Search")}))):xn?Object(e.h)(ce.b,{style:{maxWidth:640},flex:"grow",minWidth:0},Object(Ae.setMetaData)({title:`${xn.name||"<no name>"} | Substack`,description:xn&&xn.bio,image:xn&&xn.photo_url&&Object(C.cloudinary)(xn.photo_url),seoProps:{noindex:!(Tr&&(xn.photo_url||xn.bio||qt))}}),Object(e.h)(Q.c,{ref:Jt,medium:"profile-page",user:_n,profile:xn,onClick:eo=>eo.preventDefault()}),Object(e.h)(fn,{profile:xn}),Object(e.h)(ce.b,null,Object(e.h)(ce.b,{gap:{desktop:20,mobile:16},paddingX:{desktop:20,mobile:16},paddingY:{desktop:32,mobile:16}},Object(e.h)(Sn,{profile:xn,primaryPublication:Wn,yourProfile:!!wn,setUp:qt,user:_n,showCTAs:!Lt,subscriptionSource:oo}),xn.publicationUsers.length>0&&!Lt&&Object(e.h)(dr,{isMobile:cn,profile:xn,primaryPublication:Wn,subscriptionSource:oo}),Or==="blocked"&&Object(e.h)(ce.a,{paddingY:32,flex:"grow"},Object(e.h)(at.Q,{icon:Object(e.h)(g.a,null),title:`${xn.name||"They"} blocked you`,text:`You are blocked from subscribing to ${xn.name||"them"} and their publications`})),Or==="blocking"&&Object(e.h)(ce.a,{paddingY:32,flex:"grow"},Object(e.h)(at.Q,{icon:Object(e.h)(g.a,null),title:`You blocked ${xn.name||"them"}`,text:"You can manage your blocks in your account settings.",action:Object(e.h)(Pe.a,{priority:"secondary",href:Object(C.getGlobalAccountSettingsUrl)()},"Account settings")}))),!Lt&&qt&&Object(e.h)(Mt,{subscriptions:$n,profile:xn})),!qt&&wn&&Object(e.h)(at.s,null,Object(e.h)(ce.a,{paddingY:64,flex:"grow"},Object(e.h)(at.P,{icon:Object(e.h)(B.default,null),title:"You haven\u2019t set up your profile yet.",text:"Click the button below to get started.",action:Object(e.h)(Pe.a,{priority:"secondary",href:Object(C.getGlobalAccountSettingsUrl)()},"Set up profile")})))):Object(e.h)(Ft,null)}const Ft=()=>{const rn=Object(Se.a)();return Object(e.h)(ce.b,{style:{maxWidth:600},flex:"grow"},Object(e.h)(ce.b,{gap:{desktop:20,mobile:16},paddingX:{desktop:20,mobile:16},paddingTop:{desktop:32,mobile:16},paddingBottom:16},Object(e.h)(ce.c,{justifyContent:"space-between",alignItems:"center"},Object(e.h)(at.B,{type:"circle",size:rn?96:112}),Object(e.h)(ce.c,{alignItems:"center",justifyContent:"end",gap:8},Object(e.h)(at.B,{type:"circle",size:40}),Object(e.h)(at.B,{type:"circle",size:40}),Object(e.h)(at.B,{type:"circle",height:40,width:100}))),Object(e.h)(at.B,{type:"bar",height:32,width:120}),Object(e.h)(ce.b,{gap:8,flex:"grow",minWidth:0},Object(e.h)(at.B,{type:"bar",height:20,width:"70%"}),Object(e.h)(at.B,{type:"bar",height:20,width:"80%"}),Object(e.h)(at.B,{type:"bar",height:20,width:"30%"}))))};function lt(rn){const _n=rn.split("-");return _n.length?parseInt(_n[0]):-1}function Rt(rn){const _n=rn.split("-");return _n.length?_n.slice(1).join("-"):""}function ln({profile:rn}){var _n;const[Yn,cr]=Object(a.j)(ze.d,ze.c),{canFetchMore:Jt,lastPage:cn,fetchMore:bn,hasLoadedOnce:zn}=Object(Ce.g)({pathname:`/api/v1/reader/feed/profile/${rn.id}`,query:yt({},Object(C.parseQuery)(document.location.href)),getPageInit:({lastPage:qt,init:wn})=>{var $n;const Wn=($n=qt==null?void 0:qt.result)==null?void 0:$n.nextCursor;return Wn&&(wn.query=Qe(yt({},wn.query),{cursor:Wn})),wn},auto:!0,deps:[rn.id],pages:Yn.pages,dispatch:cr}),Rn=Jt&&Boolean((_n=cn==null?void 0:cn.result)==null?void 0:_n.nextCursor),{bodyRef:xn}=Object(se.a)(bn,[cn],{shouldCheck:Rn,threshold:640}),mr=Yn.pages.map(qt=>{var wn;return((wn=qt.result)==null?void 0:wn.items)||[]}).flat(),Or=Object(be.c)(),Lt=rn&&rn.id===(Or==null?void 0:Or.id);return Object(a.d)(()=>{var qt;((qt=cn==null?void 0:cn.result)==null?void 0:qt.items.length)==0&&Rn&&bn()},[cn]),Object(e.h)(vt.FeedProvider,{surface:H.a.Profile,dispatch:cr,state:Yn},Object(e.h)(at.w,{ref:xn},Object(e.h)(he.a,null,mr.map(qt=>Object(e.h)(vt.FeedItem,{item:Qe(yt({},qt),{publication:qt.publication?Yn.publications.get(qt.publication.id):qt.publication,post:qt.post?Yn.posts.get(qt.post.id):qt.post,comment:qt.comment?Yn.comments.get(qt.comment.id):qt.comment,parentComments:qt.parentComments?qt.parentComments.map(wn=>wn&&Yn.comments.get(wn.id)||null):qt.parentComments})}))),(cn==null?void 0:cn.isLoading)||!zn?Object(e.h)(vt.LotsOfNotes,null):mr.length===0?Object(e.h)(ce.a,{paddingY:64,flex:"grow"},Object(e.h)(at.P,{icon:Object(e.h)(O.a,null),title:`${Lt?"You haven\u2019t":`${rn.name} hasn\u2019t`||"This user hasn\u2019t"} published any notes yet.`,text:`Once ${Lt?"you":"they"} do, you\u2019ll see them here.`,action:Object(e.h)(Pe.a,{priority:"secondary",href:Object(C.getFeedUrl)()},"Visit Notes")})):null))}function Mt({subscriptions:rn,profile:_n}){const Yn=_n.publicationUsers.length>0,[cr,Jt]=Object(a.l)(Yn?"post":"note");return Object(e.h)(ce.b,{flex:"fill",paddingX:{desktop:20,mobile:0}},Object(e.h)(ce.a,{className:ge.tabs,style:{height:40}},Yn&&Object(e.h)(Gn,{value:"post",currentValue:cr,onClick:Jt},"Posts"),Object(e.h)(Gn,{value:"note",currentValue:cr,onClick:Jt},"Notes"),Object(e.h)(Gn,{value:"reads",currentValue:cr,onClick:Jt},"Reads",rn.length>0&&` (${rn.length})`)),Object(e.h)(ce.b,{flex:"fill"},cr==="note"&&Object(e.h)(ln,{profile:_n}),cr==="post"&&Object(e.h)(Bt,{profile:_n,userId:_n.id}),cr==="reads"&&Object(e.h)(Rr,{subscriptions:rn,profile:_n})))}function $t(rn){var _n=At(rn,[]);return Object(e.h)("div",yt({className:ge.grid},_n))}function nn({profile:rn}){const _n=Object(be.c)(),Yn=rn&&rn.id===(_n==null?void 0:_n.id);return Object(e.h)(ce.a,{paddingY:64,flex:"grow"},Object(e.h)(at.P,{icon:Object(e.h)(O.a,null),title:`${Yn?"You haven\u2019t":`${rn.name} hasn\u2019t`||"This user hasn\u2019t"} published any posts yet.`,text:"Once they do, you\u2019ll see them here."}))}function Bt({profile:rn,userId:_n}){const Yn="new",cr=12,[Jt,cn]=Object(a.l)(0),[bn,zn]=Object(a.l)([]),{result:Rn,isLoading:xn}=Object(Ce.f)({pathname:"/api/v1/profile/posts",query:{profile_user_id:_n,sort:Yn.toLowerCase(),offset:Jt,limit:cr+1},auto:!0,deps:[_n,Yn,Jt]});Object(a.h)(()=>{Rn&&zn(Jt===0?[Rn]:[...bn,Rn])},[Rn]);const mr=Object(a.i)(()=>({posts:bn.map(Wn=>Wn.posts.slice(0,cr)).flat(),publicationMap:new Map(bn.map(Wn=>Wn.publications).flat().map(Wn=>[Wn.id,Wn]))}),[bn]),Or=bn[bn.length-1],Lt=Or&&Or.posts.length>cr,{bodyRef:qt}=Object(se.a)(()=>{cn(Jt+cr)},[mr,xn],{shouldCheck:Lt&&!xn}),{posts:wn,publicationMap:$n}=mr;return Object(e.h)(ce.b,{paddingX:{desktop:16},paddingY:16},Object(e.h)(at.w,{ref:qt},Rn?wn.length>0?wn.map((Wn,Jn)=>{const Tr=$n.get(Wn.publication_id);if(Tr)return Object(e.h)(Me.e,{key:Wn.id,post:Wn,pub:Tr,isViewed:!0,isLiked:Boolean(Wn.reaction),isSaved:Wn.is_saved,onClick:()=>Object(ie.i)(ie.a.ARCHIVE_PAGE_POST_CLICKED,{post_id:Wn.id,tab:Yn,rank_in_feed:Jn,source:"profile"}),utmSource:"profile"})}):Object(e.h)(nn,{profile:rn}):Object(e.h)(Me.a,null),xn&&Object(e.h)(at.b,null)))}function Kt({url:rn,type:_n,label:Yn,verified:cr,value:Jt}){var cn,bn,zn,Rn;Jt=Jt.replace(/^@/,"");const xn={twitter:{icon:Object(e.h)(R.default,{className:ge.fillIcon,height:14}),label:"Twitter",verifiedIcon:Object(e.h)(s.a,{className:l()(ge.fillIcon,ge.twitterVerifiedIcon),size:18}),showUsername:!0},facebook:{icon:Object(e.h)(w.default,{className:ge.fillIcon,height:14}),label:"Facebook"},instagram:{icon:Object(e.h)(U.default,{className:ge.fillIcon,height:14}),label:"Instagram",showUsername:!0},linkedin:{icon:Object(e.h)(V.default,{className:ge.fillIcon,height:14}),label:"LinkedIn"},youtube:{icon:Object(e.h)(x.default,{className:ge.fillIcon,height:16}),label:"YouTube"},tiktok:{icon:Object(e.h)(W.default,{className:ge.fillIcon,height:16}),label:"TikTok",showUsername:!0},books:{icon:Object(e.h)(r.a,{className:ge.fillIcon,height:16}),label:"Books",showUsername:!0}};return Object(e.h)(Pe.a,{size:"small",allCaps:!0,newTab:!0,href:rn.startsWith("http")?rn:`http://${rn}`,rounded:!0,onClick:()=>{Object(ie.i)(ie.a.USER_LINK_CLICKED,{type:_n,url:rn,label:Yn})},outline:"none",priority:"secondary",leftIcon:((cn=xn[_n])==null?void 0:cn.icon)||Object(e.h)(i.a,{size:14}),rightIcon:cr&&((bn=xn[_n])==null?void 0:bn.verifiedIcon),className:cr&&ge.verified},((zn=xn[_n])==null?void 0:zn.showUsername)?Jt:((Rn=xn[_n])==null?void 0:Rn.label)||Yn)}function Sn({profile:rn,primaryPublication:_n,yourProfile:Yn,setUp:cr,user:Jt,showCTAs:cn,subscriptionSource:bn}){const zn=(rn==null?void 0:rn.name)||"<no name>",Rn=Object(Se.a)(),xn=Rn?te.b.H2:te.b.H1;return Object(e.h)(ce.b,{gap:20},Object(e.h)(ce.c,{justifyContent:"space-between",alignItems:"center"},Object(e.h)(tr,{profile:rn}),Object(e.h)(ce.c,{alignItems:"center",justifyContent:"end",gap:8},Object(e.h)(Mr,{profile:rn,primaryPublication:_n,yourProfile:Yn,setUp:cr,user:Jt,showCTAs:cn,subscriptionSource:bn}),!Yn&&_n&&Object(e.h)(Ot,{user:Jt,profile:rn,primaryPublication:_n,subscriptionSource:bn}))),Object(e.h)(ce.b,{gap:8,flex:"grow",minWidth:0},Object(e.h)(xn,null,zn,Object(e.h)("span",{style:{whiteSpace:"nowrap",verticalAlign:Rn?"middle":void 0}},"\xA0",Object(e.h)(We.a,{tier:rn.bestseller_tier,userId:rn.id,inline:!0}))),Object(e.h)(Qn,{profile:rn}),rn.bio&&Object(e.h)(zr,{profile:rn})),rn.userLinks.length!==0&&Object(e.h)(ce.c,{gap:12,wrap:"wrap",justifyContent:"start"},rn.userLinks.sort((mr,Or)=>mr.type!==Or.type?(mr.type||"website")>(Or.type||"website")?1:-1:Number(mr.id)>Number(Or.id)?1:-1).map(mr=>Object(e.h)(Kt,yt({},mr)))))}function Qn({profile:rn}){const[_n,Yn]=Object(a.l)(!1),{result:cr,error:Jt,isLoading:cn,refetch:bn}=Object(Ce.f)({pathname:`/api/v1/presubscribe/subscriptions?id=${rn.id}`,auto:!1,deps:[rn]}),zn=Object(Se.a)(),Rn=()=>{Yn(!0),cn||bn()},xn=()=>{Yn(!1)},mr=()=>{!cr&&!cn&&bn()};if(!(rn.handle||rn.rough_num_subscribers||rn.presubscriberCount&&rn.presubscriberCount>0))return null;const Lt=rn.handle,qt=rn.rough_num_subscribers,wn=rn.presubscriberCount&&rn.presubscriberCount>0&&!qt,$n=Lt&&(qt||wn),Wn=(Lt||qt)&&wn,Jn=Boolean(Jt||zn||cn||!cr),Tr=(cr==null?void 0:cr.subs.map(eo=>eo.user))||[],Qr=rn.presubscriberCount&&Object(X.a)(rn.presubscriberCount),ao=Object(S.pluralize)(rn.presubscriberCount,"Subscriber",{just_word:!0}),oo=Object(e.h)(ce.a,{gap:4,alignItems:"center",className:l()(rn.presubscriberCount&&ge.stat)},Object(e.h)(te.b.Digit,{color:"secondary"},Qr),Object(e.h)(te.b.Meta,null,ao));return Object(e.h)(ce.a,{gap:8},Lt&&Object(e.h)(te.b.Meta,null,`@${rn.handle}`),$n&&Object(e.h)(te.b.Meta,null," \xB7 "),qt&&Object(e.h)(te.b.Meta,null,rn.rough_num_subscribers," of paid subscribers"),Wn&&Object(e.h)(te.b.Meta,null," \xB7 "),wn&&Object(e.h)(ce.a,{onClick:Rn,onMouseEnter:mr},Jn?oo:Object(e.h)(z.a,{users:Tr},oo),Object(e.h)(D.a,{isOpen:_n,onClose:xn,modalLabel:ao,totalCount:rn.presubscriberCount,utmSource:"profile-subscribers-list",faces:Tr})))}const rr=({url:rn,twitterText:_n,onLinkClicked:Yn})=>{const cr=Object(ue.e)(),Jt=()=>{Object(Ae.copyToClipboard)(rn),cr.popToast(zn=>Object(e.h)(ue.c,Qe(yt({},zn),{text:"Link copied",Icon:i.a}))),Yn==null||Yn("copy")},cn=()=>{window.open(Object(T.pathWithQuery)("https://twitter.com/share",{url:rn,text:_n||""}),"_blank"),Yn==null||Yn("twitter")},bn=()=>{window.open(Object(T.pathWithQuery)("https://www.facebook.com/sharer/sharer.php",{u:rn}),"_blank"),Yn==null||Yn("facebook")};return[Object(e.h)(q.d,{icon:Object(e.h)(i.a,null),onClick:Jt},"Copy link"),Object(e.h)(q.d,{icon:Object(e.h)(Y.default,null),onClick:cn},"Share to Twitter"),Object(e.h)(q.d,{icon:Object(e.h)(K.default,null),onClick:bn},"Share to Facebook")]},Mr=({profile:rn,primaryPublication:_n,yourProfile:Yn,setUp:cr,user:Jt,showCTAs:cn,subscriptionSource:bn})=>{const zn=Object(Se.a)(),{getConfigFor:Rn}=Object(de.c)(),xn=Object(zt.c)("",{backAction:!0}),mr=!Yn&&!_n&&Rn("enable_presubscriptions"),Or=Object(he.e)(rn,"profile"),Lt=Object(Z.b)(rn,"profile"),[qt,wn]=Object(a.l)(!1),$n=rr({url:Object(C.getReaderProfileUrl)(rn,{utm_source:"substack_profile"}),twitterText:`Subscribe to ${rn.name}${rn.twitter_screen_name?`(@${rn.twitter_screen_name})`:""}`,onLinkClicked:Wn=>{Object(ie.i)(ie.a.PROFILE_SHARE_LINK_CLICKED,{type:Wn,shared_user_id:rn.id})}});return Object(e.h)(ce.a,{gap:8,direction:"row"},!Yn&&Object(e.h)(e.Fragment,null,Object(e.h)(q.c,{trigger:Object(e.h)(Pe.c,{fill:"outline"},Object(e.h)(h.a,null)),useMobileBottomSheet:!0,mobileBottomSheetTitle:"More"},Lt,Or,Object(e.h)(q.d,{icon:Object(e.h)(v.a,null),priority:"destructive",onClick:()=>wn(!0)},"Report"),(Jt==null?void 0:Jt.is_global_admin)&&Object(e.h)(e.Fragment,null,Object(e.h)(Ne.a,{paddingX:8}),Object(e.h)(q.d,{icon:Object(e.h)(j.a,null),onClick:()=>window.location.href=Object(C.getUserUndergroundUrl)(rn.id)},"Open in Underground"))),Object(e.h)(q.c,{trigger:Object(e.h)(Pe.c,{fill:"outline"},Object(e.h)(y.a,{height:20,strokeWidth:2})),useMobileBottomSheet:!0,mobileBottomSheetTitle:"Share"},$n),qt&&Object(e.h)(Ie,{userId:rn.id,surface:"profile",onClose:()=>wn(!1),onReportSuccess:()=>{}})),cn&&Object(e.h)(e.Fragment,null,mr?Object(e.h)(G.a,{profile:rn,requireLogin:xn.requireLogin,source:{type:"profile",utmSource:bn}}):null,Yn&&Object(e.h)(e.Fragment,null,cr?Object(e.h)(e.Fragment,null,Object(e.h)(q.c,{trigger:Object(e.h)(Pe.c,{fill:"outline"},Object(e.h)(y.a,{height:20,strokeWidth:2})),useMobileBottomSheet:!0,mobileBottomSheetTitle:"Share"},$n),Object(e.h)(Pe.a,{priority:"secondary",href:Object(C.getEditProfileUrl)(),rounded:!0},"Edit profile")):Object(e.h)(Pe.a,{priority:_n?"primary":"secondary",href:ke,localNavigation:!1,rounded:!0},"Set up profile"),!Jt.has_publication&&!zn&&Object(e.h)(Pe.a,{priority:"primary",href:Object(C.getStartPublishingUrl)(),localNavigation:!1,rounded:!0},"Create a publication"))))},zr=({profile:rn})=>Object(e.h)(te.b.B4,null,Object(e.h)(f.a,{options:{attributes:{rel:"nofollow ugc"}}},rn.bio)),dr=({profile:rn,primaryPublication:_n,isMobile:Yn})=>{const cr=Object(be.c)(),Jt=!!cr,cn=rn.publicationUsers.filter(Rn=>Rn.publication.id!==(_n==null?void 0:_n.id)),bn=rn&&rn.id===(cr==null?void 0:cr.id),zn=!bn&&_n&&(cr==null?void 0:cr.primary_publication);return Object(e.h)(ce.b,{gap:16},_n&&Object(e.h)(ce.b,{className:ge.pubMain,bg:"secondary",padding:{desktop:16,mobile:8},radius:8,as:"a",href:Object(C.getPubUrl)(_n,{signedIn:Jt,params:{utm_source:"substack",utm_medium:"web",utm_campaign:"substack_profile"}}),onClick:()=>Object(ie.l)(_n,"profile")},Object(e.h)(Ve.e,null,Object(e.h)(ce.a,{flex:"grow",minWidth:0,gap:12,alignItems:"center"},Object(e.h)(He.a,{pub:_n,size:Yn?56:64}),Object(e.h)(ce.b,{flex:"grow",minWidth:0,gap:4},Object(e.h)(te.b.H4,{ellipsis:!0},_n.name),Object(e.h)(Ve.c,{author:_n.author,pub:_n})),!Yn&&zn&&Object(e.h)(On,{user:cr,recommendedPublication:_n,userPublication:cr==null?void 0:cr.primary_publication})),_n.hero_text&&Object(e.h)(Ve.b,null,_n.hero_text),Yn&&zn&&Object(e.h)(On,{user:cr,recommendedPublication:_n,userPublication:cr==null?void 0:cr.primary_publication}),!bn&&(cr==null?void 0:cr.is_author)&&(cr==null?void 0:cr.primary_publication)&&Object(e.h)(On,{recommendedPublication:_n,userPublication:cr==null?void 0:cr.primary_publication}))),rn.publicationUsers.length>1&&Object(e.h)($t,null,cn.map(Rn=>Object(e.h)(Dn,{key:Rn.id,pub:Rn.publication,subtitleType:"writer",signedIn:Jt}))))};function Rr({subscriptions:rn,profile:_n}){const Yn=Object(be.c)(),cr=_n.id===(Yn==null?void 0:Yn.id);return rn.length===0?Object(e.h)(ce.a,{paddingY:64,flex:"grow"},cr?_n.hasHiddenPublicationUsers?Object(e.h)(at.P,{icon:Object(e.h)(b.a,null),title:"All of your publications are hidden.",text:"To show others what you read, edit your profile.",action:Object(e.h)(Pe.a,{priority:"secondary",href:Object(C.getEditProfileUrl)()},"Edit profile")}):Object(e.h)(at.P,{icon:Object(e.h)(r.a,null),title:"You haven\u2019t subscribed to any publications yet.",text:"Visit the Explore tab to find something to read.",action:Object(e.h)(Pe.a,{priority:"secondary",href:Object(C.getDiscoverCategoryUrl)()},"Get started")}):Object(e.h)(at.P,{icon:Object(e.h)(E.a,null),title:`${_n.name} doesn\u2019t have any subscriptions to show.`,text:"Once they do, you'll see them here."})):Object(e.h)(ce.b,{flex:"fill",gap:{desktop:8,mobile:0},paddingX:8,paddingY:16},rn.map(Jt=>Object(e.h)(_r,{key:Jt.id,subscription:Jt})))}function _r({subscription:rn}){const _n=rn.is_founding?"founder":rn.membership_state==="subscribed"?"subscribed":null,{publication:Yn}=rn,{author:cr}=Yn,Jt=Object(Oe.a)({publication:Yn,subscriptionSource:"profile-subscriptions"});return Object(e.h)(ce.c,{as:"a",href:Object(C.getPubUrl)(Yn),gap:12,alignItems:"center",paddingY:8,paddingX:8,className:ge.readsRow,minWidth:0,flex:"grow"},Object(e.h)(He.a,{pub:Yn,size:40,badgeType:_n}),Object(e.h)(ce.b,{flex:"grow",minWidth:0,size:14},Object(e.h)(te.b.B4,{ellipsis:!0,weight:"semibold",color:"primary",href:Object(C.getPubUrl)(Yn)},Yn.name),cr&&Object(e.h)(te.b.B4,{ellipsis:!0,color:"secondary"},"by ",cr.name)),Jt.isSubscribed?Object(e.h)(ro,{onUnsubscribe:Jt.unsubscribe,publication:Yn}):Object(e.h)(Pe.a,{fill:"outline",priority:"primary",size:"small",onClick:Jt.subscribe},"Subscribe"))}function ro({onUnsubscribe:rn,publication:_n}){return Object(e.h)(q.c,{trigger:Object(e.h)(Pe.a,{fill:"outline",priority:"secondary",size:"small"},"Subscribed")},Object(e.h)(q.d,{icon:Object(e.h)(P.a,null),href:Object(C.getPubAccountSettingsUrl)(_n,{addBase:!0})},"Manage subscription"),Object(e.h)(q.d,{icon:Object(e.h)(A.a,null),onClick:rn,priority:"destructive"},"Unsubscribe"))}const Dn=({pub:rn,subtitleType:_n})=>{const Yn=Boolean(Object(be.c)()),cr=["subscribed","founder"].includes(_n)?_n:null;return Object(e.h)(e.Fragment,null,Object(e.h)("a",{className:ge.pub,href:Object(C.getPubUrl)(rn,{signedIn:Yn,params:{utm_source:"substack",utm_medium:"web",utm_campaign:"profile_page"}}),onClick:()=>Object(ie.l)(rn,"profile")},Object(e.h)(ce.a,{paddingX:{mobile:0,desktop:8},paddingY:8,minWidth:0,flex:"grow"},Object(e.h)(Ve.d,{pub:rn,subtitle:ut[_n],badgeType:cr,surface:"profile"}))))},ut={writer:"Writer",free_signup:"Free subscriber",subscribed:"Paid subscriber",founder:"Founding member"},fn=({profile:rn})=>Object(e.h)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:c()(Object(F.b)(rn),{json:!0,isScriptContext:!0})}}),On=({recommendedPublication:rn,userPublication:_n})=>{const[Yn,cr]=Object(a.l)(!1),[Jt,cn]=Object(a.l)(!1),bn=Object(Se.a)(),{popToast:zn}=Object(ue.e)(),{result:Rn,hasLoadedOnce:xn}=Object(Ce.f)({pathname:`/api/v1/recommendations/from/${_n.id}/to/${rn.id}`,auto:!0,deps:[_n.id,rn.id]});Object(a.d)(()=>{const Or=!!(Rn==null?void 0:Rn.recommended_publication_id);cn(Or),Jt!==Or&&cn(Or)},[xn,Rn]);const mr=Or=>jt(void 0,null,function*(){cr(!0);try{Or.preventDefault(),Jt?(yield M.a.delete("/api/v1/recommendations").send({recommended_publication_id:rn.id,recommending_publication_id:_n.id,source:"profile"}),zn(Lt=>Object(e.h)(ue.c,Qe(yt({},Lt),{text:"Recommendation removed"})))):(yield M.a.put("/api/v1/recommendations").send({recommended_publication_id:rn.id,recommending_publication_id:_n.id,source:"profile",suggested:!1}),zn(Lt=>Object(e.h)(ue.c,Qe(yt({},Lt),{text:`Recommended ${rn.name}`})))),cn(!Jt)}catch(Lt){zn(qt=>Object(e.h)(ue.c,Qe(yt({},qt),{text:"Something went wrong. Please try again.",Icon:A.a})))}cr(!1)});return Jt?Object(e.h)(Pe.a,{priority:"secondary",fill:"outline",onClick:mr,disabled:Yn,rounded:!bn},"Recommended"):Object(e.h)(Pe.a,{priority:"primary",fill:"outline",onClick:mr,disabled:Yn||!xn,rounded:!bn},"Recommend")},Ot=({user:rn,profile:_n,primaryPublication:Yn,subscriptionSource:cr})=>{const[Jt,cn]=Object(a.l)(!1),[bn,zn]=Object(a.l)(_n.isSubscribed),Rn=Object(Ve.g)("profile"),{popToast:xn}=Object(ue.e)(),mr=Or=>jt(void 0,null,function*(){rn||xn(Lt=>Object(e.h)(ue.c,Qe(yt({},Lt),{text:"Something went wrong. Please try again.",Icon:A.a}))),cn(!0);try{Or.preventDefault(),yield M.a.post("/api/v1/reader/signup/pub").send({publication_id:Yn.id,email:rn==null?void 0:rn.email,visibility:"private",source:cr}),xn(Lt=>Object(e.h)(ue.c,Qe(yt({},Lt),{text:`Subscribed to ${Yn.name}`,Icon:m.a}))),zn(!0),Object(ie.i)(ie.a.FEED_ONE_CLICK_SUBSCRIBE,{source:cr,publication_id:Yn.id})}catch(Lt){xn(qt=>Object(e.h)(ue.c,Qe(yt({},qt),{text:"There was an issue subscribing to this profile.",Icon:A.a})))}cn(!1)});return bn?Object(e.h)(Pe.a,{priority:"secondary",href:Object(T.getSubscribeUrl)(Yn,{user:rn,addBase:!0,params:{next:document.location.href,utm_source:cr,utm_medium:"web",utm_campaign:"profile_page"}}),rounded:!0,onClick:()=>Object(ie.l)(Yn,"profile")},"Subscribed"):cr===tn&&rn?Object(e.h)(Pe.a,{priority:"primary",onClick:mr,disabled:Jt,rounded:!0},"Subscribe"):Object(e.h)(Pe.a,{priority:"primary",href:Object(T.getSubscribeUrl)(Yn,{user:rn,addBase:!0,params:{next:document.location.href,utm_source:cr,utm_medium:"web",utm_campaign:"profile_page"}}),onClick:Rn(Yn,_n),rounded:!0},"Subscribe")},kt=({profile:rn,includeTopPadding:_n})=>{const Yn=rn.publicationUsers.filter(cn=>cn.public).length,cr=rn.primaryPublication&&`Writes ${rn.primaryPublication.name}
${Yn>1?` and ${Object(S.pluralize)(Yn-1,"other publication")}`:""}`,Jt=(rn==null?void 0:rn.handle)?cr?`@${rn.handle} \u2022 ${cr}`:`@${rn.handle}`:cr;return Object(e.h)(ce.b,{paddingTop:_n?16:void 0,paddingBottom:16},Object(e.h)(ce.c,{gap:12,alignItems:rn.bio?"start":"center",className:ge.profileRow,padding:8,radius:8,onClick:()=>{window.location.href=Object(C.getReaderProfileUrl)(rn)}},Object(e.h)(ot.a,{user:rn,size:48}),Object(e.h)(ce.b,null,Object(e.h)(te.b.H4,null,rn.name||"<unset>"),Jt&&Object(e.h)(te.b.B4,{color:"secondary"},Jt),Object(e.h)(te.b.B4,{paddingTop:4},rn.bio))))},Zt=["feed","feed-mentions","notes-inline-suggestions","notes-all-suggestions","notes-like-list","notes-restack-list","substack-feed-item"];function Vn(rn){var _n;const Yn=(_n=new URL(rn,"https://monograph.dev").searchParams)==null?void 0:_n.get("utm_source");return Yn&&Zt.includes(Yn)}function Gn(rn){var _n=rn,{value:Yn,currentValue:cr,children:Jt,onClick:cn}=_n,bn=At(_n,["value","currentValue","children","onClick"]);const zn=Yn===cr;return Object(e.h)(Pe.d,yt({className:l()(ge.tab,zn&&ge.isActive),resetCss:!0,onClick:()=>cn(Yn)},bn),Object(e.h)(te.b.Button,{color:zn?"primary":"secondary"},Jt))}function tr({profile:rn}){const[_n,Yn]=Object(a.l)(!1),cr=Object(C.getUserPhotoUrl)(rn),Jt=Object(Se.a)();return Object(e.h)(ce.a,{style:{cursor:"pointer"},onClick:()=>Yn(!0),className:ge.avatar},Object(e.h)(ot.a,{size:Jt?96:112,user:rn}),Object(e.h)(Wt.a,{module:"../components/ImageViewerModal",resolve:cn=>cn.ImageViewerModal,onRequest:()=>Promise.resolve().then(t.bind(null,231)),showModal:_n,modalContent:[{src:cr,attrs:{src:cr}}],onClose:()=>{Yn(!1)},step:0,includeDownloadButton:!1}))}},function(k,n,t){"use strict";t.d(n,"a",function(){return W});var e=t(3),a=t(38),o=t(119),l=t(69),d=t(212),c=t(72),u=t(104),f=t(139),m=t(82);function p(R){let B={called:!1};return(...x)=>{if(!B.called)return B.called=!0,R(...x)}}var g=t(132);function O(R,...B){R&&B.length>0&&R.classList.add(...B)}function s(R,...B){R&&B.length>0&&R.classList.remove(...B)}var r=(R=>(R.Ended="ended",R.Cancelled="cancelled",R))(r||{});function i(R,B){let x=Object(g.a)();if(!R)return x.dispose;let{transitionDuration:G,transitionDelay:Q}=getComputedStyle(R),[he,Z]=[G,Q].map(le=>{let[de=0]=le.split(",").filter(Boolean).map(be=>be.includes("ms")?parseFloat(be):parseFloat(be)*1e3).sort((be,X)=>X-be);return de});if(he+Z!==0){let le=[];le.push(x.addEventListener(R,"transitionrun",de=>{de.target===de.currentTarget&&(le.splice(0).forEach(be=>be()),le.push(x.addEventListener(R,"transitionend",be=>{be.target===be.currentTarget&&(B("ended"),le.splice(0).forEach(X=>X()))}),x.addEventListener(R,"transitioncancel",be=>{be.target===be.currentTarget&&(B("cancelled"),le.splice(0).forEach(X=>X()))})))}))}else B("ended");return x.add(()=>B("cancelled")),x.dispose}function h(R,B,x,G){let Q=x?"enter":"leave",he=Object(g.a)(),Z=G!==void 0?p(G):()=>{};Q==="enter"&&(R.removeAttribute("hidden"),R.style.display="");let le=Object(l.a)(Q,{enter:()=>B.enter,leave:()=>B.leave}),de=Object(l.a)(Q,{enter:()=>B.enterTo,leave:()=>B.leaveTo}),be=Object(l.a)(Q,{enter:()=>B.enterFrom,leave:()=>B.leaveFrom});return s(R,...B.enter,...B.enterTo,...B.enterFrom,...B.leave,...B.leaveFrom,...B.leaveTo,...B.entered),O(R,...le,...be),he.nextFrame(()=>{s(R,...be),O(R,...de),i(R,X=>(X==="ended"&&(s(R,...le),O(R,...B.entered)),Z(X)))}),he.dispose}function v(){let[R]=Object(e.useState)(g.a);return Object(e.useEffect)(()=>()=>R.dispose(),[R]),R}function j({container:R,direction:B,classes:x,onStart:G,onStop:Q}){let he=Object(d.a)(),Z=v(),le=Object(u.a)(B);Object(c.a)(()=>{let de=Object(g.a)();Z.add(de.dispose);let be=R.current;if(!!be&&le.current!=="idle"&&!!he.current)return de.dispose(),G.current(le.current),de.add(h(be,x.current,le.current==="enter",X=>{de.dispose(),Object(l.a)(X,{[r.Ended](){Q.current(le.current)},[r.Cancelled]:()=>{}})})),de.dispose},[B])}var y=t(54);function b(R=""){return R.split(" ").filter(B=>B.trim().length>1)}let E=Object(e.createContext)(null);E.displayName="TransitionContext";var P=(R=>(R.Visible="visible",R.Hidden="hidden",R))(P||{});function A(){let R=Object(e.useContext)(E);if(R===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return R}function _(){let R=Object(e.useContext)(M);if(R===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return R}let M=Object(e.createContext)(null);M.displayName="NestingContext";function F(R){return"children"in R?F(R.children):R.current.filter(({el:B})=>B.current!==null).filter(({state:B})=>B==="visible").length>0}function H(R,B){let x=Object(u.a)(R),G=Object(e.useRef)([]),Q=Object(d.a)(),he=v(),Z=Object(y.a)((Le,Ae=a.b.Hidden)=>{let Pe=G.current.findIndex(({el:Ne})=>Ne===Le);Pe!==-1&&(Object(l.a)(Ae,{[a.b.Unmount](){G.current.splice(Pe,1)},[a.b.Hidden](){G.current[Pe].state="hidden"}}),he.microTask(()=>{var Ne;!F(G)&&Q.current&&((Ne=x.current)==null||Ne.call(x))}))}),le=Object(y.a)(Le=>{let Ae=G.current.find(({el:Pe})=>Pe===Le);return Ae?Ae.state!=="visible"&&(Ae.state="visible"):G.current.push({el:Le,state:"visible"}),()=>Z(Le,a.b.Unmount)}),de=Object(e.useRef)([]),be=Object(e.useRef)(Promise.resolve()),X=Object(e.useRef)({enter:[],leave:[],idle:[]}),ie=Object(y.a)((Le,Ae,Pe)=>{de.current.splice(0),B&&(B.chains.current[Ae]=B.chains.current[Ae].filter(([Ne])=>Ne!==Le)),B==null||B.chains.current[Ae].push([Le,new Promise(Ne=>{de.current.push(Ne)})]),B==null||B.chains.current[Ae].push([Le,new Promise(Ne=>{Promise.all(X.current[Ae].map(([ce,q])=>q)).then(()=>Ne())})]),Ae==="enter"?be.current=be.current.then(()=>B==null?void 0:B.wait.current).then(()=>Pe(Ae)):Pe(Ae)}),Ce=Object(y.a)((Le,Ae,Pe)=>{Promise.all(X.current[Ae].splice(0).map(([Ne,ce])=>ce)).then(()=>{var Ne;(Ne=de.current.shift())==null||Ne()}).then(()=>Pe(Ae))});return Object(e.useMemo)(()=>({children:G,register:le,unregister:Z,onStart:ie,onStop:Ce,wait:be,chains:X}),[le,Z,G,ie,Ce,X,be])}function C(){}let T=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function S(R){var B;let x={};for(let G of T)x[G]=(B=R[G])!=null?B:C;return x}function D(R){let B=Object(e.useRef)(S(R));return Object(e.useEffect)(()=>{B.current=S(R)},[R]),B}let w="div",U=a.a.RenderStrategy,V=Object(a.d)(function(R,B){let Ve=R,{beforeEnter:x,afterEnter:G,beforeLeave:Q,afterLeave:he,enter:Z,enterFrom:le,enterTo:de,entered:be,leave:X,leaveFrom:ie,leaveTo:Ce}=Ve,Le=Ji(Ve,["beforeEnter","afterEnter","beforeLeave","afterLeave","enter","enterFrom","enterTo","entered","leave","leaveFrom","leaveTo"]),Ae=Object(e.useRef)(null),Pe=Object(m.b)(Ae,B),Ne=Le.unmount?a.b.Unmount:a.b.Hidden,{show:ce,appear:q,initial:te}=A(),[ue,We]=Object(e.useState)(ce?"visible":"hidden"),ot=_(),{register:ze,unregister:vt}=ot,Wt=Object(e.useRef)(null);Object(e.useEffect)(()=>ze(Ae),[ze,Ae]),Object(e.useEffect)(()=>{if(Ne===a.b.Hidden&&!!Ae.current){if(ce&&ue!=="visible"){We("visible");return}return Object(l.a)(ue,{hidden:()=>vt(Ae),visible:()=>ze(Ae)})}},[ue,Ae,ze,vt,ce,Ne]);let zt=Object(u.a)({enter:b(Z),enterFrom:b(le),enterTo:b(de),entered:b(be),leave:b(X),leaveFrom:b(ie),leaveTo:b(Ce)}),at=D({beforeEnter:x,afterEnter:G,beforeLeave:Q,afterLeave:he}),Me=Object(f.a)();Object(e.useEffect)(()=>{if(Me&&ue==="visible"&&Ae.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[Ae,ue,Me]);let Be=te&&!q,Xe=(()=>!Me||Be||Wt.current===ce?"idle":ce?"enter":"leave")(),Te=Object(y.a)(z=>Object(l.a)(z,{enter:()=>at.current.beforeEnter(),leave:()=>at.current.beforeLeave(),idle:()=>{}})),we=Object(y.a)(z=>Object(l.a)(z,{enter:()=>at.current.afterEnter(),leave:()=>at.current.afterLeave(),idle:()=>{}})),De=H(()=>{We("hidden"),vt(Ae)},ot);j({container:Ae,classes:zt,direction:Xe,onStart:Object(u.a)(z=>{De.onStart(Ae,z,Te)}),onStop:Object(u.a)(z=>{De.onStop(Ae,z,we),z==="leave"&&!F(De)&&(We("hidden"),vt(Ae))})}),Object(e.useEffect)(()=>{!Be||(Ne===a.b.Hidden?Wt.current=null:Wt.current=ce)},[ce,Be,ue]);let Ie=Le,He={ref:Pe};return e.default.createElement(M.Provider,{value:De},e.default.createElement(o.a,{value:Object(l.a)(ue,{visible:o.b.Open,hidden:o.b.Closed})},Object(a.e)({ourProps:He,theirProps:Ie,defaultTag:w,features:U,visible:ue==="visible",name:"Transition.Child"})))}),K=Object(a.d)(function(R,B){let ce=R,{show:x,appear:G=!1,unmount:Q}=ce,he=Ji(ce,["show","appear","unmount"]),Z=Object(e.useRef)(null),le=Object(m.b)(Z,B);Object(f.a)();let de=Object(o.c)();if(x===void 0&&de!==null&&(x=Object(l.a)(de,{[o.b.Open]:!0,[o.b.Closed]:!1})),![!0,!1].includes(x))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[be,X]=Object(e.useState)(x?"visible":"hidden"),ie=H(()=>{X("hidden")}),[Ce,Le]=Object(e.useState)(!0),Ae=Object(e.useRef)([x]);Object(c.a)(()=>{Ce!==!1&&Ae.current[Ae.current.length-1]!==x&&(Ae.current.push(x),Le(!1))},[Ae,x]);let Pe=Object(e.useMemo)(()=>({show:x,appear:G,initial:Ce}),[x,G,Ce]);Object(e.useEffect)(()=>{if(x)X("visible");else if(!F(ie))X("hidden");else{let q=Z.current;if(!q)return;let te=q.getBoundingClientRect();te.x===0&&te.y===0&&te.width===0&&te.height===0&&X("hidden")}},[x,ie]);let Ne={unmount:Q};return e.default.createElement(M.Provider,{value:ie},e.default.createElement(E.Provider,{value:Pe},Object(a.e)({ourProps:_o(pr({},Ne),{as:e.Fragment,children:e.default.createElement(V,pr(pr({ref:le},Ne),he))}),theirProps:{},defaultTag:e.Fragment,features:U,visible:be==="visible",name:"Transition"})))}),Y=Object(a.d)(function(R,B){let x=Object(e.useContext)(E)!==null,G=Object(o.c)()!==null;return e.default.createElement(e.default.Fragment,null,!x&&G?e.default.createElement(K,pr({ref:B},R)):e.default.createElement(V,pr({ref:B},R)))}),W=Object.assign(K,{Child:Y,Root:K})},,,function(k,n,t){var e=t(108),a=e.Uint8Array;k.exports=a},function(k,n,t){var e=t(532),a=t(510),o=t(262);function l(d){return e(d,o,a)}k.exports=l},function(k,n,t){var e=t(474),a=t(669),o=Object.prototype,l=o.hasOwnProperty;function d(c){if(!e(c))return a(c);var u=[];for(var f in Object(c))l.call(c,f)&&f!="constructor"&&u.push(f);return u}k.exports=d},function(k,n,t){var e=t(194),a=t(320),o=t(95),l=t(201),d=1/0,c=e?e.prototype:void 0,u=c?c.toString:void 0;function f(m){if(typeof m=="string")return m;if(o(m))return a(m,f)+"";if(l(m))return u?u.call(m):"";var p=m+"";return p=="0"&&1/m==-d?"-0":p}k.exports=f},function(k,n,t){var e=t(453),a=1/0,o=17976931348623157e292;function l(d){if(!d)return d===0?d:0;if(d=e(d),d===a||d===-a){var c=d<0?-1:1;return c*o}return d===d?d:0}k.exports=l},function(k,n){var t=/\s/;function e(a){for(var o=a.length;o--&&t.test(a.charAt(o)););return o}k.exports=e},function(k,n,t){var e;(function(a,o,l){if(!a)return;for(var d={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},c={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},u={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},f={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},m,p=1;p<20;++p)d[111+p]="f"+p;for(p=0;p<=9;++p)d[p+96]=p.toString();function g(_,M,F){if(_.addEventListener){_.addEventListener(M,F,!1);return}_.attachEvent("on"+M,F)}function O(_){if(_.type=="keypress"){var M=String.fromCharCode(_.which);return _.shiftKey||(M=M.toLowerCase()),M}return d[_.which]?d[_.which]:c[_.which]?c[_.which]:String.fromCharCode(_.which).toLowerCase()}function s(_,M){return _.sort().join(",")===M.sort().join(",")}function r(_){var M=[];return _.shiftKey&&M.push("shift"),_.altKey&&M.push("alt"),_.ctrlKey&&M.push("ctrl"),_.metaKey&&M.push("meta"),M}function i(_){if(_.preventDefault){_.preventDefault();return}_.returnValue=!1}function h(_){if(_.stopPropagation){_.stopPropagation();return}_.cancelBubble=!0}function v(_){return _=="shift"||_=="ctrl"||_=="alt"||_=="meta"}function j(){if(!m){m={};for(var _ in d)_>95&&_<112||d.hasOwnProperty(_)&&(m[d[_]]=_)}return m}function y(_,M,F){return F||(F=j()[_]?"keydown":"keypress"),F=="keypress"&&M.length&&(F="keydown"),F}function b(_){return _==="+"?["+"]:(_=_.replace(/\+{2}/g,"+plus"),_.split("+"))}function E(_,M){var F,H,C,T=[];for(F=b(_),C=0;C<F.length;++C)H=F[C],f[H]&&(H=f[H]),M&&M!="keypress"&&u[H]&&(H=u[H],T.push("shift")),v(H)&&T.push(H);return M=y(H,T,M),{key:H,modifiers:T,action:M}}function P(_,M){return _===null||_===o?!1:_===M?!0:P(_.parentNode,M)}function A(_){var M=this;if(_=_||o,!(M instanceof A))return new A(_);M.target=_,M._callbacks={},M._directMap={};var F={},H,C=!1,T=!1,S=!1;function D(R){R=R||{};var B=!1,x;for(x in F){if(R[x]){B=!0;continue}F[x]=0}B||(S=!1)}function w(R,B,x,G,Q,he){var Z,le,de=[],be=x.type;if(!M._callbacks[R])return[];for(be=="keyup"&&v(R)&&(B=[R]),Z=0;Z<M._callbacks[R].length;++Z)if(le=M._callbacks[R][Z],!(!G&&le.seq&&F[le.seq]!=le.level)&&be==le.action&&(be=="keypress"&&!x.metaKey&&!x.ctrlKey||s(B,le.modifiers))){var X=!G&&le.combo==Q,ie=G&&le.seq==G&&le.level==he;(X||ie)&&M._callbacks[R].splice(Z,1),de.push(le)}return de}function U(R,B,x,G){M.stopCallback(B,B.target||B.srcElement,x,G)||R(B,x)===!1&&(i(B),h(B))}M._handleKey=function(R,B,x){var G=w(R,B,x),Q,he={},Z=0,le=!1;for(Q=0;Q<G.length;++Q)G[Q].seq&&(Z=Math.max(Z,G[Q].level));for(Q=0;Q<G.length;++Q){if(G[Q].seq){if(G[Q].level!=Z)continue;le=!0,he[G[Q].seq]=1,U(G[Q].callback,x,G[Q].combo,G[Q].seq);continue}le||U(G[Q].callback,x,G[Q].combo)}var de=x.type=="keypress"&&T;x.type==S&&!v(R)&&!de&&D(he),T=le&&x.type=="keydown"};function V(R){typeof R.which!="number"&&(R.which=R.keyCode);var B=O(R);if(!!B){if(R.type=="keyup"&&C===B){C=!1;return}M.handleKey(B,r(R),R)}}function K(){clearTimeout(H),H=setTimeout(D,1e3)}function Y(R,B,x,G){F[R]=0;function Q(be){return function(){S=be,++F[R],K()}}function he(be){U(x,be,R),G!=="keyup"&&(C=O(be)),setTimeout(D,10)}for(var Z=0;Z<B.length;++Z){var le=Z+1===B.length,de=le?he:Q(G||E(B[Z+1]).action);W(B[Z],de,G,R,Z)}}function W(R,B,x,G,Q){M._directMap[R+":"+x]=B,R=R.replace(/\s+/g," ");var he=R.split(" "),Z;if(he.length>1){Y(R,he,B,x);return}Z=E(R,x),M._callbacks[Z.key]=M._callbacks[Z.key]||[],w(Z.key,Z.modifiers,{type:Z.action},G,R,Q),M._callbacks[Z.key][G?"unshift":"push"]({callback:B,modifiers:Z.modifiers,action:Z.action,seq:G,level:Q,combo:R})}M._bindMultiple=function(R,B,x){for(var G=0;G<R.length;++G)W(R[G],B,x)},g(_,"keypress",V),g(_,"keydown",V),g(_,"keyup",V)}A.prototype.bind=function(_,M,F){var H=this;return _=_ instanceof Array?_:[_],H._bindMultiple.call(H,_,M,F),H},A.prototype.unbind=function(_,M){var F=this;return F.bind.call(F,_,function(){},M)},A.prototype.trigger=function(_,M){var F=this;return F._directMap[_+":"+M]&&F._directMap[_+":"+M]({},_),F},A.prototype.reset=function(){var _=this;return _._callbacks={},_._directMap={},_},A.prototype.stopCallback=function(_,M){var F=this;return(" "+M.className+" ").indexOf(" mousetrap ")>-1||P(M,F.target)?!1:M.tagName=="INPUT"||M.tagName=="SELECT"||M.tagName=="TEXTAREA"||M.isContentEditable},A.prototype.handleKey=function(){var _=this;return _._handleKey.apply(_,arguments)},A.addKeycodes=function(_){for(var M in _)_.hasOwnProperty(M)&&(d[M]=_[M]);m=null},A.init=function(){var _=A(o);for(var M in _)M.charAt(0)!=="_"&&(A[M]=function(F){return function(){return _[F].apply(_,arguments)}}(M))},A.init(),a.Mousetrap=A,k.exports&&(k.exports=A),e=function(){return A}.call(n,t,n,k),e!==l&&(k.exports=e)})(typeof window!="undefined"?window:null,typeof window!="undefined"?document:null)},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"UserBadgeOutlineIcon",svgParams:{viewBox:"0 0 40 40",height:40,width:40}}),Object(e.h)("path",{d:"M17.8212 2.19198C19.5364 1.48152 21.4636 1.48152 23.1788 2.19198L31.198 5.51364C32.9132 6.2241 34.2759 7.58682 34.9864 9.30201L38.308 17.3212C39.0185 19.0364 39.0185 20.9636 38.308 22.6788L34.9864 30.698C34.2759 32.4132 32.9132 33.7759 31.198 34.4864L23.1788 37.808C21.4636 38.5185 19.5364 38.5185 17.8212 37.808L9.80201 34.4864C8.08682 33.7759 6.7241 32.4132 6.01364 30.698L2.69198 22.6788C1.98152 20.9636 1.98152 19.0364 2.69198 17.3212L6.01364 9.30201C6.7241 7.58682 8.08682 6.2241 9.80202 5.51364L17.8212 2.19198Z",stroke:"#FF6719",strokeWidth:"4",fill:"transparent"}),Object(e.h)("path",{d:"M27.1666 15L17.9999 24.1667L13.8333 20",stroke:"#FF6719",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}));n.default=O},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("CornerDownRight",[["polyline",{points:"15 10 20 15 15 20",key:"1q7qjw"}],["path",{d:"M4 4v7a4 4 0 0 0 4 4h12",key:"z08zvw"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("ArrowLeft",[["line",{x1:"19",x2:"5",y1:"12",y2:"12",key:"9fu2vq"}],["polyline",{points:"12 19 5 12 12 5",key:"1ksm0z"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("ArrowRight",[["line",{x1:"5",x2:"19",y1:"12",y2:"12",key:"13b5wn"}],["polyline",{points:"12 5 19 12 12 19",key:"sfr3i6"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("RefreshCw",[["path",{d:"M21 2v6h-6",key:"1lwg0q"}],["path",{d:"M3 12a9 9 0 0 1 15-6.7L21 8",key:"vaktt2"}],["path",{d:"M3 22v-6h6",key:"6llvyv"}],["path",{d:"M21 12a9 9 0 0 1-15 6.7L3 16",key:"i52hsp"}]])},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"ShareFacebookIcon",svgParams:{height:17,width:16}}),Object(e.h)("path",{d:"M10.6543 1.38723C10.3533 0.960814 9.95383 0.61341 9.48976 0.374567C9.02902 0.137956 8.51908 0.0130716 8.00115 0.0100098C7.86087 0.0101844 7.72354 0.0502687 7.60519 0.125581C7.48684 0.200893 7.39237 0.308324 7.3328 0.435326L5.00368 5.67077H3.029C2.72335 5.66964 2.42059 5.73003 2.13876 5.84833C1.85692 5.96663 1.60177 6.14043 1.38849 6.35938C1.16707 6.57502 0.991841 6.83346 0.873459 7.11897C0.755078 7.40447 0.696022 7.71108 0.699885 8.02014V13.691C0.699885 14.3087 0.945273 14.9012 1.38207 15.338C1.81886 15.7747 2.41128 16.0201 3.029 16.0201H13.348C13.8951 16.021 14.425 15.8283 14.8438 15.4762C15.2626 15.1241 15.5434 14.6352 15.6366 14.0961L16.6493 8.4252C16.7252 8.09192 16.7252 7.74582 16.6493 7.41254C16.566 7.08205 16.4104 6.7742 16.1936 6.51128C15.9746 6.25 15.7017 6.03926 15.3936 5.89355C15.0762 5.7467 14.7306 5.67068 14.3809 5.67077H10.5328L11.0391 4.37457C11.2397 3.88784 11.3162 3.35894 11.2619 2.83533C11.1853 2.30894 10.9763 1.81065 10.6543 1.38723ZM4.75052 14.5518H3.029C2.91049 14.5525 2.79303 14.5296 2.68349 14.4844C2.57394 14.4392 2.47452 14.3726 2.39102 14.2885C2.23609 14.1199 2.14945 13.8997 2.14799 13.6708V8.02014C2.14913 7.901 2.17389 7.78328 2.22082 7.67377C2.26775 7.56427 2.33592 7.46515 2.4214 7.38216C2.50369 7.29576 2.60267 7.22698 2.71233 7.17998C2.822 7.13298 2.94007 7.10874 3.05938 7.10874H4.7809L4.75052 14.5518ZM10.6746 7.05811H14.3809C14.5145 7.05821 14.6462 7.08942 14.7657 7.14925C14.8875 7.20532 14.9948 7.28845 15.0796 7.39229C15.1675 7.49052 15.2301 7.60871 15.2619 7.73659C15.2922 7.8665 15.2922 8.00162 15.2619 8.13153L14.2493 13.8024C14.2087 14.017 14.094 14.2106 13.9252 14.3492C13.7619 14.4812 13.558 14.5528 13.348 14.5518H6.19862V6.45052L8.43659 1.38723H8.52773C8.9042 1.50037 9.23304 1.73413 9.4636 2.05252C9.69416 2.37092 9.81365 2.75627 9.80368 3.14925C9.8181 3.39741 9.78015 3.64583 9.69229 3.87836L9.23659 5.04292C9.15397 5.273 9.12623 5.51921 9.15558 5.76191C9.1877 6.00427 9.27425 6.23623 9.40875 6.44039C9.5535 6.6376 9.74028 6.80017 9.95558 6.91634C10.1774 7.03206 10.4244 7.0912 10.6746 7.08849V7.05811Z"}));n.default=O},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"TwitterOutlineIcon",svgParams:{height:16,width:20}}),Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.1524 0.286815C12.9848 -0.0318829 13.8948 -0.0864749 14.7592 0.130489C15.462 0.306912 16.107 0.655903 16.6376 1.14249C17.3169 0.89658 17.961 0.560161 18.5523 0.141743C18.7998 -0.0334198 19.1301 -0.0365939 19.381 0.133779C19.6318 0.304152 19.7507 0.612306 19.6791 0.907C19.4028 2.04538 18.8458 3.09393 18.0616 3.95753C18.0757 4.09811 18.083 4.23936 18.0835 4.3808L18.0835 4.38319C18.0835 9.29757 15.7264 12.8962 12.3452 14.7015C8.98147 16.4975 4.67843 16.4794 0.840591 14.3406C0.546545 14.1767 0.403384 13.8324 0.49452 13.5084C0.585656 13.1843 0.887269 12.9652 1.22363 12.9786C2.65157 13.0356 4.0647 12.7377 5.34034 12.12C4.06579 11.3575 3.15922 10.4438 2.53674 9.45782C1.73519 8.18825 1.43205 6.84263 1.37719 5.63204C1.32248 4.42456 1.51372 3.33632 1.71513 2.55507C1.81628 2.16276 1.92118 1.84328 2.00191 1.61926C2.04232 1.50714 2.0768 1.41859 2.10191 1.35643C2.11446 1.32534 2.12469 1.30081 2.13215 1.2832L2.14123 1.26201L2.14412 1.25538L2.14514 1.25307L2.14553 1.25217C2.1457 1.25179 2.14586 1.25144 2.81079 1.54604L2.14586 1.25144C2.25213 1.01158 2.47934 0.847546 2.74046 0.822176C3.00157 0.796805 3.25612 0.914031 3.40657 1.12894C4.15428 2.19698 5.15353 3.06271 6.31515 3.64923C7.26519 4.12892 8.2998 4.40971 9.35623 4.47759V4.41217C9.34536 3.52161 9.60685 2.64886 10.1058 1.91153C10.6058 1.17278 11.3201 0.605503 12.1524 0.286815ZM3.09343 3.03841C2.9284 3.71356 2.78659 4.6028 2.83025 5.5662C2.8764 6.58479 3.12882 7.67102 3.76666 8.68131C4.40153 9.68688 5.44569 10.6611 7.14733 11.4198C7.38821 11.5272 7.55207 11.7566 7.57557 12.0192C7.59906 12.2819 7.47851 12.5367 7.26052 12.6852C6.28428 13.3499 5.20629 13.8343 4.07717 14.1236C6.75502 14.8865 9.46059 14.5928 11.6602 13.4184C14.5413 11.8801 16.6285 8.79158 16.6289 4.38467C16.6283 4.20406 16.611 4.0239 16.5772 3.84652C16.5318 3.60859 16.6079 3.3637 16.7801 3.19336C17.0303 2.94581 17.2553 2.67591 17.4527 2.38779C17.1883 2.49441 16.9189 2.58923 16.6453 2.67187C16.3709 2.75477 16.0733 2.6687 15.8855 2.45208C15.4964 2.00326 14.9795 1.68547 14.4051 1.54127C13.8306 1.39708 13.2258 1.43333 12.6725 1.6452C12.1191 1.85707 11.6436 2.23446 11.3105 2.72674C10.9773 3.21904 10.8028 3.80236 10.8107 4.39779L10.8108 4.40751H10.8108V5.21813C10.8108 5.61242 10.4966 5.9349 10.1024 5.94515C8.56202 5.98522 7.03575 5.6425 5.65956 4.94765C4.69805 4.46217 3.83071 3.81535 3.09343 3.03841Z"}));n.default=O},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},function(k,n,t){"use strict";t.r(n),t.d(n,"ReaderBadgeIcon",function(){return l});var e=t(0);const a="#FF6719";var o=t(13);function l({className:c,type:u,accentColor:f}){const m=22;return Object(e.h)(o.a,{name:"ReaderBadgeIcon",className:c,svgParams:{width:m,height:m,viewBox:"0 0 22 22"},fill:"none",stroke:"none",strokeWidth:1},Object(e.h)("circle",{cx:"11",cy:"11",r:"11",fill:"var(--color-bg-primary)"}),Object(e.h)("circle",{cx:"11",cy:"11",r:"9",fill:f||a}),u==="subscribed"?Object(e.h)(e.Fragment,null,Object(e.h)("ellipse",{rx:"2.72196",ry:"2.68806",transform:"matrix(0.707101 -0.707113 0.707101 0.707113 12.926 12.9255)",stroke:"white"}),Object(e.h)("ellipse",{rx:"2.72196",ry:"2.68806",transform:"matrix(0.707101 -0.707113 0.707101 0.707113 9.07543 9.07503)",stroke:"white"}),Object(e.h)("ellipse",{rx:"2.68806",ry:"2.72196",transform:"matrix(-0.707101 -0.707113 -0.707101 0.707113 9.05152 12.9494)",stroke:"white"}),Object(e.h)("ellipse",{rx:"2.68806",ry:"2.72196",transform:"matrix(-0.707101 -0.707113 -0.707101 0.707113 12.95 9.05009)",stroke:"white"})):Object(e.h)(e.Fragment,null,Object(e.h)("path",{d:"M11.9018 10.3229C11.9018 12.2029 10.3777 13.7269 8.49775 13.7269C6.61777 13.7269 5.09375 12.2029 5.09375 10.3229C5.09375 8.44296 6.61777 6.91894 8.49775 6.91894C10.3777 6.91894 11.9018 8.44296 11.9018 10.3229Z",stroke:"white"}),Object(e.h)("path",{d:"M12.8178 13.4959C12.8178 15.3759 11.2938 16.8999 9.41377 16.8999C7.5338 16.8999 6.00977 15.3759 6.00977 13.4959C6.00977 11.6159 7.5338 10.0919 9.41377 10.0919C11.2938 10.0919 12.8178 11.6159 12.8178 13.4959Z",stroke:"white"}),Object(e.h)("path",{d:"M15.9564 13.503C15.9564 15.383 14.4324 16.907 12.5524 16.907C10.6725 16.907 9.14844 15.383 9.14844 13.503C9.14844 11.623 10.6725 10.099 12.5524 10.099C14.4324 10.099 15.9564 11.623 15.9564 13.503Z",stroke:"white"}),Object(e.h)("path",{d:"M14.4047 8.49824C14.4047 10.3782 12.8807 11.9022 11.0007 11.9022C9.1207 11.9022 7.59668 10.3782 7.59668 8.49824C7.59668 6.61826 9.1207 5.09424 11.0007 5.09424C12.8807 5.09424 14.4047 6.61826 14.4047 8.49824Z",stroke:"white"}),Object(e.h)("path",{d:"M16.9066 10.3229C16.9066 12.2029 15.3826 13.7269 13.5026 13.7269C11.6227 13.7269 10.0986 12.2029 10.0986 10.3229C10.0986 8.44296 11.6227 6.91894 13.5026 6.91894C15.3826 6.91894 16.9066 8.44296 16.9066 10.3229Z",stroke:"white"})))}var d=n.default=l},function(k,n,t){"use strict";t.d(n,"a",function(){return On}),t.d(n,"b",function(){return On});var e=t(22);const a="aaa1rp3barth4b0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0faromeo7ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4vianca6w0s2x0a2z0ure5ba0by2idu3namex3narepublic11d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re2s2c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y0eats7k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking0channel11l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t0isalat7u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0at2delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d0network8tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntdoor4ier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5gtv3iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0eles2s3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1nder2le4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster5ia3d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4de2k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0cys3drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7serati6ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic3tual5v1w1x1y1z2na0b1goya4me2tura4vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rthwesternmutual14on4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9dnavy5lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3ssagens7y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cher3ks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp2w2ell3ia1ksha5oes2p0ping5uji3w0time7i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ffany5ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0channel7ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5m\xF6gensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lkswagen7vo3te1ing3o2yage5u0elos6wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",o="\u03B5\u03BB1\u03C52\u0431\u04331\u0435\u043B3\u0434\u0435\u0442\u04384\u0435\u044E2\u043A\u0430\u0442\u043E\u043B\u0438\u043A6\u043E\u043C3\u043C\u043A\u04342\u043E\u043D1\u0441\u043A\u0432\u04306\u043E\u043D\u043B\u0430\u0439\u043D5\u0440\u04333\u0440\u0443\u04412\u04442\u0441\u0430\u0439\u04423\u0440\u04313\u0443\u043A\u04403\u049B\u0430\u04373\u0570\u0561\u05753\u05D9\u05E9\u05E8\u05D0\u05DC5\u05E7\u05D5\u05DD3\u0627\u0628\u0648\u0638\u0628\u064A5\u062A\u0635\u0627\u0644\u0627\u062A6\u0631\u0627\u0645\u0643\u06485\u0644\u0627\u0631\u062F\u06464\u0628\u062D\u0631\u064A\u06465\u062C\u0632\u0627\u0626\u06315\u0633\u0639\u0648\u062F\u064A\u06296\u0639\u0644\u064A\u0627\u06465\u0645\u063A\u0631\u06285\u0645\u0627\u0631\u0627\u062A5\u06CC\u0631\u0627\u06465\u0628\u0627\u0631\u062A2\u0632\u0627\u06314\u064A\u062A\u06433\u06BE\u0627\u0631\u062A5\u062A\u0648\u0646\u06334\u0633\u0648\u062F\u0627\u06463\u0631\u064A\u06295\u0634\u0628\u0643\u06294\u0639\u0631\u0627\u06422\u06282\u0645\u0627\u06464\u0641\u0644\u0633\u0637\u064A\u06466\u0642\u0637\u06313\u0643\u0627\u062B\u0648\u0644\u064A\u06436\u0648\u06453\u0645\u0635\u06312\u0644\u064A\u0633\u064A\u06275\u0648\u0631\u064A\u062A\u0627\u0646\u064A\u06277\u0642\u06394\u0647\u0645\u0631\u0627\u06475\u067E\u0627\u06A9\u0633\u062A\u0627\u06467\u0680\u0627\u0631\u062A4\u0915\u0949\u092E3\u0928\u0947\u091F3\u092D\u093E\u0930\u09240\u092E\u094D3\u094B\u09245\u0938\u0902\u0917\u0920\u09285\u09AC\u09BE\u0982\u09B2\u09BE5\u09AD\u09BE\u09B0\u09A42\u09F0\u09A44\u0A2D\u0A3E\u0A30\u0A244\u0AAD\u0ABE\u0AB0\u0AA44\u0B2D\u0B3E\u0B30\u0B244\u0B87\u0BA8\u0BCD\u0BA4\u0BBF\u0BAF\u0BBE6\u0BB2\u0B99\u0BCD\u0B95\u0BC86\u0B9A\u0BBF\u0B99\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0BC2\u0BB0\u0BCD11\u0C2D\u0C3E\u0C30\u0C24\u0C4D5\u0CAD\u0CBE\u0CB0\u0CA44\u0D2D\u0D3E\u0D30\u0D24\u0D025\u0DBD\u0D82\u0D9A\u0DCF4\u0E04\u0E2D\u0E213\u0E44\u0E17\u0E223\u0EA5\u0EB2\u0EA73\u10D2\u10D42\u307F\u3093\u306A3\u30A2\u30DE\u30BE\u30F34\u30AF\u30E9\u30A6\u30C94\u30B0\u30FC\u30B0\u30EB4\u30B3\u30E02\u30B9\u30C8\u30A23\u30BB\u30FC\u30EB3\u30D5\u30A1\u30C3\u30B7\u30E7\u30F36\u30DD\u30A4\u30F3\u30C84\u4E16\u754C2\u4E2D\u4FE11\u56FD1\u570B1\u6587\u7F513\u4E9A\u9A6C\u900A3\u4F01\u4E1A2\u4F5B\u5C712\u4FE1\u606F2\u5065\u5EB72\u516B\u53662\u516C\u53F81\u76CA2\u53F0\u6E7E1\u70632\u5546\u57CE1\u5E971\u68072\u5609\u91CC0\u5927\u9152\u5E975\u5728\u7EBF2\u5927\u62FF2\u5929\u4E3B\u65593\u5A31\u4E502\u5BB6\u96FB2\u5E7F\u4E1C2\u5FAE\u535A2\u6148\u55842\u6211\u7231\u4F603\u624B\u673A2\u62DB\u80582\u653F\u52A11\u5E9C2\u65B0\u52A0\u57612\u95FB2\u65F6\u5C1A2\u66F8\u7C4D2\u673A\u67842\u6DE1\u9A6C\u95213\u6E38\u620F2\u6FB3\u95802\u70B9\u770B2\u79FB\u52A82\u7EC4\u7EC7\u673A\u67844\u7F51\u57401\u5E971\u7AD91\u7EDC2\u8054\u901A2\u8C37\u6B4C2\u8D2D\u72692\u901A\u8CA92\u96C6\u56E22\u96FB\u8A0A\u76C8\u79D14\u98DE\u5229\u6D663\u98DF\u54C12\u9910\u53852\u9999\u683C\u91CC\u62C93\u6E2F2\uB2F7\uB1371\uCEF42\uC0BC\uC1312\uD55C\uAD6D2",l=(Ot,kt)=>{for(const Zt in kt)Ot[Zt]=kt[Zt];return Ot},d="numeric",c="ascii",u="alpha",f="asciinumeric",m="alphanumeric",p="domain",g="emoji",O="scheme",s="slashscheme",r="whitespace";function i(Ot,kt){return Ot in kt||(kt[Ot]=[]),kt[Ot]}function h(Ot,kt,Zt){kt[d]&&(kt[f]=!0,kt[m]=!0),kt[c]&&(kt[f]=!0,kt[u]=!0),kt[f]&&(kt[m]=!0),kt[u]&&(kt[m]=!0),kt[m]&&(kt[p]=!0),kt[g]&&(kt[p]=!0);for(const Vn in kt){const Gn=i(Vn,Zt);Gn.indexOf(Ot)<0&&Gn.push(Ot)}}function v(Ot,kt){const Zt={};for(const Vn in kt)kt[Vn].indexOf(Ot)>=0&&(Zt[Vn]=!0);return Zt}function j(Ot){Ot===void 0&&(Ot=null),this.j={},this.jr=[],this.jd=null,this.t=Ot}j.groups={},j.prototype={accepts(){return!!this.t},go(Ot){const kt=this,Zt=kt.j[Ot];if(Zt)return Zt;for(let Vn=0;Vn<kt.jr.length;Vn++){const Gn=kt.jr[Vn][0],tr=kt.jr[Vn][1];if(tr&&Gn.test(Ot))return tr}return kt.jd},has(Ot,kt){return kt===void 0&&(kt=!1),kt?Ot in this.j:!!this.go(Ot)},ta(Ot,kt,Zt,Vn){for(let Gn=0;Gn<Ot.length;Gn++)this.tt(Ot[Gn],kt,Zt,Vn)},tr(Ot,kt,Zt,Vn){Vn=Vn||j.groups;let Gn;return kt&&kt.j?Gn=kt:(Gn=new j(kt),Zt&&Vn&&h(kt,Zt,Vn)),this.jr.push([Ot,Gn]),Gn},ts(Ot,kt,Zt,Vn){let Gn=this;const tr=Ot.length;if(!tr)return Gn;for(let rn=0;rn<tr-1;rn++)Gn=Gn.tt(Ot[rn]);return Gn.tt(Ot[tr-1],kt,Zt,Vn)},tt(Ot,kt,Zt,Vn){Vn=Vn||j.groups;const Gn=this;if(kt&&kt.j)return Gn.j[Ot]=kt,kt;const tr=kt;let rn,_n=Gn.go(Ot);if(_n?(rn=new j,l(rn.j,_n.j),rn.jr.push.apply(rn.jr,_n.jr),rn.jd=_n.jd,rn.t=_n.t):rn=new j,tr){if(Vn)if(rn.t&&typeof rn.t=="string"){const Yn=l(v(rn.t,Vn),Zt);h(tr,Yn,Vn)}else Zt&&h(tr,Zt,Vn);rn.t=tr}return Gn.j[Ot]=rn,rn}};const y=(Ot,kt,Zt,Vn,Gn)=>Ot.ta(kt,Zt,Vn,Gn),b=(Ot,kt,Zt,Vn,Gn)=>Ot.tr(kt,Zt,Vn,Gn),E=(Ot,kt,Zt,Vn,Gn)=>Ot.ts(kt,Zt,Vn,Gn),P=(Ot,kt,Zt,Vn,Gn)=>Ot.tt(kt,Zt,Vn,Gn),A="WORD",_="UWORD",M="LOCALHOST",F="TLD",H="UTLD",C="SCHEME",T="SLASH_SCHEME",S="NUM",D="WS",w="NL",U="OPENBRACE",V="OPENBRACKET",K="OPENANGLEBRACKET",Y="OPENPAREN",W="CLOSEBRACE",R="CLOSEBRACKET",B="CLOSEANGLEBRACKET",x="CLOSEPAREN",G="AMPERSAND",Q="APOSTROPHE",he="ASTERISK",Z="AT",le="BACKSLASH",de="BACKTICK",be="CARET",X="COLON",ie="COMMA",Ce="DOLLAR",Le="DOT",Ae="EQUALS",Pe="EXCLAMATION",Ne="HYPHEN",ce="PERCENT",q="PIPE",te="PLUS",ue="POUND",We="QUERY",ot="QUOTE",ze="SEMI",vt="SLASH",Wt="TILDE",zt="UNDERSCORE",at="EMOJI",Me="SYM";var Be=Object.freeze({__proto__:null,WORD:A,UWORD:_,LOCALHOST:M,TLD:F,UTLD:H,SCHEME:C,SLASH_SCHEME:T,NUM:S,WS:D,NL:w,OPENBRACE:U,OPENBRACKET:V,OPENANGLEBRACKET:K,OPENPAREN:Y,CLOSEBRACE:W,CLOSEBRACKET:R,CLOSEANGLEBRACKET:B,CLOSEPAREN:x,AMPERSAND:G,APOSTROPHE:Q,ASTERISK:he,AT:Z,BACKSLASH:le,BACKTICK:de,CARET:be,COLON:X,COMMA:ie,DOLLAR:Ce,DOT:Le,EQUALS:Ae,EXCLAMATION:Pe,HYPHEN:Ne,PERCENT:ce,PIPE:q,PLUS:te,POUND:ue,QUERY:We,QUOTE:ot,SEMI:ze,SLASH:vt,TILDE:Wt,UNDERSCORE:zt,EMOJI:at,SYM:Me});const Xe=/[a-z]/,Te=/\p{L}/u,we=/\p{Emoji}/u,De=/\ufe0f/,Ie=/\d/,He=/\s/;var Ve=Object.freeze({__proto__:null,ASCII_LETTER:Xe,LETTER:Te,EMOJI:we,EMOJI_VARIATION:De,DIGIT:Ie,SPACE:He});const z=`
`,se="\uFE0F",Se="\u200D";let Oe=null,ge=null;function je(Ot){Ot===void 0&&(Ot=[]);const kt={};j.groups=kt;const Zt=new j;Oe==null&&(Oe=ht(a)),ge==null&&(ge=ht(o)),P(Zt,"'",Q),P(Zt,"{",U),P(Zt,"[",V),P(Zt,"<",K),P(Zt,"(",Y),P(Zt,"}",W),P(Zt,"]",R),P(Zt,">",B),P(Zt,")",x),P(Zt,"&",G),P(Zt,"*",he),P(Zt,"@",Z),P(Zt,"`",de),P(Zt,"^",be),P(Zt,":",X),P(Zt,",",ie),P(Zt,"$",Ce),P(Zt,".",Le),P(Zt,"=",Ae),P(Zt,"!",Pe),P(Zt,"-",Ne),P(Zt,"%",ce),P(Zt,"|",q),P(Zt,"+",te),P(Zt,"#",ue),P(Zt,"?",We),P(Zt,'"',ot),P(Zt,"/",vt),P(Zt,";",ze),P(Zt,"~",Wt),P(Zt,"_",zt),P(Zt,"\\",le);const Vn=b(Zt,Ie,S,{[d]:!0});b(Vn,Ie,Vn);const Gn=b(Zt,Xe,A,{[c]:!0});b(Gn,Xe,Gn);const tr=b(Zt,Te,_,{[u]:!0});b(tr,Xe),b(tr,Te,tr);const rn=b(Zt,He,D,{[r]:!0});P(Zt,z,w,{[r]:!0}),P(rn,z),b(rn,He,rn);const _n=b(Zt,we,at,{[g]:!0});b(_n,we,_n),P(_n,se,_n);const Yn=P(_n,Se);b(Yn,we,_n);const cr=[[Xe,Gn]],Jt=[[Xe,null],[Te,tr]];for(let cn=0;cn<Oe.length;cn++)sn(Zt,Oe[cn],F,A,cr);for(let cn=0;cn<ge.length;cn++)sn(Zt,ge[cn],H,_,Jt);h(F,{tld:!0,ascii:!0},kt),h(H,{utld:!0,alpha:!0},kt),sn(Zt,"file",C,A,cr),sn(Zt,"mailto",C,A,cr),sn(Zt,"http",T,A,cr),sn(Zt,"https",T,A,cr),sn(Zt,"ftp",T,A,cr),sn(Zt,"ftps",T,A,cr),h(C,{scheme:!0,ascii:!0},kt),h(T,{slashscheme:!0,ascii:!0},kt),Ot=Ot.sort((cn,bn)=>cn[0]>bn[0]?1:-1);for(let cn=0;cn<Ot.length;cn++){const bn=Ot[cn][0],Rn=Ot[cn][1]?{[O]:!0}:{[s]:!0};bn.indexOf("-")>=0?Rn[p]=!0:Xe.test(bn)?Ie.test(bn)?Rn[f]=!0:Rn[c]=!0:Rn[d]=!0,E(Zt,bn,bn,Rn)}return E(Zt,"localhost",M,{ascii:!0}),Zt.jd=new j(Me),{start:Zt,tokens:l({groups:kt},Be)}}function it(Ot,kt){const Zt=Tt(kt.replace(/[A-Z]/g,_n=>_n.toLowerCase())),Vn=Zt.length,Gn=[];let tr=0,rn=0;for(;rn<Vn;){let _n=Ot,Yn=null,cr=0,Jt=null,cn=-1,bn=-1;for(;rn<Vn&&(Yn=_n.go(Zt[rn]));)_n=Yn,_n.accepts()?(cn=0,bn=0,Jt=_n):cn>=0&&(cn+=Zt[rn].length,bn++),cr+=Zt[rn].length,tr+=Zt[rn].length,rn++;tr-=cn,rn-=bn,cr-=cn,Gn.push({t:Jt.t,v:kt.slice(tr-cr,tr),s:tr-cr,e:tr})}return Gn}function Tt(Ot){const kt=[],Zt=Ot.length;let Vn=0;for(;Vn<Zt;){let Gn=Ot.charCodeAt(Vn),tr,rn=Gn<55296||Gn>56319||Vn+1===Zt||(tr=Ot.charCodeAt(Vn+1))<56320||tr>57343?Ot[Vn]:Ot.slice(Vn,Vn+2);kt.push(rn),Vn+=rn.length}return kt}function sn(Ot,kt,Zt,Vn,Gn){let tr;const rn=kt.length;for(let _n=0;_n<rn-1;_n++){const Yn=kt[_n];Ot.j[Yn]?tr=Ot.j[Yn]:(tr=new j(Vn),tr.jr=Gn.slice(),Ot.j[Yn]=tr),Ot=tr}return tr=new j(Zt),tr.jr=Gn.slice(),Ot.j[kt[rn-1]]=tr,tr}function ht(Ot){const kt=[],Zt=[];let Vn=0,Gn="0123456789";for(;Vn<Ot.length;){let tr=0;for(;Gn.indexOf(Ot[Vn+tr])>=0;)tr++;if(tr>0){kt.push(Zt.join(""));for(let rn=parseInt(Ot.substring(Vn,Vn+tr),10);rn>0;rn--)Zt.pop();Vn+=tr}else Zt.push(Ot[Vn]),Vn++}return kt}const Nt={defaultProtocol:"http",events:null,format:yt,formatHref:yt,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function wt(Ot,kt){kt===void 0&&(kt=null);let Zt=l({},Nt);Ot&&(Zt=l(Zt,Ot instanceof wt?Ot.o:Ot));const Vn=Zt.ignoreTags,Gn=[];for(let tr=0;tr<Vn.length;tr++)Gn.push(Vn[tr].toUpperCase());this.o=Zt,kt&&(this.defaultRender=kt),this.ignoreTags=Gn}wt.prototype={o:Nt,ignoreTags:[],defaultRender(Ot){return Ot},check(Ot){return this.get("validate",Ot.toString(),Ot)},get(Ot,kt,Zt){const Vn=kt!=null;let Gn=this.o[Ot];return Gn&&(typeof Gn=="object"?(Gn=Zt.t in Gn?Gn[Zt.t]:Nt[Ot],typeof Gn=="function"&&Vn&&(Gn=Gn(kt,Zt))):typeof Gn=="function"&&Vn&&(Gn=Gn(kt,Zt.t,Zt)),Gn)},getObj(Ot,kt,Zt){let Vn=this.o[Ot];return typeof Vn=="function"&&kt!=null&&(Vn=Vn(kt,Zt.t,Zt)),Vn},render(Ot){const kt=Ot.render(this);return(this.get("render",null,Ot)||this.defaultRender)(kt,Ot.t,Ot)}};function yt(Ot){return Ot}var Qe=Object.freeze({__proto__:null,defaults:Nt,Options:wt,assign:l});function At(Ot,kt){this.t="token",this.v=Ot,this.tk=kt}At.prototype={isLink:!1,toString(){return this.v},toHref(Ot){return this.toString()},toFormattedString(Ot){const kt=this.toString(),Zt=Ot.get("truncate",kt,this),Vn=Ot.get("format",kt,this);return Zt&&Vn.length>Zt?Vn.substring(0,Zt)+"\u2026":Vn},toFormattedHref(Ot){return Ot.get("formatHref",this.toHref(Ot.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(Ot){return Ot===void 0&&(Ot=Nt.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(Ot),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(Ot){return{type:this.t,value:this.toFormattedString(Ot),isLink:this.isLink,href:this.toFormattedHref(Ot),start:this.startIndex(),end:this.endIndex()}},validate(Ot){return Ot.get("validate",this.toString(),this)},render(Ot){const kt=this,Zt=this.toHref(Ot.get("defaultProtocol")),Vn=Ot.get("formatHref",Zt,this),Gn=Ot.get("tagName",Zt,kt),tr=this.toFormattedString(Ot),rn={},_n=Ot.get("className",Zt,kt),Yn=Ot.get("target",Zt,kt),cr=Ot.get("rel",Zt,kt),Jt=Ot.getObj("attributes",Zt,kt),cn=Ot.getObj("events",Zt,kt);return rn.href=Vn,_n&&(rn.class=_n),Yn&&(rn.target=Yn),cr&&(rn.rel=cr),Jt&&l(rn,Jt),{tagName:Gn,attributes:rn,content:tr,eventListeners:cn}}};function jt(Ot,kt){class Zt extends At{constructor(Gn,tr){super(Gn,tr);this.t=Ot}}for(const Vn in kt)Zt.prototype[Vn]=kt[Vn];return Zt.t=Ot,Zt}const ke=jt("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),tn=jt("text"),Pn=jt("nl"),Ft=jt("url",{isLink:!0,toHref(Ot){return Ot===void 0&&(Ot=Nt.defaultProtocol),this.hasProtocol()?this.v:`${Ot}://${this.v}`},hasProtocol(){const Ot=this.tk;return Ot.length>=2&&Ot[0].t!==M&&Ot[1].t===X}});var lt=Object.freeze({__proto__:null,MultiToken:At,Base:At,createTokenClass:jt,Email:ke,Text:tn,Nl:Pn,Url:Ft});const Rt=Ot=>new j(Ot);function ln(Ot){let{groups:kt}=Ot;const Zt=kt.domain.concat([G,he,Z,le,de,be,Ce,Ae,Ne,S,ce,q,te,ue,vt,Me,Wt,zt]),Vn=[Q,B,W,R,x,X,ie,Le,Pe,K,U,V,Y,We,ot,ze],Gn=[G,Q,he,le,de,be,W,Ce,Ae,Ne,U,ce,q,te,ue,We,vt,Me,Wt,zt],tr=Rt(),rn=P(tr,Wt);y(rn,Gn,rn),y(rn,kt.domain,rn);const _n=Rt(),Yn=Rt(),cr=Rt();y(tr,kt.domain,_n),y(tr,kt.scheme,Yn),y(tr,kt.slashscheme,cr),y(_n,Gn,rn),y(_n,kt.domain,_n);const Jt=P(_n,Z);P(rn,Z,Jt),P(Yn,Z,Jt),P(cr,Z,Jt);const cn=P(rn,Le);y(cn,Gn,rn),y(cn,kt.domain,rn);const bn=Rt();y(Jt,kt.domain,bn),y(bn,kt.domain,bn);const zn=P(bn,Le);y(zn,kt.domain,bn);const Rn=Rt(ke);y(zn,kt.tld,Rn),y(zn,kt.utld,Rn),P(Jt,M,Rn);const xn=P(bn,Ne);y(xn,kt.domain,bn),y(Rn,kt.domain,bn),P(Rn,Le,zn),P(Rn,Ne,xn);const mr=P(Rn,X);y(mr,kt.numeric,ke);const Or=P(_n,Ne),Lt=P(_n,Le);y(Or,kt.domain,_n),y(Lt,Gn,rn),y(Lt,kt.domain,_n);const qt=Rt(Ft);y(Lt,kt.tld,qt),y(Lt,kt.utld,qt),y(qt,kt.domain,_n),y(qt,Gn,rn),P(qt,Le,Lt),P(qt,Ne,Or),P(qt,Z,Jt);const wn=P(qt,X),$n=Rt(Ft);y(wn,kt.numeric,$n);const Wn=Rt(Ft),Jn=Rt();y(Wn,Zt,Wn),y(Wn,Vn,Jn),y(Jn,Zt,Wn),y(Jn,Vn,Jn),P(qt,vt,Wn),P($n,vt,Wn);const Tr=P(Yn,X),Qr=P(cr,X),ao=P(Qr,vt),oo=P(ao,vt);y(Yn,kt.domain,_n),P(Yn,Le,Lt),P(Yn,Ne,Or),y(cr,kt.domain,_n),P(cr,Le,Lt),P(cr,Ne,Or),y(Tr,kt.domain,Wn),P(Tr,vt,Wn),y(oo,kt.domain,Wn),y(oo,Zt,Wn),P(oo,vt,Wn);const eo=P(Wn,U),bo=P(Wn,V),zo=P(Wn,K),Eo=P(Wn,Y);P(Jn,U,eo),P(Jn,V,bo),P(Jn,K,zo),P(Jn,Y,Eo),P(eo,W,Wn),P(bo,R,Wn),P(zo,B,Wn),P(Eo,x,Wn),P(eo,W,Wn);const Co=Rt(Ft),Mo=Rt(Ft),ft=Rt(Ft),qe=Rt(Ft);y(eo,Zt,Co),y(bo,Zt,Mo),y(zo,Zt,ft),y(Eo,Zt,qe);const rt=Rt(),mt=Rt(),un=Rt(),yn=Rt();return y(eo,Vn),y(bo,Vn),y(zo,Vn),y(Eo,Vn),y(Co,Zt,Co),y(Mo,Zt,Mo),y(ft,Zt,ft),y(qe,Zt,qe),y(Co,Vn,Co),y(Mo,Vn,Mo),y(ft,Vn,ft),y(qe,Vn,qe),y(rt,Zt,rt),y(mt,Zt,Mo),y(un,Zt,ft),y(yn,Zt,qe),y(rt,Vn,rt),y(mt,Vn,mt),y(un,Vn,un),y(yn,Vn,yn),P(Mo,R,Wn),P(ft,B,Wn),P(qe,x,Wn),P(Co,W,Wn),P(mt,R,Wn),P(un,B,Wn),P(yn,x,Wn),P(rt,x,Wn),P(tr,M,qt),P(tr,w,Pn),{start:tr,tokens:Be}}function Mt(Ot,kt,Zt){let Vn=Zt.length,Gn=0,tr=[],rn=[];for(;Gn<Vn;){let _n=Ot,Yn=null,cr=null,Jt=0,cn=null,bn=-1;for(;Gn<Vn&&!(Yn=_n.go(Zt[Gn].t));)rn.push(Zt[Gn++]);for(;Gn<Vn&&(cr=Yn||_n.go(Zt[Gn].t));)Yn=null,_n=cr,_n.accepts()?(bn=0,cn=_n):bn>=0&&bn++,Gn++,Jt++;if(bn<0)Gn-=Jt,Gn<Vn&&(rn.push(Zt[Gn]),Gn++);else{rn.length>0&&(tr.push($t(tn,kt,rn)),rn=[]),Gn-=bn,Jt-=bn;const zn=cn.t,Rn=Zt.slice(Gn-Jt,Gn);tr.push($t(zn,kt,Rn))}}return rn.length>0&&tr.push($t(tn,kt,rn)),tr}function $t(Ot,kt,Zt){const Vn=Zt[0].s,Gn=Zt[Zt.length-1].e,tr=kt.slice(Vn,Gn);return new Ot(tr,Zt)}const nn=typeof console!="undefined"&&console&&console.warn||(()=>{}),Bt="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Kt={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function Sn(){j.groups={},Kt.scanner=null,Kt.parser=null,Kt.tokenQueue=[],Kt.pluginQueue=[],Kt.customSchemes=[],Kt.initialized=!1}function Qn(Ot,kt){if(typeof kt!="function")throw new Error(`linkifyjs: Invalid token plugin ${kt} (expects function)`);for(let Zt=0;Zt<Kt.tokenQueue.length;Zt++)if(Ot===Kt.tokenQueue[Zt][0]){nn(`linkifyjs: token plugin "${Ot}" already registered - will be overwritten`),Kt.tokenQueue[Zt]=[Ot,kt];return}Kt.tokenQueue.push([Ot,kt]),Kt.initialized&&nn(`linkifyjs: already initialized - will not register token plugin "${Ot}" ${Bt}`)}function rr(Ot,kt){if(typeof kt!="function")throw new Error(`linkifyjs: Invalid plugin ${kt} (expects function)`);for(let Zt=0;Zt<Kt.pluginQueue.length;Zt++)if(Ot===Kt.pluginQueue[Zt][0]){nn(`linkifyjs: plugin "${Ot}" already registered - will be overwritten`),Kt.pluginQueue[Zt]=[Ot,kt];return}Kt.pluginQueue.push([Ot,kt]),Kt.initialized&&nn(`linkifyjs: already initialized - will not register plugin "${Ot}" ${Bt}`)}function Mr(Ot,kt){if(kt===void 0&&(kt=!1),Kt.initialized&&nn(`linkifyjs: already initialized - will not register custom scheme "${Ot}" ${Bt}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(Ot))throw new Error(`linkifyjs: incorrect scheme format.
 1. Must only contain digits, lowercase ASCII letters or "-"
 2. Cannot start or end with "-"
 3. "-" cannot repeat`);Kt.customSchemes.push([Ot,kt])}function zr(){Kt.scanner=je(Kt.customSchemes);for(let Ot=0;Ot<Kt.tokenQueue.length;Ot++)Kt.tokenQueue[Ot][1]({scanner:Kt.scanner});Kt.parser=ln(Kt.scanner.tokens);for(let Ot=0;Ot<Kt.pluginQueue.length;Ot++)Kt.pluginQueue[Ot][1]({scanner:Kt.scanner,parser:Kt.parser});Kt.initialized=!0}function dr(Ot){return Kt.initialized||zr(),Mt(Kt.parser.start,Ot,it(Kt.scanner.start,Ot))}function Rr(Ot,kt,Zt){if(kt===void 0&&(kt=null),Zt===void 0&&(Zt=null),kt&&typeof kt=="object"){if(Zt)throw Error(`linkifyjs: Invalid link type ${kt}; must be a string`);Zt=kt,kt=null}const Vn=new wt(Zt),Gn=dr(Ot),tr=[];for(let rn=0;rn<Gn.length;rn++){const _n=Gn[rn];_n.isLink&&(!kt||_n.t===kt)&&tr.push(_n.toFormattedObject(Vn))}return tr}function _r(Ot,kt){kt===void 0&&(kt=null);const Zt=dr(Ot);return Zt.length===1&&Zt[0].isLink&&(!kt||Zt[0].t===kt)}var ro=t(36);function Dn(Ot){return new ro.c({key:new ro.d("autolink"),appendTransaction:(kt,Zt,Vn)=>{const Gn=kt.some(Jt=>Jt.docChanged)&&!Zt.doc.eq(Vn.doc),tr=kt.some(Jt=>Jt.getMeta("preventAutolink"));if(!Gn||tr)return;const{tr:rn}=Vn,_n=Object(e.combineTransactionSteps)(Zt.doc,[...kt]),{mapping:Yn}=_n;if(Object(e.getChangedRanges)(_n).forEach(({oldRange:Jt,newRange:cn})=>{Object(e.getMarksBetween)(Jt.from,Jt.to,Zt.doc).filter(xn=>xn.mark.type===Ot.type).forEach(xn=>{const mr=Yn.map(xn.from),Or=Yn.map(xn.to),Lt=Object(e.getMarksBetween)(mr,Or,Vn.doc).filter(Tr=>Tr.mark.type===Ot.type);if(!Lt.length)return;const qt=Lt[0],wn=Zt.doc.textBetween(xn.from,xn.to,void 0," "),$n=Vn.doc.textBetween(qt.from,qt.to,void 0," "),Wn=_r(wn),Jn=_r($n);Wn&&!Jn&&rn.removeMark(qt.from,qt.to,Ot.type)});const bn=Object(e.findChildrenInRange)(Vn.doc,cn,xn=>xn.isTextblock);let zn,Rn;if(bn.length>1?(zn=bn[0],Rn=Vn.doc.textBetween(zn.pos,zn.pos+zn.node.nodeSize,void 0," ")):bn.length&&Vn.doc.textBetween(cn.from,cn.to," "," ").endsWith(" ")&&(zn=bn[0],Rn=Vn.doc.textBetween(zn.pos,cn.to,void 0," ")),zn&&Rn){const xn=Rn.split(" ").filter(Lt=>Lt!=="");if(xn.length<=0)return!1;const mr=xn[xn.length-1],Or=zn.pos+Rn.lastIndexOf(mr);if(!mr)return!1;Rr(mr).filter(Lt=>Lt.isLink).filter(Lt=>Ot.validate?Ot.validate(Lt.value):!0).map(Lt=>_o(pr({},Lt),{from:Or+Lt.start+1,to:Or+Lt.end+1})).forEach(Lt=>{rn.addMark(Lt.from,Lt.to,Ot.type.create({href:Lt.href}))})}}),!!rn.steps.length)return rn}})}function ut(Ot){return new ro.c({key:new ro.d("handleClickLink"),props:{handleClick:(kt,Zt,Vn)=>{var Gn,tr,rn;if(Vn.button!==1)return!1;const _n=Object(e.getAttributes)(kt.state,Ot.type.name),Yn=(Gn=Vn.target)===null||Gn===void 0?void 0:Gn.closest("a"),cr=(tr=Yn==null?void 0:Yn.href)!==null&&tr!==void 0?tr:_n.href,Jt=(rn=Yn==null?void 0:Yn.target)!==null&&rn!==void 0?rn:_n.target;return Yn&&cr?(window.open(cr,Jt),!0):!1}}})}function fn(Ot){return new ro.c({key:new ro.d("handlePasteLink"),props:{handlePaste:(kt,Zt,Vn)=>{const{state:Gn}=kt,{selection:tr}=Gn,{empty:rn}=tr;if(rn)return!1;let _n="";Vn.content.forEach(cr=>{_n+=cr.textContent});const Yn=Rr(_n).find(cr=>cr.isLink&&cr.value===_n);return!_n||!Yn?!1:(Ot.editor.commands.setMark(Ot.type,{href:Yn.href}),!0)}}})}const On=e.Mark.create({name:"link",priority:1e3,keepOnSplit:!1,onCreate(){this.options.protocols.forEach(Ot=>{if(typeof Ot=="string"){Mr(Ot);return}Mr(Ot.scheme,Ot.optionalSlashes)})},onDestroy(){Sn()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:void 0}},addAttributes(){return{href:{default:null},target:{default:this.options.HTMLAttributes.target},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:'a[href]:not([href *= "javascript:" i])'}]},renderHTML({HTMLAttributes:Ot}){return["a",Object(e.mergeAttributes)(this.options.HTMLAttributes,Ot),0]},addCommands(){return{setLink:Ot=>({chain:kt})=>kt().setMark(this.name,Ot).setMeta("preventAutolink",!0).run(),toggleLink:Ot=>({chain:kt})=>kt().toggleMark(this.name,Ot,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:Ot})=>Ot().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Object(e.markPasteRule)({find:Ot=>Rr(Ot).filter(kt=>this.options.validate?this.options.validate(kt.value):!0).filter(kt=>kt.isLink).map(kt=>({text:kt.value,index:kt.start,data:kt})),type:this.type,getAttributes:Ot=>{var kt;return{href:(kt=Ot.data)===null||kt===void 0?void 0:kt.href}}})]},addProseMirrorPlugins(){const Ot=[];return this.options.autolink&&Ot.push(Dn({type:this.type,validate:this.options.validate})),this.options.openOnClick&&Ot.push(ut({type:this.type})),this.options.linkOnPaste&&Ot.push(fn({editor:this.editor,type:this.type})),Ot}})},function(k,n,t){"use strict";t.d(n,"a",function(){return u});var e=t(1),a=t(12),o=t.n(a),l=t(9),d=t.n(l),c=(f,m,p)=>new Promise((g,O)=>{var s=h=>{try{i(p.next(h))}catch(v){O(v)}},r=h=>{try{i(p.throw(h))}catch(v){O(v)}},i=h=>h.done?g(h.value):Promise.resolve(h.value).then(s,r);i((p=p.apply(f,m)).next())});const u=({mediaUploadId:f})=>{const[m,p]=Object(e.l)(null),[g,O]=Object(e.l)(!0),[s,r]=Object(e.l)(null);return Object(e.d)(()=>{f?(()=>c(void 0,null,function*(){try{const h=yield o.a.get(`/api/v1/video/upload/${f}`);p(h.body),O(!1)}catch(h){console.error("Failed to load media upload:",h),r(Object(l.getNetworkErrorMessage)(h)),O(!1)}}))():(p(null),O(!1))},[f,s]),{mediaUpload:m,loading:g,error:s}}},function(k,n,t){"use strict";t.d(n,"a",function(){return O});var e=t(179),a=t(43),o=t(133),l=t(134),d=t(135),c=t(144),u=t(93),f=t(3);function m(s){var r=p();return function(){var h=Object(u.a)(s),v;if(r){var j=Object(u.a)(this).constructor;v=Reflect.construct(h,arguments,j)}else v=h.apply(this,arguments);return Object(c.a)(this,v)}}function p(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(s){return!1}}var g={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null},O=function(r){var i,h;return h=i=function(v){Object(d.a)(y,v);var j=m(y);function y(){var b;Object(o.a)(this,y);for(var E=arguments.length,P=new Array(E),A=0;A<E;A++)P[A]=arguments[A];return b=j.call.apply(j,[this].concat(P)),b.select=void 0,b.state={inputValue:b.props.inputValue!==void 0?b.props.inputValue:b.props.defaultInputValue,menuIsOpen:b.props.menuIsOpen!==void 0?b.props.menuIsOpen:b.props.defaultMenuIsOpen,value:b.props.value!==void 0?b.props.value:b.props.defaultValue},b.onChange=function(_,M){b.callProp("onChange",_,M),b.setState({value:_})},b.onInputChange=function(_,M){var F=b.callProp("onInputChange",_,M);b.setState({inputValue:F!==void 0?F:_})},b.onMenuOpen=function(){b.callProp("onMenuOpen"),b.setState({menuIsOpen:!0})},b.onMenuClose=function(){b.callProp("onMenuClose"),b.setState({menuIsOpen:!1})},b}return Object(l.a)(y,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(E){return this.props[E]!==void 0?this.props[E]:this.state[E]}},{key:"callProp",value:function(E){if(typeof this.props[E]=="function"){for(var P,A=arguments.length,_=new Array(A>1?A-1:0),M=1;M<A;M++)_[M-1]=arguments[M];return(P=this.props)[E].apply(P,_)}}},{key:"render",value:function(){var E=this,P=this.props,A=P.defaultInputValue,_=P.defaultMenuIsOpen,M=P.defaultValue,F=Object(e.a)(P,["defaultInputValue","defaultMenuIsOpen","defaultValue"]);return f.default.createElement(r,Object(a.a)({},F,{ref:function(C){E.select=C},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))}}]),y}(f.Component),i.defaultProps=g,h}},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"DotDotDotThinIcon",svgParams:{height:18,width:18}}),Object(e.h)("path",{d:"M1.12554 8.52747C1.41102 7.46201 2.48571 6.83933 3.51336 7.11468C4.541 7.39004 5.16037 8.46664 4.87488 9.5321C4.58939 10.5976 3.5147 11.2202 2.48706 10.9449C1.45941 10.6695 0.840049 9.59292 1.12554 8.52747Z"}),Object(e.h)("path",{d:"M7.12803 8.52747C7.41352 7.46201 8.48821 6.83933 9.51585 7.11468C10.5435 7.39004 11.1629 8.46664 10.8774 9.5321C10.5919 10.5976 9.51719 11.2202 8.48955 10.9449C7.46191 10.6695 6.84254 9.59292 7.12803 8.52747Z"}),Object(e.h)("path",{d:"M13.1266 8.52747C13.4121 7.46201 14.4867 6.83933 15.5144 7.11468C16.542 7.39004 17.1614 8.46664 16.8759 9.5321C16.5904 10.5976 15.5157 11.2202 14.4881 10.9449C13.4604 10.6695 12.8411 9.59292 13.1266 8.52747Z"}));n.default=O},function(k,n,t){"use strict";t.d(n,"a",function(){return _});var e=t(0),a=t(1),o=t(5),l=t.n(o),d=t(12),c=t.n(d),u=t(10),f=t.n(u),m=t(7),p=t(9),g=t.n(p),O=t(81),s=t(176),r=t(129),i=Object.defineProperty,h=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable,y=(M,F,H)=>F in M?i(M,F,{enumerable:!0,configurable:!0,writable:!0,value:H}):M[F]=H,b=(M,F)=>{for(var H in F||(F={}))v.call(F,H)&&y(M,H,F[H]);if(h)for(var H of h(F))j.call(F,H)&&y(M,H,F[H]);return M},E=(M,F,H)=>new Promise((C,T)=>{var S=U=>{try{w(H.next(U))}catch(V){T(V)}},D=U=>{try{w(H.throw(U))}catch(V){T(V)}},w=U=>U.done?C(U.value):Promise.resolve(U.value).then(S,D);w((H=H.apply(M,F)).next())});const P=500,A={PUBLICATION:"publication",CHOOSE:"choose"},_=({pubToRecommendBack:M,recommendingPub:F,recommendedPubs:H,setStep:C,close:T,setLoading:S,source:D})=>{const[w,U]=Object(a.l)(null);Object(a.d)(()=>{var K;w==null&&(H==null?void 0:H.find(({id:Y})=>Y===M.id))&&U((K=H==null?void 0:H.find(({id:Y})=>Y===M.id))==null?void 0:K.blurb)},[w,H,M.id]);const V=Object(u.getByLine)(M);return Object(e.h)("div",{className:"add-recommending-pub-modal-container"},Object(e.h)(O.a,{pub:M,logo_url:M.logo_url,size:84}),Object(e.h)("h2",null,"Recommend ",M.name),M.hero_text&&Object(e.h)("p",{className:"pub-hero-text"},M.hero_text),Object(e.h)("p",{className:"pub-author-subs"},V?`By ${V}`:null,V&&M.rankingDetail?"\xA0\xA0\xB7\xA0\xA0":null,M.rankingDetail),Object(e.h)("p",{className:"why-recommend"},"Why are you recommending ",M.name,"? (optional)"),Object(e.h)("textarea",b({placeholder:"Share why your readers might enjoy it...",onChange:K=>{U(K.target.value)},value:w},s.b)),Object(e.h)("div",{className:"footer"},Object(e.h)("p",{className:"learn-more"},"Recommendations are shown to readers after they subscribe to your publication."," ",Object(e.h)("a",{href:"https://support.substack.com/hc/en-us/articles/5036794583828-How-can-I-recommend-other-publications-on-Substack-",onClick:()=>{Object(m.i)(m.a.MANAGE_RECOMMENDATIONS_LEARN_MORE_CLICKED,{source:"modal-recommend-pub"})}},Object(e.h)("u",null,"Learn more"))),Object(e.h)("button",{className:l()("continue-button button primary",{disabled:((w==null?void 0:w.length)||0)>P}),disabled:((w==null?void 0:w.length)||0)>P,title:((w==null?void 0:w.length)||0)>P?`Please enter a description shorter than ${P} characters`:"",onClick:()=>E(void 0,null,function*(){yield c.a.put("/api/v1/recommendations").send(b({recommended_publication_id:M.id,recommending_publication_id:F.id,source:D||"recommendation_notification_email",suggested:!1},!!w&&{description:w.length>=2?w:null})),(H==null?void 0:H.filter(({id:K})=>K!==M.id).length)?T():C(A.CHOOSE),S?(S(!0),T()):(Object(p.redirect)("/publish/settings/recommendations"),Object(r.b)(`Started recommending ${M.name}`,{timeout:1500}))})},"Continue")))}},function(k,n,t){"use strict";t.d(n,"a",function(){return c});var e=t(337);function a(u){if(Array.isArray(u))return Object(e.a)(u)}function o(u){if(typeof Symbol!="undefined"&&u[Symbol.iterator]!=null||u["@@iterator"]!=null)return Array.from(u)}var l=t(403);function d(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c(u){return a(u)||o(u)||Object(l.a)(u)||d()}},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"LucideTabActivity",svgParams:{height:24,width:24,stroke:s.stroke,strokeWidth:s.strokeWidth}}),Object(e.h)("path",{d:"M13.73 21C13.5542 21.3031 13.3018 21.5547 12.9982 21.7295C12.6946 21.9044 12.3504 21.9965 12 21.9965C11.6496 21.9965 11.3054 21.9044 11.0018 21.7295C10.6982 21.5547 10.4458 21.3031 10.27 21M18 8C18 6.4087 17.3679 4.88258 16.2426 3.75736C15.1174 2.63214 13.5913 2 12 2C10.4087 2 8.88258 2.63214 7.75736 3.75736C6.63214 4.88258 6 6.4087 6 8C6 15 3 17 3 17H21C21 17 18 15 18 8Z","stroke-linecap":"round","stroke-linejoin":"round"}));n.default=O},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"LucideTabInbox",svgParams:{height:24,width:24,stroke:s.stroke,strokeWidth:s.strokeWidth}}),Object(e.h)("path",{d:"M22 12L16 12L14 15L10 15L8 12L2 12","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M5.45 5.11L2.10583 11.7886C2.03624 11.9276 2 12.0809 2 12.2364L2 18C2 18.5304 2.21071 19.0391 2.58579 19.4142C2.96086 19.7893 3.46957 20 4 20L20 20C20.5304 20 21.0391 19.7893 21.4142 19.4142C21.7893 19.0391 22 18.5304 22 18V12.2364C22 12.0809 21.9638 11.9276 21.8942 11.7886L18.55 5.11C18.3844 4.77679 18.1292 4.49637 17.813 4.30028C17.4967 4.10419 17.1321 4.0002 16.76 4L7.24 4C6.86792 4.0002 6.50326 4.10419 6.18705 4.30028C5.87083 4.49637 5.61558 4.77679 5.45 5.11Z","stroke-linecap":"round","stroke-linejoin":"round"}));n.default=O},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"LucideTabNotes",svgParams:{height:24,width:24,stroke:s.stroke,strokeWidth:s.strokeWidth}}),Object(e.h)("path",{d:"M9.82746 10.2663H17.2941M10.2039 14.533H14.4706M6 19.1L2.42832 18.1872C1.53922 17.949 1.0116 17.0351 1.24983 16.146L4.52816 3.91113C4.76639 3.02202 5.68029 2.49438 6.5694 2.73262L19 6M6.00001 7.66666V20.3331C6.00001 21.2536 6.74619 21.9998 7.66665 21.9998L20.3333 22C21.2538 22 22 21.2538 22 20.3333V7.66666C22 6.74619 21.2538 5.99999 20.3333 5.99999H7.66667C6.7462 5.99999 6.00001 6.74619 6.00001 7.66666Z","stroke-linecap":"round","stroke-linejoin":"round"}));n.default=O},function(k,n,t){"use strict";t.d(n,"a",function(){return w});var e=t(0),a=t(1),o=t(5),l=t.n(o),d=t(538),c=t(539),u=t(540),f=t(4),m=t.n(f),p=t(580),g=t(594),O=t(595),s=t(581),r=t(582),i=t(430),h=t(169),v=t(7),j=t(426),y=t(89),b=t.n(y),E=t(11),P=t(214),A=t(37),_=t(21),M=t(70),F=t(177),H=t(597),C=t(130);const T="user-menu",S=`https://support.substack.com/hc/en-us/?utm_source=${T}`,D=40;function w({className:Y,user:W,pub:R,enableCustomerServiceMode:B,disableCustomerServiceMode:x,freeSignup:G,fixedTooltip:Q,showBadge:he=!0}){const[Z,le]=Object(M.c)(),{activityUnreadCount:de}=Object(h.b)(),be=Object(a.b)(i.a);let X="",ie="";W&&(X=(W==null?void 0:W.profile_set_up_at)&&W.name?W.name:W.email,ie=(W==null?void 0:W.profile_set_up_at)?W.name?W.email:null:"Set up your profile");const Ce=({active:q})=>{Object(v.i)(q?v.a.USER_MENU_OPENED:v.a.USER_MENU_DISMISSED)},Le=W?Object(j.a)(W,{utm_source:T}):null,Ae=R&&(G||W&&(W.is_subscribed||W.is_free_subscribed)),Pe=Object(j.b)(W,{utm_source:T}),Ne=!1,ce=Object(A.a)()&&!be;return Object(e.h)(e.Fragment,null,W?Object(e.h)(_.b,{className:l()(Y,"user-indicator small-no-margin no-active-fade signed-in reader2-tappable-bg",{"force-desktop":be}),onClick:le},ce&&he&&de>0&&Object(e.h)(P.b,{className:l()("user-indicator-badge",de<10&&"user-indicator-badge-circle")},Object(e.h)(E.n,{alignItems:"center",justifyContent:"center"},de<100?de:"99+")),Object(e.h)(d.a,{className:l()("user-indicator-icon",{"force-desktop":be}),size:20,strokeWidth:2}),Object(e.h)("img",{className:l()("menu-trigger-image",{"force-desktop":be}),src:Object(f.cloudinary)(Object(f.getUserPhotoUrl)(W),2*D,{height:2*D,crop:"fill"})}),Object(e.h)(C.a,null,Object(e.h)("div",{className:"user-indicator-dropdown-menu"},Object(e.h)(M.b,{className:l()({"fixed-tooltip":Q}),ref:Z,useDrawerOnMobile:!0,noTail:!0,noPlace:!0,preventScrollBehindDrawer:!0,backdropDismiss:!0,onToggle:Ce},Object(e.h)("div",{className:"menu-scroll-container"},Object(e.h)("a",{href:Pe,className:"profile-header",onClick:()=>Object(v.i)(v.a.USER_MENU_PROFILE_CLICKED)},Object(e.h)("img",{className:"header-user-image",src:Object(f.cloudinary)(Object(f.getUserPhotoUrl)(W),2*D,{height:2*D,crop:"fill"})}),Object(e.h)("div",{className:"labels"},Object(e.h)("div",{className:"h1"},X),ie&&Object(e.h)("div",{className:"h2"},ie))),Object(e.h)("hr",null),W&&Object(e.h)(e.Fragment,null,Object(e.h)(U,{url:Object(f.getBaseReaderUrl)({utm_source:T}),analyticsEvent:v.a.USER_MENU_READER_CLICKED},Object(e.h)(K,{Icon:s.default})," Inbox"),Object(e.h)(U,{url:Object(f.getFeedUrl)({utm_source:T}),analyticsEvent:v.a.USER_MENU_FEED_CLICKED},Object(e.h)(K,{Icon:r.default})," Notes"),Object(e.h)(U,{url:Object(f.getDiscoverCategoryUrl)(),analyticsEvent:v.a.USER_MENU_DISCOVER_CLICKED},Object(e.h)(K,{Icon:O.default})," Explore"),Object(e.h)(U,{url:Object(f.getChatUrl)(),analyticsEvent:v.a.USER_MENU_CHAT_CLICKED},Object(e.h)(K,{Icon:g.default})," Chat"),Object(e.h)(U,{url:Object(f.getNotificationsUrl)({utm_source:T}),analyticsEvent:v.a.USER_MENU_ACTIVITY_CLICKED},Object(e.h)(K,{Icon:p.default})," Activity",de>0?Object(e.h)(H.a,{className:"indicator-badge",count:de}):null),Object(e.h)(U,{url:Le.url},Object(e.h)(K,{Icon:Le.type==="no-dashboard"?c.a:u.a,className:"start-writing-icon"})," ",Le.type==="no-dashboard"?"Start writing":"Writer dashboard")),Object(e.h)("hr",null),Ae&&Object(e.h)(U,{className:"secondary-item",url:Object(f.pathWithQuery)("/account",{utm_source:T}),analyticsEvent:v.a.USER_MENU_MANAGE_SUBSCRIPTION_CLICKED},"Manage subscription"),Object(e.h)(U,{className:"secondary-item",url:Object(f.getGlobalAccountSettingsUrl)({utm_source:T}),analyticsEvent:v.a.USER_MENU_ACCOUNT_SETTINGS_CLICKED},"Settings"),Object(e.h)(U,{className:"secondary-item",url:S},"Support"),Object(e.h)(U,{className:"secondary-item",url:Object(f.getSignoutUrl)({utm_source:T,for_pub:R==null?void 0:R.subdomain})},"Sign out"),B&&Object(e.h)(U,{className:"secondary-item",onClick:()=>{var q;(q=Z.current)==null||q.close(),B()}},"Enter support mode"),x&&Object(e.h)(U,{className:"secondary-item",onClick:x},"Exit support mode"),R&&(W==null?void 0:W.is_global_admin)&&Object(e.h)(U,{className:"secondary-item",url:`${Object(f.getBaseUrl)({subdomain:"admin"})}/publications/${R.id}`},"Open in underground"),!(W==null?void 0:W.reader_installed_at)&&Object(e.h)(e.Fragment,null,Object(e.h)("hr",null),Object(e.h)(U,{className:"special-item",url:Object(f.getAppMarketingUrl)({utm_campaign:"app-marketing",utm_content:"user-menu-link"})},"Get the app ",Object(e.h)(F.default,{className:"item-badge branded",color:y.substack_color}))),Object(e.h)("hr",null),Object(e.h)("div",{className:"terms-footer"},Object(e.h)("a",{href:Object(f.getHomeUrl)({utm_source:T})},"About"),Object(e.h)("a",{href:Object(f.getPrivacyUrl)({pub:R,utm_source:T})},"Privacy"),Object(e.h)("a",{href:Object(f.getTermsUrl)({utm_source:T})},"Terms"),Object(e.h)("a",{href:Object(f.getInfoCollectionUrl)({utm_source:T})},"Collection notice"))))))):Object(e.h)(_.b,{href:Object(f.getSigninUrl)({for_pub:R==null?void 0:R.subdomain}),native:"true",className:l()("sign-in-link outline-grayscale",{"rounded-btn":Ne,"force-desktop":be})},I`Sign in`))}function U({className:Y,url:W,analyticsEvent:R,onClick:B,children:x}){return Object(e.h)("a",{className:`indicator-menu-item ${Y}`,onClick:G=>{R&&Object(v.i)(R),B&&B(G)},href:W,native:!0},x)}const V=20;function K({Icon:Y,className:W}){return Object(e.h)(Y,{className:l()(W,"indicator-item-icon"),height:V,stroke:"var(--color-primary)",strokeWidth:2})}},,function(k,n,t){var e=t(820),a=t(890),o=a(e);k.exports=o},function(k,n,t){var e=t(887),a=t(888),o=t(243),l=t(95);function d(c,u){return function(f,m){var p=l(f)?e:a,g=u?u():{};return p(f,c,o(m,2),g)}}k.exports=d},function(k,n){function t(e,a){for(var o=-1,l=e==null?0:e.length,d=0,c=[];++o<l;){var u=e[o];a(u,o,e)&&(c[d++]=u)}return c}k.exports=t},function(k,n){function t(e){return function(a){return a==null?void 0:a[e]}}k.exports=t},function(k,n,t){var e=t(602);function a(o,l,d){l=="__proto__"&&e?e(o,l,{configurable:!0,enumerable:!0,value:d,writable:!0}):o[l]=d}k.exports=a},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(261),o=t(13),l=Object.defineProperty,d=Object.defineProperties,c=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,p=(r,i,h)=>i in r?l(r,i,{enumerable:!0,configurable:!0,writable:!0,value:h}):r[i]=h,g=(r,i)=>{for(var h in i||(i={}))f.call(i,h)&&p(r,h,i[h]);if(u)for(var h of u(i))m.call(i,h)&&p(r,h,i[h]);return r},O=(r,i)=>d(r,c(i));const s=r=>Object(e.h)(o.a,O(g({},r),{name:"LucideCheck",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),Object(e.h)(a.a,{height:24,stroke:r.stroke,fill:r.fill,strokeWidth:r.strokeWidth}));n.default=s},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(r,i,h)=>i in r?o(r,i,{enumerable:!0,configurable:!0,writable:!0,value:h}):r[i]=h,p=(r,i)=>{for(var h in i||(i={}))u.call(i,h)&&m(r,h,i[h]);if(c)for(var h of c(i))f.call(i,h)&&m(r,h,i[h]);return r},g=(r,i)=>l(r,d(i)),O=(r,i)=>{var h={};for(var v in r)u.call(r,v)&&i.indexOf(v)<0&&(h[v]=r[v]);if(r!=null&&c)for(var v of c(r))i.indexOf(v)<0&&f.call(r,v)&&(h[v]=r[v]);return h};const s=r=>{var i=r,{strokeWidth:h=1.5}=i,v=O(i,["strokeWidth"]);return Object(e.h)(a.a,g(p({},v),{strokeWidth:h,name:"SendIcon",svgParams:{height:20,width:20,viewBox:"0 0 20 20"}}),Object(e.h)("path",{d:"M18.3332 1.66699L12.4998 18.3337L9.1665 10.8337L1.6665 7.50033L18.3332 1.66699Z","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M18.3332 1.66699L9.1665 10.8337","stroke-linecap":"round","stroke-linejoin":"round"}))};n.default=s},function(k,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=h;var e=c(t(392)),a=c(t(735)),o=c(t(939)),l=c(t(940)),d=c(t(941));function c(v){return v&&v.__esModule?v:{default:v}}var u={allow_display_name:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0,blacklisted_chars:"",ignore_max_length:!1,host_blacklist:[]},f=/^([^\x00-\x1F\x7F-\x9F\cX]+)</i,m=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,p=/^[a-z\d]+$/,g=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,O=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,s=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i,r=254;function i(v){var j=v.replace(/^"(.+)"$/,"$1");if(!j.trim())return!1;var y=/[\.";<>]/.test(j);if(y){if(j===v)return!1;var b=j.split('"').length===j.split('\\"').length;if(!b)return!1}return!0}function h(v,j){if((0,e.default)(v),j=(0,a.default)(j,u),j.require_display_name||j.allow_display_name){var y=v.match(f);if(y){var b=y[1];if(v=v.replace(b,"").replace(/(^<|>$)/g,""),b.endsWith(" ")&&(b=b.substr(0,b.length-1)),!i(b))return!1}else if(j.require_display_name)return!1}if(!j.ignore_max_length&&v.length>r)return!1;var E=v.split("@"),P=E.pop(),A=P.toLowerCase();if(j.host_blacklist.includes(A))return!1;var _=E.join("@");if(j.domain_specific_validation&&(A==="gmail.com"||A==="googlemail.com")){_=_.toLowerCase();var M=_.split("+")[0];if(!(0,o.default)(M.replace(/\./g,""),{min:6,max:30}))return!1;for(var F=M.split("."),H=0;H<F.length;H++)if(!p.test(F[H]))return!1}if(j.ignore_max_length===!1&&(!(0,o.default)(_,{max:64})||!(0,o.default)(P,{max:254})))return!1;if(!(0,l.default)(P,{require_tld:j.require_tld})){if(!j.allow_ip_domain)return!1;if(!(0,d.default)(P)){if(!P.startsWith("[")||!P.endsWith("]"))return!1;var C=P.substr(1,P.length-2);if(C.length===0||!(0,d.default)(C))return!1}}if(_[0]==='"')return _=_.slice(1,_.length-1),j.allow_utf8_local_part?s.test(_):g.test(_);for(var T=j.allow_utf8_local_part?O:m,S=_.split("."),D=0;D<S.length;D++)if(!T.test(S[D]))return!1;return!(j.blacklisted_chars&&_.search(new RegExp("[".concat(j.blacklisted_chars,"]+"),"g"))!==-1)}k.exports=n.default,k.exports.default=n.default},function(k,n,t){"use strict";t.d(n,"a",function(){return i});var e=t(0),a=t(729),o=t(325),l=t(480),d=t(240),c=t(356),u=t(357),f=Object.defineProperty,m=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,O=(h,v,j)=>v in h?f(h,v,{enumerable:!0,configurable:!0,writable:!0,value:j}):h[v]=j,s=(h,v)=>{for(var j in v||(v={}))p.call(v,j)&&O(h,j,v[j]);if(m)for(var j of m(v))g.call(v,j)&&O(h,j,v[j]);return h},r=(h,v)=>{var j={};for(var y in h)p.call(h,y)&&v.indexOf(y)<0&&(j[y]=h[y]);if(h!=null&&m)for(var y of m(h))v.indexOf(y)<0&&g.call(h,y)&&(j[y]=h[y]);return j};const i=h=>{var v=h,{postType:j}=v,y=r(v,["postType"]);switch(j){case"newsletter":return Object(e.h)(l.default,s({},y));case"adhoc_email":return Object(e.h)(a.default,s({},y));case"thread":return Object(e.h)(c.default,s({},y));case"podcast":return Object(e.h)(d.default,s({},y));case"video":return Object(e.h)(u.default,s({},y));case"restack":return Object(e.h)(o.default,s({},y));default:return console.warn(`Unrecognized post type: [${j}]`),null}}},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"LucideTabChat",svgParams:{height:24,width:24,stroke:s.stroke,strokeWidth:s.strokeWidth}}),Object(e.h)("path",{d:"M3 3H17C18.1046 3 19 3.89543 19 5V9.75008H11C9.89543 9.75008 9 10.6455 9 11.7501V16.7501C9 16.8314 9.00486 16.9117 9.0143 16.9905L4.65547 19.8964C4.58901 19.9407 4.5 19.893 4.5 19.8131V15H3C1.89543 15 1 14.1046 1 13V5C1 3.89543 1.89543 3 3 3Z"}),Object(e.h)("path",{d:"M11 9.75L20.5 9.75C21.6046 9.75 22.5 10.6454 22.5 11.75V16.75C22.5 17.8546 21.6046 18.75 20.5 18.75H20V22.3108C20 22.3911 19.91 22.4387 19.8437 22.3934L14.5 18.75L11 18.75C9.89543 18.75 9 17.8546 9 16.75L9 11.75C9 10.6454 9.89543 9.75 11 9.75Z"}));n.default=O},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"LucideTabBrowse",svgParams:{height:24,width:24,stroke:s.stroke,strokeWidth:s.strokeWidth}}),Object(e.h)("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M16.2398 7.75977L14.1198 14.1198L7.75977 16.2398L9.87977 9.87977L16.2398 7.75977Z","stroke-linecap":"round","stroke-linejoin":"round"}));n.default=O},function(k,n,t){"use strict";var e=t(0),a=t(1),o=t(14),l=t(2),d=t(8),c=t(57);const u=({allowAllDay:f,redirect:m,onCancel:p})=>{const[g,O]=Object(a.l)(!1);return Object(e.h)(c.g,{className:"customer-support-mode-form",analyticsName:"Customer Support Mode Form",action:"/api/v1/customer_support_mode",onSuccess:()=>document.location.href=m||"/",autoLock:!0},Object(e.h)(l.b,{gap:8},Object(e.h)(d.b.Meta,{className:"danger",weight:"semibold",color:"error"},"Danger"),Object(e.h)(d.b.H2,null,"Support Mode"),Object(e.h)(d.b.B3,null,"Be absolutely respectful to the writers on whose behalf you are working."),f&&Object(e.h)("label",null,Object(e.h)(l.c,{gap:8},Object(e.h)("input",{type:"checkbox",defaultChecked:!1,onInput:s=>O(s.target.checked)})," ",Object(e.h)(d.b.B3,null,"Allow access for the day because I'm doing Customer Support"))),g&&Object(e.h)("input",{type:"hidden",name:"all_pubs",value:"true"}),Object(e.h)("input",{type:"hidden",name:"minutes",value:g?10*60:30}),Object(e.h)("div",{id:"error-container"}),Object(e.h)(l.c,{gap:8,paddingTop:8},Object(e.h)(o.a,{priority:"destructive",type:"submit",id:"enter-support-mode"},"Enter support mode"),p&&Object(e.h)(o.a,{priority:"secondary",onClick:p},"Cancel"))))};n.a=u},function(k,n,t){"use strict";t.d(n,"a",function(){return u});var e=t(0),a=t(5),o=t.n(a),l=t(2),d=t(8),c=t(366);function u({className:f,responsive:m,count:p}){return Object(e.h)(l.a,{alignItems:"center",justifyContent:"center",radius:12,className:o()(c.a.badge,m&&c.a.responsive,!p&&c.a.binary,f)},p&&Object(e.h)(d.b.Digit,{color:"bg-light"},p<100?p:"99+"))}},,function(k,n,t){"use strict";t.d(n,"a",function(){return yt});var e=t(3),a=t(69),o=t(38),l=t(82),d=t(293),c=t(358),u=t(131),f=t(139),m=t(145),p=t(132),g=t(218);function O(Qe){return g.a?null:Qe instanceof Node?Qe.ownerDocument:Qe!=null&&Qe.hasOwnProperty("current")&&Qe.current instanceof Node?Qe.current.ownerDocument:document}let s=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(Qe=>`${Qe}:not([tabindex='-1'])`).join(",");var r=(Qe=>(Qe[Qe.First=1]="First",Qe[Qe.Previous=2]="Previous",Qe[Qe.Next=4]="Next",Qe[Qe.Last=8]="Last",Qe[Qe.WrapAround=16]="WrapAround",Qe[Qe.NoScroll=32]="NoScroll",Qe))(r||{}),i=(Qe=>(Qe[Qe.Error=0]="Error",Qe[Qe.Overflow=1]="Overflow",Qe[Qe.Success=2]="Success",Qe[Qe.Underflow=3]="Underflow",Qe))(i||{}),h=(Qe=>(Qe[Qe.Previous=-1]="Previous",Qe[Qe.Next=1]="Next",Qe))(h||{});function v(Qe=document.body){return Qe==null?[]:Array.from(Qe.querySelectorAll(s))}var j=(Qe=>(Qe[Qe.Strict=0]="Strict",Qe[Qe.Loose=1]="Loose",Qe))(j||{});function y(Qe,At=0){var jt;return Qe===((jt=O(Qe))==null?void 0:jt.body)?!1:Object(a.a)(At,{[0](){return Qe.matches(s)},[1](){let ke=Qe;for(;ke!==null;){if(ke.matches(s))return!0;ke=ke.parentElement}return!1}})}function b(Qe){let At=O(Qe);Object(p.a)().nextFrame(()=>{At&&!y(At.activeElement,0)&&E(Qe)})}function E(Qe){Qe==null||Qe.focus({preventScroll:!0})}let P=["textarea","input"].join(",");function A(Qe){var At,jt;return(jt=(At=Qe==null?void 0:Qe.matches)==null?void 0:At.call(Qe,P))!=null?jt:!1}function _(Qe,At=jt=>jt){return Qe.slice().sort((jt,ke)=>{let tn=At(jt),Pn=At(ke);if(tn===null||Pn===null)return 0;let Ft=tn.compareDocumentPosition(Pn);return Ft&Node.DOCUMENT_POSITION_FOLLOWING?-1:Ft&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function M(Qe,At){return F(v(),At,!0,Qe)}function F(Qe,At,jt=!0,ke=null){let tn=Array.isArray(Qe)?Qe.length>0?Qe[0].ownerDocument:document:Qe.ownerDocument,Pn=Array.isArray(Qe)?jt?_(Qe):Qe:v(Qe);ke=ke!=null?ke:tn.activeElement;let Ft=(()=>{if(At&5)return 1;if(At&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),lt=(()=>{if(At&1)return 0;if(At&2)return Math.max(0,Pn.indexOf(ke))-1;if(At&4)return Math.max(0,Pn.indexOf(ke))+1;if(At&8)return Pn.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),Rt=At&32?{preventScroll:!0}:{},ln=0,Mt=Pn.length,$t;do{if(ln>=Mt||ln+Mt<=0)return 0;let nn=lt+ln;if(At&16)nn=(nn+Mt)%Mt;else{if(nn<0)return 3;if(nn>=Mt)return 1}$t=Pn[nn],$t==null||$t.focus(Rt),ln+=Ft}while($t!==tn.activeElement);return At&6&&A($t)&&$t.select(),$t.hasAttribute("tabindex")||$t.setAttribute("tabindex","0"),2}var H=t(54),C=t(104);function T(Qe,At,jt){let ke=Object(C.a)(At);Object(e.useEffect)(()=>{function tn(Pn){ke.current(Pn)}return window.addEventListener(Qe,tn,jt),()=>window.removeEventListener(Qe,tn,jt)},[Qe,jt])}var S=(Qe=>(Qe[Qe.Forwards=0]="Forwards",Qe[Qe.Backwards=1]="Backwards",Qe))(S||{});function D(){let Qe=Object(e.useRef)(0);return T("keydown",At=>{At.key==="Tab"&&(Qe.current=At.shiftKey?1:0)},!0),Qe}var w=t(212);function U(...Qe){return Object(e.useMemo)(()=>O(...Qe),[...Qe])}function V(Qe,At,jt,ke){let tn=Object(C.a)(jt);Object(e.useEffect)(()=>{Qe=Qe!=null?Qe:window;function Pn(Ft){tn.current(Ft)}return Qe.addEventListener(At,Pn,ke),()=>Qe.removeEventListener(At,Pn,ke)},[Qe,At,ke])}var K=t(219);function Y(Qe,At){let jt=Object(e.useRef)([]),ke=Object(H.a)(Qe);Object(e.useEffect)(()=>{let tn=[...jt.current];for(let[Pn,Ft]of At.entries())if(jt.current[Pn]!==Ft){let lt=ke(At,tn);return jt.current=At,lt}},[ke,...At])}let W="div";var R=(Qe=>(Qe[Qe.None=1]="None",Qe[Qe.InitialFocus=2]="InitialFocus",Qe[Qe.TabLock=4]="TabLock",Qe[Qe.FocusLock=8]="FocusLock",Qe[Qe.RestoreFocus=16]="RestoreFocus",Qe[Qe.All=30]="All",Qe))(R||{});let B=Object.assign(Object(o.d)(function(Qe,At){let jt=Object(e.useRef)(null),ke=Object(l.b)(jt,At),Bt=Qe,{initialFocus:tn,containers:Pn,features:Ft=30}=Bt,lt=Ji(Bt,["initialFocus","containers","features"]);Object(f.a)()||(Ft=1);let Rt=U(jt);x({ownerDocument:Rt},Boolean(Ft&16));let ln=G({ownerDocument:Rt,container:jt,initialFocus:tn},Boolean(Ft&2));Q({ownerDocument:Rt,container:jt,containers:Pn,previousActiveElement:ln},Boolean(Ft&8));let Mt=D(),$t=Object(H.a)(()=>{let Kt=jt.current;!Kt||Object(a.a)(Mt.current,{[S.Forwards]:()=>F(Kt,r.First),[S.Backwards]:()=>F(Kt,r.Last)})}),nn={ref:ke};return e.default.createElement(e.default.Fragment,null,Boolean(Ft&4)&&e.default.createElement(m.b,{as:"button",type:"button",onFocus:$t,features:m.a.Focusable}),Object(o.e)({ourProps:nn,theirProps:lt,defaultTag:W,name:"FocusTrap"}),Boolean(Ft&4)&&e.default.createElement(m.b,{as:"button",type:"button",onFocus:$t,features:m.a.Focusable}))}),{features:R});function x({ownerDocument:Qe},At){let jt=Object(e.useRef)(null);V(Qe==null?void 0:Qe.defaultView,"focusout",tn=>{!At||jt.current||(jt.current=tn.target)},!0),Y(()=>{At||((Qe==null?void 0:Qe.activeElement)===(Qe==null?void 0:Qe.body)&&E(jt.current),jt.current=null)},[At]);let ke=Object(e.useRef)(!1);Object(e.useEffect)(()=>(ke.current=!1,()=>{ke.current=!0,Object(K.a)(()=>{!ke.current||(E(jt.current),jt.current=null)})}),[])}function G({ownerDocument:Qe,container:At,initialFocus:jt},ke){let tn=Object(e.useRef)(null),Pn=Object(w.a)();return Y(()=>{if(!ke)return;let Ft=At.current;!Ft||Object(K.a)(()=>{if(!Pn.current)return;let lt=Qe==null?void 0:Qe.activeElement;if(jt!=null&&jt.current){if((jt==null?void 0:jt.current)===lt){tn.current=lt;return}}else if(Ft.contains(lt)){tn.current=lt;return}jt!=null&&jt.current?E(jt.current):F(Ft,r.First)===i.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),tn.current=Qe==null?void 0:Qe.activeElement})},[ke]),tn}function Q({ownerDocument:Qe,container:At,containers:jt,previousActiveElement:ke},tn){let Pn=Object(w.a)();V(Qe==null?void 0:Qe.defaultView,"focus",Ft=>{if(!tn||!Pn.current)return;let lt=new Set(jt==null?void 0:jt.current);lt.add(At);let Rt=ke.current;if(!Rt)return;let ln=Ft.target;ln&&ln instanceof HTMLElement?he(lt,ln)?(ke.current=ln,E(ln)):(Ft.preventDefault(),Ft.stopPropagation(),E(Rt)):E(ke.current)},!0)}function he(Qe,At){var jt;for(let ke of Qe)if((jt=ke.current)!=null&&jt.contains(At))return!0;return!1}var Z=t(72);let le=new Set,de=new Map;function be(Qe){Qe.setAttribute("aria-hidden","true"),Qe.inert=!0}function X(Qe){let At=de.get(Qe);!At||(At["aria-hidden"]===null?Qe.removeAttribute("aria-hidden"):Qe.setAttribute("aria-hidden",At["aria-hidden"]),Qe.inert=At.inert)}function ie(Qe,At=!0){Object(Z.a)(()=>{if(!At||!Qe.current)return;let jt=Qe.current,ke=O(jt);if(ke){le.add(jt);for(let tn of de.keys())tn.contains(jt)&&(X(tn),de.delete(tn));return ke.querySelectorAll("body > *").forEach(tn=>{if(tn instanceof HTMLElement){for(let Pn of le)if(tn.contains(Pn))return;le.size===1&&(de.set(tn,{"aria-hidden":tn.getAttribute("aria-hidden"),inert:tn.inert}),be(tn))}}),()=>{if(le.delete(jt),le.size>0)ke.querySelectorAll("body > *").forEach(tn=>{if(tn instanceof HTMLElement&&!de.has(tn)){for(let Pn of le)if(tn.contains(Pn))return;de.set(tn,{"aria-hidden":tn.getAttribute("aria-hidden"),inert:tn.inert}),be(tn)}});else for(let tn of de.keys())X(tn),de.delete(tn)}}},[At])}let Ce=Object(e.createContext)(!1);function Le(){return Object(e.useContext)(Ce)}function Ae(Qe){return e.default.createElement(Ce.Provider,{value:Qe.force},Qe.children)}function Pe(Qe){let At=Le(),jt=Object(e.useContext)(te),ke=U(Qe),[tn,Pn]=Object(e.useState)(()=>{if(!At&&jt!==null||g.a)return null;let Ft=ke==null?void 0:ke.getElementById("headlessui-portal-root");if(Ft)return Ft;if(ke===null)return null;let lt=ke.createElement("div");return lt.setAttribute("id","headlessui-portal-root"),ke.body.appendChild(lt)});return Object(e.useEffect)(()=>{tn!==null&&(ke!=null&&ke.body.contains(tn)||ke==null||ke.body.appendChild(tn))},[tn,ke]),Object(e.useEffect)(()=>{At||jt!==null&&Pn(jt.current)},[jt,Pn,At]),tn}let Ne=e.Fragment,ce=Object(o.d)(function(Qe,At){let jt=Qe,ke=Object(e.useRef)(null),tn=Object(l.b)(Object(l.a)(Mt=>{ke.current=Mt}),At),Pn=U(ke),Ft=Pe(ke),[lt]=Object(e.useState)(()=>{var Mt;return g.a?null:(Mt=Pn==null?void 0:Pn.createElement("div"))!=null?Mt:null}),Rt=Object(f.a)(),ln=Object(e.useRef)(!1);return Object(Z.a)(()=>{if(ln.current=!1,!(!Ft||!lt))return Ft.contains(lt)||(lt.setAttribute("data-headlessui-portal",""),Ft.appendChild(lt)),()=>{ln.current=!0,Object(K.a)(()=>{var Mt;!ln.current||!Ft||!lt||(Ft.removeChild(lt),Ft.childNodes.length<=0&&((Mt=Ft.parentElement)==null||Mt.removeChild(Ft)))})}},[Ft,lt]),Rt?!Ft||!lt?null:Object(e.createPortal)(Object(o.e)({ourProps:{ref:tn},theirProps:jt,defaultTag:Ne,name:"Portal"}),lt):null}),q=e.Fragment,te=Object(e.createContext)(null),ue=Object(o.d)(function(Qe,At){let Pn=Qe,{target:jt}=Pn,ke=Ji(Pn,["target"]),tn={ref:Object(l.b)(At)};return e.default.createElement(te.Provider,{value:jt},Object(o.e)({ourProps:tn,theirProps:ke,defaultTag:q,name:"Popover.Group"}))}),We=Object.assign(ce,{Group:ue});var ot=t(257),ze=t(119);let vt=Object(e.createContext)(()=>{});vt.displayName="StackContext";var Wt=(Qe=>(Qe[Qe.Add=0]="Add",Qe[Qe.Remove=1]="Remove",Qe))(Wt||{});function zt(){return Object(e.useContext)(vt)}function at({children:Qe,onUpdate:At,type:jt,element:ke,enabled:tn}){let Pn=zt(),Ft=Object(H.a)((...lt)=>{At==null||At(...lt),Pn(...lt)});return Object(Z.a)(()=>{let lt=tn===void 0||tn===!0;return lt&&Ft(0,jt,ke),()=>{lt&&Ft(1,jt,ke)}},[Ft,jt,ke,tn]),e.default.createElement(vt.Provider,{value:Ft},Qe)}function Me(Qe,At,jt){let ke=Object(C.a)(At);Object(e.useEffect)(()=>{function tn(Pn){ke.current(Pn)}return document.addEventListener(Qe,tn,jt),()=>document.removeEventListener(Qe,tn,jt)},[Qe,jt])}function Be(Qe,At,jt=!0){let ke=Object(e.useRef)(!1);Object(e.useEffect)(()=>{requestAnimationFrame(()=>{ke.current=jt})},[jt]);function tn(Ft,lt){if(!ke.current||Ft.defaultPrevented)return;let Rt=function Mt($t){return typeof $t=="function"?Mt($t()):Array.isArray($t)||$t instanceof Set?$t:[$t]}(Qe),ln=lt(Ft);if(ln!==null&&!!ln.getRootNode().contains(ln)){for(let Mt of Rt){if(Mt===null)continue;let $t=Mt instanceof HTMLElement?Mt:Mt.current;if($t!=null&&$t.contains(ln))return}return!y(ln,j.Loose)&&ln.tabIndex!==-1&&Ft.preventDefault(),At(Ft,ln)}}let Pn=Object(e.useRef)(null);Me("mousedown",Ft=>{var lt,Rt;ke.current&&(Pn.current=((Rt=(lt=Ft.composedPath)==null?void 0:lt.call(Ft))==null?void 0:Rt[0])||Ft.target)},!0),Me("click",Ft=>{!Pn.current||(tn(Ft,()=>Pn.current),Pn.current=null)},!0),Me("blur",Ft=>tn(Ft,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Xe(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}var Te=(Qe=>(Qe[Qe.Open=0]="Open",Qe[Qe.Closed=1]="Closed",Qe))(Te||{}),we=(Qe=>(Qe[Qe.SetTitleId=0]="SetTitleId",Qe))(we||{});let De={[0](Qe,At){return Qe.titleId===At.id?Qe:_o(pr({},Qe),{titleId:At.id})}},Ie=Object(e.createContext)(null);Ie.displayName="DialogContext";function He(Qe){let At=Object(e.useContext)(Ie);if(At===null){let jt=new Error(`<${Qe} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(jt,He),jt}return At}function Ve(Qe,At){Object(e.useEffect)(()=>{var jt;if(!At||!Qe)return;let ke=Object(p.a)();function tn(lt,Rt,ln){let Mt=lt.style.getPropertyValue(Rt);return Object.assign(lt.style,{[Rt]:ln}),ke.add(()=>{Object.assign(lt.style,{[Rt]:Mt})})}let Pn=Qe.documentElement,Ft=((jt=Qe.defaultView)!=null?jt:window).innerWidth-Pn.clientWidth;if(tn(Pn,"overflow","hidden"),Ft>0){let lt=Pn.clientWidth-Pn.offsetWidth,Rt=Ft-lt;tn(Pn,"paddingRight",`${Rt}px`)}if(Xe()){let lt=window.pageYOffset;tn(Pn,"position","fixed"),tn(Pn,"marginTop",`-${lt}px`),tn(Pn,"width","100%"),ke.add(()=>window.scrollTo(0,lt))}return ke.dispose},[Qe,At])}function z(Qe,At){return Object(a.a)(At.type,De,Qe,At)}let se="div",Se=o.a.RenderStrategy|o.a.Static,Oe=Object(o.d)(function(Qe,At){let Gn=Qe,{open:jt,onClose:ke,initialFocus:tn,__demoMode:Pn=!1}=Gn,Ft=Ji(Gn,["open","onClose","initialFocus","__demoMode"]),[lt,Rt]=Object(e.useState)(0),ln=Object(ze.c)();jt===void 0&&ln!==null&&(jt=Object(a.a)(ln,{[ze.b.Open]:!0,[ze.b.Closed]:!1}));let Mt=Object(e.useRef)(new Set),$t=Object(e.useRef)(null),nn=Object(l.b)($t,At),Bt=Object(e.useRef)(null),Kt=U($t),Sn=Qe.hasOwnProperty("open")||ln!==null,Qn=Qe.hasOwnProperty("onClose");if(!Sn&&!Qn)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!Sn)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!Qn)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof jt!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${jt}`);if(typeof ke!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${ke}`);let rr=jt?0:1,[Mr,zr]=Object(e.useReducer)(z,{titleId:null,descriptionId:null,panelRef:Object(e.createRef)()}),dr=Object(H.a)(()=>ke(!1)),Rr=Object(H.a)(tr=>zr({type:0,id:tr})),_r=Object(f.a)()?Pn?!1:rr===0:!1,ro=lt>1,Dn=Object(e.useContext)(Ie)!==null,ut=ro?"parent":"leaf";ie($t,ro?_r:!1),Be(()=>{var tr,rn;return[...Array.from((tr=Kt==null?void 0:Kt.querySelectorAll("body > *, [data-headlessui-portal]"))!=null?tr:[]).filter(_n=>!(!(_n instanceof HTMLElement)||_n.contains(Bt.current)||Mr.panelRef.current&&_n.contains(Mr.panelRef.current))),(rn=Mr.panelRef.current)!=null?rn:$t.current]},dr,_r&&!ro),V(Kt==null?void 0:Kt.defaultView,"keydown",tr=>{tr.defaultPrevented||tr.key===d.a.Escape&&rr===0&&(ro||(tr.preventDefault(),tr.stopPropagation(),dr()))}),Ve(Kt,rr===0&&!Dn),Object(e.useEffect)(()=>{if(rr!==0||!$t.current)return;let tr=new IntersectionObserver(rn=>{for(let _n of rn)_n.boundingClientRect.x===0&&_n.boundingClientRect.y===0&&_n.boundingClientRect.width===0&&_n.boundingClientRect.height===0&&dr()});return tr.observe($t.current),()=>tr.disconnect()},[rr,$t,dr]);let[fn,On]=Object(ot.b)(),Ot=`headlessui-dialog-${Object(u.a)()}`,kt=Object(e.useMemo)(()=>[{dialogState:rr,close:dr,setTitleId:Rr},Mr],[rr,Mr,dr,Rr]),Zt=Object(e.useMemo)(()=>({open:rr===0}),[rr]),Vn={ref:nn,id:Ot,role:"dialog","aria-modal":rr===0?!0:void 0,"aria-labelledby":Mr.titleId,"aria-describedby":fn};return e.default.createElement(at,{type:"Dialog",enabled:rr===0,element:$t,onUpdate:Object(H.a)((tr,rn,_n)=>{rn==="Dialog"&&Object(a.a)(tr,{[Wt.Add](){Mt.current.add(_n),Rt(Yn=>Yn+1)},[Wt.Remove](){Mt.current.add(_n),Rt(Yn=>Yn-1)}})})},e.default.createElement(Ae,{force:!0},e.default.createElement(We,null,e.default.createElement(Ie.Provider,{value:kt},e.default.createElement(We.Group,{target:$t},e.default.createElement(Ae,{force:!1},e.default.createElement(On,{slot:Zt,name:"Dialog.Description"},e.default.createElement(B,{initialFocus:tn,containers:Mt,features:_r?Object(a.a)(ut,{parent:B.features.RestoreFocus,leaf:B.features.All&~B.features.FocusLock}):B.features.None},Object(o.e)({ourProps:Vn,theirProps:Ft,slot:Zt,defaultTag:se,features:Se,visible:rr===0,name:"Dialog"})))))))),e.default.createElement(m.b,{features:m.a.Hidden,ref:Bt}))}),ge="div",je=Object(o.d)(function(Qe,At){let[{dialogState:jt,close:ke}]=He("Dialog.Overlay"),tn=Object(l.b)(At),Pn=`headlessui-dialog-overlay-${Object(u.a)()}`,Ft=Object(H.a)(Rt=>{if(Rt.target===Rt.currentTarget){if(Object(c.a)(Rt.currentTarget))return Rt.preventDefault();Rt.preventDefault(),Rt.stopPropagation(),ke()}}),lt=Object(e.useMemo)(()=>({open:jt===0}),[jt]);return Object(o.e)({ourProps:{ref:tn,id:Pn,"aria-hidden":!0,onClick:Ft},theirProps:Qe,slot:lt,defaultTag:ge,name:"Dialog.Overlay"})}),it="div",Tt=Object(o.d)(function(Qe,At){let[{dialogState:jt},ke]=He("Dialog.Backdrop"),tn=Object(l.b)(At),Pn=`headlessui-dialog-backdrop-${Object(u.a)()}`;Object(e.useEffect)(()=>{if(ke.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[ke.panelRef]);let Ft=Object(e.useMemo)(()=>({open:jt===0}),[jt]);return e.default.createElement(Ae,{force:!0},e.default.createElement(We,null,Object(o.e)({ourProps:{ref:tn,id:Pn,"aria-hidden":!0},theirProps:Qe,slot:Ft,defaultTag:it,name:"Dialog.Backdrop"})))}),sn="div",ht=Object(o.d)(function(Qe,At){let[{dialogState:jt},ke]=He("Dialog.Panel"),tn=Object(l.b)(At,ke.panelRef),Pn=`headlessui-dialog-panel-${Object(u.a)()}`,Ft=Object(e.useMemo)(()=>({open:jt===0}),[jt]),lt=Object(H.a)(Rt=>{Rt.stopPropagation()});return Object(o.e)({ourProps:{ref:tn,id:Pn,onClick:lt},theirProps:Qe,slot:Ft,defaultTag:sn,name:"Dialog.Panel"})}),Nt="h2",wt=Object(o.d)(function(Qe,At){let[{dialogState:jt,setTitleId:ke}]=He("Dialog.Title"),tn=`headlessui-dialog-title-${Object(u.a)()}`,Pn=Object(l.b)(At);Object(e.useEffect)(()=>(ke(tn),()=>ke(null)),[tn,ke]);let Ft=Object(e.useMemo)(()=>({open:jt===0}),[jt]);return Object(o.e)({ourProps:{ref:Pn,id:tn},theirProps:Qe,slot:Ft,defaultTag:Nt,name:"Dialog.Title"})}),yt=Object.assign(Oe,{Backdrop:Tt,Panel:ht,Overlay:je,Title:wt,Description:ot.a})},function(k,n,t){"use strict";t.d(n,"a",function(){return b}),t.d(n,"b",function(){return l}),t.d(n,"c",function(){return s}),t.d(n,"d",function(){return w}),t.d(n,"e",function(){return C});var e=t(3),a=t(191),o=t(56);function l(K,Y,W){const R=K.slice();return R.splice(W<0?R.length+W:W,0,R.splice(Y,1)[0]),R}function d(K,Y,W){const R=K.slice();return R[Y]=K[W],R[W]=K[Y],R}function c(K,Y){return K.reduce((W,R,B)=>{const x=Y.get(R);return x&&(W[B]=x),W},Array(K.length))}function u(K){return K!==null&&K>=0}function f(K,Y){if(K===Y)return!0;if(K.length!==Y.length)return!1;for(let W=0;W<K.length;W++)if(K[W]!==Y[W])return!1;return!0}function m(K){return typeof K=="boolean"?{draggable:K,droppable:K}:K}const p={scaleX:1,scaleY:1},g=K=>{var Y;let{rects:W,activeNodeRect:R,activeIndex:B,overIndex:x,index:G}=K;const Q=(Y=W[B])!=null?Y:R;if(!Q)return null;const he=O(W,G,B);if(G===B){const Z=W[x];return Z?pr({x:B<x?Z.left+Z.width-(Q.left+Q.width):Z.left-Q.left,y:0},p):null}return G>B&&G<=x?pr({x:-Q.width-he,y:0},p):G<B&&G>=x?pr({x:Q.width+he,y:0},p):pr({x:0,y:0},p)};function O(K,Y,W){const R=K[Y],B=K[Y-1],x=K[Y+1];return!R||!B&&!x?0:W<Y?B?R.left-(B.left+B.width):x.left-(R.left+R.width):x?x.left-(R.left+R.width):R.left-(B.left+B.width)}const s=K=>{let{rects:Y,activeIndex:W,overIndex:R,index:B}=K;const x=l(Y,R,W),G=Y[B],Q=x[B];return!Q||!G?null:{x:Q.left-G.left,y:Q.top-G.top,scaleX:Q.width/G.width,scaleY:Q.height/G.height}},r=K=>{let{activeIndex:Y,index:W,rects:R,overIndex:B}=K,x,G;return W===Y&&(x=R[W],G=R[B]),W===B&&(x=R[W],G=R[Y]),!G||!x?null:{x:G.left-x.left,y:G.top-x.top,scaleX:G.width/x.width,scaleY:G.height/x.height}},i={scaleX:1,scaleY:1},h=K=>{var Y;let{activeIndex:W,activeNodeRect:R,index:B,rects:x,overIndex:G}=K;const Q=(Y=x[W])!=null?Y:R;if(!Q)return null;if(B===W){const Z=x[G];return Z?pr({x:0,y:W<G?Z.top+Z.height-(Q.top+Q.height):Z.top-Q.top},i):null}const he=v(x,B,W);return B>W&&B<=G?pr({x:0,y:-Q.height-he},i):B<W&&B>=G?pr({x:0,y:Q.height+he},i):pr({x:0,y:0},i)};function v(K,Y,W){const R=K[Y],B=K[Y-1],x=K[Y+1];return R?W<Y?B?R.top-(B.top+B.height):x?x.top-(R.top+R.height):0:x?x.top-(R.top+R.height):B?R.top-(B.top+B.height):0:0}const j="Sortable",y=e.default.createContext({activeIndex:-1,containerId:j,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:s,disabled:{draggable:!1,droppable:!1}});function b(K){let{children:Y,id:W,items:R,strategy:B=s,disabled:x=!1}=K;const{active:G,dragOverlay:Q,droppableRects:he,over:Z,measureDroppableContainers:le,measuringScheduled:de}=Object(a.l)(),be=Object(o.w)(j,W),X=Boolean(Q.rect!==null),ie=Object(e.useMemo)(()=>R.map(ue=>typeof ue=="object"&&"id"in ue?ue.id:ue),[R]),Ce=G!=null,Le=G?ie.indexOf(G.id):-1,Ae=Z?ie.indexOf(Z.id):-1,Pe=Object(e.useRef)(ie),Ne=!f(ie,Pe.current),ce=Ae!==-1&&Le===-1||Ne,q=m(x);Object(o.r)(()=>{Ne&&Ce&&!de&&le(ie)},[Ne,ie,Ce,le,de]),Object(e.useEffect)(()=>{Pe.current=ie},[ie]);const te=Object(e.useMemo)(()=>({activeIndex:Le,containerId:be,disabled:q,disableTransforms:ce,items:ie,overIndex:Ae,useDragOverlay:X,sortedRects:c(ie,he),strategy:B}),[Le,be,q.draggable,q.droppable,ce,ie,Ae,he,X,B]);return e.default.createElement(y.Provider,{value:te},Y)}const E=K=>{let{id:Y,items:W,activeIndex:R,overIndex:B}=K;return l(W,R,B).indexOf(Y)},P=K=>{let{containerId:Y,isSorting:W,wasDragging:R,index:B,items:x,newIndex:G,previousItems:Q,previousContainerId:he,transition:Z}=K;return!Z||!R||Q!==x&&B===G?!1:W?!0:G!==B&&Y===he},A={duration:200,easing:"ease"},_="transform",M=o.a.Transition.toString({property:_,duration:0,easing:"linear"}),F={roleDescription:"sortable"};function H(K){let{disabled:Y,index:W,node:R,rect:B}=K;const[x,G]=Object(e.useState)(null),Q=Object(e.useRef)(W);return Object(o.r)(()=>{if(!Y&&W!==Q.current&&R.current){const he=B.current;if(he){const Z=Object(a.i)(R.current,{ignoreTransform:!0}),le={x:he.left-Z.left,y:he.top-Z.top,scaleX:he.width/Z.width,scaleY:he.height/Z.height};(le.x||le.y)&&G(le)}}W!==Q.current&&(Q.current=W)},[Y,W,R,B]),Object(e.useEffect)(()=>{x&&requestAnimationFrame(()=>{G(null)})},[x]),x}function C(K){let{animateLayoutChanges:Y=P,attributes:W,disabled:R,data:B,getNewIndex:x=E,id:G,strategy:Q,resizeObserverConfig:he,transition:Z=A}=K;const{items:le,containerId:de,activeIndex:be,disabled:X,disableTransforms:ie,sortedRects:Ce,overIndex:Le,useDragOverlay:Ae,strategy:Pe}=Object(e.useContext)(y),Ne=T(R,X),ce=le.indexOf(G),q=Object(e.useMemo)(()=>pr({sortable:{containerId:de,index:ce,items:le}},B),[de,B,ce,le]),te=Object(e.useMemo)(()=>le.slice(le.indexOf(G)),[le,G]),{rect:ue,node:We,isOver:ot,setNodeRef:ze}=Object(a.n)({id:G,data:q,disabled:Ne.droppable,resizeObserverConfig:pr({updateMeasurementsFor:te},he)}),{active:vt,activatorEvent:Wt,activeNodeRect:zt,attributes:at,setNodeRef:Me,listeners:Be,isDragging:Xe,over:Te,setActivatorNodeRef:we,transform:De}=Object(a.m)({id:G,data:q,attributes:pr(pr({},F),W),disabled:Ne.draggable}),Ie=Object(o.o)(ze,Me),He=Boolean(vt),Ve=He&&!ie&&u(be)&&u(Le),z=!Ae&&Xe,se=z&&Ve?De:null,Se=Q!=null?Q:Pe,Oe=Ve?se!=null?se:Se({rects:Ce,activeNodeRect:zt,activeIndex:be,overIndex:Le,index:ce}):null,ge=u(be)&&u(Le)?x({id:G,items:le,activeIndex:be,overIndex:Le}):ce,je=vt==null?void 0:vt.id,it=Object(e.useRef)({activeId:je,items:le,newIndex:ge,containerId:de}),Tt=le!==it.current.items,sn=Y({active:vt,containerId:de,isDragging:Xe,isSorting:He,id:G,index:ce,items:le,newIndex:it.current.newIndex,previousItems:it.current.items,previousContainerId:it.current.containerId,transition:Z,wasDragging:it.current.activeId!=null}),ht=H({disabled:!sn,index:ce,node:We,rect:ue});return Object(e.useEffect)(()=>{He&&it.current.newIndex!==ge&&(it.current.newIndex=ge),de!==it.current.containerId&&(it.current.containerId=de),le!==it.current.items&&(it.current.items=le)},[He,ge,de,le]),Object(e.useEffect)(()=>{if(je===it.current.activeId)return;if(je&&!it.current.activeId){it.current.activeId=je;return}const wt=setTimeout(()=>{it.current.activeId=je},50);return()=>clearTimeout(wt)},[je]),{active:vt,activeIndex:be,attributes:at,data:q,rect:ue,index:ce,newIndex:ge,items:le,isOver:ot,isSorting:He,isDragging:Xe,listeners:Be,node:We,overIndex:Le,over:Te,setNodeRef:Ie,setActivatorNodeRef:we,setDroppableNodeRef:ze,setDraggableNodeRef:Me,transform:ht!=null?ht:Oe,transition:Nt()};function Nt(){if(ht||Tt&&it.current.newIndex===ce)return M;if(!(z&&!Object(o.j)(Wt)||!Z)&&(He||sn))return o.a.Transition.toString(_o(pr({},Z),{property:_}))}}function T(K,Y){var W,R;return typeof K=="boolean"?{draggable:K,droppable:!1}:{draggable:(W=K==null?void 0:K.draggable)!=null?W:Y.draggable,droppable:(R=K==null?void 0:K.droppable)!=null?R:Y.droppable}}function S(K){if(!K)return!1;const Y=K.data.current;return!!(Y&&"sortable"in Y&&typeof Y.sortable=="object"&&"containerId"in Y.sortable&&"items"in Y.sortable&&"index"in Y.sortable)}const D=[a.c.Down,a.c.Right,a.c.Up,a.c.Left],w=(K,Y)=>{let{context:{active:W,collisionRect:R,droppableRects:B,droppableContainers:x,over:G,scrollableAncestors:Q}}=Y;if(D.includes(K.code)){if(K.preventDefault(),!W||!R)return;const he=[];x.getEnabled().forEach(de=>{if(!de||de!=null&&de.disabled)return;const be=B.get(de.id);if(!!be)switch(K.code){case a.c.Down:R.top<be.top&&he.push(de);break;case a.c.Up:R.top>be.top&&he.push(de);break;case a.c.Left:R.left>be.left&&he.push(de);break;case a.c.Right:R.left<be.left&&he.push(de);break}});const Z=Object(a.g)({active:W,collisionRect:R,droppableRects:B,droppableContainers:he,pointerCoordinates:null});let le=Object(a.j)(Z,"id");if(le===(G==null?void 0:G.id)&&Z.length>1&&(le=Z[1].id),le!=null){const de=x.get(W.id),be=x.get(le),X=be?B.get(be.id):null,ie=be==null?void 0:be.node.current;if(ie&&X&&de&&be){const Le=Object(a.k)(ie).some((te,ue)=>Q[ue]!==te),Ae=U(de,be),Pe=V(de,be),Ne=Le||!Ae?{x:0,y:0}:{x:Pe?R.width-X.width:0,y:Pe?R.height-X.height:0},ce={x:X.left,y:X.top};return Ne.x&&Ne.y?ce:Object(o.n)(ce,Ne)}}}};function U(K,Y){return!S(K)||!S(Y)?!1:K.data.current.sortable.containerId===Y.data.current.sortable.containerId}function V(K,Y){return!S(K)||!S(Y)||!U(K,Y)?!1:K.data.current.sortable.index<Y.data.current.sortable.index}},function(k,n,t){var e=t(449),a=t(898),o=t(901),l=t(450),d=t(902),c=t(303),u=200;function f(m,p,g){var O=-1,s=a,r=m.length,i=!0,h=[],v=h;if(g)i=!1,s=o;else if(r>=u){var j=p?null:d(m);if(j)return c(j);i=!1,s=l,v=new e}else v=p?[]:h;e:for(;++O<r;){var y=m[O],b=p?p(y):y;if(y=g||y!==0?y:0,i&&b===b){for(var E=v.length;E--;)if(v[E]===b)continue e;p&&v.push(b),h.push(y)}else s(v,b,g)||(v!==h&&v.push(b),h.push(y))}return h}k.exports=f},function(k,n,t){var e=t(152),a=function(){try{var o=e(Object,"defineProperty");return o({},"",{}),o}catch(l){}}();k.exports=a},function(k,n,t){"use strict";t.r(n),t.d(n,"addHookName",function(){return a});var e=t(0);function a(o,l){return e.options.__a&&e.options.__a(l),o}typeof window!="undefined"&&window.__PREACT_DEVTOOLS__&&window.__PREACT_DEVTOOLS__.attachPreact("10.13.1",e.options,{Fragment:e.Fragment,Component:e.Component})},function(k,n,t){(function(e){const a=t(605),o="en";let l=!1;const d=[];if(n.Translator=f,typeof window!="undefined"){let O=c();window.document.location.pathname==="/subscribe"&&["fr","es","de","pt"].includes(O)&&(O=o),window.I=f(O,{omitKeys:["ca","de","es","fr","it","pt"].includes(O)?null:["Subscribe","Subscribe now"]})}else e.I=(...O)=>{const s=u();return f(s,{omitKeys:["ca","de","es","fr","it","pt"].includes(s)?null:["Subscribe","Subscribe now"]})(...O)};function c(){var O,s;return typeof window=="undefined"?o:((O=window._preloads)==null?void 0:O.language)?(s=window._preloads)==null?void 0:s.language:(navigator==null?void 0:navigator.language)?navigator.language.split("-")[0].toLowerCase():o}function u(){var O;return typeof jsdom=="undefined"||typeof jsdom.window=="undefined"?o:((O=jsdom.window.navigator)==null?void 0:O.language)?jsdom.window.navigator.language:o}function f(O,{omitKeys:s}={}){function r(i,...h){return Array.isArray(i)&&(i=(i[0]||"")+i.slice(1).map((v,j)=>`\${${j}}${v}`).join("")),(s==null?void 0:s.includes(i.toString()))?i.toString():m(i.toString(),h,O)}for(const i in a)r[i]=(...h)=>m(i,h,O);return r}function m(O,s,r){r=(r||o).split(/[-_]/g)[0];let i=O;return a[O]?a[O][r]&&(i=a[O][r],p(O,r)):g(O,r),s.forEach((h,v)=>i=i.replace(new RegExp(`\\$\\{${v}\\}`,"g"),h.toString())),i}function p(O,s){typeof window!="undefined"&&(l||(l=!0,document.documentElement.lang=s))}function g(O){}}).call(this,t(173))},function(k){k.exports=JSON.parse(`{"Subscribe":{"ca":"Subscriu-te","de":"Abonnieren","es":"Suscr\xEDbete","fr":"Inscrivez-vous","it":"Iscriviti","pt":"Inscrever-se"},"Subscribe now":{"ca":"Subscriu-te","de":"Abonnieren","es":"Suscr\xEDbete","fr":"Inscrivez-vous","it":"Iscriviti","pt":"Inscrever-se"},"Join":{"ca":"Subscriu-te","de":"Abonnieren","es":"Suscr\xEDbete","fr":"Inscrivez-vous","it":"Iscriviti","pt":"Inscrever-se"},"Upgrade":{"ca":"Canvia","de":"Umsteigen","es":"Cambiar","fr":"Mise \xE0 niveau","it":"Aggiornamento","pt":"Atualizar"},"Upgrade to paid":{"ca":"Canvia a la subscripci\xF3 de pagament","de":"Auf die bezahlte Abonnement umsteigen","es":"Cambiar a la suscripci\xF3n paga","fr":"Mise \xE0 niveau vers payant","it":"Passa all'abbonamento a pagamento","pt":"Mudar para a assinatura paga"}," now":{"ca":" ara","de":" jetzt","es":" ahora","fr":" maintenant","it":" adesso","pt":" agora"},"Continue":{"ca":"Continuar","de":"Fortsetzen","es":"Continuar","fr":"Continuer","it":"Continua","pt":"Continuar"},"Done":{"ca":"Fet","de":"Fertig","es":"Hecho","fr":"Terminer","it":"Fatto","pt":"Feito"},"Learn more":{"ca":"Saber m\xE9s","de":"Mehr erfahren","es":"Saber m\xE1s","fr":"En savoir plus","it":"Saperne di pi\xF9","pt":"Mais detalhes"},"Maybe later":{"ca":"Potser despr\xE9s","de":"Vielleicht sp\xE4ter","es":"Quiz\xE1s m\xE1s tarde","fr":"Peut-\xEAtre plus tard","it":"Forse pi\xF9 tardi","pt":"Talvez mais tarde"},"Give another gift":{"ca":"Fer un altre regal","de":"Machen Sie noch ein Geschenk","es":"Dar otro regalo","fr":"Donnez un autre cadeau","it":"Fai un altro regalo","pt":"D\xEA outro presente"},"Success!":{"ca":"\xC8xit!","de":"Erfolg!","es":"\xA1\xC9xito!","fr":"Succ\xE8s!","it":"Successo!","pt":"Sucesso!"},"Thank you!":{"ca":"Gr\xE0cies!","de":"Danke!","es":"Gracias!","fr":"Merci!","it":"Grazie!","pt":"Obrigado!"},"Spread the word":{"ca":"Escampa la veu","de":"Danke f\xFCr Ihr Abonnement","es":"Difundir la palabra","fr":"Faites passer le mot","it":"Spargi la voce","pt":"Fale sobre n\xF3s"},"change email":{"ca":"canviar e-mail","de":"E-Mail \xE4ndern","es":"cambiar e-mail","fr":"changez l'adresse email","it":"cambia email","pt":"mude o e-mail"},"No thanks":{"ca":"No gr\xE0cies","de":"Nein danke","es":"No gracias","fr":"Non merci","it":"No grazie","pt":"N\xE3o obrigado"},"Let me read it first":{"ca":"Deixin-m'ho llegir primer","de":"Lass es mich zuerst lesen","es":"D\xE9jame leerlo primero","fr":"Permettez-moi de le lire d'abord","it":"Fammi leggere prima","pt":"Deixe-me ler primeiro"},"Let me hear it first":{"ca":"Deixin-m'ho escoltar primer","de":"Lass es mich zuerst h\xF6ren","es":"D\xE9jame escucharlo primero","fr":"Permettez-moi de l'\xE9couter d'abord","it":"Fammi sentire prima","pt":"Deixe-me ouvir primeiro"},"Top posts":{"ca":"Millors posts","de":"Beste Posts","es":"Mejores posts","fr":"Meilleurs posts","it":"Migliori posti","pt":"Melhores posts"},"Authors":{"ca":"Autors","de":"Autoren","es":"Autores","fr":"Auteurs","it":"Autori","pt":"Autores"},"A Substack newsletter":{"ca":"Un newsletter de Substack","de":"Ein Substack-Newsletter","es":"Un newsletter de Substack","fr":"Une newsletter de Substack","it":"Una newsletter di Substack","pt":"Um newsletter da Substack"},"A Substack newsletter by":{"ca":"Un newsletter de Substack de","de":"Ein Substack-Newsletter von","es":"Un newsletter de Substack de","fr":"Une newsletter de Substack par","it":"Una newsletter da Substack di","pt":"Um newsletter da Substack de"},"You\u2019ve subscribed to public posts from":{"ca":"T'has registrat a publicacions p\xFAbliques de","de":"Sie haben sich f\xFCr \xF6ffentliche Beitr\xE4ge angemeldet von","es":"Te has registrado para publicaciones p\xFAblicas de","fr":"Vous vous \xEAtes inscrit(e) \xE0 des publications publiques de","it":"Ti sei iscritto a post pubblici da","pt":"Voc\xEA se inscreveu para receber posts p\xFAblicos do"},"You\u2019re on the free list":{"ca":"Ets a la llista gratu\xEFta","de":"Sie sind auf der freien Liste","es":"Est\xE1s en la lista gratuita","fr":"Vous \xEAtes sur la liste gratuite","it":"Sei nella lista libera","pt":"Voc\xEA est\xE1 na lista gr\xE1tis"},"Your gift was sent to ":{"ca":"El teu regal es va enviar a ","de":"Ihr Geschenk wurde gesendet an ","es":"Tu regalo fue enviado a ","fr":"Votre cadeau a \xE9t\xE9 envoy\xE9 \xE0 ","it":"Il tuo regalo \xE8 stato inviato a","pt":"Seu presente foi enviado para "},"Your gift was sent":{"ca":"El teu regal es va enviar","de":"Ihr Geschenk wurde gesendet","es":"Tu regalo fue enviado","fr":"Votre cadeau a \xE9t\xE9 envoy\xE9","it":"Il tuo regalo \xE8 stato inviato","pt":"Seu presente foi enviado"},"Your group will be administered by ":{"ca":"El teu grup ser\xE0 administrat per ","de":"Ihre Gruppe wird verwaltet von ","es":"Tu grupo ser\xE1 administrado por ","fr":"Votre groupe sera administr\xE9 par ","it":"Il tuo regalo sar\xE0 amministrato da","pt":"Seu grupo ser\xE1 administrado por "},"Your donation matters.":{"ca":"La teva donaci\xF3 importa.","de":"Ihre Spende ist wichtig.","es":"Tu donaci\xF3n importa.","fr":"Votre don est important.","it":"La tua donazione conta.","pt":"Sua doa\xE7\xE3o \xE9 importante."},"You\u2019re subscribed as ":{"ca":"Est\xE0s subscrit com a","de":"Sie sind abonniert als ","es":"Est\xE1s suscrito como ","fr":"Vous \xEAtes abonn\xE9(e) en tant que ","it":"Sei iscritto come","pt":"Voc\xEA est\xE1 inscrito como "},"Login":{"ca":"Iniciar sessi\xF3","de":"Anmelden","es":"Iniciar sesi\xF3n","fr":"Se connecter","it":"Accesso","pt":"Fazer login"},"Log in":{"ca":"Iniciar sessi\xF3","de":"Anmelden","es":"Iniciar sesi\xF3n","fr":"Se connecter","it":"Accesso","pt":"Fazer login"},"Sign in":{"ca":"Iniciar sessi\xF3","de":"Anmelden","es":"Iniciar sesi\xF3n","fr":"Se connecter","it":"Accesso","pt":"Fazer login"},"Not you?":{"ca":"No ets tu?","de":"Das sind Sie nicht?","es":"\xBFNo eres t\xFA?","fr":"Pas toi?","it":"Non sei tu?","pt":"N\xE3o \xE9 voc\xEA?"},"Type your email\u2026":{"ca":"Escriu el teu correu electr\xF2nic\u2026","de":"Geben Sie Ihre E-Mail-Adresse ein\u2026","es":"Escribe tu correo\u2026","fr":"Tapez votre email\u2026","it":"Digita la tua email\u2026","pt":"Digite seu email\u2026"},"What\u2019s your email?":{"ca":"Quin \xE9s el teu email?","de":"Was ist Ihre E-Mail-Adresse?","es":"\xBFCu\xE1l es tu correo electr\xF3nico?","fr":"Quelle est votre adresse email?","it":"Qual \xE8 la tua email?","pt":"Qual \xE9 o seu email?"},"Buying for a group?":{"ca":"Comprant per a un grup?","de":"F\xFCr eine Gruppe kaufen?","es":"\xBFComprando para un grupo?","fr":"Acheter pour un groupe?","it":"Acquistare per un gruppo?","pt":"Comprando para um grupo?"},"If you enjoy":{"ca":"Si us agrada","de":"Wenn Ihnen es gef\xE4llt","es":"Si te gusta","fr":"Si vous aimez","it":"Se ti piace","pt":"Se voc\xEA gosta de"},"consider becoming a paid subscriber":{"ca":"considera convertir-te en un subscriptor de pagament","de":"sollten Sie ein zahlender Abonnent werden","es":"considera convertirte en un suscriptor de pago","fr":"envisagez de devenir un(e) abonn\xE9(e) payant(e)","it":"considera di diventare un abbonato pagante","pt":"considere tornar-se um assinante pago"},"If you want to help \${0}":{"ca":"Si vols ajudar \${0}","de":"M\xF6chten Sie \${0} unterst\xFCtzen","es":"Si quieres ayudar a \${0}","fr":"Si vous voulez aider \${0}","it":"Se vuoi aiutare \${0}","pt":"Se voc\xEA quiser ajudar \${0}"},"If you want to help \${0} even more":{"ca":"Si vols ajudar \${0} encara m\xE9s","de":"M\xF6chten Sie \${0} noch mehr unterst\xFCtzen","es":"Si quieres ayudar a \${0} a\xFAn m\xE1s","fr":"Si vous voulez aider \${0} encore plus","it":"Se vuoi aiutare \${0} ancora di pi\xF9","pt":"Se voc\xEA quiser ajudar \${0} ainda mais"},"share your reason for signing up":{"ca":"comparteix la ra\xF3 per registrar-te","de":"dann teilen Sie ihn mit Ihren Freunden","es":"comparte tu raz\xF3n para registrarte","fr":"partagez votre raison de vous inscrire","it":"condividi il motivo della tua iscrizione","pt":"compartilhe seu motivo para se inscrever"},"share your reason for subscribing":{"ca":"comparteix la ra\xF3 per subscriure't","de":"dann teilen Sie ihn mit Ihren Freunden","es":"comparte tu raz\xF3n para suscribirte","fr":"partagez votre raison de vous abonner","it":"condividi il motivo del tuo abbonamento","pt":"compartilhe seu motivo para se inscrever"},"show full post":{"ca":"mostra la publicaci\xF3 completa","de":"Vollst\xE4ndigen Beitrag anzeigen","es":"mostrar publicaci\xF3n completa","fr":"afficher le post complet","it":"mostra post completo","pt":"mostrar post completo"},"Community":{"ca":"Comunitat","de":"Gemeinschaft","es":"Comunidad","fr":"Communaut\xE9","it":"Comunit\xE0","pt":"Comunidade"},"About":{"ca":"Sobre","de":"\xDCber","es":"Sobre","fr":"\xC0 propos de","it":"Soggetto","pt":"Sobre"},"Archive":{"ca":"Arxiu","de":"Archiv","es":"Archivo","fr":"Archives","it":"Archivio","pt":"Arquivo"},"Account":{"ca":"Compte","de":"Konto","es":"Cuenta","fr":"Compte","it":"Account","pt":"Conta"},"My Account":{"ca":"El meu compte","de":"Mein Konto","es":"Mi cuenta","fr":"Mon compte","it":"Il mio account","pt":"Minha conta"},"By submitting, you agree to":{"ca":"En enviar-ho, acceptes","de":"Mit dem Absenden, stimmen Sie zu","es":"Al enviar, aceptas","fr":"En soumettant, vous acceptez","it":"Inviando, accetti","pt":"Ao enviar, voc\xEA concorda com"},"By registering you agree to":{"ca":"Registrant-te, acceptes","de":"Mit Ihrer Registrierung, stimmen Sie zu","es":"Al registrarte, aceptas","fr":"En vous inscrivant, vous acceptez","it":"Registrandoti, accetti","pt":"Ao se registrar, voc\xEA concorda com"},"Terms":{"ca":"Termes","de":"Bedingungen","es":"Condiciones","fr":"Termes","it":"Condizioni","pt":"Termos"},"Privacy":{"ca":"Privadesa","de":"Datenschutz","es":"Privacidad","fr":"Confidentialit\xE9","it":"Privacy","pt":"Privacidade"},"Substack's Terms of Use":{"ca":"els Termes de serveis de Substack","de":"Substacks Nutzungsbedingungen","es":"los T\xE9rminos de servicio de Substack","fr":"les Conditions d'utilisation de Substack","it":"le Condizioni di utilizzo di Substack","pt":"os Termos de Servi\xE7o da Substack"},"our Privacy Policy":{"ca":"la nostra Pol\xEDtica de Privacitat","de":"unseren Datenschutzbestimmungen","es":"nuestra Pol\xEDtca de Privacidad","fr":"notre Politique de Confidentialit\xE9","it":"la nostra Politica sulla privacy","pt":"a nossa Pol\xEDtica de Privacidade"},"our Information collection notice":{"ca":"el nostre av\xEDs de recollida d'informaci\xF3","de":"unsere Informationserhebungsmitteilung","es":"nuestro aviso de recopilaci\xF3n de informaci\xF3n","fr":"notre avis de collecte d'informations","it":"il nostro avviso di raccolta delle informazioni","pt":"nosso aviso de coleta de informa\xE7\xF5es"},"and":{"ca":"i","de":"und","es":"y","fr":"et","it":"e","pt":"e"},"Help":{"ca":"Ajuda","de":"Hilfe","es":"Ayuda","fr":"Aide","it":"Aiuto","pt":"Ajuda"},"Get started":{"ca":"Comen\xE7ar","de":"Loslegen","es":"Empezar","fr":"Commencer","it":"Iniziare","pt":"Iniciar"},"Start writing":{"ca":"Comen\xE7a a escriure","de":"Anfangen zu schreiben","es":"Empieza a escribir","fr":"Commencez \xE0 \xE9crire","it":"Inizia a scrivere","pt":"Comece a escrever"},"Start reading":{"ca":"Comen\xE7a a llegir","de":"Anfangen zu lesen","es":"Empieza a leer","fr":"Commencez \xE0 lire","it":"Inizia a leggere","pt":"Comece a ler"},"Get the app":{"ca":"Descarrega l'aplicaci\xF3","de":"Laden Sie die App herunter","es":"Descarga la aplicaci\xF3n","fr":"T\xE9l\xE9chargez l'app","it":"Scarica l'app","pt":"Baixe o aplicativo"},"Play video":{"ca":"Reprodueix el v\xEDdeo","de":"Video abspielen","es":"Reproduce el video","fr":"Lire la vid\xE9o","it":"Riproduci video","pt":"Reproduzir v\xEDdeo"},"The home for great writing.":{"ca":"La casa de la gran escriptura.","de":"Das Haus des gro\xDFen Schreibens.","es":"La casa de la gran escritura.","fr":"La maison de grande \xE9criture.","it":"La casa della grande scrittura.","pt":"A casa da grande escrita."},"The home for great":{"ca":"La llar dels grans","de":"Das Zuhause f\xFCr gro\xDFe","es":"El hogar de grandes","fr":"La maison des grands","it":"La casa di grandi","pt":"A casa de grandes"},"writers":{"ca":"escriptors","de":"Autoren","es":"escritores","fr":"\xE9crivains","it":"scrittori","pt":"escritores"},"readers":{"ca":"lectors","de":"Leser","es":"lectores","fr":"lecteurs","it":"lettori","pt":"leitores"},"subscribers":{"ca":"subscriptors","de":"Abonnenten","es":"suscriptores","fr":"abonn\xE9s","it":"iscritti","pt":"assinantes"},"month":{"ca":"mes","de":"Monat","es":"mes","fr":"mois","it":"mese","pt":"m\xEAs"},"We believe that what you read matters and great writing is valuable. We\u2019re building a future where writers can flourish by being paid directly by readers.":{"ca":"Creiem que el que llegeix \xE9s important i una bona escriptura \xE9s valuosa. Estem construint un futur on els escriptors puguin prosperar amb el pagament directament dels lectors.","de":"Wir glauben, dass das, was Sie lesen, wichtig ist und gro\xDFartiges Schreiben wertvoll ist. Wir bauen eine Zukunft auf, in der Autoren gedeihen k\xF6nnen, indem sie direkt von Lesern bezahlt werden.","es":"Creemos que lo que lees importa y que escribir bien es valioso. Estamos construyendo un futuro en el que los escritores puedan prosperar si los lectores les pagan directamente.","fr":"Nous pensons que ce que vous lisez est important et qu'une bonne \xE9criture est pr\xE9cieuse. Nous construisons un avenir o\xF9 les \xE9crivains peuvent s'\xE9panouir en \xE9tant pay\xE9s directement par les lecteurs.","it":"Crediamo che ci\xF2 che leggi sia importante e che scrivi in modo eccellente sia prezioso. Stiamo costruendo un futuro in cui gli scrittori possono prosperare essendo pagati direttamente dai lettori.","pt":"Acreditamos que o que voc\xEA l\xEA \xE9 importante e uma \xF3tima escrita \xE9 valiosa. Estamos construindo um futuro onde os escritores podem florescer sendo pagos diretamente pelos leitores."},"A new model for writing.":{"ca":"Un nou model per escriure.","de":"Ein neues Schreibmodell.","es":"Un nuevo model de escritura.","fr":"Un nouveau mod\xE8le d'\xE9criture.","it":"Un nuovo modello di scrittura.","pt":"Um novo modelo de escrita."},"The subscription model rewards you for doing great work that you believe in. You don\u2019t need to play by the rules of social media to succeed.":{"ca":"El model de subscripci\xF3 us recompensa per fer un gran treball en el qual creieu. No cal que us seguiu les regles de les xarxes socials per tenir \xE8xit.","de":"Das Abonnementmodell belohnt Sie f\xFCr gro\xDFartige Arbeit, an die Sie glauben. Sie m\xFCssen sich nicht an die Regeln der sozialen Medien halten, um erfolgreich zu sein.","es":"El modelo de suscripci\xF3n lo recompensa por hacer un gran trabajo en el que cree. No necesita seguir las reglas de las redes sociales para tener \xE9xito.","fr":"Le mod\xE8le d'abonnement vous r\xE9compense pour l'excellent travail auquel vous croyez. Vous n'avez pas besoin de respecter les r\xE8gles des m\xE9dias sociaux pour r\xE9ussir.","it":"Il modello di abbonamento ti premia per aver svolto un ottimo lavoro in cui credi. Non \xE8 necessario rispettare le regole dei social media per avere successo.","pt":"O modelo de assinatura recompensa voc\xEA por fazer um \xF3timo trabalho no qual acredita. Voc\xEA n\xE3o precisa seguir as regras das m\xEDdias sociais para ter sucesso."},"Simple but powerful publishing.":{"ca":"Publicaci\xF3 senzilla per\xF2 potent.","de":"Einfaches, aber leistungsstarkes Publishing.","es":"Publicaci\xF3n simple pero poderosa.","fr":"Publication simple mais puissante.","it":"Editoria semplice ma potente.","pt":"Publica\xE7\xE3o simples, mas poderosa."},"Spend all your time and energy focused on the work that really matters: the writing itself. Substack takes care of everything else.":{"ca":"Dedica tot el teu temps i energia centrat en el treball que realment importa: l'escriptura en si. Substack s'encarrega de tota la resta.","de":"Konzentrieren Sie sich all Ihre Zeit und Energie auf die Arbeit, die wirklich z\xE4hlt: das Schreiben selbst. Substack k\xFCmmert sich um alles andere.","es":"Dedique todo su tiempo y energ\xEDa a concentrarse en el trabajo que realmente importa: la escritura en s\xED. Substack se encarga de todo lo dem\xE1s.","fr":"Passez tout votre temps et votre \xE9nergie \xE0 vous concentrer sur le travail qui compte vraiment : l'\xE9criture elle-m\xEAme. Substack s'occupe de tout le reste.","it":"Trascorri tutto il tuo tempo e le tue energie concentrati sul lavoro che conta davvero: la scrittura stessa. Substack si occupa di tutto il resto.","pt":"Gaste todo o seu tempo e energia focado no trabalho que realmente importa: a escrita em si. Substack cuida de todo o resto."},"Own your work.":{"ca":"Ser propietari del teu treball.","de":"Besitze deine Arbeit.","es":"Sea due\xF1o de su trabajo.","fr":"Poss\xE9dez votre travail.","it":"Possiedi il tuo lavoro.","pt":"Seja dono do seu trabalho."},"On Substack, you own your content, your IP, and your mailing list \u2013 forever. You can leave and take it all with you at any time.":{"ca":"A Substack, sou el propietari del vostre contingut, de la vostra propietat intel\xB7lectual i de la vostra llista de correu, per sempre. Pots marxar i portar-ho tot amb tu en qualsevol moment.","de":"Auf Substack besitzen Sie Ihre Inhalte, Ihr geistiges Eigentum und Ihre Mailingliste \u2013 f\xFCr immer. Sie k\xF6nnen jederzeit alles verlassen und mitnehmen.","es":"En Substack, eres due\xF1o de tu contenido, tu propriedad intelectual y tu lista de correo, para siempre. Puedes irte y llev\xE1rtelo todo contigo en cualquier momento.","fr":"Sur Substack, vous \xEAtes propri\xE9taire de votre contenu, de votre propri\xE9t\xE9 intellectuelle et de votre liste de diffusion - pour toujours. Vous pouvez partir et tout emporter avec vous \xE0 tout moment.","it":"Su Substack, possiedi i tuoi contenuti, la tua propriet\xE0 intellecttuale e la tua mailing list, per sempre. Puoi partire e portare tutto con te in qualsiasi momento.","pt":"No Substack, voc\xEA possui seu conte\xFAdo, sua propriedade intelectual e sua lista de e-mails \u2013 para sempre. Voc\xEA pode sair e levar tudo com voc\xEA a qualquer momento."},"A media business in minutes.":{"ca":"Un negoci de mitjans en q\xFCesti\xF3 de minuts.","de":"Ein Mediengesch\xE4ft in wenigen Minuten.","es":"Un negocio de medios en cuesti\xF3n de minutos.","fr":"Une entreprise de m\xE9dias en quelques minutes.","it":"Un business dei media in pochi minuti.","pt":"Um neg\xF3cio de m\xEDdia em quest\xE3o de minutos."},"We make subscription publishing simple. Start your Substack at breakfast; start bringing in revenue by lunchtime.":{"ca":"Facilitem la publicaci\xF3 per subscripci\xF3. Comen\xE7a la teva Substack a l'esmorzar; comen\xE7a a generar ingressos a l'hora de dinar.","de":"Wir machen die Abonnementver\xF6ffentlichung einfach. Starten Sie Ihren Substack beim Fr\xFChst\xFCck; Beginnen Sie bis zur Mittagszeit damit, Einnahmen zu erzielen.","es":"Simplificamos la publicaci\xF3n por suscripci\xF3n. Comience su Substack en el desayuno; comience a generar ingresos a la hora del almuerzo.","fr":"Nous simplifions la publication par abonnement. Commencez votre Substack au petit-d\xE9jeuner; commencer \xE0 g\xE9n\xE9rer des revenus \xE0 l'heure du d\xE9jeuner.","it":"Semplifichiamo la pubblicazione degli abbonamenti. Inizia il tuo Substack a colazione; iniziare a guadagnare entro l'ora di pranzo.","pt":"Tornamos a publica\xE7\xE3o de assinatura simples. Comece seu Substack no caf\xE9 da manh\xE3; comece a gerar receita na hora do almo\xE7o."},"For the soon-to-be discovered and the already-well-known.":{"ca":"Pels propers a ser descoberts i els ja coneguts.","de":"F\xFCr Neuentdeckte und Altbekannte.","es":"Para los que pronto se descubrir\xE1n y los ya conocidos.","fr":"Pour ceux qui seront bient\xF4t d\xE9couverts et ceux qui sont d\xE9j\xE0 connus.","it":"Per chi \xE8 presto scoperto e per chi \xE8 gi\xE0 noto.","pt":"Para os que logo ser\xE3o descobertos e os j\xE1 conhecidos."},"Substack\u2019s simple product, business model, and creator-friendly terms has triggered an explosion of new creative work.":{"ca":"El producte senzill, el model de negoci i els termes senzills de Substack han provocat una explosi\xF3 de nous treballs creatius.","de":"Das einfache Produkt, das Gesch\xE4ftsmodell und die sch\xF6pferfreundlichen Bedingungen von Substack haben eine Explosion neuer kreativer Arbeiten ausgel\xF6st.","es":"El producto simple, el modelo comercial y los t\xE9rminos amigables para los creadores de Substack han desencadenado una explosi\xF3n de nuevos trabajos creativos.","fr":"Le produit simple, le mod\xE8le commercial et les termes conviviaux pour les cr\xE9ateurs de Substack ont d\xE9clench\xE9 une explosion de nouveaux travaux cr\xE9atifs.","it":"Il prodotto semplice, il modello di business e i termini adatti ai creatori di Substack hanno innescato un'esplosione di nuovo lavoro creativo.","pt":"O produto simples, o modelo de neg\xF3cios e os termos amig\xE1veis do criador da Substack desencadearam uma explos\xE3o de novos trabalhos criativos."},"Podcasting on Substack":{"ca":"Podcasting a Substack","de":"Podcasting auf Substack","es":"Podcasting en Substack","fr":"Podcasting sur Substack","it":"Podcasting su Substack","pt":"Podcasting no Substack"},"Pioneering subscription-backed audio":{"ca":"\xC0udio de subscripci\xF3 innovador","de":"Innovatives Abonnement-Audio","es":"Audio de suscripci\xF3n innovador","fr":"Audio d'abonnement novateur","it":"Audio in abbonamento innovativo","pt":"\xC1udio de assinatura inovador"},"Bloggers on Substack":{"ca":"Bloggers a Substack","de":"Blogger auf Substack","es":"Blogueros en Substack","fr":"Blogueurs sur Substack","it":"Blogger su Substack","pt":"Blogueiros no Substack"},"Transfer blogs to Substack & unlock subscriptions":{"ca":"Transfereix blogs a Substack i desbloqueja subscripcions","de":"\xDCbertragen Sie Blogs auf Substack und entsperren Sie Abonnements","es":"Transferir blogs a Substack y desbloquear suscripciones","fr":"Transf\xE9rer des blogs vers Substack et d\xE9bloquer des abonnements","it":"Trasferisci i blog in Substack e sblocca gli abbonamenti","pt":"Transfira blogs para Substack e desbloqueie assinaturas"},"Investing and business writing":{"ca":"Escriptura sobre inversions i negocis","de":"Schreiben \xFCber Investitionen und Unternehmen","es":"Escritura de inversiones y negocios","fr":"\xC9criture sur l'investissement et les affaires","it":"Scrittura di investimenti e affari","pt":"Escrita sobre investimentos e neg\xF3cios"},"An obvious match for the subscription model":{"ca":"Una coincid\xE8ncia evident per al model de subscripci\xF3","de":"Eine offensichtliche \xDCbereinstimmung f\xFCr das Abonnementmodell","es":"Una combinaci\xF3n obvia para el modelo de suscripci\xF3n","fr":"Une correspondance \xE9vidente pour le mod\xE8le d'abonnement","it":"Una corrispondenza ovvia per il modello di abbonamento","pt":"Uma correspond\xEAncia \xF3bvia para o modelo de assinatura"},"Comic books":{"ca":"Els c\xF2mics","de":"Die Comics","es":"Los c\xF3mics","fr":"Les bandes dessin\xE9es","it":"I fumetti","pt":"Os quadrinhos"},"Join the world\u2019s best comic book creators":{"ca":"Uneix-te als millors creadors de c\xF2mics del m\xF3n","de":"Schlie\xDFen Sie sich den weltbesten Comic-Autoren an","es":"\xDAnete a los mejores creadores de c\xF3mics del mundo.","fr":"Rejoignez les meilleurs cr\xE9ateurs de bandes dessin\xE9es au monde","it":"Unisciti ai migliori creatori di fumetti del mondo","pt":"Junte-se aos melhores criadores de quadrinhos do mundo"},"Local news reporting":{"ca":"Not\xEDcies locals","de":"Lokale Nachrichtenberichterstattung","es":"Informes de noticias locales","fr":"Reportage sur l'actualit\xE9 locale","it":"Segnalazione di notizie locali","pt":"Relat\xF3rio de not\xEDcias locais"},"A sustainable model for local journalism":{"ca":"Un model sostenible per al periodisme local","de":"Ein nachhaltiges Modell f\xFCr Lokaljournalismus","es":"Un modelo sostenible para el periodismo local","fr":"Un mod\xE8le durable pour le journalisme local","it":"Un modello sostenibile per il giornalismo locale","pt":"Um modelo sustent\xE1vel para o jornalismo local"},"Food writing":{"ca":"Escriptura d'aliments","de":"Schreiben \xFCber Essen","es":"Escritura de comida","fr":"\xC9criture culinaire","it":"Scrittura di cibo","pt":"Escrita de comida"},"Food publishing made simple":{"ca":"Publicaci\xF3 culin\xE0ria simplificada","de":"Kulinarisches Publishing leicht gemacht","es":"Publicaci\xF3n culinaria simplificada","fr":"L'\xE9dition culinaire simplifi\xE9e","it":"L'editoria culinaria resa semplice","pt":"Publica\xE7\xE3o culin\xE1ria simplificada"},"Join the new wave of writers and creators.":{"ca":"Uneix-te a la nova onada d'escriptors i creadors.","de":"Schlie\xDFen Sie sich der neuen Welle von Autoren und Sch\xF6pfern an.","es":"\xDAnete a la nueva ola de escritores y creadores.","fr":"Rejoignez la nouvelle vague d'\xE9crivains et de cr\xE9ateurs.","it":"Unisciti alla nuova ondata di scrittori e creatori.","pt":"Junte-se \xE0 nova onda de escritores e criadores."},"Estimate what you could make on Substack":{"ca":"Estima el que pots guanyar a Substack","de":"Sch\xE4tzen Sie, was Sie auf Substack verdienen k\xF6nnten","es":"Estima lo que podr\xEDas ganar en Substack","fr":"Estimez ce que vous pourriez gagner sur Substack","it":"Stima cosa potresti guadagnare su Substack","pt":"Estime o que voc\xEA pode ganhar no Substack"},"Earnings estimate calculated for \${0} paid subscribers, priced \${1}/month. It is net of Substack and credit card fees. Actual subscriber counts and earnings may vary.":{"ca":"Guanys estimats calculats per a \${0} subscriptors de pagament, amb preu \${1}/mes. Est\xE0 net de les comissions de Substack i targetes de cr\xE8dit. El nombre real de subscriptors i els guanys poden variar.","de":"Gesch\xE4tzte Einnahmen berechnet f\xFCr \${0} zahlende Abonnenten mit Preis \${1}/Monat. Es versteht sich ohne Substack- und Kreditkartengeb\xFChren. Die tats\xE4chlichen Abonnentenzahlen und Einnahmen k\xF6nnen variieren.","es":"Estimaci\xF3n de ganancias calculada para \${0} suscriptores pagos, precio \${1}/mes. Es neto de tarifas de Substack y de tarjeta de cr\xE9dito. Los recuentos reales de suscriptores y las ganancias pueden variar.","fr":"Estimation des revenus calcul\xE9e pour \${0} abonn\xE9s payants, prix \${1} / mois. Il est net des frais de Substack et de carte de cr\xE9dit. Le nombre r\xE9el d'abonn\xE9s et les revenus peuvent varier.","it":"Guadagno stimato calcolato per \${0} abbonati pagati, con prezzo \${1}/mese. \xC8 al netto delle commissioni Substack e delle carte di credito. I conteggi e le entrate effettivi degli abbonati possono variare.","pt":"Estimativa de ganhos calculada para \${0} assinantes pagos, com pre\xE7o \${1}/m\xEAs. \xC9 l\xEDquido de taxas do Substack e de cart\xE3o de cr\xE9dito. As contagens reais de assinantes e os ganhos podem variar."},"How many subscribers could I get?":{"ca":"Quants subscriptors podria aconseguir?","de":"Wie viele Abonnenten k\xF6nnte ich gewinnen?","es":"\xBFCu\xE1ntos suscriptores podr\xEDa conseguir?","fr":"Combien d'abonn\xE9s puis-je obtenir?","it":"Quanti iscritti potrei ottenere?","pt":"Quantos inscritos eu poderia obter?"},"It depends on how many people find value in what you\u2019re making. If you have a highly engaged email list, aim for 10% to become paid subscribers over time.":{"ca":"Dep\xE8n de quantes persones troben valor en el que est\xE0s fent. Si teniu una llista de correu electr\xF2nic molt compromesa, apunteu que el 10% es converteixin en subscriptors de pagament al llarg del temps.","de":"Es h\xE4ngt davon ab, wie viele Menschen das, was Sie machen, wertsch\xE4tzen. Wenn Sie eine sehr engagierte E-Mail-Liste haben, streben Sie an, dass 10 % im Laufe der Zeit zahlende Abonnenten werden.","es":"Depende de cu\xE1ntas personas encuentren valor en lo que est\xE1s haciendo. Si tiene una lista de correo electr\xF3nico altamente comprometida, apunte a que el 10% se convierta en suscriptores pagos con el tiempo.","fr":"Cela d\xE9pend du nombre de personnes qui trouvent de la valeur dans ce que vous faites. Si vous avez une liste de diffusion tr\xE8s engag\xE9e, visez 10 % pour devenir des abonn\xE9s payants au fil du temps.","it":"Dipende da quante persone trovano valore in ci\xF2 che stai facendo. Se disponi di una lista e-mail molto coinvolta, punta al 10% per diventare abbonati a pagamento nel tempo.","pt":"Depende de quantas pessoas encontram valor no que voc\xEA est\xE1 fazendo. Se voc\xEA tem uma lista de e-mail altamente engajada, procure 10% para se tornar assinante pago ao longo do tempo."},"How much could I charge?":{"ca":"Quant podria cobrar?","de":"Wie viel k\xF6nnte ich verlangen?","es":"\xBFCu\xE1nto podr\xEDa cobrar?","fr":"Combien pourrais-je facturer?","it":"Quanto potrei addebitare?","pt":"Quanto eu poderia cobrar?"},"Usually more than you think! In general, for personal interest, try $5 to $10 per month. For professional interest, you can often go substantially higher.":{"ca":"Normalment m\xE9s del que penses! En general, per inter\xE8s personal, proveu de 5 a 10\u20AC al mes. Per inter\xE8s professional, sovint podeu anar molt m\xE9s alt.","de":"Meist mehr als Sie denken! Versuchen Sie es im Allgemeinen aus pers\xF6nlichem Interesse mit 5 bis 10 \u20AC pro Monat. Bei beruflichem Interesse kann man oft deutlich h\xF6her gehen.","es":"\xA1Por lo general, m\xE1s de lo que piensas! En general, por inter\xE9s personal, prueba de 5 a 10 \u20AC al mes. Por inter\xE9s profesional, a menudo puede ir mucho m\xE1s alto.","fr":"G\xE9n\xE9ralement plus que vous ne le pensez ! En g\xE9n\xE9ral, par int\xE9r\xEAt personnel, essayez 5 \xE0 10 \u20AC par mois. Pour un int\xE9r\xEAt professionnel, vous pouvez souvent aller beaucoup plus haut.","it":"Di solito pi\xF9 di quanto pensi! In generale, per interesse personale, prova da \u20AC 5 a \u20AC 10 al mese. Per interesse professionale, puoi spesso andare molto pi\xF9 in alto.","pt":"Geralmente mais do que voc\xEA pensa! Em geral, por interesse pessoal, tente de 25 a 50 R$ por m\xEAs. Por interesse profissional, muitas vezes voc\xEA pode ir substancialmente mais alto."},"See some real-world examples":{"ca":"Mireu alguns exemples concrets","de":"Schauen Sie sich einige konkrete Beispiele an","es":"Mira algunos ejemplos concretos","fr":"Regardez quelques exemples concrets","it":"Guarda alcuni esempi concreti","pt":"Veja alguns exemplos concretos"},"Writers keep 90% of their revenue minus credit card fees.":{"ca":"Els escriptors es conserven el 90% dels seus ingressos menys les tarifes de la targeta de cr\xE8dit.","de":"Autoren behalten 90 % ihrer Einnahmen abz\xFCglich Kreditkartengeb\xFChren.","es":"Los escritores se quedan con el 90% de sus ingresos menos las tarifas de las tarjetas de cr\xE9dito.","fr":"Les auteurs conservent 90 % de leurs revenus moins les frais de carte de cr\xE9dit.","it":"Gli scrittori trattengono il 90% delle loro entrate meno le commissioni sulle carte di credito.","pt":"Os escritores mant\xEAm 90% de sua receita menos as taxas de cart\xE3o de cr\xE9dito."},"Listen now":{"ca":"Escolta ara","de":"Jetzt anh\xF6ren","es":"Escucha ahora","fr":"\xC9coutez maintenant","it":"Ascolta ora","pt":"Ou\xE7a agora"},"Watch now":{"ca":"Veure ara","de":"Jetzt ansehen","es":"Ver ahora","fr":"Regardez maintenant","it":"Guarda ora","pt":"Assista agora"}}`)},function(k,n){var t=1e3,e=t*60,a=e*60,o=a*24,l=o*7,d=o*365.25;k.exports=function(p,g){g=g||{};var O=typeof p;if(O==="string"&&p.length>0)return c(p);if(O==="number"&&isFinite(p))return g.long?f(p):u(p);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(p))};function c(p){if(p=String(p),!(p.length>100)){var g=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(p);if(!!g){var O=parseFloat(g[1]),s=(g[2]||"ms").toLowerCase();switch(s){case"years":case"year":case"yrs":case"yr":case"y":return O*d;case"weeks":case"week":case"w":return O*l;case"days":case"day":case"d":return O*o;case"hours":case"hour":case"hrs":case"hr":case"h":return O*a;case"minutes":case"minute":case"mins":case"min":case"m":return O*e;case"seconds":case"second":case"secs":case"sec":case"s":return O*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return O;default:return}}}}function u(p){var g=Math.abs(p);return g>=o?Math.round(p/o)+"d":g>=a?Math.round(p/a)+"h":g>=e?Math.round(p/e)+"m":g>=t?Math.round(p/t)+"s":p+"ms"}function f(p){var g=Math.abs(p);return g>=o?m(p,g,o,"day"):g>=a?m(p,g,a,"hour"):g>=e?m(p,g,e,"minute"):g>=t?m(p,g,t,"second"):p+" ms"}function m(p,g,O,s){var r=g>=O*1.5;return Math.round(p/O)+" "+s+(r?"s":"")}},function(k,n,t){(function(e,a){k.exports=a()})(this,function(){"use strict";return function(e,a,o){var l=a.prototype,d=l.format;o.en.ordinal=function(c){var u=["th","st","nd","rd"],f=c%100;return"["+c+(u[(f-20)%10]||u[f]||u[0])+"]"},l.format=function(c){var u=this,f=this.$locale(),m=this.$utils(),p=(c||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(g){switch(g){case"Q":return Math.ceil((u.$M+1)/3);case"Do":return f.ordinal(u.$D);case"gggg":return u.weekYear();case"GGGG":return u.isoWeekYear();case"wo":return f.ordinal(u.week(),"W");case"w":case"ww":return m.s(u.week(),g==="w"?1:2,"0");case"W":case"WW":return m.s(u.isoWeek(),g==="W"?1:2,"0");case"k":case"kk":return m.s(String(u.$H===0?24:u.$H),g==="k"?1:2,"0");case"X":return Math.floor(u.$d.getTime()/1e3);case"x":return u.$d.getTime();case"z":return"["+u.offsetName()+"]";case"zzz":return"["+u.offsetName("long")+"]";default:return g}});return d.bind(this)(p)}}})},function(k,n,t){(function(e,a){k.exports=a()})(this,function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},a=function(r,i){return r.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(h,v,j){var y=j&&j.toUpperCase();return v||i[j]||e[j]||i[y].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(b,E,P){return E||P.slice(1)})})},o=/(\[[^[]*\])|([-:/.()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,l=/\d\d/,d=/\d\d?/,c=/\d*[^\s\d-_:/()]+/,u={},f=function(r){return function(i){this[r]=+i}},m=[/[+-]\d\d:?(\d\d)?/,function(r){(this.zone||(this.zone={})).offset=function(i){if(!i)return 0;var h=i.match(/([+-]|\d\d)/g),v=60*h[1]+(+h[2]||0);return v===0?0:h[0]==="+"?-v:v}(r)}],p=function(r){var i=u[r];return i&&(i.indexOf?i:i.s.concat(i.f))},g=function(r,i){var h,v=u.meridiem;if(v){for(var j=1;j<=24;j+=1)if(r.indexOf(v(j,0,i))>-1){h=j>12;break}}else h=r===(i?"pm":"PM");return h},O={A:[c,function(r){this.afternoon=g(r,!1)}],a:[c,function(r){this.afternoon=g(r,!0)}],S:[/\d/,function(r){this.milliseconds=100*+r}],SS:[l,function(r){this.milliseconds=10*+r}],SSS:[/\d{3}/,function(r){this.milliseconds=+r}],s:[d,f("seconds")],ss:[d,f("seconds")],m:[d,f("minutes")],mm:[d,f("minutes")],H:[d,f("hours")],h:[d,f("hours")],HH:[d,f("hours")],hh:[d,f("hours")],D:[d,f("day")],DD:[l,f("day")],Do:[c,function(r){var i=u.ordinal,h=r.match(/\d+/);if(this.day=h[0],i)for(var v=1;v<=31;v+=1)i(v).replace(/\[|\]/g,"")===r&&(this.day=v)}],M:[d,f("month")],MM:[l,f("month")],MMM:[c,function(r){var i=p("months"),h=(p("monthsShort")||i.map(function(v){return v.substr(0,3)})).indexOf(r)+1;if(h<1)throw new Error;this.month=h%12||h}],MMMM:[c,function(r){var i=p("months").indexOf(r)+1;if(i<1)throw new Error;this.month=i%12||i}],Y:[/[+-]?\d+/,f("year")],YY:[l,function(r){r=+r,this.year=r+(r>68?1900:2e3)}],YYYY:[/\d{4}/,f("year")],Z:m,ZZ:m},s=function(r,i,h){try{var v=function(V){for(var K=(V=a(V,u&&u.formats)).match(o),Y=K.length,W=0;W<Y;W+=1){var R=K[W],B=O[R],x=B&&B[0],G=B&&B[1];K[W]=G?{regex:x,parser:G}:R.replace(/^\[|\]$/g,"")}return function(Q){for(var he={},Z=0,le=0;Z<Y;Z+=1){var de=K[Z];if(typeof de=="string")le+=de.length;else{var be=de.regex,X=de.parser,ie=Q.substr(le),Ce=be.exec(ie)[0];X.call(he,Ce),Q=Q.replace(Ce,"")}}return function(Le){var Ae=Le.afternoon;if(Ae!==void 0){var Pe=Le.hours;Ae?Pe<12&&(Le.hours+=12):Pe===12&&(Le.hours=0),delete Le.afternoon}}(he),he}}(i)(r),j=v.year,y=v.month,b=v.day,E=v.hours,P=v.minutes,A=v.seconds,_=v.milliseconds,M=v.zone,F=new Date,H=b||(j||y?1:F.getDate()),C=j||F.getFullYear(),T=0;j&&!y||(T=y>0?y-1:F.getMonth());var S=E||0,D=P||0,w=A||0,U=_||0;return M?new Date(Date.UTC(C,T,H,S,D,w,U+60*M.offset*1e3)):h?new Date(Date.UTC(C,T,H,S,D,w,U)):new Date(C,T,H,S,D,w,U)}catch(V){return new Date("")}};return function(r,i,h){h.p.customParseFormat=!0;var v=i.prototype,j=v.parse;v.parse=function(y){var b=y.date,E=y.utc,P=y.args;this.$u=E;var A=P[1];if(typeof A=="string"){var _=P[2]===!0,M=P[3]===!0,F=_||M,H=P[2];M&&(H=P[2]),u=this.$locale(),!_&&H&&(u=h.Ls[H]),this.$d=s(b,A,E),this.init(),H&&H!==!0&&(this.$L=this.locale(H).$L),F&&b!==this.format(A)&&(this.$d=new Date("")),u={}}else if(A instanceof Array)for(var C=A.length,T=1;T<=C;T+=1){P[1]=A[T-1];var S=h.apply(this,P);if(S.isValid()){this.$d=S.$d,this.$L=S.$L,this.init();break}T===C&&(this.$d=new Date(""))}else j.call(this,y)}}})},function(k,n,t){(function(e,a){k.exports=a()})(this,function(){"use strict";return function(e,a){a.prototype.dayOfYear=function(o){var l=Math.round((this.startOf("day")-this.startOf("year"))/864e5)+1;return o==null?l:this.add(o-l,"day")}}})},function(k,n,t){(function(e,a){k.exports=a()})(this,function(){"use strict";var e,a,o=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,l=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,d={years:31536e6,months:2592e6,days:864e5,hours:36e5,minutes:6e4,seconds:1e3,milliseconds:1,weeks:6048e5},c=function(s){return s instanceof O},u=function(s,r,i){return new O(s,i,r.$l)},f=function(s){return a.p(s)+"s"},m=function(s){return s<0},p=function(s){return m(s)?Math.ceil(s):Math.floor(s)},g=function(s,r){return s?m(s)?{negative:!0,format:""+function(i){return Math.abs(i)}(s)+r}:{negative:!1,format:""+s+r}:{negative:!1,format:""}},O=function(){function s(i,h,v){var j=this;if(this.$d={},this.$l=v,h)return u(i*d[f(h)],this);if(typeof i=="number")return this.$ms=i,this.parseFromMilliseconds(),this;if(typeof i=="object")return Object.keys(i).forEach(function(b){j.$d[f(b)]=i[b]}),this.calMilliseconds(),this;if(typeof i=="string"){var y=i.match(l);if(y)return this.$d.years=y[2],this.$d.months=y[3],this.$d.weeks=y[4],this.$d.days=y[5],this.$d.hours=y[6],this.$d.minutes=y[7],this.$d.seconds=y[8],this.calMilliseconds(),this}return this}var r=s.prototype;return r.calMilliseconds=function(){var i=this;this.$ms=Object.keys(this.$d).reduce(function(h,v){return h+(i.$d[v]||0)*d[v]},0)},r.parseFromMilliseconds=function(){var i=this.$ms;this.$d.years=p(i/31536e6),i%=31536e6,this.$d.months=p(i/2592e6),i%=2592e6,this.$d.days=p(i/864e5),i%=864e5,this.$d.hours=p(i/36e5),i%=36e5,this.$d.minutes=p(i/6e4),i%=6e4,this.$d.seconds=p(i/1e3),i%=1e3,this.$d.milliseconds=i},r.toISOString=function(){var i=g(this.$d.years,"Y"),h=g(this.$d.months,"M"),v=+this.$d.days||0;this.$d.weeks&&(v+=7*this.$d.weeks);var j=g(v,"D"),y=g(this.$d.hours,"H"),b=g(this.$d.minutes,"M"),E=this.$d.seconds||0;this.$d.milliseconds&&(E+=this.$d.milliseconds/1e3);var P=g(E,"S"),A=i.negative||h.negative||j.negative||y.negative||b.negative||P.negative,_=y.format||b.format||P.format?"T":"",M=(A?"-":"")+"P"+i.format+h.format+j.format+_+y.format+b.format+P.format;return M==="P"||M==="-P"?"P0D":M},r.toJSON=function(){return this.toISOString()},r.format=function(i){var h=i||"YYYY-MM-DDTHH:mm:ss",v={Y:this.$d.years,YY:a.s(this.$d.years,2,"0"),YYYY:a.s(this.$d.years,4,"0"),M:this.$d.months,MM:a.s(this.$d.months,2,"0"),D:this.$d.days,DD:a.s(this.$d.days,2,"0"),H:this.$d.hours,HH:a.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:a.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:a.s(this.$d.seconds,2,"0"),SSS:a.s(this.$d.milliseconds,3,"0")};return h.replace(o,function(j,y){return y||String(v[j])})},r.as=function(i){return this.$ms/d[f(i)]},r.get=function(i){var h=this.$ms,v=f(i);return v==="milliseconds"?h%=1e3:h=v==="weeks"?p(h/d[v]):this.$d[v],h===0?0:h},r.add=function(i,h,v){var j;return j=h?i*d[f(h)]:c(i)?i.$ms:u(i,this).$ms,u(this.$ms+j*(v?-1:1),this)},r.subtract=function(i,h){return this.add(i,h,!0)},r.locale=function(i){var h=this.clone();return h.$l=i,h},r.clone=function(){return u(this.$ms,this)},r.humanize=function(i){return e().add(this.$ms,"ms").locale(this.$l).fromNow(!i)},r.milliseconds=function(){return this.get("milliseconds")},r.asMilliseconds=function(){return this.as("milliseconds")},r.seconds=function(){return this.get("seconds")},r.asSeconds=function(){return this.as("seconds")},r.minutes=function(){return this.get("minutes")},r.asMinutes=function(){return this.as("minutes")},r.hours=function(){return this.get("hours")},r.asHours=function(){return this.as("hours")},r.days=function(){return this.get("days")},r.asDays=function(){return this.as("days")},r.weeks=function(){return this.get("weeks")},r.asWeeks=function(){return this.as("weeks")},r.months=function(){return this.get("months")},r.asMonths=function(){return this.as("months")},r.years=function(){return this.get("years")},r.asYears=function(){return this.as("years")},s}();return function(s,r,i){e=i,a=i().$utils(),i.duration=function(j,y){var b=i.locale();return u(j,{$l:b},y)},i.isDuration=c;var h=r.prototype.add,v=r.prototype.subtract;r.prototype.add=function(j,y){return c(j)&&(j=j.asMilliseconds()),h.bind(this)(j,y)},r.prototype.subtract=function(j,y){return c(j)&&(j=j.asMilliseconds()),v.bind(this)(j,y)}}})},function(k,n,t){(function(e,a){k.exports=a()})(this,function(){"use strict";return function(e,a,o){a.prototype.isBetween=function(l,d,c,u){var f=o(l),m=o(d),p=(u=u||"()")[0]==="(",g=u[1]===")";return(p?this.isAfter(f,c):!this.isBefore(f,c))&&(g?this.isBefore(m,c):!this.isAfter(m,c))||(p?this.isBefore(f,c):!this.isAfter(f,c))&&(g?this.isAfter(m,c):!this.isBefore(m,c))}}})},function(k,n,t){(function(e,a){k.exports=a()})(this,function(){"use strict";return function(e,a){a.prototype.isSameOrAfter=function(o,l){return this.isSame(o,l)||this.isAfter(o,l)}}})},function(k,n,t){(function(e,a){k.exports=a()})(this,function(){"use strict";return function(e,a){a.prototype.isSameOrBefore=function(o,l){return this.isSame(o,l)||this.isBefore(o,l)}}})},function(k,n,t){(function(e,a){k.exports=a()})(this,function(){"use strict";var e="month",a="quarter";return function(o,l){var d=l.prototype;d.quarter=function(f){return this.$utils().u(f)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(f-1))};var c=d.add;d.add=function(f,m){return f=Number(f),this.$utils().p(m)===a?this.add(3*f,e):c.bind(this)(f,m)};var u=d.startOf;d.startOf=function(f,m){var p=this.$utils(),g=!!p.u(m)||m;if(p.p(f)===a){var O=this.quarter()-1;return g?this.month(3*O).startOf(e).startOf("day"):this.month(3*O+2).endOf(e).endOf("day")}return u.bind(this)(f,m)}}})},function(k,n,t){(function(e,a){k.exports=a()})(this,function(){"use strict";return function(e,a,o){e=e||{};var l=a.prototype,d={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function c(f,m,p,g){return l.fromToBase(f,m,p,g)}o.en.relativeTime=d,l.fromToBase=function(f,m,p,g,O){for(var s,r,i,h=p.$locale().relativeTime||d,v=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],j=v.length,y=0;y<j;y+=1){var b=v[y];b.d&&(s=g?o(f).diff(p,b.d,!0):p.diff(f,b.d,!0));var E=(e.rounding||Math.round)(Math.abs(s));if(i=s>0,E<=b.r||!b.r){E<=1&&y>0&&(b=v[y-1]);var P=h[b.l];O&&(E=O(""+E)),r=typeof P=="string"?P.replace("%d",E):P(E,m,b.l,i);break}}if(m)return r;var A=i?h.future:h.past;return typeof A=="function"?A(r):A.replace("%s",r)},l.to=function(f,m){return c(f,m,this,!0)},l.from=function(f,m){return c(f,m,this)};var u=function(f){return f.$u?o.utc():o()};l.toNow=function(f){return this.to(u(this),f)},l.fromNow=function(f){return this.from(u(this),f)}}})},function(k,n,t){(function(e,a){k.exports=a()})(this,function(){"use strict";return function(e,a,o){var l=a.prototype;o.utc=function(g){return new a({date:g,utc:!0,args:arguments})},l.utc=function(g){var O=o(this.toDate(),{locale:this.$L,utc:!0});return g?O.add(this.utcOffset(),"minute"):O},l.local=function(){return o(this.toDate(),{locale:this.$L,utc:!1})};var d=l.parse;l.parse=function(g){g.utc&&(this.$u=!0),this.$utils().u(g.$offset)||(this.$offset=g.$offset),d.call(this,g)};var c=l.init;l.init=function(){if(this.$u){var g=this.$d;this.$y=g.getUTCFullYear(),this.$M=g.getUTCMonth(),this.$D=g.getUTCDate(),this.$W=g.getUTCDay(),this.$H=g.getUTCHours(),this.$m=g.getUTCMinutes(),this.$s=g.getUTCSeconds(),this.$ms=g.getUTCMilliseconds()}else c.call(this)};var u=l.utcOffset;l.utcOffset=function(g,O){var s=this.$utils().u;if(s(g))return this.$u?0:s(this.$offset)?u.call(this):this.$offset;var r=Math.abs(g)<=16?60*g:g,i=this;if(O)return i.$offset=r,i.$u=g===0,i;if(g!==0){var h=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(i=this.local().add(r+h,"minute")).$offset=r,i.$x.$localOffset=h}else i=this.utc();return i};var f=l.format;l.format=function(g){var O=g||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return f.call(this,O)},l.valueOf=function(){var g=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||new Date().getTimezoneOffset());return this.$d.valueOf()-6e4*g},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var m=l.toDate;l.toDate=function(g){return g==="s"&&this.$offset?o(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():m.call(this)};var p=l.diff;l.diff=function(g,O,s){if(g&&this.$u===g.$u)return p.call(this,g,O,s);var r=this.local(),i=o(g).local();return p.call(r,i,O,s)}}})},function(k,n,t){(function(e,a){k.exports=a()})(this,function(){"use strict";var e="week",a="year";return function(o,l,d){var c=l.prototype;c.week=function(u){if(u===void 0&&(u=null),u!==null)return this.add(7*(u-this.week()),"day");var f=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var m=d(this).startOf(a).add(1,a).date(f),p=d(this).endOf(e);if(m.isBefore(p))return 1}var g=d(this).startOf(a).date(f).startOf(e).subtract(1,"millisecond"),O=this.diff(g,e,!0);return O<0?d(this).startOf("week").week():Math.ceil(O)},c.weeks=function(u){return u===void 0&&(u=null),this.week(u)}}})},function(k,n,t){(function(e,a){k.exports=a()})(this,function(){"use strict";var e={year:0,month:1,day:2,hour:3,minute:4,second:5},a={};return function(o,l,d){var c,u=d().utcOffset(),f=function(O,s,r){r===void 0&&(r={});var i=new Date(O);return function(h,v){v===void 0&&(v={});var j=v.timeZoneName||"short",y=h+"|"+j,b=a[y];return b||(b=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:h,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:j}),a[y]=b),b}(s,r).formatToParts(i)},m=function(O,s){for(var r=f(O,s),i=[],h=0;h<r.length;h+=1){var v=r[h],j=v.type,y=v.value,b=e[j];b>=0&&(i[b]=parseInt(y,10))}var E=i[3],P=E===24?0:E,A=i[0]+"-"+i[1]+"-"+i[2]+" "+P+":"+i[4]+":"+i[5]+":000",_=+O;return(d.utc(A).valueOf()-(_-=_%1e3))/6e4},p=l.prototype;p.tz=function(O,s){O===void 0&&(O=c);var r=this.utcOffset(),i=this.toDate().toLocaleString("en-US",{timeZone:O}),h=Math.round((this.toDate()-new Date(i))/1e3/60),v=d(i).$set("millisecond",this.$ms).utcOffset(u-h,!0);if(s){var j=v.utcOffset();v=v.add(r-j,"minute")}return v.$x.$timezone=O,v},p.offsetName=function(O){var s=this.$x.$timezone||d.tz.guess(),r=f(this.valueOf(),s,{timeZoneName:O}).find(function(i){return i.type.toLowerCase()==="timezonename"});return r&&r.value};var g=p.startOf;p.startOf=function(O,s){if(!this.$x||!this.$x.$timezone)return g.call(this,O,s);var r=d(this.format("YYYY-MM-DD HH:mm:ss:SSS"));return g.call(r,O,s).tz(this.$x.$timezone,!0)},d.tz=function(O,s,r){var i=r&&s,h=r||s||c,v=m(+d(),h);if(typeof O!="string")return d(O).tz(h);var j=function(P,A,_){var M=P-60*A*1e3,F=m(M,_);if(A===F)return[M,A];var H=m(M-=60*(F-A)*1e3,_);return F===H?[M,F]:[P-60*Math.min(F,H)*1e3,Math.max(F,H)]}(d.utc(O,i).valueOf(),v,h),y=j[0],b=j[1],E=d(y).utcOffset(b);return E.$x.$timezone=h,E},d.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},d.tz.setDefault=function(O){c=O}}})},function(k,n,t){(function(e,a){k.exports=a()})(this,function(){"use strict";return function(e,a,o){var l="h:mm A",d={lastDay:"[Yesterday at] "+l,sameDay:"[Today at] "+l,nextDay:"[Tomorrow at] "+l,nextWeek:"dddd [at] "+l,lastWeek:"[Last] dddd [at] "+l,sameElse:"MM/DD/YYYY"};a.prototype.calendar=function(c,u){var f=u||this.$locale().calendar||d,m=o(c||void 0).startOf("d"),p=this.diff(m,"d",!0),g=p<-6?"sameElse":p<-1?"lastWeek":p<0?"lastDay":p<1?"sameDay":p<2?"nextDay":p<7?"nextWeek":"sameElse",O=f[g]||d[g];return typeof O=="function"?O.call(this,o()):this.format(O)}}})},function(k,n,t){(function(e,a){k.exports=a()})(this,function(){"use strict";return function(e,a){a.prototype.weekday=function(o){var l=this.$locale().weekStart||0,d=this.$W,c=(d<l?d+7:d)-l;return this.$utils().u(o)?c:this.subtract(c,"day").add(o,"day")}}})},function(k,n,t){(function(e,a){k.exports=a()})(this,function(){"use strict";return function(e,a,o){var l=a.prototype,d=l.parse;l.parse=function(c){c.date=function(u){var f=u.date,m=u.utc;return Array.isArray(f)?m?f.length?new Date(Date.UTC.apply(null,f)):new Date:f.length===1?o(String(f[0])).toDate():new(Function.prototype.bind.apply(Date,[null].concat(f))):f}.bind(this)(c),d.bind(this)(c)}}})},function(k,n){k.exports=class{constructor(){this.callbacks={}}listenerCount(e){return(this.callbacks[e]||[]).length}on(e,a,o=!1){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push([a,o]),this}once(e,a){return this.on(e,a,!0)}off(e,a){!this.callbacks[e]||(this.callbacks[e]=this.callbacks[e].filter(o=>o[0]!==a))}emit(e,a){const o=this.callbacks[e];if(!!o){for(const[l,d]of o)if(d&&this.off(e,l),l(a)===!1)return!1;return!0}}}},function(k,n,t){"use strict";t.r(n),t.d(n,"MINIMUM_CURRENCY_SPECIFIC_RATES",function(){return o}),t.d(n,"DEFAULT_MINIMUM_RATES",function(){return l}),t.d(n,"MAX_MONTHLY_RATE",function(){return d}),t.d(n,"MAX_YEARLY_RATE",function(){return c}),t.d(n,"validatePledgePrices",function(){return u}),t.d(n,"currencyFormattedPledgePriceString",function(){return f});var e=t(10),a=t.n(e);const o={gbp:{month:3.5,year:20,founding:20},inr:{month:50,year:300,founding:300}},l={month:5,year:50,founding:50},d=100,c=1e3,u=m=>{const{value:p,interval:g,is_founding:O,currency:s}=m,r=(o[s.toLowerCase()]||l)[O?"founding":g],i=g==="month"?d:c;return p<r?`${Object(e.toTitleCase)(g)}ly plan price must be at least ${f(r,s)}`:p>i?`${Object(e.toTitleCase)(g)}ly${m.is_founding?" founding":""} plan price must be less than ${f(i,s)}`:null},f=(m,p)=>Object(e.centsToPriceString)(m*(Object(e.isZeroDecimalCurrency)(p)?1:100),p)},function(k,n,t){"use strict";var e=t(0);function a(c,u){var f={};for(var m in c)u.indexOf(m)>=0||!Object.prototype.hasOwnProperty.call(c,m)||(f[m]=c[m]);return f}function o(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}function l(c,u){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:c}function d(c,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);c.prototype=Object.create(u&&u.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(c,u):c.__proto__=u)}k.exports=function(u,f,m){if(typeof u!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof f!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof m!="undefined"&&typeof m!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function p(O){return O.displayName||O.name||"Component"}return function(s){if(typeof s!="function")throw new Error("Expected WrappedComponent to be a React component.");var r=[],i=void 0;function h(){i=u(r.map(function(j){return j.props})),v.canUseDOM?f(i):m&&(i=m(i))}var v=function(j){d(y,j);function y(){return o(this,y),l(this,j.apply(this,arguments))}return y.peek=function(){return i},y.rewind=function(){if(y.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var E=i;return i=void 0,r=[],E},y.prototype.shouldComponentUpdate=function(E){var P=E.children,A=a(E,["children"]);return P&&P.length&&(A.children=P),g(A,this.props)},y.prototype.componentWillMount=function(){r.push(this),h()},y.prototype.componentDidUpdate=function(){h()},y.prototype.componentWillUnmount=function(){var E=r.indexOf(this);r.splice(E,1),h()},y.prototype.render=function(){return(0,e.h)(s,this.props)},y}(e.Component);return v.displayName="SideEffect("+p(s)+")",v.canUseDOM=!!(typeof window!="undefined"&&window.document&&window.document.createElement),v};function g(O,s){for(var r in O)if(!(r in s))return!0;for(var i in s)if(O[i]!==s[i])return!0;return!1}}},function(k,n,t){var e=Array.prototype.slice,a=t(626),o=t(627),l=k.exports=function(f,m,p){return p||(p={}),f===m?!0:f instanceof Date&&m instanceof Date?f.getTime()===m.getTime():!f||!m||typeof f!="object"&&typeof m!="object"?p.strict?f===m:f==m:u(f,m,p)};function d(f){return f==null}function c(f){return!(!f||typeof f!="object"||typeof f.length!="number"||typeof f.copy!="function"||typeof f.slice!="function"||f.length>0&&typeof f[0]!="number")}function u(f,m,p){var g,O;if(d(f)||d(m)||f.prototype!==m.prototype)return!1;if(o(f))return o(m)?(f=e.call(f),m=e.call(m),l(f,m,p)):!1;if(c(f)){if(!c(m)||f.length!==m.length)return!1;for(g=0;g<f.length;g++)if(f[g]!==m[g])return!1;return!0}try{var s=a(f),r=a(m)}catch(i){return!1}if(s.length!=r.length)return!1;for(s.sort(),r.sort(),g=s.length-1;g>=0;g--)if(s[g]!=r[g])return!1;for(g=s.length-1;g>=0;g--)if(O=s[g],!l(f[O],m[O],p))return!1;return typeof f==typeof m}},function(k,n){n=k.exports=typeof Object.keys=="function"?Object.keys:t,n.shim=t;function t(e){var a=[];for(var o in e)a.push(o);return a}},function(k,n){var t=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";n=k.exports=t?e:a,n.supported=e;function e(o){return Object.prototype.toString.call(o)=="[object Arguments]"}n.unsupported=a;function a(o){return o&&typeof o=="object"&&typeof o.length=="number"&&Object.prototype.hasOwnProperty.call(o,"callee")&&!Object.prototype.propertyIsEnumerable.call(o,"callee")||!1}},function(k,n,t){"use strict";/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var e=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function l(c){if(c==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(c)}function d(){try{if(!Object.assign)return!1;var c=new String("abc");if(c[5]="de",Object.getOwnPropertyNames(c)[0]==="5")return!1;for(var u={},f=0;f<10;f++)u["_"+String.fromCharCode(f)]=f;var m=Object.getOwnPropertyNames(u).map(function(g){return u[g]});if(m.join("")!=="0123456789")return!1;var p={};return"abcdefghijklmnopqrst".split("").forEach(function(g){p[g]=g}),Object.keys(Object.assign({},p)).join("")==="abcdefghijklmnopqrst"}catch(g){return!1}}k.exports=d()?Object.assign:function(c,u){for(var f,m=l(c),p,g=1;g<arguments.length;g++){f=Object(arguments[g]);for(var O in f)a.call(f,O)&&(m[O]=f[O]);if(e){p=e(f);for(var s=0;s<p.length;s++)o.call(f,p[s])&&(m[p[s]]=f[p[s]])}}return m}},function(k,n){n.__esModule=!0;var t=n.TAG_NAMES={HTML:"htmlAttributes",TITLE:"title",BASE:"base",META:"meta",LINK:"link",SCRIPT:"script",NOSCRIPT:"noscript",STYLE:"style"},e=n.TAG_PROPERTIES={NAME:"name",CHARSET:"charset",HTTPEQUIV:"http-equiv",REL:"rel",HREF:"href",PROPERTY:"property",SRC:"src",INNER_HTML:"innerHTML",CSS_TEXT:"cssText",ITEM_PROP:"itemprop"},a=n.PREACT_TAG_MAP={charset:"charSet","http-equiv":"httpEquiv",itemprop:"itemProp",class:"className"}},function(k,n,t){var e=t(631),a=t(673),o=t(417);function l(d){var c=a(d);return c.length==1&&c[0][2]?o(c[0][0],c[0][1]):function(u){return u===d||e(u,d,c)}}k.exports=l},function(k,n,t){var e=t(367),a=t(340),o=1,l=2;function d(c,u,f,m){var p=f.length,g=p,O=!m;if(c==null)return!g;for(c=Object(c);p--;){var s=f[p];if(O&&s[2]?s[1]!==c[s[0]]:!(s[0]in c))return!1}for(;++p<g;){s=f[p];var r=s[0],i=c[r],h=s[1];if(O&&s[2]){if(i===void 0&&!(r in c))return!1}else{var v=new e;if(m)var j=m(i,h,r,c,u,v);if(!(j===void 0?a(h,i,o|l,m,v):j))return!1}}return!0}k.exports=d},function(k,n){function t(){this.__data__=[],this.size=0}k.exports=t},function(k,n,t){var e=t(245),a=Array.prototype,o=a.splice;function l(d){var c=this.__data__,u=e(c,d);if(u<0)return!1;var f=c.length-1;return u==f?c.pop():o.call(c,u,1),--this.size,!0}k.exports=l},function(k,n,t){var e=t(245);function a(o){var l=this.__data__,d=e(l,o);return d<0?void 0:l[d][1]}k.exports=a},function(k,n,t){var e=t(245);function a(o){return e(this.__data__,o)>-1}k.exports=a},function(k,n,t){var e=t(245);function a(o,l){var d=this.__data__,c=e(d,o);return c<0?(++this.size,d.push([o,l])):d[c][1]=l,this}k.exports=a},function(k,n,t){var e=t(244);function a(){this.__data__=new e,this.size=0}k.exports=a},function(k,n){function t(e){var a=this.__data__,o=a.delete(e);return this.size=a.size,o}k.exports=t},function(k,n){function t(e){return this.__data__.get(e)}k.exports=t},function(k,n){function t(e){return this.__data__.has(e)}k.exports=t},function(k,n,t){var e=t(244),a=t(305),o=t(306),l=200;function d(c,u){var f=this.__data__;if(f instanceof e){var m=f.__data__;if(!a||m.length<l-1)return m.push([c,u]),this.size=++f.size,this;f=this.__data__=new o(m)}return f.set(c,u),this.size=f.size,this}k.exports=d},function(k,n,t){var e=t(381),a=t(645),o=t(146),l=t(414),d=/[\\^$.*+?()[\]{}|]/g,c=/^\[object .+?Constructor\]$/,u=Function.prototype,f=Object.prototype,m=u.toString,p=f.hasOwnProperty,g=RegExp("^"+m.call(p).replace(d,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function O(s){if(!o(s)||a(s))return!1;var r=e(s)?g:c;return r.test(l(s))}k.exports=O},function(k,n,t){var e=t(194),a=Object.prototype,o=a.hasOwnProperty,l=a.toString,d=e?e.toStringTag:void 0;function c(u){var f=o.call(u,d),m=u[d];try{u[d]=void 0;var p=!0}catch(O){}var g=l.call(u);return p&&(f?u[d]=m:delete u[d]),g}k.exports=c},function(k,n){var t=Object.prototype,e=t.toString;function a(o){return e.call(o)}k.exports=a},function(k,n,t){var e=t(646),a=function(){var l=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}();function o(l){return!!a&&a in l}k.exports=o},function(k,n,t){var e=t(108),a=e["__core-js_shared__"];k.exports=a},function(k,n){function t(e,a){return e==null?void 0:e[a]}k.exports=t},function(k,n,t){var e=t(649),a=t(244),o=t(305);function l(){this.size=0,this.__data__={hash:new e,map:new(o||a),string:new e}}k.exports=l},function(k,n,t){var e=t(650),a=t(651),o=t(652),l=t(653),d=t(654);function c(u){var f=-1,m=u==null?0:u.length;for(this.clear();++f<m;){var p=u[f];this.set(p[0],p[1])}}c.prototype.clear=e,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=l,c.prototype.set=d,k.exports=c},function(k,n,t){var e=t(246);function a(){this.__data__=e?e(null):{},this.size=0}k.exports=a},function(k,n){function t(e){var a=this.has(e)&&delete this.__data__[e];return this.size-=a?1:0,a}k.exports=t},function(k,n,t){var e=t(246),a="__lodash_hash_undefined__",o=Object.prototype,l=o.hasOwnProperty;function d(c){var u=this.__data__;if(e){var f=u[c];return f===a?void 0:f}return l.call(u,c)?u[c]:void 0}k.exports=d},function(k,n,t){var e=t(246),a=Object.prototype,o=a.hasOwnProperty;function l(d){var c=this.__data__;return e?c[d]!==void 0:o.call(c,d)}k.exports=l},function(k,n,t){var e=t(246),a="__lodash_hash_undefined__";function o(l,d){var c=this.__data__;return this.size+=this.has(l)?0:1,c[l]=e&&d===void 0?a:d,this}k.exports=o},function(k,n,t){var e=t(247);function a(o){var l=e(this,o).delete(o);return this.size-=l?1:0,l}k.exports=a},function(k,n){function t(e){var a=typeof e;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?e!=="__proto__":e===null}k.exports=t},function(k,n,t){var e=t(247);function a(o){return e(this,o).get(o)}k.exports=a},function(k,n,t){var e=t(247);function a(o){return e(this,o).has(o)}k.exports=a},function(k,n,t){var e=t(247);function a(o,l){var d=e(this,o),c=d.size;return d.set(o,l),this.size+=d.size==c?0:1,this}k.exports=a},function(k,n,t){var e=t(367),a=t(415),o=t(664),l=t(665),d=t(371),c=t(95),u=t(354),f=t(368),m=1,p="[object Arguments]",g="[object Array]",O="[object Object]",s=Object.prototype,r=s.hasOwnProperty;function i(h,v,j,y,b,E){var P=c(h),A=c(v),_=P?g:d(h),M=A?g:d(v);_=_==p?O:_,M=M==p?O:M;var F=_==O,H=M==O,C=_==M;if(C&&u(h)){if(!u(v))return!1;P=!0,F=!1}if(C&&!F)return E||(E=new e),P||f(h)?a(h,v,j,y,b,E):o(h,v,_,j,y,b,E);if(!(j&m)){var T=F&&r.call(h,"__wrapped__"),S=H&&r.call(v,"__wrapped__");if(T||S){var D=T?h.value():h,w=S?v.value():v;return E||(E=new e),b(D,w,j,y,E)}}return C?(E||(E=new e),l(h,v,j,y,b,E)):!1}k.exports=i},function(k,n){var t="__lodash_hash_undefined__";function e(a){return this.__data__.set(a,t),this}k.exports=e},function(k,n){function t(e){return this.__data__.has(e)}k.exports=t},function(k,n){function t(e,a){for(var o=-1,l=e==null?0:e.length;++o<l;)if(a(e[o],o,e))return!0;return!1}k.exports=t},function(k,n,t){var e=t(194),a=t(554),o=t(284),l=t(415),d=t(461),c=t(303),u=1,f=2,m="[object Boolean]",p="[object Date]",g="[object Error]",O="[object Map]",s="[object Number]",r="[object RegExp]",i="[object Set]",h="[object String]",v="[object Symbol]",j="[object ArrayBuffer]",y="[object DataView]",b=e?e.prototype:void 0,E=b?b.valueOf:void 0;function P(A,_,M,F,H,C,T){switch(M){case y:if(A.byteLength!=_.byteLength||A.byteOffset!=_.byteOffset)return!1;A=A.buffer,_=_.buffer;case j:return!(A.byteLength!=_.byteLength||!C(new a(A),new a(_)));case m:case p:case s:return o(+A,+_);case g:return A.name==_.name&&A.message==_.message;case r:case h:return A==_+"";case O:var S=d;case i:var D=F&u;if(S||(S=c),A.size!=_.size&&!D)return!1;var w=T.get(A);if(w)return w==_;F|=f,T.set(A,_);var U=l(S(A),S(_),F,H,C,T);return T.delete(A),U;case v:if(E)return E.call(A)==E.call(_)}return!1}k.exports=P},function(k,n,t){var e=t(555),a=1,o=Object.prototype,l=o.hasOwnProperty;function d(c,u,f,m,p,g){var O=f&a,s=e(c),r=s.length,i=e(u),h=i.length;if(r!=h&&!O)return!1;for(var v=r;v--;){var j=s[v];if(!(O?j in u:l.call(u,j)))return!1}var y=g.get(c),b=g.get(u);if(y&&b)return y==u&&b==c;var E=!0;g.set(c,u),g.set(u,c);for(var P=O;++v<r;){j=s[v];var A=c[j],_=u[j];if(m)var M=O?m(_,A,j,u,c,g):m(A,_,j,c,u,g);if(!(M===void 0?A===_||p(A,_,f,m,g):M)){E=!1;break}P||(P=j=="constructor")}if(E&&!P){var F=c.constructor,H=u.constructor;F!=H&&"constructor"in c&&"constructor"in u&&!(typeof F=="function"&&F instanceof F&&typeof H=="function"&&H instanceof H)&&(E=!1)}return g.delete(c),g.delete(u),E}k.exports=d},function(k,n,t){var e=t(182),a=t(163),o="[object Arguments]";function l(d){return a(d)&&e(d)==o}k.exports=l},function(k,n){function t(){return!1}k.exports=t},function(k,n,t){var e=t(182),a=t(307),o=t(163),l="[object Arguments]",d="[object Array]",c="[object Boolean]",u="[object Date]",f="[object Error]",m="[object Function]",p="[object Map]",g="[object Number]",O="[object Object]",s="[object RegExp]",r="[object Set]",i="[object String]",h="[object WeakMap]",v="[object ArrayBuffer]",j="[object DataView]",y="[object Float32Array]",b="[object Float64Array]",E="[object Int8Array]",P="[object Int16Array]",A="[object Int32Array]",_="[object Uint8Array]",M="[object Uint8ClampedArray]",F="[object Uint16Array]",H="[object Uint32Array]",C={};C[y]=C[b]=C[E]=C[P]=C[A]=C[_]=C[M]=C[F]=C[H]=!0,C[l]=C[d]=C[v]=C[c]=C[j]=C[u]=C[f]=C[m]=C[p]=C[g]=C[O]=C[s]=C[r]=C[i]=C[h]=!1;function T(S){return o(S)&&a(S.length)&&!!C[e(S)]}k.exports=T},function(k,n,t){var e=t(535),a=e(Object.keys,Object);k.exports=a},function(k,n,t){var e=t(152),a=t(108),o=e(a,"DataView");k.exports=o},function(k,n,t){var e=t(152),a=t(108),o=e(a,"Promise");k.exports=o},function(k,n,t){var e=t(152),a=t(108),o=e(a,"WeakMap");k.exports=o},function(k,n,t){var e=t(416),a=t(262);function o(l){for(var d=a(l),c=d.length;c--;){var u=d[c],f=l[u];d[c]=[u,f,e(f)]}return d}k.exports=o},function(k,n,t){var e=t(340),a=t(76),o=t(517),l=t(308),d=t(416),c=t(417),u=t(225),f=1,m=2;function p(g,O){return l(g)&&d(O)?c(u(g),O):function(s){var r=a(s,g);return r===void 0&&r===O?o(s,g):e(O,r,f|m)}}k.exports=p},function(k,n,t){var e=t(676),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,l=e(function(d){var c=[];return d.charCodeAt(0)===46&&c.push(""),d.replace(a,function(u,f,m,p){c.push(m?p.replace(o,"$1"):f||u)}),c});k.exports=l},function(k,n,t){var e=t(677),a=500;function o(l){var d=e(l,function(u){return c.size===a&&c.clear(),u}),c=d.cache;return d}k.exports=o},function(k,n,t){var e=t(306),a="Expected a function";function o(l,d){if(typeof l!="function"||d!=null&&typeof d!="function")throw new TypeError(a);var c=function(){var u=arguments,f=d?d.apply(this,u):u[0],m=c.cache;if(m.has(f))return m.get(f);var p=l.apply(this,u);return c.cache=m.set(f,p)||m,p};return c.cache=new(o.Cache||e),c}o.Cache=e,k.exports=o},function(k,n){function t(e,a){return e!=null&&a in Object(e)}k.exports=t},function(k,n,t){var e=t(299),a=t(304),o=t(95),l=t(298),d=t(307),c=t(225);function u(f,m,p){m=e(m,f);for(var g=-1,O=m.length,s=!1;++g<O;){var r=c(m[g]);if(!(s=f!=null&&p(f,r)))break;f=f[r]}return s||++g!=O?s:(O=f==null?0:f.length,!!O&&d(O)&&l(r,O)&&(o(f)||a(f)))}k.exports=u},function(k,n,t){var e=t(588),a=t(681),o=t(308),l=t(225);function d(c){return o(c)?e(l(c)):a(c)}k.exports=d},function(k,n,t){var e=t(285);function a(o){return function(l){return e(l,o)}}k.exports=a},function(k,n,t){var e=t(559),a=/^\s+/;function o(l){return l&&l.slice(0,e(l)+1).replace(a,"")}k.exports=o},function(k,n,t){"use strict";var e=t(346),a=t(774),o=a(e("String.prototype.indexOf"));k.exports=function(d,c){var u=e(d,!!c);return typeof u=="function"&&o(d,".prototype.")>-1?a(u):u}},function(k,n){function t(e,a){if(e==null)return{};var o={},l=Object.keys(e),d,c;for(c=0;c<l.length;c++)d=l[c],!(a.indexOf(d)>=0)&&(o[d]=e[d]);return o}k.exports=t,k.exports.__esModule=!0,k.exports.default=k.exports},function(k,n){function t(e){var a=e==null?0:e.length;return a?e[a-1]:void 0}k.exports=t},function(k,n,t){"use strict";t.r(n),t.d(n,"CommentEmbed",function(){return y}),t.d(n,"CommentView",function(){return b});var e=t(0),a=t(1),o=t(42),l=t(15),d=t(121),c=t(84),u=t(160),f=t(148),m=t(220),p=t(88),g=t(221),O=t(18),s=t(188),r=t(2),i=t(8),h=t(77),v=t(68),j=t(128);function y({commentId:P}){const{isLoading:A,error:_,result:M}=Object(O.f)({pathname:`/api/v1/reader/comment/${P}`,auto:!0,deps:[P]});return _ instanceof O.b?_.getMessage():M?Object(e.h)(b,{feedItem:M.item}):"Loading..."}function b({feedItem:P}){var A,_,M,F,H;const{comment:C,parentComments:T}=P,{truncatedBodyJson:S}=Object(g.a)(C),D=T[T.length-1],w=(A=C.attachments)==null?void 0:A.find(Y=>Y.type!=="image"),U=(_=C.attachments)==null?void 0:_.filter(Y=>Y.type==="image"),V=w&&Object(f.b)(w),K=Object(a.k)(null);return Object(s.a)(K,()=>Object(v.b)(P,o.a.PostEmbed),{threshold:.2}),Object(e.h)(r.b,{justifyContent:"center",alignItems:"center",paddingX:20,style:{margin:"20px 0"}},Object(e.h)(r.a,{as:"a",target:"_blank",href:Object(l.getFeedCommentUrl)(C),gap:12,border:"detail",bg:"primary",radius:8,padding:16,style:{textDecoration:"none",width:"560px",maxWidth:"100%"},ref:K},Object(e.h)(r.a,{flex:"auto"},Object(e.h)(p.b,{user:C})),Object(e.h)(r.b,{minWidth:0,flex:"grow"},Object(e.h)(p.d,null,Object(e.h)(i.a,{weight:"semibold"},C.name),Object(e.h)(h.b,{tier:C.user_bestseller_tier}),Object(e.h)(p.e,{timestamp:C.date})),D&&Object(e.h)(i.b.Detail,null,"Replying to ",D.name),Object(e.h)(p.a,null,S&&Object(e.h)(m.a,{content:S}),V&&Object(e.h)(i.b,{ellipsis:!0},V)),Object(e.h)(f.a,{attachments:U!=null?U:[],readOnly:!0,onAttachmentClick:({commentId:Y}={})=>Object(v.a)(P,o.a.PostEmbed,"attachment",{extraEventProps:{commentId:Y}}),utm_content:P.entity_key}),Object(e.h)(r.a,{justifyContent:"space-between",alignItems:"center"},Object(e.h)(E,{icon:Object(e.h)(d.default,{height:16,fill:"none",stroke:"var(--color-secondary)"}),count:(M=C.reaction_count)!=null?M:0}),Object(e.h)(E,{icon:Object(e.h)(u.default,{height:16,stroke:"var(--color-secondary)"}),count:(F=C.children_count)!=null?F:0}),Object(e.h)(E,{icon:Object(e.h)(c.default,{height:16,stroke:"var(--color-secondary)"}),count:(H=C.restacks)!=null?H:0}),Object(e.h)(r.a,{flex:"grow"})))))}function E({icon:P,count:A}){return Object(e.h)(r.a,{gap:8,paddingTop:6,flex:"grow",alignItems:"center"},P,Object(e.h)(i.b.Digit,{color:"secondary"},A>0&&Object(j.a)(A)))}},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(1),o=t(5),l=t.n(o),d=t(12),c=t.n(d),u=t(4),f=t.n(u),m=(O,s,r)=>new Promise((i,h)=>{var v=b=>{try{y(r.next(b))}catch(E){h(E)}},j=b=>{try{y(r.throw(b))}catch(E){h(E)}},y=b=>b.done?i(b.value):Promise.resolve(b.value).then(v,j);y((r=r.apply(O,s)).next())});const p=O=>parseFloat(O).toFixed(2),g=({symbol:O,prependSymbol:s=!1,isStatic:r=!1})=>{const i=`/api/v1/price/${O}`,[h,v]=Object(a.l)(null),[j,y]=Object(a.l)(null),[b,E]=Object(a.l)(!1);return Object(a.d)(()=>{(()=>m(void 0,null,function*(){try{const A=yield c.a.get(i);if(A.body){if(A.body.status==="not_found"){E(!0);return}v(A.body.price),y(A.body.change_pct)}}catch(A){E(!0)}}))()},[i]),!s&&O.startsWith("$")&&(O=O.slice(1)),r?Object(e.h)("span",null,Object(e.h)("a",{href:`${Object(u.getStockLandingUrl)(O)}`},O," ")):b?Object(e.h)("span",null,O," "):Object(e.h)("a",{className:l()("cashtag",{neutral:j==0,positive:j&&parseFloat(j)>0,negative:j&&parseFloat(j)<0}),target:"_blank",rel:"noreferrer",href:`${Object(u.getStockLandingUrl)(O)}`,"data-attrs":JSON.stringify({symbol:O})},`${O.toUpperCase()} `,Object(e.h)("span",null,j?Object(e.h)("span",null,Object(e.h)("span",{className:l()("delta")},`${p(j)}%`,!!j&&(parseFloat(j)>0?String.fromCharCode(8593):String.fromCharCode(8595)))):"0.00"))};n.default=g},function(k,n,t){"use strict";t.r(n),t.d(n,"VideoEmbedPlayer",function(){return g});var e=t(0),a=t(1),o=t(5),l=t.n(o),d=t(794),c=t(575),u=t(2),f=t(70),m=t(178),p={videoEmbed:"frontend-components-video_embed_player-module__videoEmbed--Ndmbm",canEdit:"frontend-components-video_embed_player-module__canEdit--1Hulz",editVideoEmbedWrap:"frontend-components-video_embed_player-module__editVideoEmbedWrap--3dscZ",editVideoEmbed:"frontend-components-video_embed_player-module__editVideoEmbed--1yWjO",imageGallery:"frontend-components-video_embed_player-module__imageGallery--n_qvr",videoPlaceholder:"frontend-components-video_embed_player-module__videoPlaceholder--2uMYN"};const g=({mediaUploadId:s,post:r,pub:i,isEditor:h=!1})=>{const[v,j]=Object(a.l)(null),y=Object(a.k)(null),b=M=>{var F,H;!h||(M?(F=y.current)==null||F.open():(H=y.current)==null||H.close())},{mediaUpload:E,loading:P,error:A}=Object(c.a)({mediaUploadId:s});s&&!v&&E&&j(E);const _=Object(a.a)(()=>{document.dispatchEvent(new Event("editSelectedVideoEmbed"))},[]);return P?Object(e.h)("div",{className:p.videoPlaceholder},"Loading"):A||!v?Object(e.h)("div",{className:p.videoPlaceholder},"Could not load video."):Object(e.h)(e.Fragment,null,Object(e.h)("div",{className:l()(p.videoEmbed,h&&p.canEdit),onMouseEnter:()=>b(!0),onMouseLeave:()=>b(!1)},h&&Object(e.h)(O,{onEditVideoEmbed:_,menuRef:y}),Object(e.h)(m.a,{mediaUpload:v,isStatic:!1,post:r!=null?r:null,pub:i})))},O=({onEditVideoEmbed:s,menuRef:r})=>Object(e.h)(u.a,{justifyContent:"center",alignItems:"center",className:p.editVideoEmbedWrap},Object(e.h)(f.a,{ref:r,noList:!0},Object(e.h)(u.b,{onClick:s,justifyContent:"center",alignItems:"center",className:p.editVideoEmbed},Object(e.h)(d.a,{height:20}))))},function(k,n,t){"use strict";t.d(n,"a",function(){return l});var e=t(17),a=t.n(e);function o(d){var c;return`${[d.is_primary,((c=d.publication)==null?void 0:c.author_id)===d.user_id,d.role==="admin",d.role==="contributor"].map(f=>f?"0":"1").join("")}-${a()(d.created_at).valueOf()}`}function l(d){return d.slice(0).sort((c,u)=>o(c)>o(u)?1:-1)}},function(k,n,t){"use strict";t.d(n,"a",function(){return a}),t.d(n,"b",function(){return o});const e=new Set(["subscribed","free_signup"]);function a(l){return e.has(l)}function o(l,d){if(!l)return!1;if(!d)return!0;const c=["unsubscribed","free_signup","subscribed"];return c.indexOf(l)>=c.indexOf(d)}},function(k,n,t){"use strict";t.d(n,"a",function(){return h});var e=t(0),a=t(1),o=t(5),l=t.n(o),d=t(444),c=t(110),u=t.n(c),f=t(4),m=t.n(f),p=t(10),g=t.n(p),O=t(125),s=t(7),r=t(266);function i(v,j){return Object(c.cleanSlug)(Object(p.truncateText)(v,500,{ellipsis:""}),{allowUnicode:j})}function h({text:v,post:j,pub:y,offsetTop:b}){const{isStatic:E}=Object(a.b)(O.a),P=i(v,!0),A=i(v,!1),_=Object(r.a)();if(!j||!y||E)return null;const M=`${Object(f.getBaseUrl)(y)}/i/${j.id}/${P}`,F=H=>{!(location==null?void 0:location.href)||(H.preventDefault(),Object(s.i)(s.a.HEADER_ANCHOR_WIDGET_CLICKED,{destination:M}),_(M))};return Object(e.h)("div",{id:`\xA7${P}`,className:l()("header-anchor-widget",{"offset-top":b})},j.id<66696300&&P!==A&&Object(e.h)("div",{id:`\xA7${A}`}),Object(e.h)("div",{className:"header-anchor-widget-button-container"},Object(e.h)("div",{className:"header-anchor-widget-button",href:M,onClick:F},Object(e.h)(d.a,{className:"header-anchor-widget-icon",size:20}))))}},function(k,n,t){"use strict";t.d(n,"a",function(){return o}),t.d(n,"b",function(){return d});var e=t(0),a=t(1);const o=Object(e.createContext)({isSubstack:!1,customDomain:null});o.displayName="DomainInfoContext";function l(){return Object(a.b)(o)}function d({value:c,children:u}){const f=Object(a.i)(()=>c,Object.values(c));return Object(e.h)(o.Provider,{value:f},u)}},function(k,n,t){"use strict";t.d(n,"a",function(){return i});var e=t(0),a=t(4),o=t.n(a),l=t(44),d=t(10),c=t.n(d),u=t(213),f=t(35),m=Object.defineProperty,p=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,s=(h,v,j)=>v in h?m(h,v,{enumerable:!0,configurable:!0,writable:!0,value:j}):h[v]=j,r=(h,v)=>{for(var j in v||(v={}))g.call(v,j)&&s(h,j,v[j]);if(p)for(var j of p(v))O.call(v,j)&&s(h,j,v[j]);return h};function i({comment:h}){var v,j,y;const{getConfigFor:b}=Object(f.c)(),E=`${h.name} on Substack`,P=`${E}: "${Object(d.truncateText)(h.body,280)}"`,A=(v=h.attachments)==null?void 0:v.find(S=>S.type==="image"),_=A==null?void 0:A.imageUrl,M=b("note-preview-image-enabled"),F=M?240:void 0,H=M?460:void 0,C=_!=null?_:M?Object(a.cloudinary)(Object(l.p)(h.id),H,{height:F}):Object(a.getUserPhotoUrl)(h),T=!M||_?h.body:"Subscribe to see all their notes.";return Object(e.h)(u.Metadata,r({},{title:P,socialTitle:E,description:T,image:C,imageHeight:F,imageWidth:H,isLargeImage:!0,siteName:"Substack Notes",publishedTime:h.date.toString(),meta:[{name:"twitter:label1",content:"Likes"},{name:"twitter:data1",content:String((j=h.reaction_count)!=null?j:0)},{name:"twitter:label2",content:"Replies"},{name:"twitter:data2",content:String((y=h.children_count)!=null?y:0)}]}))}},function(k,n,t){"use strict";t.d(n,"a",function(){return l});var e=t(0),a=t(15),o=t(213);function l(){return Object(e.h)(o.Metadata,{title:"Notes | Substack",description:"Pass notes with your favorite writers",image:Object(a.cloudinary)("/img/reader/notes-thumbnail.jpg",400),imageWidth:400,imageHeight:400})}},function(k,n,t){"use strict";t.d(n,"a",function(){return d});var e=t(0),a=t(5),o=t.n(a);const l=({label:c,icon:u,isActive:f=!1,onClick:m,padding:p="tw-py-6 tw-px-4",useSubstackTheme:g=!1,isDisabled:O=!1})=>Object(e.h)("div",{className:o()("tw-flex tw-items-center tw-gap-2 tw-border-y-2 tw-border-x-0 tw-border-solid tw-border-y-transparent tw-font-sans tw-text-sm tw-font-semibold tw-transition-colors ",p,{"tw-cursor-pointer":!O||f,"tw-cursor-not-allowed tw-opacity-50":O&&!f,"tw-border-b-pub-primary-text tw-text-pub-primary-text":f&&!g,"tw-text-pub-secondary-text":!f&&!g,"tw-border-b-substack-primary tw-text-substack-primary":f&&g,"tw-text-substack-secondary":!f&&g,"hover:tw-bg-pub-wash":!g&&!f&&!O,"hover:tw-bg-substack-wash":g&&!f&&!O}),disabled:O,onClick:O?()=>{}:m,role:"button"},typeof u=="function"?u({active:f}):u,Object(e.h)("span",null,c)),d=({items:c,onSelect:u,activeTab:f,tabPadding:m,useSubstackTheme:p=!1,className:g})=>Object(e.h)("div",{className:o()("tw-flex",g)},c.map(({key:O,icon:s,label:r,isDisabled:i})=>Object(e.h)(l,{isActive:O==f,icon:s,onClick:()=>{u(O)},padding:m,label:r,useSubstackTheme:p,isDisabled:i})))},function(k,n,t){"use strict";t.d(n,"b",function(){return u}),t.d(n,"a",function(){return f});var e=t(4),a=t.n(e),o=t(9),l=t.n(o),d=t(18),c=(p,g,O)=>new Promise((s,r)=>{var i=j=>{try{v(O.next(j))}catch(y){r(y)}},h=j=>{try{v(O.throw(j))}catch(y){r(y)}},v=j=>j.done?s(j.value):Promise.resolve(j.value).then(i,h);v((O=O.apply(p,g)).next())});function u(p,g={}){p=p||Object(e.getQueryItem)("selection");const{isLoading:O,error:s,result:r}=Object(d.f)({pathname:`/api/v1/post_selection/${p}`,auto:Boolean(p),deps:[p]});return{isLoading:O,error:s,postSelection:r!=null?r:null,highlightSelection:()=>{r&&m(r,g)}}}function f(p){return c(this,arguments,function*(g,O={}){g=g||Object(e.getQueryItem)("selection");let s=null;try{s=yield Object(d.c)(`/api/v1/post_selection/${g}`,{})}catch(r){}s&&m(s,O)})}function m(p,g={}){var O,s;if(g.ignoreSafari&&Object(o.isSafari)()||!p.text)return;const r=(s=(O=/^[^.]+\./.exec(p.text))==null?void 0:O[0])!=null?s:p.text;if(!r)return;const i=`#:~:text=${encodeURIComponent(r)}`;history.replaceState({},document.title,i),document.location.hash=i}},function(k,n,t){"use strict";t.d(n,"a",function(){return ln});var e=t(0),a=t(1212),o=t(5),l=t.n(o),d=t(40),c=t(85),u=t.n(c),f=t(4),m=t(103),p=t(471),g=t(469),O=t(686),s=t(17),r=t.n(s),i=t(45),h=t(15),v=t(10),j=t(121),y=t(714),b=t(84),E=t(160),P=t(33),A=t(148),_=t(100),M=t(8),F=t(128);function H({item:Mt,utmSource:$t}){const{comment:nn}=Mt;return Object(e.h)(C,{comment:nn,utmSource:$t})}function C({comment:Mt,utmSource:$t}){var nn,Bt,Kt,Sn,Qn,rr,Mr;const zr=(nn=Mt.attachments)==null?void 0:nn.find(Dn=>Dn.type==="image"),dr=(Bt=Mt.attachments)==null?void 0:Bt.find(Dn=>Dn.type==="post"),Rr=dr==null?void 0:dr.postSelection,_r=(Kt=Mt.attachments)==null?void 0:Kt.find(Dn=>Dn.type!=="image"),ro=_r&&Object(A.b)(_r);return Object(e.h)(_.a,{as:"a",href:Object(h.getFeedCommentUrl)(Mt,{urlParams:{utm_source:$t}}),padding:16,radius:8,border:"detail",style:{textDecoration:"none",display:"block",minWidth:"410px"}},Object(e.h)(P.e,{style:{width:"100%"}},Object(e.h)("tr",null,Object(e.h)("td",{style:{verticalAlign:"top",width:48}},Object(e.h)(P.a,{src:(Sn=Mt.photo_url)!=null?Sn:Object(f.getDefaultUserPhotoById)(Mt.user_id),size:48})),Object(e.h)("td",{width:12}),Object(e.h)("td",{style:{verticalAlign:"top"}},Object(e.h)(P.d,{gap:12,style:{lineHeight:0,width:"100%"}},Object(e.h)(_.a,null,Object(e.h)(M.b.B3,null,Object(e.h)(M.a,{weight:"semibold"},Mt.name)," ",Object(e.h)(M.a,{color:"secondary"},r()(Mt.date).fromNowShort())),Object(e.h)(M.b.B3,null,Object(v.truncateWords)(Mt.body,420))),dr&&Rr&&Object(e.h)(M.b.B3,null,Object(e.h)(w,{attachment:dr,selection:Rr})),ro&&!dr&&Object(e.h)(M.b.B4,{color:"accent-blue"},ro),zr&&Object(e.h)(U,{attachment:zr}),Object(e.h)(P.e,{width:"100%",style:{width:"100%"}},Object(e.h)("tr",null,Object(e.h)("td",{width:"20%"},Object(e.h)(j.default,{width:16,height:16,strokeWidth:1.5,stroke:D,style:T,fill:"none",isStatic:!0}),Object(e.h)(S,{count:(Qn=Mt.reaction_count)!=null?Qn:0})),Object(e.h)("td",{width:"20%"},Object(e.h)(E.default,{height:16,width:16,strokeWidth:1.5,stroke:D,style:T,isStatic:!0}),Object(e.h)(S,{count:(rr=Mt.children_count)!=null?rr:0})),Object(e.h)("td",{width:"20%"},Object(e.h)(b.default,{height:16,width:16,strokeWidth:1.5,stroke:D,style:T,isStatic:!0}),Object(e.h)(S,{count:(Mr=Mt.restacks)!=null?Mr:0})),Object(e.h)("td",{width:"20%"},Object(e.h)(y.default,{height:16,width:16,strokeWidth:2,stroke:D,fill:D,style:T,isStatic:!0})))))))))}const T={display:"inline-block",verticalAlign:"middle"};function S({count:Mt}){return Object(e.h)(M.b.B4,{size:12,as:"span",weight:"semibold",color:"secondary",style:{marginLeft:4}},Mt>0?Object(F.a)(Mt):" ")}const D="#808080";function w({attachment:Mt,selection:$t}){return Object(e.h)(_.a,{padding:12,radius:8,bg:"secondary"},Object(e.h)(M.b,{color:"secondary",font:"serif",fontStyle:"italic",lineHeight:24},"\u201C",Object(v.truncateWords)($t.text.replaceAll("\u201C","\u2018").replaceAll("\u201D","\u2019"),180),"\u201D \u2014"," ",Object(i.getPostAuthor)(Mt.publication,Mt.post).name))}function U({attachment:Mt}){const $t=400;return Object(e.h)(_.a,{as:"img",src:Object(h.cloudinary)(Mt.imageUrl,$t*2,{crop:"limit",height:$t*2}),width:$t,radius:8,style:{maxHeight:600,objectFit:"cover",margin:0}})}var V=t(9),K=t(472),Y=t(2),W=t(164),R=t(94),B=t(687),x=t(468),G=t(109);const Q=({align:Mt,width:$t})=>{const nn={};if(Mt==="center"||$t==="100%"||$t>=f.EMAIL_CONTENT_WIDTH)return nn;const Bt=Mt==="left"?"paddingRight":"paddingLeft";return nn[Bt]=f.EMAIL_CONTENT_WIDTH-$t,nn},he=({src:Mt,alt:$t,title:nn,width:Bt,height:Kt,size:Sn,align:Qn})=>{const rr=Bt==="100%"?f.EMAIL_CONTENT_WIDTH:Bt;return Object(e.h)("div",{className:l()(G.a.staticView),"data-component-name":"Image3Static"},Object(e.h)("div",{style:Q({align:Qn,width:Bt}),className:l()(G.a.staticImageWrap)},Object(e.h)("img",{width:rr,height:Kt,src:Object(f.cloudinary)(Mt,2*f.EMAIL_CONTENT_WIDTH),alt:$t}),nn&&Object(e.h)("div",{className:l()(G.a.caption,G.a.static)},nn)))};var Z=t(1),le=t(231),de=t(51);const be=({src:Mt,alt:$t,title:nn,width:Bt,height:Kt,size:Sn,align:Qn})=>{const[rr,Mr]=Object(Z.l)(!1),[zr,dr]=Object(Z.l)(0),[Rr,_r]=Object(Z.l)(0),ro=Object(Z.k)(null),Dn=()=>{const fn=document.querySelector(".ProseMirror");fn&&_r(fn==null?void 0:fn.clientWidth),!!ro.current&&(ro.current.onload=()=>{dr(ro.current.naturalWidth/ro.current.naturalHeight)})};Object(Z.d)(()=>{Dn()});const ut=()=>{switch(Sn){case"large":return f.LARGE_IMAGE_WIDTH;case"full":return typeof window!==void 0?window.innerWidth:f.MAX_REASONABLE_SCREEN_WIDTH;default:return Bt==="100%"?f.WEB_CONTENT_WIDTH:Bt}};return Object(e.h)("figure",{className:l()(G.a.mediaNodeView,Qn&&G.a[`align-${Qn}`||""]),"data-drag-handle":"","data-component-name":"Image3Dynamic"},Object(e.h)(Y.c,{className:l()(G.a.imageContainer,G.a.zoom,G.a[Sn]),onClick:()=>Mr(!0)},Object(e.h)(Y.b,{gap:8},Object(e.h)(de.a,{className:G.a[Sn],src:Mt,alt:$t,title:nn,maxWidth:ut(),imageRef:ro}),nn&&Object(e.h)("figcaption",{className:G.a.caption},nn))),Object(e.h)(le.ImageViewerModal,{showModal:rr,modalContent:[{attrs:{src:Mt,alt:$t,title:nn}}],onClose:()=>Mr(!1),step:0}))};var X=t(442),ie=t(688),Ce=t(178);const Le=({mediaUpload:Mt,post:$t,pub:nn})=>Mt?Object(e.h)(Ce.a,{mediaUpload:Mt,isStatic:!0,post:$t,pub:nn}):Object(e.h)("div",{"data-testid":"video-embed-player-static-missing-media"},"Did not find media upload");var Ae=Object.defineProperty,Pe=Object.defineProperties,Ne=Object.getOwnPropertyDescriptors,ce=Object.getOwnPropertySymbols,q=Object.prototype.hasOwnProperty,te=Object.prototype.propertyIsEnumerable,ue=(Mt,$t,nn)=>$t in Mt?Ae(Mt,$t,{enumerable:!0,configurable:!0,writable:!0,value:nn}):Mt[$t]=nn,We=(Mt,$t)=>{for(var nn in $t||($t={}))q.call($t,nn)&&ue(Mt,nn,$t[nn]);if(ce)for(var nn of ce($t))te.call($t,nn)&&ue(Mt,nn,$t[nn]);return Mt},ot=(Mt,$t)=>Pe(Mt,Ne($t));const ze=(Mt,{pub:$t,props:{isStatic:nn,post:Bt,dataForEmailRender:Kt}})=>{var Sn;try{const Qn=Mt.getAttribute("data-attrs");if(Qn){const{mediaUploadId:rr}=JSON.parse(u()(Qn));return nn?Object(e.h)(Le,{pub:$t,mediaUpload:(Sn=Kt.idToMediaUpload)==null?void 0:Sn[rr]}):Object(e.h)(ie.VideoEmbedPlayer,{pub:$t,post:Bt,mediaUploadId:rr})}}catch(Qn){console.error("Failed to parse video:",Qn)}return Object(e.h)(e.Fragment,null)},vt=(Mt,{pub:$t,props:{isStatic:nn}})=>{try{const Bt=Mt.getAttribute("data-attrs");if(Bt){const Kt=JSON.parse(u()(Bt));return nn?Object(e.h)(x.DigestPostEmbedStatic,ot(We({},Kt),{isEditor:!1})):Object(e.h)(x.DigestPostEmbed,ot(We({},Kt),{isEditor:!1}))}}catch(Bt){console.error("Failed to parse digest post embed:",Bt)}return Object(e.h)(e.Fragment,null)},Wt=(Mt,{props:{isStatic:$t}})=>{var nn;try{const Bt=Mt.getAttribute("data-attrs");if(Bt){const Sn=(nn=JSON.parse(Bt))!=null?nn:{};return $t?Object(e.h)(he,We({},Sn)):Object(e.h)(be,We({},Sn))}}catch(Bt){console.error("Failed to parse image3:",Bt)}return Object(e.h)(e.Fragment,null)},zt=(Mt,{pub:$t,props:{isStatic:nn,post:Bt}})=>{try{const Kt=Mt.getAttribute("data-attrs");if(Kt){const Sn=JSON.parse(Kt),rr={node:{attrs:ot(We({},Sn),{isEditor:!1})}};return nn?Object(e.h)(X.ImageGalleryStatic,We({},rr)):Object(e.h)(X.ImageGallery,We({},rr))}}catch(Kt){console.error("Failed to parse image gallery embed:",Kt)}return Object(e.h)(e.Fragment,null)};var at=t(691),Me=t(265),Be=t(470),Xe=t(172),Te=Object.defineProperty,we=Object.defineProperties,De=Object.getOwnPropertyDescriptors,Ie=Object.getOwnPropertySymbols,He=Object.prototype.hasOwnProperty,Ve=Object.prototype.propertyIsEnumerable,z=(Mt,$t,nn)=>$t in Mt?Te(Mt,$t,{enumerable:!0,configurable:!0,writable:!0,value:nn}):Mt[$t]=nn,se=(Mt,$t)=>{for(var nn in $t||($t={}))He.call($t,nn)&&z(Mt,nn,$t[nn]);if(Ie)for(var nn of Ie($t))Ve.call($t,nn)&&z(Mt,nn,$t[nn]);return Mt},Se=(Mt,$t)=>we(Mt,De($t));const Oe=(Mt,$t)=>Object(e.h)("div",{className:"subscription-widget-wrap"},Object(e.h)("div",{className:"subscription-widget show-subscribe"},Object(e.h)("div",{className:"preamble"},Object(e.h)("p",{dangerouslySetInnerHTML:{__html:Mt.children[0].children[0].children[0].innerHTML}})),Object(e.h)(Xe.b,se({pub:$t.pub,subscribeButtonAttrs:null,source:"subscribe-widget-preamble"},$t.props)))),ge=(Mt,$t)=>{try{const nn=JSON.parse(u()(Mt.getAttribute("data-attrs")));if([`${$t.pub.base_url}/subscribe?`,"${ctx.pub.base_url}/subscribe?plan=founding",d.Substitutions.CHECKOUT_URL,d.Substitutions.FOUNDING_CHECKOUT_URL].includes(nn.url)){const Bt=JSON.parse(u()(Mt.getAttribute("data-attrs")));return Object(e.h)(Xe.b,se({pub:$t.pub,subscribeButtonAttrs:Bt},$t.props))}}catch(nn){console.error("Failed to parse button:",nn)}},je=(Mt,{pub:$t,props:{isStatic:nn,post:Bt}})=>{try{const Kt=Mt.getAttribute("data-attrs");if(Kt){const Sn=JSON.parse(u()(Kt));return nn?Object(e.h)(R.AudioEmbedPlayerStatic,{label:Sn.label,pub:$t,post:Bt,duration:Sn.duration}):Object(e.h)(R.AudioEmbedPlayer,{label:Sn.label,pub:$t,post:Bt,src:`/api/v1/audio/upload/${Sn.mediaUploadId}/src`,duration:Sn.duration,autoPlay:!1})}}catch(Kt){console.error("Failed to parse audio:",Kt)}},it=(Mt,{pub:$t,props:{isStatic:nn,post:Bt}})=>{try{const Kt=Mt.getAttribute("data-attrs");if(Kt){const Sn=JSON.parse(u()(Kt));return nn?Object(e.h)(R.AudioEmbedPlayerStatic,{label:Sn.label,pub:$t,post:Bt,duration:Sn.duration}):Object(e.h)(R.AudioEmbedPlayer,{label:Sn.label,pub:$t,post:Bt,src:Sn.url,duration:Sn.duration,autoPlay:!1})}}catch(Kt){console.error("Failed to parse audio:",Kt)}},Tt=(Mt,{props:{isStatic:$t}})=>{try{const nn=Mt.getAttribute("data-attrs");if(nn){const{name:Bt,avatarUrl:Kt,url:Sn}=JSON.parse(u()(nn));return $t?Object(e.h)(K.MeetingEmbedStatic,{name:Bt,avatarUrl:Kt,url:Sn}):Object(e.h)(K.MeetingEmbed,{name:Bt,avatarUrl:Kt,url:Sn})}}catch(nn){console.error("Failed to parse audio:",nn)}},sn=Mt=>{try{const $t=JSON.parse(Mt.dataset.attrs).symbol;return $t?Object(e.h)(B.default,{symbol:$t,prependSymbol:JSON.parse(Mt.dataset.attrs).prependSymbol,isStatic:JSON.parse(Mt.dataset.attrs).isStatic}):Object(e.h)(e.Fragment,null)}catch($t){return Object(e.h)(e.Fragment,null)}},ht=(Mt,{pub:$t,props:{isStatic:nn,post:Bt}})=>{try{if(nn){const Kt=Mt.getAttribute("data-attrs");if(Kt){const Sn=JSON.parse(u()(Kt)),Qn=Sn==null?void 0:Sn.persistentExpression;return Qn?Object(e.h)("img",{src:Object(f.getLatexUrl)(Qn),style:{transform:"scale(0.5)"}}):Object(e.h)("p",null,"Failed to render LaTeX expression \u2014 no expression found in email")}else return Object(e.h)("p",null,"Failed to render LaTeX expression \u2014 data attributes not found")}else{const Kt=Mt==null?void 0:Mt.children[0].attributes,Sn=Kt==null?void 0:Kt.persistentexpression.value;return Sn?Object(e.h)(Y.c,{className:"latex-rendered",justifyContent:"center",flex:"grow",paddingBottom:"4px",paddingTop:"4px"},Object(e.h)(Y.b,{justifyContent:"center"},Object(e.h)(a.a,{inline:!1},`\\(${Sn}\\)`))):Object(e.h)("p",null,"Failed to render LaTeX expression \u2014 no expression found")}}catch(Kt){return Object(e.h)("p",null,"Failed to render LaTeX expression \u2014 error")}},Nt=Mt=>{try{const $t=JSON.parse(Mt.dataset.attrs),{name:nn,id:Bt,type:Kt,url:Sn,photo_url:Qn,uuid:rr,isStatic:Mr}=$t;return nn?Object(e.h)(Me.default,{name:nn,id:Bt,type:Kt,url:Sn,photo_url:Qn,uuid:rr,isStatic:Mr}):Object(e.h)(e.Fragment,null)}catch($t){return Object(e.h)(e.Fragment,null)}},wt=(Mt,$t)=>{var nn;try{const Bt=JSON.parse(u()(Mt.getAttribute("data-attrs")));return(Bt==null?void 0:Bt.isEmail)?Object(e.h)("table",{className:"poll-embed poll-email",cellSpacing:"16px",width:"100%"},Object(e.h)("tbody",null,Object(e.h)("tr",null,Object(e.h)("td",{align:"center"},Object(e.h)(Be.StaticPoll,{id:Bt.id,embeddedPolls:(nn=$t.props.dataForEmailRender)==null?void 0:nn.embeddedPolls}))))):Object(e.h)("div",{className:"poll-embed",dataAttrs:Mt.getAttribute("data-attrs")},Object(e.h)(Be.Poll,{id:Bt.id,isEditor:!1,post:$t.props.post,pub:$t.pub,isVersionView:!!$t.props.isVersionView}))}catch(Bt){return console.log("Failed to parse poll:",Bt),Object(e.h)(e.Fragment,null)}};function yt(Mt,{props:{isStatic:$t}}){try{const nn=Mt.getAttribute("data-attrs"),Bt=JSON.parse(u()(nn));return Object(e.h)("div",{className:"community-chat",dataAttrs:nn},$t?Object(e.h)(p.EmailCommunityChatEmbed,se({},Bt)):Object(e.h)(p.CommunityChatEmbed,{pub:Bt.pub,subdomain:Bt.subdomain}))}catch(nn){return console.error("Failed to parse chat embed:",nn),Object(e.h)(e.Fragment,null)}}function Qe(Mt,$t){const{props:{isStatic:nn,is_freemail:Bt}}=$t;try{const Kt=Mt.getAttribute("data-attrs"),Sn=JSON.parse(u()(Kt));return Object(e.h)("div",{className:"community-post",dataAttrs:Kt},nn?Object(e.h)(g.EmailCommunityPostEmbed,se({is_freemail:Bt},Sn)):Object(e.h)(g.CommunityPostEmbed,se({},Sn)))}catch(Kt){return console.error("Failed to parse chat post embed:",Kt),Object(e.h)(e.Fragment,null)}}function At(Mt,{props:{isStatic:$t}}){try{const nn=Mt.getAttribute("data-attrs"),Bt=JSON.parse(u()(nn));return Object(e.h)("div",{className:"comment",dataAttrs:nn},$t?Object(e.h)(C,se({},Bt)):Object(e.h)(O.CommentEmbed,se({},Bt)))}catch(nn){return console.error("Failed to parse chat post embed:",nn),Object(e.h)(e.Fragment,null)}}const jt=(Mt,$t,nn)=>{var Bt;const Kt=Mt.id,[Sn,,Qn]=Kt.split("-"),rr=(Bt=nn.wrapper.querySelector(`#${Sn}-${Qn}`))==null?void 0:Bt.nextElementSibling;return rr?(Object(m.isMobile)()&&(Mt.href="javascript:void(0)"),Object(e.h)(W.a,{content:Object(e.h)("div",{className:"markup"},Rt(rr,$t,nn)),className:"footnote-hovercard-target",layerClassName:"typography footnote-hovercard"},Rt(Mt,$t,nn))):Rt(Mt,$t,nn)},ke=(Mt,$t,{shallow:nn}={})=>{var Bt,Kt,Sn;if(Mt.nodeName==="A"&&(Mt.getAttribute("rel")||Mt.setAttribute("rel",((Bt=$t.pub)==null?void 0:Bt.no_follow)?"nofollow ugc noopener":"")),$t.pub&&Mt.nodeName==="P"&&Object(V.hasClass)(Mt,"button-wrapper")){const Qn=ge(Mt,$t);if(Qn)return Qn}return Object(V.hasClass)(Mt,"subscription-widget-wrap")?Oe(Mt,$t):Object(V.hasClass)(Mt,"cashtag-wrap")?sn(Mt):Object(V.hasClass)(Mt,"mention-wrap")?Nt(Mt):$t.pub&&Object(V.hasClass)(Mt,"native-audio-url-embed")?it(Mt,$t):$t.pub&&Object(V.hasClass)(Mt,"native-audio-embed")?je(Mt,$t):$t.pub&&Object(V.hasClass)(Mt,"native-video-embed")?ze(Mt,$t):$t.pub&&Object(V.hasClass)(Mt,"meeting-embed")?Tt(Mt,$t):Object(V.hasClass)(Mt,"poll-embed")?wt(Mt,$t):Object(V.hasClass)(Mt,"image-gallery-embed")?zt(Mt,$t):Object(V.hasClass)(Mt,"image3")?Wt(Mt,$t):Object(V.hasClass)(Mt,"latex-rendered")?ht(Mt,$t):Object(V.hasClass)(Mt,"community-chat")?yt(Mt,$t):Object(V.hasClass)(Mt,"community-post")?Qe(Mt,$t):Object(V.hasClass)(Mt,"digest-post-embed")?vt(Mt,$t):Object(V.hasClass)(Mt,"comment")?At(Mt,$t):(((Sn=(Kt=$t.props)==null?void 0:Kt.post)==null?void 0:Sn.id)&&Object(V.hasClass)(Mt,"footnote")&&(Mt.id&&(Mt.id+=`-${$t.props.post.id}`),Mt.href&&(Mt.href+=`-${$t.props.post.id}`)),Object(V.hasClass)(Mt,"footnote-anchor")?jt(Mt,ke,$t):nn?null:Rt(Mt,ke,$t))},tn=function(Mt){const $t={},nn=Array.prototype.slice.call(Mt);for(const{name:Bt,value:Kt}of nn)$t[Bt]=Kt;return $t},Pn=(Mt,$t)=>{let nn=0;return function(){const Bt=[].slice.call(arguments,0),Kt=++nn>$t;Kt&&console.error("Too many post nodes to recurse",{postId:Bt[2].props.post.id,depth:nn});const Sn=Mt.apply(null,[...Bt,...Kt?[!0]:[]]);return nn--,Sn}};function Ft(Mt,$t,nn,Bt){var Kt;const Sn=l()("header-with-anchor-widget",$t.className),Qn=nn.children.length?Array.prototype.map.call(nn.childNodes,rr=>ke(rr,Bt)):[nn.textContent];return Object(e.h)(Mt,Se(se({},$t),{className:Sn}),...Qn,Object(e.h)(at.a,{text:nn.textContent,pub:Bt==null?void 0:Bt.pub,post:(Kt=Bt==null?void 0:Bt.props)==null?void 0:Kt.post,offsetTop:!0}))}const Rt=Pn((Mt,$t,nn,Bt)=>{var Kt,Sn;if(!Mt)throw new Error("Empty node, cannot preactify!");const Qn=Mt.nodeType===3?"span":Mt.nodeType===8?"x_preact_compatible_html_comment_x":Mt.tagName.toLowerCase(),rr=Mt.nodeType!==1?{}:tn(Mt.attributes),Mr=Mt.children&&Mt.children.length>0?null:Mt.textContent;if(Bt)return Object(e.h)(Qn,Se(se({},rr),{dangerouslySetInnerHTML:{__html:Mt.innerHTML}}));const zr=!!((Kt=Mt.parentElement)==null?void 0:Kt.getAttribute("data-prose-mirror-wrapper"));if(((Sn=nn==null?void 0:nn.pub)==null?void 0:Sn.type)!=="rss"&&zr&&["h1","h2","h3","h4"].includes(Qn)&&!Mt.className)return Ft(Qn,rr,Mt,nn);if(Mr)return Object(e.h)(Qn,rr,Mr);const dr=$t(Mt,nn,{shallow:!0});return dr||Object(e.h)(Qn,rr,...Array.prototype.map.call(Mt.childNodes,Rr=>$t(Rr,nn)))},2500);function ln(Mt,$t,nn={}){const Bt=document.createElement("div");return Bt.setAttribute("data-prose-mirror-wrapper",1),Bt.innerHTML=Mt,Array.prototype.map.call(Bt.childNodes,Kt=>Rt(Kt,ke,{wrapper:Bt,pub:$t,props:nn}))}},function(k,n,t){"use strict";t.d(n,"a",function(){return f});var e=t(0),a=t(232),o=t(14),l=t(2),d=t(8),c=t(91),u={bannerLogIn:"frontend-reader2-LoggedOutBanner-module__bannerLogIn--3GmSJ",bannerSignUp:"frontend-reader2-LoggedOutBanner-module__bannerSignUp--2-Rr7"};function f(){const{onboardingModalRef:m}=Object(c.b)(),{requireLogin:p}=Object(c.b)(),g=()=>{var s;(s=m.current)==null||s.open()},O=()=>{p==null||p()};return Object(e.h)(l.a,{paddingX:32,paddingY:16,justifyContent:"space-between",alignItems:"center",style:{position:"fixed",bottom:0,left:0,right:0,backgroundColor:"var(--color-light-accent-orange)"}},Object(e.h)(l.a,{alignItems:"center",gap:32},Object(e.h)(a.default,{height:24,fill:"var(--color-light-bg-primary)"}),Object(e.h)(l.b,{gap:4},Object(e.h)(d.b.H4,{color:"bg-light"},"Great writing lives on Substack"),Object(e.h)(d.b.B4,{color:"bg-light"},"Sign up to get personalized reading recommendations"))),Object(e.h)(l.a,{alignItems:"center",gap:12},Object(e.h)(o.a,{className:u.bannerLogIn,priority:"secondary",fill:"outline",rounded:!0,onClick:O},"Log in"),Object(e.h)(o.a,{className:u.bannerSignUp,priority:"primary",rounded:!0,onClick:g},"Sign up")))}},function(k,n,t){"use strict";t.d(n,"a",function(){return d});var e=t(7);const a=["sort"],o=["sort","selection"];function l(c,u){const f=new URL(`${location.protocol}//${location.host}${c}`);for(const m of f.searchParams.keys())(u?o:a).includes(m)||f.searchParams.delete(m);return f.toString()}function d({previous:c,url:u}){var f,m;if(typeof window=="undefined")return;const p=l(u,!1),g=l(u,!0);(f=document.head.querySelector("link[rel=canonical]"))==null||f.setAttribute("href",p),(m=document.head.querySelector('meta[property="og:url"]'))==null||m.setAttribute("content",g),Object(e.c)({previous:c,url:u})}},function(k,n,t){"use strict";t.d(n,"a",function(){return U});var e=t(0),a=t(1),o=t(5),l=t.n(o),d=t(823),c=t(169),u=t(35),f=t(7),m=t(18),p=t(14),g=t(2),O=t(276),s=t(111),r=t(551),i=t(97),h=t.n(i),v=t(193),j=t(71),y=t(25),b={alert:"frontend-reader2-NotificationsAlert-module__alert--3YJED",close:"frontend-reader2-NotificationsAlert-module__close--3uXfN",transition:"frontend-reader2-NotificationsAlert-module__transition--4osP1",enterFrom:"frontend-reader2-NotificationsAlert-module__enterFrom--1I9hl",enterTo:"frontend-reader2-NotificationsAlert-module__enterTo--2SCC-",leaveFrom:"frontend-reader2-NotificationsAlert-module__leaveFrom--3nBvV",leaveTo:"frontend-reader2-NotificationsAlert-module__leaveTo--2OUKL"};function E(){var V,K,Y,W;const{activityUnreadCount:R}=Object(c.b)(),{exposeExperiment:B,getExperimentVariant:x}=Object(j.d)(),{isLoading:G,result:Q,refetch:he}=Object(m.f)({pathname:"/api/v1/activity-feed-web",query:{limit:1},auto:!1});Object(a.d)(()=>{R>0&&he()},[R]);const[Z,le]=Object(a.l)(!1),[de,be]=Object(a.l)(!1),{isLoading:X,fetch:ie,result:Ce}=Object(s.b)({module:"./MiniNotificationsViewer",onRequest:()=>Promise.all([t.e(0),t.e(1)]).then(t.bind(null,1942)),fetchImmediately:!1}),Le=h()(),{userSettings:Ae,changeSetting:Pe}=Object(y.d)(),Ne=((K=(V=Q==null?void 0:Q.activityItems)==null?void 0:V[0])==null?void 0:K.created_at)?h()((W=(Y=Q==null?void 0:Q.activityItems)==null?void 0:Y[0])==null?void 0:W.created_at):Le.subtract(100,"year"),ce=(Ae==null?void 0:Ae.last_notification_alert_shown_at)?h()(Ae.last_notification_alert_shown_at):Le.subtract(100,"year"),q=Le.diff(Ne,"day")<7&&Ne.diff(ce,"hour")>2,te=Object(a.k)(null),ue=2e3,We=6e3,ot=()=>{te.current&&window.clearTimeout(te.current)},ze=()=>{ot(),te.current=window.setTimeout(()=>{le(!1)},We)};return Object(a.d)(()=>{q&&R>0&&(B("notification_alert"),x("notification_alert")==="treatment"&&(Ce&&!Z?window.setTimeout(()=>{le(!0),Pe("last_notification_alert_shown_at",h()().toISOString()),Object(f.i)(f.a.NOTIFICATIONS_ALERT_SHOWN),ze()},ue):!Ce&&!X&&ie()))},[G,Q,R,X,q,Z,le]),Object(e.h)(e.Fragment,null,(Z||de)&&Object(e.h)(r.a,{style:{position:"fixed",left:"auto",right:20,top:92,zIndex:100},appear:!0,show:Z,beforeEnter:()=>be(!0),afterLeave:()=>be(!1),enter:b.transition,enterFrom:b.enterFrom,enterTo:b.enterTo,leave:b.transition,leaveFrom:b.leaveFrom,leaveTo:b.leaveTo},Object(e.h)(g.a,{radius:12,border:"detail",className:b.alert,onMouseEnter:ot,onMouseLeave:ze,shadow:"lg",bg:"elevated"},Object(e.h)(s.a,{module:"./MiniNotificationsViewer",resolve:vt=>vt.MiniNotificationsStack,onRequest:()=>Promise.all([t.e(0),t.e(1)]).then(t.bind(null,1942)),result:Q,isReadOnly:!0}),Object(e.h)(p.c,{onClick:()=>le(!1),size:32,className:b.close},Object(e.h)(v.a,{size:20})))))}var P=t(214),A=t(339),_=Object.defineProperty,M=Object.defineProperties,F=Object.getOwnPropertyDescriptors,H=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,S=(V,K,Y)=>K in V?_(V,K,{enumerable:!0,configurable:!0,writable:!0,value:Y}):V[K]=Y,D=(V,K)=>{for(var Y in K||(K={}))C.call(K,Y)&&S(V,Y,K[Y]);if(H)for(var Y of H(K))T.call(K,Y)&&S(V,Y,K[Y]);return V},w=(V,K)=>M(V,F(K));function U({fill:V="outline",canShowAlerts:K=!1}){const Y=Object(c.b)(),W=Object(u.c)(),R=Object(m.f)({pathname:"/api/v1/activity-feed-web",query:{limit:12},auto:!1}),{triggerProps:B,layerProps:x,renderLayer:G,isOpen:Q,setOpen:he}=Object(O.a)({}),Z=()=>{Q||R.refetch(),he(!Q)},le=Object(a.k)(null);Object(a.d)(()=>{B.ref(le.current)},[le,B]);const de=Object(a.k)(24);return Object(a.d)(()=>{var be;const X=(be=le.current)==null?void 0:be.ownerDocument.querySelector("button.user-indicator");X&&(de.current=window.innerWidth-X.getBoundingClientRect().right)},[le]),Object(a.d)(()=>{Y.activityUnreadCount>0&&Object(f.i)(f.a.NOTIFICATIONS_UNREAD_SHOWN,{unreadCount:Y.activityUnreadCount})},[Y.activityUnreadCount]),Object(e.h)(e.Fragment,null,Object(e.h)(p.c,w(D({},B),{ref:le,className:A.a.trigger,"aria-label":"View activity",size:40,fill:V,priority:"secondary",onClick:Z}),Object(e.h)(d.a,{"aria-hidden":!0,size:20,strokeWidth:2}),Y.activityUnreadCount>0&&Object(e.h)(P.b,{className:l()(A.a.badge,Y.activityUnreadCount<10&&A.a.circle)},Object(e.h)(g.a,{alignItems:"center",justifyContent:"center"},Y.activityUnreadCount<100?Y.activityUnreadCount:"99+"))),!Q&&K&&W.getConfigFor("show_first_notification_enabled")&&Object(e.h)(E,null),Q&&G(Object(e.h)(g.a,w(D({},x),{style:w(D({},x.style),{left:"auto",right:`${de.current}px`}),className:l()("elevated",A.a.dropdown)}),Object(e.h)(s.a,{module:"./MiniNotificationsViewer",resolve:be=>be.MiniNotificationsViewer,onRequest:()=>Promise.all([t.e(0),t.e(1)]).then(t.bind(null,1942)),resource:R}))))}},function(k,n,t){var e=t(589),a=t(586),o=Object.prototype,l=o.hasOwnProperty,d=a(function(c,u,f){l.call(c,f)?c[f].push(u):e(c,f,[u])});k.exports=d},,,,function(k,n,t){var e=t(427),a=t(886);function o(l,d,c,u,f){var m=-1,p=l.length;for(c||(c=a),f||(f=[]);++m<p;){var g=l[m];d>0&&c(g)?d>1?o(g,d-1,c,u,f):e(f,g):u||(f[f.length]=g)}return f}k.exports=o},function(k,n,t){var e=t(284),a=t(237),o=t(298),l=t(146);function d(c,u,f){if(!l(f))return!1;var m=typeof u;return(m=="number"?a(f)&&o(u,f.length):m=="string"&&u in f)?e(f[u],c):!1}k.exports=d},function(k,n){function t(e,a){var o=-1,l=e.length;for(a||(a=Array(l));++o<l;)a[o]=e[o];return a}k.exports=t},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(563),o=t(13),l=Object.defineProperty,d=Object.defineProperties,c=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,p=(r,i,h)=>i in r?l(r,i,{enumerable:!0,configurable:!0,writable:!0,value:h}):r[i]=h,g=(r,i)=>{for(var h in i||(i={}))f.call(i,h)&&p(r,h,i[h]);if(u)for(var h of u(i))m.call(i,h)&&p(r,h,i[h]);return r},O=(r,i)=>d(r,c(i));const s=r=>Object(e.h)(o.a,O(g({},r),{name:"LucideCornerDownRight",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),Object(e.h)(a.a,{height:24,stroke:r.stroke,fill:r.fill,strokeWidth:r.strokeWidth}));n.default=s},function(k,n,t){"use strict";t.r(n),t.d(n,"InboxPodcastPlayIcon",function(){return a});var e=t(0);function a({className:o}){return Object(e.h)("svg",{className:o,width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object(e.h)("g",null,Object(e.h)("path",{style:{backdropFilter:"blur(5px)"},d:"M24 44C35.0457 44 44 35.0457 44 24C44 12.9543 35.0457 4 24 4C12.9543 4 4 12.9543 4 24C4 35.0457 12.9543 44 24 44Z",fill:"white","fill-opacity":"0.9"}),Object(e.h)("path",{opacity:"0.7",d:"M20 17.8685C20 17.0698 20.8901 16.5934 21.5547 17.0365L30.7519 23.168C31.3457 23.5638 31.3457 24.4362 30.7519 24.8321L21.5547 30.9635C20.8901 31.4066 20 30.9302 20 30.1315V17.8685Z",fill:"black",stroke:"black","stroke-linecap":"round","stroke-linejoin":"round"})))}n.default=a},function(k,n,t){"use strict";t.r(n),t.d(n,"AudioIcon",function(){return a});var e=t(0);function a({className:o}){return Object(e.h)("svg",{className:o,width:"24",height:"24",viewBox:"0 0 24 24"},Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.5 20.1456C2.33682 19.7895 2.25 19.3992 2.25 19V18V14V12C2.25 9.41414 3.27723 6.93419 5.10571 5.10571C6.93419 3.27723 9.41414 2.25 12 2.25C14.5859 2.25 17.0658 3.27723 18.8943 5.10571C20.7228 6.93419 21.75 9.41414 21.75 12V14V18V19C21.75 19.3992 21.6632 19.7895 21.5 20.1456V20.3889C21.4583 20.3889 21.4169 20.3875 21.3759 20.3848C21.2578 20.5874 21.1133 20.7758 20.9445 20.9445C20.4288 21.4603 19.7293 21.75 19 21.75H18C17.2707 21.75 16.5712 21.4603 16.0555 20.9445C15.5397 20.4288 15.25 19.7293 15.25 19V16C15.25 15.2707 15.5397 14.5712 16.0555 14.0555C16.5712 13.5397 17.2707 13.25 18 13.25H19.6528V12.2083C19.6528 10.1787 18.8465 8.23218 17.4113 6.797C15.9762 5.36183 14.0296 4.55556 12 4.55556C9.97036 4.55556 8.02384 5.36183 6.58867 6.797C5.15349 8.23218 4.34722 10.1787 4.34722 12.2083V13.25H6C6.72935 13.25 7.42882 13.5397 7.94454 14.0555C8.46027 14.5712 8.75 15.2707 8.75 16V19C8.75 19.7293 8.46027 20.4288 7.94454 20.9445C7.42882 21.4603 6.72935 21.75 6 21.75H5C4.27065 21.75 3.57118 21.4603 3.05546 20.9445C2.88674 20.7758 2.74221 20.5874 2.6241 20.3848C2.58309 20.3875 2.5417 20.3889 2.5 20.3889V20.1456Z"}))}n.default=a},function(k,n,t){"use strict";t.r(n),t.d(n,"ThreadIcon",function(){return a});var e=t(0);function a({className:o}){return Object(e.h)("svg",{className:o,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.7848 3.78723C4.2873 3.28318 4.96884 3 5.67949 3H18.3205C19.0312 3 19.7127 3.28318 20.2152 3.78723C20.7177 4.29129 21 4.97494 21 5.68778V14.4027C21 15.1155 20.7177 15.7992 20.2152 16.3032C19.7127 16.8073 19.0312 17.0905 18.3205 17.0905H7.9309L4.2475 20.7853C4.0385 20.9949 3.72419 21.0576 3.45112 20.9442C3.17805 20.8307 3 20.5634 3 20.2669V5.68778C3 4.97494 3.2823 4.29129 3.7848 3.78723Z"}))}n.default=a},function(k,n,t){"use strict";t.r(n),t.d(n,"VideoIcon",function(){return a});var e=t(0);function a({className:o}){return Object(e.h)("svg",{className:o,width:"24",height:"24",viewBox:"0 0 24 24"},Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.83333 5C1.26853 5 0 6.11207 0 7.48387V16.5161C0 17.8879 1.26853 19 2.83333 19H14.1667C15.7315 19 17 17.8879 17 16.5161V7.48387C17 6.11207 15.7315 5 14.1667 5H2.83333ZM18 14.7264L21.6962 17.5549C22.0546 17.8238 22.4334 18 22.8123 18C23.529 18 24 17.527 24 16.8037V7.19629C24 6.47295 23.529 6 22.8123 6C22.4334 6 22.0546 6.1762 21.6962 6.44513L18 9.25502V14.7264Z"}))}n.default=a},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"EmojiPickerIcon",svgParams:{height:15,width:14,viewBox:"0 0 15 14",fill:"none",stroke:"none"}}),Object(e.h)("path",{d:"M12.7474 7.25708C12.3309 7.37462 11.8916 7.4375 11.4375 7.4375C8.77963 7.4375 6.625 5.28287 6.625 2.625C6.625 2.17094 6.68788 1.73156 6.80542 1.31511C6.74549 1.31337 6.68535 1.3125 6.625 1.3125C3.24226 1.3125 0.5 4.05476 0.5 7.4375C0.5 10.8202 3.24226 13.5625 6.625 13.5625C10.0077 13.5625 12.75 10.8202 12.75 7.4375C12.75 7.37715 12.7491 7.31701 12.7474 7.25708ZM5.75 5.25C5.75 5.97487 5.16237 6.5625 4.4375 6.5625C3.71263 6.5625 3.125 5.97487 3.125 5.25C3.125 4.52513 3.71263 3.9375 4.4375 3.9375C5.16237 3.9375 5.75 4.52513 5.75 5.25ZM10.125 8.3125C10.125 10.2455 8.558 11.8125 6.625 11.8125C4.692 11.8125 3.125 10.2455 3.125 8.3125H10.125Z",fill:"#808080","fill-rule":"evenodd","clip-rule":"evenodd"}),Object(e.h)("path",{d:"M12.0938 0H10.7812V1.96875L8.8125 1.96875V3.28125H10.7812V5.25H12.0938V3.28125H14.0625V1.96875L12.0938 1.96875V0Z",fill:"#808080","fill-rule":"evenodd","clip-rule":"evenodd"}));n.default=O},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"MoreIcon",svgParams:{height:24,width:24,fill:s.fill,stroke:s.stroke,strokeWidth:s.strokeWidth}}),Object(e.h)("path",{d:"M12 13C12.5523 13 13 12.5523 13 12C13 11.4477 12.5523 11 12 11C11.4477 11 11 11.4477 11 12C11 12.5523 11.4477 13 12 13Z"}),Object(e.h)("path",{d:"M19 13C19.5523 13 20 12.5523 20 12C20 11.4477 19.5523 11 19 11C18.4477 11 18 11.4477 18 12C18 12.5523 18.4477 13 19 13Z"}),Object(e.h)("path",{d:"M5 13C5.55228 13 6 12.5523 6 12C6 11.4477 5.55228 11 5 11C4.44772 11 4 11.4477 4 12C4 12.5523 4.44772 13 5 13Z"}));n.default=O},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(r,i,h)=>i in r?o(r,i,{enumerable:!0,configurable:!0,writable:!0,value:h}):r[i]=h,p=(r,i)=>{for(var h in i||(i={}))u.call(i,h)&&m(r,h,i[h]);if(c)for(var h of c(i))f.call(i,h)&&m(r,h,i[h]);return r},g=(r,i)=>l(r,d(i)),O=(r,i)=>{var h={};for(var v in r)u.call(r,v)&&i.indexOf(v)<0&&(h[v]=r[v]);if(r!=null&&c)for(var v of c(r))i.indexOf(v)<0&&f.call(r,v)&&(h[v]=r[v]);return h};const s=r=>{var i=r,{fill:h="white"}=i,v=O(i,["fill"]);return Object(e.h)(a.a,g(p({},v),{name:"PodcastEmbedPlayIcon",svgParams:{width:14,height:16,viewBox:"0 0 14 16",stroke:"none",fill:h}}),Object(e.h)("path",{d:"M12.8563 6.71384C13.8273 7.29645 13.8273 8.70372 12.8563 9.28632L2.27174 15.637C1.27196 16.2369 1.11076e-07 15.5167 1.62041e-07 14.3508L7.17238e-07 1.64937C7.68203e-07 0.483426 1.27196 -0.236744 2.27174 0.363129L12.8563 6.71384Z"}))};n.default=s},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"ShareLinkedinIcon",svgParams:{height:24,width:24,stroke:"none"}}),Object(e.h)("rect",{width:"24",height:"24",rx:"12",fill:"#2867B2"}),Object(e.h)("path",{d:"M8.68323 17H6.07143V9.79229H8.68323V17ZM7.33126 8.47122C6.53313 8.47122 6 7.94196 6 7.23561C6 6.52925 6.53209 6 7.41925 6C8.21739 6 8.75052 6.52925 8.75052 7.23561C8.75052 7.94196 8.21843 8.47122 7.33126 8.47122ZM18 17H15.472V13.0605C15.472 11.9711 14.7981 11.7198 14.5455 11.7198C14.293 11.7198 13.4503 11.8877 13.4503 13.0605C13.4503 13.2283 13.4503 17 13.4503 17H10.8385V9.79229H13.4503V10.7983C13.7867 10.2114 14.4607 9.79229 15.7246 9.79229C16.9886 9.79229 18 10.7983 18 13.0605V17Z",fill:"white"}));n.default=O},function(k,n,t){"use strict";t.r(n),t.d(n,"default",function(){return f});var e=t(0),a=Object.defineProperty,o=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,c=(m,p,g)=>p in m?a(m,p,{enumerable:!0,configurable:!0,writable:!0,value:g}):m[p]=g,u=(m,p)=>{for(var g in p||(p={}))l.call(p,g)&&c(m,g,p[g]);if(o)for(var g of o(p))d.call(p,g)&&c(m,g,p[g]);return m};function f(m){return Object(e.h)("svg",u({width:"22",height:"24",viewBox:"0 0 20 20",overflow:"visible",fill:"none",stroke:"var(--color-secondary)"},m),Object(e.h)("g",{transform:"translate(0, -2)"},Object(e.h)("path",{d:"M16.6667 16.0265C16.0821 17.2172 15.1835 18.2187 14.0715 18.9188C12.9594 19.6189 11.6779 19.9901 10.3704 19.9906C9.27691 19.9935 8.19824 19.7334 7.22222 19.2315L2.5 20.834L4.07407 16.0265C3.58108 15.0329 3.32561 13.9347 3.32846 12.8215C3.32897 11.4904 3.69349 10.1857 4.3812 9.05361C5.06891 7.92149 6.05265 7.00665 7.22222 6.41156C7.72153 6.15481 8.2477 5.96134 8.78897 5.83398","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M19.4444 6.11133H13.8893C13.2757 6.11133 12.7782 6.60879 12.7782 7.22244V11.1113C12.7782 11.725 13.2757 12.2224 13.8893 12.2224H19.4444C20.0581 12.2224 20.5555 11.725 20.5555 11.1113V7.22244C20.5555 6.60879 20.0581 6.11133 19.4444 6.11133Z"}),Object(e.h)("path",{d:"M13.8893 6.11133H19.4444M13.8893 6.11133C13.2757 6.11133 12.7782 6.60879 12.7782 7.22244V11.1113C12.7782 11.725 13.2757 12.2224 13.8893 12.2224H19.4444C20.0581 12.2224 20.5555 11.725 20.5555 11.1113V7.22244C20.5555 6.60879 20.0581 6.11133 19.4444 6.11133M13.8893 6.11133L13.8889 3.88911C13.8889 3.15239 14.1815 2.44586 14.7025 1.92492C15.2234 1.40399 15.9299 1.11133 16.6667 1.11133C17.4034 1.11133 18.1099 1.40399 18.6308 1.92492C19.1518 2.44586 19.4444 3.15239 19.4444 3.88911V6.11133","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})))}},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(r,i,h)=>i in r?o(r,i,{enumerable:!0,configurable:!0,writable:!0,value:h}):r[i]=h,p=(r,i)=>{for(var h in i||(i={}))u.call(i,h)&&m(r,h,i[h]);if(c)for(var h of c(i))f.call(i,h)&&m(r,h,i[h]);return r},g=(r,i)=>l(r,d(i)),O=(r,i)=>{var h={};for(var v in r)u.call(r,v)&&i.indexOf(v)<0&&(h[v]=r[v]);if(r!=null&&c)for(var v of c(r))i.indexOf(v)<0&&f.call(r,v)&&(h[v]=r[v]);return h};const s=r=>{var i=r,{stroke:h,size:v=36}=i,j=O(i,["stroke","size"]);return Object(e.h)(a.a,g(p({},j),{name:"ThinCircleCheckmarkIcon2",svgParams:{viewBox:"0 0 36 36",height:v,width:v,fill:"none"}}),Object(e.h)("path",{d:"M34.6667 16.4666V17.9999C34.6646 21.594 33.5008 25.0911 31.3489 27.9696C29.1969 30.8482 26.1721 32.9541 22.7256 33.9731C19.279 34.9921 15.5954 34.8698 12.2241 33.6242C8.85279 32.3787 5.97441 30.0768 4.01825 27.0617C2.0621 24.0467 1.13297 20.48 1.36945 16.8938C1.60592 13.3075 2.99533 9.89381 5.33045 7.16173C7.66558 4.42964 10.8213 2.52557 14.327 1.73351C17.8326 0.941453 21.5004 1.30383 24.7833 2.7666",stroke:h||"#FB6542","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{transform:"translate(11.67, 3.34)",d:"M22.6667 1.66663L6 18.35L1 13.35",stroke:h||"#FB6542","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}))};n.default=s},function(k,n,t){"use strict";t.r(n),t.d(n,"ReplyIcon",function(){return O}),t.d(n,"ReplyIconCircle",function(){return s});var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(r,i,h)=>i in r?o(r,i,{enumerable:!0,configurable:!0,writable:!0,value:h}):r[i]=h,p=(r,i)=>{for(var h in i||(i={}))u.call(i,h)&&m(r,h,i[h]);if(c)for(var h of c(i))f.call(i,h)&&m(r,h,i[h]);return r},g=(r,i)=>l(r,d(i));function O(r){return Object(e.h)("svg",p({width:"12",height:"12",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},r),Object(e.h)("path",{d:"M5.67709 10C6.02484 10 6.28151 9.73617 6.28151 9.37872V7.91489H6.37259C7.82981 7.91489 8.69917 8.39574 9.30773 9.54894C9.48574 9.88085 9.69273 9.97021 9.93698 9.97021C10.2682 9.97021 10.5 9.64255 10.5 9.00426C10.5 5.94894 9.16283 4.10638 6.37259 4.10638H6.28151V2.64255C6.28151 2.28511 6.02484 2 5.66881 2C5.43698 2 5.27139 2.09787 5.01886 2.33617L1.73183 5.4766C1.56624 5.6383 1.5 5.82553 1.5 6C1.5 6.16596 1.57038 6.36596 1.73183 6.5234L5.01886 9.68511C5.24655 9.90213 5.43698 10 5.67709 10Z"}))}function s(r){return Object(e.h)(a.a,g(p({},r),{name:"reader2__ReplyIcon",svgParams:{height:22,width:22,stroke:"none"}}),Object(e.h)("circle",{cx:"11",cy:"11",r:"11",fill:"#1DA1F2"}),Object(e.h)("g",{transform:"translate(5 5)"},Object(e.h)("path",{fill:"#ffffff",d:"M5.67709 10C6.02484 10 6.28151 9.73617 6.28151 9.37872V7.91489H6.37259C7.82981 7.91489 8.69917 8.39574 9.30773 9.54894C9.48574 9.88085 9.69273 9.97021 9.93698 9.97021C10.2682 9.97021 10.5 9.64255 10.5 9.00426C10.5 5.94894 9.16283 4.10638 6.37259 4.10638H6.28151V2.64255C6.28151 2.28511 6.02484 2 5.66881 2C5.43698 2 5.27139 2.09787 5.01886 2.33617L1.73183 5.4766C1.56624 5.6383 1.5 5.82553 1.5 6C1.5 6.16596 1.57038 6.36596 1.73183 6.5234L5.01886 9.68511C5.24655 9.90213 5.43698 10 5.67709 10Z"})))}n.default=s},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"NoteForwardQuoteIcon",svgParams:{height:24,width:24,stroke:s.stroke,strokeWidth:s.strokeWidth}}),Object(e.h)("path",{d:"M13.4147 2.09993C10.4072 1.67249 7.2423 2.61548 4.92891 4.92887C1.02366 8.83411 1.02366 15.1658 4.92891 19.071C8.83415 22.9762 15.1658 22.9762 19.071 19.071C21.3844 16.7576 22.3274 13.5927 21.9 10.5852M18.5 2.62126C18.8978 2.22343 19.4374 1.99994 20 1.99994C20.5626 1.99994 21.1021 2.22343 21.5 2.62126C21.8978 3.01908 22.1213 3.55865 22.1213 4.12126C22.1213 4.68387 21.8978 5.22343 21.5 5.62126L13 14.1213L8.99998 15.1213L9.99998 11.1213L18.5 2.62126Z","stroke-linecap":"round","stroke-linejoin":"round"}));n.default=O},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"CommentBadgeHeartIcon",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),Object(e.h)("path",{d:"M20.4134 4.58753C19.9121 4.08434 19.3164 3.68508 18.6606 3.41266C18.0047 3.14023 17.3015 3 16.5914 3C15.8812 3 15.178 3.14023 14.5222 3.41266C13.8663 3.68508 13.2707 4.08434 12.7694 4.58753L12 5.36717L11.2306 4.58753C10.7293 4.08434 10.1337 3.68508 9.47781 3.41266C8.82195 3.14023 8.11878 3 7.40863 3C6.69847 3 5.9953 3.14023 5.33944 3.41266C4.68358 3.68508 4.08793 4.08434 3.58665 4.58753C1.46832 6.70656 1.33842 10.2849 4.00631 13.0037L12 21L19.9937 13.0037C22.6616 10.2849 22.5317 6.70656 20.4134 4.58753Z"}));n.default=O},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"CommentBadgePinIcon",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),Object(e.h)("path",{d:"M5 14.4709C5 15.3204 5.57723 15.8867 6.45681 15.8867H11.0196V20.0246C11.0196 21.1024 11.7251 22.5 12 22.5C12.2657 22.5 12.9712 21.1024 12.9712 20.0246V15.8867H17.5432C18.4136 15.8867 19 15.3204 19 14.4709C19 12.5709 17.4882 10.6709 15.0236 9.74837L14.7487 5.66529C16.0772 4.91627 17.0759 4.11244 17.5249 3.55524C17.7723 3.23554 17.9005 2.89756 17.9005 2.58699C17.9005 1.96585 17.4149 1.5 16.7094 1.5H7.28141C6.57592 1.5 6.09031 1.96585 6.09031 2.58699C6.09031 2.89756 6.21859 3.23554 6.47513 3.55524C6.91492 4.11244 7.91361 4.91627 9.25131 5.66529L8.96728 9.74837C6.50262 10.6709 5 12.5709 5 14.4709Z"}));n.default=O},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"CommentBadgePenIcon",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.58889 3.9704L6.25332 2.32056C6.16709 1.89657 6.49112 1.5 6.92378 1.5H16.9301C17.442 1.5 17.8255 1.96925 17.7234 2.47094L17.4389 3.87C17.3621 4.2472 17.0304 4.51823 16.6455 4.51823H7.25935C6.93405 4.51823 6.65372 4.28918 6.58889 3.9704ZM4.67357 12.2151C6.5326 10.2165 7.65784 7.75994 8.04929 6.22991C8.12323 5.94092 8.37629 5.72559 8.67459 5.72559H15.3334C15.6317 5.72559 15.8847 5.94092 15.9587 6.22991C16.3501 7.75993 17.4754 10.2164 19.3344 12.215C19.5386 12.4346 19.5681 12.7681 19.3936 13.012L12.6044 22.4985V14.098C13.6219 13.8276 14.373 12.8839 14.373 11.7613C14.373 10.4277 13.3133 9.34668 12.0061 9.34668C10.6989 9.34668 9.63916 10.4277 9.63916 11.7613C9.63916 12.8827 10.3886 13.8256 11.4044 14.0971L11.4044 22.5L4.61435 13.012C4.43985 12.7681 4.46936 12.4346 4.67357 12.2151ZM11.1162 11.7619C11.1162 11.2618 11.5136 10.8564 12.0038 10.8564C12.494 10.8564 12.8914 11.2618 12.8914 11.7619C12.8914 12.262 12.494 12.6674 12.0038 12.6674C11.5136 12.6674 11.1162 12.262 11.1162 11.7619Z"}));n.default=O},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"EmailIcon",svgParams:{height:25,width:25,strokeWidth:0,fill:"#000Z"}}),Object(e.h)("g",null,Object(e.h)("path",{d:"M22.93,7a2.43,2.43,0,0,0-.41-.93A2.61,2.61,0,0,0,20.39,5H4.61A2.61,2.61,0,0,0,2.48,6.1,2.43,2.43,0,0,0,2.07,7h0A2.78,2.78,0,0,0,2,7.61v9.78A2.61,2.61,0,0,0,4.61,20H20.39A2.61,2.61,0,0,0,23,17.39V7.61A2.25,2.25,0,0,0,22.93,7ZM4.61,6H20.39a1.58,1.58,0,0,1,1.26.62l-8.91,5.31a.49.49,0,0,1-.47,0L3.35,6.62A1.58,1.58,0,0,1,4.61,6ZM22,17.39A1.61,1.61,0,0,1,20.39,19H4.61A1.61,1.61,0,0,1,3,17.39V7.58l8.77,5.22a1.48,1.48,0,0,0,1.47,0L22,7.58Z"})));n.default=O},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(r,i,h)=>i in r?o(r,i,{enumerable:!0,configurable:!0,writable:!0,value:h}):r[i]=h,p=(r,i)=>{for(var h in i||(i={}))u.call(i,h)&&m(r,h,i[h]);if(c)for(var h of c(i))f.call(i,h)&&m(r,h,i[h]);return r},g=(r,i)=>l(r,d(i)),O=(r,i)=>{var h={};for(var v in r)u.call(r,v)&&i.indexOf(v)<0&&(h[v]=r[v]);if(r!=null&&c)for(var v of c(r))i.indexOf(v)<0&&f.call(r,v)&&(h[v]=r[v]);return h};const s=r=>{var i=r,{color:h="#B6B6B6",height:v=18}=i,j=O(i,["color","height"]);return Object(e.h)(a.a,g(p({},j),{height:v,name:"LockFullIcon",svgParams:{height:18,width:18,viewBox:"0 0 18 18"}}),Object(e.h)("rect",{x:"5.5",y:"2.5",width:"7",height:"13",rx:"3.5",stroke:h,fill:"none"}),Object(e.h)("rect",{x:"3.5",y:"8.5",width:"11",height:"8",rx:"0.5",fill:h,stroke:h}))};n.default=s},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(572),o=t(13),l=Object.defineProperty,d=Object.defineProperties,c=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,p=(r,i,h)=>i in r?l(r,i,{enumerable:!0,configurable:!0,writable:!0,value:h}):r[i]=h,g=(r,i)=>{for(var h in i||(i={}))f.call(i,h)&&p(r,h,i[h]);if(u)for(var h of u(i))m.call(i,h)&&p(r,h,i[h]);return r},O=(r,i)=>d(r,c(i));const s=r=>Object(e.h)(o.a,O(g({},r),{name:"LucideRecommend",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),Object(e.h)(a.a,{height:24,stroke:r.stroke,fill:r.fill,strokeWidth:r.strokeWidth}));n.default=s},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(565),o=t(13),l=Object.defineProperty,d=Object.defineProperties,c=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,p=(r,i,h)=>i in r?l(r,i,{enumerable:!0,configurable:!0,writable:!0,value:h}):r[i]=h,g=(r,i)=>{for(var h in i||(i={}))f.call(i,h)&&p(r,h,i[h]);if(u)for(var h of u(i))m.call(i,h)&&p(r,h,i[h]);return r},O=(r,i)=>d(r,c(i));const s=r=>Object(e.h)(o.a,O(g({},r),{name:"LudiceArrowLeft",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),Object(e.h)(a.a,{height:24,stroke:r.stroke,fill:r.fill,strokeWidth:r.strokeWidth}));n.default=s},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(566),o=t(13),l=Object.defineProperty,d=Object.defineProperties,c=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,p=(r,i,h)=>i in r?l(r,i,{enumerable:!0,configurable:!0,writable:!0,value:h}):r[i]=h,g=(r,i)=>{for(var h in i||(i={}))f.call(i,h)&&p(r,h,i[h]);if(u)for(var h of u(i))m.call(i,h)&&p(r,h,i[h]);return r},O=(r,i)=>d(r,c(i));const s=r=>Object(e.h)(o.a,O(g({},r),{name:"LucideArrowRight",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),Object(e.h)(a.a,{height:24,stroke:r.stroke,fill:r.fill,strokeWidth:r.strokeWidth}));n.default=s},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(r,i,h)=>i in r?o(r,i,{enumerable:!0,configurable:!0,writable:!0,value:h}):r[i]=h,p=(r,i)=>{for(var h in i||(i={}))u.call(i,h)&&m(r,h,i[h]);if(c)for(var h of c(i))f.call(i,h)&&m(r,h,i[h]);return r},g=(r,i)=>l(r,d(i)),O=(r,i)=>{var h={};for(var v in r)u.call(r,v)&&i.indexOf(v)<0&&(h[v]=r[v]);if(r!=null&&c)for(var v of c(r))i.indexOf(v)<0&&f.call(r,v)&&(h[v]=r[v]);return h};const s=r=>{var i=r,{stroke:h="black",height:v=19,width:j=19}=i,y=O(i,["stroke","height","width"]);return Object(e.h)(a.a,g(p({},y),{name:"AdhocEmailIcon",svgParams:{height:v,width:j,viewBox:"0 0 19 19"}}),Object(e.h)("path",{d:"M3 4C3 3.72386 3.22386 3.5 3.5 3.5H13C13.2761 3.5 13.5 3.72386 13.5 4V12.5C13.5 12.7761 13.2761 13 13 13H3.5C3.22386 13 3 12.7761 3 12.5V4Z",stroke:h}),Object(e.h)("path",{d:"M3.5 4L8.25 9.02499L13 4",stroke:h,"stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M5 13.5V15C5 15.2761 5.22386 15.5 5.5 15.5H15.3151C15.5913 15.5 15.8151 15.2761 15.8151 15V7C15.8151 6.72386 15.5913 6.5 15.3151 6.5H14",stroke:h}))};n.default=s},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"TikTokSimpleIcon",svgParams:{height:24,width:24}}),Object(e.h)("path",{d:"M18.7113 6.09867C18.5721 6.02672 18.4366 5.94785 18.3053 5.86234C17.9234 5.60988 17.5733 5.31241 17.2624 4.97633C16.4847 4.08645 16.1942 3.18367 16.0872 2.5516H16.0915C16.0022 2.02695 16.0391 1.6875 16.0447 1.6875H12.5024V15.3851C12.5024 15.569 12.5024 15.7507 12.4946 15.9304C12.4946 15.9527 12.4925 15.9733 12.4912 15.9974C12.4912 16.0073 12.4912 16.0176 12.489 16.0279C12.489 16.0305 12.489 16.033 12.489 16.0356C12.4517 16.5271 12.2942 17.0019 12.0303 17.4181C11.7664 17.8344 11.4042 18.1795 10.9757 18.423C10.529 18.6771 10.0239 18.8104 9.51002 18.8097C7.85959 18.8097 6.52197 17.4639 6.52197 15.8019C6.52197 14.1398 7.85959 12.7941 9.51002 12.7941C9.82244 12.7938 10.1329 12.8429 10.43 12.9397L10.4343 9.33293C9.53252 9.21645 8.61641 9.28811 7.74373 9.54341C6.87106 9.7987 6.06076 10.2321 5.36396 10.8162C4.75341 11.3467 4.24011 11.9797 3.84717 12.6866C3.69764 12.9445 3.13346 13.9804 3.06514 15.6618C3.02217 16.6161 3.30877 17.6048 3.44541 18.0135V18.0221C3.53135 18.2627 3.86435 19.0838 4.40705 19.7761C4.84466 20.3313 5.36168 20.8191 5.94146 21.2237V21.2151L5.95006 21.2237C7.66494 22.389 9.56631 22.3125 9.56631 22.3125C9.89545 22.2992 10.998 22.3125 12.2501 21.7191C13.6389 21.0613 14.4295 20.0811 14.4295 20.0811C14.9346 19.4955 15.3362 18.8281 15.6172 18.1076C15.9377 17.265 16.0447 16.2543 16.0447 15.8504V8.58355C16.0877 8.60934 16.66 8.98789 16.66 8.98789C16.66 8.98789 17.4846 9.51641 18.7711 9.86059C19.694 10.1055 20.9376 10.1571 20.9376 10.1571V6.64051C20.5019 6.68777 19.6171 6.55027 18.7113 6.09867Z"}));n.default=O},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(r,i,h)=>i in r?o(r,i,{enumerable:!0,configurable:!0,writable:!0,value:h}):r[i]=h,p=(r,i)=>{for(var h in i||(i={}))u.call(i,h)&&m(r,h,i[h]);if(c)for(var h of c(i))f.call(i,h)&&m(r,h,i[h]);return r},g=(r,i)=>l(r,d(i)),O=(r,i)=>{var h={};for(var v in r)u.call(r,v)&&i.indexOf(v)<0&&(h[v]=r[v]);if(r!=null&&c)for(var v of c(r))i.indexOf(v)<0&&f.call(r,v)&&(h[v]=r[v]);return h};const s=r=>{var i=r,{stroke:h}=i,v=O(i,["stroke"]);return Object(e.h)(a.a,g(p({},v),{name:"SearchIcon",svgParams:{height:24,width:24}}),Object(e.h)("path",{d:"M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z",stroke:h||"#555555","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Object(e.h)("path",{d:"M21.0004 21.0004L16.6504 16.6504",stroke:h||"#555555","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}))};n.default=s},,,,function(k,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=e;function e(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;for(var l in o)typeof a[l]=="undefined"&&(a[l]=o[l]);return a}k.exports=n.default,k.exports.default=n.default},function(k,n,t){"use strict";n.__esModule=!0,n.tokenize=n.test=n.scanner=n.parser=n.options=n.inherits=n.find=void 0;var e=t(393),a=t(944),o=f(a),l=t(945),d=f(l),c=t(946),u=f(c);function f(O){if(O&&O.__esModule)return O;var s={};if(O!=null)for(var r in O)Object.prototype.hasOwnProperty.call(O,r)&&(s[r]=O[r]);return s.default=O,s}Array.isArray||(Array.isArray=function(O){return Object.prototype.toString.call(O)==="[object Array]"});var m=function(s){return u.run(d.run(s))},p=function(s){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,i=m(s),h=[],v=0;v<i.length;v++){var j=i[v];j.isLink&&(!r||j.type===r)&&h.push(j.toObject())}return h},g=function(s){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,i=m(s);return i.length===1&&i[0].isLink&&(!r||i[0].type===r)};n.find=p,n.inherits=e.inherits,n.options=o,n.parser=u,n.scanner=d,n.test=g,n.tokenize=m},function(k,n,t){"use strict";n.__esModule=!0,n.stateify=n.TokenState=n.CharacterState=void 0;var e=t(393);function a(){return function(u){this.j=[],this.T=u||null}}var o=a();o.prototype={defaultTransition:!1,on:function(f,m){if(f instanceof Array){for(var p=0;p<f.length;p++)this.j.push([f[p],m]);return this}return this.j.push([f,m]),this},next:function(f){for(var m=0;m<this.j.length;m++){var p=this.j[m],g=p[0],O=p[1];if(this.test(f,g))return O}return this.defaultTransition},accepts:function(){return!!this.T},test:function(f,m){return f===m},emit:function(){return this.T}};var l=(0,e.inherits)(o,a(),{test:function(f,m){return f===m||m instanceof RegExp&&m.test(f)}}),d=(0,e.inherits)(o,a(),{jump:function(f){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,p=this.next(new f(""));return p===this.defaultTransition?(p=new this.constructor(m),this.on(f,p)):m&&(p.T=m),p},test:function(f,m){return f instanceof m}});function c(u,f,m,p){for(var g=0,O=u.length,s=f,r=[],i=void 0;g<O&&(i=s.next(u[g]));)s=i,g++;if(g>=O)return[];for(;g<O-1;)i=new l(p),r.push(i),s.on(u[g],i),s=i,g++;return i=new l(m),r.push(i),s.on(u[O-1],i),r}n.CharacterState=l,n.TokenState=d,n.stateify=c},function(k,n,t){"use strict";n.__esModule=!0;function e(){return function(a){a&&(this.v=a)}}n.createTokenClass=e},function(k,n,t){"use strict";var e=this&&this.__extends||function(){var s=function(r,i){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,v){h.__proto__=v}||function(h,v){for(var j in v)v.hasOwnProperty(j)&&(h[j]=v[j])},s(r,i)};return function(r,i){s(r,i);function h(){this.constructor=r}r.prototype=i===null?Object.create(i):(h.prototype=i.prototype,new h)}}(),a=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(n,"__esModule",{value:!0});var o=a(t(740)),l=t(784),d=new Set(["input","option","optgroup","select","button","datalist","textarea"]),c=new Set(["p"]),u={tr:new Set(["tr","th","td"]),th:new Set(["th"]),td:new Set(["thead","th","td"]),body:new Set(["head","link","script"]),li:new Set(["li"]),p:c,h1:c,h2:c,h3:c,h4:c,h5:c,h6:c,select:d,input:d,output:d,button:d,datalist:d,textarea:d,option:new Set(["option"]),optgroup:new Set(["optgroup","option"]),dd:new Set(["dt","dd"]),dt:new Set(["dt","dd"]),address:c,article:c,aside:c,blockquote:c,details:c,div:c,dl:c,fieldset:c,figcaption:c,figure:c,footer:c,form:c,header:c,hr:c,main:c,nav:c,ol:c,pre:c,section:c,table:c,ul:c,rt:new Set(["rt","rp"]),rp:new Set(["rt","rp"]),tbody:new Set(["thead","tbody"]),tfoot:new Set(["thead","tbody"])},f=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),m=new Set(["math","svg"]),p=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),g=/\s|\//,O=function(s){e(r,s);function r(i,h){var v=s.call(this)||this;return v._tagname="",v._attribname="",v._attribvalue="",v._attribs=null,v._stack=[],v._foreignContext=[],v.startIndex=0,v.endIndex=null,v.parseChunk=r.prototype.write,v.done=r.prototype.end,v._options=h||{},v._cbs=i||{},v._tagname="",v._attribname="",v._attribvalue="",v._attribs=null,v._stack=[],v._foreignContext=[],v.startIndex=0,v.endIndex=null,v._lowerCaseTagNames="lowerCaseTags"in v._options?!!v._options.lowerCaseTags:!v._options.xmlMode,v._lowerCaseAttributeNames="lowerCaseAttributeNames"in v._options?!!v._options.lowerCaseAttributeNames:!v._options.xmlMode,v._tokenizer=new(v._options.Tokenizer||o.default)(v._options,v),v._cbs.onparserinit&&v._cbs.onparserinit(v),v}return r.prototype._updatePosition=function(i){this.endIndex===null?this._tokenizer._sectionStart<=i?this.startIndex=0:this.startIndex=this._tokenizer._sectionStart-i:this.startIndex=this.endIndex+1,this.endIndex=this._tokenizer.getAbsoluteIndex()},r.prototype.ontext=function(i){this._updatePosition(1),this.endIndex--,this._cbs.ontext&&this._cbs.ontext(i)},r.prototype.onopentagname=function(i){if(this._lowerCaseTagNames&&(i=i.toLowerCase()),this._tagname=i,!this._options.xmlMode&&Object.prototype.hasOwnProperty.call(u,i))for(var h=void 0;u[i].has(h=this._stack[this._stack.length-1]);this.onclosetag(h));(this._options.xmlMode||!f.has(i))&&(this._stack.push(i),m.has(i)?this._foreignContext.push(!0):p.has(i)&&this._foreignContext.push(!1)),this._cbs.onopentagname&&this._cbs.onopentagname(i),this._cbs.onopentag&&(this._attribs={})},r.prototype.onopentagend=function(){this._updatePosition(1),this._attribs&&(this._cbs.onopentag&&this._cbs.onopentag(this._tagname,this._attribs),this._attribs=null),!this._options.xmlMode&&this._cbs.onclosetag&&f.has(this._tagname)&&this._cbs.onclosetag(this._tagname),this._tagname=""},r.prototype.onclosetag=function(i){if(this._updatePosition(1),this._lowerCaseTagNames&&(i=i.toLowerCase()),(m.has(i)||p.has(i))&&this._foreignContext.pop(),this._stack.length&&(this._options.xmlMode||!f.has(i))){var h=this._stack.lastIndexOf(i);if(h!==-1)if(this._cbs.onclosetag)for(h=this._stack.length-h;h--;)this._cbs.onclosetag(this._stack.pop());else this._stack.length=h;else i==="p"&&!this._options.xmlMode&&(this.onopentagname(i),this._closeCurrentTag())}else!this._options.xmlMode&&(i==="br"||i==="p")&&(this.onopentagname(i),this._closeCurrentTag())},r.prototype.onselfclosingtag=function(){this._options.xmlMode||this._options.recognizeSelfClosing||this._foreignContext[this._foreignContext.length-1]?this._closeCurrentTag():this.onopentagend()},r.prototype._closeCurrentTag=function(){var i=this._tagname;this.onopentagend(),this._stack[this._stack.length-1]===i&&(this._cbs.onclosetag&&this._cbs.onclosetag(i),this._stack.pop())},r.prototype.onattribname=function(i){this._lowerCaseAttributeNames&&(i=i.toLowerCase()),this._attribname=i},r.prototype.onattribdata=function(i){this._attribvalue+=i},r.prototype.onattribend=function(){this._cbs.onattribute&&this._cbs.onattribute(this._attribname,this._attribvalue),this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)&&(this._attribs[this._attribname]=this._attribvalue),this._attribname="",this._attribvalue=""},r.prototype._getInstructionName=function(i){var h=i.search(g),v=h<0?i:i.substr(0,h);return this._lowerCaseTagNames&&(v=v.toLowerCase()),v},r.prototype.ondeclaration=function(i){if(this._cbs.onprocessinginstruction){var h=this._getInstructionName(i);this._cbs.onprocessinginstruction("!"+h,"!"+i)}},r.prototype.onprocessinginstruction=function(i){if(this._cbs.onprocessinginstruction){var h=this._getInstructionName(i);this._cbs.onprocessinginstruction("?"+h,"?"+i)}},r.prototype.oncomment=function(i){this._updatePosition(4),this._cbs.oncomment&&this._cbs.oncomment(i),this._cbs.oncommentend&&this._cbs.oncommentend()},r.prototype.oncdata=function(i){this._updatePosition(1),this._options.xmlMode||this._options.recognizeCDATA?(this._cbs.oncdatastart&&this._cbs.oncdatastart(),this._cbs.ontext&&this._cbs.ontext(i),this._cbs.oncdataend&&this._cbs.oncdataend()):this.oncomment("[CDATA["+i+"]]")},r.prototype.onerror=function(i){this._cbs.onerror&&this._cbs.onerror(i)},r.prototype.onend=function(){if(this._cbs.onclosetag)for(var i=this._stack.length;i>0;this._cbs.onclosetag(this._stack[--i]));this._cbs.onend&&this._cbs.onend()},r.prototype.reset=function(){this._cbs.onreset&&this._cbs.onreset(),this._tokenizer.reset(),this._tagname="",this._attribname="",this._attribs=null,this._stack=[],this._cbs.onparserinit&&this._cbs.onparserinit(this)},r.prototype.parseComplete=function(i){this.reset(),this.end(i)},r.prototype.write=function(i){this._tokenizer.write(i)},r.prototype.end=function(i){this._tokenizer.end(i)},r.prototype.pause=function(){this._tokenizer.pause()},r.prototype.resume=function(){this._tokenizer.resume()},r}(l.EventEmitter);n.Parser=O},function(k,n,t){"use strict";var e=this&&this.__importDefault||function(D){return D&&D.__esModule?D:{default:D}};Object.defineProperty(n,"__esModule",{value:!0});var a=e(t(741)),o=e(t(485)),l=e(t(742)),d=e(t(486));function c(D){return D===" "||D===`
`||D==="	"||D==="\f"||D==="\r"}function u(D,w,U){var V=D.toLowerCase();return D===V?function(K,Y){Y===V?K._state=w:(K._state=U,K._index--)}:function(K,Y){Y===V||Y===D?K._state=w:(K._state=U,K._index--)}}function f(D,w){var U=D.toLowerCase();return function(V,K){K===U||K===D?V._state=w:(V._state=3,V._index--)}}var m=u("C",23,16),p=u("D",24,16),g=u("A",25,16),O=u("T",26,16),s=u("A",27,16),r=f("R",34),i=f("I",35),h=f("P",36),v=f("T",37),j=u("R",39,1),y=u("I",40,1),b=u("P",41,1),E=u("T",42,1),P=f("Y",44),A=f("L",45),_=f("E",46),M=u("Y",48,1),F=u("L",49,1),H=u("E",50,1),C=u("#",52,53),T=u("X",55,54),S=function(){function D(w,U){this._state=1,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=1,this._special=1,this._running=!0,this._ended=!1,this._cbs=U,this._xmlMode=!!(w&&w.xmlMode),this._decodeEntities=!!(w&&w.decodeEntities)}return D.prototype.reset=function(){this._state=1,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=1,this._special=1,this._running=!0,this._ended=!1},D.prototype._stateText=function(w){w==="<"?(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._state=2,this._sectionStart=this._index):this._decodeEntities&&this._special===1&&w==="&"&&(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._baseState=1,this._state=51,this._sectionStart=this._index)},D.prototype._stateBeforeTagName=function(w){w==="/"?this._state=5:w==="<"?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):w===">"||this._special!==1||c(w)?this._state=1:w==="!"?(this._state=15,this._sectionStart=this._index+1):w==="?"?(this._state=17,this._sectionStart=this._index+1):(this._state=!this._xmlMode&&(w==="s"||w==="S")?31:3,this._sectionStart=this._index)},D.prototype._stateInTagName=function(w){(w==="/"||w===">"||c(w))&&(this._emitToken("onopentagname"),this._state=8,this._index--)},D.prototype._stateBeforeClosingTagName=function(w){c(w)||(w===">"?this._state=1:this._special!==1?w==="s"||w==="S"?this._state=32:(this._state=1,this._index--):(this._state=6,this._sectionStart=this._index))},D.prototype._stateInClosingTagName=function(w){(w===">"||c(w))&&(this._emitToken("onclosetag"),this._state=7,this._index--)},D.prototype._stateAfterClosingTagName=function(w){w===">"&&(this._state=1,this._sectionStart=this._index+1)},D.prototype._stateBeforeAttributeName=function(w){w===">"?(this._cbs.onopentagend(),this._state=1,this._sectionStart=this._index+1):w==="/"?this._state=4:c(w)||(this._state=9,this._sectionStart=this._index)},D.prototype._stateInSelfClosingTag=function(w){w===">"?(this._cbs.onselfclosingtag(),this._state=1,this._sectionStart=this._index+1):c(w)||(this._state=8,this._index--)},D.prototype._stateInAttributeName=function(w){(w==="="||w==="/"||w===">"||c(w))&&(this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=10,this._index--)},D.prototype._stateAfterAttributeName=function(w){w==="="?this._state=11:w==="/"||w===">"?(this._cbs.onattribend(),this._state=8,this._index--):c(w)||(this._cbs.onattribend(),this._state=9,this._sectionStart=this._index)},D.prototype._stateBeforeAttributeValue=function(w){w==='"'?(this._state=12,this._sectionStart=this._index+1):w==="'"?(this._state=13,this._sectionStart=this._index+1):c(w)||(this._state=14,this._sectionStart=this._index,this._index--)},D.prototype._stateInAttributeValueDoubleQuotes=function(w){w==='"'?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=8):this._decodeEntities&&w==="&"&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=51,this._sectionStart=this._index)},D.prototype._stateInAttributeValueSingleQuotes=function(w){w==="'"?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=8):this._decodeEntities&&w==="&"&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=51,this._sectionStart=this._index)},D.prototype._stateInAttributeValueNoQuotes=function(w){c(w)||w===">"?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=8,this._index--):this._decodeEntities&&w==="&"&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=51,this._sectionStart=this._index)},D.prototype._stateBeforeDeclaration=function(w){this._state=w==="["?22:w==="-"?18:16},D.prototype._stateInDeclaration=function(w){w===">"&&(this._cbs.ondeclaration(this._getSection()),this._state=1,this._sectionStart=this._index+1)},D.prototype._stateInProcessingInstruction=function(w){w===">"&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=1,this._sectionStart=this._index+1)},D.prototype._stateBeforeComment=function(w){w==="-"?(this._state=19,this._sectionStart=this._index+1):this._state=16},D.prototype._stateInComment=function(w){w==="-"&&(this._state=20)},D.prototype._stateAfterComment1=function(w){w==="-"?this._state=21:this._state=19},D.prototype._stateAfterComment2=function(w){w===">"?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=1,this._sectionStart=this._index+1):w!=="-"&&(this._state=19)},D.prototype._stateBeforeCdata6=function(w){w==="["?(this._state=28,this._sectionStart=this._index+1):(this._state=16,this._index--)},D.prototype._stateInCdata=function(w){w==="]"&&(this._state=29)},D.prototype._stateAfterCdata1=function(w){w==="]"?this._state=30:this._state=28},D.prototype._stateAfterCdata2=function(w){w===">"?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=1,this._sectionStart=this._index+1):w!=="]"&&(this._state=28)},D.prototype._stateBeforeSpecial=function(w){w==="c"||w==="C"?this._state=33:w==="t"||w==="T"?this._state=43:(this._state=3,this._index--)},D.prototype._stateBeforeSpecialEnd=function(w){this._special===2&&(w==="c"||w==="C")?this._state=38:this._special===3&&(w==="t"||w==="T")?this._state=47:this._state=1},D.prototype._stateBeforeScript5=function(w){(w==="/"||w===">"||c(w))&&(this._special=2),this._state=3,this._index--},D.prototype._stateAfterScript5=function(w){w===">"||c(w)?(this._special=1,this._state=6,this._sectionStart=this._index-6,this._index--):this._state=1},D.prototype._stateBeforeStyle4=function(w){(w==="/"||w===">"||c(w))&&(this._special=3),this._state=3,this._index--},D.prototype._stateAfterStyle4=function(w){w===">"||c(w)?(this._special=1,this._state=6,this._sectionStart=this._index-5,this._index--):this._state=1},D.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var w=this._buffer.substring(this._sectionStart+1,this._index),U=this._xmlMode?d.default:o.default;Object.prototype.hasOwnProperty.call(U,w)&&(this._emitPartial(U[w]),this._sectionStart=this._index+1)}},D.prototype._parseLegacyEntity=function(){var w=this._sectionStart+1,U=this._index-w;for(U>6&&(U=6);U>=2;){var V=this._buffer.substr(w,U);if(Object.prototype.hasOwnProperty.call(l.default,V)){this._emitPartial(l.default[V]),this._sectionStart+=U+1;return}else U--}},D.prototype._stateInNamedEntity=function(w){w===";"?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):(w<"a"||w>"z")&&(w<"A"||w>"Z")&&(w<"0"||w>"9")&&(this._xmlMode||this._sectionStart+1===this._index||(this._baseState!==1?w!=="="&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)},D.prototype._decodeNumericEntity=function(w,U){var V=this._sectionStart+w;if(V!==this._index){var K=this._buffer.substring(V,this._index),Y=parseInt(K,U);this._emitPartial(a.default(Y)),this._sectionStart=this._index}else this._sectionStart--;this._state=this._baseState},D.prototype._stateInNumericEntity=function(w){w===";"?(this._decodeNumericEntity(2,10),this._sectionStart++):(w<"0"||w>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(2,10),this._index--)},D.prototype._stateInHexEntity=function(w){w===";"?(this._decodeNumericEntity(3,16),this._sectionStart++):(w<"a"||w>"f")&&(w<"A"||w>"F")&&(w<"0"||w>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(3,16),this._index--)},D.prototype._cleanup=function(){this._sectionStart<0?(this._buffer="",this._bufferOffset+=this._index,this._index=0):this._running&&(this._state===1?(this._sectionStart!==this._index&&this._cbs.ontext(this._buffer.substr(this._sectionStart)),this._buffer="",this._bufferOffset+=this._index,this._index=0):this._sectionStart===this._index?(this._buffer="",this._bufferOffset+=this._index,this._index=0):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart),this._sectionStart=0)},D.prototype.write=function(w){this._ended&&this._cbs.onerror(Error(".write() after done!")),this._buffer+=w,this._parse()},D.prototype._parse=function(){for(;this._index<this._buffer.length&&this._running;){var w=this._buffer.charAt(this._index);this._state===1?this._stateText(w):this._state===12?this._stateInAttributeValueDoubleQuotes(w):this._state===9?this._stateInAttributeName(w):this._state===19?this._stateInComment(w):this._state===8?this._stateBeforeAttributeName(w):this._state===3?this._stateInTagName(w):this._state===6?this._stateInClosingTagName(w):this._state===2?this._stateBeforeTagName(w):this._state===10?this._stateAfterAttributeName(w):this._state===13?this._stateInAttributeValueSingleQuotes(w):this._state===11?this._stateBeforeAttributeValue(w):this._state===5?this._stateBeforeClosingTagName(w):this._state===7?this._stateAfterClosingTagName(w):this._state===31?this._stateBeforeSpecial(w):this._state===20?this._stateAfterComment1(w):this._state===14?this._stateInAttributeValueNoQuotes(w):this._state===4?this._stateInSelfClosingTag(w):this._state===16?this._stateInDeclaration(w):this._state===15?this._stateBeforeDeclaration(w):this._state===21?this._stateAfterComment2(w):this._state===18?this._stateBeforeComment(w):this._state===32?this._stateBeforeSpecialEnd(w):this._state===38?j(this,w):this._state===39?y(this,w):this._state===40?b(this,w):this._state===33?r(this,w):this._state===34?i(this,w):this._state===35?h(this,w):this._state===36?v(this,w):this._state===37?this._stateBeforeScript5(w):this._state===41?E(this,w):this._state===42?this._stateAfterScript5(w):this._state===43?P(this,w):this._state===28?this._stateInCdata(w):this._state===44?A(this,w):this._state===45?_(this,w):this._state===46?this._stateBeforeStyle4(w):this._state===47?M(this,w):this._state===48?F(this,w):this._state===49?H(this,w):this._state===50?this._stateAfterStyle4(w):this._state===17?this._stateInProcessingInstruction(w):this._state===53?this._stateInNamedEntity(w):this._state===22?m(this,w):this._state===51?C(this,w):this._state===23?p(this,w):this._state===24?g(this,w):this._state===29?this._stateAfterCdata1(w):this._state===30?this._stateAfterCdata2(w):this._state===25?O(this,w):this._state===26?s(this,w):this._state===27?this._stateBeforeCdata6(w):this._state===55?this._stateInHexEntity(w):this._state===54?this._stateInNumericEntity(w):this._state===52?T(this,w):this._cbs.onerror(Error("unknown _state"),this._state),this._index++}this._cleanup()},D.prototype.pause=function(){this._running=!1},D.prototype.resume=function(){this._running=!0,this._index<this._buffer.length&&this._parse(),this._ended&&this._finish()},D.prototype.end=function(w){this._ended&&this._cbs.onerror(Error(".end() after done!")),w&&this.write(w),this._ended=!0,this._running&&this._finish()},D.prototype._finish=function(){this._sectionStart<this._index&&this._handleTrailingData(),this._cbs.onend()},D.prototype._handleTrailingData=function(){var w=this._buffer.substr(this._sectionStart);this._state===28||this._state===29||this._state===30?this._cbs.oncdata(w):this._state===19||this._state===20||this._state===21?this._cbs.oncomment(w):this._state===53&&!this._xmlMode?(this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):this._state===54&&!this._xmlMode?(this._decodeNumericEntity(2,10),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):this._state===55&&!this._xmlMode?(this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):this._state!==3&&this._state!==8&&this._state!==11&&this._state!==10&&this._state!==9&&this._state!==13&&this._state!==12&&this._state!==14&&this._state!==6&&this._cbs.ontext(w)},D.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index},D.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)},D.prototype._emitToken=function(w){this._cbs[w](this._getSection()),this._sectionStart=-1},D.prototype._emitPartial=function(w){this._baseState!==1?this._cbs.onattribdata(w):this._cbs.ontext(w)},D}();n.default=S},function(k,n,t){"use strict";var e=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(n,"__esModule",{value:!0});var a=e(t(952)),o=String.fromCodePoint||function(d){var c="";return d>65535&&(d-=65536,c+=String.fromCharCode(d>>>10&1023|55296),d=56320|d&1023),c+=String.fromCharCode(d),c};function l(d){return d>=55296&&d<=57343||d>1114111?"\uFFFD":(d in a.default&&(d=a.default[d]),o(d))}n.default=l},function(k){k.exports=JSON.parse('{"Aacute":"\xC1","aacute":"\xE1","Acirc":"\xC2","acirc":"\xE2","acute":"\xB4","AElig":"\xC6","aelig":"\xE6","Agrave":"\xC0","agrave":"\xE0","amp":"&","AMP":"&","Aring":"\xC5","aring":"\xE5","Atilde":"\xC3","atilde":"\xE3","Auml":"\xC4","auml":"\xE4","brvbar":"\xA6","Ccedil":"\xC7","ccedil":"\xE7","cedil":"\xB8","cent":"\xA2","copy":"\xA9","COPY":"\xA9","curren":"\xA4","deg":"\xB0","divide":"\xF7","Eacute":"\xC9","eacute":"\xE9","Ecirc":"\xCA","ecirc":"\xEA","Egrave":"\xC8","egrave":"\xE8","ETH":"\xD0","eth":"\xF0","Euml":"\xCB","euml":"\xEB","frac12":"\xBD","frac14":"\xBC","frac34":"\xBE","gt":">","GT":">","Iacute":"\xCD","iacute":"\xED","Icirc":"\xCE","icirc":"\xEE","iexcl":"\xA1","Igrave":"\xCC","igrave":"\xEC","iquest":"\xBF","Iuml":"\xCF","iuml":"\xEF","laquo":"\xAB","lt":"<","LT":"<","macr":"\xAF","micro":"\xB5","middot":"\xB7","nbsp":"\xA0","not":"\xAC","Ntilde":"\xD1","ntilde":"\xF1","Oacute":"\xD3","oacute":"\xF3","Ocirc":"\xD4","ocirc":"\xF4","Ograve":"\xD2","ograve":"\xF2","ordf":"\xAA","ordm":"\xBA","Oslash":"\xD8","oslash":"\xF8","Otilde":"\xD5","otilde":"\xF5","Ouml":"\xD6","ouml":"\xF6","para":"\xB6","plusmn":"\xB1","pound":"\xA3","quot":"\\"","QUOT":"\\"","raquo":"\xBB","reg":"\xAE","REG":"\xAE","sect":"\xA7","shy":"\xAD","sup1":"\xB9","sup2":"\xB2","sup3":"\xB3","szlig":"\xDF","THORN":"\xDE","thorn":"\xFE","times":"\xD7","Uacute":"\xDA","uacute":"\xFA","Ucirc":"\xDB","ucirc":"\xFB","Ugrave":"\xD9","ugrave":"\xF9","uml":"\xA8","Uuml":"\xDC","uuml":"\xFC","Yacute":"\xDD","yacute":"\xFD","yen":"\xA5","yuml":"\xFF"}')},function(k,n,t){"use strict";var e=this&&this.__createBinding||(Object.create?function(u,f,m,p){p===void 0&&(p=m),Object.defineProperty(u,p,{enumerable:!0,get:function(){return f[m]}})}:function(u,f,m,p){p===void 0&&(p=m),u[p]=f[m]}),a=this&&this.__exportStar||function(u,f){for(var m in u)m!=="default"&&!Object.prototype.hasOwnProperty.call(f,m)&&e(f,u,m)};Object.defineProperty(n,"__esModule",{value:!0}),n.DomHandler=void 0;var o=t(744);a(t(744),n);var l=/\s+/g,d={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1},c=function(){function u(f,m,p){this.dom=[],this._done=!1,this._tagStack=[],this._lastNode=null,this._parser=null,typeof m=="function"&&(p=m,m=d),typeof f=="object"&&(m=f,f=void 0),this._callback=f!=null?f:null,this._options=m!=null?m:d,this._elementCB=p!=null?p:null}return u.prototype.onparserinit=function(f){this._parser=f},u.prototype.onreset=function(){var f;this.dom=[],this._done=!1,this._tagStack=[],this._lastNode=null,this._parser=(f=this._parser)!==null&&f!==void 0?f:null},u.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this.handleCallback(null))},u.prototype.onerror=function(f){this.handleCallback(f)},u.prototype.onclosetag=function(){this._lastNode=null;var f=this._tagStack.pop();!f||!this._parser||(this._options.withEndIndices&&(f.endIndex=this._parser.endIndex),this._elementCB&&this._elementCB(f))},u.prototype.onopentag=function(f,m){var p=new o.Element(f,m);this.addNode(p),this._tagStack.push(p)},u.prototype.ontext=function(f){var m=this._options.normalizeWhitespace,p=this._lastNode;if(p&&p.type==="text")m?p.data=(p.data+f).replace(l," "):p.data+=f;else{m&&(f=f.replace(l," "));var g=new o.Text(f);this.addNode(g),this._lastNode=g}},u.prototype.oncomment=function(f){if(this._lastNode&&this._lastNode.type==="comment"){this._lastNode.data+=f;return}var m=new o.Comment(f);this.addNode(m),this._lastNode=m},u.prototype.oncommentend=function(){this._lastNode=null},u.prototype.oncdatastart=function(){var f=new o.Text(""),m=new o.NodeWithChildren("cdata",[f]);this.addNode(m),f.parent=m,this._lastNode=f},u.prototype.oncdataend=function(){this._lastNode=null},u.prototype.onprocessinginstruction=function(f,m){var p=new o.ProcessingInstruction(f,m);this.addNode(p)},u.prototype.handleCallback=function(f){if(typeof this._callback=="function")this._callback(f,this.dom);else if(f)throw f},u.prototype.addNode=function(f){var m=this._tagStack[this._tagStack.length-1],p=m?m.children:this.dom,g=p[p.length-1];this._parser&&(this._options.withStartIndices&&(f.startIndex=this._parser.startIndex),this._options.withEndIndices&&(f.endIndex=this._parser.endIndex)),p.push(f),g&&(f.prev=g,g.next=f),m&&(f.parent=m),this._lastNode=null},u.prototype.addDataNode=function(f){this.addNode(f),this._lastNode=f},u}();n.DomHandler=c,n.default=c},function(k,n,t){"use strict";var e=this&&this.__extends||function(){var s=function(r,i){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,v){h.__proto__=v}||function(h,v){for(var j in v)Object.prototype.hasOwnProperty.call(v,j)&&(h[j]=v[j])},s(r,i)};return function(r,i){s(r,i);function h(){this.constructor=r}r.prototype=i===null?Object.create(i):(h.prototype=i.prototype,new h)}}(),a=this&&this.__assign||function(){return a=Object.assign||function(s){for(var r,i=1,h=arguments.length;i<h;i++){r=arguments[i];for(var v in r)Object.prototype.hasOwnProperty.call(r,v)&&(s[v]=r[v])}return s},a.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.cloneNode=n.Element=n.NodeWithChildren=n.ProcessingInstruction=n.Comment=n.Text=n.DataNode=n.Node=void 0;var o=new Map([["tag",1],["script",1],["style",1],["directive",1],["text",3],["cdata",4],["comment",8]]),l=function(){function s(r){this.type=r,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(s.prototype,"nodeType",{get:function(){var r;return(r=o.get(this.type))!==null&&r!==void 0?r:1},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"parentNode",{get:function(){return this.parent},set:function(r){this.parent=r},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"previousSibling",{get:function(){return this.prev},set:function(r){this.prev=r},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"nextSibling",{get:function(){return this.next},set:function(r){this.next=r},enumerable:!1,configurable:!0}),s.prototype.cloneNode=function(r){return r===void 0&&(r=!1),g(this,r)},s}();n.Node=l;var d=function(s){e(r,s);function r(i,h){var v=s.call(this,i)||this;return v.data=h,v}return Object.defineProperty(r.prototype,"nodeValue",{get:function(){return this.data},set:function(i){this.data=i},enumerable:!1,configurable:!0}),r}(l);n.DataNode=d;var c=function(s){e(r,s);function r(i){return s.call(this,"text",i)||this}return r}(d);n.Text=c;var u=function(s){e(r,s);function r(i){return s.call(this,"comment",i)||this}return r}(d);n.Comment=u;var f=function(s){e(r,s);function r(i,h){var v=s.call(this,"directive",h)||this;return v.name=i,v}return r}(d);n.ProcessingInstruction=f;var m=function(s){e(r,s);function r(i,h){var v=s.call(this,i)||this;return v.children=h,v}return Object.defineProperty(r.prototype,"firstChild",{get:function(){var i;return(i=this.children[0])!==null&&i!==void 0?i:null},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"childNodes",{get:function(){return this.children},set:function(i){this.children=i},enumerable:!1,configurable:!0}),r}(l);n.NodeWithChildren=m;var p=function(s){e(r,s);function r(i,h,v){v===void 0&&(v=[]);var j=s.call(this,i==="script"?"script":i==="style"?"style":"tag",v)||this;return j.name=i,j.attribs=h,j.attribs=h,j}return Object.defineProperty(r.prototype,"tagName",{get:function(){return this.name},set:function(i){this.name=i},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"attributes",{get:function(){var i=this;return Object.keys(this.attribs).map(function(h){return{name:h,value:i.attribs[h]}})},enumerable:!1,configurable:!0}),r}(m);n.Element=p;function g(s,r){switch(r===void 0&&(r=!1),s.type){case"text":return new c(s.data);case"directive":{var i=s;return new f(i.name,i.data)}case"comment":return new u(s.data);case"tag":case"script":case"style":{var h=s,v=r?O(h.children):[],j=new p(h.name,a({},h.attribs),v);return v.forEach(function(E){return E.parent=j}),j}case"cdata":{var y=s,v=r?O(y.children):[],b=new m("cdata",v);return v.forEach(function(P){return P.parent=b}),b}case"doctype":throw new Error("Not implemented yet: ElementType.Doctype case")}}n.cloneNode=g;function O(s){for(var r=s.map(function(h){return g(h,!0)}),i=1;i<r.length;i++)r[i].prev=r[i-1],r[i-1].next=r[i];return r}},function(k,n,t){"use strict";var e=this&&this.__extends||function(){var h=function(v,j){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,b){y.__proto__=b}||function(y,b){for(var E in b)b.hasOwnProperty(E)&&(y[E]=b[E])},h(v,j)};return function(v,j){h(v,j);function y(){this.constructor=v}v.prototype=j===null?Object.create(j):(y.prototype=j.prototype,new y)}}(),a=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}},o=this&&this.__importStar||function(h){if(h&&h.__esModule)return h;var v={};if(h!=null)for(var j in h)Object.hasOwnProperty.call(h,j)&&(v[j]=h[j]);return v.default=h,v};Object.defineProperty(n,"__esModule",{value:!0});var l=a(t(743)),d=o(t(746)),c=t(739),u=function(h){e(v,h);function v(j,y){var b=this;return typeof j=="object"&&j!==null&&(j=void 0,y=j),b=h.call(this,j,y)||this,b}return v.prototype.onend=function(){var j={},y=m(s,this.dom);if(y)if(y.name==="feed"){var b=y.children;j.type="atom",O(j,"id","id",b),O(j,"title","title",b);var E=g("href",m("link",b));E&&(j.link=E),O(j,"description","subtitle",b);var P=p("updated",b);P&&(j.updated=new Date(P)),O(j,"author","email",b,!0),j.items=f("entry",b).map(function(A){var _={},M=A.children;O(_,"id","id",M),O(_,"title","title",M);var F=g("href",m("link",M));F&&(_.link=F);var H=p("summary",M)||p("content",M);H&&(_.description=H);var C=p("updated",M);return C&&(_.pubDate=new Date(C)),_})}else{var b=m("channel",y.children).children;j.type=y.name.substr(0,3),j.id="",O(j,"title","title",b),O(j,"link","link",b),O(j,"description","description",b);var P=p("lastBuildDate",b);P&&(j.updated=new Date(P)),O(j,"author","managingEditor",b,!0),j.items=f("item",y.children).map(function(M){var F={},H=M.children;O(F,"id","guid",H),O(F,"title","title",H),O(F,"link","link",H),O(F,"description","description",H);var C=p("pubDate",H);return C&&(F.pubDate=new Date(C)),F})}this.feed=j,this.handleCallback(y?null:Error("couldn't find root of feed"))},v}(l.default);n.FeedHandler=u;function f(h,v){return d.getElementsByTagName(h,v,!0)}function m(h,v){return d.getElementsByTagName(h,v,!0,1)[0]}function p(h,v,j){return j===void 0&&(j=!1),d.getText(d.getElementsByTagName(h,v,j,1)).trim()}function g(h,v){if(!v)return null;var j=v.attribs;return j[h]}function O(h,v,j,y,b){b===void 0&&(b=!1);var E=p(j,y,b);E&&(h[v]=E)}function s(h){return h==="rss"||h==="feed"||h==="rdf:RDF"}var r={xmlMode:!0};function i(h,v){v===void 0&&(v=r);var j=new u(v);return new c.Parser(j,v).end(h),j.feed}n.parseFeed=i},function(k,n,t){"use strict";var e=this&&this.__createBinding||(Object.create?function(l,d,c,u){u===void 0&&(u=c),Object.defineProperty(l,u,{enumerable:!0,get:function(){return d[c]}})}:function(l,d,c,u){u===void 0&&(u=c),l[u]=d[c]}),a=this&&this.__exportStar||function(l,d){for(var c in l)c!=="default"&&!Object.prototype.hasOwnProperty.call(d,c)&&e(d,l,c)};Object.defineProperty(n,"__esModule",{value:!0}),n.hasChildren=n.isDocument=n.isComment=n.isText=n.isCDATA=n.isTag=void 0,a(t(747),n),a(t(956),n),a(t(957),n),a(t(751),n),a(t(752),n),a(t(958),n),a(t(959),n);var o=t(277);Object.defineProperty(n,"isTag",{enumerable:!0,get:function(){return o.isTag}}),Object.defineProperty(n,"isCDATA",{enumerable:!0,get:function(){return o.isCDATA}}),Object.defineProperty(n,"isText",{enumerable:!0,get:function(){return o.isText}}),Object.defineProperty(n,"isComment",{enumerable:!0,get:function(){return o.isComment}}),Object.defineProperty(n,"isDocument",{enumerable:!0,get:function(){return o.isDocument}}),Object.defineProperty(n,"hasChildren",{enumerable:!0,get:function(){return o.hasChildren}})},function(k,n,t){"use strict";var e=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(n,"__esModule",{value:!0}),n.innerText=n.textContent=n.getText=n.getInnerHTML=n.getOuterHTML=void 0;var a=t(277),o=e(t(953)),l=t(327);function d(p,g){return(0,o.default)(p,g)}n.getOuterHTML=d;function c(p,g){return(0,a.hasChildren)(p)?p.children.map(function(O){return d(O,g)}).join(""):""}n.getInnerHTML=c;function u(p){return Array.isArray(p)?p.map(u).join(""):(0,a.isTag)(p)?p.name==="br"?`
`:u(p.children):(0,a.isCDATA)(p)?u(p.children):(0,a.isText)(p)?p.data:""}n.getText=u;function f(p){return Array.isArray(p)?p.map(f).join(""):(0,a.hasChildren)(p)&&!(0,a.isComment)(p)?f(p.children):(0,a.isText)(p)?p.data:""}n.textContent=f;function m(p){return Array.isArray(p)?p.map(m).join(""):(0,a.hasChildren)(p)&&(p.type===l.ElementType.Tag||(0,a.isCDATA)(p))?m(p.children):(0,a.isText)(p)?p.data:""}n.innerText=m},function(k,n,t){"use strict";var e=this&&this.__extends||function(){var P=function(A,_){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,F){M.__proto__=F}||function(M,F){for(var H in F)Object.prototype.hasOwnProperty.call(F,H)&&(M[H]=F[H])},P(A,_)};return function(A,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");P(A,_);function M(){this.constructor=A}A.prototype=_===null?Object.create(_):(M.prototype=_.prototype,new M)}}(),a=this&&this.__assign||function(){return a=Object.assign||function(P){for(var A,_=1,M=arguments.length;_<M;_++){A=arguments[_];for(var F in A)Object.prototype.hasOwnProperty.call(A,F)&&(P[F]=A[F])}return P},a.apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.cloneNode=n.hasChildren=n.isDocument=n.isDirective=n.isComment=n.isText=n.isCDATA=n.isTag=n.Element=n.Document=n.NodeWithChildren=n.ProcessingInstruction=n.Comment=n.Text=n.DataNode=n.Node=void 0;var o=t(327),l=new Map([[o.ElementType.Tag,1],[o.ElementType.Script,1],[o.ElementType.Style,1],[o.ElementType.Directive,1],[o.ElementType.Text,3],[o.ElementType.CDATA,4],[o.ElementType.Comment,8],[o.ElementType.Root,9]]),d=function(){function P(A){this.type=A,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(P.prototype,"nodeType",{get:function(){var A;return(A=l.get(this.type))!==null&&A!==void 0?A:1},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"parentNode",{get:function(){return this.parent},set:function(A){this.parent=A},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"previousSibling",{get:function(){return this.prev},set:function(A){this.prev=A},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"nextSibling",{get:function(){return this.next},set:function(A){this.next=A},enumerable:!1,configurable:!0}),P.prototype.cloneNode=function(A){return A===void 0&&(A=!1),b(this,A)},P}();n.Node=d;var c=function(P){e(A,P);function A(_,M){var F=P.call(this,_)||this;return F.data=M,F}return Object.defineProperty(A.prototype,"nodeValue",{get:function(){return this.data},set:function(_){this.data=_},enumerable:!1,configurable:!0}),A}(d);n.DataNode=c;var u=function(P){e(A,P);function A(_){return P.call(this,o.ElementType.Text,_)||this}return A}(c);n.Text=u;var f=function(P){e(A,P);function A(_){return P.call(this,o.ElementType.Comment,_)||this}return A}(c);n.Comment=f;var m=function(P){e(A,P);function A(_,M){var F=P.call(this,o.ElementType.Directive,M)||this;return F.name=_,F}return A}(c);n.ProcessingInstruction=m;var p=function(P){e(A,P);function A(_,M){var F=P.call(this,_)||this;return F.children=M,F}return Object.defineProperty(A.prototype,"firstChild",{get:function(){var _;return(_=this.children[0])!==null&&_!==void 0?_:null},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"childNodes",{get:function(){return this.children},set:function(_){this.children=_},enumerable:!1,configurable:!0}),A}(d);n.NodeWithChildren=p;var g=function(P){e(A,P);function A(_){return P.call(this,o.ElementType.Root,_)||this}return A}(p);n.Document=g;var O=function(P){e(A,P);function A(_,M,F,H){F===void 0&&(F=[]),H===void 0&&(H=_==="script"?o.ElementType.Script:_==="style"?o.ElementType.Style:o.ElementType.Tag);var C=P.call(this,H,F)||this;return C.name=_,C.attribs=M,C}return Object.defineProperty(A.prototype,"tagName",{get:function(){return this.name},set:function(_){this.name=_},enumerable:!1,configurable:!0}),Object.defineProperty(A.prototype,"attributes",{get:function(){var _=this;return Object.keys(this.attribs).map(function(M){var F,H;return{name:M,value:_.attribs[M],namespace:(F=_["x-attribsNamespace"])===null||F===void 0?void 0:F[M],prefix:(H=_["x-attribsPrefix"])===null||H===void 0?void 0:H[M]}})},enumerable:!1,configurable:!0}),A}(p);n.Element=O;function s(P){return(0,o.isTag)(P)}n.isTag=s;function r(P){return P.type===o.ElementType.CDATA}n.isCDATA=r;function i(P){return P.type===o.ElementType.Text}n.isText=i;function h(P){return P.type===o.ElementType.Comment}n.isComment=h;function v(P){return P.type===o.ElementType.Directive}n.isDirective=v;function j(P){return P.type===o.ElementType.Root}n.isDocument=j;function y(P){return Object.prototype.hasOwnProperty.call(P,"children")}n.hasChildren=y;function b(P,A){A===void 0&&(A=!1);var _;if(i(P))_=new u(P.data);else if(h(P))_=new f(P.data);else if(s(P)){var M=A?E(P.children):[],F=new O(P.name,a({},P.attribs),M);M.forEach(function(S){return S.parent=F}),P.namespace!=null&&(F.namespace=P.namespace),P["x-attribsNamespace"]&&(F["x-attribsNamespace"]=a({},P["x-attribsNamespace"])),P["x-attribsPrefix"]&&(F["x-attribsPrefix"]=a({},P["x-attribsPrefix"])),_=F}else if(r(P)){var M=A?E(P.children):[],H=new p(o.ElementType.CDATA,M);M.forEach(function(D){return D.parent=H}),_=H}else if(j(P)){var M=A?E(P.children):[],C=new g(M);M.forEach(function(D){return D.parent=C}),P["x-mode"]&&(C["x-mode"]=P["x-mode"]),_=C}else if(v(P)){var T=new m(P.name,P.data);P["x-name"]!=null&&(T["x-name"]=P["x-name"],T["x-publicId"]=P["x-publicId"],T["x-systemId"]=P["x-systemId"]),_=T}else throw new Error("Not implemented yet: ".concat(P.type));return _.startIndex=P.startIndex,_.endIndex=P.endIndex,P.sourceCodeLocation!=null&&(_.sourceCodeLocation=P.sourceCodeLocation),_}n.cloneNode=b;function E(P){for(var A=P.map(function(M){return b(M,!0)}),_=1;_<A.length;_++)A[_].prev=A[_-1],A[_-1].next=A[_];return A}},function(k,n,t){"use strict";var e=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(n,"__esModule",{value:!0}),n.decodeHTML=n.decodeHTMLStrict=n.decodeXML=void 0;var a=e(t(485)),o=e(t(742)),l=e(t(486)),d=e(t(741)),c=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;n.decodeXML=u(l.default),n.decodeHTMLStrict=u(a.default);function u(p){var g=m(p);return function(O){return String(O).replace(c,g)}}var f=function(p,g){return p<g?1:-1};n.decodeHTML=function(){for(var p=Object.keys(o.default).sort(f),g=Object.keys(a.default).sort(f),O=0,s=0;O<g.length;O++)p[s]===g[O]?(g[O]+=";?",s++):g[O]+=";";var r=new RegExp("&(?:"+g.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),i=m(a.default);function h(v){return v.substr(-1)!==";"&&(v+=";"),i(v)}return function(v){return String(v).replace(r,h)}}();function m(p){return function(O){if(O.charAt(1)==="#"){var s=O.charAt(2);return s==="X"||s==="x"?d.default(parseInt(O.substr(3),16)):d.default(parseInt(O.substr(2),10))}return p[O.slice(1,-1)]||O}}},function(k,n,t){"use strict";var e=this&&this.__importDefault||function(j){return j&&j.__esModule?j:{default:j}};Object.defineProperty(n,"__esModule",{value:!0}),n.escapeUTF8=n.escape=n.encodeNonAsciiHTML=n.encodeHTML=n.encodeXML=void 0;var a=e(t(486)),o=f(a.default),l=m(o);n.encodeXML=v(o);var d=e(t(485)),c=f(d.default),u=m(c);n.encodeHTML=s(c,u),n.encodeNonAsciiHTML=v(c);function f(j){return Object.keys(j).sort().reduce(function(y,b){return y[j[b]]="&"+b+";",y},{})}function m(j){for(var y=[],b=[],E=0,P=Object.keys(j);E<P.length;E++){var A=P[E];A.length===1?y.push("\\"+A):b.push(A)}y.sort();for(var _=0;_<y.length-1;_++){for(var M=_;M<y.length-1&&y[M].charCodeAt(1)+1===y[M+1].charCodeAt(1);)M+=1;var F=1+M-_;F<3||y.splice(_,F,y[_]+"-"+y[M])}return b.unshift("["+y.join("")+"]"),new RegExp(b.join("|"),"g")}var p=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,g=String.prototype.codePointAt!=null?function(j){return j.codePointAt(0)}:function(j){return(j.charCodeAt(0)-55296)*1024+j.charCodeAt(1)-56320+65536};function O(j){return"&#x"+(j.length>1?g(j):j.charCodeAt(0)).toString(16).toUpperCase()+";"}function s(j,y){return function(b){return b.replace(y,function(E){return j[E]}).replace(p,O)}}var r=new RegExp(l.source+"|"+p.source,"g");function i(j){return j.replace(r,O)}n.escape=i;function h(j){return j.replace(l,O)}n.escapeUTF8=h;function v(j){return function(y){return y.replace(r,function(b){return j[b]||O(b)})}}},function(k,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.findAll=n.existsOne=n.findOne=n.findOneChild=n.find=n.filter=void 0;var e=t(277);function a(f,m,p,g){return p===void 0&&(p=!0),g===void 0&&(g=1/0),Array.isArray(m)||(m=[m]),o(f,m,p,g)}n.filter=a;function o(f,m,p,g){for(var O=[],s=0,r=m;s<r.length;s++){var i=r[s];if(f(i)&&(O.push(i),--g<=0))break;if(p&&(0,e.hasChildren)(i)&&i.children.length>0){var h=o(f,i.children,p,g);if(O.push.apply(O,h),g-=h.length,g<=0)break}}return O}n.find=o;function l(f,m){return m.find(f)}n.findOneChild=l;function d(f,m,p){p===void 0&&(p=!0);for(var g=null,O=0;O<m.length&&!g;O++){var s=m[O];if((0,e.isTag)(s))f(s)?g=s:p&&s.children.length>0&&(g=d(f,s.children));else continue}return g}n.findOne=d;function c(f,m){return m.some(function(p){return(0,e.isTag)(p)&&(f(p)||p.children.length>0&&c(f,p.children))})}n.existsOne=c;function u(f,m){for(var p,g=[],O=m.filter(e.isTag),s;s=O.shift();){var r=(p=s.children)===null||p===void 0?void 0:p.filter(e.isTag);r&&r.length>0&&O.unshift.apply(O,r),f(s)&&g.push(s)}return g}n.findAll=u},function(k,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getElementsByTagType=n.getElementsByTagName=n.getElementById=n.getElements=n.testElement=void 0;var e=t(277),a=t(751),o={tag_name:function(O){return typeof O=="function"?function(s){return(0,e.isTag)(s)&&O(s.name)}:O==="*"?e.isTag:function(s){return(0,e.isTag)(s)&&s.name===O}},tag_type:function(O){return typeof O=="function"?function(s){return O(s.type)}:function(s){return s.type===O}},tag_contains:function(O){return typeof O=="function"?function(s){return(0,e.isText)(s)&&O(s.data)}:function(s){return(0,e.isText)(s)&&s.data===O}}};function l(O,s){return typeof s=="function"?function(r){return(0,e.isTag)(r)&&s(r.attribs[O])}:function(r){return(0,e.isTag)(r)&&r.attribs[O]===s}}function d(O,s){return function(r){return O(r)||s(r)}}function c(O){var s=Object.keys(O).map(function(r){var i=O[r];return Object.prototype.hasOwnProperty.call(o,r)?o[r](i):l(r,i)});return s.length===0?null:s.reduce(d)}function u(O,s){var r=c(O);return r?r(s):!0}n.testElement=u;function f(O,s,r,i){i===void 0&&(i=1/0);var h=c(O);return h?(0,a.filter)(h,s,r,i):[]}n.getElements=f;function m(O,s,r){return r===void 0&&(r=!0),Array.isArray(s)||(s=[s]),(0,a.findOne)(l("id",O),s,r)}n.getElementById=m;function p(O,s,r,i){return r===void 0&&(r=!0),i===void 0&&(i=1/0),(0,a.filter)(o.tag_name(O),s,r,i)}n.getElementsByTagName=p;function g(O,s,r,i){return r===void 0&&(r=!0),i===void 0&&(i=1/0),(0,a.filter)(o.tag_type(O),s,r,i)}n.getElementsByTagType=g},function(k,n){},function(k,n,t){"use strict";const e={colon:": ",indent:"    ",beforeDecl:`
`,beforeRule:`
`,beforeOpen:" ",beforeClose:`
`,beforeComment:`
`,after:`
`,emptyBody:"",commentLeft:" ",commentRight:" ",semicolon:!1};function a(l){return l[0].toUpperCase()+l.slice(1)}class o{constructor(d){this.builder=d}stringify(d,c){this[d.type](d,c)}root(d){this.root=d,this.body(d),d.raws.after&&this.builder(d.raws.after)}comment(d){let c=this.raw(d,"left","commentLeft"),u=this.raw(d,"right","commentRight");this.builder("/*"+c+d.text+u+"*/",d)}decl(d,c){let u=this.raw(d,"between","colon"),f=d.prop+u+this.rawValue(d,"value");d.important&&(f+=d.raws.important||" !important"),c&&(f+=";"),this.builder(f,d)}rule(d){this.block(d,this.rawValue(d,"selector")),d.raws.ownSemicolon&&this.builder(d.raws.ownSemicolon,d,"end")}atrule(d,c){let u="@"+d.name,f=d.params?this.rawValue(d,"params"):"";if(typeof d.raws.afterName!="undefined"?u+=d.raws.afterName:f&&(u+=" "),d.nodes)this.block(d,u+f);else{let m=(d.raws.between||"")+(c?";":"");this.builder(u+f+m,d)}}body(d){let c=d.nodes.length-1;for(;c>0&&d.nodes[c].type==="comment";)c-=1;let u=this.raw(d,"semicolon");for(let f=0;f<d.nodes.length;f++){let m=d.nodes[f],p=this.raw(m,"before");p&&this.builder(p),this.stringify(m,c!==f||u)}}block(d,c){let u=this.raw(d,"between","beforeOpen");this.builder(c+u+"{",d,"start");let f;d.nodes&&d.nodes.length?(this.body(d),f=this.raw(d,"after")):f=this.raw(d,"after","emptyBody"),f&&this.builder(f),this.builder("}",d,"end")}raw(d,c,u){let f;if(u||(u=c),c&&(f=d.raws[c],typeof f!="undefined"))return f;let m=d.parent;if(u==="before"&&(!m||m.type==="root"&&m.first===d))return"";if(!m)return e[u];let p=d.root();if(p.rawCache||(p.rawCache={}),typeof p.rawCache[u]!="undefined")return p.rawCache[u];if(u==="before"||u==="after")return this.beforeAfter(d,u);{let g="raw"+a(u);this[g]?f=this[g](p,d):p.walk(O=>{if(f=O.raws[c],typeof f!="undefined")return!1})}return typeof f=="undefined"&&(f=e[u]),p.rawCache[u]=f,f}rawSemicolon(d){let c;return d.walk(u=>{if(u.nodes&&u.nodes.length&&u.last.type==="decl"&&(c=u.raws.semicolon,typeof c!="undefined"))return!1}),c}rawEmptyBody(d){let c;return d.walk(u=>{if(u.nodes&&u.nodes.length===0&&(c=u.raws.after,typeof c!="undefined"))return!1}),c}rawIndent(d){if(d.raws.indent)return d.raws.indent;let c;return d.walk(u=>{let f=u.parent;if(f&&f!==d&&f.parent&&f.parent===d&&typeof u.raws.before!="undefined"){let m=u.raws.before.split(`
`);return c=m[m.length-1],c=c.replace(/\S/g,""),!1}}),c}rawBeforeComment(d,c){let u;return d.walkComments(f=>{if(typeof f.raws.before!="undefined")return u=f.raws.before,u.includes(`
`)&&(u=u.replace(/[^\n]+$/,"")),!1}),typeof u=="undefined"?u=this.raw(c,null,"beforeDecl"):u&&(u=u.replace(/\S/g,"")),u}rawBeforeDecl(d,c){let u;return d.walkDecls(f=>{if(typeof f.raws.before!="undefined")return u=f.raws.before,u.includes(`
`)&&(u=u.replace(/[^\n]+$/,"")),!1}),typeof u=="undefined"?u=this.raw(c,null,"beforeRule"):u&&(u=u.replace(/\S/g,"")),u}rawBeforeRule(d){let c;return d.walk(u=>{if(u.nodes&&(u.parent!==d||d.first!==u)&&typeof u.raws.before!="undefined")return c=u.raws.before,c.includes(`
`)&&(c=c.replace(/[^\n]+$/,"")),!1}),c&&(c=c.replace(/\S/g,"")),c}rawBeforeClose(d){let c;return d.walk(u=>{if(u.nodes&&u.nodes.length>0&&typeof u.raws.after!="undefined")return c=u.raws.after,c.includes(`
`)&&(c=c.replace(/[^\n]+$/,"")),!1}),c&&(c=c.replace(/\S/g,"")),c}rawBeforeOpen(d){let c;return d.walk(u=>{if(u.type!=="decl"&&(c=u.raws.between,typeof c!="undefined"))return!1}),c}rawColon(d){let c;return d.walkDecls(u=>{if(typeof u.raws.between!="undefined")return c=u.raws.between.replace(/[^\s:]/g,""),!1}),c}beforeAfter(d,c){let u;d.type==="decl"?u=this.raw(d,null,"beforeDecl"):d.type==="comment"?u=this.raw(d,null,"beforeComment"):c==="before"?u=this.raw(d,null,"beforeRule"):u=this.raw(d,null,"beforeClose");let f=d.parent,m=0;for(;f&&f.type!=="root";)m+=1,f=f.parent;if(u.includes(`
`)){let p=this.raw(d,null,"indent");if(p.length)for(let g=0;g<m;g++)u+=p}return u}rawValue(d,c){let u=d[c],f=d.raws[c];return f&&f.value===u?f.raw:u}}k.exports=o},function(k,n,t){"use strict";let e=t(970),{isClean:a}=t(489),o=t(490),l=t(984),d=t(760),c=t(762),u=t(395);const f={root:"Root",atrule:"AtRule",rule:"Rule",decl:"Declaration",comment:"Comment"},m={postcssPlugin:!0,prepare:!0,Once:!0,Root:!0,Declaration:!0,Rule:!0,AtRule:!0,Comment:!0,DeclarationExit:!0,RuleExit:!0,AtRuleExit:!0,CommentExit:!0,RootExit:!0,OnceExit:!0},p={postcssPlugin:!0,prepare:!0,Once:!0},g=0;function O(j){return typeof j=="object"&&typeof j.then=="function"}function s(j){let y=!1,b=f[j.type];return j.type==="decl"?y=j.prop.toLowerCase():j.type==="atrule"&&(y=j.name.toLowerCase()),y&&j.append?[b,b+"-"+y,g,b+"Exit",b+"Exit-"+y]:y?[b,b+"-"+y,b+"Exit",b+"Exit-"+y]:j.append?[b,g,b+"Exit"]:[b,b+"Exit"]}function r(j){let y;return j.type==="root"?y=["Root",g,"RootExit"]:y=s(j),{node:j,events:y,eventIndex:0,visitors:[],visitorIndex:0,iterator:0}}function i(j){return j[a]=!1,j.nodes&&j.nodes.forEach(y=>i(y)),j}let h={};class v{constructor(y,b,E){this.stringified=!1,this.processed=!1;let P;if(typeof b=="object"&&b!==null&&b.type==="root")P=i(b);else if(b instanceof v||b instanceof d)P=i(b.root),b.map&&(typeof E.map=="undefined"&&(E.map={}),E.map.inline||(E.map.inline=!1),E.map.prev=b.map);else{let A=c;E.syntax&&(A=E.syntax.parse),E.parser&&(A=E.parser),A.parse&&(A=A.parse);try{P=A(b,E)}catch(_){this.processed=!0,this.error=_}}this.result=new d(y,P,E),this.helpers=_o(pr({},h),{result:this.result,postcss:h}),this.plugins=this.processor.plugins.map(A=>typeof A=="object"&&A.prepare?pr(pr({},A),A.prepare(this.result)):A)}get[Symbol.toStringTag](){return"LazyResult"}get processor(){return this.result.processor}get opts(){return this.result.opts}get css(){return this.stringify().css}get content(){return this.stringify().content}get map(){return this.stringify().map}get root(){return this.sync().root}get messages(){return this.sync().messages}warnings(){return this.sync().warnings()}toString(){return this.css}then(y,b){return this.async().then(y,b)}catch(y){return this.async().catch(y)}finally(y){return this.async().then(y,y)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let y of this.plugins){let b=this.runOnRoot(y);if(O(b))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let y=this.result.root;for(;!y[a];)y[a]=!0,this.walkSync(y);this.listeners.OnceExit&&this.visitSync(this.listeners.OnceExit,y)}return this.result}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let y=this.result.opts,b=o;y.syntax&&(b=y.syntax.stringify),y.stringifier&&(b=y.stringifier),b.stringify&&(b=b.stringify);let P=new e(b,this.result.root,this.result.opts).generate();return this.result.css=P[0],this.result.map=P[1],this.result}walkSync(y){y[a]=!0;let b=s(y);for(let E of b)if(E===g)y.nodes&&y.each(P=>{P[a]||this.walkSync(P)});else{let P=this.listeners[E];if(P&&this.visitSync(P,y.toProxy()))return}}visitSync(y,b){for(let[E,P]of y){this.result.lastPlugin=E;let A;try{A=P(b,this.helpers)}catch(_){throw this.handleError(_,b.proxyOf)}if(b.type!=="root"&&!b.parent)return!0;if(O(A))throw this.getAsyncError()}}runOnRoot(y){this.result.lastPlugin=y;try{if(typeof y=="object"&&y.Once)return y.Once(this.result.root,this.helpers);if(typeof y=="function")return y(this.result.root,this.result)}catch(b){throw this.handleError(b)}}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(y,b){let E=this.result.lastPlugin;try{b&&b.addToError(y),this.error=y,y.name==="CssSyntaxError"&&!y.plugin?(y.plugin=E.postcssPlugin,y.setMessage()):E.postcssVersion}catch(P){console&&console.error&&console.error(P)}return y}runAsync(){return Zl(this,null,function*(){this.plugin=0;for(let y=0;y<this.plugins.length;y++){let b=this.plugins[y],E=this.runOnRoot(b);if(O(E))try{yield E}catch(P){throw this.handleError(P)}}if(this.prepareVisitors(),this.hasListener){let y=this.result.root;for(;!y[a];){y[a]=!0;let b=[r(y)];for(;b.length>0;){let E=this.visitTick(b);if(O(E))try{yield E}catch(P){let A=b[b.length-1].node;throw this.handleError(P,A)}}}if(this.listeners.OnceExit)for(let[b,E]of this.listeners.OnceExit){this.result.lastPlugin=b;try{yield E(y,this.helpers)}catch(P){throw this.handleError(P)}}}return this.processed=!0,this.stringify()})}prepareVisitors(){this.listeners={};let y=(b,E,P)=>{this.listeners[E]||(this.listeners[E]=[]),this.listeners[E].push([b,P])};for(let b of this.plugins)if(typeof b=="object")for(let E in b){if(!m[E]&&/^[A-Z]/.test(E))throw new Error(`Unknown event ${E} in ${b.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!p[E])if(typeof b[E]=="object")for(let P in b[E])P==="*"?y(b,E,b[E][P]):y(b,E+"-"+P.toLowerCase(),b[E][P]);else typeof b[E]=="function"&&y(b,E,b[E])}this.hasListener=Object.keys(this.listeners).length>0}visitTick(y){let b=y[y.length-1],{node:E,visitors:P}=b;if(E.type!=="root"&&!E.parent){y.pop();return}if(P.length>0&&b.visitorIndex<P.length){let[_,M]=P[b.visitorIndex];b.visitorIndex+=1,b.visitorIndex===P.length&&(b.visitors=[],b.visitorIndex=0),this.result.lastPlugin=_;try{return M(E.toProxy(),this.helpers)}catch(F){throw this.handleError(F,E)}}if(b.iterator!==0){let _=b.iterator,M;for(;M=E.nodes[E.indexes[_]];)if(E.indexes[_]+=1,!M[a]){M[a]=!0,y.push(r(M));return}b.iterator=0,delete E.indexes[_]}let A=b.events;for(;b.eventIndex<A.length;){let _=A[b.eventIndex];if(b.eventIndex+=1,_===g){E.nodes&&E.nodes.length&&(E[a]=!0,b.iterator=E.getIterator());return}else if(this.listeners[_]){b.visitors=this.listeners[_];return}}y.pop()}}v.registerPostcss=j=>{h=j},k.exports=v,v.default=v,u.registerLazyResult(v)},function(k,n,t){n.SourceMapGenerator=t(757).SourceMapGenerator,n.SourceMapConsumer=t(980).SourceMapConsumer,n.SourceNode=t(983).SourceNode},function(k,n,t){var e=t(758),a=t(328),o=t(759).ArraySet,l=t(979).MappingList;function d(c){c||(c={}),this._file=a.getArg(c,"file",null),this._sourceRoot=a.getArg(c,"sourceRoot",null),this._skipValidation=a.getArg(c,"skipValidation",!1),this._sources=new o,this._names=new o,this._mappings=new l,this._sourcesContents=null}d.prototype._version=3,d.fromSourceMap=function(u){var f=u.sourceRoot,m=new d({file:u.file,sourceRoot:f});return u.eachMapping(function(p){var g={generated:{line:p.generatedLine,column:p.generatedColumn}};p.source!=null&&(g.source=p.source,f!=null&&(g.source=a.relative(f,g.source)),g.original={line:p.originalLine,column:p.originalColumn},p.name!=null&&(g.name=p.name)),m.addMapping(g)}),u.sources.forEach(function(p){var g=p;f!==null&&(g=a.relative(f,p)),m._sources.has(g)||m._sources.add(g);var O=u.sourceContentFor(p);O!=null&&m.setSourceContent(p,O)}),m},d.prototype.addMapping=function(u){var f=a.getArg(u,"generated"),m=a.getArg(u,"original",null),p=a.getArg(u,"source",null),g=a.getArg(u,"name",null);this._skipValidation||this._validateMapping(f,m,p,g),p!=null&&(p=String(p),this._sources.has(p)||this._sources.add(p)),g!=null&&(g=String(g),this._names.has(g)||this._names.add(g)),this._mappings.add({generatedLine:f.line,generatedColumn:f.column,originalLine:m!=null&&m.line,originalColumn:m!=null&&m.column,source:p,name:g})},d.prototype.setSourceContent=function(u,f){var m=u;this._sourceRoot!=null&&(m=a.relative(this._sourceRoot,m)),f!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[a.toSetString(m)]=f):this._sourcesContents&&(delete this._sourcesContents[a.toSetString(m)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},d.prototype.applySourceMap=function(u,f,m){var p=f;if(f==null){if(u.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);p=u.file}var g=this._sourceRoot;g!=null&&(p=a.relative(g,p));var O=new o,s=new o;this._mappings.unsortedForEach(function(r){if(r.source===p&&r.originalLine!=null){var i=u.originalPositionFor({line:r.originalLine,column:r.originalColumn});i.source!=null&&(r.source=i.source,m!=null&&(r.source=a.join(m,r.source)),g!=null&&(r.source=a.relative(g,r.source)),r.originalLine=i.line,r.originalColumn=i.column,i.name!=null&&(r.name=i.name))}var h=r.source;h!=null&&!O.has(h)&&O.add(h);var v=r.name;v!=null&&!s.has(v)&&s.add(v)},this),this._sources=O,this._names=s,u.sources.forEach(function(r){var i=u.sourceContentFor(r);i!=null&&(m!=null&&(r=a.join(m,r)),g!=null&&(r=a.relative(g,r)),this.setSourceContent(r,i))},this)},d.prototype._validateMapping=function(u,f,m,p){if(f&&typeof f.line!="number"&&typeof f.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(u&&"line"in u&&"column"in u&&u.line>0&&u.column>=0&&!f&&!m&&!p)){if(u&&"line"in u&&"column"in u&&f&&"line"in f&&"column"in f&&u.line>0&&u.column>=0&&f.line>0&&f.column>=0&&m)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:u,source:m,original:f,name:p}))}},d.prototype._serializeMappings=function(){for(var u=0,f=1,m=0,p=0,g=0,O=0,s="",r,i,h,v,j=this._mappings.toArray(),y=0,b=j.length;y<b;y++){if(i=j[y],r="",i.generatedLine!==f)for(u=0;i.generatedLine!==f;)r+=";",f++;else if(y>0){if(!a.compareByGeneratedPositionsInflated(i,j[y-1]))continue;r+=","}r+=e.encode(i.generatedColumn-u),u=i.generatedColumn,i.source!=null&&(v=this._sources.indexOf(i.source),r+=e.encode(v-O),O=v,r+=e.encode(i.originalLine-1-p),p=i.originalLine-1,r+=e.encode(i.originalColumn-m),m=i.originalColumn,i.name!=null&&(h=this._names.indexOf(i.name),r+=e.encode(h-g),g=h)),s+=r}return s},d.prototype._generateSourcesContent=function(u,f){return u.map(function(m){if(!this._sourcesContents)return null;f!=null&&(m=a.relative(f,m));var p=a.toSetString(m);return Object.prototype.hasOwnProperty.call(this._sourcesContents,p)?this._sourcesContents[p]:null},this)},d.prototype.toJSON=function(){var u={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(u.file=this._file),this._sourceRoot!=null&&(u.sourceRoot=this._sourceRoot),this._sourcesContents&&(u.sourcesContent=this._generateSourcesContent(u.sources,u.sourceRoot)),u},d.prototype.toString=function(){return JSON.stringify(this.toJSON())},n.SourceMapGenerator=d},function(k,n,t){var e=t(978),a=5,o=1<<a,l=o-1,d=o;function c(f){return f<0?(-f<<1)+1:(f<<1)+0}function u(f){var m=(f&1)==1,p=f>>1;return m?-p:p}n.encode=function(m){var p="",g,O=c(m);do g=O&l,O>>>=a,O>0&&(g|=d),p+=e.encode(g);while(O>0);return p},n.decode=function(m,p,g){var O=m.length,s=0,r=0,i,h;do{if(p>=O)throw new Error("Expected more digits in base 64 VLQ value.");if(h=e.decode(m.charCodeAt(p++)),h===-1)throw new Error("Invalid base64 digit: "+m.charAt(p-1));i=!!(h&d),h&=l,s=s+(h<<r),r+=a}while(i);g.value=u(s),g.rest=p}},function(k,n,t){var e=t(328),a=Object.prototype.hasOwnProperty,o=typeof Map!="undefined";function l(){this._array=[],this._set=o?new Map:Object.create(null)}l.fromArray=function(c,u){for(var f=new l,m=0,p=c.length;m<p;m++)f.add(c[m],u);return f},l.prototype.size=function(){return o?this._set.size:Object.getOwnPropertyNames(this._set).length},l.prototype.add=function(c,u){var f=o?c:e.toSetString(c),m=o?this.has(c):a.call(this._set,f),p=this._array.length;(!m||u)&&this._array.push(c),m||(o?this._set.set(c,p):this._set[f]=p)},l.prototype.has=function(c){if(o)return this._set.has(c);var u=e.toSetString(c);return a.call(this._set,u)},l.prototype.indexOf=function(c){if(o){var u=this._set.get(c);if(u>=0)return u}else{var f=e.toSetString(c);if(a.call(this._set,f))return this._set[f]}throw new Error('"'+c+'" is not in the set.')},l.prototype.at=function(c){if(c>=0&&c<this._array.length)return this._array[c];throw new Error("No element indexed by "+c)},l.prototype.toArray=function(){return this._array.slice()},n.ArraySet=l},function(k,n,t){"use strict";let e=t(761);class a{constructor(l,d,c){this.processor=l,this.messages=[],this.root=d,this.opts=c,this.css=void 0,this.map=void 0}toString(){return this.css}warn(l,d={}){d.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(d.plugin=this.lastPlugin.postcssPlugin);let c=new e(l,d);return this.messages.push(c),c}warnings(){return this.messages.filter(l=>l.type==="warning")}get content(){return this.css}}k.exports=a,a.default=a},function(k,n,t){"use strict";class e{constructor(o,l={}){if(this.type="warning",this.text=o,l.node&&l.node.source){let d=l.node.positionBy(l);this.line=d.line,this.column=d.column}for(let d in l)this[d]=l[d]}toString(){return this.node?this.node.error(this.text,{plugin:this.plugin,index:this.index,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}k.exports=e,e.default=e},function(k,n,t){"use strict";let e=t(329),a=t(985),o=t(766);function l(d,c){let u=new o(d,c),f=new a(u);try{f.parse()}catch(m){throw m}return f.root}k.exports=l,l.default=l,e.registerParse(l)},function(k,n,t){"use strict";let e=t(329);class a extends e{constructor(l){super(l);this.type="atrule"}append(...l){return this.proxyOf.nodes||(this.nodes=[]),super.append(...l)}prepend(...l){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...l)}}k.exports=a,a.default=a,e.registerAtRule(a)},function(k,n,t){"use strict";let e=t(329),a=t(765);class o extends e{constructor(d){super(d);this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return a.comma(this.selector)}set selectors(d){let c=this.selector?this.selector.match(/,\s*/):null,u=c?c[0]:","+this.raw("between","beforeOpen");this.selector=d.join(u)}}k.exports=o,o.default=o,e.registerRule(o)},function(k,n,t){"use strict";let e={split(a,o,l){let d=[],c="",u=!1,f=0,m=!1,p=!1;for(let g of a)m?p?p=!1:g==="\\"?p=!0:g===m&&(m=!1):g==='"'||g==="'"?m=g:g==="("?f+=1:g===")"?f>0&&(f-=1):f===0&&o.includes(g)&&(u=!0),u?(c!==""&&d.push(c.trim()),c="",u=!1):c+=g;return(l||c!=="")&&d.push(c.trim()),d},space(a){let o=[" ",`
`,"	"];return e.split(a,o)},comma(a){return e.split(a,[","],!0)}};k.exports=e,e.default=e},function(k,n,t){"use strict";let{fileURLToPath:e,pathToFileURL:a}=t(491),{resolve:o,isAbsolute:l}=t(460),{nanoid:d}=t(987),c=t(988),u=t(753),f=t(487),m=t(989);class p{constructor(O,s={}){if(O===null||typeof O=="undefined"||typeof O=="object"&&!O.toString)throw new Error(`PostCSS received ${O} instead of CSS string`);this.css=O.toString(),this.css[0]==="\uFEFF"||this.css[0]==="\uFFFE"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,s.from&&(/^\w+:\/\//.test(s.from)||l(s.from)?this.file=s.from:this.file=o(s.from));let r=new m(this.css,s);if(r.text){this.map=r;let i=r.consumer().file;!this.file&&i&&(this.file=this.mapResolve(i))}this.file||(this.id="<input css "+d(6)+">"),this.map&&(this.map.file=this.from)}fromOffset(O){let s=c(this.css);return this.fromOffset=r=>{let i=s.toPoint(r);return{line:i.line,col:i.column}},this.fromOffset(O)}error(O,s,r,i={}){let h;if(!r){let j=this.fromOffset(s);s=j.line,r=j.col}let v=this.origin(s,r);return v?h=new f(O,v.line,v.column,v.source,v.file,i.plugin):h=new f(O,s,r,this.css,this.file,i.plugin),h.input={line:s,column:r,source:this.css},this.file&&(h.input.url=a(this.file).toString(),h.input.file=this.file),h}origin(O,s){if(!this.map)return!1;let r=this.map.consumer(),i=r.originalPositionFor({line:O,column:s});if(!i.source)return!1;let h;l(i.source)?h=a(i.source):h=new URL(i.source,this.map.consumer().sourceRoot||a(this.map.mapFile));let v={url:h.toString(),line:i.line,column:i.column};h.protocol==="file:"&&(v.file=e(h));let j=r.sourceContentFor(i.source);return j&&(v.source=j),v}mapResolve(O){return/^\w+:\/\//.test(O)?O:o(this.map.consumer().sourceRoot||this.map.root||".",O)}get from(){return this.file||this.id}}k.exports=p,p.default=p,u&&u.registerInput&&u.registerInput(p)},function(k,n,t){var e=t(768);function a(o,l){if(!!o){if(typeof o=="string")return e(o,l);var d=Object.prototype.toString.call(o).slice(8,-1);if(d==="Object"&&o.constructor&&(d=o.constructor.name),d==="Map"||d==="Set")return Array.from(o);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return e(o,l)}}k.exports=a,k.exports.__esModule=!0,k.exports.default=k.exports},function(k,n){function t(e,a){(a==null||a>e.length)&&(a=e.length);for(var o=0,l=new Array(a);o<a;o++)l[o]=e[o];return l}k.exports=t,k.exports.__esModule=!0,k.exports.default=k.exports},function(k,n,t){const e=t(493),a=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],o=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];n.getBlocksCount=function(d,c){switch(c){case e.L:return a[(d-1)*4+0];case e.M:return a[(d-1)*4+1];case e.Q:return a[(d-1)*4+2];case e.H:return a[(d-1)*4+3];default:return}},n.getTotalCodewordsCount=function(d,c){switch(c){case e.L:return o[(d-1)*4+0];case e.M:return o[(d-1)*4+1];case e.Q:return o[(d-1)*4+2];case e.H:return o[(d-1)*4+3];default:return}}},function(k,n){n.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}},function(k,n){const t="[0-9]+",e="[A-Z $%*+\\-./:]+";let a="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";a=a.replace(/u/g,"\\u");const o="(?:(?![A-Z0-9 $%*+\\-./:]|"+a+`)(?:.|[\r
]))+`;n.KANJI=new RegExp(a,"g"),n.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),n.BYTE=new RegExp(o,"g"),n.NUMERIC=new RegExp(t,"g"),n.ALPHANUMERIC=new RegExp(e,"g");const l=new RegExp("^"+a+"$"),d=new RegExp("^"+t+"$"),c=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");n.testKanji=function(f){return l.test(f)},n.testNumeric=function(f){return d.test(f)},n.testAlphanumeric=function(f){return c.test(f)}},function(k,n){function t(e){if(typeof e=="number"&&(e=e.toString()),typeof e!="string")throw new Error("Color should be defined as hex string");let a=e.slice().replace("#","").split("");if(a.length<3||a.length===5||a.length>8)throw new Error("Invalid hex color: "+e);(a.length===3||a.length===4)&&(a=Array.prototype.concat.apply([],a.map(function(l){return[l,l]}))),a.length===6&&a.push("F","F");const o=parseInt(a.join(""),16);return{r:o>>24&255,g:o>>16&255,b:o>>8&255,a:o&255,hex:"#"+a.slice(0,6).join("")}}n.getOptions=function(a){a||(a={}),a.color||(a.color={});const o=typeof a.margin=="undefined"||a.margin===null||a.margin<0?4:a.margin,l=a.width&&a.width>=21?a.width:void 0,d=a.scale||4;return{width:l,scale:l?4:d,margin:o,color:{dark:t(a.color.dark||"#000000ff"),light:t(a.color.light||"#ffffffff")},type:a.type,rendererOpts:a.rendererOpts||{}}},n.getScale=function(a,o){return o.width&&o.width>=a+o.margin*2?o.width/(a+o.margin*2):o.scale},n.getImageWidth=function(a,o){const l=n.getScale(a,o);return Math.floor((a+o.margin*2)*l)},n.qrToImageData=function(a,o,l){const d=o.modules.size,c=o.modules.data,u=n.getScale(d,l),f=Math.floor((d+l.margin*2)*u),m=l.margin*u,p=[l.color.light,l.color.dark];for(let g=0;g<f;g++)for(let O=0;O<f;O++){let s=(g*f+O)*4,r=l.color.light;if(g>=m&&O>=m&&g<f-m&&O<f-m){const i=Math.floor((g-m)/u),h=Math.floor((O-m)/u);r=p[c[i*d+h]?1:0]}a[s++]=r.r,a[s++]=r.g,a[s++]=r.b,a[s]=r.a}}},function(k,n,t){"use strict";k.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var a={},o=Symbol("test"),l=Object(o);if(typeof o=="string"||Object.prototype.toString.call(o)!=="[object Symbol]"||Object.prototype.toString.call(l)!=="[object Symbol]")return!1;var d=42;a[o]=d;for(o in a)return!1;if(typeof Object.keys=="function"&&Object.keys(a).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(a).length!==0)return!1;var c=Object.getOwnPropertySymbols(a);if(c.length!==1||c[0]!==o||!Object.prototype.propertyIsEnumerable.call(a,o))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var u=Object.getOwnPropertyDescriptor(a,o);if(u.value!==d||u.enumerable!==!0)return!1}return!0}},function(k,n,t){"use strict";var e=t(360),a=t(346),o=a("%Function.prototype.apply%"),l=a("%Function.prototype.call%"),d=a("%Reflect.apply%",!0)||e.call(l,o),c=a("%Object.getOwnPropertyDescriptor%",!0),u=a("%Object.defineProperty%",!0),f=a("%Math.max%");if(u)try{u({},"a",{value:1})}catch(p){u=null}k.exports=function(g){var O=d(e,l,arguments);if(c&&u){var s=c(O,"length");s.configurable&&u(O,"length",{value:1+f(0,g.length-(arguments.length-1))})}return O};var m=function(){return d(e,o,arguments)};u?u(k.exports,"apply",{value:m}):k.exports.apply=m},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},function(k,n,t){"use strict";t.d(n,"b",function(){return p}),t.d(n,"a",function(){return g});var e=t(0),a=t(22),o=t(527),l=t(36),d=t(127),c=t(15),u=(r,i,h)=>new Promise((v,j)=>{var y=P=>{try{E(h.next(P))}catch(A){j(A)}},b=P=>{try{E(h.throw(P))}catch(A){j(A)}},E=P=>P.done?v(P.value):Promise.resolve(P.value).then(y,b);E((h=h.apply(r,i)).next())});const f=o.b.extend({name:"substack_mention",addAttributes(){return{id:s("id"),label:s("label"),mentionType:s("mentionType")}},renderHTML({node:r,HTMLAttributes:i}){return["substack-mention",Object(a.mergeAttributes)({class:"substack-mention","data-type":this.name},this.options.HTMLAttributes,i),this.options.renderLabel({options:this.options,node:r})]},addNodeView(){return Object(d.e)(O)}}),m=r=>i=>u(void 0,[i],function*({editor:h,query:v}){if(v.length<1)return[];const{mentionsSearch:j}=t(265);return yield j(v,{pathname:r})}),p=r=>i=>u(void 0,[i],function*({editor:h,query:v}){if(v.length<2)return[];const{chatMentionsSearch:j}=t(265);return yield j(v,{pathname:r})}),g=f.configure({HTMLAttributes:{class:"substack-mention"},suggestion:{char:"@",pluginKey:new l.d("substack_mention"),decorationClass:"substack-mention",allowSpaces:!0,startOfLine:!1,items:m("/api/v1/reader/comments/mention"),render:()=>{const r=t(560),i=r.prototype.stopCallback;let h,v;const j=(y,b=!1)=>({items:y.items,query:y.query,isLoading:b,selectItem:E=>E&&y.command({id:E.id,label:E.name}),placeholderText:"Mention a person...",noResultsText:"No people found",minQueryLength:3});return{onStart:y=>{const{AutocompleteResults:b}=t(861),E=t(315).default;h=new d.f(b,{props:j(y),editor:y.editor}),v=E("body",{getReferenceClientRect:y.clientRect,appendTo:()=>document.getElementsByClassName("editor-scroll")[0]||document.body,content:h.element,popperOptions:{strategy:"absolute",modifiers:[{name:"preventOverflow",options:{altAxis:!0}}]},showOnCreate:!0,interactive:!0,trigger:"manual",placement:"bottom-start"}),r.prototype.stopCallback=function(P,A,_){return _==="esc"?!0:i(P,A,_)}},onBeforeUpdate(y){v&&v[0].show(),h&&h.updateProps(j(y,!0)),!!y.clientRect&&v&&v[0].setProps({getReferenceClientRect:y.clientRect})},onUpdate(y){h&&h.updateProps(j(y,!1)),v&&v[0].setProps({getReferenceClientRect:y.clientRect})},onKeyDown(y){var b;return y.event.key==="Escape"?(v&&v[0]&&v[0].destroy(),v=null,h&&h.destroy(),h=null,setTimeout(()=>{r.prototype.stopCallback=i},0),!0):(b=h==null?void 0:h.ref)==null?void 0:b.onKeyDown(y)},onExit(y){r.prototype.stopCallback=i,v&&v[0]&&v[0].destroy(),v=null,h&&h.destroy(),h=null}}}}});function O({node:{attrs:{id:r,label:i}}}){return Object(e.h)(d.d,{as:"a",href:Object(c.getProfileUrlById)(r,i),className:"substack-mention"},["@",i])}function s(r){return{default:null,parseHTML:i=>i.getAttribute(`data-${r}`),renderHTML:i=>i[r]?{[`data-${r}`]:i[r]}:{}}}},function(k,n){const t={is_www:!0,id:0,name:"Substack",subdomain:"www",copyright:"Substack Inc.",mailing_address:`548 Market Street PMB 72296
San Francisco, CA 94104`,email_from:"no-reply@substack.com",email_from_name:"Substack",logo_url:"/img/substack.png?v=3"};k.exports=t},function(k,n,t){k.exports=t(736)},function(k,n,t){var e=t(194),a=t(707),o=t(371),l=t(237),d=t(998),c=t(999),u=t(461),f=t(303),m=t(822),p=t(791),g="[object Map]",O="[object Set]",s=e?e.iterator:void 0;function r(i){if(!i)return[];if(l(i))return d(i)?m(i):a(i);if(s&&i[s])return c(i[s]());var h=o(i),v=h==g?u:h==O?f:p;return v(i)}k.exports=r},function(k,n,t){"use strict";t.d(n,"a",function(){return f});var e=t(0),a=t(5),o=t.n(a),l=t(89),d=t.n(l),c=t(230),u=t(81);const f=({publication:p,logo_size:g=60,isStatic:O=!1,children:s})=>O?Object(e.h)(m,{publication:p,logo_size:g,children:s}):Object(e.h)("div",{className:"publication card"},g&&Object(e.h)("figure",{className:"logo"},Object(e.h)(u.a,{pub:p,logo_url:p.logo_url,size:g})),Object(e.h)("div",{className:"title"},Object(e.h)("div",{className:"name"},p.name),Object(e.h)("div",{className:"description"},p.hero_text),s)),m=({publication:p,logo_size:g=60,className:O="",children:s})=>Object(e.h)("table",{role:"presentation",className:o()("publication","card",O,p.logo_url?"has-logo":"no-logo"),width:"auto",cellpadding:0,cellspacing:0,border:"0"},Object(e.h)("tr",{cellpadding:"0",height:"100%"},g&&Object(e.h)("td",{rowspan:"3",className:"logo"},Object(e.h)("figure",{className:"logo"},p.logo_url?Object(e.h)(u.a,{pub:p,logo_url:p.logo_url,size:g,isStatic:!0}):Object(e.h)(c.default,{isStatic:!0,fill:p.theme_var_background_pop||l.substack_color,width:g,height:g}))),Object(e.h)("td",null,Object(e.h)("table",{cellpadding:"0",cellspacing:"0"},Object(e.h)("tr",null,Object(e.h)("td",{className:"title"},p.name)),Object(e.h)("tr",{cellpadding:"0",height:"80%"},Object(e.h)("td",{className:"description"},p.hero_text)),s))));n.b=f},,function(k,n,t){"use strict";n.a={button:"frontend-main-meetings-index-module__button--2-8aA",avatarWithPubLogo:"frontend-main-meetings-index-module__avatarWithPubLogo--2Tvam",avatar:"frontend-main-meetings-index-module__avatar--QbX7c",pubLogo:"frontend-main-meetings-index-module__pubLogo--1srd6",displayedBadge:"frontend-main-meetings-index-module__displayedBadge--3qwfN",pubIcon:"frontend-main-meetings-index-module__pubIcon--33u9U",offer:"frontend-main-meetings-index-module__offer--3IS2n",unavailable:"frontend-main-meetings-index-module__unavailable--2W0rz",description:"frontend-main-meetings-index-module__description--2ol2U",check:"frontend-main-meetings-index-module__check--3uPCA",disabledCheck:"frontend-main-meetings-index-module__disabledCheck--2jvuJ",originalPrice:"frontend-main-meetings-index-module__originalPrice--2fyMv",closeButton:"frontend-main-meetings-index-module__closeButton--110rH",closeIcon:"frontend-main-meetings-index-module__closeIcon--2-yua"}},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},function(k,n,t){"use strict";var e=typeof Reflect=="object"?Reflect:null,a=e&&typeof e.apply=="function"?e.apply:function(b,E,P){return Function.prototype.apply.call(b,E,P)},o;e&&typeof e.ownKeys=="function"?o=e.ownKeys:Object.getOwnPropertySymbols?o=function(b){return Object.getOwnPropertyNames(b).concat(Object.getOwnPropertySymbols(b))}:o=function(b){return Object.getOwnPropertyNames(b)};function l(y){console&&console.warn&&console.warn(y)}var d=Number.isNaN||function(b){return b!==b};function c(){c.init.call(this)}k.exports=c,k.exports.once=j,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var u=10;function f(y){if(typeof y!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof y)}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(y){if(typeof y!="number"||y<0||d(y))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+y+".");u=y}}),c.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(b){if(typeof b!="number"||b<0||d(b))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+b+".");return this._maxListeners=b,this};function m(y){return y._maxListeners===void 0?c.defaultMaxListeners:y._maxListeners}c.prototype.getMaxListeners=function(){return m(this)},c.prototype.emit=function(b){for(var E=[],P=1;P<arguments.length;P++)E.push(arguments[P]);var A=b==="error",_=this._events;if(_!==void 0)A=A&&_.error===void 0;else if(!A)return!1;if(A){var M;if(E.length>0&&(M=E[0]),M instanceof Error)throw M;var F=new Error("Unhandled error."+(M?" ("+M.message+")":""));throw F.context=M,F}var H=_[b];if(H===void 0)return!1;if(typeof H=="function")a(H,this,E);else for(var C=H.length,T=i(H,C),P=0;P<C;++P)a(T[P],this,E);return!0};function p(y,b,E,P){var A,_,M;if(f(E),_=y._events,_===void 0?(_=y._events=Object.create(null),y._eventsCount=0):(_.newListener!==void 0&&(y.emit("newListener",b,E.listener?E.listener:E),_=y._events),M=_[b]),M===void 0)M=_[b]=E,++y._eventsCount;else if(typeof M=="function"?M=_[b]=P?[E,M]:[M,E]:P?M.unshift(E):M.push(E),A=m(y),A>0&&M.length>A&&!M.warned){M.warned=!0;var F=new Error("Possible EventEmitter memory leak detected. "+M.length+" "+String(b)+" listeners added. Use emitter.setMaxListeners() to increase limit");F.name="MaxListenersExceededWarning",F.emitter=y,F.type=b,F.count=M.length,l(F)}return y}c.prototype.addListener=function(b,E){return p(this,b,E,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(b,E){return p(this,b,E,!0)};function g(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function O(y,b,E){var P={fired:!1,wrapFn:void 0,target:y,type:b,listener:E},A=g.bind(P);return A.listener=E,P.wrapFn=A,A}c.prototype.once=function(b,E){return f(E),this.on(b,O(this,b,E)),this},c.prototype.prependOnceListener=function(b,E){return f(E),this.prependListener(b,O(this,b,E)),this},c.prototype.removeListener=function(b,E){var P,A,_,M,F;if(f(E),A=this._events,A===void 0)return this;if(P=A[b],P===void 0)return this;if(P===E||P.listener===E)--this._eventsCount==0?this._events=Object.create(null):(delete A[b],A.removeListener&&this.emit("removeListener",b,P.listener||E));else if(typeof P!="function"){for(_=-1,M=P.length-1;M>=0;M--)if(P[M]===E||P[M].listener===E){F=P[M].listener,_=M;break}if(_<0)return this;_===0?P.shift():h(P,_),P.length===1&&(A[b]=P[0]),A.removeListener!==void 0&&this.emit("removeListener",b,F||E)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function(b){var E,P,A;if(P=this._events,P===void 0)return this;if(P.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):P[b]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete P[b]),this;if(arguments.length===0){var _=Object.keys(P),M;for(A=0;A<_.length;++A)M=_[A],M!=="removeListener"&&this.removeAllListeners(M);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(E=P[b],typeof E=="function")this.removeListener(b,E);else if(E!==void 0)for(A=E.length-1;A>=0;A--)this.removeListener(b,E[A]);return this};function s(y,b,E){var P=y._events;if(P===void 0)return[];var A=P[b];return A===void 0?[]:typeof A=="function"?E?[A.listener||A]:[A]:E?v(A):i(A,A.length)}c.prototype.listeners=function(b){return s(this,b,!0)},c.prototype.rawListeners=function(b){return s(this,b,!1)},c.listenerCount=function(y,b){return typeof y.listenerCount=="function"?y.listenerCount(b):r.call(y,b)},c.prototype.listenerCount=r;function r(y){var b=this._events;if(b!==void 0){var E=b[y];if(typeof E=="function")return 1;if(E!==void 0)return E.length}return 0}c.prototype.eventNames=function(){return this._eventsCount>0?o(this._events):[]};function i(y,b){for(var E=new Array(b),P=0;P<b;++P)E[P]=y[P];return E}function h(y,b){for(;b+1<y.length;b++)y[b]=y[b+1];y.pop()}function v(y){for(var b=new Array(y.length),E=0;E<b.length;++E)b[E]=y[E].listener||y[E];return b}function j(y,b){return new Promise(function(E,P){function A(){_!==void 0&&y.removeListener("error",_),E([].slice.call(arguments))}var _;b!=="error"&&(_=function(F){y.removeListener(b,A),P(F)},y.once("error",_)),y.once(b,A)})}},function(k,n,t){"use strict";t.d(n,"a",function(){return v});var e=t(1),a=t(49),o=t(379),l=t.n(o),d=t(10),c=t.n(d),u=t(184),f=t(7),m=t(18),p=Object.defineProperty,g=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,r=(P,A,_)=>A in P?p(P,A,{enumerable:!0,configurable:!0,writable:!0,value:_}):P[A]=_,i=(P,A)=>{for(var _ in A||(A={}))O.call(A,_)&&r(P,_,A[_]);if(g)for(var _ of g(A))s.call(A,_)&&r(P,_,A[_]);return P},h=(P,A,_)=>new Promise((M,F)=>{var H=S=>{try{T(_.next(S))}catch(D){F(D)}},C=S=>{try{T(_.throw(S))}catch(D){F(D)}},T=S=>S.done?M(S.value):Promise.resolve(S.value).then(H,C);T((_=_.apply(P,A)).next())});function v(P){const A=Object(u.b)(),{categories:_,publications:M=[],categoryId:F,featuredPublications:H=[],communityPicksPublications:C=[],tastemakerPublications:T=[],user:S,categorySlug:D,rankingSlug:w,hasMore:U,updateUrl:V=!1,maxPublications:K,showTwitterBanner:Y,readerOnboardingModal:W}=i(i({},A),P),[R,B]=Object(e.l)(_),[x,G]=Object(e.l)(j(M,K)),[Q,he]=Object(e.l)(F),[Z,le]=Object(e.l)(j(H,K)),[de,be]=Object(e.l)(j(C,K)),[X,ie]=Object(e.l)(j(T,K)),[Ce,Le]=Object(e.l)(null),[Ae,Pe]=Object(e.l)("paid"),[Ne,ce]=Object(e.l)(null),[q,te]=Object(e.l)(0),[ue,We]=Object(e.l)(U);Object(e.d)(()=>{const zt=w||"paid";Pe(zt),R||y().then(({categories:at,publications:Me,featuredPublications:Be,communityPicksPublications:Xe,tastemakerPublications:Te})=>{B(at);const we=Object(o.getCategoryIdFromSlug)(D,at);return he(we),le(j(Be,K)),be(j(Xe,K)),ie(j(Te,K)),we==="featured"?Me:b(we,zt,0).then(({publications:De,more:Ie})=>(te(0),K||We(Ie),De))}).then(at=>{G(j(at,K))})},[R,D,w,K]);const ot=Object(e.a)(()=>{const zt=q+1;Object(f.i)(f.a.VIEWED_MORE_CATEGORY,{categoryId:Q,ranking:Ae,page:zt}),b(Q,Ae,zt).then(({publications:at,more:Me})=>{const Be=new Set(x.map(Xe=>Xe.id));te(zt),G(x.concat(at.filter(Xe=>!Be.has(Xe.id)))),We(Me)})},[Q,Ae,q,x,te,G,We]),ze=({categoryId:zt,ranking:at,categories:Me})=>{Object(f.i)(f.a.CLICKED_CATEGORY,{categoryId:zt,ranking:at}),V&&Object(a.route)(E({categoryId:zt,categories:Me,ranking:at}),!0),Wt({categoryId:zt,ranking:at})},vt=zt=>{Pe(zt),V&&Object(a.route)(E({categoryId:Q,categories:R,ranking:zt}),!0),Wt({categoryId:Q,ranking:zt})},Wt=Object(e.a)(zt=>h(this,[zt],function*({categoryId:at,ranking:Me}){if(he(at),te(0),at==="featured"||at==="twitter"){Le(null),ce(null),We(!1),at==="featured"&&G(j(Z,K));return}Le(at),ce(Me),G([]),We(!1);const{publications:Be,more:Xe}=yield b(at,Me,0);he(at),Le(null),ce(null),Pe(Me),te(0),K||We(Xe),G(j(Be,K))}),[Le,ce,he,te,We,G,Z,K]);return{categories:R,publications:Q==="featured"?Z:x,categoryId:Q,ranking:Ae,loadingCategoryId:Ce,loadingRanking:Ne,featuredPublications:Z,user:S,categorySlug:D,rankingSlug:w,hasMore:ue,viewMore:ot,loadPublications:Wt,onCategoryClicked:ze,getCategoryIdFromSlug:o.getCategoryIdFromSlug,setCategoryId:he,setRanking:Pe,onRankingChange:vt,maxPublications:K,showTwitterBanner:Y,readerOnboardingModal:W}}const j=(P,A)=>A?P.slice(0,A):P,y=()=>Object(m.c)("/api/v1/homepage/initial-category-data"),b=(P,A="paid",_=0)=>Object(m.c)(`/api/v1/category/public/${P}/${A}?page=${_}`),E=({categoryId:P,ranking:A,categories:_})=>{let M="";["twitter",d.COMMUNITY_PICKS_CATEGORY_NAME,d.TASTEMAKER_CATEGORY_NAME].includes(P)&&(M=P);const F=_.find(H=>H.id===P);return(F==null?void 0:F.slug)&&(M=`${F.slug}/${A}`),M?`/discover/category/${M}`:"/discover"}},function(k,n,t){"use strict";t.d(n,"d",function(){return p}),t.d(n,"c",function(){return g}),t.d(n,"e",function(){return O}),t.d(n,"f",function(){return s}),t.d(n,"a",function(){return h}),t.d(n,"b",function(){return v});var e=Object.defineProperty,a=Object.defineProperties,o=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,u=(j,y,b)=>y in j?e(j,y,{enumerable:!0,configurable:!0,writable:!0,value:b}):j[y]=b,f=(j,y)=>{for(var b in y||(y={}))d.call(y,b)&&u(j,b,y[b]);if(l)for(var b of l(y))c.call(y,b)&&u(j,b,y[b]);return j},m=(j,y)=>a(j,o(y));const p=["newspaper","magaziney","magazine-5"],g={newspaper:{id:"newspaper",label:"Feature",legacyEquivalent:"newspaper",postCount:{desktop:1,tablet:1,mobile:1}},magaziney:{id:"magaziney",label:"Newspaper",legacyEquivalent:"magaziney",postCount:{desktop:3,tablet:3,mobile:1}},"magazine-5":{id:"magazine-5",label:"Magazine",legacyEquivalent:"magaziney",postCount:{desktop:5,tablet:3,mobile:1}}},O=p.map(j=>({value:j,label:g[j].label})),s=p.reduce((j,y)=>m(f({},j),{[y]:g[y].postCount}),{}),r=["list","grid","grid-sections","grid-tags"],i={list:{id:"list",label:"List",postCount:{desktop:7,tablet:7,mobile:7}},grid:{id:"grid",label:"Grid",postCount:{desktop:9,tablet:9,mobile:7}},"grid-sections":{id:"grid-sections",label:"Grid - sections",postCount:{desktop:9,tablet:9,mobile:7}},"grid-tags":{id:"grid-tags",label:"Grid - tags",postCount:{desktop:9,tablet:9,mobile:7}}},h=r.reduce((j,y)=>m(f({},j),{[y]:i[y].postCount}),{}),v=({enable_tags_sections_homepage_grids:j})=>{const y=r.map(b=>({value:b,label:i[b].label}));return j?y.map(b=>b.value==="grid"?m(f({},b),{label:"Grid - latest posts"}):b):y.filter(b=>!["grid-sections","grid-tags"].includes(b.value))}},,function(k,n,t){var e=t(320),a=t(285),o=t(243),l=t(891),d=t(892),c=t(411),u=t(893),f=t(229),m=t(95);function p(g,O,s){O.length?O=e(O,function(h){return m(h)?function(v){return a(v,h.length===1?h[0]:h)}:h}):O=[f];var r=-1;O=e(O,c(o));var i=l(g,function(h,v,j){var y=e(O,function(b){return b(h)});return{criteria:y,index:++r,value:h}});return d(i,function(h,v){return u(h,v,s)})}k.exports=p},function(k,n,t){var e=t(895),a=Math.max;function o(l,d,c){return d=a(d===void 0?l.length-1:d,0),function(){for(var u=arguments,f=-1,m=a(u.length-d,0),p=Array(m);++f<m;)p[f]=u[d+f];f=-1;for(var g=Array(d+1);++f<d;)g[f]=u[f];return g[d]=c(p),e(l,this,g)}}k.exports=o},function(k,n,t){var e=t(896),a=t(897),o=a(e);k.exports=o},function(k,n,t){var e=t(912),a=t(262);function o(l){return l==null?[]:e(l,a(l))}k.exports=o},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("CircleSlash2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("ImagePlus",[["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7",key:"31hg93"}],["line",{x1:"16",x2:"22",y1:"5",y2:"5",key:"ez7e4s"}],["line",{x1:"19",x2:"19",y1:"2",y2:"8",key:"1gkr8c"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("Edit2",[["path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z",key:"2s2c1q"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("Edit",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z",key:"1cs3r3"}]])},function(k,n,t){k.exports=e;function e(o){if(o)return a(o)}function a(o){for(var l in e.prototype)o[l]=e.prototype[l];return o}e.prototype.on=e.prototype.addEventListener=function(o,l){return this._callbacks=this._callbacks||{},(this._callbacks["$"+o]=this._callbacks["$"+o]||[]).push(l),this},e.prototype.once=function(o,l){function d(){this.off(o,d),l.apply(this,arguments)}return d.fn=l,this.on(o,d),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(o,l){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var d=this._callbacks["$"+o];if(!d)return this;if(arguments.length==1)return delete this._callbacks["$"+o],this;for(var c,u=0;u<d.length;u++)if(c=d[u],c===l||c.fn===l){d.splice(u,1);break}return d.length===0&&delete this._callbacks["$"+o],this},e.prototype.emit=function(o){this._callbacks=this._callbacks||{};for(var l=new Array(arguments.length-1),d=this._callbacks["$"+o],c=1;c<arguments.length;c++)l[c-1]=arguments[c];if(d){d=d.slice(0);for(var c=0,u=d.length;c<u;++c)d[c].apply(this,l)}return this},e.prototype.listeners=function(o){return this._callbacks=this._callbacks||{},this._callbacks["$"+o]||[]},e.prototype.hasListeners=function(o){return!!this.listeners(o).length}},function(k,n){k.exports=d,d.default=d,d.stable=m,d.stableStringify=m;var t="[...]",e="[Circular]",a=[],o=[];function l(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function d(O,s,r,i){typeof i=="undefined"&&(i=l()),u(O,"",0,[],void 0,0,i);var h;try{o.length===0?h=JSON.stringify(O,s,r):h=JSON.stringify(O,g(s),r)}catch(j){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;a.length!==0;){var v=a.pop();v.length===4?Object.defineProperty(v[0],v[1],v[3]):v[0][v[1]]=v[2]}}return h}function c(O,s,r,i){var h=Object.getOwnPropertyDescriptor(i,r);h.get!==void 0?h.configurable?(Object.defineProperty(i,r,{value:O}),a.push([i,r,s,h])):o.push([s,r,O]):(i[r]=O,a.push([i,r,s]))}function u(O,s,r,i,h,v,j){v+=1;var y;if(typeof O=="object"&&O!==null){for(y=0;y<i.length;y++)if(i[y]===O){c(e,O,s,h);return}if(typeof j.depthLimit!="undefined"&&v>j.depthLimit){c(t,O,s,h);return}if(typeof j.edgesLimit!="undefined"&&r+1>j.edgesLimit){c(t,O,s,h);return}if(i.push(O),Array.isArray(O))for(y=0;y<O.length;y++)u(O[y],y,y,i,O,v,j);else{var b=Object.keys(O);for(y=0;y<b.length;y++){var E=b[y];u(O[E],E,y,i,O,v,j)}}i.pop()}}function f(O,s){return O<s?-1:O>s?1:0}function m(O,s,r,i){typeof i=="undefined"&&(i=l());var h=p(O,"",0,[],void 0,0,i)||O,v;try{o.length===0?v=JSON.stringify(h,s,r):v=JSON.stringify(h,g(s),r)}catch(y){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;a.length!==0;){var j=a.pop();j.length===4?Object.defineProperty(j[0],j[1],j[3]):j[0][j[1]]=j[2]}}return v}function p(O,s,r,i,h,v,j){v+=1;var y;if(typeof O=="object"&&O!==null){for(y=0;y<i.length;y++)if(i[y]===O){c(e,O,s,h);return}try{if(typeof O.toJSON=="function")return}catch(A){return}if(typeof j.depthLimit!="undefined"&&v>j.depthLimit){c(t,O,s,h);return}if(typeof j.edgesLimit!="undefined"&&r+1>j.edgesLimit){c(t,O,s,h);return}if(i.push(O),Array.isArray(O))for(y=0;y<O.length;y++)p(O[y],y,y,i,O,v,j);else{var b={},E=Object.keys(O).sort(f);for(y=0;y<E.length;y++){var P=E[y];p(O[P],P,y,i,O,v,j),b[P]=O[P]}if(typeof h!="undefined")a.push([h,s,O]),h[s]=b;else return b}i.pop()}}function g(O){return O=typeof O!="undefined"?O:function(s,r){return r},function(s,r){if(o.length>0)for(var i=0;i<o.length;i++){var h=o[i];if(h[1]===s&&h[0]===r){r=h[2],o.splice(i,1);break}}return O.call(this,s,r)}}},function(k,n,t){"use strict";var e=t(799),a=t(806),o=t(361);k.exports={formats:o,parse:a,stringify:e}},function(k,n,t){"use strict";var e=t(800),a=t(475),o=t(361),l=Object.prototype.hasOwnProperty,d={brackets:function(h){return h+"[]"},comma:"comma",indices:function(h,v){return h+"["+v+"]"},repeat:function(h){return h}},c=Array.isArray,u=Array.prototype.push,f=function(i,h){u.apply(i,c(h)?h:[h])},m=Date.prototype.toISOString,p=o.default,g={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:a.encode,encodeValuesOnly:!1,format:p,formatter:o.formatters[p],indices:!1,serializeDate:function(h){return m.call(h)},skipNulls:!1,strictNullHandling:!1},O=function(h){return typeof h=="string"||typeof h=="number"||typeof h=="boolean"||typeof h=="symbol"||typeof h=="bigint"},s=function i(h,v,j,y,b,E,P,A,_,M,F,H,C,T,S){var D=h;if(S.has(h))throw new RangeError("Cyclic object value");if(typeof P=="function"?D=P(v,D):D instanceof Date?D=M(D):j==="comma"&&c(D)&&(D=a.maybeMap(D,function(G){return G instanceof Date?M(G):G})),D===null){if(y)return E&&!C?E(v,g.encoder,T,"key",F):v;D=""}if(O(D)||a.isBuffer(D)){if(E){var w=C?v:E(v,g.encoder,T,"key",F);return[H(w)+"="+H(E(D,g.encoder,T,"value",F))]}return[H(v)+"="+H(String(D))]}var U=[];if(typeof D=="undefined")return U;var V;if(j==="comma"&&c(D))V=[{value:D.length>0?D.join(",")||null:void 0}];else if(c(P))V=P;else{var K=Object.keys(D);V=A?K.sort(A):K}for(var Y=0;Y<V.length;++Y){var W=V[Y],R=typeof W=="object"&&W.value!==void 0?W.value:D[W];if(!(b&&R===null)){var B=c(D)?typeof j=="function"?j(v,W):v:v+(_?"."+W:"["+W+"]");S.set(h,!0);var x=e();f(U,i(R,B,j,y,b,E,P,A,_,M,F,H,C,T,x))}}return U},r=function(h){if(!h)return g;if(h.encoder!==null&&h.encoder!==void 0&&typeof h.encoder!="function")throw new TypeError("Encoder has to be a function.");var v=h.charset||g.charset;if(typeof h.charset!="undefined"&&h.charset!=="utf-8"&&h.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var j=o.default;if(typeof h.format!="undefined"){if(!l.call(o.formatters,h.format))throw new TypeError("Unknown format option provided.");j=h.format}var y=o.formatters[j],b=g.filter;return(typeof h.filter=="function"||c(h.filter))&&(b=h.filter),{addQueryPrefix:typeof h.addQueryPrefix=="boolean"?h.addQueryPrefix:g.addQueryPrefix,allowDots:typeof h.allowDots=="undefined"?g.allowDots:!!h.allowDots,charset:v,charsetSentinel:typeof h.charsetSentinel=="boolean"?h.charsetSentinel:g.charsetSentinel,delimiter:typeof h.delimiter=="undefined"?g.delimiter:h.delimiter,encode:typeof h.encode=="boolean"?h.encode:g.encode,encoder:typeof h.encoder=="function"?h.encoder:g.encoder,encodeValuesOnly:typeof h.encodeValuesOnly=="boolean"?h.encodeValuesOnly:g.encodeValuesOnly,filter:b,format:j,formatter:y,serializeDate:typeof h.serializeDate=="function"?h.serializeDate:g.serializeDate,skipNulls:typeof h.skipNulls=="boolean"?h.skipNulls:g.skipNulls,sort:typeof h.sort=="function"?h.sort:null,strictNullHandling:typeof h.strictNullHandling=="boolean"?h.strictNullHandling:g.strictNullHandling}};k.exports=function(i,h){var v=i,j=r(h),y,b;typeof j.filter=="function"?(b=j.filter,v=b("",v)):c(j.filter)&&(b=j.filter,y=b);var E=[];if(typeof v!="object"||v===null)return"";var P;h&&h.arrayFormat in d?P=h.arrayFormat:h&&"indices"in h?P=h.indices?"indices":"repeat":P="indices";var A=d[P];y||(y=Object.keys(v)),j.sort&&y.sort(j.sort);for(var _=e(),M=0;M<y.length;++M){var F=y[M];j.skipNulls&&v[F]===null||f(E,s(v[F],F,A,j.strictNullHandling,j.skipNulls,j.encode?j.encoder:null,j.filter,j.sort,j.allowDots,j.serializeDate,j.format,j.formatter,j.encodeValuesOnly,j.charset,_))}var H=E.join(j.delimiter),C=j.addQueryPrefix===!0?"?":"";return j.charsetSentinel&&(j.charset==="iso-8859-1"?C+="utf8=%26%2310003%3B&":C+="utf8=%E2%9C%93&"),H.length>0?C+H:""}},function(k,n,t){"use strict";var e=t(346),a=t(683),o=t(804),l=e("%TypeError%"),d=e("%WeakMap%",!0),c=e("%Map%",!0),u=a("WeakMap.prototype.get",!0),f=a("WeakMap.prototype.set",!0),m=a("WeakMap.prototype.has",!0),p=a("Map.prototype.get",!0),g=a("Map.prototype.set",!0),O=a("Map.prototype.has",!0),s=function(v,j){for(var y=v,b;(b=y.next)!==null;y=b)if(b.key===j)return y.next=b.next,b.next=v.next,v.next=b,b},r=function(v,j){var y=s(v,j);return y&&y.value},i=function(v,j,y){var b=s(v,j);b?b.value=y:v.next={key:j,next:v.next,value:y}},h=function(v,j){return!!s(v,j)};k.exports=function(){var j,y,b,E={assert:function(P){if(!E.has(P))throw new l("Side channel does not contain "+o(P))},get:function(P){if(d&&P&&(typeof P=="object"||typeof P=="function")){if(j)return u(j,P)}else if(c){if(y)return p(y,P)}else if(b)return r(b,P)},has:function(P){if(d&&P&&(typeof P=="object"||typeof P=="function")){if(j)return m(j,P)}else if(c){if(y)return O(y,P)}else if(b)return h(b,P);return!1},set:function(P,A){d&&P&&(typeof P=="object"||typeof P=="function")?(j||(j=new d),f(j,P,A)):c?(y||(y=new c),g(y,P,A)):(b||(b={key:{},next:null}),i(b,P,A))}};return E}},function(k,n,t){"use strict";var e=typeof Symbol!="undefined"&&Symbol,a=t(773);k.exports=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:a()}},function(k,n,t){"use strict";var e="Function.prototype.bind called on incompatible ",a=Array.prototype.slice,o=Object.prototype.toString,l="[object Function]";k.exports=function(c){var u=this;if(typeof u!="function"||o.call(u)!==l)throw new TypeError(e+u);for(var f=a.call(arguments,1),m,p=function(){if(this instanceof m){var i=u.apply(this,f.concat(a.call(arguments)));return Object(i)===i?i:this}else return u.apply(c,f.concat(a.call(arguments)))},g=Math.max(0,u.length-f.length),O=[],s=0;s<g;s++)O.push("$"+s);if(m=Function("binder","return function ("+O.join(",")+"){ return binder.apply(this,arguments); }")(p),u.prototype){var r=function(){};r.prototype=u.prototype,m.prototype=new r,r.prototype=null}return m}},function(k,n,t){"use strict";var e=t(360);k.exports=e.call(Function.call,Object.prototype.hasOwnProperty)},function(k,n,t){var e=typeof Map=="function"&&Map.prototype,a=Object.getOwnPropertyDescriptor&&e?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=e&&a&&typeof a.get=="function"?a.get:null,l=e&&Map.prototype.forEach,d=typeof Set=="function"&&Set.prototype,c=Object.getOwnPropertyDescriptor&&d?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=d&&c&&typeof c.get=="function"?c.get:null,f=d&&Set.prototype.forEach,m=typeof WeakMap=="function"&&WeakMap.prototype,p=m?WeakMap.prototype.has:null,g=typeof WeakSet=="function"&&WeakSet.prototype,O=g?WeakSet.prototype.has:null,s=typeof WeakRef=="function"&&WeakRef.prototype,r=s?WeakRef.prototype.deref:null,i=Boolean.prototype.valueOf,h=Object.prototype.toString,v=Function.prototype.toString,j=String.prototype.match,y=String.prototype.slice,b=String.prototype.replace,E=String.prototype.toUpperCase,P=String.prototype.toLowerCase,A=RegExp.prototype.test,_=Array.prototype.concat,M=Array.prototype.join,F=Array.prototype.slice,H=Math.floor,C=typeof BigInt=="function"?BigInt.prototype.valueOf:null,T=Object.getOwnPropertySymbols,S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,D=typeof Symbol=="function"&&typeof Symbol.iterator=="object",w=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===D?"object":"symbol")?Symbol.toStringTag:null,U=Object.prototype.propertyIsEnumerable,V=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(we){return we.__proto__}:null);function K(we,De){if(we===1/0||we===-1/0||we!==we||we&&we>-1e3&&we<1e3||A.call(/e/,De))return De;var Ie=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof we=="number"){var He=we<0?-H(-we):H(we);if(He!==we){var Ve=String(He),z=y.call(De,Ve.length+1);return b.call(Ve,Ie,"$&_")+"."+b.call(b.call(z,/([0-9]{3})/g,"$&_"),/_$/,"")}}return b.call(De,Ie,"$&_")}var Y=t(805),W=Y.custom,R=X(W)?W:null;k.exports=function we(De,Ie,He,Ve){var z=Ie||{};if(Le(z,"quoteStyle")&&z.quoteStyle!=="single"&&z.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Le(z,"maxStringLength")&&(typeof z.maxStringLength=="number"?z.maxStringLength<0&&z.maxStringLength!==1/0:z.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var se=Le(z,"customInspect")?z.customInspect:!0;if(typeof se!="boolean"&&se!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Le(z,"indent")&&z.indent!==null&&z.indent!=="	"&&!(parseInt(z.indent,10)===z.indent&&z.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Le(z,"numericSeparator")&&typeof z.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Se=z.numericSeparator;if(typeof De=="undefined")return"undefined";if(De===null)return"null";if(typeof De=="boolean")return De?"true":"false";if(typeof De=="string")return ze(De,z);if(typeof De=="number"){if(De===0)return 1/0/De>0?"0":"-0";var Oe=String(De);return Se?K(De,Oe):Oe}if(typeof De=="bigint"){var ge=String(De)+"n";return Se?K(De,ge):ge}var je=typeof z.depth=="undefined"?5:z.depth;if(typeof He=="undefined"&&(He=0),He>=je&&je>0&&typeof De=="object")return G(De)?"[Array]":"[Object]";var it=Be(z,He);if(typeof Ve=="undefined")Ve=[];else if(Ne(Ve,De)>=0)return"[Circular]";function Tt($t,nn,Bt){if(nn&&(Ve=F.call(Ve),Ve.push(nn)),Bt){var Kt={depth:z.depth};return Le(z,"quoteStyle")&&(Kt.quoteStyle=z.quoteStyle),we($t,Kt,He+1,Ve)}return we($t,z,He+1,Ve)}if(typeof De=="function"&&!he(De)){var sn=Pe(De),ht=Te(De,Tt);return"[Function"+(sn?": "+sn:" (anonymous)")+"]"+(ht.length>0?" { "+M.call(ht,", ")+" }":"")}if(X(De)){var Nt=D?b.call(String(De),/^(Symbol\(.*\))_[^)]*$/,"$1"):S.call(De);return typeof De=="object"&&!D?Wt(Nt):Nt}if(ot(De)){for(var wt="<"+P.call(String(De.nodeName)),yt=De.attributes||[],Qe=0;Qe<yt.length;Qe++)wt+=" "+yt[Qe].name+"="+B(x(yt[Qe].value),"double",z);return wt+=">",De.childNodes&&De.childNodes.length&&(wt+="..."),wt+="</"+P.call(String(De.nodeName))+">",wt}if(G(De)){if(De.length===0)return"[]";var At=Te(De,Tt);return it&&!Me(At)?"["+Xe(At,it)+"]":"[ "+M.call(At,", ")+" ]"}if(Z(De)){var jt=Te(De,Tt);return!("cause"in Error.prototype)&&"cause"in De&&!U.call(De,"cause")?"{ ["+String(De)+"] "+M.call(_.call("[cause]: "+Tt(De.cause),jt),", ")+" }":jt.length===0?"["+String(De)+"]":"{ ["+String(De)+"] "+M.call(jt,", ")+" }"}if(typeof De=="object"&&se){if(R&&typeof De[R]=="function"&&Y)return Y(De,{depth:je-He});if(se!=="symbol"&&typeof De.inspect=="function")return De.inspect()}if(ce(De)){var ke=[];return l&&l.call(De,function($t,nn){ke.push(Tt(nn,De,!0)+" => "+Tt($t,De))}),at("Map",o.call(De),ke,it)}if(ue(De)){var tn=[];return f&&f.call(De,function($t){tn.push(Tt($t,De))}),at("Set",u.call(De),tn,it)}if(q(De))return zt("WeakMap");if(We(De))return zt("WeakSet");if(te(De))return zt("WeakRef");if(de(De))return Wt(Tt(Number(De)));if(ie(De))return Wt(Tt(C.call(De)));if(be(De))return Wt(i.call(De));if(le(De))return Wt(Tt(String(De)));if(!Q(De)&&!he(De)){var Pn=Te(De,Tt),Ft=V?V(De)===Object.prototype:De instanceof Object||De.constructor===Object,lt=De instanceof Object?"":"null prototype",Rt=!Ft&&w&&Object(De)===De&&w in De?y.call(Ae(De),8,-1):lt?"Object":"",ln=Ft||typeof De.constructor!="function"?"":De.constructor.name?De.constructor.name+" ":"",Mt=ln+(Rt||lt?"["+M.call(_.call([],Rt||[],lt||[]),": ")+"] ":"");return Pn.length===0?Mt+"{}":it?Mt+"{"+Xe(Pn,it)+"}":Mt+"{ "+M.call(Pn,", ")+" }"}return String(De)};function B(we,De,Ie){var He=(Ie.quoteStyle||De)==="double"?'"':"'";return He+we+He}function x(we){return b.call(String(we),/"/g,"&quot;")}function G(we){return Ae(we)==="[object Array]"&&(!w||!(typeof we=="object"&&w in we))}function Q(we){return Ae(we)==="[object Date]"&&(!w||!(typeof we=="object"&&w in we))}function he(we){return Ae(we)==="[object RegExp]"&&(!w||!(typeof we=="object"&&w in we))}function Z(we){return Ae(we)==="[object Error]"&&(!w||!(typeof we=="object"&&w in we))}function le(we){return Ae(we)==="[object String]"&&(!w||!(typeof we=="object"&&w in we))}function de(we){return Ae(we)==="[object Number]"&&(!w||!(typeof we=="object"&&w in we))}function be(we){return Ae(we)==="[object Boolean]"&&(!w||!(typeof we=="object"&&w in we))}function X(we){if(D)return we&&typeof we=="object"&&we instanceof Symbol;if(typeof we=="symbol")return!0;if(!we||typeof we!="object"||!S)return!1;try{return S.call(we),!0}catch(De){}return!1}function ie(we){if(!we||typeof we!="object"||!C)return!1;try{return C.call(we),!0}catch(De){}return!1}var Ce=Object.prototype.hasOwnProperty||function(we){return we in this};function Le(we,De){return Ce.call(we,De)}function Ae(we){return h.call(we)}function Pe(we){if(we.name)return we.name;var De=j.call(v.call(we),/^function\s*([\w$]+)/);return De?De[1]:null}function Ne(we,De){if(we.indexOf)return we.indexOf(De);for(var Ie=0,He=we.length;Ie<He;Ie++)if(we[Ie]===De)return Ie;return-1}function ce(we){if(!o||!we||typeof we!="object")return!1;try{o.call(we);try{u.call(we)}catch(De){return!0}return we instanceof Map}catch(De){}return!1}function q(we){if(!p||!we||typeof we!="object")return!1;try{p.call(we,p);try{O.call(we,O)}catch(De){return!0}return we instanceof WeakMap}catch(De){}return!1}function te(we){if(!r||!we||typeof we!="object")return!1;try{return r.call(we),!0}catch(De){}return!1}function ue(we){if(!u||!we||typeof we!="object")return!1;try{u.call(we);try{o.call(we)}catch(De){return!0}return we instanceof Set}catch(De){}return!1}function We(we){if(!O||!we||typeof we!="object")return!1;try{O.call(we,O);try{p.call(we,p)}catch(De){return!0}return we instanceof WeakSet}catch(De){}return!1}function ot(we){return!we||typeof we!="object"?!1:typeof HTMLElement!="undefined"&&we instanceof HTMLElement?!0:typeof we.nodeName=="string"&&typeof we.getAttribute=="function"}function ze(we,De){if(we.length>De.maxStringLength){var Ie=we.length-De.maxStringLength,He="... "+Ie+" more character"+(Ie>1?"s":"");return ze(y.call(we,0,De.maxStringLength),De)+He}var Ve=b.call(b.call(we,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,vt);return B(Ve,"single",De)}function vt(we){var De=we.charCodeAt(0),Ie={8:"b",9:"t",10:"n",12:"f",13:"r"}[De];return Ie?"\\"+Ie:"\\x"+(De<16?"0":"")+E.call(De.toString(16))}function Wt(we){return"Object("+we+")"}function zt(we){return we+" { ? }"}function at(we,De,Ie,He){var Ve=He?Xe(Ie,He):M.call(Ie,", ");return we+" ("+De+") {"+Ve+"}"}function Me(we){for(var De=0;De<we.length;De++)if(Ne(we[De],`
`)>=0)return!1;return!0}function Be(we,De){var Ie;if(we.indent==="	")Ie="	";else if(typeof we.indent=="number"&&we.indent>0)Ie=M.call(Array(we.indent+1)," ");else return null;return{base:Ie,prev:M.call(Array(De+1),Ie)}}function Xe(we,De){if(we.length===0)return"";var Ie=`
`+De.prev+De.base;return Ie+M.call(we,","+Ie)+`
`+De.prev}function Te(we,De){var Ie=G(we),He=[];if(Ie){He.length=we.length;for(var Ve=0;Ve<we.length;Ve++)He[Ve]=Le(we,Ve)?De(we[Ve],we):""}var z=typeof T=="function"?T(we):[],se;if(D){se={};for(var Se=0;Se<z.length;Se++)se["$"+z[Se]]=z[Se]}for(var Oe in we)!Le(we,Oe)||Ie&&String(Number(Oe))===Oe&&Oe<we.length||D&&se["$"+Oe]instanceof Symbol||(A.call(/[^\w$]/,Oe)?He.push(De(Oe,we)+": "+De(we[Oe],we)):He.push(Oe+": "+De(we[Oe],we)));if(typeof T=="function")for(var ge=0;ge<z.length;ge++)U.call(we,z[ge])&&He.push("["+De(z[ge])+"]: "+De(we[z[ge]],we));return He}},function(k,n){},function(k,n,t){"use strict";var e=t(475),a=Object.prototype.hasOwnProperty,o=Array.isArray,l={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:e.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},d=function(s){return s.replace(/&#(\d+);/g,function(r,i){return String.fromCharCode(parseInt(i,10))})},c=function(s,r){return s&&typeof s=="string"&&r.comma&&s.indexOf(",")>-1?s.split(","):s},u="utf8=%26%2310003%3B",f="utf8=%E2%9C%93",m=function(r,i){var h={},v=i.ignoreQueryPrefix?r.replace(/^\?/,""):r,j=i.parameterLimit===1/0?void 0:i.parameterLimit,y=v.split(i.delimiter,j),b=-1,E,P=i.charset;if(i.charsetSentinel)for(E=0;E<y.length;++E)y[E].indexOf("utf8=")===0&&(y[E]===f?P="utf-8":y[E]===u&&(P="iso-8859-1"),b=E,E=y.length);for(E=0;E<y.length;++E)if(E!==b){var A=y[E],_=A.indexOf("]="),M=_===-1?A.indexOf("="):_+1,F,H;M===-1?(F=i.decoder(A,l.decoder,P,"key"),H=i.strictNullHandling?null:""):(F=i.decoder(A.slice(0,M),l.decoder,P,"key"),H=e.maybeMap(c(A.slice(M+1),i),function(C){return i.decoder(C,l.decoder,P,"value")})),H&&i.interpretNumericEntities&&P==="iso-8859-1"&&(H=d(H)),A.indexOf("[]=")>-1&&(H=o(H)?[H]:H),a.call(h,F)?h[F]=e.combine(h[F],H):h[F]=H}return h},p=function(s,r,i,h){for(var v=h?r:c(r,i),j=s.length-1;j>=0;--j){var y,b=s[j];if(b==="[]"&&i.parseArrays)y=[].concat(v);else{y=i.plainObjects?Object.create(null):{};var E=b.charAt(0)==="["&&b.charAt(b.length-1)==="]"?b.slice(1,-1):b,P=parseInt(E,10);!i.parseArrays&&E===""?y={0:v}:!isNaN(P)&&b!==E&&String(P)===E&&P>=0&&i.parseArrays&&P<=i.arrayLimit?(y=[],y[P]=v):y[E]=v}v=y}return v},g=function(r,i,h,v){if(!!r){var j=h.allowDots?r.replace(/\.([^.[]+)/g,"[$1]"):r,y=/(\[[^[\]]*])/,b=/(\[[^[\]]*])/g,E=h.depth>0&&y.exec(j),P=E?j.slice(0,E.index):j,A=[];if(P){if(!h.plainObjects&&a.call(Object.prototype,P)&&!h.allowPrototypes)return;A.push(P)}for(var _=0;h.depth>0&&(E=b.exec(j))!==null&&_<h.depth;){if(_+=1,!h.plainObjects&&a.call(Object.prototype,E[1].slice(1,-1))&&!h.allowPrototypes)return;A.push(E[1])}return E&&A.push("["+j.slice(E.index)+"]"),p(A,i,h,v)}},O=function(r){if(!r)return l;if(r.decoder!==null&&r.decoder!==void 0&&typeof r.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof r.charset!="undefined"&&r.charset!=="utf-8"&&r.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var i=typeof r.charset=="undefined"?l.charset:r.charset;return{allowDots:typeof r.allowDots=="undefined"?l.allowDots:!!r.allowDots,allowPrototypes:typeof r.allowPrototypes=="boolean"?r.allowPrototypes:l.allowPrototypes,allowSparse:typeof r.allowSparse=="boolean"?r.allowSparse:l.allowSparse,arrayLimit:typeof r.arrayLimit=="number"?r.arrayLimit:l.arrayLimit,charset:i,charsetSentinel:typeof r.charsetSentinel=="boolean"?r.charsetSentinel:l.charsetSentinel,comma:typeof r.comma=="boolean"?r.comma:l.comma,decoder:typeof r.decoder=="function"?r.decoder:l.decoder,delimiter:typeof r.delimiter=="string"||e.isRegExp(r.delimiter)?r.delimiter:l.delimiter,depth:typeof r.depth=="number"||r.depth===!1?+r.depth:l.depth,ignoreQueryPrefix:r.ignoreQueryPrefix===!0,interpretNumericEntities:typeof r.interpretNumericEntities=="boolean"?r.interpretNumericEntities:l.interpretNumericEntities,parameterLimit:typeof r.parameterLimit=="number"?r.parameterLimit:l.parameterLimit,parseArrays:r.parseArrays!==!1,plainObjects:typeof r.plainObjects=="boolean"?r.plainObjects:l.plainObjects,strictNullHandling:typeof r.strictNullHandling=="boolean"?r.strictNullHandling:l.strictNullHandling}};k.exports=function(s,r){var i=O(r);if(s===""||s===null||typeof s=="undefined")return i.plainObjects?Object.create(null):{};for(var h=typeof s=="string"?m(s,i):s,v=i.plainObjects?Object.create(null):{},j=Object.keys(h),y=0;y<j.length;++y){var b=j[y],E=g(b,h[b],i,typeof s=="string");v=e.merge(v,E,i)}return i.allowSparse===!0?v:e.compact(v)}},function(k,n,t){"use strict";function e(u){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(m){return typeof m}:e=function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},e(u)}var a=t(476);k.exports=o;function o(u){if(u)return l(u)}function l(u){for(var f in o.prototype)Object.prototype.hasOwnProperty.call(o.prototype,f)&&(u[f]=o.prototype[f]);return u}o.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this},o.prototype.parse=function(u){return this._parser=u,this},o.prototype.responseType=function(u){return this._responseType=u,this},o.prototype.serialize=function(u){return this._serializer=u,this},o.prototype.timeout=function(u){if(!u||e(u)!=="object")return this._timeout=u,this._responseTimeout=0,this._uploadTimeout=0,this;for(var f in u)if(Object.prototype.hasOwnProperty.call(u,f))switch(f){case"deadline":this._timeout=u.deadline;break;case"response":this._responseTimeout=u.response;break;case"upload":this._uploadTimeout=u.upload;break;default:console.warn("Unknown timeout option",f)}return this},o.prototype.retry=function(u,f){return(arguments.length===0||u===!0)&&(u=1),u<=0&&(u=0),this._maxRetries=u,this._retries=0,this._retryCallback=f,this};var d=new Set(["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"]),c=new Set([408,413,429,500,502,503,504,521,522,524]);o.prototype._shouldRetry=function(u,f){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var m=this._retryCallback(u,f);if(m===!0)return!0;if(m===!1)return!1}catch(p){console.error(p)}return!!(f&&f.status&&c.has(f.status)||u&&(u.code&&d.has(u.code)||u.timeout&&u.code==="ECONNABORTED"||u.crossDomain))},o.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this.timedoutError=null,this._end()},o.prototype.then=function(u,f){var m=this;if(!this._fullfilledPromise){var p=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(g,O){p.on("abort",function(){if(!(m._maxRetries&&m._maxRetries>m._retries)){if(m.timedout&&m.timedoutError){O(m.timedoutError);return}var s=new Error("Aborted");s.code="ABORTED",s.status=m.status,s.method=m.method,s.url=m.url,O(s)}}),p.end(function(s,r){s?O(s):g(r)})})}return this._fullfilledPromise.then(u,f)},o.prototype.catch=function(u){return this.then(void 0,u)},o.prototype.use=function(u){return u(this),this},o.prototype.ok=function(u){if(typeof u!="function")throw new Error("Callback required");return this._okCallback=u,this},o.prototype._isResponseOK=function(u){return u?this._okCallback?this._okCallback(u):u.status>=200&&u.status<300:!1},o.prototype.get=function(u){return this._header[u.toLowerCase()]},o.prototype.getHeader=o.prototype.get,o.prototype.set=function(u,f){if(a(u)){for(var m in u)Object.prototype.hasOwnProperty.call(u,m)&&this.set(m,u[m]);return this}return this._header[u.toLowerCase()]=f,this.header[u]=f,this},o.prototype.unset=function(u){return delete this._header[u.toLowerCase()],delete this.header[u],this},o.prototype.field=function(u,f){if(u==null)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(a(u)){for(var m in u)Object.prototype.hasOwnProperty.call(u,m)&&this.field(m,u[m]);return this}if(Array.isArray(f)){for(var p in f)Object.prototype.hasOwnProperty.call(f,p)&&this.field(u,f[p]);return this}if(f==null)throw new Error(".field(name, val) val can not be empty");return typeof f=="boolean"&&(f=String(f)),this._getFormData().append(u,f),this},o.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},o.prototype._auth=function(u,f,m,p){switch(m.type){case"basic":this.set("Authorization","Basic ".concat(p("".concat(u,":").concat(f))));break;case"auto":this.username=u,this.password=f;break;case"bearer":this.set("Authorization","Bearer ".concat(u));break;default:break}return this},o.prototype.withCredentials=function(u){return u===void 0&&(u=!0),this._withCredentials=u,this},o.prototype.redirects=function(u){return this._maxRedirects=u,this},o.prototype.maxResponseSize=function(u){if(typeof u!="number")throw new TypeError("Invalid argument");return this._maxResponseSize=u,this},o.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},o.prototype.send=function(u){var f=a(u),m=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(f&&!this._data)Array.isArray(u)?this._data=[]:this._isHost(u)||(this._data={});else if(u&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(f&&a(this._data))for(var p in u)Object.prototype.hasOwnProperty.call(u,p)&&(this._data[p]=u[p]);else typeof u=="string"?(m||this.type("form"),m=this._header["content-type"],m&&(m=m.toLowerCase().trim()),m==="application/x-www-form-urlencoded"?this._data=this._data?"".concat(this._data,"&").concat(u):u:this._data=(this._data||"")+u):this._data=u;return!f||this._isHost(u)?this:(m||this.type("json"),this)},o.prototype.sortQuery=function(u){return this._sort=typeof u=="undefined"?!0:u,this},o.prototype._finalizeQueryString=function(){var u=this._query.join("&");if(u&&(this.url+=(this.url.includes("?")?"&":"?")+u),this._query.length=0,this._sort){var f=this.url.indexOf("?");if(f>=0){var m=this.url.slice(f+1).split("&");typeof this._sort=="function"?m.sort(this._sort):m.sort(),this.url=this.url.slice(0,f)+"?"+m.join("&")}}},o.prototype._appendQueryString=function(){console.warn("Unsupported")},o.prototype._timeoutError=function(u,f,m){if(!this._aborted){var p=new Error("".concat(u+f,"ms exceeded"));p.timeout=f,p.code="ECONNABORTED",p.errno=m,this.timedout=!0,this.timedoutError=p,this.abort(),this.callback(p)}},o.prototype._setTimeouts=function(){var u=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){u._timeoutError("Timeout of ",u._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){u._timeoutError("Response timeout of ",u._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}},function(k,n,t){"use strict";var e=t(809);k.exports=a;function a(l){if(l)return o(l)}function o(l){for(var d in a.prototype)Object.prototype.hasOwnProperty.call(a.prototype,d)&&(l[d]=a.prototype[d]);return l}a.prototype.get=function(l){return this.header[l.toLowerCase()]},a.prototype._setHeaderProperties=function(l){var d=l["content-type"]||"";this.type=e.type(d);var c=e.params(d);for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&(this[u]=c[u]);this.links={};try{l.link&&(this.links=e.parseLinks(l.link))}catch(f){}},a.prototype._setStatusProperties=function(l){var d=l/100|0;this.statusCode=l,this.status=this.statusCode,this.statusType=d,this.info=d===1,this.ok=d===2,this.redirect=d===3,this.clientError=d===4,this.serverError=d===5,this.error=d===4||d===5?this.toError():!1,this.created=l===201,this.accepted=l===202,this.noContent=l===204,this.badRequest=l===400,this.unauthorized=l===401,this.notAcceptable=l===406,this.forbidden=l===403,this.notFound=l===404,this.unprocessableEntity=l===422}},function(k,n,t){"use strict";function e(l,d){var c;if(typeof Symbol=="undefined"||l[Symbol.iterator]==null){if(Array.isArray(l)||(c=a(l))||d&&l&&typeof l.length=="number"){c&&(l=c);var u=0,f=function(){};return{s:f,n:function(){return u>=l.length?{done:!0}:{done:!1,value:l[u++]}},e:function(s){throw s},f}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var m=!0,p=!1,g;return{s:function(){c=l[Symbol.iterator]()},n:function(){var s=c.next();return m=s.done,s},e:function(s){p=!0,g=s},f:function(){try{!m&&c.return!=null&&c.return()}finally{if(p)throw g}}}}function a(l,d){if(!!l){if(typeof l=="string")return o(l,d);var c=Object.prototype.toString.call(l).slice(8,-1);if(c==="Object"&&l.constructor&&(c=l.constructor.name),c==="Map"||c==="Set")return Array.from(l);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return o(l,d)}}function o(l,d){(d==null||d>l.length)&&(d=l.length);for(var c=0,u=new Array(d);c<d;c++)u[c]=l[c];return u}n.type=function(l){return l.split(/ *; */).shift()},n.params=function(l){var d={},c=e(l.split(/ *; */)),u;try{for(c.s();!(u=c.n()).done;){var f=u.value,m=f.split(/ *= */),p=m.shift(),g=m.shift();p&&g&&(d[p]=g)}}catch(O){c.e(O)}finally{c.f()}return d},n.parseLinks=function(l){var d={},c=e(l.split(/ *, */)),u;try{for(c.s();!(u=c.n()).done;){var f=u.value,m=f.split(/ *; */),p=m[0].slice(1,-1),g=m[1].split(/ *= */)[1].slice(1,-1);d[g]=p}}catch(O){c.e(O)}finally{c.f()}return d},n.cleanHeader=function(l,d){return delete l["content-type"],delete l["content-length"],delete l["transfer-encoding"],delete l.host,d&&(delete l.authorization,delete l.cookie),l}},function(k,n,t){"use strict";function e(f){return d(f)||l(f)||o(f)||a()}function a(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o(f,m){if(!!f){if(typeof f=="string")return c(f,m);var p=Object.prototype.toString.call(f).slice(8,-1);if(p==="Object"&&f.constructor&&(p=f.constructor.name),p==="Map"||p==="Set")return Array.from(f);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return c(f,m)}}function l(f){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(f))return Array.from(f)}function d(f){if(Array.isArray(f))return c(f)}function c(f,m){(m==null||m>f.length)&&(m=f.length);for(var p=0,g=new Array(m);p<m;p++)g[p]=f[p];return g}function u(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert","disableTLSCerts"].forEach(function(f){u.prototype[f]=function(){for(var m=arguments.length,p=new Array(m),g=0;g<m;g++)p[g]=arguments[g];return this._defaults.push({fn:f,args:p}),this}}),u.prototype._setDefaults=function(f){this._defaults.forEach(function(m){f[m.fn].apply(f,e(m.args))})},k.exports=u},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"16",y2:"12",key:"1y1yb1"}],["line",{x1:"12",x2:"12.01",y1:"8",y2:"8",key:"110wyk"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]])},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"LargePlusIcon",svgParams:{height:16,width:16,fill:"#78706C",stroke:"none"}}),Object(e.h)("rect",{x:"7",y:"1",width:"2",height:"14",rx:"1"}),Object(e.h)("rect",{x:"15",y:"7",width:"2",height:"14",rx:"1",transform:"rotate(90 15 7)"}));n.default=O},function(k,n,t){var e=t(1039),a=t(1072),o=t(243);function l(d,c){return d&&d.length?e(d,o(c,2),a):void 0}k.exports=l},,,,function(k,n,t){var e=t(828),a=t(262);function o(l,d){return l&&e(l,d,a)}k.exports=o},function(k,n,t){var e=t(229),a=t(789),o=t(790);function l(d,c){return o(a(d,c,e),d+"")}k.exports=l},function(k,n,t){var e=t(1e3),a=t(875),o=t(1001);function l(d){return a(d)?o(d):e(d)}k.exports=l},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("Bell",[["path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9",key:"oql5b8"}],["path",{d:"M13.73 21a2 2 0 0 1-3.46 0",key:"6o5tke"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return h});var e=t(0),a=t(130),o=t(98),l=t(169),d=t(26),c=t(35),u=t(282),f=t(456),m=t(71),p=t(25),g=t(272),O=t(74),s=t(187),r=t(90),i=t(79);function h({user:v=void 0,children:j=void 0,siteConfigs:y={},hasThemedBackground:b=void 0,language:E=void 0,country:P=void 0,experimentInfo:A={},portalRoot:_=void 0,shouldLoad:M=void 0,shouldPollNotifications:F=!1,publicationSettings:H={},userSettings:C=void 0}){M===void 0&&(M=Boolean(v));const T=Object(i.f)(!!v);return Object(e.h)(f.b,{language:E,country:P},Object(e.h)(u.a,{value:{hasThemedBackground:b}},Object(e.h)(c.b,{siteConfigs:y},Object(e.h)(m.b,{siteConfigs:y,experimentInfo:A},Object(e.h)(g.b,{siteConfigs:y,experimentInfo:A},Object(e.h)(O.b,{settings:H},Object(e.h)(l.a,{shouldLoad:M,shouldPoll:F},Object(e.h)(a.b,{root:_},Object(e.h)(p.b,{defaultValue:v,settings:C},Object(e.h)(s.a,null,Object(e.h)(d.d,null,Object(e.h)(i.a.Provider,{value:T},Object(e.h)(r.a,null,j)))))))))))))}},function(k,n,t){"use strict";t.d(n,"e",function(){return f}),t.d(n,"a",function(){return m}),t.d(n,"b",function(){return p}),t.d(n,"c",function(){return g}),t.d(n,"d",function(){return s});var e=t(4),a=t.n(e),o=t(15);const l=({pub:r,url:i})=>{var h,v;if(!i.includes("api.substack.com"))return null;if(i.includes(`/feed/podcast/${r.id}.rss`))return r.podcast_title||r.name;if(i.includes(`/feed/podcast/${r.id}/s/`)){const j=(v=(h=i.match(/\/feed\/podcast\/\d+\/s\/(?<sectionId>\d+)\.rss/))==null?void 0:h.groups)==null?void 0:v.sectionId;if(!j)return"Unknown section";const y=r.sections.find(b=>b.id===parseInt(j));return y?y.name:"Unknown Section"}return"another podcast"},d=({pub:r,url:i})=>i.includes("api.substack.com")?i.includes(`/feed/podcast/${r.id}/s/`)||i.includes(`/feed/podcast/${r.id}.rss`):!1,c=r=>{if(!r)return{can_syndicate:!1,hover_text:"Cannot find podcast"};if(!r.podcast_enabled)return{can_syndicate:!1,hover_text:"This podcast is not currently enabled."};if(!r.podcast_feed_url)return{can_syndicate:!0,hover_text:null};const i=l({pub:r,url:r.podcast_feed_url});return i?{can_syndicate:!1,hover_text:`This podcast is currently redirecting to ${i}.`}:{can_syndicate:!1,hover_text:`This podcast is currently redirecting to ${r.podcast_feed_url}.`}},u=({pub:r,section:i})=>{var h;if(!i.is_podcast)return{can_syndicate:!1,hover_text:"This section is not currently set up as a podcast."};const v=((h=i.podcastSettings)==null?void 0:h.podcast_feed_url)||null;if(!v)return{can_syndicate:!0,hover_text:null};const j=l({pub:r,url:v});return j?{can_syndicate:!1,hover_text:`This podcast is currently redirecting to ${j}.`}:{can_syndicate:!1,hover_text:`This podcast is currently redirecting to ${v}.`}},f=({pub:r})=>{var i;const h=[];if(r.podcast_enabled||!!r.podcast_title){const v=c(r);h.push({name:r.podcast_title||r.name,description:r.podcast_description||"",can_publish_to:v.can_syndicate,hover_text:v.hover_text,publication_id:r.id,section_id:null})}for(const v of(i=r.sections)!=null?i:[]){if(!v.is_podcast)continue;const j=u({pub:r,section:v});h.push({name:v.name,description:v.description,can_publish_to:j.can_syndicate,hover_text:j.hover_text,publication_id:r.id,section_id:v.id})}return h},m=r=>!r||!r.podcast_enabled?!1:r.podcast_feed_url?!d({pub:r,url:r.podcast_feed_url}):!0,p=({pub:r,section:i})=>{var h;if(!i.is_podcast)return!1;const v=((h=i.podcastSettings)==null?void 0:h.podcast_feed_url)||null;return v?!d({pub:r,url:v}):!0},g=(r,i=0)=>i?O(r,i):r.email_disabled?"none":r.receive_podcast_emails?"all":"allButPodcasts",O=(r,i)=>{var h;return!r.email_settings||!r.email_settings[i]?null:r.email_settings[i]==="disabled"?"none":((h=r.section_podcasts_enabled)==null?void 0:h.includes(i))?"all":"allButPodcasts"},s=({pub:r,includeMainPub:i})=>{var h;if(!r)return[];const v=[];return i&&v.push({name:r.name,description:r.hero_text,logoUrl:r.logo_url,sectionId:null,linkUrl:Object(e.getArchiveUrl)(r),defaultOn:!0}),(h=r.sections)==null||h.forEach(j=>{v.push({name:j.name,description:j.description,logoUrl:j.logo_url,sectionId:j.id,linkUrl:Object(o.getSectionUrl)(r,{section:j}),defaultOn:j.is_default_on})}),v}},function(k,n,t){var e=t(889),a=e();k.exports=a},function(k,n,t){var e=t(437),a=t(899),o=t(900);function l(d,c,u){return c===c?o(d,c,u):e(d,a,u)}k.exports=l},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("ChevronLeft",[["polyline",{points:"15 18 9 12 15 6",key:"kvxz59"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("ChevronRight",[["polyline",{points:"9 18 15 12 9 6",key:"1rtp27"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("Archive",[["rect",{width:"20",height:"5",x:"2",y:"4",rx:"2",key:"uhwcea"}],["path",{d:"M4 9v9a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9",key:"shkvi4"}],["path",{d:"M10 13h4",key:"ytezjc"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("Plus",[["line",{x1:"12",x2:"12",y1:"5",y2:"19",key:"pwfkuu"}],["line",{x1:"5",x2:"19",y1:"12",y2:"12",key:"13b5wn"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("ArrowUp",[["line",{x1:"12",x2:"12",y1:"19",y2:"5",key:"jt6ph2"}],["polyline",{points:"5 12 12 5 19 12",key:"1y7d7k"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("Gift",[["polyline",{points:"20 12 20 22 4 22 4 12",key:"nda8fc"}],["rect",{width:"20",height:"5",x:"2",y:"7",key:"wkgdzj"}],["line",{x1:"12",x2:"12",y1:"22",y2:"7",key:"1n8zgp"}],["path",{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z",key:"zighg4"}],["path",{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z",key:"1pa5tk"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("ChevronUp",[["polyline",{points:"18 15 12 9 6 15",key:"1uugdp"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("Verified",[["path",{d:"M12 3c-1.2 0-2.4.6-3 1.7A3.6 3.6 0 0 0 4.6 9c-1 .6-1.7 1.8-1.7 3s.7 2.4 1.7 3c-.3 1.2 0 2.5 1 3.4.8.8 2.1 1.2 3.3 1 .6 1 1.8 1.6 3 1.6s2.4-.6 3-1.7c1.2.3 2.5 0 3.4-1 .8-.8 1.2-2 1-3.3 1-.6 1.6-1.8 1.6-3s-.6-2.4-1.7-3c.3-1.2 0-2.5-1-3.4a3.7 3.7 0 0 0-3.3-1c-.6-1-1.8-1.6-3-1.6Z",key:"7kujkm"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("BookmarkMinus",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}],["line",{x1:"15",x2:"9",y1:"10",y2:"10",key:"1gty7f"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"16",key:"10p56q"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]])},function(k,n,t){"use strict";t.r(n),t.d(n,"AutocompleteResults",function(){return r});var e=t(0),a=t(3),o=t(1),l=t(4),d=t(2),c=t(8),u=t(77),f=t(62),m=t(150),p={items:"frontend-components-autocomplete_results-module__items--2YIeq",item:"frontend-components-autocomplete_results-module__item--1vBxU",isSelected:"frontend-components-autocomplete_results-module__isSelected--1fsvi",profileImg:"frontend-components-autocomplete_results-module__profileImg--l2VtP",showMore:"frontend-components-autocomplete_results-module__showMore--3h5OE"};const g=({items:h,selectItem:v,selectedItem:j,setSelectedItem:y,selectedItemRef:b})=>Object(e.h)(e.Fragment,null,h.map(E=>Object(e.h)(s,{isSelected:j&&E.id===j.id&&E.type===j.type,key:E.id+E.type,onClick:()=>v(E),onMouseEnter:()=>y(E),elemRef:j&&E.id===j.id&&E.type===j.type?b:void 0},Object(e.h)(d.c,{flex:"grow",alignItems:"center",gap:12,padding:8},E.type==="user"&&Object(e.h)(O,{item:E}),E.type==="pub"&&Object(e.h)(e.Fragment,null,Object(e.h)(f.a,{className:p.profileImg,logoUrl:E.photo_url||Object(l.getDefaultUserPhotoById)(E.id),size:32,publicationName:E.name}),Object(e.h)(d.b,{style:{maxWidth:"260px"}},Object(e.h)(c.b.B4,{weight:"semibold",ellipsis:!0,as:"div"},E.name),E.author_name&&E.author_name.length>0?Object(e.h)(c.b.Detail,{ellipsis:!0},"by ",E.author_name):null))))));function O({item:h}){let v=null;return h.publications&&h.publications.length>0&&(h.primary_publication_id?v=h.publications.find(({id:j})=>j===h.primary_publication_id)||h.publications[0]:v=h.publications[0]),Object(e.h)(e.Fragment,null,Object(e.h)(m.a,{className:p.profileImg,photo_url:Object(l.cloudinary)(h.photo_url||Object(l.getDefaultUserPhotoById)(h.id),80),lazy:!0,size:32}),Object(e.h)(d.b,{style:{maxWidth:"260px"}},Object(e.h)(d.c,{gap:6},Object(e.h)(c.b.B4,{weight:"semibold",ellipsis:!0,as:"div"},h.name),h.bestseller_tier!==0&&Object(e.h)(u.a,{tier:h.bestseller_tier,size:"sm",userId:h.id})),v?Object(e.h)(c.b.Detail,{ellipsis:!0},v.name):null,h.meta?Object(e.h)(c.b.Meta,{ellipsis:!0},h.meta):null))}const s=({children:h,isSelected:v,onClick:j,onMouseEnter:y,elemRef:b,className:E})=>Object(e.h)("button",{className:`${p.item} ${v?p.isSelected:""} ${E!=null?E:""}`,onClick:j,onMouseEnter:y,onMouseDown:P=>{P.preventDefault();const{target:A}=P;A&&A.focus!==void 0&&A.focus()},ref:b,tabIndex:-1},h),r=Object(a.forwardRef)((h,v)=>{const{items:j,selectItem:y,query:b,isLoading:E,placeholderText:P,noResultsText:A,minQueryLength:_=0}=h,[M,F]=Object(o.l)(0),[H,C]=Object(o.l)(!1),T=j.size>1,S=3,D=6,U=Array.from(j.values()).some(Z=>Z.length>(T?S:D))&&!H,V=Array.from(j.values()).map(Z=>H?Z:Z.slice(0,T?S:D)).flat(),K=Object(o.k)(),Y=V[M],W=V.length+(U?1:0),R=U?M===W-1:!1,B=Object(o.k)(null);Object(o.d)(()=>{M>=0&&K.current&&K.current.scrollIntoView({behavior:"smooth",block:"nearest"})},[M,K]);const x=()=>{F((M+W-1)%W)},G=()=>{F((M+1)%W)},Q=()=>{Y&&y(Y),R&&C(!0)};Object(o.d)(()=>{F(0),C(!1)},[j]);const he=Z=>{const le=V.findIndex(de=>de.id===Z.id);F(le!==-1?le:0)};return Object(o.g)(v,()=>({getElement:()=>B.current,onKeyDown:({event:Z})=>Z.key==="ArrowUp"?(x(),!0):Z.key==="ArrowDown"?(G(),!0):Z.key==="Enter"?(Q(),!0):!1})),P&&(!b||b.length<_)?Object(e.h)(d.b,{className:p.items},Object(e.h)(d.c,{padding:8},Object(e.h)(c.b.Meta,null,P))):Object(e.h)("div",{className:p.items,ref:B},Array.from(j.entries()).map(([Z,le])=>Object(e.h)(i,{title:T?Z:void 0,maxItemsToDisplay:H?void 0:T?S:D,items:le,selectItem:y,selectedItem:Y,setSelectedItem:he,selectedItemRef:K})),E&&Object(e.h)(d.c,{padding:8},Object(e.h)(c.b.Meta,null,"Loading...")),!E&&W===0&&Object(e.h)(d.c,{padding:8},Object(e.h)(c.b.Meta,null,A)),U&&Object(e.h)(d.b,{padding:8},Object(e.h)(s,{isSelected:R,onClick:()=>C(!0),onMouseEnter:()=>F(W-1),elemRef:R?K:void 0,className:p.showMore},Object(e.h)(c.b.Meta,{align:"center",paddingTop:8,paddingBottom:8},"Show more..."))))}),i=({title:h,maxItemsToDisplay:v,items:j,selectItem:y,selectedItem:b,setSelectedItem:E,selectedItemRef:P})=>{const A=v?j.slice(0,v):j;return Object(e.h)(e.Fragment,null,h&&Object(e.h)(d.b,{padding:8},Object(e.h)(c.b.Meta,null,h)),Object(e.h)(g,{items:A,selectItem:y,selectedItem:b,setSelectedItem:E,selectedItemRef:P}))}},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}]])},,,function(k,n,t){"use strict";t.d(n,"a",function(){return T});var e=t(0),a=t(5),o=t.n(a),l=t(97),d=t.n(l),c=t(12),u=t.n(c),f=t(4),m=t.n(f),p=t(15),g=t(10),O=t.n(g),s=t(7),r=t(9),i=t.n(r),h=t(96),v=t(482),j=t(731),y=t(209),b=t(137),E=Object.defineProperty,P=Object.getOwnPropertySymbols,A=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,M=(S,D,w)=>D in S?E(S,D,{enumerable:!0,configurable:!0,writable:!0,value:w}):S[D]=w,F=(S,D)=>{for(var w in D||(D={}))A.call(D,w)&&M(S,w,D[w]);if(P)for(var w of P(D))_.call(D,w)&&M(S,w,D[w]);return S},H=(S,D,w)=>(M(S,typeof D!="symbol"?D+"":D,w),w),C=(S,D,w)=>new Promise((U,V)=>{var K=R=>{try{W(w.next(R))}catch(B){V(B)}},Y=R=>{try{W(w.throw(R))}catch(B){V(B)}},W=R=>R.done?U(R.value):Promise.resolve(R.value).then(K,Y);W((w=w.apply(S,D)).next())});class T extends e.Component{constructor(D,w){super(D,w);if(H(this,"onTabClick",U=>V=>{V.preventDefault(),this.loadTab(U)}),H(this,"onSearchInput",U=>{this.state.tab.id==="search"&&this.loadTab("search",U.target.value||"")}),H(this,"onSearchKeyDown",U=>{this.state.tab.id==="search"&&U.key==="Escape"&&(U.target.blur(),this.loadTab(this.state.tabs[0].id))}),H(this,"onPostClicked",(U,V,K,Y)=>{Object(s.i)(s.a.ARCHIVE_PAGE_POST_CLICKED,{post_id:V,tab:this.state.tab.id,rank_in_feed:K,source:Y})}),H(this,"onSearchBlur",U=>{this.state.tab.id==="search"&&!U.target.value&&this.loadTab(this.state.tabs[0].id,"")}),H(this,"loadTab",(U,V)=>C(this,null,function*(){const K=this.state.tabs.find(x=>x.id===U);let Y=!1;if(K.id==="search"&&typeof V=="string"&&K.query!==V&&(Y=!0,K.query=V,K.posts=null,K.fullyLoaded=!1,K.loading=!1,K.loadingError=null),K.id!==this.state.tab.id?(this.setState({tab:K},()=>{K.id==="search"&&this.searchInput&&(this.searchInput.focus(),this.searchInput.select())}),this.props.stateInUrl&&typeof window!="undefined"&&window.history.replaceState&&window.history.replaceState({},document.title,Object(f.updateQuery)({sort:K.id,search:K.query||null}))):Y&&this.props.stateInUrl&&typeof window!="undefined"&&window.history.replaceState&&window.history.replaceState({},document.title,Object(f.updateQuery)({search:K.query||null})),K.loading||K.fullyLoaded)return;if(K.id==="search"&&!K.query){K.posts=[],K.fullyLoaded=!0,this.setState({tabs:this.state.tabs});return}const W=Object(g.randomString)();if(K.loading=W,K.loadingError=null,this.setState({tabs:this.state.tabs}),K.id==="search"&&K.query&&(yield new Promise(x=>setTimeout(x,300)),K.loading!==W))return;!this.state.tabs.find(x=>x.posts||x.fullyLoaded||x.loading||x.loadingError)&&this.props.delayFirstLoad&&(yield new Promise(x=>setTimeout(x,this.props.delayFirstLoad)));const B=this.props.pub?"/api/v1/archive":this.props.profile?"/api/v1/profile-archive":null;try{const x=this.props.maxPosts?this.props.maxPosts*2:this.getFetchLimit(),G=(yield u.a.get(B).query(F(F(F({sort:K.id==="search"?"new":K.id,search:K.id==="search"?K.query:"",offset:(K.posts||[]).length,limit:this.props.maxPosts?this.props.maxPosts*2:this.getFetchLimit(),type:this.props.isPodcast?"podcast":void 0},this.props.postTagId&&{post_tag_id:this.props.postTagId}),this.props.sectionId&&{section_id:this.props.sectionId}),this.props.profile&&{profile_user_id:this.props.profile.id}))).body;if(K.loading!==W)return;K.posts=K.posts?K.posts.concat(G):G,K.fullyLoaded=G.length<x||this.props.maxPosts&&K.posts.length>=this.props.maxPosts}catch(x){console.error("Failed to load tab:",x),K.loadingError=x}K.loading=!1,this.setState({tabs:this.state.tabs})})),H(this,"onChange",({post:U})=>{!U||(Object(r.stateTransaction)(this,V=>{let K=!1;const Y=V.tabs.map(W=>W.posts).filter(W=>Array.isArray(W));for(const W of Y){const R=W.findIndex(B=>B.id===U.id);R!==-1&&(W[R]=U,K=!0)}K&&this.setState({tabs:V.tabs})}),this.props.onChange&&this.props.onChange(U))}),!(this.props.pub||this.props.profile))throw new Error("Archive must be loaded for a publication or a profile");this.loadTab=this.loadTab.bind(this),this.state=this.getTabs()}componentDidMount(){this.loadTab(this.state.tab.id)}componentWillUnmount(){this.state.tab.id==="search"&&this.searchInput&&this.searchInput.blur()}componentDidUpdate(D){(D.hideTop!==this.props.hideTop||D.newPosts!==this.props.newPosts)&&this.setState(this.getTabs())}getTabs(){var D,w;let U=[];U.push({id:"new",title:this.props.newTitle||"New",posts:this.props.newPosts,fullyLoaded:Boolean(this.props.maxPosts&&this.props.newPosts)}),(!this.props.newPosts||this.props.newPosts.length>=this.getFetchLimit())&&(this.props.hideTop||U.push({id:"top",title:this.props.topTitle||"Top",posts:this.props.topPosts,fullyLoaded:Boolean(this.props.maxPosts&&this.props.topPosts)}),((D=this.props.pub)==null?void 0:D.community_enabled)&&((w=this.props.pub)==null?void 0:w.has_community_content)&&U.push({id:"community",title:this.props.communityTitle||"Community",posts:this.props.communityPosts,fullyLoaded:Boolean(this.props.maxPosts&&this.props.communityPosts)})),U=this.props.sortTabs&&this.props.sortTabs(U)||U,(this.props.sort==="search"||!(this.props.newPosts&&this.props.newPosts.length<this.getFetchLimit()))&&U.push({id:"search",title:"Search",posts:this.props.searchPosts,fullyLoaded:Boolean(this.props.maxPosts&&this.props.searchPosts),query:this.props.search||"",hidden:!0});const V=U.find(K=>K.id===this.props.sort)||this.props.search&&U.find(K=>K.id==="search")||U[0];return{tabs:U,tab:V}}getFetchLimit(){return this.props.maxPosts||12}render({authorInMeta:D,className:w,disableInteractive:U,emptyMessage:V="No posts",filterPosts:K,hideAuthor:Y,hideCoverImage:W,hideSearchTab:R,hideShare:B,isBelowTheFold:x,isPodcast:G,maxPosts:Q,maxTitleLength:he,pinnedPosts:Z,profile:le,pub:de,renderLoading:be,renderPosts:X,renderTabs:ie,renderSeeAll:Ce,showMonthDividers:Le,showPins:Ae,showPublicationName:Pe,source:Ne,user:ce},{tabs:q,tab:te}){const ue=Le&&te.id==="new",We=q.find(De=>De.id==="search"),ot=q.find(De=>De.id==="community");let ze=Array.isArray(te.posts)?te.posts.filter(De=>!(de&&te.id==="top"&&De.top_exclusions.includes(de.id))).filter(De=>(de==null?void 0:de.section)&&(Z==null?void 0:Z.length)?!Z.find(Ie=>Ie.id===De.id):!0).filter(K||(()=>!0)):[];(de==null?void 0:de.section)&&(Z==null?void 0:Z.length)&&["new","top"].includes(te.id)&&(ze=[...Z,...ze]);const vt=ze.length===0,Wt=!ze&&!te.loadingError,zt=!W&&ze.some&&ze.some(De=>De.cover_image);let at;le&&(at=new Map(le.publicationUsers.map(De=>[De.publication.id,De.publication])));const Me=Q?ze.slice(0,Q):ze,Be=X?X({posts:Me,linkToComments:te===ot,onClickPost:({event:De,post:Ie,index:He,source:Ve})=>this.onPostClicked(De,Ie.id,He,Ve)}):[];if(!X){let De;Me.forEach((Ie,He)=>{if(ue){const Ve=d()(Ie.post_date).format("MMMM YYYY");Ve!==De&&(He!==0&&Be.push(Object(e.h)("h3",null,Ve)),De=Ve)}Be.push(Object(e.h)(y.e,{key:Ie.id,className:"portable-archive-post",post:Ie,pub:de||at&&at.get(Ie.publication_id),user:ce,showDate:!0,showCoverImage:zt,authorInMeta:Object(g.getBylineUsers)(Ie).length<=1&&D!==!1,linkToComments:te===ot,onChange:this.onChange,disableInteractive:U,showPins:Ae,showPublicationName:Pe,hideAuthor:Y,onClick:Ve=>this.onPostClicked(Ve,Ie.id,He,Ne),maxTitleLength:he,hideShare:B,isBelowTheFold:x}))})}const Xe=G?Object(p.getPodcastArchiveUrl)({pub:de,section:de.section,params:{sort:te.id,search:te.query}}):Object(f.getArchiveUrl)(de,{params:{sort:te.id,search:te.query}}),Te=Ce?Ce({url:Xe}):Object(e.h)("a",{className:"portable-archive-all",href:Xe,native:!0},"See all ",Object(e.h)(v.default,{height:12,width:12})),we=be?be():Array.from(new Array(this.getFetchLimit())).map(()=>Object(e.h)(y.f,{pub:de}));return Object(e.h)("div",{className:o()("portable-archive",w,{"empty-list":vt})},ie&&ie({activeTabId:te.id,isSearching:te===We,showSearch:Boolean(We&&!R),searchInputProps:{value:We==null?void 0:We.query,onKeyDown:this.onSearchKeyDown,onKeyPress:this.onSearchInput,onInput:this.onSearchInput,onChange:this.onSearchInput,onBlur:this.onSearchBlur},searchRef:De=>{this.searchInput=De},tabs:q.filter(De=>!De.hidden),onClick:De=>{this.loadTab(De)},onClickSearch:()=>{this.loadTab("search")},onClickSearchClose:()=>{this.loadTab(q[0].id)}}),!ie&&Object(e.h)("div",{className:"portable-archive-tabs"},te===We?Object(e.h)("div",{className:"portable-archive-search-bar"},Object(e.h)(j.default,{className:"portable-archive-search-bar-icon"}),Object(e.h)("input",{ref:De=>this.searchInput=De,className:"portable-archive-search-bar-input",type:"text",placeholder:"Search\u2026",value:te.query,onKeyDown:this.onSearchKeyDown,onKeyPress:this.onSearchInput,onInput:this.onSearchInput,onChange:this.onSearchInput,onBlur:this.onSearchBlur}),Object(e.h)(h.default,{className:"portable-archive-search-bar-close",onClick:this.onTabClick(q[0].id)})):Object(e.h)(e.Fragment,null,q.filter(De=>!De.hidden).map(({id:De,title:Ie})=>Object(e.h)("a",{className:`portable-archive-tab ${De}-tab ${te.id===De?"active":""}`,onClick:this.onTabClick(De)},Object(e.h)("span",{className:"portable-archive-tab-content"},Ie))),We&&!R&&Object(e.h)("a",{className:"portable-archive-tab search-tab",href:"javascript:void(0)",onClick:this.onTabClick("search")},Object(e.h)(j.default,null)))),Object(e.h)("div",{className:"portable-archive-list"},te.loadingError?Object(e.h)("p",{className:"portable-archive-empty"},"Failed to load posts"):ze.length===0&&!te.loading?Object(e.h)("p",{className:"portable-archive-empty"},te.id!=="search"?V:te.query?"No results":`Search ${de?de.name:""}`):Object(e.h)(e.Fragment,null,Be,!Q&&!Wt&&!te.loading&&!te.fullyLoaded&&Object(e.h)(b.a,{threshold:640,onVisible:()=>this.loadTab(te.id,te.query)})),te.loading||Wt?we:Q&&ze.length>=Q&&Te))}}},function(k,n,t){"use strict";t.d(n,"c",function(){return G}),t.d(n,"b",function(){return Q}),t.d(n,"a",function(){return he});var e=t(0),a=t(5),o=t.n(a),l=t(190),d=t(45),c=t(4),u=t(71),f=t(74),m=t(149),p=t(7),g=t(916),O=t(98),s=t(9),r=t(2),i=t(8),h=t(263),v=t(473),j=t(21),y=t(596),b=t(57),E=t(183),P=t(96),A=t(513),_=t(482),M=t(1);function F({text:be,maxLines:X,ellipsesText:ie="..."}){const Ce=Object(M.k)(null),[Le,Ae]=Object(M.l)(be);return Object(M.d)(()=>{(()=>{if(!Ce.current)return;Ce.current.innerText="-";const ce=(Ce.current.clientHeight+1)*X+1;let q=0,te=0,ue=be.length;for(;q<=ue;){if(te=Math.floor((q+ue)/2),Ce.current.innerText=be.slice(0,te),te===be.length&&Ce.current.clientHeight<=ce){Ce.current.innerText="",Ae(be);return}Ce.current.clientHeight<=ce?q=te+1:ue=te-1}const We=be.slice(0,te-ie.length-2);Ce.current.innerText="",Ae(We+ie)})()},[Ce,be,X,ie]),Object(e.h)("div",{style:{position:"relative"}},Object(e.h)("div",null,Le),Object(e.h)("div",{ref:Ce,style:{visibility:"hidden",position:"absolute",width:"100%"}}))}var H=t(50),C=t(51),T=Object.defineProperty,S=Object.defineProperties,D=Object.getOwnPropertyDescriptors,w=Object.getOwnPropertySymbols,U=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable,K=(be,X,ie)=>X in be?T(be,X,{enumerable:!0,configurable:!0,writable:!0,value:ie}):be[X]=ie,Y=(be,X)=>{for(var ie in X||(X={}))U.call(X,ie)&&K(be,ie,X[ie]);if(w)for(var ie of w(X))V.call(X,ie)&&K(be,ie,X[ie]);return be},W=(be,X)=>S(be,D(X)),R=(be,X,ie)=>(K(be,typeof X!="symbol"?X+"":X,ie),ie),B=(be,X,ie)=>new Promise((Ce,Le)=>{var Ae=ce=>{try{Ne(ie.next(ce))}catch(q){Le(q)}},Pe=ce=>{try{Ne(ie.throw(ce))}catch(q){Le(q)}},Ne=ce=>ce.done?Ce(ce.value):Promise.resolve(ce.value).then(Ae,Pe);Ne((ie=ie.apply(be,X)).next())});const x="intro_popup_last_hidden_at";class G extends e.Component{constructor(X,ie){super(X,ie)}componentDidMount(){this.shouldShow()?(typeof window!="undefined"&&(Object(s.addClass)(document.documentElement,"has-intro-popup"),Object(g.c)(this.props.publication,this.props.user,this.props.coupon||this.props.referralCoupon,{required:!0},X=>this.setState({coupon:X}))),this.show()):(this.props.onHide&&this.props.onHide(),Object(m.b)({hide_intro_popup:!0}))}componentWillUnmount(){typeof window!="undefined"&&Object(s.removeClass)(document.documentElement,"has-intro-popup"),this.hide(!0)}shouldShow(){const{freeSignup:X,user:ie,post:Ce,hidden:Le,alwaysShow:Ae,showOnMount:Pe}=this.props;return Ae?!0:Le?!1:Pe||this.state.signedUp?!0:!(this.isMarkedAsHidden()||!(Ce===null||Ce&&!Object(d.isPaidAudience)(Ce.audience))||X||ie&&(ie.is_free_subscribed||ie.is_subscribed))}isShowing(){return typeof window!="undefined"&&Object(s.hasClass)(document.documentElement,"show-intro-popup")}show(){!this.shouldShow()||typeof window!="undefined"&&(Object(s.addClass)(document.documentElement,"show-intro-popup"),Object(p.i)(p.a.COVER_PAGE_SHOWN,{has_cover_photo:!!this.props.publication.cover_photo_url,has_free_signup_email:!!this.props.freeSignupEmail,has_free_signup:!!this.props.freeSignup}),this.props.alwaysShow||Object(p.g)("pageview",{dl:`${document.location.origin}/welcome${document.location.search}`}))}hide(X){X||(this.markAsHidden(),setTimeout(()=>{Object(m.b)({hide_intro_popup:!0})},500)),this.props.onHide&&this.props.onHide(),!this.props.alwaysShow&&this.isShowing()&&Object(s.removeClass)(document.documentElement,"show-intro-popup")}isMarkedAsHidden(){const X=l.get(x);if(X){const ie=new Date(X),Ce=new Date(Date.now()-24*60*60*1e3);if(ie>Ce)return!0}return!1}markAsHidden(){l.set(x,new Date().toJSON(),{expires:365*10})}onFreeSignup(X){return B(this,null,function*(){Object(p.i)(p.a.COVER_PAGE_EMAIL_SUBMITTED,{is_paying_sub:!!X.body.prompt_to_login,has_plans:!!this.props.publication.plans}),this.markAsHidden(),yield new Promise(Ce=>this.setState({signedUp:!0},Ce)),Object(m.b)({freeSignup:!0,freeSignupEmail:X.body.email});const ie=this.props.alwaysShow?"/":document.location.href;X.body.prompt_to_login?setTimeout(()=>{document.location.href=Object(c.pathWithQuery)("/account/login",{redirect:ie,email:X.body.email})},30):document.location.href=Object(c.pathWithQuery)("/subscribe",W(Y({next:ie,later:!0,just_signed_up:!0},X.body.subscription_id&&{subscription_id:X.body.subscription_id}),{coupon:this.props.coupon,requires_confirmation:X.body.requires_confirmation?"true":"",utm_source:"cover_page",email:X.body.email,skip_redirect_check:!0}))})}onMaybeLater(){Object(p.i)(p.a.COVER_PAGE_MAYBE_LATER_CLICKED),this.hide()}onBecomePaying(){Object(p.i)(p.a.COVER_PAGE_BECOME_PAYING_CLICKED),setTimeout(()=>{document.location.href="/subscribe"},30)}onLearnMore(){Object(p.i)(p.a.COVER_PAGE_LEARN_MORE_CLICKED),setTimeout(()=>{document.location.href=Object(c.getAboutUrl)(this.props.publication)},30)}render({email:X,user:ie,freeSignup:Ce,freeSignupEmail:Le,publication:Ae,referralCode:Pe,blurbs:Ne,noBalance:ce,isAudio:q},{coupon:te}){if(!this.shouldShow())return;const ue=Object(e.h)(he,{source:"cover_page",email:X,pub:Ae,user:ie,freeSignup:Ce,freeSignupEmail:Le,referralCode:Pe,forceSignup:Object(c.getQueryItem)("force"),coupon:te,onMaybeLater:()=>this.onMaybeLater(),onFreeSignup:We=>this.onFreeSignup(We),markAsHidden:this.markAsHidden,blurbs:Ne,noBalance:ce,isAudio:q});return Object(e.h)("div",{className:"intro-popup default-intro-popup"},Object(e.h)("div",{className:"intro-popup-page intro-popup-page-0"},ue))}}R(G,"contextType",u.a);const Q=be=>Object(e.h)("div",{className:"intro-inline"},Object(e.h)(he,Y({},be)));class he extends e.Component{constructor(X,ie){super(X,ie);const Ce=Object(c.getQueryItem)("referralCode"),Le=Object(c.getQueryItem)("refSource"),Ae="Learn More",Pe=Object(c.getAboutUrl)(this.props.pub,{params:Y(Y({utm_source:"subscribe_email",utm_content:"learn_more"},Ce&&{referralCode:Ce}),Le&&{refSource:Le})});this.state={dismissalText:Ae,dismissalUrl:Pe,welcomePageOptOutText:this.context.getSettingFor("welcome_page_opt_out_text")}}componentDidMount(){this.props.source==="subscribe_page"&&Object(p.i)(p.a.SUBSCRIBE_EMAIL_FULL_SCREEN_SHOWN),Object(p.i)(p.a.FULL_EMAIL_FORM_SHOWN,{source:this.props.source})}onAuthorClicked(){Object(p.i)(p.a.COVER_PAGE_AUTHOR_CLICKED),setTimeout(()=>{document.location.href=Object(c.getAboutUrl)(this.props.pub)},30)}render({email:X,pub:ie,user:Ce,freeSignup:Le,freeSignupEmail:Ae,referralCode:Pe,source:Ne,coupon:ce,forceSignup:q,submitButtonText:te,onMaybeLater:ue,onFreeSignup:We,noBalance:ot,markAsHidden:ze,blurbs:vt},{dismissalText:Wt,dismissalUrl:zt,welcomePageOptOutText:at}){const Me=vt?vt.filter(Be=>Be.description!=""):[];return Object(e.h)("div",{className:"full-email-form"},Object(e.h)("div",{className:"vertically-centered"},ue&&!ie.invite_only&&Object(e.h)("button",{className:"button close-welcome-modal",onClick:ue,"aria-label":"Close","data-testid":"close-welcome-modal"},Object(e.h)(P.default,null)),Object(e.h)(le,{pub:ie,noBalance:ot,verbose:!0}),ce&&ce.required&&Object(e.h)("p",{className:`coupon ${ce.loading?"loading":""} ${ce.error?"error":""}`},ce.loading?"Loading coupon":ce.error?"Invalid coupon!":"Valid coupon!",` ${(ce.name||ce.id).toUpperCase()}`),ie.invite_only&&(!Ce||!Ce.is_free_subscribed)?Object(e.h)(Z,{pub:ie,user:Ce,freeSignupEmail:Ae}):[Object(e.h)(E.a,{source:Ne,email:X,user:Ce,pub:ie,freeSignup:Le,freeSignupEmail:Ae,referralCode:Pe,onConfirmationRequired:ie.payments_state==="enabled"?()=>null:void 0,onSuccess:We||(()=>document.location.href="/"),onMaybeLater:ue,showArchives:!1,submitButtonText:te,hideTerms:!0,hideLogin:!0,contentLinks:!1,markWelcomePageAsHidden:ze}),!q&&(ue?Object(e.h)("a",{onClick:Be=>Be.preventDefault(),className:"no-styles"},Object(e.h)(j.b,{className:"maybe-later",onClick:ue},at==="No thanks"?I`No thanks`:at,Object(e.h)(_.default,null))):Object(e.h)(j.b,{className:"maybe-later",href:zt},Wt,Object(e.h)(_.default,null)))],Object(e.h)(i.b,{size:14,color:"tertiary",className:"tos"},"By registering you agree to Substack's"," ",Object(e.h)("a",{href:"https://substack.com/tos",target:"__blank"},"Terms of Service"),", our"," ",Object(e.h)("a",{href:"https://substack.com/privacy",target:"__blank"},"Privacy Policy"),", and our"," ",Object(e.h)("a",{href:"https://substack.com/ccpa#personal-data-collected",target:"__blank"},"Information Collection Notice")),!!(Me==null?void 0:Me.length)&&Object(e.h)("div",{className:"blurb-buffer"}),!!(Me==null?void 0:Me.length)&&Object(e.h)(r.c,{className:"blurbs",gap:20},Me.map(Be=>Object(e.h)(r.b,{gap:8,className:"blurb"},Object(e.h)(i.b.B4,{className:"blurb-text"},Object(e.h)(F,{maxLines:4,ellipsesText:"...\u201D",text:`\u201C${Be.description}\u201D`})),Object(e.h)(i.b.B4,{weight:"semibold",className:"blurb-text"},Be.author_name||Be.recommendingPublication.email_from_name||Be.recommendingPublication.copyright,", ",Object(e.h)("a",{href:Object(c.getBaseUrl)(Be.recommendingPublication)},Be.recommendingPublication.name)))))))}}R(he,"contextType",f.a);class Z extends e.Component{constructor(){super(...arguments);R(this,"canTurnOnCustomerSupportMode",()=>{const X=this.props.user;return(X==null?void 0:X.is_global_admin)&&!(X==null?void 0:X.is_admin)}),R(this,"showCustomerSupportModeModal",()=>{var X;!this.canTurnOnCustomerSupportMode()||(X=this.customerSupportModeModal)==null||X.open()})}componentDidMount(){const X=this.props.freeSignupEmail||this.props.user&&this.props.user.email;X&&(this.emailInput.value=X)}renderCustomerSupportModeModal(){if(!!this.canTurnOnCustomerSupportMode())return Object(e.h)(H.a,{className:"account-info-customer-support-mode-modal",ref:X=>this.customerSupportModeModal=X},Object(e.h)(y.a,{redirect:Object(c.getQueryItem)("redirect")||"/publish",onCancel:X=>this.customerSupportModeModal.close(X)}))}render({pub:X,user:ie,freeSignupEmail:Ce},{loading:Le,success:Ae}){const Pe=Ce||ie&&ie.email;return Object(e.h)("div",{className:"intro-popup-invite-actions"},this.renderCustomerSupportModeModal(),Object(e.h)(b.g,{className:"subscription-request-form",ref:Ne=>this.form=Ne,noInlineErrors:!0,action:Object(c.pathWithQuery)("/api/v1/subscription/request"),noJsAction:Object(c.pathWithQuery)("/api/v1/subscription/request",{nojs:!0}),onSuccess:()=>this.setState({success:!0}),onError:Ne=>{this.setState({loading:!1}),alert(Object(s.getNetworkErrorMessage)(Ne,"Failed to request a subscription"))}},Object(e.h)("input",{type:"hidden",name:"first_url",value:O.d}),Object(e.h)("input",{type:"hidden",name:"first_referrer",value:O.c}),Object(e.h)("input",{type:"hidden",name:"current_url",value:O.b}),Object(e.h)("input",{type:"hidden",name:"current_referrer",value:O.a}),!!Pe&&Object(s.inputPrefillHack)(),Object(e.h)(r.b,{alignItems:"center"},Object(e.h)("input",{type:"email",name:"email",ref:Ne=>this.emailInput=Ne,readOnly:!!(Pe||Le),disabled:!!(Le||Ae||Pe),autoFocus:!Pe&&!Object(s.isMobileBrowser)(),placeholder:I`Type your email…`}),Object(e.h)("div",{id:"error-container"}),Object(e.h)(j.b,{className:o()(Ae?"secondary":"primary"),type:"submit",disabled:!!(Le||Ae),onClick:()=>{this.setState({loading:!0})}},Object(e.h)("b",{className:"button-text"},Ae?"Requested":"Subscribe")))),Object(e.h)(r.b,{gap:12,paddingBottom:12,alignItems:"center",justifyContent:"center"},Object(e.h)(A.default,{className:"private-lock-icon"}),Object(e.h)(r.b,{gap:2},Object(e.h)(i.b.B4,{weight:"semibold",className:"private-header"},"This Substack is private"),Object(e.h)(i.b.B4,{className:"private-subtitle"},"Subscribe to see all their posts."))),this.canTurnOnCustomerSupportMode()&&Object(e.h)("p",null,Object(e.h)("a",{className:"account-info-admin",onClick:this.showCustomerSupportModeModal},Object(e.h)("b",null,"Support mode"))),Object(e.h)("a",{href:Object(c.getSigninUrl)({for_pub:X.subdomain,redirect:"/",change_user:Boolean(ie||Ce)}),native:!0},"Already a member? ",Object(e.h)("b",null,ie||Ce?"Switch accounts":"Sign in")))}}R(Z,"state",{loading:!1,success:!1});const le=({pub:be,noBalance:X,verbose:ie})=>{const{getSettingFor:Ce}=Object(f.c)(),Le=Ce("display_welcome_page_details");return be.cover_photo_url?[Object(e.h)(C.a,{className:"publication-cover-photo",src:be.cover_photo_url,imageProps:{quality:"auto:best"},maxWidth:1360,alt:be.name,loading:"eager"}),!be.hide_intro_title&&Object(e.h)("h1",{className:`publication-name with-cover${be.logo_url?"":" no-logo"}`},Object(e.h)(de,{pub:be,noBalance:X})),!be.hide_intro_subtitle&&(be.hero_text||!ie)&&Object(e.h)("p",{className:o()("publication-tagline with-cover",{verbose:ie})},!!be.hero_text&&(X?be.hero_text:Object(e.h)(v.a,{text:be.hero_text}))),ie&&Object(e.h)("div",{className:"publication-meta"},Object(h.f)(be,{includePrice:!1,includeBadge:!0,rankingDetailOverrideText:be.rankingDetailFreeSubscriberCount,includeRankingDetail:Le}))].filter(Ae=>Ae):[be.logo_url&&Object(e.h)(C.a,{className:"publication-logo",src:be.logo_url,imageProps:{quality:"auto:best"},maxWidth:264,alt:`${be.name} Logo`,loading:"eager"}),Object(e.h)("h1",{className:`publication-name${be.logo_url?"":" no-logo"}`},Object(e.h)(de,{pub:be,noBalance:X})),(be.hero_text||!ie)&&Object(e.h)("p",{className:o()("publication-tagline",{verbose:ie})},!!be.hero_text&&(X?be.hero_text:Object(e.h)(v.a,{text:be.hero_text}))),ie&&Object(e.h)("div",{className:"publication-meta"},Object(h.f)(be,{includePrice:!1,includeBadge:!0,rankingDetailOverrideText:be.rankingDetailFreeSubscriberCount,includeRankingDetail:Le}))].filter(Ae=>Ae)},de=({pub:be,noBalance:X})=>X?be.name:Object(e.h)(v.a,{text:be.name})},,,,,,,,function(k,n){function t(e){return function(){return e}}k.exports=t},function(k,n){var t="\\ud800-\\udfff",e="\\u0300-\\u036f",a="\\ufe20-\\ufe2f",o="\\u20d0-\\u20ff",l=e+a+o,d="\\ufe0e\\ufe0f",c="\\u200d",u=RegExp("["+c+t+l+d+"]");function f(m){return u.test(m)}k.exports=f},function(k,n,t){"use strict";t.d(n,"b",function(){return g}),t.d(n,"a",function(){return O});var e=t(0),a=t(1),o=t(193),l=t(4),d=t.n(l),c=t(14),u=t(2),f=t(32),m=t(8),p=t(290);function g({utm_campaign:r,utm_source:i}={}){const[h,v]=Object(a.l)(!1);return{open:()=>v(!0),modal:Object(e.h)(s,{isOpen:h,onClose:()=>v(!1),utm_campaign:r,utm_source:i})}}function O({label:r}){return Object(e.h)(u.a,{gap:16,alignItems:"center",className:p.a.divider},Object(e.h)("hr",{className:p.a.dividerLine}),r&&Object(e.h)(e.Fragment,null,Object(e.h)(m.b.Meta,null,r),Object(e.h)("hr",{className:p.a.dividerLine})))}function s({isOpen:r,onClose:i,utm_campaign:h,utm_source:v}){return Object(e.h)(f.a,{isOpen:r,onClose:i},Object(e.h)(u.b,null,Object(e.h)(u.a,{padding:24,borderBottom:"detail",justifyContent:"space-between",alignItems:"center",className:p.a.modalHeader},Object(e.h)(m.b.H2,null,"Download the Substack app"),Object(e.h)(c.c,{size:40,onClick:i,rounded:!0,fill:"borderless","aria-label":"Close"},Object(e.h)(o.a,{size:20}))),Object(e.h)(u.b,{justifyContent:"center",alignItems:"center",gap:32,padding:32},Object(e.h)(m.b.B3,{weight:"semibold"},"Scan the QR code below"),Object(e.h)(u.a,{padding:4,alignItems:"center",className:p.a.qrCode},Object(e.h)("img",{src:Object(l.cloudinary)("/img/app_page/app-store-redirect-qr.jpg",400)})),Object(e.h)(O,{label:"OR"}),Object(e.h)(u.a,{gap:16,justifyContent:"center"},Object(e.h)("a",{className:p.a.appBadge,href:Object(l.getAppStoreUrl)({utm_campaign:h,utm_source:v})},Object(e.h)("img",{src:Object(l.cloudinary)("/img/app_page/app-store.png",160*2),height:48})),Object(e.h)("a",{className:p.a.appBadge,href:Object(l.getPlayStoreUrl)({utm_campaign:h,utm_source:v})},Object(e.h)("img",{src:Object(l.cloudinary)("/img/app_page/google-play.png",160*2),height:48}))))))}},,,,,,,,function(k,n,t){var e=t(275),a=e.Global;k.exports={name:"sessionStorage",read:l,write:d,each:c,remove:u,clearAll:f};function o(){return a.sessionStorage}function l(m){return o().getItem(m)}function d(m,p){return o().setItem(m,p)}function c(m){for(var p=o().length-1;p>=0;p--){var g=o().key(p);m(l(g),g)}}function u(m){return o().removeItem(m)}function f(){return o().clear()}},function(k,n,t){var e=t(275),a=e.Global,o=e.trim;k.exports={name:"cookieStorage",read:d,write:u,each:c,remove:f,clearAll:m};var l=a.document;function d(g){if(!g||!p(g))return null;var O="(?:^|.*;\\s*)"+escape(g).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(l.cookie.replace(new RegExp(O),"$1"))}function c(g){for(var O=l.cookie.split(/; ?/g),s=O.length-1;s>=0;s--)if(!!o(O[s])){var r=O[s].split("="),i=unescape(r[0]),h=unescape(r[1]);g(h,i)}}function u(g,O){!g||(l.cookie=escape(g)+"="+escape(O)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")}function f(g){!g||!p(g)||(l.cookie=escape(g)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function m(){c(function(g,O){f(O)})}function p(g){return new RegExp("(?:^|;\\s*)"+escape(g).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(l.cookie)}},function(k,n,t){var e=t(194),a=t(304),o=t(95),l=e?e.isConcatSpreadable:void 0;function d(c){return o(c)||a(c)||!!(l&&c&&c[l])}k.exports=d},function(k,n){function t(e,a,o,l){for(var d=-1,c=e==null?0:e.length;++d<c;){var u=e[d];a(l,u,o(u),e)}return l}k.exports=t},function(k,n,t){var e=t(585);function a(o,l,d,c){return e(o,function(u,f,m){l(c,u,d(u),m)}),c}k.exports=a},function(k,n){function t(e){return function(a,o,l){for(var d=-1,c=Object(a),u=l(a),f=u.length;f--;){var m=u[e?f:++d];if(o(c[m],m,c)===!1)break}return a}}k.exports=t},function(k,n,t){var e=t(237);function a(o,l){return function(d,c){if(d==null)return d;if(!e(d))return o(d,c);for(var u=d.length,f=l?u:-1,m=Object(d);(l?f--:++f<u)&&c(m[f],f,m)!==!1;);return d}}k.exports=a},function(k,n,t){var e=t(585),a=t(237);function o(l,d){var c=-1,u=a(l)?Array(l.length):[];return e(l,function(f,m,p){u[++c]=d(f,m,p)}),u}k.exports=o},function(k,n){function t(e,a){var o=e.length;for(e.sort(a);o--;)e[o]=e[o].value;return e}k.exports=t},function(k,n,t){var e=t(894);function a(o,l,d){for(var c=-1,u=o.criteria,f=l.criteria,m=u.length,p=d.length;++c<m;){var g=e(u[c],f[c]);if(g){if(c>=p)return g;var O=d[c];return g*(O=="desc"?-1:1)}}return o.index-l.index}k.exports=a},function(k,n,t){var e=t(201);function a(o,l){if(o!==l){var d=o!==void 0,c=o===null,u=o===o,f=e(o),m=l!==void 0,p=l===null,g=l===l,O=e(l);if(!p&&!O&&!f&&o>l||f&&m&&g&&!p&&!O||c&&m&&g||!d&&g||!u)return 1;if(!c&&!f&&!O&&o<l||O&&d&&u&&!c&&!f||p&&d&&u||!m&&u||!g)return-1}return 0}k.exports=a},function(k,n){function t(e,a,o){switch(o.length){case 0:return e.call(a);case 1:return e.call(a,o[0]);case 2:return e.call(a,o[0],o[1]);case 3:return e.call(a,o[0],o[1],o[2])}return e.apply(a,o)}k.exports=t},function(k,n,t){var e=t(874),a=t(602),o=t(229),l=a?function(d,c){return a(d,"toString",{configurable:!0,enumerable:!1,value:e(c),writable:!0})}:o;k.exports=l},function(k,n){var t=800,e=16,a=Date.now;function o(l){var d=0,c=0;return function(){var u=a(),f=e-(u-c);if(c=u,f>0){if(++d>=t)return arguments[0]}else d=0;return l.apply(void 0,arguments)}}k.exports=o},function(k,n,t){var e=t(829);function a(o,l){var d=o==null?0:o.length;return!!d&&e(o,l,0)>-1}k.exports=a},function(k,n){function t(e){return e!==e}k.exports=t},function(k,n){function t(e,a,o){for(var l=o-1,d=e.length;++l<d;)if(e[l]===a)return l;return-1}k.exports=t},function(k,n){function t(e,a,o){for(var l=-1,d=e==null?0:e.length;++l<d;)if(o(a,e[l]))return!0;return!1}k.exports=t},function(k,n,t){var e=t(452),a=t(301),o=t(303),l=1/0,d=e&&1/o(new e([,-0]))[1]==l?function(c){return new e(c)}:a;k.exports=d},function(k,n,t){var e=t(108),a=function(){return e.Date.now()};k.exports=a},function(k,n,t){(function(e,a){var o;/*! https://mths.be/punycode v1.3.2 by @mathias */(function(l){var d=n&&!n.nodeType&&n,c=e&&!e.nodeType&&e,u=typeof a=="object"&&a;(u.global===u||u.window===u||u.self===u)&&(l=u);var f,m=2147483647,p=36,g=1,O=26,s=38,r=700,i=72,h=128,v="-",j=/^xn--/,y=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,E={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},P=p-g,A=Math.floor,_=String.fromCharCode,M;function F(R){throw RangeError(E[R])}function H(R,B){for(var x=R.length,G=[];x--;)G[x]=B(R[x]);return G}function C(R,B){var x=R.split("@"),G="";x.length>1&&(G=x[0]+"@",R=x[1]),R=R.replace(b,".");var Q=R.split("."),he=H(Q,B).join(".");return G+he}function T(R){for(var B=[],x=0,G=R.length,Q,he;x<G;)Q=R.charCodeAt(x++),Q>=55296&&Q<=56319&&x<G?(he=R.charCodeAt(x++),(he&64512)==56320?B.push(((Q&1023)<<10)+(he&1023)+65536):(B.push(Q),x--)):B.push(Q);return B}function S(R){return H(R,function(B){var x="";return B>65535&&(B-=65536,x+=_(B>>>10&1023|55296),B=56320|B&1023),x+=_(B),x}).join("")}function D(R){return R-48<10?R-22:R-65<26?R-65:R-97<26?R-97:p}function w(R,B){return R+22+75*(R<26)-((B!=0)<<5)}function U(R,B,x){var G=0;for(R=x?A(R/r):R>>1,R+=A(R/B);R>P*O>>1;G+=p)R=A(R/P);return A(G+(P+1)*R/(R+s))}function V(R){var B=[],x=R.length,G,Q=0,he=h,Z=i,le,de,be,X,ie,Ce,Le,Ae,Pe;for(le=R.lastIndexOf(v),le<0&&(le=0),de=0;de<le;++de)R.charCodeAt(de)>=128&&F("not-basic"),B.push(R.charCodeAt(de));for(be=le>0?le+1:0;be<x;){for(X=Q,ie=1,Ce=p;be>=x&&F("invalid-input"),Le=D(R.charCodeAt(be++)),(Le>=p||Le>A((m-Q)/ie))&&F("overflow"),Q+=Le*ie,Ae=Ce<=Z?g:Ce>=Z+O?O:Ce-Z,!(Le<Ae);Ce+=p)Pe=p-Ae,ie>A(m/Pe)&&F("overflow"),ie*=Pe;G=B.length+1,Z=U(Q-X,G,X==0),A(Q/G)>m-he&&F("overflow"),he+=A(Q/G),Q%=G,B.splice(Q++,0,he)}return S(B)}function K(R){var B,x,G,Q,he,Z,le,de,be,X,ie,Ce=[],Le,Ae,Pe,Ne;for(R=T(R),Le=R.length,B=h,x=0,he=i,Z=0;Z<Le;++Z)ie=R[Z],ie<128&&Ce.push(_(ie));for(G=Q=Ce.length,Q&&Ce.push(v);G<Le;){for(le=m,Z=0;Z<Le;++Z)ie=R[Z],ie>=B&&ie<le&&(le=ie);for(Ae=G+1,le-B>A((m-x)/Ae)&&F("overflow"),x+=(le-B)*Ae,B=le,Z=0;Z<Le;++Z)if(ie=R[Z],ie<B&&++x>m&&F("overflow"),ie==B){for(de=x,be=p;X=be<=he?g:be>=he+O?O:be-he,!(de<X);be+=p)Ne=de-X,Pe=p-X,Ce.push(_(w(X+Ne%Pe,0))),de=A(Ne/Pe);Ce.push(_(w(de,0))),he=U(x,Ae,G==Q),x=0,++G}++x,++B}return Ce.join("")}function Y(R){return C(R,function(B){return j.test(B)?V(B.slice(4).toLowerCase()):B})}function W(R){return C(R,function(B){return y.test(B)?"xn--"+K(B):B})}f={version:"1.3.2",ucs2:{decode:T,encode:S},decode:V,encode:K,toASCII:W,toUnicode:Y},o=function(){return f}.call(n,t,n,e),o!==void 0&&(e.exports=o)})(this)}).call(this,t(271)(k),t(173))},function(k,n,t){var e=t(992),a=t(993),o=t(767),l=t(994);function d(c,u){return e(c)||a(c,u)||o(c,u)||l()}k.exports=d,k.exports.__esModule=!0,k.exports.default=k.exports},function(k,n,t){var e=t(433).default,a=t(907);function o(l){var d=a(l,"string");return e(d)==="symbol"?d:String(d)}k.exports=o,k.exports.__esModule=!0,k.exports.default=k.exports},function(k,n,t){var e=t(433).default;function a(o,l){if(e(o)!=="object"||o===null)return o;var d=o[Symbol.toPrimitive];if(d!==void 0){var c=d.call(o,l||"default");if(e(c)!=="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(o)}k.exports=a,k.exports.__esModule=!0,k.exports.default=k.exports},function(k,n){function t(e,a){return k.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(l,d){return l.__proto__=d,l},k.exports.__esModule=!0,k.exports.default=k.exports,t(e,a)}k.exports=t,k.exports.__esModule=!0,k.exports.default=k.exports},function(k,n){function t(e,a){return a||(a=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(a)}}))}k.exports=t,k.exports.__esModule=!0,k.exports.default=k.exports},function(k,n,t){"use strict";var e=t(911);function a(){}function o(){}o.resetWarningCache=a,k.exports=function(){function l(u,f,m,p,g,O){if(O!==e){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}l.isRequired=l;function d(){return l}var c={array:l,bigint:l,bool:l,func:l,number:l,object:l,string:l,symbol:l,any:l,arrayOf:d,element:l,elementType:l,instanceOf:d,node:l,objectOf:d,oneOf:d,oneOfType:d,shape:d,exact:d,checkPropTypes:o,resetWarningCache:a};return c.PropTypes=c,c}},function(k,n,t){"use strict";var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";k.exports=e},function(k,n,t){var e=t(320);function a(o,l){return e(l,function(d){return o[d]})}k.exports=a},function(k,n,t){"use strict";var e=t(0),a=t(1),o=t(17),l=t.n(o),d=t(10),c=t(4),u=t(15),f=t(9),m=t(7),p=t(21),g=t(50),O=t(596),s=t(12),r=t.n(s),i=t(5),h=t.n(i),v=t(583),j=t(98),y=t(456),b=t(35),E=t(71),P=t(74),A=t(700),_=t(130),M=t(342),F=t(23),H=t(26),C=t(37),T=t(430),S={menuIcon:"frontend-components-NavbarUserWidget-module__menuIcon--SKMR-"},D=t(862),w=t(18),U=t(2),V=t(276),K=t(8),Y=t(19),W=t(192),R=t(121),B=t(47),x={searchWrapper:"frontend-components-SearchDropdown-module__searchWrapper--mzZlw",marginLeft:"frontend-components-SearchDropdown-module__marginLeft--GwZeg",marginRight:"frontend-components-SearchDropdown-module__marginRight--2VlMu",active:"frontend-components-SearchDropdown-module__active--3ggmQ",trigger:"frontend-components-SearchDropdown-module__trigger--2c3jW",searcher:"frontend-components-SearchDropdown-module__searcher--1zBsd",dropdown:"frontend-components-SearchDropdown-module__dropdown--2QyVz",result:"frontend-components-SearchDropdown-module__result--3w0P8",loading:"frontend-components-SearchDropdown-module__loading--1XBzi",empty:"frontend-components-SearchDropdown-module__empty--1YFWV",more:"frontend-components-SearchDropdown-module__more--3CkZh",seeMore:"frontend-components-SearchDropdown-module__seeMore--1lBHc",photo:"frontend-components-SearchDropdown-module__photo--2BYQo",metadata:"frontend-components-SearchDropdown-module__metadata--1hXuU",paddingRight:"frontend-components-SearchDropdown-module__paddingRight--jvY2g"},G=Object.defineProperty,Q=Object.defineProperties,he=Object.getOwnPropertyDescriptors,Z=Object.getOwnPropertySymbols,le=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable,be=(we,De,Ie)=>De in we?G(we,De,{enumerable:!0,configurable:!0,writable:!0,value:Ie}):we[De]=Ie,X=(we,De)=>{for(var Ie in De||(De={}))le.call(De,Ie)&&be(we,Ie,De[Ie]);if(Z)for(var Ie of Z(De))de.call(De,Ie)&&be(we,Ie,De[Ie]);return we},ie=(we,De)=>Q(we,he(De));const Ce=({pub:we,isSignedIn:De})=>{var Ie;const[He,Ve]=Object(a.l)(!1),[z,se]=Object(a.l)(""),{getConfigFor:Se}=Object(b.c)(),Oe=Boolean((Ie=Se("platform_searcher_enabled"))!=null?Ie:!1),{result:ge,refetch:je,error:it,isLoading:Tt,hasLoadedOnce:sn}=Object(w.f)({pathname:"/api/v1/post/search",query:{query:z,focusedPublicationId:we.id,page:0,numberFocused:3,numberPlatform:2,includePlatformResults:String(Oe)},deps:[z],auto:!1}),ht=(Oe?ge==null?void 0:ge.focused:ge==null?void 0:ge.results)||[],Nt=Oe?(ge==null?void 0:ge.results)||[]:[],wt=(ge==null?void 0:ge.publications)||[],{triggerProps:yt,layerProps:Qe,renderLayer:At,isOpen:jt,setOpen:ke}=Object(V.a)({layerOptions:{auto:!0,possiblePlacements:["bottom-start","bottom-end","bottom-center"],placement:"bottom-start"}});Object(a.d)(()=>{if(z.length){ke(!0);const Ft=setTimeout(je,300);return()=>clearTimeout(Ft)}ke(!1)},[z,ke]);const tn=Object(a.k)(null),Pn=Object(a.a)(Ft=>{if(Ft.key==="Enter"){if(!jt||!z||!He)return;window.location.href=Object(c.getDiscoverSearchUrl)({query:z,params:{focusedPublicationId:we.id}})}else if(Ft.key==="Escape"){if(!He)return;se(""),Ve(!1),ke(!1)}},[He,jt,z]);return Object(e.h)(e.Fragment,null,Object(e.h)(U.c,ie(X({},yt),{className:h()(x.searchWrapper,He&&x.active,De?x.marginLeft:x.marginRight),style:{width:He?"400px":"40px"},paddingLeft:He?16:0,alignItems:"center",justifyContent:He?"space-between":"center",onClick:He?void 0:()=>{Ve(!He),He||(setTimeout(()=>{var Ft;(Ft=tn.current)==null||Ft.focus()},10),se(""))},gap:4}),Object(e.h)(D.a,{className:x.trigger,"area-hidden":!0,size:20,strokeWidth:2}),He&&Object(e.h)("input",{ref:tn,className:h()(x.searcher),placeholder:"Search...",value:z,onChange:Ft=>{se(Ft.target.value)},onKeyDown:Pn})),jt&&At(Object(e.h)(U.b,ie(X({},Qe),{radius:8,className:x.dropdown,border:"detail-themed"}),!sn||Tt&&!ht.length&&!Nt.length?Object(e.h)(U.c,{radius:8,paddingY:20,className:x.loading,justifyContent:"center"},Object(e.h)(Y.b,{size:40})):it?Object(e.h)(U.c,{radius:8,className:x.error,justifyContent:"start"},Object(e.h)(K.b.B3,{color:"pub-primary-text"},"Something went wrong.")):!ht.length&&!Nt.length?Object(e.h)(U.c,{radius:8,padding:20,className:x.empty,justifyContent:"start"},Object(e.h)(K.b.B3,{color:"pub-primary-text"},"Search for ",Object(e.h)("b",null,'"',z,'"'))):Object(e.h)(e.Fragment,null,ht.map((Ft,lt)=>Object(e.h)(Le,{key:Ft.id,pub:we,post:Ft,isFirst:lt===0,isLast:!Nt.length&&lt===ht.length-1,hideBottomBorder:Nt.length>0})),Nt.length>0&&Object(e.h)(U.c,{className:x.more,paddingX:24,paddingY:8},Object(e.h)(K.b.B4,{weight:"semibold",color:"pub-primary-text"},ht.length?"More results from across Substack":`No results found on ${we.name}. More results from across Substack`)),Nt.map((Ft,lt)=>{const Rt=wt.find(ln=>ln.id===Ft.publication_id);return Rt?Object(e.h)(Le,{key:Ft.id,pub:Rt,post:Ft,isLast:lt===Nt.length-1,includePublication:!0}):null}),Object(e.h)(U.c,{className:x.seeMore,paddingX:24,paddingY:12,onClick:()=>{window.location.href=Object(c.getDiscoverSearchUrl)({query:z,params:{focusedPublicationId:we.id}})}},Object(e.h)(K.b.B4,{color:"pub-primary-text",weight:"semibold"},"See more results..."))))))},Le=({pub:we,post:De,includePublication:Ie=!1,hideBottomBorder:He=!1,isLast:Ve=!1,isFirst:z=!1})=>{var se;const Se=(se=De.reactions["\u2764"])!=null?se:0;return Object(e.h)(U.c,{paddingX:12,onClick:()=>{window.location.href=Object(c.getPostUrl)(we,De)},width:"100%"},Object(e.h)(U.b,{marginHeight:4,paddingTop:z?12:8,paddingBottom:Ve?12:8,borderBottom:He?void 0:"detail-themed"},Object(e.h)(U.c,{className:x.result,gap:16,padding:12,radius:8},De.cover_image&&Object(e.h)("img",{src:Object(c.cloudinary)(De.cover_image,120,{height:80,smartCrop:!0}),alt:De.cover_image_alt||"",className:x.photo}),Object(e.h)(U.b,{gap:4,className:x.metadata},Ie&&Object(e.h)(K.b.Meta,null,we.name),Object(e.h)(K.b.H4,{color:"pub-primary-text"},De.title),!!De.subtitle&&Object(e.h)(K.b.B4,{color:"pub-primary-text"},De.subtitle),Object(e.h)(U.c,{alignItems:"center",gap:4},Object(e.h)(K.b.Meta,{color:"pub-secondary-text",className:h()(x.paddingRight,"ufi-preamble-label","post-date")},Object(e.h)("time",{dateTime:l()(De.post_date).toISOString()},Object(B.j)({post:De,showDatetime:!1}))),Se>0&&Object(e.h)(e.Fragment,null,Object(e.h)(R.default,{stroke:"var(--color-light-secondary-themed)",fill:"transparent",height:16}),Object(e.h)(K.b.Meta,{color:"pub-secondary-text",className:x.paddingRight},Se)),De.comment_count>0&&Object(e.h)(e.Fragment,null,Object(e.h)(W.default,{stroke:"var(--color-light-secondary-themed)",fill:"transparent",height:16}),Object(e.h)(K.b.Meta,{color:"pub-secondary-text"},De.comment_count)))))))};var Ae=Object.defineProperty,Pe=Object.defineProperties,Ne=Object.getOwnPropertyDescriptors,ce=Object.getOwnPropertySymbols,q=Object.prototype.hasOwnProperty,te=Object.prototype.propertyIsEnumerable,ue=(we,De,Ie)=>De in we?Ae(we,De,{enumerable:!0,configurable:!0,writable:!0,value:Ie}):we[De]=Ie,We=(we,De)=>{for(var Ie in De||(De={}))q.call(De,Ie)&&ue(we,Ie,De[Ie]);if(ce)for(var Ie of ce(De))te.call(De,Ie)&&ue(we,Ie,De[Ie]);return we},ot=(we,De)=>Pe(we,Ne(De)),ze=(we,De)=>{var Ie={};for(var He in we)q.call(we,He)&&De.indexOf(He)<0&&(Ie[He]=we[He]);if(we!=null&&ce)for(var He of ce(we))De.indexOf(He)<0&&te.call(we,He)&&(Ie[He]=we[He]);return Ie},vt=(we,De,Ie)=>new Promise((He,Ve)=>{var z=Oe=>{try{Se(Ie.next(Oe))}catch(ge){Ve(ge)}},se=Oe=>{try{Se(Ie.throw(Oe))}catch(ge){Ve(ge)}},Se=Oe=>Oe.done?He(Oe.value):Promise.resolve(Oe.value).then(z,se);Se((Ie=Ie.apply(we,De)).next())});const Wt=t(65),zt=({className:we,baseRef:De,user:Ie,freeSignup:He,freeSignupEmail:Ve,pub:z,hide_subscribe_cta:se,showCustomerSupportModeModal:Se,hideCta:Oe,hideNotifications:ge,hideUserIndicator:je,hideSearch:it,isPublishContext:Tt,isMeetingsActive:sn,fixedTooltip:ht=!0})=>{const Nt=Object(a.k)(null),{getSettingFor:wt}=Object(P.c)(),yt=Object(E.d)(),[Qe,At]=Object(a.l)(!1),[jt,ke]=Object(a.l)(!1),tn=Object(H.e)(),Pn=(Ie==null?void 0:Ie.is_global_admin)&&!(Ie==null?void 0:Ie.is_admin),Ft=(Ie==null?void 0:Ie.is_global_admin)&&(Ie==null?void 0:Ie.is_admin)&&!(Ie==null?void 0:Ie.is_author),lt=Object(a.a)(()=>vt(void 0,null,function*(){try{yield r.a.del("/api/v1/customer_support_mode"),document.location.href="/"}catch(Mt){alert(Object(f.getNetworkErrorMessage)(Mt))}}),[]),Rt=()=>vt(void 0,null,function*(){At(!0);try{yield r.a.post("/api/v1/subscription/reactivate").send({}),ke(!0),tn.popToast(Mt=>Object(e.h)(H.c,ot(We({},Mt),{text:"Your subscription has been renewed!"})))}catch(Mt){console.error("Failed to set to renew:",Mt),alert(Object(f.getNetworkErrorMessage)(Mt))}finally{At(!1)}}),ln=Object(a.a)(()=>vt(void 0,null,function*(){var Mt;(Mt=Nt.current)==null||Mt.open()}),[Nt]);return Object(e.h)("div",{className:h()("navbar-buttons",we),ref:De},Object(e.h)(b.a.Consumer,null,Mt=>Object(e.h)(y.a.Consumer,null,$t=>Object(e.h)(e.Fragment,null,!it&&!Object(f.isMobileBrowser)()&&!Ie&&Object(e.h)(Ce,{pub:z,isSignedIn:!1}),!Oe&&Be({pub:z,user:Ie,freeSignup:He,freeSignupEmail:Ve,hide_subscribe_cta:se,viralGiftsConfig:z.viralGiftsConfig,isPublishContext:Tt,localeContext:$t,siteConfigContext:Mt,isMeetingsActive:sn,getSettingFor:wt,experimentApi:yt,renewing:Qe,renewed:jt,setToRenew:Rt}),!it&&!Object(f.isMobileBrowser)()&&Ie&&Object(e.h)(Ce,{pub:z,isSignedIn:!0}),!ge&&Ie&&!Object(f.isMobileBrowser)()&&Object(e.h)(A.a,{fill:"borderless",canShowAlerts:!z||Tt}),!je&&Object(e.h)(v.a,{pub:z,user:Ie,enableCustomerServiceMode:Pn?ln:null,disableCustomerServiceMode:Ft?lt:null,fixedTooltip:ht})))),Pn&&Object(e.h)(_.a,null,Object(e.h)(g.a,{className:"account-info-customer-support-mode-modal",ref:Nt,openByDefault:Se&&Pn},Object(e.h)(O.a,{redirect:Object(c.getQueryItem)("redirect")||"/publish",onCancel:Mt=>{var $t;return($t=Nt.current)==null?void 0:$t.close(Mt)}}))))},at=({pub:we,dashboardPubs:De})=>{const Ie=Object(C.a)();return Object(e.h)(M.b,{priority:"primary-theme",fill:"outline",size:Ie?"small":"medium",menuItems:De.map(({logo_url:He,name:Ve,subdomain:z})=>Object(e.h)(F.d,{className:S.menuItem,href:Object(c.getDashboardUrlForSubdomain)(z,{params:{utm_source:"substack",utm_context:"dashboard_pub_switcher"}}),icon:Object(e.h)("img",{className:S.menuIcon,width:20,src:Object(c.cloudinary)(He||"/img/substack-nomargin.png",20)}),priority:we.subdomain===z?"selected":"primary"},Ve)),href:Object(c.getDashboardUrl)(we,{addBase:!0}),localNavigation:!1,"data-testid":"menu-dashboard-button",additionalMenuProps:{useMobileBottomSheet:!0,mobileBottomSheetTitle:"Dashboard",mobileBottomSheetSubtitle:"Select a publication"}},"Dashboard")},Me=({dashboardPubs:we,pub:De,useNewDashLink:Ie})=>we.length>1?Object(e.h)(at,{pub:De,dashboardPubs:we}):Object(e.h)(Xe,{className:"outline",href:Ie?Object(u.getNewDashboardUrl)(De,{addBase:!0}):Object(c.getDashboardUrl)(De,{addBase:!0}),"data-testid":"menu-dashboard-button"},"Dashboard");function Be({user:we,pub:De,freeSignup:Ie,freeSignupEmail:He,hide_subscribe_cta:Ve,isPublishContext:z,isMeetingsActive:se,siteConfigContext:Se,getSettingFor:Oe,experimentApi:{exposeExperiment:ge,getExperimentVariant:je},renewing:it,renewed:Tt,setToRenew:sn}){var ht,Nt,wt,yt,Qe,At,jt,ke,tn,Pn;De.invite_only&&!((we==null?void 0:we.subscription_id)||(we==null?void 0:we.is_free_subscribed))&&(Ve=!0);const Ft=we==null?void 0:we.is_contributor,lt=(we==null?void 0:we.is_subscribed)||Ft,Rt=(we==null?void 0:we.is_free_subscribed)||Ie,ln=Wt.paymentsAreEnabled(De)&&lt&&["gift","comp"].includes(we.subscription_type)&&l()(we.subscription_expiry).subtract(30,"days").isBeforeNow(),Mt=Wt.paymentsAreEnabled(De)&&Wt.userIsFreeOnly(we)&&we.comp_expired_recently,$t=(we==null?void 0:we.is_free_subscribed)&&(we==null?void 0:we.is_paused),nn=((ht=we==null?void 0:we.dashboard_pubs)==null?void 0:ht.length)===1;if(Ft){const Bt=(we==null?void 0:we.dashboard_pubs)||[];return z&&Bt.length===1?[]:!De.has_posts&&!Object(f.isMobileBrowser)()?[Object(e.h)(Xe,{className:"primary fill new-post-btn",onClick:()=>{Object(m.i)(m.a.NAV_BAR_CTA_CLICKED,{type:"new-post"}),Object(f.redirect)(Object(c.getCreatePostUrl)(De,{type:"newsletter"}),{local_navigation:!1})}},"New post"),Object(e.h)(Me,{dashboardPubs:Bt,pub:De,useNewDashLink:nn})]:Object(e.h)(Me,{dashboardPubs:Bt,pub:De,useNewDashLink:nn})}else{if($t)return Object(e.h)(Xe,{"data-testid":"noncontributor-cta-button",onClick:()=>{Object(m.i)(m.a.NAV_BAR_CTA_CLICKED,{type:"unpause-subscription"}),Object(f.redirect)(Object(c.getCancelOrUncancelUrl)(De,{addBase:!0}),{local_navigation:!1})}},"Unpause My Subscription");if(ln||Mt)return Ve?null:Object(e.h)(Xe,{"data-testid":"noncontributor-cta-button",onClick:()=>{Object(m.i)(m.a.NAV_BAR_CTA_CLICKED,{type:"continue-support"}),Object(f.redirect)(Object(c.getSubscribeUrl)(De,{utm_source:"menu",simple:!0,next:document.location.href,referring_pub_ids:Object(c.getQueryItem)("referring_pub_ids"),addBase:!0,selectedPlanId:ln&&(we==null?void 0:we.is_founding)?De.plans.find(Bt=>Bt.metadata.founding).id:null}),{local_navigation:!1})}},Object(e.h)("span",{className:"mobile-only"},"Subscribe"),Object(e.h)("span",{className:"desktop-only"},"Continue your support"));if(Wt.paymentsAreEnabled(De)&&Rt&&!lt&&!["thebulwark"].includes(De.subdomain))return Ve?null:Object(e.h)(Xe,{"data-testid":"noncontributor-cta-button",onClick:()=>{Object(m.i)(m.a.NAV_BAR_CTA_CLICKED,{type:"upgrade-subscription"}),Object(f.redirect)(Object(c.getSubscribeUrl)(De,{utm_source:"menu",simple:!0,next:document.location.href,referring_pub_ids:Object(c.getQueryItem)("referring_pub_ids"),addBase:!0}),{local_navigation:!1})}},Object(d.getSubscribeText)(De,{isFreeSubscribed:!0,isMobile:Object(f.isMobileBrowser)()}));if(Wt.paymentsAreEnabled(De)?!lt:!(Rt||lt)){if(!Ve){const Bt=(yt=(wt=(Nt=Object(c.getQueryItem)("referring_pub_ids"))==null?void 0:Nt.split)==null?void 0:wt.call(Nt,","))==null?void 0:yt[0],Kt=(jt=(At=(Qe=Object(c.getQueryItem)("referring_pub_ids"))==null?void 0:Qe.split)==null?void 0:At.call(Qe,","))==null?void 0:jt.slice(1);return Object(e.h)(Xe,{"data-testid":"noncontributor-cta-button",onClick:()=>vt(this,null,function*(){const Sn=we&&!we.is_magic&&we.email||He;if(Object(m.i)(m.a.NAV_BAR_CTA_CLICKED,{type:"free-subscription"}),Sn){try{yield r.a.post("/api/v1/free").send({source:"menu",email:Sn,first_url:j.d,first_referrer:j.c,current_url:j.b,current_referrer:j.a,referring_pub_id:Bt,additional_referring_pub_ids:Kt})}catch(Qn){Object(m.i)(m.a.FREE_SIGNUP_FAILED,{reason:Qn.message})}window.location.href=Object(c.getSubscribeUrl)(De,{utm_source:"menu",simple:!0,next:document.location.href,skip_redirect_check:!0,just_signed_up:!0,addBase:!0})}else window.location.href=Object(c.getSubscribeUrl)(De,{utm_source:"menu",simple:!0,next:document.location.href,referring_pub_ids:Object(c.getQueryItem)("referring_pub_ids"),addBase:!0})})},Object(d.getSubscribeText)(De,{isFreeSubscribed:Rt,isMobile:Object(f.isMobileBrowser)()}))}return null}else{if(De.invite_only&&lt&&we.invites<De.subscriber_invites)return Object(e.h)(Xe,{"data-testid":"noncontributor-cta-button",className:"primary",onClick:()=>{Object(m.i)(m.a.NAV_BAR_CTA_CLICKED,{type:"invite"}),Object(f.redirect)(Object(c.getInviteUrl)(De),{local_navigation:!1})}},Object(e.h)("span",null,Object(d.pluralize)(De.subscriber_invites-we.invites,"invite")," left"));if(Wt.paymentsAreEnabled(De)&&se&&!Se.getConfigFor("hide_book_a_meeting_button"))return Object(e.h)(Xe,{"data-testid":"noncontributor-cta-button",className:"primary",onClick:()=>{Object(m.i)(m.a.NAV_BAR_CTA_CLICKED,{type:"book-meeting"}),Object(f.redirect)(Object(u.getMeetingsUrl)(De,{params:{source:"navbar-cta"},referrer:typeof window!="undefined"&&window.location.href}),{local_navigation:!1})}},Object(e.h)("span",{className:"mobile-only"},"Book meeting"),Object(e.h)("span",{className:"desktop-only"},"Book a meeting"));if(Wt.paymentsAreEnabled(De)&&we.is_subscribed&&we.subscription_unsubscribed_at&&!["gift","comp"].includes(we.subscription_type))return Object(e.h)(Xe,{"data-testid":"noncontributor-cta-button",className:"secondary subscribe-cta subscribe-btn outline",onClick:()=>{Object(m.i)(m.a.NAV_BAR_CTA_CLICKED,{type:"renew"}),sn()},disabled:it||Tt,style:{visibility:Tt?"hidden":"visible"}},Object(e.h)("span",{className:"mobile-only"},"Renew"),Object(e.h)("span",{className:"desktop-only"},"Renew subscription"));if(Wt.paymentsAreEnabled(De)&&!we.is_founding&&l()(we.subscription_first_payment_at).isBefore(l()().subtract(48,"hours"))&&((Pn=(tn=(ke=De==null?void 0:De.plans)==null?void 0:ke.find(Bt=>Bt.metadata.founding))==null?void 0:tn.metadata)==null?void 0:Pn.short_description)==="Founding Member"){if(ge("navbar_founding_cta_holdout"),je("navbar_founding_cta_holdout")==="treatment")return Object(e.h)(Xe,{"data-testid":"noncontributor-cta-button",className:"secondary subscribe-cta subscribe-btn outline",onClick:()=>{Object(m.i)(m.a.NAV_BAR_CTA_CLICKED,{type:"founding-upgrade"}),Object(f.redirect)(Object(c.getSubscribeUrl)(De,{utm_source:"menu",next:document.location.href,addBase:!0,selectedPlanId:De.plans.find(Kt=>Kt.metadata.founding).id}),{local_navigation:!1})}},Object(e.h)("span",{className:"mobile-only"},"Upgrade"),Object(e.h)("span",{className:"desktop-only"},"Upgrade to founding"))}else{if(De.payments_state==="disabled"&&!De.invite_only&&Oe("payment_pledges_enabled")&&Rt&&!(we==null?void 0:we.is_pledged))return Object(e.h)(Xe,{"data-testid":"noncontributor-cta-button",onClick:()=>{Object(m.i)(m.a.NAV_BAR_CTA_CLICKED,{type:"pledge-subscription"}),Object(f.redirect)(Object(c.getSubscribeUrl)(De,{utm_source:"menu",next:document.location.href,addBase:!0}),{local_navigation:!1})}},"Pledge your support");if(De.is_on_substack&&!(we==null?void 0:we.has_publication))return Object(e.h)(Xe,{"data-testid":"noncontributor-cta-button",onClick:()=>{Object(m.i)(m.a.NAV_BAR_CTA_CLICKED,{type:"start-publishing"}),Object(f.redirect)(Object(c.getStartPublishingUrl)({utm_source:"menu"}),{local_navigation:!1})}},"Start publishing")}}}return null}function Xe(we){var De=we,{className:Ie="primary subscribe-cta subscribe-btn"}=De,He=ze(De,["className"]);const Ve=Object(a.b)(T.a),z=!1;return Object(e.h)(p.b,ot(We({},He),{className:h()(Ie,{"rounded-btn":z,"force-desktop":Ve})}))}var Te=n.a=zt},function(k,n,t){"use strict";t.d(n,"a",function(){return Q});var e=t(0),a=t(5),o=t.n(a),l=t(17),d=t.n(l),c=t(531),u=t(4),f=t(15),m=t(272),p=t(74),g=t(35),O=t(7),s=t(9),r=t(8),i=t(37),h=t(70),v=t(913),j=t(10),y=t(932);const b=(le,de)=>le.subItems?new F(le):le.base_url?new P(le):le.name&&le.id&&le.url?new M(le,de):le.isPodcast?new A(le):new _(le,de);class E{constructor(de){this._obj=de}truncatedName(){return Object(j.truncateText)(this._obj.name,30)}isNewsletter(){throw new Error("not implemented")}isPodcast(){throw new Error("not implemented")}isSelected(de,be){throw new Error("not implemented")}isNative(){throw new Error("not implemented")}homepageUrl(){throw new Error("not implemented")}noFollow(){return!1}subItems(){return null}get item(){return this._obj}}class P extends E{isNewsletter(){return this._obj.type==="newsletter"}isPodcast(){return this._obj.type==="podcast"}isSelected(de){return this._obj.id===de.id}isNative(){return!0}logoUrl(){return this._obj.logo_url}homepageUrl(){return Object(f.getBaseUrl)(this._obj)}}class A extends E{constructor(de,be){super(de)}isPodcast(){return!0}isSelected(de,be){return this._obj.id===be}isNative(){return!0}homepageUrl(){return Object(f.getBaseUrl)(this._obj)}}class _ extends E{constructor(de,be){super(de);this._homepageUrl=Object(f.getSectionUrl)(be,{section:de})}isPodcast(){return this._obj.is_podcast}isSelected(de,be){return this._obj.id===be}isNative(){return!0}homepageUrl(){return this._homepageUrl}}class M extends E{constructor(de,be){super(de);this._maybeNoFollow=de.noFollow,this._pubTier=(be==null?void 0:be.tier)||0}isNewsletter(){return!1}isPodcast(){return!1}isSelected(de,be){return[this._obj.id,this._obj.url].includes(be)}isNative(){return!0}noFollow(){return this._maybeNoFollow&&this._pubTier<2}homepageUrl(){return this._obj.url}}class F extends E{isNewsletter(){return!1}isPodcast(){return!1}isSelected(de,be){return[this._obj.id,this._obj.url].includes(be)}isNative(){return!1}homepageUrl(){return null}subItems(){return this._obj.subItems.map(b)}}var C=({pub:le,selectedSectionId:de,sectionRawItems:be,isPublishContext:X})=>{const ie=be.map(Le=>b(Le,le)),Ce=Le=>{var Ae,Pe;return{label:Le.truncatedName(),href:Le.homepageUrl(),slug:Le.item.id,isNative:Le.isNative(),noFollow:Le.noFollow(),logoUrl:(Ae=Le.logoUrl)==null?void 0:Ae.call(Le),subItems:(Pe=Le.subItems())==null?void 0:Pe.map(Ce)}};return Object(e.h)(y.a,{items:ie.map(Ce),className:o()("sections-overflow",{"publish-menu":X}),height:48,selectedSlug:de,fudgeFactor:8,useHorizontalScrolling:X,pub:le})},T=Object.defineProperty,S=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,U=(le,de,be)=>de in le?T(le,de,{enumerable:!0,configurable:!0,writable:!0,value:be}):le[de]=be,V=(le,de)=>{for(var be in de||(de={}))D.call(de,be)&&U(le,be,de[be]);if(S)for(var be of S(de))w.call(de,be)&&U(le,be,de[be]);return le},K=(le,de,be)=>(U(le,typeof de!="symbol"?de+"":de,be),be),Y,W,R,B;const x=t(65),G=(le,de)=>{var be,X;return((be=le.sibling_rank)!=null?be:1/0)-((X=de.sibling_rank)!=null?X:1/0)||(le.name<de.name?-1:le.name>de.name?1:0)};class Q extends e.Component{constructor(){super(...arguments);K(this,"menuHeight",0),K(this,"state",{animated:!0,hiding:Boolean(typeof window!="undefined"&&(((W=(Y=window.location.hash)==null?void 0:Y.startsWith)==null?void 0:W.call(Y,"#footnote"))||((B=(R=window.location.hash)==null?void 0:R.startsWith)==null?void 0:B.call(R,"#tiktok"))))}),K(this,"onClick",de=>{var be,X;(((be=de.target)==null?void 0:be.classList.contains("footnote-number"))||((X=de.target)==null?void 0:X.classList.contains("footnote-anchor")))&&(this.setState({hiding:!0}),setTimeout(this.hide,0))}),K(this,"onResize",()=>{if(this.menuHeight=this.menuContent?this.menuContent.getBoundingClientRect().height:0,!this.buttonsContainer)return;const de=this.largeMenuPubTitle?this.largeMenuPubTitle.getBoundingClientRect().width:0,be=document.body.clientWidth,X=this.buttonsContainer.getBoundingClientRect().width,ie=be>630,Ce=ie?24*2:12*2,Le=ie&&.5*be-X-Ce>.5*de;this.setState({buttonsContainerWidth:Le?`${X}px`:"auto",centerTitle:Le})}),K(this,"onScroll",()=>{if(this.props.always_show){this.menuTop=0,this.menuContent.style.position="fixed",this.menuContent.style.top="";return}if(this.state.hiding)return;const de=this.scrollTop;this.scrollTop=document.documentElement.scrollTop||document.body.scrollTop;const be=Math.max(this.scrollTop,0);if(this.scrollTop<=0||Object(s.maxScroll)()<=0)this.menuTop=0,this.menuContent.style.position="fixed",this.menuContent.style.top="";else if(!(this.scrollTop>=Object(s.maxScroll)()))if(this.scrollTop<de){const X=Math.max(this.scrollTop-this.menuHeight,0);this.menuTop>be?(this.menuTop=be,this.menuContent.style.position="fixed",this.menuContent.style.top=""):(!this.menuTop||this.menuTop<X)&&(this.menuTop=X,this.menuContent.style.top=`${this.menuTop}px`,this.menuContent.style.position="")}else this.scrollTop>de&&(this.menuContent.style.position==="fixed"&&this.menuTop>=0?(this.menuTop=be,this.menuContent.style.top=`${this.menuTop}px`,this.menuContent.style.position=""):this.menuTop<be-this.menuHeight&&this.menuContent.style.position!=="fixed"&&(this.menuTop=-this.menuHeight,this.menuContent.style.top=`${this.menuTop}px`,this.menuContent.style.position="fixed"))}),K(this,"onHeadlineClick",de=>{this.publicationPicker?(de.preventDefault(),this.publicationPicker.open()):Object(O.i)(O.a.NAV_BAR_HOME_LINK_CLICKED)}),K(this,"hide",()=>{const de=Math.max(document.documentElement.scrollTop||document.body.scrollTop,0);this.menuTop=de-this.menuHeight,this.menuContent.style.top=`${this.menuTop}px`,this.menuContent.style.position="",this.setState({hiding:!1})})}componentDidMount(){typeof window!="undefined"&&(window.addEventListener("scroll",this.onScroll),window.addEventListener("click",this.onClick),window.addEventListener("resize",this.onResize),this.onResize(),this.onScroll())}componentWillUnmount(){typeof window!="undefined"&&(window.removeEventListener("scroll",this.onScroll),window.removeEventListener("click",this.onClick),window.removeEventListener("resize",this.onResize))}shouldShowSectionsNavBar(){return!this.props.isPostView&&!this.props.lowChrome&&!this.props.hideSections}isContributor(){return this.props.user&&this.props.user.is_contributor}isSubscribed(){return x.userIsPaidSubscriber(this.props.user)||this.isContributor()}isFreeSubscribed(){return this.props.user&&this.props.user.is_free_subscribed||this.props.freeSignup}render({className:de,user:be,freeSignup:X,freeSignupEmail:ie,pub:Ce,publicationPicker:Le,publicationPickerPath:Ae,lowChrome:Pe,hide_subscribe_cta:Ne,isPublishContext:ce,hideTitle:q,showCustomerSupportModeModal:te,signupForFreeVariant:ue,isMeetingsActive:We,hideNavbarSearch:ot},{animated:ze,buttonsContainerWidth:vt,centerTitle:Wt}){const zt=!Le&&(Ce==null?void 0:Ce.parent_publication)||Ce,at=typeof window=="undefined";return Object(e.h)("div",{"data-testid":"navbar",className:o()("main-menu",de,{animated:ze,"with-nav":this.shouldShowSectionsNavBar(),"low-chrome":Pe})},Object(e.h)("div",{className:"main-menu-content",ref:Me=>this.menuContent=Me},Object(e.h)("div",{className:"topbar"},Object(e.h)("div",{className:"topbar-content"},Le&&!Pe&&(Ce.parent_publication||Ce.child_publications.length>0)&&Object(e.h)(h.b,{ref:Me=>this.publicationPicker=Me,className:"publication-picker",noPlace:!0,noTail:!0},[Ce,Ce.parent_publication].concat(Ce.child_publications.concat(Ce.sibling_publications).sort((Me,Be)=>Me.name.toLowerCase().localeCompare(Be.name.toLowerCase()))).filter(Me=>Me).map(Me=>Object(e.h)("a",{href:Me.base_url+(Me.id===Ce.id?"/":Ae||"/")},Me.name))),!Pe&&Object(e.h)(e.Fragment,null,Object(e.h)("div",{className:o()("navbar-logo-container",zt.logo_url?"":"no-logo"),style:{width:vt}},zt.logo_url&&Object(e.h)("a",{href:Object(f.getBaseUrl)(zt),onClick:this.onHeadlineClick},Object(e.h)("img",{className:"navbar-logo",src:Object(f.cloudinary)(zt.logo_url,96)}))),!q&&Object(e.h)("h1",{className:o()("navbar-title",{"left-align":!Wt,loading:at})},Object(e.h)("a",{className:"navbar-title-link",href:Object(f.getBaseUrl)(zt),ref:Me=>this.largeMenuPubTitle=Me},zt.logo_url_wide?Object(e.h)("img",{className:`navbar-logo-wordmark ${zt?"":"substack-logo-wordmark"}`,src:Object(f.cloudinary)(zt?zt.logo_url_wide:"/img/substack_wordmark.png?v=2",null,{height:28*2,crop:"limit",leadingSegments:["e_trim:10:white","e_trim:10:transparent"]}),alt:zt?zt.name:"Substack"}):zt.name),!ce&&Ce.parent_publication&&Object(e.h)(he,{title:Ce.name})),Object(e.h)(v.a,{baseRef:Me=>this.buttonsContainer=Me,user:be,freeSignup:X,freeSignupEmail:ie,hide_subscribe_cta:Ne,isPublishContext:ce,pub:Ce,hideSearch:ce||!!ot,signupForFreeVariant:ue,showCustomerSupportModeModal:te,isMeetingsActive:We}))),this.shouldShowSectionsNavBar()&&Object(e.h)(Z,V({},this.props)))),Object(e.h)("div",{className:"topbar-spacer"}))}}K(Q,"contextType",m.a);const he=({title:le})=>{const de=Object(i.a)();return Object(e.h)(r.b,{size:de?14:24,weight:"light",as:"span"},Object(e.h)("span",null," | "),le)};function Z({isPublishContext:le,pub:de,user:be,isChatActive:X,isMeetingsActive:ie,hasMeetingsBooked:Ce,selectedSectionId:Le}){var Ae,Pe;const{getConfigFor:Ne}=Object(g.c)(),{getSettingFor:ce}=Object(p.c)();let q=[];const te=d()(de.created_at)>d()("2023-03-10T13:00:00-05:00"),ue=!(be==null?void 0:be.dashboard_pubs)||be.dashboard_pubs.length===1||Ne("new_dashboard"),We=ce("notes_feed_enabled")&&Ne("enable_publication_notes_page");if(le)te&&ue&&q.push({id:"/publish/dashboard",url:Object(f.getNewDashboardUrl)(de,{addBase:!0}),name:"Dashboard"}),q.push({id:"/publish",url:Object(u.getDashboardUrl)(de),name:"Posts"},{id:"/publish/podcasting",url:Object(u.getPodcastingUrl)(de,{addBase:!0}),name:"Podcast"},{id:"/publish/subscribers",url:Object(u.getSubscriberStatsUrl)(de,{addBase:!0}),name:"Subscribers"}),be&&be.is_admin&&(q.push({id:"/publish/stats",url:"/publish/stats",name:"Stats"}),q.push({id:"/publish/recommendations",url:"/publish/recommendations",name:"Recommendations"}),(ie||Ce)&&q.push({id:"/publish/meetings",url:"/publish/meetings",name:"Meetings"}),q.push({id:"/publish/settings",url:Object(f.getPublishSettingsUrl)(de,{addBase:!0}),name:"Settings"}));else{if((Ae=de.child_publications)==null?void 0:Ae.length)q.push({id:"/home",url:"/",name:"Home"},...de.child_publications.sort(G));else if(de.parent_publication||((Pe=de.sibling_publications)==null?void 0:Pe.length)){const ot=[de,...de.sibling_publications].sort(G).map(ze=>ze.id===de.id&&!x.isBulwarkPub(de)?{id:"/home",url:"/",name:de.name}:ze);q.push({id:"/parent",url:Object(f.getBaseUrl)(de.parent_publication),name:"Home"},...ot)}else q.push({id:"/home",url:"/",name:"Home"}),de.podcast_enabled&&de.show_pub_podcast_tab&&q.push({id:"/podcast",url:"/podcast",name:"Podcast",isPodcast:!0});for(const ot of Object(c.c)(de.navigationBarItems||[],{isFeedEnabled:We,isPodcastActive:de.podcast_enabled&&de.show_pub_podcast_tab,isChatActive:X,isChatEnabled:!!de.threads_v2_enabled,isMeetingsActive:ie,hasMultipleNewsletters:de.sections&&de.sections.length>0}).filter(ze=>!ze.is_hidden)){const ze=Object(c.b)(ot);ot.section?q.push(ot.section):q.push({id:Object(f.getNavigationBarItemUrl)(de.parent_publication||de,ot,{addBase:!1}),url:Object(f.getNavigationBarItemUrl)(de.parent_publication||de,ot,{addBase:!ot.standard_key}),name:Object(c.a)(ot),noFollow:!ot.standard_key&&ze==="link"})}}return x.isBulwarkPub(de)&&(q=q.reduce((ot,ze)=>{if(ze.type==="newsletter"){const vt=ot.find(Wt=>Wt.name==="Newsletters");return vt?vt.subItems=[...vt.subItems,ze]:ot=[...ot,{name:"Newsletters",subItems:[ze]}],ot}if(ze.type==="podcast"){const vt=ot.find(Wt=>Wt.name==="Podcasts");return vt?vt.subItems=[...vt.subItems,ze]:ot=[...ot,{name:"Podcasts",subItems:[ze]}],ot}return[...ot,ze]},[])),Object(e.h)(C,{pub:de,selectedSectionId:Le,sectionRawItems:q,isPublishContext:le})}},function(k,n,t){"use strict";t.d(n,"a",function(){return d});var e=t(3),a=function(){return(a=Object.assign||function(m){for(var p,g=1,O=arguments.length;g<O;g++)for(var s in p=arguments[g])Object.prototype.hasOwnProperty.call(p,s)&&(m[s]=p[s]);return m}).apply(this,arguments)},o,l,d=Object(e.createContext)(void 0),c="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-MML-AM_CHTML",u="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js",f=function(m){var p=m.config,g=m.version,g=g===void 0?3:g,O=m.src,O=O===void 0?g===2?c:u:O,s=m.onStartup,r=m.onLoad,i=m.onError,h=m.typesettingOptions,v=m.renderMode,v=v===void 0?"post":v,j=m.hideUntilTypeset,m=m.children,y=Object(e.useContext)(d);if((y==null?void 0:y.version)!==void 0&&(y==null?void 0:y.version)!==g)throw Error("Cannot nest MathJaxContexts with different versions. MathJaxContexts should not be nested at all but if they are, they cannot have different versions. Stick with one version of MathJax in your app and avoid using more than one MathJaxContext.");if(g===2&&l!==void 0||g===3&&o!==void 0)throw Error("Cannot use MathJax versions 2 and 3 simultaneously in the same app due to how MathJax is set up in the browser; either you have multiple MathJaxContexts with different versions or you have mounted and unmounted MathJaxContexts with different versions. Please stick with one version of MathJax in your app. File an issue in the project Github page if you need this feature.");var b=Object(e.useRef)(y),y=Object(e.useRef)((y==null?void 0:y.version)||null);if(y.current===null)y.current=g;else if(y.current!==g)throw Error("Cannot change version of MathJax in a MathJaxContext after it has mounted. Reload the page with a new version when this must happen.");var E=O||(g===2?c:u);function P(A,_){p&&(window.MathJax=p);var M=document.createElement("script");M.type="text/javascript",M.src=E,M.async=!1,M.addEventListener("load",function(){var F=window.MathJax;s&&s(F),A(F),r&&r()}),M.addEventListener("error",function(F){return _(F)}),document.getElementsByTagName("head")[0].appendChild(M)}return b.current===void 0&&(y={typesettingOptions:h,renderMode:v,hideUntilTypeset:j},g===2?o===void 0&&(typeof window!="undefined"?(o=new Promise(P)).catch(function(A){if(!i)throw Error("Failed to download MathJax version 2 from '".concat(E,"' due to: ").concat(A));i(A)}):(o=Promise.reject()).catch(function(A){})):l===void 0&&(typeof window!="undefined"?(l=new Promise(P)).catch(function(A){if(!i)throw Error("Failed to download MathJax version 3 from '".concat(E,"' due to: ").concat(A));i(A)}):(l=Promise.reject()).catch(function(A){})),b.current=a(a({},y),g===2?{version:2,promise:o}:{version:3,promise:l})),e.default.createElement(d.Provider,{value:b.current},m)};n.b=f},function(k,n,t){"use strict";t.d(n,"c",function(){return m}),t.d(n,"b",function(){return s}),t.d(n,"a",function(){return r});var e=t(12),a=t.n(e),o=t(431),l=t.n(o),d=t(10),c=t.n(d),u=(i,h,v)=>new Promise((j,y)=>{var b=A=>{try{P(v.next(A))}catch(_){y(_)}},E=A=>{try{P(v.throw(A))}catch(_){y(_)}},P=A=>A.done?j(A.value):Promise.resolve(A.value).then(b,E);P((v=v.apply(i,h)).next())});const f={};function m(i,h,v,j,y){return u(this,arguments,function*(b,E,P,{required:A=!1,group:_=!1,gift:M=!1},F){if(!P){F(null);return}P in f||(F({id:P,required:A,loading:!0}),f[P]=yield g(P));const H=f[P],C=H&&H.type==="FREE_TRIAL"&&E&&(yield O(P));C&&C.length&&A?F({id:H&&H.id||P,code:H&&H.code,name:H&&H.name,required:A,error:!0,message:"This coupon has already been redeemed by this user."}):Object(o.isCouponValid)(H,{is_group:_,is_gift:M,paywallFreeTrialEnabled:b.paywall_free_trial_enabled})&&(b.plans||[]).filter(T=>Object(o.isCouponValidForPlan)(H,T)).length>0?F(Object.assign({required:A},H)):F(A?{id:H&&H.id||P,code:H&&H.code,name:H&&H.name,required:A,error:!0,message:"The coupon is not valid or has expired."}:null)})}function p(i){return u(this,null,function*(){let h;try{if(h=(yield a.a.get("/api/v1/coupon").query({freeTrialCoupon:!0})).body,h&&h.length&&i){const j=yield O(h[0].id);if(j&&j.length)throw new d.AppError("User has already redeemed this free trial coupon")}}catch(v){return console.error("Failed to fetch coupons:",v),null}return h.length>0?h[0]:null})}function g(i){return u(this,null,function*(){try{return(yield a.a.get(`/api/v1/coupon/${i}`)).body}catch(h){return console.error("Failed to fetch coupon:",h),null}})}function O(i){return u(this,null,function*(){try{return(yield a.a.get(`/api/v1/coupon_redemption/${i}`).query()).body}catch(h){return console.error("Failed to fetch coupon redemptions:",h),null}})}function s(i){return u(this,null,function*(){try{const v=(yield a.a.get("/api/v1/coupon").query({freeTrialCoupon:!0,includeInvalid:!0})).body;if(!v||v.length===0){const j={name:"Want to keep reading?",description:"Subscribe now to get an exclusive 7-day free trial.",percent_or_trial:"on",trial_period_days:"7",percent_off:"",duration:"",duration_in_months:"",show_redeem_by:!1,redeem_by:"",show_code:!1,is_default:!1,is_group_default:!1,edu_only:!1,yearly_only:!1,group_only:!1,allowed_suffixes_checked:!1,type:"FREE_TRIAL"};yield a.a.post("/api/v1/coupon").send(j)}else v[0].valid===!1?yield a.a.put(`/api/v1/coupon/${v[0].id}`).send(Object.assign({},v[0],{is_default:!1,is_group_default:!1,valid:!0})):console.warn(`Coupon id ${v[0].id} already enabled but attempted to be enabled`);return 0}catch(h){return console.error("Failed to create free trial coupon:",h),1}})}function r(){return u(this,null,function*(){try{const h=(yield a.a.get("/api/v1/coupon").query({freeTrialCoupon:!0})).body;!h||h.length===0?console.error("No free trial coupon exists to disable"):yield a.a.put(`/api/v1/coupon/${h[0].id}`).send(Object.assign({},h[0],{is_default:!1,is_group_default:!1,valid:!1}))}catch(i){return console.error("Failed to disable free trial coupon:",i),null}})}},,,,,,function(k,n,t){var e=t(684);function a(o,l){if(o==null)return{};var d=e(o,l),c,u;if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(o);for(u=0;u<f.length;u++)c=f[u],!(l.indexOf(c)>=0)&&(!Object.prototype.propertyIsEnumerable.call(o,c)||(d[c]=o[c]))}return d}k.exports=a,k.exports.__esModule=!0,k.exports.default=k.exports},function(k,n,t){var e=t(995),a=t(996),o=t(767),l=t(997);function d(c){return e(c)||a(c)||o(c)||l()}k.exports=d,k.exports.__esModule=!0,k.exports.default=k.exports},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("Haze",[["path",{d:"m5.2 6.2 1.4 1.4",key:"17imol"}],["path",{d:"M2 13h2",key:"13gyu8"}],["path",{d:"M20 13h2",key:"16rner"}],["path",{d:"m17.4 7.6 1.4-1.4",key:"t4xlah"}],["path",{d:"M22 17H2",key:"1gtaj3"}],["path",{d:"M22 21H2",key:"1gy6en"}],["path",{d:"M16 13a4 4 0 0 0-8 0",key:"1dyczq"}],["path",{d:"M12 5V2.5",key:"1vytko"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("AlertOctagon",[["polygon",{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2",key:"h1p8hx"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("VideoOff",[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.34l1 1L22 8v8",key:"ubwiq0"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2l10 10Z",key:"1l10zd"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return e});function e(a,o){for(const[l,d]of Object.entries(o))d!=null&&(a[l]=d);return a}},function(k,n,t){"use strict";t.d(n,"a",function(){return r});var e=t(0),a=t(1),o=t(5),l=t.n(o),d=t(519),c=t(830),u=t(831),f=t(15),m=t(23),p=t(73),g={subMenuTrigger:"frontend-components-overflow_menu-module__subMenuTrigger--1ApSs",subMenuItem:"frontend-components-overflow_menu-module__subMenuItem--1ZxGn",disabled:"frontend-components-overflow_menu-module__disabled--2ktZT",logo:"frontend-components-overflow_menu-module__logo--1Yrp9",chevron:"frontend-components-overflow_menu-module__chevron--3dNmA"};const O=10,s=250;function r({className:i,items:h,menuItemClassName:v,selectedMenuItemClassName:j,selectedSlug:y,pub:b}){const E=Object(a.k)(null),[P,A]=Object(a.l)(!1),[_,M]=Object(a.l)(!1);function F(T){const{scrollLeft:S,scrollWidth:D,clientWidth:w}=T;A(S>O),M(D-(w+S)>O)}const H=T=>F(T.target),C=T=>()=>{const{current:S}=E;S&&S.scrollBy({left:T*s,behavior:"smooth"})};return Object(a.d)(()=>{F(E.current)},[]),Object(e.h)("div",{className:l()("overflow-list-container",i)},Object(e.h)("div",{className:l()("section-bar",{scroll:!0,"overflow-left":P,"overflow-right":_})},Object(e.h)("div",{className:"overflow-items",ref:E,onScroll:H},h.map(({label:T,href:S,slug:D,isNative:w,onClick:U,noFollow:V,subItems:K})=>K?Object(e.h)(m.c,{trigger:Object(e.h)("div",{className:l()("menu-item",{selected:D===y},v,j&&{[j]:D===y})},Object(e.h)(p.a,{className:g.subMenuTrigger,onClick:U,native:w,rel:V?"nofollow":null},Object(e.h)("span",{className:"overflow-item-text"},T),Object(e.h)(d.a,{className:g.chevron,size:16}))),layerOptions:{placement:"bottom-start",triggerOffset:6},hideOnScroll:!0,useMobileBottomSheet:!0,mobileBottomSheetTitle:T},K.map(({label:Y,href:W,slug:R,isNative:B,onClick:x,noFollow:G,logoUrl:Q})=>{const he=parseInt(R)===(b==null?void 0:b.id);return Object(e.h)(m.d,{icon:Object(e.h)("img",{className:g.logo,width:20,src:Object(f.cloudinary)(Q||"/img/substack-nomargin.png",40)}),href:W,onClick:x,native:B,rel:G?"nofollow":void 0,priority:"primary",disabled:he,className:l()(g.subMenuItem,{[g.disabled]:he})},Y)})):Object(e.h)("div",{className:l()("menu-item",{selected:D===y},v,j&&{[j]:D===y})},Object(e.h)(p.a,{href:S,onClick:U,native:w,rel:V?"nofollow":null},Object(e.h)("span",{className:"overflow-item-text"},T))))),Object(e.h)("div",{className:"left-button"},Object(e.h)("div",{role:"button",className:"scroll-button-hitbox",onClick:C(-1)},Object(e.h)(c.a,{strokeWidth:1.5}))),Object(e.h)("div",{className:"right-button"},Object(e.h)("div",{role:"button",className:"scroll-button-hitbox",onClick:C(1)},Object(e.h)(u.a,{strokeWidth:1.5})))))}},,,function(k,n,t){"use strict";t.d(n,"b",function(){return d}),t.d(n,"a",function(){return u});var e=t(0),a=t(4),o=t(14),l={childPublication:"frontend-main-pub_or_section_list-module__childPublication--3lm0m",details:"frontend-main-pub_or_section_list-module__details--1nIE9",subscribe:"frontend-main-pub_or_section_list-module__subscribe--1TjSF",logo:"frontend-main-pub_or_section_list-module__logo--2SVuW",info:"frontend-main-pub_or_section_list-module__info--wamy7",title:"frontend-main-pub_or_section_list-module__title--1T6la",link:"frontend-main-pub_or_section_list-module__link--7pz1q",description:"frontend-main-pub_or_section_list-module__description--2DsVG"};const d=(f,m)=>({logoUrl:f.podcast_art_url||f.logo_url||Object(a.getDefaultPodcastArtUrl)(),mainClickUrl:Object(a.getPodcastLandingUrl)({pub:f,section:null,addBase:!0}),buttonClickUrl:m,name:f.podcast_title||f.name,description:f.podcast_description||f.hero_text}),c=({logoUrl:f,mainClickUrl:m,buttonClickUrl:p,name:g,description:O,showButton:s,buttonText:r,openInNewTab:i=!1})=>Object(e.h)("div",{className:l.childPublication},f&&Object(e.h)("img",{className:l.logo,src:Object(a.cloudinary)(f,144),alt:`${g} logo`}),Object(e.h)("div",{className:l.details},Object(e.h)("div",{className:l.info},Object(e.h)("div",{className:l.title},Object(e.h)("a",{className:l.link,href:m},g)),Object(e.h)("div",{className:l.description},O)),s&&Object(e.h)(o.a,{priority:"primary",className:l.subscribe,href:p,newTab:i},r))),u=({showButton:f,items:m,openInNewTab:p=!1,buttonText:g})=>Object(e.h)("div",{"data-testid":"child-pub-container"},m.map(O=>Object(e.h)(c,{logoUrl:O.logoUrl,mainClickUrl:O.mainClickUrl,buttonClickUrl:O.buttonClickUrl,name:O.name,description:O.description,buttonText:g,openInNewTab:p,showButton:f})))},,,,function(k,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=l;var e=a(t(392));function a(d){return d&&d.__esModule?d:{default:d}}function o(d){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?o=function(u){return typeof u}:o=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},o(d)}function l(d,c){(0,e.default)(d);var u,f;o(c)==="object"?(u=c.min||0,f=c.max):(u=arguments[1],f=arguments[2]);var m=encodeURI(d).split(/%..|./).length-1;return m>=u&&(typeof f=="undefined"||m<=f)}k.exports=n.default,k.exports.default=n.default},function(k,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=d;var e=o(t(392)),a=o(t(735));function o(c){return c&&c.__esModule?c:{default:c}}var l={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1};function d(c,u){(0,e.default)(c),u=(0,a.default)(u,l),u.allow_trailing_dot&&c[c.length-1]==="."&&(c=c.substring(0,c.length-1)),u.allow_wildcard===!0&&c.indexOf("*.")===0&&(c=c.substring(2));var f=c.split("."),m=f[f.length-1];return u.require_tld&&(f.length<2||!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(m)||/\s/.test(m))||!u.allow_numeric_tld&&/^\d+$/.test(m)?!1:f.every(function(p){return!(p.length>63||!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(p)||/[\uff01-\uff5e]/.test(p)||/^-|-$/.test(p)||!u.allow_underscores&&/_/.test(p))})}k.exports=n.default,k.exports.default=n.default},function(k,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=f;var e=a(t(392));function a(m){return m&&m.__esModule?m:{default:m}}var o="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",l="(".concat(o,"[.]){3}").concat(o),d=new RegExp("^".concat(l,"$")),c="(?:[0-9a-fA-F]{1,4})",u=new RegExp("^("+"(?:".concat(c,":){7}(?:").concat(c,"|:)|")+"(?:".concat(c,":){6}(?:").concat(l,"|:").concat(c,"|:)|")+"(?:".concat(c,":){5}(?::").concat(l,"|(:").concat(c,"){1,2}|:)|")+"(?:".concat(c,":){4}(?:(:").concat(c,"){0,1}:").concat(l,"|(:").concat(c,"){1,3}|:)|")+"(?:".concat(c,":){3}(?:(:").concat(c,"){0,2}:").concat(l,"|(:").concat(c,"){1,4}|:)|")+"(?:".concat(c,":){2}(?:(:").concat(c,"){0,3}:").concat(l,"|(:").concat(c,"){1,5}|:)|")+"(?:".concat(c,":){1}(?:(:").concat(c,"){0,4}:").concat(l,"|(:").concat(c,"){1,6}|:)|")+"(?::((?::".concat(c,"){0,5}:").concat(l,"|(?::").concat(c,"){1,7}|:))")+")(%[0-9a-zA-Z-.:]{1,})?$");function f(m){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if((0,e.default)(m),p=String(p),!p)return f(m,4)||f(m,6);if(p==="4"){if(!d.test(m))return!1;var g=m.split(".").sort(function(O,s){return O-s});return g[3]<=255}return p==="6"?!!u.test(m):!1}k.exports=n.default,k.exports.default=n.default},function(k,n){function t(e,a){for(var o,l=-1,d=e.length;++l<d;){var c=a(e[l]);c!==void 0&&(o=o===void 0?c:o+c)}return o}k.exports=t},function(k,n,t){"use strict";n.__esModule=!0;var e=t(3),a=c(e),o=t(736),l=d(o);function d(i){if(i&&i.__esModule)return i;var h={};if(i!=null)for(var v in i)Object.prototype.hasOwnProperty.call(i,v)&&(h[v]=i[v]);return h.default=i,h}function c(i){return i&&i.__esModule?i:{default:i}}function u(i,h){if(!(i instanceof h))throw new TypeError("Cannot call a class as a function")}function f(i,h){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:i}function m(i,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);i.prototype=Object.create(h&&h.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(i,h):i.__proto__=h)}var p=l.options,g=p.Options;function O(i,h){for(var v=l.tokenize(i),j=[],y=0,b=0;b<v.length;b++){var E=v[b];if(E.type==="nl"&&h.nl2br){j.push(a.default.createElement("br",{key:"linkified-"+ ++y}));continue}else if(!E.isLink||!h.check(E)){j.push(E.toString());continue}var P=h.resolve(E),A=P.formatted,_=P.formattedHref,M=P.tagName,F=P.className,H=P.target,C=P.attributes,T={key:"linkified-"+ ++y,href:_};if(F&&(T.className=F),H&&(T.target=H),C)for(var S in C)T[S]=C[S];j.push(a.default.createElement(M,T,A))}return j}function s(i,h){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(a.default.Children.count(i.props.children)===0)return i;var j=[];a.default.Children.forEach(i.props.children,function(E){typeof E=="string"?(v=v+1,j.push.apply(j,O(E,h))):a.default.isValidElement(E)?typeof E.type=="string"&&p.contains(h.ignoreTags,E.type.toUpperCase())?j.push(E):j.push(s(E,h,++v)):j.push(E)});var y={key:"linkified-element-"+v};for(var b in i.props)y[b]=i.props[b];return a.default.cloneElement(i,y,j)}var r=function(i){m(h,i);function h(){return u(this,h),f(this,i.apply(this,arguments))}return h.prototype.render=function(){var j={key:"linkified-element-0"};for(var y in this.props)y!=="options"&&y!=="tagName"&&(j[y]=this.props[y]);var b=new g(this.props.options),E=this.props.tagName||"span",P=a.default.createElement(E,j);return s(P,b,0)},h}(a.default.Component);n.default=r},function(k,n,t){"use strict";n.__esModule=!0;var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},a={defaultProtocol:"http",events:null,format:d,formatHref:d,nl2br:!1,tagName:"a",target:c,validate:!0,ignoreTags:[],attributes:null,className:"linkified"};n.defaults=a,n.Options=o,n.contains=l;function o(u){u=u||{},this.defaultProtocol=u.hasOwnProperty("defaultProtocol")?u.defaultProtocol:a.defaultProtocol,this.events=u.hasOwnProperty("events")?u.events:a.events,this.format=u.hasOwnProperty("format")?u.format:a.format,this.formatHref=u.hasOwnProperty("formatHref")?u.formatHref:a.formatHref,this.nl2br=u.hasOwnProperty("nl2br")?u.nl2br:a.nl2br,this.tagName=u.hasOwnProperty("tagName")?u.tagName:a.tagName,this.target=u.hasOwnProperty("target")?u.target:a.target,this.validate=u.hasOwnProperty("validate")?u.validate:a.validate,this.ignoreTags=[],this.attributes=u.attributes||u.linkAttributes||a.attributes,this.className=u.hasOwnProperty("className")?u.className:u.linkClass||a.className;for(var f=u.hasOwnProperty("ignoreTags")?u.ignoreTags:a.ignoreTags,m=0;m<f.length;m++)this.ignoreTags.push(f[m].toUpperCase())}o.prototype={resolve:function(f){var m=f.toHref(this.defaultProtocol);return{formatted:this.get("format",f.toString(),f),formattedHref:this.get("formatHref",m,f),tagName:this.get("tagName",m,f),className:this.get("className",m,f),target:this.get("target",m,f),events:this.getObject("events",m,f),attributes:this.getObject("attributes",m,f)}},check:function(f){return this.get("validate",f.toString(),f)},get:function(f,m,p){var g=void 0,O=this[f];if(!O)return O;switch(typeof O=="undefined"?"undefined":e(O)){case"function":return O(m,p.type);case"object":return g=O.hasOwnProperty(p.type)?O[p.type]:a[f],typeof g=="function"?g(m,p.type):g}return O},getObject:function(f,m,p){var g=this[f];return typeof g=="function"?g(m,p.type):g}};function l(u,f){for(var m=0;m<u.length;m++)if(u[m]===f)return!0;return!1}function d(u){return u}function c(u,f){return f==="url"?"_blank":null}},function(k,n,t){"use strict";n.__esModule=!0,n.start=n.run=n.TOKENS=n.State=void 0;var e=t(737),a=t(484),o=l(a);function l(U){if(U&&U.__esModule)return U;var V={};if(U!=null)for(var K in U)Object.prototype.hasOwnProperty.call(U,K)&&(V[K]=U[K]);return V.default=U,V}var d="aaa|aarp|abarth|abb|abbott|abbvie|abc|able|abogado|abudhabi|ac|academy|accenture|accountant|accountants|aco|active|actor|ad|adac|ads|adult|ae|aeg|aero|aetna|af|afamilycompany|afl|africa|ag|agakhan|agency|ai|aig|aigo|airbus|airforce|airtel|akdn|al|alfaromeo|alibaba|alipay|allfinanz|allstate|ally|alsace|alstom|am|americanexpress|americanfamily|amex|amfam|amica|amsterdam|analytics|android|anquan|anz|ao|aol|apartments|app|apple|aq|aquarelle|ar|arab|aramco|archi|army|arpa|art|arte|as|asda|asia|associates|at|athleta|attorney|au|auction|audi|audible|audio|auspost|author|auto|autos|avianca|aw|aws|ax|axa|az|azure|ba|baby|baidu|banamex|bananarepublic|band|bank|bar|barcelona|barclaycard|barclays|barefoot|bargains|baseball|basketball|bauhaus|bayern|bb|bbc|bbt|bbva|bcg|bcn|bd|be|beats|beauty|beer|bentley|berlin|best|bestbuy|bet|bf|bg|bh|bharti|bi|bible|bid|bike|bing|bingo|bio|biz|bj|black|blackfriday|blanco|blockbuster|blog|bloomberg|blue|bm|bms|bmw|bn|bnl|bnpparibas|bo|boats|boehringer|bofa|bom|bond|boo|book|booking|boots|bosch|bostik|boston|bot|boutique|box|br|bradesco|bridgestone|broadway|broker|brother|brussels|bs|bt|budapest|bugatti|build|builders|business|buy|buzz|bv|bw|by|bz|bzh|ca|cab|cafe|cal|call|calvinklein|cam|camera|camp|cancerresearch|canon|capetown|capital|capitalone|car|caravan|cards|care|career|careers|cars|cartier|casa|case|caseih|cash|casino|cat|catering|catholic|cba|cbn|cbre|cbs|cc|cd|ceb|center|ceo|cern|cf|cfa|cfd|cg|ch|chanel|channel|chase|chat|cheap|chintai|chloe|christmas|chrome|chrysler|church|ci|cipriani|circle|cisco|citadel|citi|citic|city|cityeats|ck|cl|claims|cleaning|click|clinic|clinique|clothing|cloud|club|clubmed|cm|cn|co|coach|codes|coffee|college|cologne|com|comcast|commbank|community|company|compare|computer|comsec|condos|construction|consulting|contact|contractors|cooking|cookingchannel|cool|coop|corsica|country|coupon|coupons|courses|cr|credit|creditcard|creditunion|cricket|crown|crs|cruise|cruises|csc|cu|cuisinella|cv|cw|cx|cy|cymru|cyou|cz|dabur|dad|dance|data|date|dating|datsun|day|dclk|dds|de|deal|dealer|deals|degree|delivery|dell|deloitte|delta|democrat|dental|dentist|desi|design|dev|dhl|diamonds|diet|digital|direct|directory|discount|discover|dish|diy|dj|dk|dm|dnp|do|docs|doctor|dodge|dog|doha|domains|dot|download|drive|dtv|dubai|duck|dunlop|duns|dupont|durban|dvag|dvr|dz|earth|eat|ec|eco|edeka|edu|education|ee|eg|email|emerck|energy|engineer|engineering|enterprises|epost|epson|equipment|er|ericsson|erni|es|esq|estate|esurance|et|etisalat|eu|eurovision|eus|events|everbank|exchange|expert|exposed|express|extraspace|fage|fail|fairwinds|faith|family|fan|fans|farm|farmers|fashion|fast|fedex|feedback|ferrari|ferrero|fi|fiat|fidelity|fido|film|final|finance|financial|fire|firestone|firmdale|fish|fishing|fit|fitness|fj|fk|flickr|flights|flir|florist|flowers|fly|fm|fo|foo|food|foodnetwork|football|ford|forex|forsale|forum|foundation|fox|fr|free|fresenius|frl|frogans|frontdoor|frontier|ftr|fujitsu|fujixerox|fun|fund|furniture|futbol|fyi|ga|gal|gallery|gallo|gallup|game|games|gap|garden|gb|gbiz|gd|gdn|ge|gea|gent|genting|george|gf|gg|ggee|gh|gi|gift|gifts|gives|giving|gl|glade|glass|gle|global|globo|gm|gmail|gmbh|gmo|gmx|gn|godaddy|gold|goldpoint|golf|goo|goodhands|goodyear|goog|google|gop|got|gov|gp|gq|gr|grainger|graphics|gratis|green|gripe|grocery|group|gs|gt|gu|guardian|gucci|guge|guide|guitars|guru|gw|gy|hair|hamburg|hangout|haus|hbo|hdfc|hdfcbank|health|healthcare|help|helsinki|here|hermes|hgtv|hiphop|hisamitsu|hitachi|hiv|hk|hkt|hm|hn|hockey|holdings|holiday|homedepot|homegoods|homes|homesense|honda|honeywell|horse|hospital|host|hosting|hot|hoteles|hotels|hotmail|house|how|hr|hsbc|ht|htc|hu|hughes|hyatt|hyundai|ibm|icbc|ice|icu|id|ie|ieee|ifm|ikano|il|im|imamat|imdb|immo|immobilien|in|industries|infiniti|info|ing|ink|institute|insurance|insure|int|intel|international|intuit|investments|io|ipiranga|iq|ir|irish|is|iselect|ismaili|ist|istanbul|it|itau|itv|iveco|iwc|jaguar|java|jcb|jcp|je|jeep|jetzt|jewelry|jio|jlc|jll|jm|jmp|jnj|jo|jobs|joburg|jot|joy|jp|jpmorgan|jprs|juegos|juniper|kaufen|kddi|ke|kerryhotels|kerrylogistics|kerryproperties|kfh|kg|kh|ki|kia|kim|kinder|kindle|kitchen|kiwi|km|kn|koeln|komatsu|kosher|kp|kpmg|kpn|kr|krd|kred|kuokgroup|kw|ky|kyoto|kz|la|lacaixa|ladbrokes|lamborghini|lamer|lancaster|lancia|lancome|land|landrover|lanxess|lasalle|lat|latino|latrobe|law|lawyer|lb|lc|lds|lease|leclerc|lefrak|legal|lego|lexus|lgbt|li|liaison|lidl|life|lifeinsurance|lifestyle|lighting|like|lilly|limited|limo|lincoln|linde|link|lipsy|live|living|lixil|lk|loan|loans|locker|locus|loft|lol|london|lotte|lotto|love|lpl|lplfinancial|lr|ls|lt|ltd|ltda|lu|lundbeck|lupin|luxe|luxury|lv|ly|ma|macys|madrid|maif|maison|makeup|man|management|mango|map|market|marketing|markets|marriott|marshalls|maserati|mattel|mba|mc|mckinsey|md|me|med|media|meet|melbourne|meme|memorial|men|menu|meo|merckmsd|metlife|mg|mh|miami|microsoft|mil|mini|mint|mit|mitsubishi|mk|ml|mlb|mls|mm|mma|mn|mo|mobi|mobile|mobily|moda|moe|moi|mom|monash|money|monster|mopar|mormon|mortgage|moscow|moto|motorcycles|mov|movie|movistar|mp|mq|mr|ms|msd|mt|mtn|mtr|mu|museum|mutual|mv|mw|mx|my|mz|na|nab|nadex|nagoya|name|nationwide|natura|navy|nba|nc|ne|nec|net|netbank|netflix|network|neustar|new|newholland|news|next|nextdirect|nexus|nf|nfl|ng|ngo|nhk|ni|nico|nike|nikon|ninja|nissan|nissay|nl|no|nokia|northwesternmutual|norton|now|nowruz|nowtv|np|nr|nra|nrw|ntt|nu|nyc|nz|obi|observer|off|office|okinawa|olayan|olayangroup|oldnavy|ollo|om|omega|one|ong|onl|online|onyourside|ooo|open|oracle|orange|org|organic|origins|osaka|otsuka|ott|ovh|pa|page|panasonic|panerai|paris|pars|partners|parts|party|passagens|pay|pccw|pe|pet|pf|pfizer|pg|ph|pharmacy|phd|philips|phone|photo|photography|photos|physio|piaget|pics|pictet|pictures|pid|pin|ping|pink|pioneer|pizza|pk|pl|place|play|playstation|plumbing|plus|pm|pn|pnc|pohl|poker|politie|porn|post|pr|pramerica|praxi|press|prime|pro|prod|productions|prof|progressive|promo|properties|property|protection|pru|prudential|ps|pt|pub|pw|pwc|py|qa|qpon|quebec|quest|qvc|racing|radio|raid|re|read|realestate|realtor|realty|recipes|red|redstone|redumbrella|rehab|reise|reisen|reit|reliance|ren|rent|rentals|repair|report|republican|rest|restaurant|review|reviews|rexroth|rich|richardli|ricoh|rightathome|ril|rio|rip|rmit|ro|rocher|rocks|rodeo|rogers|room|rs|rsvp|ru|rugby|ruhr|run|rw|rwe|ryukyu|sa|saarland|safe|safety|sakura|sale|salon|samsclub|samsung|sandvik|sandvikcoromant|sanofi|sap|sapo|sarl|sas|save|saxo|sb|sbi|sbs|sc|sca|scb|schaeffler|schmidt|scholarships|school|schule|schwarz|science|scjohnson|scor|scot|sd|se|search|seat|secure|security|seek|select|sener|services|ses|seven|sew|sex|sexy|sfr|sg|sh|shangrila|sharp|shaw|shell|shia|shiksha|shoes|shop|shopping|shouji|show|showtime|shriram|si|silk|sina|singles|site|sj|sk|ski|skin|sky|skype|sl|sling|sm|smart|smile|sn|sncf|so|soccer|social|softbank|software|sohu|solar|solutions|song|sony|soy|space|spiegel|spot|spreadbetting|sr|srl|srt|st|stada|staples|star|starhub|statebank|statefarm|statoil|stc|stcgroup|stockholm|storage|store|stream|studio|study|style|su|sucks|supplies|supply|support|surf|surgery|suzuki|sv|swatch|swiftcover|swiss|sx|sy|sydney|symantec|systems|sz|tab|taipei|talk|taobao|target|tatamotors|tatar|tattoo|tax|taxi|tc|tci|td|tdk|team|tech|technology|tel|telecity|telefonica|temasek|tennis|teva|tf|tg|th|thd|theater|theatre|tiaa|tickets|tienda|tiffany|tips|tires|tirol|tj|tjmaxx|tjx|tk|tkmaxx|tl|tm|tmall|tn|to|today|tokyo|tools|top|toray|toshiba|total|tours|town|toyota|toys|tr|trade|trading|training|travel|travelchannel|travelers|travelersinsurance|trust|trv|tt|tube|tui|tunes|tushu|tv|tvs|tw|tz|ua|ubank|ubs|uconnect|ug|uk|unicom|university|uno|uol|ups|us|uy|uz|va|vacations|vana|vanguard|vc|ve|vegas|ventures|verisign|versicherung|vet|vg|vi|viajes|video|vig|viking|villas|vin|vip|virgin|visa|vision|vista|vistaprint|viva|vivo|vlaanderen|vn|vodka|volkswagen|volvo|vote|voting|voto|voyage|vu|vuelos|wales|walmart|walter|wang|wanggou|warman|watch|watches|weather|weatherchannel|webcam|weber|website|wed|wedding|weibo|weir|wf|whoswho|wien|wiki|williamhill|win|windows|wine|winners|wme|wolterskluwer|woodside|work|works|world|wow|ws|wtc|wtf|xbox|xerox|xfinity|xihuan|xin|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--2scrj9c|xn--30rr7y|xn--3bst00m|xn--3ds443g|xn--3e0b707e|xn--3hcrj9c|xn--3oq18vl8pn36a|xn--3pxu8k|xn--42c2d9a|xn--45br5cyl|xn--45brj9c|xn--45q11c|xn--4gbrim|xn--54b7fta0cc|xn--55qw42g|xn--55qx5d|xn--5su34j936bgsg|xn--5tzm5g|xn--6frz82g|xn--6qq986b3xl|xn--80adxhks|xn--80ao21a|xn--80aqecdr1a|xn--80asehdb|xn--80aswg|xn--8y0a063a|xn--90a3ac|xn--90ae|xn--90ais|xn--9dbq2a|xn--9et52u|xn--9krt00a|xn--b4w605ferd|xn--bck1b9a5dre4c|xn--c1avg|xn--c2br7g|xn--cck2b3b|xn--cg4bki|xn--clchc0ea0b2g2a9gcd|xn--czr694b|xn--czrs0t|xn--czru2d|xn--d1acj3b|xn--d1alf|xn--e1a4c|xn--eckvdtc9d|xn--efvy88h|xn--estv75g|xn--fct429k|xn--fhbei|xn--fiq228c5hs|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--fjq720a|xn--flw351e|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--fzys8d69uvgm|xn--g2xx48c|xn--gckr3f0f|xn--gecrj9c|xn--gk3at1e|xn--h2breg3eve|xn--h2brj9c|xn--h2brj9c8c|xn--hxt814e|xn--i1b6b1a6a2e|xn--imr513n|xn--io0a7i|xn--j1aef|xn--j1amh|xn--j6w193g|xn--jlq61u9w7b|xn--jvr189m|xn--kcrx77d1x4a|xn--kprw13d|xn--kpry57d|xn--kpu716f|xn--kput3i|xn--l1acc|xn--lgbbat1ad8j|xn--mgb9awbf|xn--mgba3a3ejt|xn--mgba3a4f16a|xn--mgba7c0bbn0a|xn--mgbaakc7dvf|xn--mgbaam7a8h|xn--mgbab2bd|xn--mgbai9azgqp6j|xn--mgbayh7gpa|xn--mgbb9fbpob|xn--mgbbh1a|xn--mgbbh1a71e|xn--mgbc0a9azcg|xn--mgbca7dzdo|xn--mgberp4a5d4ar|xn--mgbgu82a|xn--mgbi4ecexp|xn--mgbpl2fh|xn--mgbt3dhd|xn--mgbtx2b|xn--mgbx4cd0ab|xn--mix891f|xn--mk1bu44c|xn--mxtq1m|xn--ngbc5azd|xn--ngbe9e0a|xn--ngbrx|xn--node|xn--nqv7f|xn--nqv7fs00ema|xn--nyqy26a|xn--o3cw4h|xn--ogbpf8fl|xn--p1acf|xn--p1ai|xn--pbt977c|xn--pgbs0dh|xn--pssy2u|xn--q9jyb4c|xn--qcka1pmc|xn--qxam|xn--rhqv96g|xn--rovu88b|xn--rvc1e0am3e|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--tckwe|xn--tiq49xqyj|xn--unup4y|xn--vermgensberater-ctb|xn--vermgensberatung-pwb|xn--vhquv|xn--vuq861b|xn--w4r85el8fhu5dnra|xn--w4rs40l|xn--wgbh1c|xn--wgbl6a|xn--xhq521b|xn--xkc2al3hye2a|xn--xkc2dl3a5ee0h|xn--y9a3aq|xn--yfro4i67o|xn--ygbi2ammx|xn--zfr164b|xperia|xxx|xyz|yachts|yahoo|yamaxun|yandex|ye|yodobashi|yoga|yokohama|you|youtube|yt|yun|za|zappos|zara|zero|zip|zippo|zm|zone|zuerich|zw".split("|"),c="0123456789".split(""),u="0123456789abcdefghijklmnopqrstuvwxyz".split(""),f=[" ","\f","\r","	","\v","\xA0","\u1680","\u180E"],m=[],p=function(V){return new e.CharacterState(V)},g=p(),O=p(a.NUM),s=p(a.DOMAIN),r=p(),i=p(a.WS);g.on("@",p(a.AT)).on(".",p(a.DOT)).on("+",p(a.PLUS)).on("#",p(a.POUND)).on("?",p(a.QUERY)).on("/",p(a.SLASH)).on("_",p(a.UNDERSCORE)).on(":",p(a.COLON)).on("{",p(a.OPENBRACE)).on("[",p(a.OPENBRACKET)).on("<",p(a.OPENANGLEBRACKET)).on("(",p(a.OPENPAREN)).on("}",p(a.CLOSEBRACE)).on("]",p(a.CLOSEBRACKET)).on(">",p(a.CLOSEANGLEBRACKET)).on(")",p(a.CLOSEPAREN)).on("&",p(a.AMPERSAND)).on([",",";","!",'"',"'"],p(a.PUNCTUATION)),g.on(`
`,p(a.NL)).on(f,i),i.on(f,i);for(var h=0;h<d.length;h++){var v=(0,e.stateify)(d[h],g,a.TLD,a.DOMAIN);m.push.apply(m,v)}var j=(0,e.stateify)("file",g,a.DOMAIN,a.DOMAIN),y=(0,e.stateify)("ftp",g,a.DOMAIN,a.DOMAIN),b=(0,e.stateify)("http",g,a.DOMAIN,a.DOMAIN),E=(0,e.stateify)("mailto",g,a.DOMAIN,a.DOMAIN);m.push.apply(m,j),m.push.apply(m,y),m.push.apply(m,b),m.push.apply(m,E);var P=j.pop(),A=y.pop(),_=b.pop(),M=E.pop(),F=p(a.DOMAIN),H=p(a.PROTOCOL),C=p(a.MAILTO);A.on("s",F).on(":",H),_.on("s",F).on(":",H),m.push(F),P.on(":",H),F.on(":",H),M.on(":",C);var T=(0,e.stateify)("localhost",g,a.LOCALHOST,a.DOMAIN);m.push.apply(m,T),g.on(c,O),O.on("-",r).on(c,O).on(u,s),s.on("-",r).on(u,s);for(var S=0;S<m.length;S++)m[S].on("-",r).on(u,s);r.on("-",r).on(c,s).on(u,s),g.defaultTransition=p(a.SYM);var D=function(V){for(var K=V.replace(/[A-Z]/g,function(le){return le.toLowerCase()}),Y=V.length,W=[],R=0;R<Y;){for(var B=g,x=null,G=0,Q=null,he=-1;R<Y&&(x=B.next(K[R]));)B=x,B.accepts()?(he=0,Q=B):he>=0&&he++,G++,R++;if(!(he<0)){R-=he,G-=he;var Z=Q.emit();W.push(new Z(V.substr(R-G,G)))}}return W},w=g;n.State=e.CharacterState,n.TOKENS=o,n.run=D,n.start=w},function(k,n,t){"use strict";n.__esModule=!0,n.start=n.run=n.TOKENS=n.State=void 0;var e=t(737),a=t(947),o=d(a),l=t(484);function d(de){if(de&&de.__esModule)return de;var be={};if(de!=null)for(var X in de)Object.prototype.hasOwnProperty.call(de,X)&&(be[X]=de[X]);return be.default=de,be}var c=function(be){return new e.TokenState(be)},u=c(),f=c(),m=c(),p=c(),g=c(),O=c(),s=c(),r=c(a.URL),i=c(),h=c(a.URL),v=c(a.URL),j=c(),y=c(),b=c(),E=c(),P=c(),A=c(a.URL),_=c(a.URL),M=c(a.URL),F=c(a.URL),H=c(),C=c(),T=c(),S=c(),D=c(),w=c(),U=c(a.EMAIL),V=c(),K=c(a.EMAIL),Y=c(a.MAILTOEMAIL),W=c(),R=c(),B=c(),x=c(),G=c(a.NL);u.on(l.NL,G).on(l.PROTOCOL,f).on(l.MAILTO,m).on(l.SLASH,p),f.on(l.SLASH,p),p.on(l.SLASH,g),u.on(l.TLD,O).on(l.DOMAIN,O).on(l.LOCALHOST,r).on(l.NUM,O),g.on(l.TLD,v).on(l.DOMAIN,v).on(l.NUM,v).on(l.LOCALHOST,v),O.on(l.DOT,s),D.on(l.DOT,w),s.on(l.TLD,r).on(l.DOMAIN,O).on(l.NUM,O).on(l.LOCALHOST,O),w.on(l.TLD,U).on(l.DOMAIN,D).on(l.NUM,D).on(l.LOCALHOST,D),r.on(l.DOT,s),U.on(l.DOT,w),r.on(l.COLON,i).on(l.SLASH,v),i.on(l.NUM,h),h.on(l.SLASH,v),U.on(l.COLON,V),V.on(l.NUM,K);var Q=[l.DOMAIN,l.AT,l.LOCALHOST,l.NUM,l.PLUS,l.POUND,l.PROTOCOL,l.SLASH,l.TLD,l.UNDERSCORE,l.SYM,l.AMPERSAND],he=[l.COLON,l.DOT,l.QUERY,l.PUNCTUATION,l.CLOSEBRACE,l.CLOSEBRACKET,l.CLOSEANGLEBRACKET,l.CLOSEPAREN,l.OPENBRACE,l.OPENBRACKET,l.OPENANGLEBRACKET,l.OPENPAREN];v.on(l.OPENBRACE,y).on(l.OPENBRACKET,b).on(l.OPENANGLEBRACKET,E).on(l.OPENPAREN,P),j.on(l.OPENBRACE,y).on(l.OPENBRACKET,b).on(l.OPENANGLEBRACKET,E).on(l.OPENPAREN,P),y.on(l.CLOSEBRACE,v),b.on(l.CLOSEBRACKET,v),E.on(l.CLOSEANGLEBRACKET,v),P.on(l.CLOSEPAREN,v),A.on(l.CLOSEBRACE,v),_.on(l.CLOSEBRACKET,v),M.on(l.CLOSEANGLEBRACKET,v),F.on(l.CLOSEPAREN,v),H.on(l.CLOSEBRACE,v),C.on(l.CLOSEBRACKET,v),T.on(l.CLOSEANGLEBRACKET,v),S.on(l.CLOSEPAREN,v),y.on(Q,A),b.on(Q,_),E.on(Q,M),P.on(Q,F),y.on(he,H),b.on(he,C),E.on(he,T),P.on(he,S),A.on(Q,A),_.on(Q,_),M.on(Q,M),F.on(Q,F),A.on(he,A),_.on(he,_),M.on(he,M),F.on(he,F),H.on(Q,A),C.on(Q,_),T.on(Q,M),S.on(Q,F),H.on(he,H),C.on(he,C),T.on(he,T),S.on(he,S),v.on(Q,v),j.on(Q,v),v.on(he,j),j.on(he,j),m.on(l.TLD,Y).on(l.DOMAIN,Y).on(l.NUM,Y).on(l.LOCALHOST,Y),Y.on(Q,Y).on(he,W),W.on(Q,Y).on(he,W);var Z=[l.DOMAIN,l.NUM,l.PLUS,l.POUND,l.QUERY,l.UNDERSCORE,l.SYM,l.AMPERSAND,l.TLD];O.on(Z,R).on(l.AT,B),r.on(Z,R).on(l.AT,B),s.on(Z,R),R.on(Z,R).on(l.AT,B).on(l.DOT,x),x.on(Z,R),B.on(l.TLD,D).on(l.DOMAIN,D).on(l.LOCALHOST,U);var le=function(be){for(var X=be.length,ie=0,Ce=[],Le=[];ie<X;){for(var Ae=u,Pe=null,Ne=null,ce=0,q=null,te=-1;ie<X&&!(Pe=Ae.next(be[ie]));)Le.push(be[ie++]);for(;ie<X&&(Ne=Pe||Ae.next(be[ie]));)Pe=null,Ae=Ne,Ae.accepts()?(te=0,q=Ae):te>=0&&te++,ie++,ce++;if(te<0)for(var ue=ie-ce;ue<ie;ue++)Le.push(be[ue]);else{Le.length>0&&(Ce.push(new a.TEXT(Le)),Le=[]),ie-=te,ce-=te;var We=q.emit();Ce.push(new We(be.slice(ie-ce,ie)))}}return Le.length>0&&Ce.push(new a.TEXT(Le)),Ce};n.State=e.TokenState,n.TOKENS=o,n.run=le,n.start=u},function(k,n,t){"use strict";n.__esModule=!0,n.URL=n.TEXT=n.NL=n.EMAIL=n.MAILTOEMAIL=n.Base=void 0;var e=t(738),a=t(393),o=t(484);function l(g){return g instanceof o.DOMAIN||g instanceof o.TLD}var d=(0,e.createTokenClass)();d.prototype={type:"token",isLink:!1,toString:function(){for(var O=[],s=0;s<this.v.length;s++)O.push(this.v[s].toString());return O.join("")},toHref:function(){return this.toString()},toObject:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"http";return{type:this.type,value:this.toString(),href:this.toHref(O)}}};var c=(0,a.inherits)(d,(0,e.createTokenClass)(),{type:"email",isLink:!0}),u=(0,a.inherits)(d,(0,e.createTokenClass)(),{type:"email",isLink:!0,toHref:function(){return"mailto:"+this.toString()}}),f=(0,a.inherits)(d,(0,e.createTokenClass)(),{type:"text"}),m=(0,a.inherits)(d,(0,e.createTokenClass)(),{type:"nl"}),p=(0,a.inherits)(d,(0,e.createTokenClass)(),{type:"url",isLink:!0,toHref:function(){for(var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"http",s=!1,r=!1,i=this.v,h=[],v=0;i[v]instanceof o.PROTOCOL;)s=!0,h.push(i[v].toString().toLowerCase()),v++;for(;i[v]instanceof o.SLASH;)r=!0,h.push(i[v].toString()),v++;for(;l(i[v]);)h.push(i[v].toString().toLowerCase()),v++;for(;v<i.length;v++)h.push(i[v].toString());return h=h.join(""),s||r||(h=O+"://"+h),h},hasProtocol:function(){return this.v[0]instanceof o.PROTOCOL}});n.Base=d,n.MAILTOEMAIL=c,n.EMAIL=u,n.NL=m,n.TEXT=f,n.URL=p},function(k,n){var t=typeof crypto!="undefined"&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&msCrypto.getRandomValues.bind(msCrypto);if(t){var e=new Uint8Array(16);k.exports=function(){return t(e),e}}else{var a=new Array(16);k.exports=function(){for(var l=0,d;l<16;l++)(l&3)==0&&(d=Math.random()*4294967296),a[l]=d>>>((l&3)<<3)&255;return a}}},function(k,n){for(var t=[],e=0;e<256;++e)t[e]=(e+256).toString(16).substr(1);function a(o,l){var d=l||0,c=t;return c[o[d++]]+c[o[d++]]+c[o[d++]]+c[o[d++]]+"-"+c[o[d++]]+c[o[d++]]+"-"+c[o[d++]]+c[o[d++]]+"-"+c[o[d++]]+c[o[d++]]+"-"+c[o[d++]]+c[o[d++]]+c[o[d++]]+c[o[d++]]+c[o[d++]]+c[o[d++]]}k.exports=a},function(k,n,t){(function(e,a){var o;/*! https://mths.be/he v1.2.0 by @mathias | MIT license */(function(l){var d=n,c=e&&e.exports==d&&e,u=typeof a=="object"&&a;(u.global===u||u.window===u)&&(l=u);var f=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,m=/[\x01-\x7F]/g,p=/[\x01-\t\x0B\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,g=/<\u20D2|=\u20E5|>\u20D2|\u205F\u200A|\u219D\u0338|\u2202\u0338|\u2220\u20D2|\u2229\uFE00|\u222A\uFE00|\u223C\u20D2|\u223D\u0331|\u223E\u0333|\u2242\u0338|\u224B\u0338|\u224D\u20D2|\u224E\u0338|\u224F\u0338|\u2250\u0338|\u2261\u20E5|\u2264\u20D2|\u2265\u20D2|\u2266\u0338|\u2267\u0338|\u2268\uFE00|\u2269\uFE00|\u226A\u0338|\u226A\u20D2|\u226B\u0338|\u226B\u20D2|\u227F\u0338|\u2282\u20D2|\u2283\u20D2|\u228A\uFE00|\u228B\uFE00|\u228F\u0338|\u2290\u0338|\u2293\uFE00|\u2294\uFE00|\u22B4\u20D2|\u22B5\u20D2|\u22D8\u0338|\u22D9\u0338|\u22DA\uFE00|\u22DB\uFE00|\u22F5\u0338|\u22F9\u0338|\u2933\u0338|\u29CF\u0338|\u29D0\u0338|\u2A6D\u0338|\u2A70\u0338|\u2A7D\u0338|\u2A7E\u0338|\u2AA1\u0338|\u2AA2\u0338|\u2AAC\uFE00|\u2AAD\uFE00|\u2AAF\u0338|\u2AB0\u0338|\u2AC5\u0338|\u2AC6\u0338|\u2ACB\uFE00|\u2ACC\uFE00|\u2AFD\u20E5|[\xA0-\u0113\u0116-\u0122\u0124-\u012B\u012E-\u014D\u0150-\u017E\u0192\u01B5\u01F5\u0237\u02C6\u02C7\u02D8-\u02DD\u0311\u0391-\u03A1\u03A3-\u03A9\u03B1-\u03C9\u03D1\u03D2\u03D5\u03D6\u03DC\u03DD\u03F0\u03F1\u03F5\u03F6\u0401-\u040C\u040E-\u044F\u0451-\u045C\u045E\u045F\u2002-\u2005\u2007-\u2010\u2013-\u2016\u2018-\u201A\u201C-\u201E\u2020-\u2022\u2025\u2026\u2030-\u2035\u2039\u203A\u203E\u2041\u2043\u2044\u204F\u2057\u205F-\u2063\u20AC\u20DB\u20DC\u2102\u2105\u210A-\u2113\u2115-\u211E\u2122\u2124\u2127-\u2129\u212C\u212D\u212F-\u2131\u2133-\u2138\u2145-\u2148\u2153-\u215E\u2190-\u219B\u219D-\u21A7\u21A9-\u21AE\u21B0-\u21B3\u21B5-\u21B7\u21BA-\u21DB\u21DD\u21E4\u21E5\u21F5\u21FD-\u2205\u2207-\u2209\u220B\u220C\u220F-\u2214\u2216-\u2218\u221A\u221D-\u2238\u223A-\u2257\u2259\u225A\u225C\u225F-\u2262\u2264-\u228B\u228D-\u229B\u229D-\u22A5\u22A7-\u22B0\u22B2-\u22BB\u22BD-\u22DB\u22DE-\u22E3\u22E6-\u22F7\u22F9-\u22FE\u2305\u2306\u2308-\u2310\u2312\u2313\u2315\u2316\u231C-\u231F\u2322\u2323\u232D\u232E\u2336\u233D\u233F\u237C\u23B0\u23B1\u23B4-\u23B6\u23DC-\u23DF\u23E2\u23E7\u2423\u24C8\u2500\u2502\u250C\u2510\u2514\u2518\u251C\u2524\u252C\u2534\u253C\u2550-\u256C\u2580\u2584\u2588\u2591-\u2593\u25A1\u25AA\u25AB\u25AD\u25AE\u25B1\u25B3-\u25B5\u25B8\u25B9\u25BD-\u25BF\u25C2\u25C3\u25CA\u25CB\u25EC\u25EF\u25F8-\u25FC\u2605\u2606\u260E\u2640\u2642\u2660\u2663\u2665\u2666\u266A\u266D-\u266F\u2713\u2717\u2720\u2736\u2758\u2772\u2773\u27C8\u27C9\u27E6-\u27ED\u27F5-\u27FA\u27FC\u27FF\u2902-\u2905\u290C-\u2913\u2916\u2919-\u2920\u2923-\u292A\u2933\u2935-\u2939\u293C\u293D\u2945\u2948-\u294B\u294E-\u2976\u2978\u2979\u297B-\u297F\u2985\u2986\u298B-\u2996\u299A\u299C\u299D\u29A4-\u29B7\u29B9\u29BB\u29BC\u29BE-\u29C5\u29C9\u29CD-\u29D0\u29DC-\u29DE\u29E3-\u29E5\u29EB\u29F4\u29F6\u2A00-\u2A02\u2A04\u2A06\u2A0C\u2A0D\u2A10-\u2A17\u2A22-\u2A27\u2A29\u2A2A\u2A2D-\u2A31\u2A33-\u2A3C\u2A3F\u2A40\u2A42-\u2A4D\u2A50\u2A53-\u2A58\u2A5A-\u2A5D\u2A5F\u2A66\u2A6A\u2A6D-\u2A75\u2A77-\u2A9A\u2A9D-\u2AA2\u2AA4-\u2AB0\u2AB3-\u2AC8\u2ACB\u2ACC\u2ACF-\u2ADB\u2AE4\u2AE6-\u2AE9\u2AEB-\u2AF3\u2AFD\uFB00-\uFB04]|\uD835[\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDD6B]/g,O={"\xAD":"shy","\u200C":"zwnj","\u200D":"zwj","\u200E":"lrm","\u2063":"ic","\u2062":"it","\u2061":"af","\u200F":"rlm","\u200B":"ZeroWidthSpace","\u2060":"NoBreak","\u0311":"DownBreve","\u20DB":"tdot","\u20DC":"DotDot","	":"Tab","\n":"NewLine","\u2008":"puncsp","\u205F":"MediumSpace","\u2009":"thinsp","\u200A":"hairsp","\u2004":"emsp13","\u2002":"ensp","\u2005":"emsp14","\u2003":"emsp","\u2007":"numsp","\xA0":"nbsp","\u205F\u200A":"ThickSpace","\u203E":"oline",_:"lowbar","\u2010":"dash","\u2013":"ndash","\u2014":"mdash","\u2015":"horbar",",":"comma",";":"semi","\u204F":"bsemi",":":"colon","\u2A74":"Colone","!":"excl","\xA1":"iexcl","?":"quest","\xBF":"iquest",".":"period","\u2025":"nldr","\u2026":"mldr","\xB7":"middot","'":"apos","\u2018":"lsquo","\u2019":"rsquo","\u201A":"sbquo","\u2039":"lsaquo","\u203A":"rsaquo",'"':"quot","\u201C":"ldquo","\u201D":"rdquo","\u201E":"bdquo","\xAB":"laquo","\xBB":"raquo","(":"lpar",")":"rpar","[":"lsqb","]":"rsqb","{":"lcub","}":"rcub","\u2308":"lceil","\u2309":"rceil","\u230A":"lfloor","\u230B":"rfloor","\u2985":"lopar","\u2986":"ropar","\u298B":"lbrke","\u298C":"rbrke","\u298D":"lbrkslu","\u298E":"rbrksld","\u298F":"lbrksld","\u2990":"rbrkslu","\u2991":"langd","\u2992":"rangd","\u2993":"lparlt","\u2994":"rpargt","\u2995":"gtlPar","\u2996":"ltrPar","\u27E6":"lobrk","\u27E7":"robrk","\u27E8":"lang","\u27E9":"rang","\u27EA":"Lang","\u27EB":"Rang","\u27EC":"loang","\u27ED":"roang","\u2772":"lbbrk","\u2773":"rbbrk","\u2016":"Vert","\xA7":"sect","\xB6":"para","@":"commat","*":"ast","/":"sol",undefined:null,"&":"amp","#":"num","%":"percnt","\u2030":"permil","\u2031":"pertenk","\u2020":"dagger","\u2021":"Dagger","\u2022":"bull","\u2043":"hybull","\u2032":"prime","\u2033":"Prime","\u2034":"tprime","\u2057":"qprime","\u2035":"bprime","\u2041":"caret","`":"grave","\xB4":"acute","\u02DC":"tilde","^":"Hat","\xAF":"macr","\u02D8":"breve","\u02D9":"dot","\xA8":"die","\u02DA":"ring","\u02DD":"dblac","\xB8":"cedil","\u02DB":"ogon","\u02C6":"circ","\u02C7":"caron","\xB0":"deg","\xA9":"copy","\xAE":"reg","\u2117":"copysr","\u2118":"wp","\u211E":"rx","\u2127":"mho","\u2129":"iiota","\u2190":"larr","\u219A":"nlarr","\u2192":"rarr","\u219B":"nrarr","\u2191":"uarr","\u2193":"darr","\u2194":"harr","\u21AE":"nharr","\u2195":"varr","\u2196":"nwarr","\u2197":"nearr","\u2198":"searr","\u2199":"swarr","\u219D":"rarrw","\u219D\u0338":"nrarrw","\u219E":"Larr","\u219F":"Uarr","\u21A0":"Rarr","\u21A1":"Darr","\u21A2":"larrtl","\u21A3":"rarrtl","\u21A4":"mapstoleft","\u21A5":"mapstoup","\u21A6":"map","\u21A7":"mapstodown","\u21A9":"larrhk","\u21AA":"rarrhk","\u21AB":"larrlp","\u21AC":"rarrlp","\u21AD":"harrw","\u21B0":"lsh","\u21B1":"rsh","\u21B2":"ldsh","\u21B3":"rdsh","\u21B5":"crarr","\u21B6":"cularr","\u21B7":"curarr","\u21BA":"olarr","\u21BB":"orarr","\u21BC":"lharu","\u21BD":"lhard","\u21BE":"uharr","\u21BF":"uharl","\u21C0":"rharu","\u21C1":"rhard","\u21C2":"dharr","\u21C3":"dharl","\u21C4":"rlarr","\u21C5":"udarr","\u21C6":"lrarr","\u21C7":"llarr","\u21C8":"uuarr","\u21C9":"rrarr","\u21CA":"ddarr","\u21CB":"lrhar","\u21CC":"rlhar","\u21D0":"lArr","\u21CD":"nlArr","\u21D1":"uArr","\u21D2":"rArr","\u21CF":"nrArr","\u21D3":"dArr","\u21D4":"iff","\u21CE":"nhArr","\u21D5":"vArr","\u21D6":"nwArr","\u21D7":"neArr","\u21D8":"seArr","\u21D9":"swArr","\u21DA":"lAarr","\u21DB":"rAarr","\u21DD":"zigrarr","\u21E4":"larrb","\u21E5":"rarrb","\u21F5":"duarr","\u21FD":"loarr","\u21FE":"roarr","\u21FF":"hoarr","\u2200":"forall","\u2201":"comp","\u2202":"part","\u2202\u0338":"npart","\u2203":"exist","\u2204":"nexist","\u2205":"empty","\u2207":"Del","\u2208":"in","\u2209":"notin","\u220B":"ni","\u220C":"notni","\u03F6":"bepsi","\u220F":"prod","\u2210":"coprod","\u2211":"sum","+":"plus","\xB1":"pm","\xF7":"div","\xD7":"times","<":"lt","\u226E":"nlt","<\u20D2":"nvlt","=":"equals","\u2260":"ne","=\u20E5":"bne","\u2A75":"Equal",">":"gt","\u226F":"ngt",">\u20D2":"nvgt","\xAC":"not","|":"vert","\xA6":"brvbar","\u2212":"minus","\u2213":"mp","\u2214":"plusdo","\u2044":"frasl","\u2216":"setmn","\u2217":"lowast","\u2218":"compfn","\u221A":"Sqrt","\u221D":"prop","\u221E":"infin","\u221F":"angrt","\u2220":"ang","\u2220\u20D2":"nang","\u2221":"angmsd","\u2222":"angsph","\u2223":"mid","\u2224":"nmid","\u2225":"par","\u2226":"npar","\u2227":"and","\u2228":"or","\u2229":"cap","\u2229\uFE00":"caps","\u222A":"cup","\u222A\uFE00":"cups","\u222B":"int","\u222C":"Int","\u222D":"tint","\u2A0C":"qint","\u222E":"oint","\u222F":"Conint","\u2230":"Cconint","\u2231":"cwint","\u2232":"cwconint","\u2233":"awconint","\u2234":"there4","\u2235":"becaus","\u2236":"ratio","\u2237":"Colon","\u2238":"minusd","\u223A":"mDDot","\u223B":"homtht","\u223C":"sim","\u2241":"nsim","\u223C\u20D2":"nvsim","\u223D":"bsim","\u223D\u0331":"race","\u223E":"ac","\u223E\u0333":"acE","\u223F":"acd","\u2240":"wr","\u2242":"esim","\u2242\u0338":"nesim","\u2243":"sime","\u2244":"nsime","\u2245":"cong","\u2247":"ncong","\u2246":"simne","\u2248":"ap","\u2249":"nap","\u224A":"ape","\u224B":"apid","\u224B\u0338":"napid","\u224C":"bcong","\u224D":"CupCap","\u226D":"NotCupCap","\u224D\u20D2":"nvap","\u224E":"bump","\u224E\u0338":"nbump","\u224F":"bumpe","\u224F\u0338":"nbumpe","\u2250":"doteq","\u2250\u0338":"nedot","\u2251":"eDot","\u2252":"efDot","\u2253":"erDot","\u2254":"colone","\u2255":"ecolon","\u2256":"ecir","\u2257":"cire","\u2259":"wedgeq","\u225A":"veeeq","\u225C":"trie","\u225F":"equest","\u2261":"equiv","\u2262":"nequiv","\u2261\u20E5":"bnequiv","\u2264":"le","\u2270":"nle","\u2264\u20D2":"nvle","\u2265":"ge","\u2271":"nge","\u2265\u20D2":"nvge","\u2266":"lE","\u2266\u0338":"nlE","\u2267":"gE","\u2267\u0338":"ngE","\u2268\uFE00":"lvnE","\u2268":"lnE","\u2269":"gnE","\u2269\uFE00":"gvnE","\u226A":"ll","\u226A\u0338":"nLtv","\u226A\u20D2":"nLt","\u226B":"gg","\u226B\u0338":"nGtv","\u226B\u20D2":"nGt","\u226C":"twixt","\u2272":"lsim","\u2274":"nlsim","\u2273":"gsim","\u2275":"ngsim","\u2276":"lg","\u2278":"ntlg","\u2277":"gl","\u2279":"ntgl","\u227A":"pr","\u2280":"npr","\u227B":"sc","\u2281":"nsc","\u227C":"prcue","\u22E0":"nprcue","\u227D":"sccue","\u22E1":"nsccue","\u227E":"prsim","\u227F":"scsim","\u227F\u0338":"NotSucceedsTilde","\u2282":"sub","\u2284":"nsub","\u2282\u20D2":"vnsub","\u2283":"sup","\u2285":"nsup","\u2283\u20D2":"vnsup","\u2286":"sube","\u2288":"nsube","\u2287":"supe","\u2289":"nsupe","\u228A\uFE00":"vsubne","\u228A":"subne","\u228B\uFE00":"vsupne","\u228B":"supne","\u228D":"cupdot","\u228E":"uplus","\u228F":"sqsub","\u228F\u0338":"NotSquareSubset","\u2290":"sqsup","\u2290\u0338":"NotSquareSuperset","\u2291":"sqsube","\u22E2":"nsqsube","\u2292":"sqsupe","\u22E3":"nsqsupe","\u2293":"sqcap","\u2293\uFE00":"sqcaps","\u2294":"sqcup","\u2294\uFE00":"sqcups","\u2295":"oplus","\u2296":"ominus","\u2297":"otimes","\u2298":"osol","\u2299":"odot","\u229A":"ocir","\u229B":"oast","\u229D":"odash","\u229E":"plusb","\u229F":"minusb","\u22A0":"timesb","\u22A1":"sdotb","\u22A2":"vdash","\u22AC":"nvdash","\u22A3":"dashv","\u22A4":"top","\u22A5":"bot","\u22A7":"models","\u22A8":"vDash","\u22AD":"nvDash","\u22A9":"Vdash","\u22AE":"nVdash","\u22AA":"Vvdash","\u22AB":"VDash","\u22AF":"nVDash","\u22B0":"prurel","\u22B2":"vltri","\u22EA":"nltri","\u22B3":"vrtri","\u22EB":"nrtri","\u22B4":"ltrie","\u22EC":"nltrie","\u22B4\u20D2":"nvltrie","\u22B5":"rtrie","\u22ED":"nrtrie","\u22B5\u20D2":"nvrtrie","\u22B6":"origof","\u22B7":"imof","\u22B8":"mumap","\u22B9":"hercon","\u22BA":"intcal","\u22BB":"veebar","\u22BD":"barvee","\u22BE":"angrtvb","\u22BF":"lrtri","\u22C0":"Wedge","\u22C1":"Vee","\u22C2":"xcap","\u22C3":"xcup","\u22C4":"diam","\u22C5":"sdot","\u22C6":"Star","\u22C7":"divonx","\u22C8":"bowtie","\u22C9":"ltimes","\u22CA":"rtimes","\u22CB":"lthree","\u22CC":"rthree","\u22CD":"bsime","\u22CE":"cuvee","\u22CF":"cuwed","\u22D0":"Sub","\u22D1":"Sup","\u22D2":"Cap","\u22D3":"Cup","\u22D4":"fork","\u22D5":"epar","\u22D6":"ltdot","\u22D7":"gtdot","\u22D8":"Ll","\u22D8\u0338":"nLl","\u22D9":"Gg","\u22D9\u0338":"nGg","\u22DA\uFE00":"lesg","\u22DA":"leg","\u22DB":"gel","\u22DB\uFE00":"gesl","\u22DE":"cuepr","\u22DF":"cuesc","\u22E6":"lnsim","\u22E7":"gnsim","\u22E8":"prnsim","\u22E9":"scnsim","\u22EE":"vellip","\u22EF":"ctdot","\u22F0":"utdot","\u22F1":"dtdot","\u22F2":"disin","\u22F3":"isinsv","\u22F4":"isins","\u22F5":"isindot","\u22F5\u0338":"notindot","\u22F6":"notinvc","\u22F7":"notinvb","\u22F9":"isinE","\u22F9\u0338":"notinE","\u22FA":"nisd","\u22FB":"xnis","\u22FC":"nis","\u22FD":"notnivc","\u22FE":"notnivb","\u2305":"barwed","\u2306":"Barwed","\u230C":"drcrop","\u230D":"dlcrop","\u230E":"urcrop","\u230F":"ulcrop","\u2310":"bnot","\u2312":"profline","\u2313":"profsurf","\u2315":"telrec","\u2316":"target","\u231C":"ulcorn","\u231D":"urcorn","\u231E":"dlcorn","\u231F":"drcorn","\u2322":"frown","\u2323":"smile","\u232D":"cylcty","\u232E":"profalar","\u2336":"topbot","\u233D":"ovbar","\u233F":"solbar","\u237C":"angzarr","\u23B0":"lmoust","\u23B1":"rmoust","\u23B4":"tbrk","\u23B5":"bbrk","\u23B6":"bbrktbrk","\u23DC":"OverParenthesis","\u23DD":"UnderParenthesis","\u23DE":"OverBrace","\u23DF":"UnderBrace","\u23E2":"trpezium","\u23E7":"elinters","\u2423":"blank","\u2500":"boxh","\u2502":"boxv","\u250C":"boxdr","\u2510":"boxdl","\u2514":"boxur","\u2518":"boxul","\u251C":"boxvr","\u2524":"boxvl","\u252C":"boxhd","\u2534":"boxhu","\u253C":"boxvh","\u2550":"boxH","\u2551":"boxV","\u2552":"boxdR","\u2553":"boxDr","\u2554":"boxDR","\u2555":"boxdL","\u2556":"boxDl","\u2557":"boxDL","\u2558":"boxuR","\u2559":"boxUr","\u255A":"boxUR","\u255B":"boxuL","\u255C":"boxUl","\u255D":"boxUL","\u255E":"boxvR","\u255F":"boxVr","\u2560":"boxVR","\u2561":"boxvL","\u2562":"boxVl","\u2563":"boxVL","\u2564":"boxHd","\u2565":"boxhD","\u2566":"boxHD","\u2567":"boxHu","\u2568":"boxhU","\u2569":"boxHU","\u256A":"boxvH","\u256B":"boxVh","\u256C":"boxVH","\u2580":"uhblk","\u2584":"lhblk","\u2588":"block","\u2591":"blk14","\u2592":"blk12","\u2593":"blk34","\u25A1":"squ","\u25AA":"squf","\u25AB":"EmptyVerySmallSquare","\u25AD":"rect","\u25AE":"marker","\u25B1":"fltns","\u25B3":"xutri","\u25B4":"utrif","\u25B5":"utri","\u25B8":"rtrif","\u25B9":"rtri","\u25BD":"xdtri","\u25BE":"dtrif","\u25BF":"dtri","\u25C2":"ltrif","\u25C3":"ltri","\u25CA":"loz","\u25CB":"cir","\u25EC":"tridot","\u25EF":"xcirc","\u25F8":"ultri","\u25F9":"urtri","\u25FA":"lltri","\u25FB":"EmptySmallSquare","\u25FC":"FilledSmallSquare","\u2605":"starf","\u2606":"star","\u260E":"phone","\u2640":"female","\u2642":"male","\u2660":"spades","\u2663":"clubs","\u2665":"hearts","\u2666":"diams","\u266A":"sung","\u2713":"check","\u2717":"cross","\u2720":"malt","\u2736":"sext","\u2758":"VerticalSeparator","\u27C8":"bsolhsub","\u27C9":"suphsol","\u27F5":"xlarr","\u27F6":"xrarr","\u27F7":"xharr","\u27F8":"xlArr","\u27F9":"xrArr","\u27FA":"xhArr","\u27FC":"xmap","\u27FF":"dzigrarr","\u2902":"nvlArr","\u2903":"nvrArr","\u2904":"nvHarr","\u2905":"Map","\u290C":"lbarr","\u290D":"rbarr","\u290E":"lBarr","\u290F":"rBarr","\u2910":"RBarr","\u2911":"DDotrahd","\u2912":"UpArrowBar","\u2913":"DownArrowBar","\u2916":"Rarrtl","\u2919":"latail","\u291A":"ratail","\u291B":"lAtail","\u291C":"rAtail","\u291D":"larrfs","\u291E":"rarrfs","\u291F":"larrbfs","\u2920":"rarrbfs","\u2923":"nwarhk","\u2924":"nearhk","\u2925":"searhk","\u2926":"swarhk","\u2927":"nwnear","\u2928":"toea","\u2929":"tosa","\u292A":"swnwar","\u2933":"rarrc","\u2933\u0338":"nrarrc","\u2935":"cudarrr","\u2936":"ldca","\u2937":"rdca","\u2938":"cudarrl","\u2939":"larrpl","\u293C":"curarrm","\u293D":"cularrp","\u2945":"rarrpl","\u2948":"harrcir","\u2949":"Uarrocir","\u294A":"lurdshar","\u294B":"ldrushar","\u294E":"LeftRightVector","\u294F":"RightUpDownVector","\u2950":"DownLeftRightVector","\u2951":"LeftUpDownVector","\u2952":"LeftVectorBar","\u2953":"RightVectorBar","\u2954":"RightUpVectorBar","\u2955":"RightDownVectorBar","\u2956":"DownLeftVectorBar","\u2957":"DownRightVectorBar","\u2958":"LeftUpVectorBar","\u2959":"LeftDownVectorBar","\u295A":"LeftTeeVector","\u295B":"RightTeeVector","\u295C":"RightUpTeeVector","\u295D":"RightDownTeeVector","\u295E":"DownLeftTeeVector","\u295F":"DownRightTeeVector","\u2960":"LeftUpTeeVector","\u2961":"LeftDownTeeVector","\u2962":"lHar","\u2963":"uHar","\u2964":"rHar","\u2965":"dHar","\u2966":"luruhar","\u2967":"ldrdhar","\u2968":"ruluhar","\u2969":"rdldhar","\u296A":"lharul","\u296B":"llhard","\u296C":"rharul","\u296D":"lrhard","\u296E":"udhar","\u296F":"duhar","\u2970":"RoundImplies","\u2971":"erarr","\u2972":"simrarr","\u2973":"larrsim","\u2974":"rarrsim","\u2975":"rarrap","\u2976":"ltlarr","\u2978":"gtrarr","\u2979":"subrarr","\u297B":"suplarr","\u297C":"lfisht","\u297D":"rfisht","\u297E":"ufisht","\u297F":"dfisht","\u299A":"vzigzag","\u299C":"vangrt","\u299D":"angrtvbd","\u29A4":"ange","\u29A5":"range","\u29A6":"dwangle","\u29A7":"uwangle","\u29A8":"angmsdaa","\u29A9":"angmsdab","\u29AA":"angmsdac","\u29AB":"angmsdad","\u29AC":"angmsdae","\u29AD":"angmsdaf","\u29AE":"angmsdag","\u29AF":"angmsdah","\u29B0":"bemptyv","\u29B1":"demptyv","\u29B2":"cemptyv","\u29B3":"raemptyv","\u29B4":"laemptyv","\u29B5":"ohbar","\u29B6":"omid","\u29B7":"opar","\u29B9":"operp","\u29BB":"olcross","\u29BC":"odsold","\u29BE":"olcir","\u29BF":"ofcir","\u29C0":"olt","\u29C1":"ogt","\u29C2":"cirscir","\u29C3":"cirE","\u29C4":"solb","\u29C5":"bsolb","\u29C9":"boxbox","\u29CD":"trisb","\u29CE":"rtriltri","\u29CF":"LeftTriangleBar","\u29CF\u0338":"NotLeftTriangleBar","\u29D0":"RightTriangleBar","\u29D0\u0338":"NotRightTriangleBar","\u29DC":"iinfin","\u29DD":"infintie","\u29DE":"nvinfin","\u29E3":"eparsl","\u29E4":"smeparsl","\u29E5":"eqvparsl","\u29EB":"lozf","\u29F4":"RuleDelayed","\u29F6":"dsol","\u2A00":"xodot","\u2A01":"xoplus","\u2A02":"xotime","\u2A04":"xuplus","\u2A06":"xsqcup","\u2A0D":"fpartint","\u2A10":"cirfnint","\u2A11":"awint","\u2A12":"rppolint","\u2A13":"scpolint","\u2A14":"npolint","\u2A15":"pointint","\u2A16":"quatint","\u2A17":"intlarhk","\u2A22":"pluscir","\u2A23":"plusacir","\u2A24":"simplus","\u2A25":"plusdu","\u2A26":"plussim","\u2A27":"plustwo","\u2A29":"mcomma","\u2A2A":"minusdu","\u2A2D":"loplus","\u2A2E":"roplus","\u2A2F":"Cross","\u2A30":"timesd","\u2A31":"timesbar","\u2A33":"smashp","\u2A34":"lotimes","\u2A35":"rotimes","\u2A36":"otimesas","\u2A37":"Otimes","\u2A38":"odiv","\u2A39":"triplus","\u2A3A":"triminus","\u2A3B":"tritime","\u2A3C":"iprod","\u2A3F":"amalg","\u2A40":"capdot","\u2A42":"ncup","\u2A43":"ncap","\u2A44":"capand","\u2A45":"cupor","\u2A46":"cupcap","\u2A47":"capcup","\u2A48":"cupbrcap","\u2A49":"capbrcup","\u2A4A":"cupcup","\u2A4B":"capcap","\u2A4C":"ccups","\u2A4D":"ccaps","\u2A50":"ccupssm","\u2A53":"And","\u2A54":"Or","\u2A55":"andand","\u2A56":"oror","\u2A57":"orslope","\u2A58":"andslope","\u2A5A":"andv","\u2A5B":"orv","\u2A5C":"andd","\u2A5D":"ord","\u2A5F":"wedbar","\u2A66":"sdote","\u2A6A":"simdot","\u2A6D":"congdot","\u2A6D\u0338":"ncongdot","\u2A6E":"easter","\u2A6F":"apacir","\u2A70":"apE","\u2A70\u0338":"napE","\u2A71":"eplus","\u2A72":"pluse","\u2A73":"Esim","\u2A77":"eDDot","\u2A78":"equivDD","\u2A79":"ltcir","\u2A7A":"gtcir","\u2A7B":"ltquest","\u2A7C":"gtquest","\u2A7D":"les","\u2A7D\u0338":"nles","\u2A7E":"ges","\u2A7E\u0338":"nges","\u2A7F":"lesdot","\u2A80":"gesdot","\u2A81":"lesdoto","\u2A82":"gesdoto","\u2A83":"lesdotor","\u2A84":"gesdotol","\u2A85":"lap","\u2A86":"gap","\u2A87":"lne","\u2A88":"gne","\u2A89":"lnap","\u2A8A":"gnap","\u2A8B":"lEg","\u2A8C":"gEl","\u2A8D":"lsime","\u2A8E":"gsime","\u2A8F":"lsimg","\u2A90":"gsiml","\u2A91":"lgE","\u2A92":"glE","\u2A93":"lesges","\u2A94":"gesles","\u2A95":"els","\u2A96":"egs","\u2A97":"elsdot","\u2A98":"egsdot","\u2A99":"el","\u2A9A":"eg","\u2A9D":"siml","\u2A9E":"simg","\u2A9F":"simlE","\u2AA0":"simgE","\u2AA1":"LessLess","\u2AA1\u0338":"NotNestedLessLess","\u2AA2":"GreaterGreater","\u2AA2\u0338":"NotNestedGreaterGreater","\u2AA4":"glj","\u2AA5":"gla","\u2AA6":"ltcc","\u2AA7":"gtcc","\u2AA8":"lescc","\u2AA9":"gescc","\u2AAA":"smt","\u2AAB":"lat","\u2AAC":"smte","\u2AAC\uFE00":"smtes","\u2AAD":"late","\u2AAD\uFE00":"lates","\u2AAE":"bumpE","\u2AAF":"pre","\u2AAF\u0338":"npre","\u2AB0":"sce","\u2AB0\u0338":"nsce","\u2AB3":"prE","\u2AB4":"scE","\u2AB5":"prnE","\u2AB6":"scnE","\u2AB7":"prap","\u2AB8":"scap","\u2AB9":"prnap","\u2ABA":"scnap","\u2ABB":"Pr","\u2ABC":"Sc","\u2ABD":"subdot","\u2ABE":"supdot","\u2ABF":"subplus","\u2AC0":"supplus","\u2AC1":"submult","\u2AC2":"supmult","\u2AC3":"subedot","\u2AC4":"supedot","\u2AC5":"subE","\u2AC5\u0338":"nsubE","\u2AC6":"supE","\u2AC6\u0338":"nsupE","\u2AC7":"subsim","\u2AC8":"supsim","\u2ACB\uFE00":"vsubnE","\u2ACB":"subnE","\u2ACC\uFE00":"vsupnE","\u2ACC":"supnE","\u2ACF":"csub","\u2AD0":"csup","\u2AD1":"csube","\u2AD2":"csupe","\u2AD3":"subsup","\u2AD4":"supsub","\u2AD5":"subsub","\u2AD6":"supsup","\u2AD7":"suphsub","\u2AD8":"supdsub","\u2AD9":"forkv","\u2ADA":"topfork","\u2ADB":"mlcp","\u2AE4":"Dashv","\u2AE6":"Vdashl","\u2AE7":"Barv","\u2AE8":"vBar","\u2AE9":"vBarv","\u2AEB":"Vbar","\u2AEC":"Not","\u2AED":"bNot","\u2AEE":"rnmid","\u2AEF":"cirmid","\u2AF0":"midcir","\u2AF1":"topcir","\u2AF2":"nhpar","\u2AF3":"parsim","\u2AFD":"parsl","\u2AFD\u20E5":"nparsl","\u266D":"flat","\u266E":"natur","\u266F":"sharp","\xA4":"curren","\xA2":"cent",$:"dollar","\xA3":"pound","\xA5":"yen","\u20AC":"euro","\xB9":"sup1","\xBD":"half","\u2153":"frac13","\xBC":"frac14","\u2155":"frac15","\u2159":"frac16","\u215B":"frac18","\xB2":"sup2","\u2154":"frac23","\u2156":"frac25","\xB3":"sup3","\xBE":"frac34","\u2157":"frac35","\u215C":"frac38","\u2158":"frac45","\u215A":"frac56","\u215D":"frac58","\u215E":"frac78","\u{1D4B6}":"ascr","\u{1D552}":"aopf","\u{1D51E}":"afr","\u{1D538}":"Aopf","\u{1D504}":"Afr","\u{1D49C}":"Ascr",\u00AA:"ordf",\u00E1:"aacute",\u00C1:"Aacute",\u00E0:"agrave",\u00C0:"Agrave",\u0103:"abreve",\u0102:"Abreve",\u00E2:"acirc",\u00C2:"Acirc",\u00E5:"aring",\u00C5:"angst",\u00E4:"auml",\u00C4:"Auml",\u00E3:"atilde",\u00C3:"Atilde",\u0105:"aogon",\u0104:"Aogon",\u0101:"amacr",\u0100:"Amacr",\u00E6:"aelig",\u00C6:"AElig","\u{1D4B7}":"bscr","\u{1D553}":"bopf","\u{1D51F}":"bfr","\u{1D539}":"Bopf",\u212C:"Bscr","\u{1D505}":"Bfr","\u{1D520}":"cfr","\u{1D4B8}":"cscr","\u{1D554}":"copf",\u212D:"Cfr","\u{1D49E}":"Cscr",\u2102:"Copf",\u0107:"cacute",\u0106:"Cacute",\u0109:"ccirc",\u0108:"Ccirc",\u010D:"ccaron",\u010C:"Ccaron",\u010B:"cdot",\u010A:"Cdot",\u00E7:"ccedil",\u00C7:"Ccedil","\u2105":"incare","\u{1D521}":"dfr","\u2146":"dd","\u{1D555}":"dopf","\u{1D4B9}":"dscr","\u{1D49F}":"Dscr","\u{1D507}":"Dfr","\u2145":"DD","\u{1D53B}":"Dopf",\u010F:"dcaron",\u010E:"Dcaron",\u0111:"dstrok",\u0110:"Dstrok",\u00F0:"eth",\u00D0:"ETH","\u2147":"ee",\u212F:"escr","\u{1D522}":"efr","\u{1D556}":"eopf",\u2130:"Escr","\u{1D508}":"Efr","\u{1D53C}":"Eopf",\u00E9:"eacute",\u00C9:"Eacute",\u00E8:"egrave",\u00C8:"Egrave",\u00EA:"ecirc",\u00CA:"Ecirc",\u011B:"ecaron",\u011A:"Ecaron",\u00EB:"euml",\u00CB:"Euml",\u0117:"edot",\u0116:"Edot",\u0119:"eogon",\u0118:"Eogon",\u0113:"emacr",\u0112:"Emacr","\u{1D523}":"ffr","\u{1D557}":"fopf","\u{1D4BB}":"fscr","\u{1D509}":"Ffr","\u{1D53D}":"Fopf",\u2131:"Fscr",\uFB00:"fflig",\uFB03:"ffilig",\uFB04:"ffllig",\uFB01:"filig",fj:"fjlig",\uFB02:"fllig",\u0192:"fnof",\u210A:"gscr","\u{1D558}":"gopf","\u{1D524}":"gfr","\u{1D4A2}":"Gscr","\u{1D53E}":"Gopf","\u{1D50A}":"Gfr",\u01F5:"gacute",\u011F:"gbreve",\u011E:"Gbreve",\u011D:"gcirc",\u011C:"Gcirc",\u0121:"gdot",\u0120:"Gdot",\u0122:"Gcedil","\u{1D525}":"hfr",\u210E:"planckh","\u{1D4BD}":"hscr","\u{1D559}":"hopf",\u210B:"Hscr",\u210C:"Hfr",\u210D:"Hopf",\u0125:"hcirc",\u0124:"Hcirc",\u210F:"hbar",\u0127:"hstrok",\u0126:"Hstrok","\u{1D55A}":"iopf","\u{1D526}":"ifr","\u{1D4BE}":"iscr","\u2148":"ii","\u{1D540}":"Iopf",\u2110:"Iscr",\u2111:"Im",\u00ED:"iacute",\u00CD:"Iacute",\u00EC:"igrave",\u00CC:"Igrave",\u00EE:"icirc",\u00CE:"Icirc",\u00EF:"iuml",\u00CF:"Iuml",\u0129:"itilde",\u0128:"Itilde",\u0130:"Idot",\u012F:"iogon",\u012E:"Iogon",\u012B:"imacr",\u012A:"Imacr",\u0133:"ijlig",\u0132:"IJlig",\u0131:"imath","\u{1D4BF}":"jscr","\u{1D55B}":"jopf","\u{1D527}":"jfr","\u{1D4A5}":"Jscr","\u{1D50D}":"Jfr","\u{1D541}":"Jopf",\u0135:"jcirc",\u0134:"Jcirc","\u0237":"jmath","\u{1D55C}":"kopf","\u{1D4C0}":"kscr","\u{1D528}":"kfr","\u{1D4A6}":"Kscr","\u{1D542}":"Kopf","\u{1D50E}":"Kfr",\u0137:"kcedil",\u0136:"Kcedil","\u{1D529}":"lfr","\u{1D4C1}":"lscr",\u2113:"ell","\u{1D55D}":"lopf",\u2112:"Lscr","\u{1D50F}":"Lfr","\u{1D543}":"Lopf",\u013A:"lacute",\u0139:"Lacute",\u013E:"lcaron",\u013D:"Lcaron",\u013C:"lcedil",\u013B:"Lcedil",\u0142:"lstrok",\u0141:"Lstrok",\u0140:"lmidot",\u013F:"Lmidot","\u{1D52A}":"mfr","\u{1D55E}":"mopf","\u{1D4C2}":"mscr","\u{1D510}":"Mfr","\u{1D544}":"Mopf",\u2133:"Mscr","\u{1D52B}":"nfr","\u{1D55F}":"nopf","\u{1D4C3}":"nscr",\u2115:"Nopf","\u{1D4A9}":"Nscr","\u{1D511}":"Nfr",\u0144:"nacute",\u0143:"Nacute",\u0148:"ncaron",\u0147:"Ncaron",\u00F1:"ntilde",\u00D1:"Ntilde",\u0146:"ncedil",\u0145:"Ncedil","\u2116":"numero",\u014B:"eng",\u014A:"ENG","\u{1D560}":"oopf","\u{1D52C}":"ofr",\u2134:"oscr","\u{1D4AA}":"Oscr","\u{1D512}":"Ofr","\u{1D546}":"Oopf",\u00BA:"ordm",\u00F3:"oacute",\u00D3:"Oacute",\u00F2:"ograve",\u00D2:"Ograve",\u00F4:"ocirc",\u00D4:"Ocirc",\u00F6:"ouml",\u00D6:"Ouml",\u0151:"odblac",\u0150:"Odblac",\u00F5:"otilde",\u00D5:"Otilde",\u00F8:"oslash",\u00D8:"Oslash",\u014D:"omacr",\u014C:"Omacr",\u0153:"oelig",\u0152:"OElig","\u{1D52D}":"pfr","\u{1D4C5}":"pscr","\u{1D561}":"popf",\u2119:"Popf","\u{1D513}":"Pfr","\u{1D4AB}":"Pscr","\u{1D562}":"qopf","\u{1D52E}":"qfr","\u{1D4C6}":"qscr","\u{1D4AC}":"Qscr","\u{1D514}":"Qfr",\u211A:"Qopf",\u0138:"kgreen","\u{1D52F}":"rfr","\u{1D563}":"ropf","\u{1D4C7}":"rscr",\u211B:"Rscr",\u211C:"Re",\u211D:"Ropf",\u0155:"racute",\u0154:"Racute",\u0159:"rcaron",\u0158:"Rcaron",\u0157:"rcedil",\u0156:"Rcedil","\u{1D564}":"sopf","\u{1D4C8}":"sscr","\u{1D530}":"sfr","\u{1D54A}":"Sopf","\u{1D516}":"Sfr","\u{1D4AE}":"Sscr","\u24C8":"oS",\u015B:"sacute",\u015A:"Sacute",\u015D:"scirc",\u015C:"Scirc",\u0161:"scaron",\u0160:"Scaron",\u015F:"scedil",\u015E:"Scedil",\u00DF:"szlig","\u{1D531}":"tfr","\u{1D4C9}":"tscr","\u{1D565}":"topf","\u{1D4AF}":"Tscr","\u{1D517}":"Tfr","\u{1D54B}":"Topf",\u0165:"tcaron",\u0164:"Tcaron",\u0163:"tcedil",\u0162:"Tcedil","\u2122":"trade",\u0167:"tstrok",\u0166:"Tstrok","\u{1D4CA}":"uscr","\u{1D566}":"uopf","\u{1D532}":"ufr","\u{1D54C}":"Uopf","\u{1D518}":"Ufr","\u{1D4B0}":"Uscr",\u00FA:"uacute",\u00DA:"Uacute",\u00F9:"ugrave",\u00D9:"Ugrave",\u016D:"ubreve",\u016C:"Ubreve",\u00FB:"ucirc",\u00DB:"Ucirc",\u016F:"uring",\u016E:"Uring",\u00FC:"uuml",\u00DC:"Uuml",\u0171:"udblac",\u0170:"Udblac",\u0169:"utilde",\u0168:"Utilde",\u0173:"uogon",\u0172:"Uogon",\u016B:"umacr",\u016A:"Umacr","\u{1D533}":"vfr","\u{1D567}":"vopf","\u{1D4CB}":"vscr","\u{1D519}":"Vfr","\u{1D54D}":"Vopf","\u{1D4B1}":"Vscr","\u{1D568}":"wopf","\u{1D4CC}":"wscr","\u{1D534}":"wfr","\u{1D4B2}":"Wscr","\u{1D54E}":"Wopf","\u{1D51A}":"Wfr",\u0175:"wcirc",\u0174:"Wcirc","\u{1D535}":"xfr","\u{1D4CD}":"xscr","\u{1D569}":"xopf","\u{1D54F}":"Xopf","\u{1D51B}":"Xfr","\u{1D4B3}":"Xscr","\u{1D536}":"yfr","\u{1D4CE}":"yscr","\u{1D56A}":"yopf","\u{1D4B4}":"Yscr","\u{1D51C}":"Yfr","\u{1D550}":"Yopf",\u00FD:"yacute",\u00DD:"Yacute",\u0177:"ycirc",\u0176:"Ycirc",\u00FF:"yuml",\u0178:"Yuml","\u{1D4CF}":"zscr","\u{1D537}":"zfr","\u{1D56B}":"zopf",\u2128:"Zfr",\u2124:"Zopf","\u{1D4B5}":"Zscr",\u017A:"zacute",\u0179:"Zacute",\u017E:"zcaron",\u017D:"Zcaron",\u017C:"zdot",\u017B:"Zdot",\u01B5:"imped",\u00FE:"thorn",\u00DE:"THORN",\u0149:"napos",\u03B1:"alpha",\u0391:"Alpha",\u03B2:"beta",\u0392:"Beta",\u03B3:"gamma",\u0393:"Gamma",\u03B4:"delta",\u0394:"Delta",\u03B5:"epsi","\u03F5":"epsiv",\u0395:"Epsilon",\u03DD:"gammad",\u03DC:"Gammad",\u03B6:"zeta",\u0396:"Zeta",\u03B7:"eta",\u0397:"Eta",\u03B8:"theta",\u03D1:"thetav",\u0398:"Theta",\u03B9:"iota",\u0399:"Iota",\u03BA:"kappa",\u03F0:"kappav",\u039A:"Kappa",\u03BB:"lambda",\u039B:"Lambda",\u03BC:"mu",\u00B5:"micro",\u039C:"Mu",\u03BD:"nu",\u039D:"Nu",\u03BE:"xi",\u039E:"Xi",\u03BF:"omicron",\u039F:"Omicron",\u03C0:"pi",\u03D6:"piv",\u03A0:"Pi",\u03C1:"rho",\u03F1:"rhov",\u03A1:"Rho",\u03C3:"sigma",\u03A3:"Sigma",\u03C2:"sigmaf",\u03C4:"tau",\u03A4:"Tau",\u03C5:"upsi",\u03A5:"Upsilon",\u03D2:"Upsi",\u03C6:"phi",\u03D5:"phiv",\u03A6:"Phi",\u03C7:"chi",\u03A7:"Chi",\u03C8:"psi",\u03A8:"Psi",\u03C9:"omega",\u03A9:"ohm",\u0430:"acy",\u0410:"Acy",\u0431:"bcy",\u0411:"Bcy",\u0432:"vcy",\u0412:"Vcy",\u0433:"gcy",\u0413:"Gcy",\u0453:"gjcy",\u0403:"GJcy",\u0434:"dcy",\u0414:"Dcy",\u0452:"djcy",\u0402:"DJcy",\u0435:"iecy",\u0415:"IEcy",\u0451:"iocy",\u0401:"IOcy",\u0454:"jukcy",\u0404:"Jukcy",\u0436:"zhcy",\u0416:"ZHcy",\u0437:"zcy",\u0417:"Zcy",\u0455:"dscy",\u0405:"DScy",\u0438:"icy",\u0418:"Icy",\u0456:"iukcy",\u0406:"Iukcy",\u0457:"yicy",\u0407:"YIcy",\u0439:"jcy",\u0419:"Jcy",\u0458:"jsercy",\u0408:"Jsercy",\u043A:"kcy",\u041A:"Kcy",\u045C:"kjcy",\u040C:"KJcy",\u043B:"lcy",\u041B:"Lcy",\u0459:"ljcy",\u0409:"LJcy",\u043C:"mcy",\u041C:"Mcy",\u043D:"ncy",\u041D:"Ncy",\u045A:"njcy",\u040A:"NJcy",\u043E:"ocy",\u041E:"Ocy",\u043F:"pcy",\u041F:"Pcy",\u0440:"rcy",\u0420:"Rcy",\u0441:"scy",\u0421:"Scy",\u0442:"tcy",\u0422:"Tcy",\u045B:"tshcy",\u040B:"TSHcy",\u0443:"ucy",\u0423:"Ucy",\u045E:"ubrcy",\u040E:"Ubrcy",\u0444:"fcy",\u0424:"Fcy",\u0445:"khcy",\u0425:"KHcy",\u0446:"tscy",\u0426:"TScy",\u0447:"chcy",\u0427:"CHcy",\u045F:"dzcy",\u040F:"DZcy",\u0448:"shcy",\u0428:"SHcy",\u0449:"shchcy",\u0429:"SHCHcy",\u044A:"hardcy",\u042A:"HARDcy",\u044B:"ycy",\u042B:"Ycy",\u044C:"softcy",\u042C:"SOFTcy",\u044D:"ecy",\u042D:"Ecy",\u044E:"yucy",\u042E:"YUcy",\u044F:"yacy",\u042F:"YAcy",\u2135:"aleph",\u2136:"beth",\u2137:"gimel",\u2138:"daleth"},s=/["&'<>`]/g,r={'"':"&quot;","&":"&amp;","'":"&#x27;","<":"&lt;",">":"&gt;","`":"&#x60;"},i=/&#(?:[xX][^a-fA-F0-9]|[^0-9xX])/,h=/[\0-\x08\x0B\x0E-\x1F\x7F-\x9F\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,v=/&(CounterClockwiseContourIntegral|DoubleLongLeftRightArrow|ClockwiseContourIntegral|NotNestedGreaterGreater|NotSquareSupersetEqual|DiacriticalDoubleAcute|NotRightTriangleEqual|NotSucceedsSlantEqual|NotPrecedesSlantEqual|CloseCurlyDoubleQuote|NegativeVeryThinSpace|DoubleContourIntegral|FilledVerySmallSquare|CapitalDifferentialD|OpenCurlyDoubleQuote|EmptyVerySmallSquare|NestedGreaterGreater|DoubleLongRightArrow|NotLeftTriangleEqual|NotGreaterSlantEqual|ReverseUpEquilibrium|DoubleLeftRightArrow|NotSquareSubsetEqual|NotDoubleVerticalBar|RightArrowLeftArrow|NotGreaterFullEqual|NotRightTriangleBar|SquareSupersetEqual|DownLeftRightVector|DoubleLongLeftArrow|leftrightsquigarrow|LeftArrowRightArrow|NegativeMediumSpace|blacktriangleright|RightDownVectorBar|PrecedesSlantEqual|RightDoubleBracket|SucceedsSlantEqual|NotLeftTriangleBar|RightTriangleEqual|SquareIntersection|RightDownTeeVector|ReverseEquilibrium|NegativeThickSpace|longleftrightarrow|Longleftrightarrow|LongLeftRightArrow|DownRightTeeVector|DownRightVectorBar|GreaterSlantEqual|SquareSubsetEqual|LeftDownVectorBar|LeftDoubleBracket|VerticalSeparator|rightleftharpoons|NotGreaterGreater|NotSquareSuperset|blacktriangleleft|blacktriangledown|NegativeThinSpace|LeftDownTeeVector|NotLessSlantEqual|leftrightharpoons|DoubleUpDownArrow|DoubleVerticalBar|LeftTriangleEqual|FilledSmallSquare|twoheadrightarrow|NotNestedLessLess|DownLeftTeeVector|DownLeftVectorBar|RightAngleBracket|NotTildeFullEqual|NotReverseElement|RightUpDownVector|DiacriticalTilde|NotSucceedsTilde|circlearrowright|NotPrecedesEqual|rightharpoondown|DoubleRightArrow|NotSucceedsEqual|NonBreakingSpace|NotRightTriangle|LessEqualGreater|RightUpTeeVector|LeftAngleBracket|GreaterFullEqual|DownArrowUpArrow|RightUpVectorBar|twoheadleftarrow|GreaterEqualLess|downharpoonright|RightTriangleBar|ntrianglerighteq|NotSupersetEqual|LeftUpDownVector|DiacriticalAcute|rightrightarrows|vartriangleright|UpArrowDownArrow|DiacriticalGrave|UnderParenthesis|EmptySmallSquare|LeftUpVectorBar|leftrightarrows|DownRightVector|downharpoonleft|trianglerighteq|ShortRightArrow|OverParenthesis|DoubleLeftArrow|DoubleDownArrow|NotSquareSubset|bigtriangledown|ntrianglelefteq|UpperRightArrow|curvearrowright|vartriangleleft|NotLeftTriangle|nleftrightarrow|LowerRightArrow|NotHumpDownHump|NotGreaterTilde|rightthreetimes|LeftUpTeeVector|NotGreaterEqual|straightepsilon|LeftTriangleBar|rightsquigarrow|ContourIntegral|rightleftarrows|CloseCurlyQuote|RightDownVector|LeftRightVector|nLeftrightarrow|leftharpoondown|circlearrowleft|SquareSuperset|OpenCurlyQuote|hookrightarrow|HorizontalLine|DiacriticalDot|NotLessGreater|ntriangleright|DoubleRightTee|InvisibleComma|InvisibleTimes|LowerLeftArrow|DownLeftVector|NotSubsetEqual|curvearrowleft|trianglelefteq|NotVerticalBar|TildeFullEqual|downdownarrows|NotGreaterLess|RightTeeVector|ZeroWidthSpace|looparrowright|LongRightArrow|doublebarwedge|ShortLeftArrow|ShortDownArrow|RightVectorBar|GreaterGreater|ReverseElement|rightharpoonup|LessSlantEqual|leftthreetimes|upharpoonright|rightarrowtail|LeftDownVector|Longrightarrow|NestedLessLess|UpperLeftArrow|nshortparallel|leftleftarrows|leftrightarrow|Leftrightarrow|LeftRightArrow|longrightarrow|upharpoonleft|RightArrowBar|ApplyFunction|LeftTeeVector|leftarrowtail|NotEqualTilde|varsubsetneqq|varsupsetneqq|RightTeeArrow|SucceedsEqual|SucceedsTilde|LeftVectorBar|SupersetEqual|hookleftarrow|DifferentialD|VerticalTilde|VeryThinSpace|blacktriangle|bigtriangleup|LessFullEqual|divideontimes|leftharpoonup|UpEquilibrium|ntriangleleft|RightTriangle|measuredangle|shortparallel|longleftarrow|Longleftarrow|LongLeftArrow|DoubleLeftTee|Poincareplane|PrecedesEqual|triangleright|DoubleUpArrow|RightUpVector|fallingdotseq|looparrowleft|PrecedesTilde|NotTildeEqual|NotTildeTilde|smallsetminus|Proportional|triangleleft|triangledown|UnderBracket|NotHumpEqual|exponentiale|ExponentialE|NotLessTilde|HilbertSpace|RightCeiling|blacklozenge|varsupsetneq|HumpDownHump|GreaterEqual|VerticalLine|LeftTeeArrow|NotLessEqual|DownTeeArrow|LeftTriangle|varsubsetneq|Intersection|NotCongruent|DownArrowBar|LeftUpVector|LeftArrowBar|risingdotseq|GreaterTilde|RoundImplies|SquareSubset|ShortUpArrow|NotSuperset|quaternions|precnapprox|backepsilon|preccurlyeq|OverBracket|blacksquare|MediumSpace|VerticalBar|circledcirc|circleddash|CircleMinus|CircleTimes|LessGreater|curlyeqprec|curlyeqsucc|diamondsuit|UpDownArrow|Updownarrow|RuleDelayed|Rrightarrow|updownarrow|RightVector|nRightarrow|nrightarrow|eqslantless|LeftCeiling|Equilibrium|SmallCircle|expectation|NotSucceeds|thickapprox|GreaterLess|SquareUnion|NotPrecedes|NotLessLess|straightphi|succnapprox|succcurlyeq|SubsetEqual|sqsupseteq|Proportion|Laplacetrf|ImaginaryI|supsetneqq|NotGreater|gtreqqless|NotElement|ThickSpace|TildeEqual|TildeTilde|Fouriertrf|rmoustache|EqualTilde|eqslantgtr|UnderBrace|LeftVector|UpArrowBar|nLeftarrow|nsubseteqq|subsetneqq|nsupseteqq|nleftarrow|succapprox|lessapprox|UpTeeArrow|upuparrows|curlywedge|lesseqqgtr|varepsilon|varnothing|RightFloor|complement|CirclePlus|sqsubseteq|Lleftarrow|circledast|RightArrow|Rightarrow|rightarrow|lmoustache|Bernoullis|precapprox|mapstoleft|mapstodown|longmapsto|dotsquare|downarrow|DoubleDot|nsubseteq|supsetneq|leftarrow|nsupseteq|subsetneq|ThinSpace|ngeqslant|subseteqq|HumpEqual|NotSubset|triangleq|NotCupCap|lesseqgtr|heartsuit|TripleDot|Leftarrow|Coproduct|Congruent|varpropto|complexes|gvertneqq|LeftArrow|LessTilde|supseteqq|MinusPlus|CircleDot|nleqslant|NotExists|gtreqless|nparallel|UnionPlus|LeftFloor|checkmark|CenterDot|centerdot|Mellintrf|gtrapprox|bigotimes|OverBrace|spadesuit|therefore|pitchfork|rationals|PlusMinus|Backslash|Therefore|DownBreve|backsimeq|backprime|DownArrow|nshortmid|Downarrow|lvertneqq|eqvparsl|imagline|imagpart|infintie|integers|Integral|intercal|LessLess|Uarrocir|intlarhk|sqsupset|angmsdaf|sqsubset|llcorner|vartheta|cupbrcap|lnapprox|Superset|SuchThat|succnsim|succneqq|angmsdag|biguplus|curlyvee|trpezium|Succeeds|NotTilde|bigwedge|angmsdah|angrtvbd|triminus|cwconint|fpartint|lrcorner|smeparsl|subseteq|urcorner|lurdshar|laemptyv|DDotrahd|approxeq|ldrushar|awconint|mapstoup|backcong|shortmid|triangle|geqslant|gesdotol|timesbar|circledR|circledS|setminus|multimap|naturals|scpolint|ncongdot|RightTee|boxminus|gnapprox|boxtimes|andslope|thicksim|angmsdaa|varsigma|cirfnint|rtriltri|angmsdab|rppolint|angmsdac|barwedge|drbkarow|clubsuit|thetasym|bsolhsub|capbrcup|dzigrarr|doteqdot|DotEqual|dotminus|UnderBar|NotEqual|realpart|otimesas|ulcorner|hksearow|hkswarow|parallel|PartialD|elinters|emptyset|plusacir|bbrktbrk|angmsdad|pointint|bigoplus|angmsdae|Precedes|bigsqcup|varkappa|notindot|supseteq|precneqq|precnsim|profalar|profline|profsurf|leqslant|lesdotor|raemptyv|subplus|notnivb|notnivc|subrarr|zigrarr|vzigzag|submult|subedot|Element|between|cirscir|larrbfs|larrsim|lotimes|lbrksld|lbrkslu|lozenge|ldrdhar|dbkarow|bigcirc|epsilon|simrarr|simplus|ltquest|Epsilon|luruhar|gtquest|maltese|npolint|eqcolon|npreceq|bigodot|ddagger|gtrless|bnequiv|harrcir|ddotseq|equivDD|backsim|demptyv|nsqsube|nsqsupe|Upsilon|nsubset|upsilon|minusdu|nsucceq|swarrow|nsupset|coloneq|searrow|boxplus|napprox|natural|asympeq|alefsym|congdot|nearrow|bigstar|diamond|supplus|tritime|LeftTee|nvinfin|triplus|NewLine|nvltrie|nvrtrie|nwarrow|nexists|Diamond|ruluhar|Implies|supmult|angzarr|suplarr|suphsub|questeq|because|digamma|Because|olcross|bemptyv|omicron|Omicron|rotimes|NoBreak|intprod|angrtvb|orderof|uwangle|suphsol|lesdoto|orslope|DownTee|realine|cudarrl|rdldhar|OverBar|supedot|lessdot|supdsub|topfork|succsim|rbrkslu|rbrksld|pertenk|cudarrr|isindot|planckh|lessgtr|pluscir|gesdoto|plussim|plustwo|lesssim|cularrp|rarrsim|Cayleys|notinva|notinvb|notinvc|UpArrow|Uparrow|uparrow|NotLess|dwangle|precsim|Product|curarrm|Cconint|dotplus|rarrbfs|ccupssm|Cedilla|cemptyv|notniva|quatint|frac35|frac38|frac45|frac56|frac58|frac78|tridot|xoplus|gacute|gammad|Gammad|lfisht|lfloor|bigcup|sqsupe|gbreve|Gbreve|lharul|sqsube|sqcups|Gcedil|apacir|llhard|lmidot|Lmidot|lmoust|andand|sqcaps|approx|Abreve|spades|circeq|tprime|divide|topcir|Assign|topbot|gesdot|divonx|xuplus|timesd|gesles|atilde|solbar|SOFTcy|loplus|timesb|lowast|lowbar|dlcorn|dlcrop|softcy|dollar|lparlt|thksim|lrhard|Atilde|lsaquo|smashp|bigvee|thinsp|wreath|bkarow|lsquor|lstrok|Lstrok|lthree|ltimes|ltlarr|DotDot|simdot|ltrPar|weierp|xsqcup|angmsd|sigmav|sigmaf|zeetrf|Zcaron|zcaron|mapsto|vsupne|thetav|cirmid|marker|mcomma|Zacute|vsubnE|there4|gtlPar|vsubne|bottom|gtrarr|SHCHcy|shchcy|midast|midcir|middot|minusb|minusd|gtrdot|bowtie|sfrown|mnplus|models|colone|seswar|Colone|mstpos|searhk|gtrsim|nacute|Nacute|boxbox|telrec|hairsp|Tcedil|nbumpe|scnsim|ncaron|Ncaron|ncedil|Ncedil|hamilt|Scedil|nearhk|hardcy|HARDcy|tcedil|Tcaron|commat|nequiv|nesear|tcaron|target|hearts|nexist|varrho|scedil|Scaron|scaron|hellip|Sacute|sacute|hercon|swnwar|compfn|rtimes|rthree|rsquor|rsaquo|zacute|wedgeq|homtht|barvee|barwed|Barwed|rpargt|horbar|conint|swarhk|roplus|nltrie|hslash|hstrok|Hstrok|rmoust|Conint|bprime|hybull|hyphen|iacute|Iacute|supsup|supsub|supsim|varphi|coprod|brvbar|agrave|Supset|supset|igrave|Igrave|notinE|Agrave|iiiint|iinfin|copysr|wedbar|Verbar|vangrt|becaus|incare|verbar|inodot|bullet|drcorn|intcal|drcrop|cularr|vellip|Utilde|bumpeq|cupcap|dstrok|Dstrok|CupCap|cupcup|cupdot|eacute|Eacute|supdot|iquest|easter|ecaron|Ecaron|ecolon|isinsv|utilde|itilde|Itilde|curarr|succeq|Bumpeq|cacute|ulcrop|nparsl|Cacute|nprcue|egrave|Egrave|nrarrc|nrarrw|subsup|subsub|nrtrie|jsercy|nsccue|Jsercy|kappav|kcedil|Kcedil|subsim|ulcorn|nsimeq|egsdot|veebar|kgreen|capand|elsdot|Subset|subset|curren|aacute|lacute|Lacute|emptyv|ntilde|Ntilde|lagran|lambda|Lambda|capcap|Ugrave|langle|subdot|emsp13|numero|emsp14|nvdash|nvDash|nVdash|nVDash|ugrave|ufisht|nvHarr|larrfs|nvlArr|larrhk|larrlp|larrpl|nvrArr|Udblac|nwarhk|larrtl|nwnear|oacute|Oacute|latail|lAtail|sstarf|lbrace|odblac|Odblac|lbrack|udblac|odsold|eparsl|lcaron|Lcaron|ograve|Ograve|lcedil|Lcedil|Aacute|ssmile|ssetmn|squarf|ldquor|capcup|ominus|cylcty|rharul|eqcirc|dagger|rfloor|rfisht|Dagger|daleth|equals|origof|capdot|equest|dcaron|Dcaron|rdquor|oslash|Oslash|otilde|Otilde|otimes|Otimes|urcrop|Ubreve|ubreve|Yacute|Uacute|uacute|Rcedil|rcedil|urcorn|parsim|Rcaron|Vdashl|rcaron|Tstrok|percnt|period|permil|Exists|yacute|rbrack|rbrace|phmmat|ccaron|Ccaron|planck|ccedil|plankv|tstrok|female|plusdo|plusdu|ffilig|plusmn|ffllig|Ccedil|rAtail|dfisht|bernou|ratail|Rarrtl|rarrtl|angsph|rarrpl|rarrlp|rarrhk|xwedge|xotime|forall|ForAll|Vvdash|vsupnE|preceq|bigcap|frac12|frac13|frac14|primes|rarrfs|prnsim|frac15|Square|frac16|square|lesdot|frac18|frac23|propto|prurel|rarrap|rangle|puncsp|frac25|Racute|qprime|racute|lesges|frac34|abreve|AElig|eqsim|utdot|setmn|urtri|Equal|Uring|seArr|uring|searr|dashv|Dashv|mumap|nabla|iogon|Iogon|sdote|sdotb|scsim|napid|napos|equiv|natur|Acirc|dblac|erarr|nbump|iprod|erDot|ucirc|awint|esdot|angrt|ncong|isinE|scnap|Scirc|scirc|ndash|isins|Ubrcy|nearr|neArr|isinv|nedot|ubrcy|acute|Ycirc|iukcy|Iukcy|xutri|nesim|caret|jcirc|Jcirc|caron|twixt|ddarr|sccue|exist|jmath|sbquo|ngeqq|angst|ccaps|lceil|ngsim|UpTee|delta|Delta|rtrif|nharr|nhArr|nhpar|rtrie|jukcy|Jukcy|kappa|rsquo|Kappa|nlarr|nlArr|TSHcy|rrarr|aogon|Aogon|fflig|xrarr|tshcy|ccirc|nleqq|filig|upsih|nless|dharl|nlsim|fjlig|ropar|nltri|dharr|robrk|roarr|fllig|fltns|roang|rnmid|subnE|subne|lAarr|trisb|Ccirc|acirc|ccups|blank|VDash|forkv|Vdash|langd|cedil|blk12|blk14|laquo|strns|diams|notin|vDash|larrb|blk34|block|disin|uplus|vdash|vBarv|aelig|starf|Wedge|check|xrArr|lates|lbarr|lBarr|notni|lbbrk|bcong|frasl|lbrke|frown|vrtri|vprop|vnsup|gamma|Gamma|wedge|xodot|bdquo|srarr|doteq|ldquo|boxdl|boxdL|gcirc|Gcirc|boxDl|boxDL|boxdr|boxdR|boxDr|TRADE|trade|rlhar|boxDR|vnsub|npart|vltri|rlarr|boxhd|boxhD|nprec|gescc|nrarr|nrArr|boxHd|boxHD|boxhu|boxhU|nrtri|boxHu|clubs|boxHU|times|colon|Colon|gimel|xlArr|Tilde|nsime|tilde|nsmid|nspar|THORN|thorn|xlarr|nsube|nsubE|thkap|xhArr|comma|nsucc|boxul|boxuL|nsupe|nsupE|gneqq|gnsim|boxUl|boxUL|grave|boxur|boxuR|boxUr|boxUR|lescc|angle|bepsi|boxvh|varpi|boxvH|numsp|Theta|gsime|gsiml|theta|boxVh|boxVH|boxvl|gtcir|gtdot|boxvL|boxVl|boxVL|crarr|cross|Cross|nvsim|boxvr|nwarr|nwArr|sqsup|dtdot|Uogon|lhard|lharu|dtrif|ocirc|Ocirc|lhblk|duarr|odash|sqsub|Hacek|sqcup|llarr|duhar|oelig|OElig|ofcir|boxvR|uogon|lltri|boxVr|csube|uuarr|ohbar|csupe|ctdot|olarr|olcir|harrw|oline|sqcap|omacr|Omacr|omega|Omega|boxVR|aleph|lneqq|lnsim|loang|loarr|rharu|lobrk|hcirc|operp|oplus|rhard|Hcirc|orarr|Union|order|ecirc|Ecirc|cuepr|szlig|cuesc|breve|reals|eDDot|Breve|hoarr|lopar|utrif|rdquo|Umacr|umacr|efDot|swArr|ultri|alpha|rceil|ovbar|swarr|Wcirc|wcirc|smtes|smile|bsemi|lrarr|aring|parsl|lrhar|bsime|uhblk|lrtri|cupor|Aring|uharr|uharl|slarr|rbrke|bsolb|lsime|rbbrk|RBarr|lsimg|phone|rBarr|rbarr|icirc|lsquo|Icirc|emacr|Emacr|ratio|simne|plusb|simlE|simgE|simeq|pluse|ltcir|ltdot|empty|xharr|xdtri|iexcl|Alpha|ltrie|rarrw|pound|ltrif|xcirc|bumpe|prcue|bumpE|asymp|amacr|cuvee|Sigma|sigma|iiint|udhar|iiota|ijlig|IJlig|supnE|imacr|Imacr|prime|Prime|image|prnap|eogon|Eogon|rarrc|mdash|mDDot|cuwed|imath|supne|imped|Amacr|udarr|prsim|micro|rarrb|cwint|raquo|infin|eplus|range|rangd|Ucirc|radic|minus|amalg|veeeq|rAarr|epsiv|ycirc|quest|sharp|quot|zwnj|Qscr|race|qscr|Qopf|qopf|qint|rang|Rang|Zscr|zscr|Zopf|zopf|rarr|rArr|Rarr|Pscr|pscr|prop|prod|prnE|prec|ZHcy|zhcy|prap|Zeta|zeta|Popf|popf|Zdot|plus|zdot|Yuml|yuml|phiv|YUcy|yucy|Yscr|yscr|perp|Yopf|yopf|part|para|YIcy|Ouml|rcub|yicy|YAcy|rdca|ouml|osol|Oscr|rdsh|yacy|real|oscr|xvee|andd|rect|andv|Xscr|oror|ordm|ordf|xscr|ange|aopf|Aopf|rHar|Xopf|opar|Oopf|xopf|xnis|rhov|oopf|omid|xmap|oint|apid|apos|ogon|ascr|Ascr|odot|odiv|xcup|xcap|ocir|oast|nvlt|nvle|nvgt|nvge|nvap|Wscr|wscr|auml|ntlg|ntgl|nsup|nsub|nsim|Nscr|nscr|nsce|Wopf|ring|npre|wopf|npar|Auml|Barv|bbrk|Nopf|nopf|nmid|nLtv|beta|ropf|Ropf|Beta|beth|nles|rpar|nleq|bnot|bNot|nldr|NJcy|rscr|Rscr|Vscr|vscr|rsqb|njcy|bopf|nisd|Bopf|rtri|Vopf|nGtv|ngtr|vopf|boxh|boxH|boxv|nges|ngeq|boxV|bscr|scap|Bscr|bsim|Vert|vert|bsol|bull|bump|caps|cdot|ncup|scnE|ncap|nbsp|napE|Cdot|cent|sdot|Vbar|nang|vBar|chcy|Mscr|mscr|sect|semi|CHcy|Mopf|mopf|sext|circ|cire|mldr|mlcp|cirE|comp|shcy|SHcy|vArr|varr|cong|copf|Copf|copy|COPY|malt|male|macr|lvnE|cscr|ltri|sime|ltcc|simg|Cscr|siml|csub|Uuml|lsqb|lsim|uuml|csup|Lscr|lscr|utri|smid|lpar|cups|smte|lozf|darr|Lopf|Uscr|solb|lopf|sopf|Sopf|lneq|uscr|spar|dArr|lnap|Darr|dash|Sqrt|LJcy|ljcy|lHar|dHar|Upsi|upsi|diam|lesg|djcy|DJcy|leqq|dopf|Dopf|dscr|Dscr|dscy|ldsh|ldca|squf|DScy|sscr|Sscr|dsol|lcub|late|star|Star|Uopf|Larr|lArr|larr|uopf|dtri|dzcy|sube|subE|Lang|lang|Kscr|kscr|Kopf|kopf|KJcy|kjcy|KHcy|khcy|DZcy|ecir|edot|eDot|Jscr|jscr|succ|Jopf|jopf|Edot|uHar|emsp|ensp|Iuml|iuml|eopf|isin|Iscr|iscr|Eopf|epar|sung|epsi|escr|sup1|sup2|sup3|Iota|iota|supe|supE|Iopf|iopf|IOcy|iocy|Escr|esim|Esim|imof|Uarr|QUOT|uArr|uarr|euml|IEcy|iecy|Idot|Euml|euro|excl|Hscr|hscr|Hopf|hopf|TScy|tscy|Tscr|hbar|tscr|flat|tbrk|fnof|hArr|harr|half|fopf|Fopf|tdot|gvnE|fork|trie|gtcc|fscr|Fscr|gdot|gsim|Gscr|gscr|Gopf|gopf|gneq|Gdot|tosa|gnap|Topf|topf|geqq|toea|GJcy|gjcy|tint|gesl|mid|Sfr|ggg|top|ges|gla|glE|glj|geq|gne|gEl|gel|gnE|Gcy|gcy|gap|Tfr|tfr|Tcy|tcy|Hat|Tau|Ffr|tau|Tab|hfr|Hfr|ffr|Fcy|fcy|icy|Icy|iff|ETH|eth|ifr|Ifr|Eta|eta|int|Int|Sup|sup|ucy|Ucy|Sum|sum|jcy|ENG|ufr|Ufr|eng|Jcy|jfr|els|ell|egs|Efr|efr|Jfr|uml|kcy|Kcy|Ecy|ecy|kfr|Kfr|lap|Sub|sub|lat|lcy|Lcy|leg|Dot|dot|lEg|leq|les|squ|div|die|lfr|Lfr|lgE|Dfr|dfr|Del|deg|Dcy|dcy|lne|lnE|sol|loz|smt|Cup|lrm|cup|lsh|Lsh|sim|shy|map|Map|mcy|Mcy|mfr|Mfr|mho|gfr|Gfr|sfr|cir|Chi|chi|nap|Cfr|vcy|Vcy|cfr|Scy|scy|ncy|Ncy|vee|Vee|Cap|cap|nfr|scE|sce|Nfr|nge|ngE|nGg|vfr|Vfr|ngt|bot|nGt|nis|niv|Rsh|rsh|nle|nlE|bne|Bfr|bfr|nLl|nlt|nLt|Bcy|bcy|not|Not|rlm|wfr|Wfr|npr|nsc|num|ocy|ast|Ocy|ofr|xfr|Xfr|Ofr|ogt|ohm|apE|olt|Rho|ape|rho|Rfr|rfr|ord|REG|ang|reg|orv|And|and|AMP|Rcy|amp|Afr|ycy|Ycy|yen|yfr|Yfr|rcy|par|pcy|Pcy|pfr|Pfr|phi|Phi|afr|Acy|acy|zcy|Zcy|piv|acE|acd|zfr|Zfr|pre|prE|psi|Psi|qfr|Qfr|zwj|Or|ge|Gg|gt|gg|el|oS|lt|Lt|LT|Re|lg|gl|eg|ne|Im|it|le|DD|wp|wr|nu|Nu|dd|lE|Sc|sc|pi|Pi|ee|af|ll|Ll|rx|gE|xi|pm|Xi|ic|pr|Pr|in|ni|mp|mu|ac|Mu|or|ap|Gt|GT|ii);|&(Aacute|Agrave|Atilde|Ccedil|Eacute|Egrave|Iacute|Igrave|Ntilde|Oacute|Ograve|Oslash|Otilde|Uacute|Ugrave|Yacute|aacute|agrave|atilde|brvbar|ccedil|curren|divide|eacute|egrave|frac12|frac14|frac34|iacute|igrave|iquest|middot|ntilde|oacute|ograve|oslash|otilde|plusmn|uacute|ugrave|yacute|AElig|Acirc|Aring|Ecirc|Icirc|Ocirc|THORN|Ucirc|acirc|acute|aelig|aring|cedil|ecirc|icirc|iexcl|laquo|micro|ocirc|pound|raquo|szlig|thorn|times|ucirc|Auml|COPY|Euml|Iuml|Ouml|QUOT|Uuml|auml|cent|copy|euml|iuml|macr|nbsp|ordf|ordm|ouml|para|quot|sect|sup1|sup2|sup3|uuml|yuml|AMP|ETH|REG|amp|deg|eth|not|reg|shy|uml|yen|GT|LT|gt|lt)(?!;)([=a-zA-Z0-9]?)|&#([0-9]+)(;?)|&#[xX]([a-fA-F0-9]+)(;?)|&([0-9a-zA-Z]+)/g,j={aacute:"\xE1",Aacute:"\xC1",abreve:"\u0103",Abreve:"\u0102",ac:"\u223E",acd:"\u223F",acE:"\u223E\u0333",acirc:"\xE2",Acirc:"\xC2",acute:"\xB4",acy:"\u0430",Acy:"\u0410",aelig:"\xE6",AElig:"\xC6",af:"\u2061",afr:"\u{1D51E}",Afr:"\u{1D504}",agrave:"\xE0",Agrave:"\xC0",alefsym:"\u2135",aleph:"\u2135",alpha:"\u03B1",Alpha:"\u0391",amacr:"\u0101",Amacr:"\u0100",amalg:"\u2A3F",amp:"&",AMP:"&",and:"\u2227",And:"\u2A53",andand:"\u2A55",andd:"\u2A5C",andslope:"\u2A58",andv:"\u2A5A",ang:"\u2220",ange:"\u29A4",angle:"\u2220",angmsd:"\u2221",angmsdaa:"\u29A8",angmsdab:"\u29A9",angmsdac:"\u29AA",angmsdad:"\u29AB",angmsdae:"\u29AC",angmsdaf:"\u29AD",angmsdag:"\u29AE",angmsdah:"\u29AF",angrt:"\u221F",angrtvb:"\u22BE",angrtvbd:"\u299D",angsph:"\u2222",angst:"\xC5",angzarr:"\u237C",aogon:"\u0105",Aogon:"\u0104",aopf:"\u{1D552}",Aopf:"\u{1D538}",ap:"\u2248",apacir:"\u2A6F",ape:"\u224A",apE:"\u2A70",apid:"\u224B",apos:"'",ApplyFunction:"\u2061",approx:"\u2248",approxeq:"\u224A",aring:"\xE5",Aring:"\xC5",ascr:"\u{1D4B6}",Ascr:"\u{1D49C}",Assign:"\u2254",ast:"*",asymp:"\u2248",asympeq:"\u224D",atilde:"\xE3",Atilde:"\xC3",auml:"\xE4",Auml:"\xC4",awconint:"\u2233",awint:"\u2A11",backcong:"\u224C",backepsilon:"\u03F6",backprime:"\u2035",backsim:"\u223D",backsimeq:"\u22CD",Backslash:"\u2216",Barv:"\u2AE7",barvee:"\u22BD",barwed:"\u2305",Barwed:"\u2306",barwedge:"\u2305",bbrk:"\u23B5",bbrktbrk:"\u23B6",bcong:"\u224C",bcy:"\u0431",Bcy:"\u0411",bdquo:"\u201E",becaus:"\u2235",because:"\u2235",Because:"\u2235",bemptyv:"\u29B0",bepsi:"\u03F6",bernou:"\u212C",Bernoullis:"\u212C",beta:"\u03B2",Beta:"\u0392",beth:"\u2136",between:"\u226C",bfr:"\u{1D51F}",Bfr:"\u{1D505}",bigcap:"\u22C2",bigcirc:"\u25EF",bigcup:"\u22C3",bigodot:"\u2A00",bigoplus:"\u2A01",bigotimes:"\u2A02",bigsqcup:"\u2A06",bigstar:"\u2605",bigtriangledown:"\u25BD",bigtriangleup:"\u25B3",biguplus:"\u2A04",bigvee:"\u22C1",bigwedge:"\u22C0",bkarow:"\u290D",blacklozenge:"\u29EB",blacksquare:"\u25AA",blacktriangle:"\u25B4",blacktriangledown:"\u25BE",blacktriangleleft:"\u25C2",blacktriangleright:"\u25B8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20E5",bnequiv:"\u2261\u20E5",bnot:"\u2310",bNot:"\u2AED",bopf:"\u{1D553}",Bopf:"\u{1D539}",bot:"\u22A5",bottom:"\u22A5",bowtie:"\u22C8",boxbox:"\u29C9",boxdl:"\u2510",boxdL:"\u2555",boxDl:"\u2556",boxDL:"\u2557",boxdr:"\u250C",boxdR:"\u2552",boxDr:"\u2553",boxDR:"\u2554",boxh:"\u2500",boxH:"\u2550",boxhd:"\u252C",boxhD:"\u2565",boxHd:"\u2564",boxHD:"\u2566",boxhu:"\u2534",boxhU:"\u2568",boxHu:"\u2567",boxHU:"\u2569",boxminus:"\u229F",boxplus:"\u229E",boxtimes:"\u22A0",boxul:"\u2518",boxuL:"\u255B",boxUl:"\u255C",boxUL:"\u255D",boxur:"\u2514",boxuR:"\u2558",boxUr:"\u2559",boxUR:"\u255A",boxv:"\u2502",boxV:"\u2551",boxvh:"\u253C",boxvH:"\u256A",boxVh:"\u256B",boxVH:"\u256C",boxvl:"\u2524",boxvL:"\u2561",boxVl:"\u2562",boxVL:"\u2563",boxvr:"\u251C",boxvR:"\u255E",boxVr:"\u255F",boxVR:"\u2560",bprime:"\u2035",breve:"\u02D8",Breve:"\u02D8",brvbar:"\xA6",bscr:"\u{1D4B7}",Bscr:"\u212C",bsemi:"\u204F",bsim:"\u223D",bsime:"\u22CD",bsol:"\\",bsolb:"\u29C5",bsolhsub:"\u27C8",bull:"\u2022",bullet:"\u2022",bump:"\u224E",bumpe:"\u224F",bumpE:"\u2AAE",bumpeq:"\u224F",Bumpeq:"\u224E",cacute:"\u0107",Cacute:"\u0106",cap:"\u2229",Cap:"\u22D2",capand:"\u2A44",capbrcup:"\u2A49",capcap:"\u2A4B",capcup:"\u2A47",capdot:"\u2A40",CapitalDifferentialD:"\u2145",caps:"\u2229\uFE00",caret:"\u2041",caron:"\u02C7",Cayleys:"\u212D",ccaps:"\u2A4D",ccaron:"\u010D",Ccaron:"\u010C",ccedil:"\xE7",Ccedil:"\xC7",ccirc:"\u0109",Ccirc:"\u0108",Cconint:"\u2230",ccups:"\u2A4C",ccupssm:"\u2A50",cdot:"\u010B",Cdot:"\u010A",cedil:"\xB8",Cedilla:"\xB8",cemptyv:"\u29B2",cent:"\xA2",centerdot:"\xB7",CenterDot:"\xB7",cfr:"\u{1D520}",Cfr:"\u212D",chcy:"\u0447",CHcy:"\u0427",check:"\u2713",checkmark:"\u2713",chi:"\u03C7",Chi:"\u03A7",cir:"\u25CB",circ:"\u02C6",circeq:"\u2257",circlearrowleft:"\u21BA",circlearrowright:"\u21BB",circledast:"\u229B",circledcirc:"\u229A",circleddash:"\u229D",CircleDot:"\u2299",circledR:"\xAE",circledS:"\u24C8",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",cire:"\u2257",cirE:"\u29C3",cirfnint:"\u2A10",cirmid:"\u2AEF",cirscir:"\u29C2",ClockwiseContourIntegral:"\u2232",CloseCurlyDoubleQuote:"\u201D",CloseCurlyQuote:"\u2019",clubs:"\u2663",clubsuit:"\u2663",colon:":",Colon:"\u2237",colone:"\u2254",Colone:"\u2A74",coloneq:"\u2254",comma:",",commat:"@",comp:"\u2201",compfn:"\u2218",complement:"\u2201",complexes:"\u2102",cong:"\u2245",congdot:"\u2A6D",Congruent:"\u2261",conint:"\u222E",Conint:"\u222F",ContourIntegral:"\u222E",copf:"\u{1D554}",Copf:"\u2102",coprod:"\u2210",Coproduct:"\u2210",copy:"\xA9",COPY:"\xA9",copysr:"\u2117",CounterClockwiseContourIntegral:"\u2233",crarr:"\u21B5",cross:"\u2717",Cross:"\u2A2F",cscr:"\u{1D4B8}",Cscr:"\u{1D49E}",csub:"\u2ACF",csube:"\u2AD1",csup:"\u2AD0",csupe:"\u2AD2",ctdot:"\u22EF",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22DE",cuesc:"\u22DF",cularr:"\u21B6",cularrp:"\u293D",cup:"\u222A",Cup:"\u22D3",cupbrcap:"\u2A48",cupcap:"\u2A46",CupCap:"\u224D",cupcup:"\u2A4A",cupdot:"\u228D",cupor:"\u2A45",cups:"\u222A\uFE00",curarr:"\u21B7",curarrm:"\u293C",curlyeqprec:"\u22DE",curlyeqsucc:"\u22DF",curlyvee:"\u22CE",curlywedge:"\u22CF",curren:"\xA4",curvearrowleft:"\u21B6",curvearrowright:"\u21B7",cuvee:"\u22CE",cuwed:"\u22CF",cwconint:"\u2232",cwint:"\u2231",cylcty:"\u232D",dagger:"\u2020",Dagger:"\u2021",daleth:"\u2138",darr:"\u2193",dArr:"\u21D3",Darr:"\u21A1",dash:"\u2010",dashv:"\u22A3",Dashv:"\u2AE4",dbkarow:"\u290F",dblac:"\u02DD",dcaron:"\u010F",Dcaron:"\u010E",dcy:"\u0434",Dcy:"\u0414",dd:"\u2146",DD:"\u2145",ddagger:"\u2021",ddarr:"\u21CA",DDotrahd:"\u2911",ddotseq:"\u2A77",deg:"\xB0",Del:"\u2207",delta:"\u03B4",Delta:"\u0394",demptyv:"\u29B1",dfisht:"\u297F",dfr:"\u{1D521}",Dfr:"\u{1D507}",dHar:"\u2965",dharl:"\u21C3",dharr:"\u21C2",DiacriticalAcute:"\xB4",DiacriticalDot:"\u02D9",DiacriticalDoubleAcute:"\u02DD",DiacriticalGrave:"`",DiacriticalTilde:"\u02DC",diam:"\u22C4",diamond:"\u22C4",Diamond:"\u22C4",diamondsuit:"\u2666",diams:"\u2666",die:"\xA8",DifferentialD:"\u2146",digamma:"\u03DD",disin:"\u22F2",div:"\xF7",divide:"\xF7",divideontimes:"\u22C7",divonx:"\u22C7",djcy:"\u0452",DJcy:"\u0402",dlcorn:"\u231E",dlcrop:"\u230D",dollar:"$",dopf:"\u{1D555}",Dopf:"\u{1D53B}",dot:"\u02D9",Dot:"\xA8",DotDot:"\u20DC",doteq:"\u2250",doteqdot:"\u2251",DotEqual:"\u2250",dotminus:"\u2238",dotplus:"\u2214",dotsquare:"\u22A1",doublebarwedge:"\u2306",DoubleContourIntegral:"\u222F",DoubleDot:"\xA8",DoubleDownArrow:"\u21D3",DoubleLeftArrow:"\u21D0",DoubleLeftRightArrow:"\u21D4",DoubleLeftTee:"\u2AE4",DoubleLongLeftArrow:"\u27F8",DoubleLongLeftRightArrow:"\u27FA",DoubleLongRightArrow:"\u27F9",DoubleRightArrow:"\u21D2",DoubleRightTee:"\u22A8",DoubleUpArrow:"\u21D1",DoubleUpDownArrow:"\u21D5",DoubleVerticalBar:"\u2225",downarrow:"\u2193",Downarrow:"\u21D3",DownArrow:"\u2193",DownArrowBar:"\u2913",DownArrowUpArrow:"\u21F5",DownBreve:"\u0311",downdownarrows:"\u21CA",downharpoonleft:"\u21C3",downharpoonright:"\u21C2",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295E",DownLeftVector:"\u21BD",DownLeftVectorBar:"\u2956",DownRightTeeVector:"\u295F",DownRightVector:"\u21C1",DownRightVectorBar:"\u2957",DownTee:"\u22A4",DownTeeArrow:"\u21A7",drbkarow:"\u2910",drcorn:"\u231F",drcrop:"\u230C",dscr:"\u{1D4B9}",Dscr:"\u{1D49F}",dscy:"\u0455",DScy:"\u0405",dsol:"\u29F6",dstrok:"\u0111",Dstrok:"\u0110",dtdot:"\u22F1",dtri:"\u25BF",dtrif:"\u25BE",duarr:"\u21F5",duhar:"\u296F",dwangle:"\u29A6",dzcy:"\u045F",DZcy:"\u040F",dzigrarr:"\u27FF",eacute:"\xE9",Eacute:"\xC9",easter:"\u2A6E",ecaron:"\u011B",Ecaron:"\u011A",ecir:"\u2256",ecirc:"\xEA",Ecirc:"\xCA",ecolon:"\u2255",ecy:"\u044D",Ecy:"\u042D",eDDot:"\u2A77",edot:"\u0117",eDot:"\u2251",Edot:"\u0116",ee:"\u2147",efDot:"\u2252",efr:"\u{1D522}",Efr:"\u{1D508}",eg:"\u2A9A",egrave:"\xE8",Egrave:"\xC8",egs:"\u2A96",egsdot:"\u2A98",el:"\u2A99",Element:"\u2208",elinters:"\u23E7",ell:"\u2113",els:"\u2A95",elsdot:"\u2A97",emacr:"\u0113",Emacr:"\u0112",empty:"\u2205",emptyset:"\u2205",EmptySmallSquare:"\u25FB",emptyv:"\u2205",EmptyVerySmallSquare:"\u25AB",emsp:"\u2003",emsp13:"\u2004",emsp14:"\u2005",eng:"\u014B",ENG:"\u014A",ensp:"\u2002",eogon:"\u0119",Eogon:"\u0118",eopf:"\u{1D556}",Eopf:"\u{1D53C}",epar:"\u22D5",eparsl:"\u29E3",eplus:"\u2A71",epsi:"\u03B5",epsilon:"\u03B5",Epsilon:"\u0395",epsiv:"\u03F5",eqcirc:"\u2256",eqcolon:"\u2255",eqsim:"\u2242",eqslantgtr:"\u2A96",eqslantless:"\u2A95",Equal:"\u2A75",equals:"=",EqualTilde:"\u2242",equest:"\u225F",Equilibrium:"\u21CC",equiv:"\u2261",equivDD:"\u2A78",eqvparsl:"\u29E5",erarr:"\u2971",erDot:"\u2253",escr:"\u212F",Escr:"\u2130",esdot:"\u2250",esim:"\u2242",Esim:"\u2A73",eta:"\u03B7",Eta:"\u0397",eth:"\xF0",ETH:"\xD0",euml:"\xEB",Euml:"\xCB",euro:"\u20AC",excl:"!",exist:"\u2203",Exists:"\u2203",expectation:"\u2130",exponentiale:"\u2147",ExponentialE:"\u2147",fallingdotseq:"\u2252",fcy:"\u0444",Fcy:"\u0424",female:"\u2640",ffilig:"\uFB03",fflig:"\uFB00",ffllig:"\uFB04",ffr:"\u{1D523}",Ffr:"\u{1D509}",filig:"\uFB01",FilledSmallSquare:"\u25FC",FilledVerySmallSquare:"\u25AA",fjlig:"fj",flat:"\u266D",fllig:"\uFB02",fltns:"\u25B1",fnof:"\u0192",fopf:"\u{1D557}",Fopf:"\u{1D53D}",forall:"\u2200",ForAll:"\u2200",fork:"\u22D4",forkv:"\u2AD9",Fouriertrf:"\u2131",fpartint:"\u2A0D",frac12:"\xBD",frac13:"\u2153",frac14:"\xBC",frac15:"\u2155",frac16:"\u2159",frac18:"\u215B",frac23:"\u2154",frac25:"\u2156",frac34:"\xBE",frac35:"\u2157",frac38:"\u215C",frac45:"\u2158",frac56:"\u215A",frac58:"\u215D",frac78:"\u215E",frasl:"\u2044",frown:"\u2322",fscr:"\u{1D4BB}",Fscr:"\u2131",gacute:"\u01F5",gamma:"\u03B3",Gamma:"\u0393",gammad:"\u03DD",Gammad:"\u03DC",gap:"\u2A86",gbreve:"\u011F",Gbreve:"\u011E",Gcedil:"\u0122",gcirc:"\u011D",Gcirc:"\u011C",gcy:"\u0433",Gcy:"\u0413",gdot:"\u0121",Gdot:"\u0120",ge:"\u2265",gE:"\u2267",gel:"\u22DB",gEl:"\u2A8C",geq:"\u2265",geqq:"\u2267",geqslant:"\u2A7E",ges:"\u2A7E",gescc:"\u2AA9",gesdot:"\u2A80",gesdoto:"\u2A82",gesdotol:"\u2A84",gesl:"\u22DB\uFE00",gesles:"\u2A94",gfr:"\u{1D524}",Gfr:"\u{1D50A}",gg:"\u226B",Gg:"\u22D9",ggg:"\u22D9",gimel:"\u2137",gjcy:"\u0453",GJcy:"\u0403",gl:"\u2277",gla:"\u2AA5",glE:"\u2A92",glj:"\u2AA4",gnap:"\u2A8A",gnapprox:"\u2A8A",gne:"\u2A88",gnE:"\u2269",gneq:"\u2A88",gneqq:"\u2269",gnsim:"\u22E7",gopf:"\u{1D558}",Gopf:"\u{1D53E}",grave:"`",GreaterEqual:"\u2265",GreaterEqualLess:"\u22DB",GreaterFullEqual:"\u2267",GreaterGreater:"\u2AA2",GreaterLess:"\u2277",GreaterSlantEqual:"\u2A7E",GreaterTilde:"\u2273",gscr:"\u210A",Gscr:"\u{1D4A2}",gsim:"\u2273",gsime:"\u2A8E",gsiml:"\u2A90",gt:">",Gt:"\u226B",GT:">",gtcc:"\u2AA7",gtcir:"\u2A7A",gtdot:"\u22D7",gtlPar:"\u2995",gtquest:"\u2A7C",gtrapprox:"\u2A86",gtrarr:"\u2978",gtrdot:"\u22D7",gtreqless:"\u22DB",gtreqqless:"\u2A8C",gtrless:"\u2277",gtrsim:"\u2273",gvertneqq:"\u2269\uFE00",gvnE:"\u2269\uFE00",Hacek:"\u02C7",hairsp:"\u200A",half:"\xBD",hamilt:"\u210B",hardcy:"\u044A",HARDcy:"\u042A",harr:"\u2194",hArr:"\u21D4",harrcir:"\u2948",harrw:"\u21AD",Hat:"^",hbar:"\u210F",hcirc:"\u0125",Hcirc:"\u0124",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",hercon:"\u22B9",hfr:"\u{1D525}",Hfr:"\u210C",HilbertSpace:"\u210B",hksearow:"\u2925",hkswarow:"\u2926",hoarr:"\u21FF",homtht:"\u223B",hookleftarrow:"\u21A9",hookrightarrow:"\u21AA",hopf:"\u{1D559}",Hopf:"\u210D",horbar:"\u2015",HorizontalLine:"\u2500",hscr:"\u{1D4BD}",Hscr:"\u210B",hslash:"\u210F",hstrok:"\u0127",Hstrok:"\u0126",HumpDownHump:"\u224E",HumpEqual:"\u224F",hybull:"\u2043",hyphen:"\u2010",iacute:"\xED",Iacute:"\xCD",ic:"\u2063",icirc:"\xEE",Icirc:"\xCE",icy:"\u0438",Icy:"\u0418",Idot:"\u0130",iecy:"\u0435",IEcy:"\u0415",iexcl:"\xA1",iff:"\u21D4",ifr:"\u{1D526}",Ifr:"\u2111",igrave:"\xEC",Igrave:"\xCC",ii:"\u2148",iiiint:"\u2A0C",iiint:"\u222D",iinfin:"\u29DC",iiota:"\u2129",ijlig:"\u0133",IJlig:"\u0132",Im:"\u2111",imacr:"\u012B",Imacr:"\u012A",image:"\u2111",ImaginaryI:"\u2148",imagline:"\u2110",imagpart:"\u2111",imath:"\u0131",imof:"\u22B7",imped:"\u01B5",Implies:"\u21D2",in:"\u2208",incare:"\u2105",infin:"\u221E",infintie:"\u29DD",inodot:"\u0131",int:"\u222B",Int:"\u222C",intcal:"\u22BA",integers:"\u2124",Integral:"\u222B",intercal:"\u22BA",Intersection:"\u22C2",intlarhk:"\u2A17",intprod:"\u2A3C",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",iocy:"\u0451",IOcy:"\u0401",iogon:"\u012F",Iogon:"\u012E",iopf:"\u{1D55A}",Iopf:"\u{1D540}",iota:"\u03B9",Iota:"\u0399",iprod:"\u2A3C",iquest:"\xBF",iscr:"\u{1D4BE}",Iscr:"\u2110",isin:"\u2208",isindot:"\u22F5",isinE:"\u22F9",isins:"\u22F4",isinsv:"\u22F3",isinv:"\u2208",it:"\u2062",itilde:"\u0129",Itilde:"\u0128",iukcy:"\u0456",Iukcy:"\u0406",iuml:"\xEF",Iuml:"\xCF",jcirc:"\u0135",Jcirc:"\u0134",jcy:"\u0439",Jcy:"\u0419",jfr:"\u{1D527}",Jfr:"\u{1D50D}",jmath:"\u0237",jopf:"\u{1D55B}",Jopf:"\u{1D541}",jscr:"\u{1D4BF}",Jscr:"\u{1D4A5}",jsercy:"\u0458",Jsercy:"\u0408",jukcy:"\u0454",Jukcy:"\u0404",kappa:"\u03BA",Kappa:"\u039A",kappav:"\u03F0",kcedil:"\u0137",Kcedil:"\u0136",kcy:"\u043A",Kcy:"\u041A",kfr:"\u{1D528}",Kfr:"\u{1D50E}",kgreen:"\u0138",khcy:"\u0445",KHcy:"\u0425",kjcy:"\u045C",KJcy:"\u040C",kopf:"\u{1D55C}",Kopf:"\u{1D542}",kscr:"\u{1D4C0}",Kscr:"\u{1D4A6}",lAarr:"\u21DA",lacute:"\u013A",Lacute:"\u0139",laemptyv:"\u29B4",lagran:"\u2112",lambda:"\u03BB",Lambda:"\u039B",lang:"\u27E8",Lang:"\u27EA",langd:"\u2991",langle:"\u27E8",lap:"\u2A85",Laplacetrf:"\u2112",laquo:"\xAB",larr:"\u2190",lArr:"\u21D0",Larr:"\u219E",larrb:"\u21E4",larrbfs:"\u291F",larrfs:"\u291D",larrhk:"\u21A9",larrlp:"\u21AB",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21A2",lat:"\u2AAB",latail:"\u2919",lAtail:"\u291B",late:"\u2AAD",lates:"\u2AAD\uFE00",lbarr:"\u290C",lBarr:"\u290E",lbbrk:"\u2772",lbrace:"{",lbrack:"[",lbrke:"\u298B",lbrksld:"\u298F",lbrkslu:"\u298D",lcaron:"\u013E",Lcaron:"\u013D",lcedil:"\u013C",Lcedil:"\u013B",lceil:"\u2308",lcub:"{",lcy:"\u043B",Lcy:"\u041B",ldca:"\u2936",ldquo:"\u201C",ldquor:"\u201E",ldrdhar:"\u2967",ldrushar:"\u294B",ldsh:"\u21B2",le:"\u2264",lE:"\u2266",LeftAngleBracket:"\u27E8",leftarrow:"\u2190",Leftarrow:"\u21D0",LeftArrow:"\u2190",LeftArrowBar:"\u21E4",LeftArrowRightArrow:"\u21C6",leftarrowtail:"\u21A2",LeftCeiling:"\u2308",LeftDoubleBracket:"\u27E6",LeftDownTeeVector:"\u2961",LeftDownVector:"\u21C3",LeftDownVectorBar:"\u2959",LeftFloor:"\u230A",leftharpoondown:"\u21BD",leftharpoonup:"\u21BC",leftleftarrows:"\u21C7",leftrightarrow:"\u2194",Leftrightarrow:"\u21D4",LeftRightArrow:"\u2194",leftrightarrows:"\u21C6",leftrightharpoons:"\u21CB",leftrightsquigarrow:"\u21AD",LeftRightVector:"\u294E",LeftTee:"\u22A3",LeftTeeArrow:"\u21A4",LeftTeeVector:"\u295A",leftthreetimes:"\u22CB",LeftTriangle:"\u22B2",LeftTriangleBar:"\u29CF",LeftTriangleEqual:"\u22B4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVector:"\u21BF",LeftUpVectorBar:"\u2958",LeftVector:"\u21BC",LeftVectorBar:"\u2952",leg:"\u22DA",lEg:"\u2A8B",leq:"\u2264",leqq:"\u2266",leqslant:"\u2A7D",les:"\u2A7D",lescc:"\u2AA8",lesdot:"\u2A7F",lesdoto:"\u2A81",lesdotor:"\u2A83",lesg:"\u22DA\uFE00",lesges:"\u2A93",lessapprox:"\u2A85",lessdot:"\u22D6",lesseqgtr:"\u22DA",lesseqqgtr:"\u2A8B",LessEqualGreater:"\u22DA",LessFullEqual:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",LessLess:"\u2AA1",lesssim:"\u2272",LessSlantEqual:"\u2A7D",LessTilde:"\u2272",lfisht:"\u297C",lfloor:"\u230A",lfr:"\u{1D529}",Lfr:"\u{1D50F}",lg:"\u2276",lgE:"\u2A91",lHar:"\u2962",lhard:"\u21BD",lharu:"\u21BC",lharul:"\u296A",lhblk:"\u2584",ljcy:"\u0459",LJcy:"\u0409",ll:"\u226A",Ll:"\u22D8",llarr:"\u21C7",llcorner:"\u231E",Lleftarrow:"\u21DA",llhard:"\u296B",lltri:"\u25FA",lmidot:"\u0140",Lmidot:"\u013F",lmoust:"\u23B0",lmoustache:"\u23B0",lnap:"\u2A89",lnapprox:"\u2A89",lne:"\u2A87",lnE:"\u2268",lneq:"\u2A87",lneqq:"\u2268",lnsim:"\u22E6",loang:"\u27EC",loarr:"\u21FD",lobrk:"\u27E6",longleftarrow:"\u27F5",Longleftarrow:"\u27F8",LongLeftArrow:"\u27F5",longleftrightarrow:"\u27F7",Longleftrightarrow:"\u27FA",LongLeftRightArrow:"\u27F7",longmapsto:"\u27FC",longrightarrow:"\u27F6",Longrightarrow:"\u27F9",LongRightArrow:"\u27F6",looparrowleft:"\u21AB",looparrowright:"\u21AC",lopar:"\u2985",lopf:"\u{1D55D}",Lopf:"\u{1D543}",loplus:"\u2A2D",lotimes:"\u2A34",lowast:"\u2217",lowbar:"_",LowerLeftArrow:"\u2199",LowerRightArrow:"\u2198",loz:"\u25CA",lozenge:"\u25CA",lozf:"\u29EB",lpar:"(",lparlt:"\u2993",lrarr:"\u21C6",lrcorner:"\u231F",lrhar:"\u21CB",lrhard:"\u296D",lrm:"\u200E",lrtri:"\u22BF",lsaquo:"\u2039",lscr:"\u{1D4C1}",Lscr:"\u2112",lsh:"\u21B0",Lsh:"\u21B0",lsim:"\u2272",lsime:"\u2A8D",lsimg:"\u2A8F",lsqb:"[",lsquo:"\u2018",lsquor:"\u201A",lstrok:"\u0142",Lstrok:"\u0141",lt:"<",Lt:"\u226A",LT:"<",ltcc:"\u2AA6",ltcir:"\u2A79",ltdot:"\u22D6",lthree:"\u22CB",ltimes:"\u22C9",ltlarr:"\u2976",ltquest:"\u2A7B",ltri:"\u25C3",ltrie:"\u22B4",ltrif:"\u25C2",ltrPar:"\u2996",lurdshar:"\u294A",luruhar:"\u2966",lvertneqq:"\u2268\uFE00",lvnE:"\u2268\uFE00",macr:"\xAF",male:"\u2642",malt:"\u2720",maltese:"\u2720",map:"\u21A6",Map:"\u2905",mapsto:"\u21A6",mapstodown:"\u21A7",mapstoleft:"\u21A4",mapstoup:"\u21A5",marker:"\u25AE",mcomma:"\u2A29",mcy:"\u043C",Mcy:"\u041C",mdash:"\u2014",mDDot:"\u223A",measuredangle:"\u2221",MediumSpace:"\u205F",Mellintrf:"\u2133",mfr:"\u{1D52A}",Mfr:"\u{1D510}",mho:"\u2127",micro:"\xB5",mid:"\u2223",midast:"*",midcir:"\u2AF0",middot:"\xB7",minus:"\u2212",minusb:"\u229F",minusd:"\u2238",minusdu:"\u2A2A",MinusPlus:"\u2213",mlcp:"\u2ADB",mldr:"\u2026",mnplus:"\u2213",models:"\u22A7",mopf:"\u{1D55E}",Mopf:"\u{1D544}",mp:"\u2213",mscr:"\u{1D4C2}",Mscr:"\u2133",mstpos:"\u223E",mu:"\u03BC",Mu:"\u039C",multimap:"\u22B8",mumap:"\u22B8",nabla:"\u2207",nacute:"\u0144",Nacute:"\u0143",nang:"\u2220\u20D2",nap:"\u2249",napE:"\u2A70\u0338",napid:"\u224B\u0338",napos:"\u0149",napprox:"\u2249",natur:"\u266E",natural:"\u266E",naturals:"\u2115",nbsp:"\xA0",nbump:"\u224E\u0338",nbumpe:"\u224F\u0338",ncap:"\u2A43",ncaron:"\u0148",Ncaron:"\u0147",ncedil:"\u0146",Ncedil:"\u0145",ncong:"\u2247",ncongdot:"\u2A6D\u0338",ncup:"\u2A42",ncy:"\u043D",Ncy:"\u041D",ndash:"\u2013",ne:"\u2260",nearhk:"\u2924",nearr:"\u2197",neArr:"\u21D7",nearrow:"\u2197",nedot:"\u2250\u0338",NegativeMediumSpace:"\u200B",NegativeThickSpace:"\u200B",NegativeThinSpace:"\u200B",NegativeVeryThinSpace:"\u200B",nequiv:"\u2262",nesear:"\u2928",nesim:"\u2242\u0338",NestedGreaterGreater:"\u226B",NestedLessLess:"\u226A",NewLine:`
`,nexist:"\u2204",nexists:"\u2204",nfr:"\u{1D52B}",Nfr:"\u{1D511}",nge:"\u2271",ngE:"\u2267\u0338",ngeq:"\u2271",ngeqq:"\u2267\u0338",ngeqslant:"\u2A7E\u0338",nges:"\u2A7E\u0338",nGg:"\u22D9\u0338",ngsim:"\u2275",ngt:"\u226F",nGt:"\u226B\u20D2",ngtr:"\u226F",nGtv:"\u226B\u0338",nharr:"\u21AE",nhArr:"\u21CE",nhpar:"\u2AF2",ni:"\u220B",nis:"\u22FC",nisd:"\u22FA",niv:"\u220B",njcy:"\u045A",NJcy:"\u040A",nlarr:"\u219A",nlArr:"\u21CD",nldr:"\u2025",nle:"\u2270",nlE:"\u2266\u0338",nleftarrow:"\u219A",nLeftarrow:"\u21CD",nleftrightarrow:"\u21AE",nLeftrightarrow:"\u21CE",nleq:"\u2270",nleqq:"\u2266\u0338",nleqslant:"\u2A7D\u0338",nles:"\u2A7D\u0338",nless:"\u226E",nLl:"\u22D8\u0338",nlsim:"\u2274",nlt:"\u226E",nLt:"\u226A\u20D2",nltri:"\u22EA",nltrie:"\u22EC",nLtv:"\u226A\u0338",nmid:"\u2224",NoBreak:"\u2060",NonBreakingSpace:"\xA0",nopf:"\u{1D55F}",Nopf:"\u2115",not:"\xAC",Not:"\u2AEC",NotCongruent:"\u2262",NotCupCap:"\u226D",NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",NotEqualTilde:"\u2242\u0338",NotExists:"\u2204",NotGreater:"\u226F",NotGreaterEqual:"\u2271",NotGreaterFullEqual:"\u2267\u0338",NotGreaterGreater:"\u226B\u0338",NotGreaterLess:"\u2279",NotGreaterSlantEqual:"\u2A7E\u0338",NotGreaterTilde:"\u2275",NotHumpDownHump:"\u224E\u0338",NotHumpEqual:"\u224F\u0338",notin:"\u2209",notindot:"\u22F5\u0338",notinE:"\u22F9\u0338",notinva:"\u2209",notinvb:"\u22F7",notinvc:"\u22F6",NotLeftTriangle:"\u22EA",NotLeftTriangleBar:"\u29CF\u0338",NotLeftTriangleEqual:"\u22EC",NotLess:"\u226E",NotLessEqual:"\u2270",NotLessGreater:"\u2278",NotLessLess:"\u226A\u0338",NotLessSlantEqual:"\u2A7D\u0338",NotLessTilde:"\u2274",NotNestedGreaterGreater:"\u2AA2\u0338",NotNestedLessLess:"\u2AA1\u0338",notni:"\u220C",notniva:"\u220C",notnivb:"\u22FE",notnivc:"\u22FD",NotPrecedes:"\u2280",NotPrecedesEqual:"\u2AAF\u0338",NotPrecedesSlantEqual:"\u22E0",NotReverseElement:"\u220C",NotRightTriangle:"\u22EB",NotRightTriangleBar:"\u29D0\u0338",NotRightTriangleEqual:"\u22ED",NotSquareSubset:"\u228F\u0338",NotSquareSubsetEqual:"\u22E2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22E3",NotSubset:"\u2282\u20D2",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsEqual:"\u2AB0\u0338",NotSucceedsSlantEqual:"\u22E1",NotSucceedsTilde:"\u227F\u0338",NotSuperset:"\u2283\u20D2",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotTildeEqual:"\u2244",NotTildeFullEqual:"\u2247",NotTildeTilde:"\u2249",NotVerticalBar:"\u2224",npar:"\u2226",nparallel:"\u2226",nparsl:"\u2AFD\u20E5",npart:"\u2202\u0338",npolint:"\u2A14",npr:"\u2280",nprcue:"\u22E0",npre:"\u2AAF\u0338",nprec:"\u2280",npreceq:"\u2AAF\u0338",nrarr:"\u219B",nrArr:"\u21CF",nrarrc:"\u2933\u0338",nrarrw:"\u219D\u0338",nrightarrow:"\u219B",nRightarrow:"\u21CF",nrtri:"\u22EB",nrtrie:"\u22ED",nsc:"\u2281",nsccue:"\u22E1",nsce:"\u2AB0\u0338",nscr:"\u{1D4C3}",Nscr:"\u{1D4A9}",nshortmid:"\u2224",nshortparallel:"\u2226",nsim:"\u2241",nsime:"\u2244",nsimeq:"\u2244",nsmid:"\u2224",nspar:"\u2226",nsqsube:"\u22E2",nsqsupe:"\u22E3",nsub:"\u2284",nsube:"\u2288",nsubE:"\u2AC5\u0338",nsubset:"\u2282\u20D2",nsubseteq:"\u2288",nsubseteqq:"\u2AC5\u0338",nsucc:"\u2281",nsucceq:"\u2AB0\u0338",nsup:"\u2285",nsupe:"\u2289",nsupE:"\u2AC6\u0338",nsupset:"\u2283\u20D2",nsupseteq:"\u2289",nsupseteqq:"\u2AC6\u0338",ntgl:"\u2279",ntilde:"\xF1",Ntilde:"\xD1",ntlg:"\u2278",ntriangleleft:"\u22EA",ntrianglelefteq:"\u22EC",ntriangleright:"\u22EB",ntrianglerighteq:"\u22ED",nu:"\u03BD",Nu:"\u039D",num:"#",numero:"\u2116",numsp:"\u2007",nvap:"\u224D\u20D2",nvdash:"\u22AC",nvDash:"\u22AD",nVdash:"\u22AE",nVDash:"\u22AF",nvge:"\u2265\u20D2",nvgt:">\u20D2",nvHarr:"\u2904",nvinfin:"\u29DE",nvlArr:"\u2902",nvle:"\u2264\u20D2",nvlt:"<\u20D2",nvltrie:"\u22B4\u20D2",nvrArr:"\u2903",nvrtrie:"\u22B5\u20D2",nvsim:"\u223C\u20D2",nwarhk:"\u2923",nwarr:"\u2196",nwArr:"\u21D6",nwarrow:"\u2196",nwnear:"\u2927",oacute:"\xF3",Oacute:"\xD3",oast:"\u229B",ocir:"\u229A",ocirc:"\xF4",Ocirc:"\xD4",ocy:"\u043E",Ocy:"\u041E",odash:"\u229D",odblac:"\u0151",Odblac:"\u0150",odiv:"\u2A38",odot:"\u2299",odsold:"\u29BC",oelig:"\u0153",OElig:"\u0152",ofcir:"\u29BF",ofr:"\u{1D52C}",Ofr:"\u{1D512}",ogon:"\u02DB",ograve:"\xF2",Ograve:"\xD2",ogt:"\u29C1",ohbar:"\u29B5",ohm:"\u03A9",oint:"\u222E",olarr:"\u21BA",olcir:"\u29BE",olcross:"\u29BB",oline:"\u203E",olt:"\u29C0",omacr:"\u014D",Omacr:"\u014C",omega:"\u03C9",Omega:"\u03A9",omicron:"\u03BF",Omicron:"\u039F",omid:"\u29B6",ominus:"\u2296",oopf:"\u{1D560}",Oopf:"\u{1D546}",opar:"\u29B7",OpenCurlyDoubleQuote:"\u201C",OpenCurlyQuote:"\u2018",operp:"\u29B9",oplus:"\u2295",or:"\u2228",Or:"\u2A54",orarr:"\u21BB",ord:"\u2A5D",order:"\u2134",orderof:"\u2134",ordf:"\xAA",ordm:"\xBA",origof:"\u22B6",oror:"\u2A56",orslope:"\u2A57",orv:"\u2A5B",oS:"\u24C8",oscr:"\u2134",Oscr:"\u{1D4AA}",oslash:"\xF8",Oslash:"\xD8",osol:"\u2298",otilde:"\xF5",Otilde:"\xD5",otimes:"\u2297",Otimes:"\u2A37",otimesas:"\u2A36",ouml:"\xF6",Ouml:"\xD6",ovbar:"\u233D",OverBar:"\u203E",OverBrace:"\u23DE",OverBracket:"\u23B4",OverParenthesis:"\u23DC",par:"\u2225",para:"\xB6",parallel:"\u2225",parsim:"\u2AF3",parsl:"\u2AFD",part:"\u2202",PartialD:"\u2202",pcy:"\u043F",Pcy:"\u041F",percnt:"%",period:".",permil:"\u2030",perp:"\u22A5",pertenk:"\u2031",pfr:"\u{1D52D}",Pfr:"\u{1D513}",phi:"\u03C6",Phi:"\u03A6",phiv:"\u03D5",phmmat:"\u2133",phone:"\u260E",pi:"\u03C0",Pi:"\u03A0",pitchfork:"\u22D4",piv:"\u03D6",planck:"\u210F",planckh:"\u210E",plankv:"\u210F",plus:"+",plusacir:"\u2A23",plusb:"\u229E",pluscir:"\u2A22",plusdo:"\u2214",plusdu:"\u2A25",pluse:"\u2A72",PlusMinus:"\xB1",plusmn:"\xB1",plussim:"\u2A26",plustwo:"\u2A27",pm:"\xB1",Poincareplane:"\u210C",pointint:"\u2A15",popf:"\u{1D561}",Popf:"\u2119",pound:"\xA3",pr:"\u227A",Pr:"\u2ABB",prap:"\u2AB7",prcue:"\u227C",pre:"\u2AAF",prE:"\u2AB3",prec:"\u227A",precapprox:"\u2AB7",preccurlyeq:"\u227C",Precedes:"\u227A",PrecedesEqual:"\u2AAF",PrecedesSlantEqual:"\u227C",PrecedesTilde:"\u227E",preceq:"\u2AAF",precnapprox:"\u2AB9",precneqq:"\u2AB5",precnsim:"\u22E8",precsim:"\u227E",prime:"\u2032",Prime:"\u2033",primes:"\u2119",prnap:"\u2AB9",prnE:"\u2AB5",prnsim:"\u22E8",prod:"\u220F",Product:"\u220F",profalar:"\u232E",profline:"\u2312",profsurf:"\u2313",prop:"\u221D",Proportion:"\u2237",Proportional:"\u221D",propto:"\u221D",prsim:"\u227E",prurel:"\u22B0",pscr:"\u{1D4C5}",Pscr:"\u{1D4AB}",psi:"\u03C8",Psi:"\u03A8",puncsp:"\u2008",qfr:"\u{1D52E}",Qfr:"\u{1D514}",qint:"\u2A0C",qopf:"\u{1D562}",Qopf:"\u211A",qprime:"\u2057",qscr:"\u{1D4C6}",Qscr:"\u{1D4AC}",quaternions:"\u210D",quatint:"\u2A16",quest:"?",questeq:"\u225F",quot:'"',QUOT:'"',rAarr:"\u21DB",race:"\u223D\u0331",racute:"\u0155",Racute:"\u0154",radic:"\u221A",raemptyv:"\u29B3",rang:"\u27E9",Rang:"\u27EB",rangd:"\u2992",range:"\u29A5",rangle:"\u27E9",raquo:"\xBB",rarr:"\u2192",rArr:"\u21D2",Rarr:"\u21A0",rarrap:"\u2975",rarrb:"\u21E5",rarrbfs:"\u2920",rarrc:"\u2933",rarrfs:"\u291E",rarrhk:"\u21AA",rarrlp:"\u21AC",rarrpl:"\u2945",rarrsim:"\u2974",rarrtl:"\u21A3",Rarrtl:"\u2916",rarrw:"\u219D",ratail:"\u291A",rAtail:"\u291C",ratio:"\u2236",rationals:"\u211A",rbarr:"\u290D",rBarr:"\u290F",RBarr:"\u2910",rbbrk:"\u2773",rbrace:"}",rbrack:"]",rbrke:"\u298C",rbrksld:"\u298E",rbrkslu:"\u2990",rcaron:"\u0159",Rcaron:"\u0158",rcedil:"\u0157",Rcedil:"\u0156",rceil:"\u2309",rcub:"}",rcy:"\u0440",Rcy:"\u0420",rdca:"\u2937",rdldhar:"\u2969",rdquo:"\u201D",rdquor:"\u201D",rdsh:"\u21B3",Re:"\u211C",real:"\u211C",realine:"\u211B",realpart:"\u211C",reals:"\u211D",rect:"\u25AD",reg:"\xAE",REG:"\xAE",ReverseElement:"\u220B",ReverseEquilibrium:"\u21CB",ReverseUpEquilibrium:"\u296F",rfisht:"\u297D",rfloor:"\u230B",rfr:"\u{1D52F}",Rfr:"\u211C",rHar:"\u2964",rhard:"\u21C1",rharu:"\u21C0",rharul:"\u296C",rho:"\u03C1",Rho:"\u03A1",rhov:"\u03F1",RightAngleBracket:"\u27E9",rightarrow:"\u2192",Rightarrow:"\u21D2",RightArrow:"\u2192",RightArrowBar:"\u21E5",RightArrowLeftArrow:"\u21C4",rightarrowtail:"\u21A3",RightCeiling:"\u2309",RightDoubleBracket:"\u27E7",RightDownTeeVector:"\u295D",RightDownVector:"\u21C2",RightDownVectorBar:"\u2955",RightFloor:"\u230B",rightharpoondown:"\u21C1",rightharpoonup:"\u21C0",rightleftarrows:"\u21C4",rightleftharpoons:"\u21CC",rightrightarrows:"\u21C9",rightsquigarrow:"\u219D",RightTee:"\u22A2",RightTeeArrow:"\u21A6",RightTeeVector:"\u295B",rightthreetimes:"\u22CC",RightTriangle:"\u22B3",RightTriangleBar:"\u29D0",RightTriangleEqual:"\u22B5",RightUpDownVector:"\u294F",RightUpTeeVector:"\u295C",RightUpVector:"\u21BE",RightUpVectorBar:"\u2954",RightVector:"\u21C0",RightVectorBar:"\u2953",ring:"\u02DA",risingdotseq:"\u2253",rlarr:"\u21C4",rlhar:"\u21CC",rlm:"\u200F",rmoust:"\u23B1",rmoustache:"\u23B1",rnmid:"\u2AEE",roang:"\u27ED",roarr:"\u21FE",robrk:"\u27E7",ropar:"\u2986",ropf:"\u{1D563}",Ropf:"\u211D",roplus:"\u2A2E",rotimes:"\u2A35",RoundImplies:"\u2970",rpar:")",rpargt:"\u2994",rppolint:"\u2A12",rrarr:"\u21C9",Rrightarrow:"\u21DB",rsaquo:"\u203A",rscr:"\u{1D4C7}",Rscr:"\u211B",rsh:"\u21B1",Rsh:"\u21B1",rsqb:"]",rsquo:"\u2019",rsquor:"\u2019",rthree:"\u22CC",rtimes:"\u22CA",rtri:"\u25B9",rtrie:"\u22B5",rtrif:"\u25B8",rtriltri:"\u29CE",RuleDelayed:"\u29F4",ruluhar:"\u2968",rx:"\u211E",sacute:"\u015B",Sacute:"\u015A",sbquo:"\u201A",sc:"\u227B",Sc:"\u2ABC",scap:"\u2AB8",scaron:"\u0161",Scaron:"\u0160",sccue:"\u227D",sce:"\u2AB0",scE:"\u2AB4",scedil:"\u015F",Scedil:"\u015E",scirc:"\u015D",Scirc:"\u015C",scnap:"\u2ABA",scnE:"\u2AB6",scnsim:"\u22E9",scpolint:"\u2A13",scsim:"\u227F",scy:"\u0441",Scy:"\u0421",sdot:"\u22C5",sdotb:"\u22A1",sdote:"\u2A66",searhk:"\u2925",searr:"\u2198",seArr:"\u21D8",searrow:"\u2198",sect:"\xA7",semi:";",seswar:"\u2929",setminus:"\u2216",setmn:"\u2216",sext:"\u2736",sfr:"\u{1D530}",Sfr:"\u{1D516}",sfrown:"\u2322",sharp:"\u266F",shchcy:"\u0449",SHCHcy:"\u0429",shcy:"\u0448",SHcy:"\u0428",ShortDownArrow:"\u2193",ShortLeftArrow:"\u2190",shortmid:"\u2223",shortparallel:"\u2225",ShortRightArrow:"\u2192",ShortUpArrow:"\u2191",shy:"\xAD",sigma:"\u03C3",Sigma:"\u03A3",sigmaf:"\u03C2",sigmav:"\u03C2",sim:"\u223C",simdot:"\u2A6A",sime:"\u2243",simeq:"\u2243",simg:"\u2A9E",simgE:"\u2AA0",siml:"\u2A9D",simlE:"\u2A9F",simne:"\u2246",simplus:"\u2A24",simrarr:"\u2972",slarr:"\u2190",SmallCircle:"\u2218",smallsetminus:"\u2216",smashp:"\u2A33",smeparsl:"\u29E4",smid:"\u2223",smile:"\u2323",smt:"\u2AAA",smte:"\u2AAC",smtes:"\u2AAC\uFE00",softcy:"\u044C",SOFTcy:"\u042C",sol:"/",solb:"\u29C4",solbar:"\u233F",sopf:"\u{1D564}",Sopf:"\u{1D54A}",spades:"\u2660",spadesuit:"\u2660",spar:"\u2225",sqcap:"\u2293",sqcaps:"\u2293\uFE00",sqcup:"\u2294",sqcups:"\u2294\uFE00",Sqrt:"\u221A",sqsub:"\u228F",sqsube:"\u2291",sqsubset:"\u228F",sqsubseteq:"\u2291",sqsup:"\u2290",sqsupe:"\u2292",sqsupset:"\u2290",sqsupseteq:"\u2292",squ:"\u25A1",square:"\u25A1",Square:"\u25A1",SquareIntersection:"\u2293",SquareSubset:"\u228F",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",squarf:"\u25AA",squf:"\u25AA",srarr:"\u2192",sscr:"\u{1D4C8}",Sscr:"\u{1D4AE}",ssetmn:"\u2216",ssmile:"\u2323",sstarf:"\u22C6",star:"\u2606",Star:"\u22C6",starf:"\u2605",straightepsilon:"\u03F5",straightphi:"\u03D5",strns:"\xAF",sub:"\u2282",Sub:"\u22D0",subdot:"\u2ABD",sube:"\u2286",subE:"\u2AC5",subedot:"\u2AC3",submult:"\u2AC1",subne:"\u228A",subnE:"\u2ACB",subplus:"\u2ABF",subrarr:"\u2979",subset:"\u2282",Subset:"\u22D0",subseteq:"\u2286",subseteqq:"\u2AC5",SubsetEqual:"\u2286",subsetneq:"\u228A",subsetneqq:"\u2ACB",subsim:"\u2AC7",subsub:"\u2AD5",subsup:"\u2AD3",succ:"\u227B",succapprox:"\u2AB8",succcurlyeq:"\u227D",Succeeds:"\u227B",SucceedsEqual:"\u2AB0",SucceedsSlantEqual:"\u227D",SucceedsTilde:"\u227F",succeq:"\u2AB0",succnapprox:"\u2ABA",succneqq:"\u2AB6",succnsim:"\u22E9",succsim:"\u227F",SuchThat:"\u220B",sum:"\u2211",Sum:"\u2211",sung:"\u266A",sup:"\u2283",Sup:"\u22D1",sup1:"\xB9",sup2:"\xB2",sup3:"\xB3",supdot:"\u2ABE",supdsub:"\u2AD8",supe:"\u2287",supE:"\u2AC6",supedot:"\u2AC4",Superset:"\u2283",SupersetEqual:"\u2287",suphsol:"\u27C9",suphsub:"\u2AD7",suplarr:"\u297B",supmult:"\u2AC2",supne:"\u228B",supnE:"\u2ACC",supplus:"\u2AC0",supset:"\u2283",Supset:"\u22D1",supseteq:"\u2287",supseteqq:"\u2AC6",supsetneq:"\u228B",supsetneqq:"\u2ACC",supsim:"\u2AC8",supsub:"\u2AD4",supsup:"\u2AD6",swarhk:"\u2926",swarr:"\u2199",swArr:"\u21D9",swarrow:"\u2199",swnwar:"\u292A",szlig:"\xDF",Tab:"	",target:"\u2316",tau:"\u03C4",Tau:"\u03A4",tbrk:"\u23B4",tcaron:"\u0165",Tcaron:"\u0164",tcedil:"\u0163",Tcedil:"\u0162",tcy:"\u0442",Tcy:"\u0422",tdot:"\u20DB",telrec:"\u2315",tfr:"\u{1D531}",Tfr:"\u{1D517}",there4:"\u2234",therefore:"\u2234",Therefore:"\u2234",theta:"\u03B8",Theta:"\u0398",thetasym:"\u03D1",thetav:"\u03D1",thickapprox:"\u2248",thicksim:"\u223C",ThickSpace:"\u205F\u200A",thinsp:"\u2009",ThinSpace:"\u2009",thkap:"\u2248",thksim:"\u223C",thorn:"\xFE",THORN:"\xDE",tilde:"\u02DC",Tilde:"\u223C",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",times:"\xD7",timesb:"\u22A0",timesbar:"\u2A31",timesd:"\u2A30",tint:"\u222D",toea:"\u2928",top:"\u22A4",topbot:"\u2336",topcir:"\u2AF1",topf:"\u{1D565}",Topf:"\u{1D54B}",topfork:"\u2ADA",tosa:"\u2929",tprime:"\u2034",trade:"\u2122",TRADE:"\u2122",triangle:"\u25B5",triangledown:"\u25BF",triangleleft:"\u25C3",trianglelefteq:"\u22B4",triangleq:"\u225C",triangleright:"\u25B9",trianglerighteq:"\u22B5",tridot:"\u25EC",trie:"\u225C",triminus:"\u2A3A",TripleDot:"\u20DB",triplus:"\u2A39",trisb:"\u29CD",tritime:"\u2A3B",trpezium:"\u23E2",tscr:"\u{1D4C9}",Tscr:"\u{1D4AF}",tscy:"\u0446",TScy:"\u0426",tshcy:"\u045B",TSHcy:"\u040B",tstrok:"\u0167",Tstrok:"\u0166",twixt:"\u226C",twoheadleftarrow:"\u219E",twoheadrightarrow:"\u21A0",uacute:"\xFA",Uacute:"\xDA",uarr:"\u2191",uArr:"\u21D1",Uarr:"\u219F",Uarrocir:"\u2949",ubrcy:"\u045E",Ubrcy:"\u040E",ubreve:"\u016D",Ubreve:"\u016C",ucirc:"\xFB",Ucirc:"\xDB",ucy:"\u0443",Ucy:"\u0423",udarr:"\u21C5",udblac:"\u0171",Udblac:"\u0170",udhar:"\u296E",ufisht:"\u297E",ufr:"\u{1D532}",Ufr:"\u{1D518}",ugrave:"\xF9",Ugrave:"\xD9",uHar:"\u2963",uharl:"\u21BF",uharr:"\u21BE",uhblk:"\u2580",ulcorn:"\u231C",ulcorner:"\u231C",ulcrop:"\u230F",ultri:"\u25F8",umacr:"\u016B",Umacr:"\u016A",uml:"\xA8",UnderBar:"_",UnderBrace:"\u23DF",UnderBracket:"\u23B5",UnderParenthesis:"\u23DD",Union:"\u22C3",UnionPlus:"\u228E",uogon:"\u0173",Uogon:"\u0172",uopf:"\u{1D566}",Uopf:"\u{1D54C}",uparrow:"\u2191",Uparrow:"\u21D1",UpArrow:"\u2191",UpArrowBar:"\u2912",UpArrowDownArrow:"\u21C5",updownarrow:"\u2195",Updownarrow:"\u21D5",UpDownArrow:"\u2195",UpEquilibrium:"\u296E",upharpoonleft:"\u21BF",upharpoonright:"\u21BE",uplus:"\u228E",UpperLeftArrow:"\u2196",UpperRightArrow:"\u2197",upsi:"\u03C5",Upsi:"\u03D2",upsih:"\u03D2",upsilon:"\u03C5",Upsilon:"\u03A5",UpTee:"\u22A5",UpTeeArrow:"\u21A5",upuparrows:"\u21C8",urcorn:"\u231D",urcorner:"\u231D",urcrop:"\u230E",uring:"\u016F",Uring:"\u016E",urtri:"\u25F9",uscr:"\u{1D4CA}",Uscr:"\u{1D4B0}",utdot:"\u22F0",utilde:"\u0169",Utilde:"\u0168",utri:"\u25B5",utrif:"\u25B4",uuarr:"\u21C8",uuml:"\xFC",Uuml:"\xDC",uwangle:"\u29A7",vangrt:"\u299C",varepsilon:"\u03F5",varkappa:"\u03F0",varnothing:"\u2205",varphi:"\u03D5",varpi:"\u03D6",varpropto:"\u221D",varr:"\u2195",vArr:"\u21D5",varrho:"\u03F1",varsigma:"\u03C2",varsubsetneq:"\u228A\uFE00",varsubsetneqq:"\u2ACB\uFE00",varsupsetneq:"\u228B\uFE00",varsupsetneqq:"\u2ACC\uFE00",vartheta:"\u03D1",vartriangleleft:"\u22B2",vartriangleright:"\u22B3",vBar:"\u2AE8",Vbar:"\u2AEB",vBarv:"\u2AE9",vcy:"\u0432",Vcy:"\u0412",vdash:"\u22A2",vDash:"\u22A8",Vdash:"\u22A9",VDash:"\u22AB",Vdashl:"\u2AE6",vee:"\u2228",Vee:"\u22C1",veebar:"\u22BB",veeeq:"\u225A",vellip:"\u22EE",verbar:"|",Verbar:"\u2016",vert:"|",Vert:"\u2016",VerticalBar:"\u2223",VerticalLine:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",VeryThinSpace:"\u200A",vfr:"\u{1D533}",Vfr:"\u{1D519}",vltri:"\u22B2",vnsub:"\u2282\u20D2",vnsup:"\u2283\u20D2",vopf:"\u{1D567}",Vopf:"\u{1D54D}",vprop:"\u221D",vrtri:"\u22B3",vscr:"\u{1D4CB}",Vscr:"\u{1D4B1}",vsubne:"\u228A\uFE00",vsubnE:"\u2ACB\uFE00",vsupne:"\u228B\uFE00",vsupnE:"\u2ACC\uFE00",Vvdash:"\u22AA",vzigzag:"\u299A",wcirc:"\u0175",Wcirc:"\u0174",wedbar:"\u2A5F",wedge:"\u2227",Wedge:"\u22C0",wedgeq:"\u2259",weierp:"\u2118",wfr:"\u{1D534}",Wfr:"\u{1D51A}",wopf:"\u{1D568}",Wopf:"\u{1D54E}",wp:"\u2118",wr:"\u2240",wreath:"\u2240",wscr:"\u{1D4CC}",Wscr:"\u{1D4B2}",xcap:"\u22C2",xcirc:"\u25EF",xcup:"\u22C3",xdtri:"\u25BD",xfr:"\u{1D535}",Xfr:"\u{1D51B}",xharr:"\u27F7",xhArr:"\u27FA",xi:"\u03BE",Xi:"\u039E",xlarr:"\u27F5",xlArr:"\u27F8",xmap:"\u27FC",xnis:"\u22FB",xodot:"\u2A00",xopf:"\u{1D569}",Xopf:"\u{1D54F}",xoplus:"\u2A01",xotime:"\u2A02",xrarr:"\u27F6",xrArr:"\u27F9",xscr:"\u{1D4CD}",Xscr:"\u{1D4B3}",xsqcup:"\u2A06",xuplus:"\u2A04",xutri:"\u25B3",xvee:"\u22C1",xwedge:"\u22C0",yacute:"\xFD",Yacute:"\xDD",yacy:"\u044F",YAcy:"\u042F",ycirc:"\u0177",Ycirc:"\u0176",ycy:"\u044B",Ycy:"\u042B",yen:"\xA5",yfr:"\u{1D536}",Yfr:"\u{1D51C}",yicy:"\u0457",YIcy:"\u0407",yopf:"\u{1D56A}",Yopf:"\u{1D550}",yscr:"\u{1D4CE}",Yscr:"\u{1D4B4}",yucy:"\u044E",YUcy:"\u042E",yuml:"\xFF",Yuml:"\u0178",zacute:"\u017A",Zacute:"\u0179",zcaron:"\u017E",Zcaron:"\u017D",zcy:"\u0437",Zcy:"\u0417",zdot:"\u017C",Zdot:"\u017B",zeetrf:"\u2128",ZeroWidthSpace:"\u200B",zeta:"\u03B6",Zeta:"\u0396",zfr:"\u{1D537}",Zfr:"\u2128",zhcy:"\u0436",ZHcy:"\u0416",zigrarr:"\u21DD",zopf:"\u{1D56B}",Zopf:"\u2124",zscr:"\u{1D4CF}",Zscr:"\u{1D4B5}",zwj:"\u200D",zwnj:"\u200C"},y={aacute:"\xE1",Aacute:"\xC1",acirc:"\xE2",Acirc:"\xC2",acute:"\xB4",aelig:"\xE6",AElig:"\xC6",agrave:"\xE0",Agrave:"\xC0",amp:"&",AMP:"&",aring:"\xE5",Aring:"\xC5",atilde:"\xE3",Atilde:"\xC3",auml:"\xE4",Auml:"\xC4",brvbar:"\xA6",ccedil:"\xE7",Ccedil:"\xC7",cedil:"\xB8",cent:"\xA2",copy:"\xA9",COPY:"\xA9",curren:"\xA4",deg:"\xB0",divide:"\xF7",eacute:"\xE9",Eacute:"\xC9",ecirc:"\xEA",Ecirc:"\xCA",egrave:"\xE8",Egrave:"\xC8",eth:"\xF0",ETH:"\xD0",euml:"\xEB",Euml:"\xCB",frac12:"\xBD",frac14:"\xBC",frac34:"\xBE",gt:">",GT:">",iacute:"\xED",Iacute:"\xCD",icirc:"\xEE",Icirc:"\xCE",iexcl:"\xA1",igrave:"\xEC",Igrave:"\xCC",iquest:"\xBF",iuml:"\xEF",Iuml:"\xCF",laquo:"\xAB",lt:"<",LT:"<",macr:"\xAF",micro:"\xB5",middot:"\xB7",nbsp:"\xA0",not:"\xAC",ntilde:"\xF1",Ntilde:"\xD1",oacute:"\xF3",Oacute:"\xD3",ocirc:"\xF4",Ocirc:"\xD4",ograve:"\xF2",Ograve:"\xD2",ordf:"\xAA",ordm:"\xBA",oslash:"\xF8",Oslash:"\xD8",otilde:"\xF5",Otilde:"\xD5",ouml:"\xF6",Ouml:"\xD6",para:"\xB6",plusmn:"\xB1",pound:"\xA3",quot:'"',QUOT:'"',raquo:"\xBB",reg:"\xAE",REG:"\xAE",sect:"\xA7",shy:"\xAD",sup1:"\xB9",sup2:"\xB2",sup3:"\xB3",szlig:"\xDF",thorn:"\xFE",THORN:"\xDE",times:"\xD7",uacute:"\xFA",Uacute:"\xDA",ucirc:"\xFB",Ucirc:"\xDB",ugrave:"\xF9",Ugrave:"\xD9",uml:"\xA8",uuml:"\xFC",Uuml:"\xDC",yacute:"\xFD",Yacute:"\xDD",yen:"\xA5",yuml:"\xFF"},b={"0":"\uFFFD","128":"\u20AC","130":"\u201A","131":"\u0192","132":"\u201E","133":"\u2026","134":"\u2020","135":"\u2021","136":"\u02C6","137":"\u2030","138":"\u0160","139":"\u2039","140":"\u0152","142":"\u017D","145":"\u2018","146":"\u2019","147":"\u201C","148":"\u201D","149":"\u2022","150":"\u2013","151":"\u2014","152":"\u02DC","153":"\u2122","154":"\u0161","155":"\u203A","156":"\u0153","158":"\u017E","159":"\u0178"},E=[1,2,3,4,5,6,7,8,11,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,64976,64977,64978,64979,64980,64981,64982,64983,64984,64985,64986,64987,64988,64989,64990,64991,64992,64993,64994,64995,64996,64997,64998,64999,65e3,65001,65002,65003,65004,65005,65006,65007,65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111],P=String.fromCharCode,A={},_=A.hasOwnProperty,M=function(W,R){return _.call(W,R)},F=function(W,R){for(var B=-1,x=W.length;++B<x;)if(W[B]==R)return!0;return!1},H=function(W,R){if(!W)return R;var B={},x;for(x in R)B[x]=M(W,x)?W[x]:R[x];return B},C=function(W,R){var B="";return W>=55296&&W<=57343||W>1114111?(R&&D("character reference outside the permissible Unicode range"),"\uFFFD"):M(b,W)?(R&&D("disallowed character reference"),b[W]):(R&&F(E,W)&&D("disallowed character reference"),W>65535&&(W-=65536,B+=P(W>>>10&1023|55296),W=56320|W&1023),B+=P(W),B)},T=function(W){return"&#x"+W.toString(16).toUpperCase()+";"},S=function(W){return"&#"+W+";"},D=function(W){throw Error("Parse error: "+W)},w=function(W,R){R=H(R,w.options);var B=R.strict;B&&h.test(W)&&D("forbidden code point");var x=R.encodeEverything,G=R.useNamedReferences,Q=R.allowUnsafeSymbols,he=R.decimal?S:T,Z=function(le){return he(le.charCodeAt(0))};return x?(W=W.replace(m,function(le){return G&&M(O,le)?"&"+O[le]+";":Z(le)}),G&&(W=W.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;").replace(/&#x66;&#x6A;/g,"&fjlig;")),G&&(W=W.replace(g,function(le){return"&"+O[le]+";"}))):G?(Q||(W=W.replace(s,function(le){return"&"+O[le]+";"})),W=W.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;"),W=W.replace(g,function(le){return"&"+O[le]+";"})):Q||(W=W.replace(s,Z)),W.replace(f,function(le){var de=le.charCodeAt(0),be=le.charCodeAt(1),X=(de-55296)*1024+be-56320+65536;return he(X)}).replace(p,Z)};w.options={allowUnsafeSymbols:!1,encodeEverything:!1,strict:!1,useNamedReferences:!1,decimal:!1};var U=function(W,R){R=H(R,U.options);var B=R.strict;return B&&i.test(W)&&D("malformed character reference"),W.replace(v,function(x,G,Q,he,Z,le,de,be,X){var ie,Ce,Le,Ae,Pe,Ne;return G?(Pe=G,j[Pe]):Q?(Pe=Q,Ne=he,Ne&&R.isAttributeValue?(B&&Ne=="="&&D("`&` did not start a character reference"),x):(B&&D("named character reference was not terminated by a semicolon"),y[Pe]+(Ne||""))):Z?(Le=Z,Ce=le,B&&!Ce&&D("character reference was not terminated by a semicolon"),ie=parseInt(Le,10),C(ie,B)):de?(Ae=de,Ce=be,B&&!Ce&&D("character reference was not terminated by a semicolon"),ie=parseInt(Ae,16),C(ie,B)):(B&&D("named character reference was not terminated by a semicolon"),x)})};U.options={isAttributeValue:!1,strict:!1};var V=function(W){return W.replace(s,function(R){return r[R]})},K={version:"1.2.0",encode:w,decode:U,escape:V,unescape:U};if(!0)o=function(){return K}.call(n,t,n,e),o!==void 0&&(e.exports=o);else var Y})(this)}).call(this,t(271)(k),t(173))},function(k,n,t){"use strict";function e(g){for(var O in g)n.hasOwnProperty(O)||(n[O]=g[O])}var a=this&&this.__importStar||function(g){if(g&&g.__esModule)return g;var O={};if(g!=null)for(var s in g)Object.hasOwnProperty.call(g,s)&&(O[s]=g[s]);return O.default=g,O};Object.defineProperty(n,"__esModule",{value:!0});var o=t(739);n.Parser=o.Parser;var l=t(743);n.DomHandler=l.DomHandler,n.DefaultHandler=l.DomHandler;function d(g,O){var s=new l.DomHandler(void 0,O);return new o.Parser(s,O).end(g),s.dom}n.parseDOM=d;function c(g,O,s){var r=new l.DomHandler(g,O,s);return new o.Parser(r,O)}n.createDomStream=c;var u=t(740);n.Tokenizer=u.default;var f=a(t(327));n.ElementType=f,n.EVENTS={attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0},e(t(745)),e(t(960)),e(t(961));var m=a(t(746));n.DomUtils=m;var p=t(745);n.RssHandler=p.FeedHandler},function(k){k.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},function(k,n,t){"use strict";var e=this&&this.__assign||function(){return e=Object.assign||function(b){for(var E,P=1,A=arguments.length;P<A;P++){E=arguments[P];for(var _ in E)Object.prototype.hasOwnProperty.call(E,_)&&(b[_]=E[_])}return b},e.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(b,E,P,A){A===void 0&&(A=P),Object.defineProperty(b,A,{enumerable:!0,get:function(){return E[P]}})}:function(b,E,P,A){A===void 0&&(A=P),b[A]=E[P]}),o=this&&this.__setModuleDefault||(Object.create?function(b,E){Object.defineProperty(b,"default",{enumerable:!0,value:E})}:function(b,E){b.default=E}),l=this&&this.__importStar||function(b){if(b&&b.__esModule)return b;var E={};if(b!=null)for(var P in b)P!=="default"&&Object.prototype.hasOwnProperty.call(b,P)&&a(E,b,P);return o(E,b),E};Object.defineProperty(n,"__esModule",{value:!0});var d=l(t(327)),c=t(954),u=t(955),f=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function m(b,E){if(!!b)return Object.keys(b).map(function(P){var A,_,M=(A=b[P])!==null&&A!==void 0?A:"";return E.xmlMode==="foreign"&&(P=(_=u.attributeNames.get(P))!==null&&_!==void 0?_:P),!E.emptyAttrs&&!E.xmlMode&&M===""?P:P+'="'+(E.decodeEntities!==!1?c.encodeXML(M):M.replace(/"/g,"&quot;"))+'"'}).join(" ")}var p=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function g(b,E){E===void 0&&(E={});for(var P=("length"in b)?b:[b],A="",_=0;_<P.length;_++)A+=O(P[_],E);return A}n.default=g;function O(b,E){switch(b.type){case d.Root:return g(b.children,E);case d.Directive:case d.Doctype:return h(b);case d.Comment:return y(b);case d.CDATA:return j(b);case d.Script:case d.Style:case d.Tag:return i(b,E);case d.Text:return v(b,E)}}var s=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),r=new Set(["svg","math"]);function i(b,E){var P;E.xmlMode==="foreign"&&(b.name=(P=u.elementNames.get(b.name))!==null&&P!==void 0?P:b.name,b.parent&&s.has(b.parent.name)&&(E=e(e({},E),{xmlMode:!1}))),!E.xmlMode&&r.has(b.name)&&(E=e(e({},E),{xmlMode:"foreign"}));var A="<"+b.name,_=m(b.attribs,E);return _&&(A+=" "+_),b.children.length===0&&(E.xmlMode?E.selfClosingTags!==!1:E.selfClosingTags&&p.has(b.name))?(E.xmlMode||(A+=" "),A+="/>"):(A+=">",b.children.length>0&&(A+=g(b.children,E)),(E.xmlMode||!p.has(b.name))&&(A+="</"+b.name+">")),A}function h(b){return"<"+b.data+">"}function v(b,E){var P=b.data||"";return E.decodeEntities!==!1&&!(!E.xmlMode&&b.parent&&f.has(b.parent.name))&&(P=c.encodeXML(P)),P}function j(b){return"<![CDATA["+b.children[0].data+"]]>"}function y(b){return"<!--"+b.data+"-->"}},function(k,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.decodeXMLStrict=n.decodeHTML5Strict=n.decodeHTML4Strict=n.decodeHTML5=n.decodeHTML4=n.decodeHTMLStrict=n.decodeHTML=n.decodeXML=n.encodeHTML5=n.encodeHTML4=n.escapeUTF8=n.escape=n.encodeNonAsciiHTML=n.encodeHTML=n.encodeXML=n.encode=n.decodeStrict=n.decode=void 0;var e=t(749),a=t(750);function o(f,m){return(!m||m<=0?e.decodeXML:e.decodeHTML)(f)}n.decode=o;function l(f,m){return(!m||m<=0?e.decodeXML:e.decodeHTMLStrict)(f)}n.decodeStrict=l;function d(f,m){return(!m||m<=0?a.encodeXML:a.encodeHTML)(f)}n.encode=d;var c=t(750);Object.defineProperty(n,"encodeXML",{enumerable:!0,get:function(){return c.encodeXML}}),Object.defineProperty(n,"encodeHTML",{enumerable:!0,get:function(){return c.encodeHTML}}),Object.defineProperty(n,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return c.encodeNonAsciiHTML}}),Object.defineProperty(n,"escape",{enumerable:!0,get:function(){return c.escape}}),Object.defineProperty(n,"escapeUTF8",{enumerable:!0,get:function(){return c.escapeUTF8}}),Object.defineProperty(n,"encodeHTML4",{enumerable:!0,get:function(){return c.encodeHTML}}),Object.defineProperty(n,"encodeHTML5",{enumerable:!0,get:function(){return c.encodeHTML}});var u=t(749);Object.defineProperty(n,"decodeXML",{enumerable:!0,get:function(){return u.decodeXML}}),Object.defineProperty(n,"decodeHTML",{enumerable:!0,get:function(){return u.decodeHTML}}),Object.defineProperty(n,"decodeHTMLStrict",{enumerable:!0,get:function(){return u.decodeHTMLStrict}}),Object.defineProperty(n,"decodeHTML4",{enumerable:!0,get:function(){return u.decodeHTML}}),Object.defineProperty(n,"decodeHTML5",{enumerable:!0,get:function(){return u.decodeHTML}}),Object.defineProperty(n,"decodeHTML4Strict",{enumerable:!0,get:function(){return u.decodeHTMLStrict}}),Object.defineProperty(n,"decodeHTML5Strict",{enumerable:!0,get:function(){return u.decodeHTMLStrict}}),Object.defineProperty(n,"decodeXMLStrict",{enumerable:!0,get:function(){return u.decodeXML}})},function(k,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.attributeNames=n.elementNames=void 0,n.elementNames=new Map([["altglyph","altGlyph"],["altglyphdef","altGlyphDef"],["altglyphitem","altGlyphItem"],["animatecolor","animateColor"],["animatemotion","animateMotion"],["animatetransform","animateTransform"],["clippath","clipPath"],["feblend","feBlend"],["fecolormatrix","feColorMatrix"],["fecomponenttransfer","feComponentTransfer"],["fecomposite","feComposite"],["feconvolvematrix","feConvolveMatrix"],["fediffuselighting","feDiffuseLighting"],["fedisplacementmap","feDisplacementMap"],["fedistantlight","feDistantLight"],["fedropshadow","feDropShadow"],["feflood","feFlood"],["fefunca","feFuncA"],["fefuncb","feFuncB"],["fefuncg","feFuncG"],["fefuncr","feFuncR"],["fegaussianblur","feGaussianBlur"],["feimage","feImage"],["femerge","feMerge"],["femergenode","feMergeNode"],["femorphology","feMorphology"],["feoffset","feOffset"],["fepointlight","fePointLight"],["fespecularlighting","feSpecularLighting"],["fespotlight","feSpotLight"],["fetile","feTile"],["feturbulence","feTurbulence"],["foreignobject","foreignObject"],["glyphref","glyphRef"],["lineargradient","linearGradient"],["radialgradient","radialGradient"],["textpath","textPath"]]),n.attributeNames=new Map([["definitionurl","definitionURL"],["attributename","attributeName"],["attributetype","attributeType"],["basefrequency","baseFrequency"],["baseprofile","baseProfile"],["calcmode","calcMode"],["clippathunits","clipPathUnits"],["diffuseconstant","diffuseConstant"],["edgemode","edgeMode"],["filterunits","filterUnits"],["glyphref","glyphRef"],["gradienttransform","gradientTransform"],["gradientunits","gradientUnits"],["kernelmatrix","kernelMatrix"],["kernelunitlength","kernelUnitLength"],["keypoints","keyPoints"],["keysplines","keySplines"],["keytimes","keyTimes"],["lengthadjust","lengthAdjust"],["limitingconeangle","limitingConeAngle"],["markerheight","markerHeight"],["markerunits","markerUnits"],["markerwidth","markerWidth"],["maskcontentunits","maskContentUnits"],["maskunits","maskUnits"],["numoctaves","numOctaves"],["pathlength","pathLength"],["patterncontentunits","patternContentUnits"],["patterntransform","patternTransform"],["patternunits","patternUnits"],["pointsatx","pointsAtX"],["pointsaty","pointsAtY"],["pointsatz","pointsAtZ"],["preservealpha","preserveAlpha"],["preserveaspectratio","preserveAspectRatio"],["primitiveunits","primitiveUnits"],["refx","refX"],["refy","refY"],["repeatcount","repeatCount"],["repeatdur","repeatDur"],["requiredextensions","requiredExtensions"],["requiredfeatures","requiredFeatures"],["specularconstant","specularConstant"],["specularexponent","specularExponent"],["spreadmethod","spreadMethod"],["startoffset","startOffset"],["stddeviation","stdDeviation"],["stitchtiles","stitchTiles"],["surfacescale","surfaceScale"],["systemlanguage","systemLanguage"],["tablevalues","tableValues"],["targetx","targetX"],["targety","targetY"],["textlength","textLength"],["viewbox","viewBox"],["viewtarget","viewTarget"],["xchannelselector","xChannelSelector"],["ychannelselector","yChannelSelector"],["zoomandpan","zoomAndPan"]])},function(k,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.prevElementSibling=n.nextElementSibling=n.getName=n.hasAttrib=n.getAttributeValue=n.getSiblings=n.getParent=n.getChildren=void 0;var e=t(277),a=[];function o(g){var O;return(O=g.children)!==null&&O!==void 0?O:a}n.getChildren=o;function l(g){return g.parent||null}n.getParent=l;function d(g){var O,s,r=l(g);if(r!=null)return o(r);for(var i=[g],h=g.prev,v=g.next;h!=null;)i.unshift(h),O=h,h=O.prev;for(;v!=null;)i.push(v),s=v,v=s.next;return i}n.getSiblings=d;function c(g,O){var s;return(s=g.attribs)===null||s===void 0?void 0:s[O]}n.getAttributeValue=c;function u(g,O){return g.attribs!=null&&Object.prototype.hasOwnProperty.call(g.attribs,O)&&g.attribs[O]!=null}n.hasAttrib=u;function f(g){return g.name}n.getName=f;function m(g){for(var O,s=g.next;s!==null&&!(0,e.isTag)(s);)O=s,s=O.next;return s}n.nextElementSibling=m;function p(g){for(var O,s=g.prev;s!==null&&!(0,e.isTag)(s);)O=s,s=O.prev;return s}n.prevElementSibling=p},function(k,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.prepend=n.prependChild=n.append=n.appendChild=n.replaceElement=n.removeElement=void 0;function e(u){if(u.prev&&(u.prev.next=u.next),u.next&&(u.next.prev=u.prev),u.parent){var f=u.parent.children;f.splice(f.lastIndexOf(u),1)}}n.removeElement=e;function a(u,f){var m=f.prev=u.prev;m&&(m.next=f);var p=f.next=u.next;p&&(p.prev=f);var g=f.parent=u.parent;if(g){var O=g.children;O[O.lastIndexOf(u)]=f}}n.replaceElement=a;function o(u,f){if(e(f),f.next=null,f.parent=u,u.children.push(f)>1){var m=u.children[u.children.length-2];m.next=f,f.prev=m}else f.prev=null}n.appendChild=o;function l(u,f){e(f);var m=u.parent,p=u.next;if(f.next=p,f.prev=u,u.next=f,f.parent=m,p){if(p.prev=f,m){var g=m.children;g.splice(g.lastIndexOf(p),0,f)}}else m&&m.children.push(f)}n.append=l;function d(u,f){if(e(f),f.parent=u,f.prev=null,u.children.unshift(f)!==1){var m=u.children[1];m.prev=f,f.next=m}else f.next=null}n.prependChild=d;function c(u,f){e(f);var m=u.parent;if(m){var p=m.children;p.splice(p.indexOf(u),0,f)}u.prev&&(u.prev.next=f),f.parent=m,f.prev=u.prev,f.next=u,u.prev=f}n.prepend=c},function(k,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.uniqueSort=n.compareDocumentPosition=n.removeSubsets=void 0;var e=t(277);function a(d){for(var c=d.length;--c>=0;){var u=d[c];if(c>0&&d.lastIndexOf(u,c-1)>=0){d.splice(c,1);continue}for(var f=u.parent;f;f=f.parent)if(d.includes(f)){d.splice(c,1);break}}return d}n.removeSubsets=a;function o(d,c){var u=[],f=[];if(d===c)return 0;for(var m=(0,e.hasChildren)(d)?d:d.parent;m;)u.unshift(m),m=m.parent;for(m=(0,e.hasChildren)(c)?c:c.parent;m;)f.unshift(m),m=m.parent;for(var p=Math.min(u.length,f.length),g=0;g<p&&u[g]===f[g];)g++;if(g===0)return 1;var O=u[g-1],s=O.children,r=u[g],i=f[g];return s.indexOf(r)>s.indexOf(i)?O===c?4|16:4:O===d?2|8:2}n.compareDocumentPosition=o;function l(d){return d=d.filter(function(c,u,f){return!f.includes(c,u+1)}),d.sort(function(c,u){var f=o(c,u);return f&2?-1:f&4?1:0}),d}n.uniqueSort=l},function(k,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getFeed=void 0;var e=t(747),a=t(752);function o(s){var r=m(O,s);return r?r.name==="feed"?l(r):d(r):null}n.getFeed=o;function l(s){var r,i=s.children,h={type:"atom",items:(0,a.getElementsByTagName)("entry",i).map(function(y){var b,E=y.children,P={media:f(E)};g(P,"id","id",E),g(P,"title","title",E);var A=(b=m("link",E))===null||b===void 0?void 0:b.attribs.href;A&&(P.link=A);var _=p("summary",E)||p("content",E);_&&(P.description=_);var M=p("updated",E);return M&&(P.pubDate=new Date(M)),P})};g(h,"id","id",i),g(h,"title","title",i);var v=(r=m("link",i))===null||r===void 0?void 0:r.attribs.href;v&&(h.link=v),g(h,"description","subtitle",i);var j=p("updated",i);return j&&(h.updated=new Date(j)),g(h,"author","email",i,!0),h}function d(s){var r,i,h=(i=(r=m("channel",s.children))===null||r===void 0?void 0:r.children)!==null&&i!==void 0?i:[],v={type:s.name.substr(0,3),id:"",items:(0,a.getElementsByTagName)("item",s.children).map(function(y){var b=y.children,E={media:f(b)};g(E,"id","guid",b),g(E,"title","title",b),g(E,"link","link",b),g(E,"description","description",b);var P=p("pubDate",b);return P&&(E.pubDate=new Date(P)),E})};g(v,"title","title",h),g(v,"link","link",h),g(v,"description","description",h);var j=p("lastBuildDate",h);return j&&(v.updated=new Date(j)),g(v,"author","managingEditor",h,!0),v}var c=["url","type","lang"],u=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function f(s){return(0,a.getElementsByTagName)("media:content",s).map(function(r){for(var i=r.attribs,h={medium:i.medium,isDefault:!!i.isDefault},v=0,j=c;v<j.length;v++){var y=j[v];i[y]&&(h[y]=i[y])}for(var b=0,E=u;b<E.length;b++){var y=E[b];i[y]&&(h[y]=parseInt(i[y],10))}return i.expression&&(h.expression=i.expression),h})}function m(s,r){return(0,a.getElementsByTagName)(s,r,!0,1)[0]}function p(s,r,i){return i===void 0&&(i=!1),(0,e.textContent)((0,a.getElementsByTagName)(s,r,i,1)).trim()}function g(s,r,i,h,v){v===void 0&&(v=!1);var j=p(i,h,v);j&&(s[r]=j)}function O(s){return s==="rss"||s==="feed"||s==="rdf:RDF"}},function(k,n){},function(k,n,t){"use strict";var e=this&&this.__extends||function(){var d=function(c,u){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,m){f.__proto__=m}||function(f,m){for(var p in m)m.hasOwnProperty(p)&&(f[p]=m[p])},d(c,u)};return function(c,u){d(c,u);function f(){this.constructor=c}c.prototype=u===null?Object.create(u):(f.prototype=u.prototype,new f)}}(),a=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(n,"__esModule",{value:!0});var o=a(t(962)),l=function(d){e(c,d);function c(u){u===void 0&&(u={});var f=d.call(this,function(m){for(var p,g=[],O=1;O<arguments.length;O++)g[O-1]=arguments[O];f.events.push([m].concat(g)),f._cbs[m]&&(p=f._cbs)[m].apply(p,g)})||this;return f._cbs=u,f.events=[],f}return c.prototype.onreset=function(){this.events=[],this._cbs.onreset&&this._cbs.onreset()},c.prototype.restart=function(){var u;this._cbs.onreset&&this._cbs.onreset();for(var f=0;f<this.events.length;f++){var m=this.events[f],p=m[0],g=m.slice(1);!this._cbs[p]||(u=this._cbs)[p].apply(u,g)}},c}(o.default);n.CollectingHandler=l},function(k,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=function(){function a(o){this._func=o}return a.prototype.onattribute=function(o,l){this._func("onattribute",o,l)},a.prototype.oncdatastart=function(){this._func("oncdatastart")},a.prototype.oncdataend=function(){this._func("oncdataend")},a.prototype.ontext=function(o){this._func("ontext",o)},a.prototype.onprocessinginstruction=function(o,l){this._func("onprocessinginstruction",o,l)},a.prototype.oncomment=function(o){this._func("oncomment",o)},a.prototype.oncommentend=function(){this._func("oncommentend")},a.prototype.onclosetag=function(o){this._func("onclosetag",o)},a.prototype.onopentag=function(o,l){this._func("onopentag",o,l)},a.prototype.onopentagname=function(o){this._func("onopentagname",o)},a.prototype.onerror=function(o){this._func("onerror",o)},a.prototype.onend=function(){this._func("onend")},a.prototype.onparserinit=function(o){this._func("onparserinit",o)},a.prototype.onreset=function(){this._func("onreset")},a}();n.default=e},function(k,n,t){"use strict";k.exports=e=>{if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}},function(k,n,t){"use strict";t.r(n),t.d(n,"klona",function(){return e});function e(a){if(typeof a!="object")return a;var o,l,d=Object.prototype.toString.call(a);if(d==="[object Object]"){if(a.constructor!==Object&&typeof a.constructor=="function"){l=new a.constructor;for(o in a)l.hasOwnProperty(o)&&l[o]!==a[o]&&(l[o]=e(a[o]))}else{l={};for(o in a)o==="__proto__"?Object.defineProperty(l,o,{value:e(a[o]),configurable:!0,enumerable:!0,writable:!0}):l[o]=e(a[o])}return l}if(d==="[object Array]"){for(o=a.length,l=Array(o);o--;)l[o]=e(a[o]);return l}return d==="[object Set]"?(l=new Set,a.forEach(function(c){l.add(e(c))}),l):d==="[object Map]"?(l=new Map,a.forEach(function(c,u){l.set(e(u),e(c))}),l):d==="[object Date]"?new Date(+a):d==="[object RegExp]"?(l=new RegExp(a.source,a.flags),l.lastIndex=a.lastIndex,l):d==="[object DataView]"?new a.constructor(e(a.buffer)):d==="[object ArrayBuffer]"?a.slice(0):d.slice(-6)==="Array]"?new a.constructor(a):a}},function(k,n,t){"use strict";t.r(n),t.d(n,"isPlainObject",function(){return a});/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function e(o){return Object.prototype.toString.call(o)==="[object Object]"}function a(o){var l,d;return e(o)===!1?!1:(l=o.constructor,l===void 0?!0:(d=l.prototype,!(e(d)===!1||d.hasOwnProperty("isPrototypeOf")===!1)))}},function(k,n,t){"use strict";var e=function(y){return a(y)&&!o(y)};function a(j){return!!j&&typeof j=="object"}function o(j){var y=Object.prototype.toString.call(j);return y==="[object RegExp]"||y==="[object Date]"||c(j)}var l=typeof Symbol=="function"&&Symbol.for,d=l?Symbol.for("react.element"):60103;function c(j){return j.$$typeof===d}function u(j){return Array.isArray(j)?[]:{}}function f(j,y){return y.clone!==!1&&y.isMergeableObject(j)?h(u(j),j,y):j}function m(j,y,b){return j.concat(y).map(function(E){return f(E,b)})}function p(j,y){if(!y.customMerge)return h;var b=y.customMerge(j);return typeof b=="function"?b:h}function g(j){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(j).filter(function(y){return j.propertyIsEnumerable(y)}):[]}function O(j){return Object.keys(j).concat(g(j))}function s(j,y){try{return y in j}catch(b){return!1}}function r(j,y){return s(j,y)&&!(Object.hasOwnProperty.call(j,y)&&Object.propertyIsEnumerable.call(j,y))}function i(j,y,b){var E={};return b.isMergeableObject(j)&&O(j).forEach(function(P){E[P]=f(j[P],b)}),O(y).forEach(function(P){r(j,P)||(s(j,P)&&b.isMergeableObject(y[P])?E[P]=p(P,b)(j[P],y[P],b):E[P]=f(y[P],b))}),E}function h(j,y,b){b=b||{},b.arrayMerge=b.arrayMerge||m,b.isMergeableObject=b.isMergeableObject||e,b.cloneUnlessOtherwiseSpecified=f;var E=Array.isArray(y),P=Array.isArray(j),A=E===P;return A?E?b.arrayMerge(j,y,b):i(j,y,b):f(y,b)}h.all=function(y,b){if(!Array.isArray(y))throw new Error("first argument should be an array");return y.reduce(function(E,P){return h(E,P,b)},{})};var v=h;k.exports=v},function(k,n,t){var e,a,o;(function(l,d){a=[],e=d,o=typeof e=="function"?e.apply(n,a):e,o!==void 0&&(k.exports=o)})(this,function(){return function(l){function d(A){return A===" "||A==="	"||A===`
`||A==="\f"||A==="\r"}function c(A){var _,M=A.exec(l.substring(y));if(M)return _=M[0],y+=_.length,_}for(var u=l.length,f=/^[ \t\n\r\u000c]+/,m=/^[, \t\n\r\u000c]+/,p=/^[^ \t\n\r\u000c]+/,g=/[,]+$/,O=/^\d+$/,s=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,r,i,h,v,j,y=0,b=[];;){if(c(m),y>=u)return b;r=c(p),i=[],r.slice(-1)===","?(r=r.replace(g,""),P()):E()}function E(){for(c(f),h="",v="in descriptor";;){if(j=l.charAt(y),v==="in descriptor")if(d(j))h&&(i.push(h),h="",v="after descriptor");else if(j===","){y+=1,h&&i.push(h),P();return}else if(j==="(")h=h+j,v="in parens";else if(j===""){h&&i.push(h),P();return}else h=h+j;else if(v==="in parens")if(j===")")h=h+j,v="in descriptor";else if(j===""){i.push(h),P();return}else h=h+j;else if(v==="after descriptor"&&!d(j))if(j===""){P();return}else v="in descriptor",y-=1;y+=1}}function P(){var A=!1,_,M,F,H,C={},T,S,D,w,U;for(H=0;H<i.length;H++)T=i[H],S=T[T.length-1],D=T.substring(0,T.length-1),w=parseInt(D,10),U=parseFloat(D),O.test(D)&&S==="w"?((_||M)&&(A=!0),w===0?A=!0:_=w):s.test(D)&&S==="x"?((_||M||F)&&(A=!0),U<0?A=!0:M=U):O.test(D)&&S==="h"?((F||M)&&(A=!0),w===0?A=!0:F=w):A=!0;A?console&&console.log&&console.log("Invalid srcset descriptor found in '"+l+"' at '"+T+"'."):(C.url=r,_&&(C.w=_),M&&(C.d=M),F&&(C.h=F),b.push(C))}}})},function(k,n,t){"use strict";(function(e){let a=t(487),o=t(488),l=t(755),d=t(329),c=t(991),u=t(490),f=t(761),m=t(492),p=t(763),g=t(760),O=t(766),s=t(762),r=t(765),i=t(764),h=t(395),v=t(394);function j(...y){return y.length===1&&Array.isArray(y[0])&&(y=y[0]),new c(y,j)}j.plugin=function(b,E){console&&console.warn&&(console.warn(`postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),e.env.LANG&&e.env.LANG.startsWith("cn")&&console.warn(`postcss.plugin \u88AB\u5F03\u7528. \u8FC1\u79FB\u6307\u5357:
https://www.w3ctech.com/topic/2226`));function P(..._){let M=E(..._);return M.postcssPlugin=b,M.postcssVersion=new c().version,M}let A;return Object.defineProperty(P,"postcss",{get(){return A||(A=P()),A}}),P.process=function(_,M,F){return j([P(F)]).process(_,M)},P},j.stringify=u,j.parse=s,j.list=r,j.comment=y=>new m(y),j.atRule=y=>new p(y),j.decl=y=>new o(y),j.rule=y=>new i(y),j.root=y=>new h(y),j.CssSyntaxError=a,j.Declaration=o,j.Container=d,j.Comment=m,j.Warning=f,j.AtRule=p,j.Result=g,j.Input=O,j.Rule=i,j.Root=h,j.Node=v,l.registerPostcss(j),k.exports=j,j.default=j}).call(this,t(195))},function(k,n){},function(k,n,t){"use strict";(function(e){let{dirname:a,resolve:o,relative:l,sep:d}=t(460),{pathToFileURL:c}=t(491),u=t(756);class f{constructor(p,g,O){this.stringify=p,this.mapOpts=O.map||{},this.root=g,this.opts=O}isMap(){return typeof this.opts.map!="undefined"?!!this.opts.map:this.previous().length>0}previous(){return this.previousMaps||(this.previousMaps=[],this.root.walk(p=>{if(p.source&&p.source.input.map){let g=p.source.input.map;this.previousMaps.includes(g)||this.previousMaps.push(g)}})),this.previousMaps}isInline(){if(typeof this.mapOpts.inline!="undefined")return this.mapOpts.inline;let p=this.mapOpts.annotation;return typeof p!="undefined"&&p!==!0?!1:this.previous().length?this.previous().some(g=>g.inline):!0}isSourcesContent(){return typeof this.mapOpts.sourcesContent!="undefined"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(p=>p.withContent()):!0}clearAnnotation(){if(this.mapOpts.annotation===!1)return;let p;for(let g=this.root.nodes.length-1;g>=0;g--)p=this.root.nodes[g],p.type==="comment"&&p.text.indexOf("# sourceMappingURL=")===0&&this.root.removeChild(g)}setSourcesContent(){let p={};this.root.walk(g=>{if(g.source){let O=g.source.input.from;O&&!p[O]&&(p[O]=!0,this.map.setSourceContent(this.toUrl(this.path(O)),g.source.input.css))}})}applyPrevMaps(){for(let p of this.previous()){let g=this.toUrl(this.path(p.file)),O=p.root||a(p.file),s;this.mapOpts.sourcesContent===!1?(s=new u.SourceMapConsumer(p.text),s.sourcesContent&&(s.sourcesContent=s.sourcesContent.map(()=>null))):s=p.consumer(),this.map.applySourceMap(s,g,this.toUrl(this.path(O)))}}isAnnotation(){return this.isInline()?!0:typeof this.mapOpts.annotation!="undefined"?this.mapOpts.annotation:this.previous().length?this.previous().some(p=>p.annotation):!0}toBase64(p){return e?e.from(p).toString("base64"):window.btoa(unescape(encodeURIComponent(p)))}addAnnotation(){let p;this.isInline()?p="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?p=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?p=this.mapOpts.annotation(this.opts.to,this.root):p=this.outputFile()+".map";let g=`
`;this.css.includes(`\r
`)&&(g=`\r
`),this.css+=g+"/*# sourceMappingURL="+p+" */"}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}generateMap(){return this.generateString(),this.isSourcesContent()&&this.setSourcesContent(),this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}path(p){if(p.indexOf("<")===0||/^\w+:\/\//.test(p)||this.mapOpts.absolute)return p;let g=this.opts.to?a(this.opts.to):".";return typeof this.mapOpts.annotation=="string"&&(g=a(o(g,this.mapOpts.annotation))),p=l(g,p),p}toUrl(p){return d==="\\"&&(p=p.replace(/\\/g,"/")),encodeURI(p).replace(/[#?]/g,encodeURIComponent)}sourcePath(p){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.mapOpts.absolute?c(p.source.input.from).toString():this.toUrl(this.path(p.source.input.from))}generateString(){this.css="",this.map=new u.SourceMapGenerator({file:this.outputFile()});let p=1,g=1,O,s;this.stringify(this.root,(r,i,h)=>{if(this.css+=r,i&&h!=="end"&&(i.source&&i.source.start?this.map.addMapping({source:this.sourcePath(i),generated:{line:p,column:g-1},original:{line:i.source.start.line,column:i.source.start.column-1}}):this.map.addMapping({source:"<no source>",original:{line:1,column:0},generated:{line:p,column:g-1}})),O=r.match(/\n/g),O?(p+=O.length,s=r.lastIndexOf(`
`),g=r.length-s):g+=r.length,i&&h!=="start"){let v=i.parent||{raws:{}};(i.type!=="decl"||i!==v.last||v.raws.semicolon)&&(i.source&&i.source.end?this.map.addMapping({source:this.sourcePath(i),generated:{line:p,column:g-2},original:{line:i.source.end.line,column:i.source.end.column-1}}):this.map.addMapping({source:"<no source>",original:{line:1,column:0},generated:{line:p,column:g-1}}))}})}generate(){if(this.clearAnnotation(),this.isMap())return this.generateMap();let p="";return this.stringify(this.root,g=>{p+=g}),[p]}}k.exports=f}).call(this,t(370).Buffer)},function(k,n,t){"use strict";n.byteLength=f,n.toByteArray=m,n.fromByteArray=O;for(var e=[],a=[],o=typeof Uint8Array!="undefined"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,c=l.length;d<c;++d)e[d]=l[d],a[l.charCodeAt(d)]=d;a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63;function u(s){var r=s.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return s[r-2]==="="?2:s[r-1]==="="?1:0}function f(s){return s.length*3/4-u(s)}function m(s){var r,i,h,v,j,y=s.length;v=u(s),j=new o(y*3/4-v),i=v>0?y-4:y;var b=0;for(r=0;r<i;r+=4)h=a[s.charCodeAt(r)]<<18|a[s.charCodeAt(r+1)]<<12|a[s.charCodeAt(r+2)]<<6|a[s.charCodeAt(r+3)],j[b++]=h>>16&255,j[b++]=h>>8&255,j[b++]=h&255;return v===2?(h=a[s.charCodeAt(r)]<<2|a[s.charCodeAt(r+1)]>>4,j[b++]=h&255):v===1&&(h=a[s.charCodeAt(r)]<<10|a[s.charCodeAt(r+1)]<<4|a[s.charCodeAt(r+2)]>>2,j[b++]=h>>8&255,j[b++]=h&255),j}function p(s){return e[s>>18&63]+e[s>>12&63]+e[s>>6&63]+e[s&63]}function g(s,r,i){for(var h,v=[],j=r;j<i;j+=3)h=(s[j]<<16)+(s[j+1]<<8)+s[j+2],v.push(p(h));return v.join("")}function O(s){for(var r,i=s.length,h=i%3,v="",j=[],y=16383,b=0,E=i-h;b<E;b+=y)j.push(g(s,b,b+y>E?E:b+y));return h===1?(r=s[i-1],v+=e[r>>2],v+=e[r<<4&63],v+="=="):h===2&&(r=(s[i-2]<<8)+s[i-1],v+=e[r>>10],v+=e[r>>4&63],v+=e[r<<2&63],v+="="),j.push(v),j.join("")}},function(k,n){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */n.read=function(t,e,a,o,l){var d,c,u=l*8-o-1,f=(1<<u)-1,m=f>>1,p=-7,g=a?l-1:0,O=a?-1:1,s=t[e+g];for(g+=O,d=s&(1<<-p)-1,s>>=-p,p+=u;p>0;d=d*256+t[e+g],g+=O,p-=8);for(c=d&(1<<-p)-1,d>>=-p,p+=o;p>0;c=c*256+t[e+g],g+=O,p-=8);if(d===0)d=1-m;else{if(d===f)return c?NaN:(s?-1:1)*(1/0);c=c+Math.pow(2,o),d=d-m}return(s?-1:1)*c*Math.pow(2,d-o)},n.write=function(t,e,a,o,l,d){var c,u,f,m=d*8-l-1,p=(1<<m)-1,g=p>>1,O=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,s=o?0:d-1,r=o?1:-1,i=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,c=p):(c=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-c))<1&&(c--,f*=2),c+g>=1?e+=O/f:e+=O*Math.pow(2,1-g),e*f>=2&&(c++,f/=2),c+g>=p?(u=0,c=p):c+g>=1?(u=(e*f-1)*Math.pow(2,l),c=c+g):(u=e*Math.pow(2,g-1)*Math.pow(2,l),c=0));l>=8;t[a+s]=u&255,s+=r,u/=256,l-=8);for(c=c<<l|u,m+=l;m>0;t[a+s]=c&255,s+=r,c/=256,m-=8);t[a+s-r]|=i*128}},function(k,n){var t={}.toString;k.exports=Array.isArray||function(e){return t.call(e)=="[object Array]"}},function(k,n,t){"use strict";k.exports={isString:function(e){return typeof e=="string"},isObject:function(e){return typeof e=="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}}},function(k,n,t){"use strict";n.decode=n.parse=t(976),n.encode=n.stringify=t(977)},function(k,n,t){"use strict";function e(o,l){return Object.prototype.hasOwnProperty.call(o,l)}k.exports=function(o,l,d,c){l=l||"&",d=d||"=";var u={};if(typeof o!="string"||o.length===0)return u;var f=/\+/g;o=o.split(l);var m=1e3;c&&typeof c.maxKeys=="number"&&(m=c.maxKeys);var p=o.length;m>0&&p>m&&(p=m);for(var g=0;g<p;++g){var O=o[g].replace(f,"%20"),s=O.indexOf(d),r,i,h,v;s>=0?(r=O.substr(0,s),i=O.substr(s+1)):(r=O,i=""),h=decodeURIComponent(r),v=decodeURIComponent(i),e(u,h)?a(u[h])?u[h].push(v):u[h]=[u[h],v]:u[h]=v}return u};var a=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"}},function(k,n,t){"use strict";var e=function(d){switch(typeof d){case"string":return d;case"boolean":return d?"true":"false";case"number":return isFinite(d)?d:"";default:return""}};k.exports=function(d,c,u,f){return c=c||"&",u=u||"=",d===null&&(d=void 0),typeof d=="object"?o(l(d),function(m){var p=encodeURIComponent(e(m))+u;return a(d[m])?o(d[m],function(g){return p+encodeURIComponent(e(g))}).join(c):p+encodeURIComponent(e(d[m]))}).join(c):f?encodeURIComponent(e(f))+u+encodeURIComponent(e(d)):""};var a=Array.isArray||function(d){return Object.prototype.toString.call(d)==="[object Array]"};function o(d,c){if(d.map)return d.map(c);for(var u=[],f=0;f<d.length;f++)u.push(c(d[f],f));return u}var l=Object.keys||function(d){var c=[];for(var u in d)Object.prototype.hasOwnProperty.call(d,u)&&c.push(u);return c}},function(k,n){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");n.encode=function(e){if(0<=e&&e<t.length)return t[e];throw new TypeError("Must be between 0 and 63: "+e)},n.decode=function(e){var a=65,o=90,l=97,d=122,c=48,u=57,f=43,m=47,p=26,g=52;return a<=e&&e<=o?e-a:l<=e&&e<=d?e-l+p:c<=e&&e<=u?e-c+g:e==f?62:e==m?63:-1}},function(k,n,t){var e=t(328);function a(l,d){var c=l.generatedLine,u=d.generatedLine,f=l.generatedColumn,m=d.generatedColumn;return u>c||u==c&&m>=f||e.compareByGeneratedPositionsInflated(l,d)<=0}function o(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}o.prototype.unsortedForEach=function(d,c){this._array.forEach(d,c)},o.prototype.add=function(d){a(this._last,d)?(this._last=d,this._array.push(d)):(this._sorted=!1,this._array.push(d))},o.prototype.toArray=function(){return this._sorted||(this._array.sort(e.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},n.MappingList=o},function(k,n,t){var e=t(328),a=t(981),o=t(759).ArraySet,l=t(758),d=t(982).quickSort;function c(p,g){var O=p;return typeof p=="string"&&(O=e.parseSourceMapInput(p)),O.sections!=null?new m(O,g):new u(O,g)}c.fromSourceMap=function(p,g){return u.fromSourceMap(p,g)},c.prototype._version=3,c.prototype.__generatedMappings=null,Object.defineProperty(c.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),c.prototype.__originalMappings=null,Object.defineProperty(c.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),c.prototype._charIsMappingSeparator=function(g,O){var s=g.charAt(O);return s===";"||s===","},c.prototype._parseMappings=function(g,O){throw new Error("Subclasses must implement _parseMappings")},c.GENERATED_ORDER=1,c.ORIGINAL_ORDER=2,c.GREATEST_LOWER_BOUND=1,c.LEAST_UPPER_BOUND=2,c.prototype.eachMapping=function(g,O,s){var r=O||null,i=s||c.GENERATED_ORDER,h;switch(i){case c.GENERATED_ORDER:h=this._generatedMappings;break;case c.ORIGINAL_ORDER:h=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var v=this.sourceRoot;h.map(function(j){var y=j.source===null?null:this._sources.at(j.source);return y=e.computeSourceURL(v,y,this._sourceMapURL),{source:y,generatedLine:j.generatedLine,generatedColumn:j.generatedColumn,originalLine:j.originalLine,originalColumn:j.originalColumn,name:j.name===null?null:this._names.at(j.name)}},this).forEach(g,r)},c.prototype.allGeneratedPositionsFor=function(g){var O=e.getArg(g,"line"),s={source:e.getArg(g,"source"),originalLine:O,originalColumn:e.getArg(g,"column",0)};if(s.source=this._findSourceIndex(s.source),s.source<0)return[];var r=[],i=this._findMapping(s,this._originalMappings,"originalLine","originalColumn",e.compareByOriginalPositions,a.LEAST_UPPER_BOUND);if(i>=0){var h=this._originalMappings[i];if(g.column===void 0)for(var v=h.originalLine;h&&h.originalLine===v;)r.push({line:e.getArg(h,"generatedLine",null),column:e.getArg(h,"generatedColumn",null),lastColumn:e.getArg(h,"lastGeneratedColumn",null)}),h=this._originalMappings[++i];else for(var j=h.originalColumn;h&&h.originalLine===O&&h.originalColumn==j;)r.push({line:e.getArg(h,"generatedLine",null),column:e.getArg(h,"generatedColumn",null),lastColumn:e.getArg(h,"lastGeneratedColumn",null)}),h=this._originalMappings[++i]}return r},n.SourceMapConsumer=c;function u(p,g){var O=p;typeof p=="string"&&(O=e.parseSourceMapInput(p));var s=e.getArg(O,"version"),r=e.getArg(O,"sources"),i=e.getArg(O,"names",[]),h=e.getArg(O,"sourceRoot",null),v=e.getArg(O,"sourcesContent",null),j=e.getArg(O,"mappings"),y=e.getArg(O,"file",null);if(s!=this._version)throw new Error("Unsupported version: "+s);h&&(h=e.normalize(h)),r=r.map(String).map(e.normalize).map(function(b){return h&&e.isAbsolute(h)&&e.isAbsolute(b)?e.relative(h,b):b}),this._names=o.fromArray(i.map(String),!0),this._sources=o.fromArray(r,!0),this._absoluteSources=this._sources.toArray().map(function(b){return e.computeSourceURL(h,b,g)}),this.sourceRoot=h,this.sourcesContent=v,this._mappings=j,this._sourceMapURL=g,this.file=y}u.prototype=Object.create(c.prototype),u.prototype.consumer=c,u.prototype._findSourceIndex=function(p){var g=p;if(this.sourceRoot!=null&&(g=e.relative(this.sourceRoot,g)),this._sources.has(g))return this._sources.indexOf(g);var O;for(O=0;O<this._absoluteSources.length;++O)if(this._absoluteSources[O]==p)return O;return-1},u.fromSourceMap=function(g,O){var s=Object.create(u.prototype),r=s._names=o.fromArray(g._names.toArray(),!0),i=s._sources=o.fromArray(g._sources.toArray(),!0);s.sourceRoot=g._sourceRoot,s.sourcesContent=g._generateSourcesContent(s._sources.toArray(),s.sourceRoot),s.file=g._file,s._sourceMapURL=O,s._absoluteSources=s._sources.toArray().map(function(A){return e.computeSourceURL(s.sourceRoot,A,O)});for(var h=g._mappings.toArray().slice(),v=s.__generatedMappings=[],j=s.__originalMappings=[],y=0,b=h.length;y<b;y++){var E=h[y],P=new f;P.generatedLine=E.generatedLine,P.generatedColumn=E.generatedColumn,E.source&&(P.source=i.indexOf(E.source),P.originalLine=E.originalLine,P.originalColumn=E.originalColumn,E.name&&(P.name=r.indexOf(E.name)),j.push(P)),v.push(P)}return d(s.__originalMappings,e.compareByOriginalPositions),s},u.prototype._version=3,Object.defineProperty(u.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function f(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}u.prototype._parseMappings=function(g,O){for(var s=1,r=0,i=0,h=0,v=0,j=0,y=g.length,b=0,E={},P={},A=[],_=[],M,F,H,C,T;b<y;)if(g.charAt(b)===";")s++,b++,r=0;else if(g.charAt(b)===",")b++;else{for(M=new f,M.generatedLine=s,C=b;C<y&&!this._charIsMappingSeparator(g,C);C++);if(F=g.slice(b,C),H=E[F],H)b+=F.length;else{for(H=[];b<C;)l.decode(g,b,P),T=P.value,b=P.rest,H.push(T);if(H.length===2)throw new Error("Found a source, but no line and column");if(H.length===3)throw new Error("Found a source and line, but no column");E[F]=H}M.generatedColumn=r+H[0],r=M.generatedColumn,H.length>1&&(M.source=v+H[1],v+=H[1],M.originalLine=i+H[2],i=M.originalLine,M.originalLine+=1,M.originalColumn=h+H[3],h=M.originalColumn,H.length>4&&(M.name=j+H[4],j+=H[4])),_.push(M),typeof M.originalLine=="number"&&A.push(M)}d(_,e.compareByGeneratedPositionsDeflated),this.__generatedMappings=_,d(A,e.compareByOriginalPositions),this.__originalMappings=A},u.prototype._findMapping=function(g,O,s,r,i,h){if(g[s]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+g[s]);if(g[r]<0)throw new TypeError("Column must be greater than or equal to 0, got "+g[r]);return a.search(g,O,i,h)},u.prototype.computeColumnSpans=function(){for(var g=0;g<this._generatedMappings.length;++g){var O=this._generatedMappings[g];if(g+1<this._generatedMappings.length){var s=this._generatedMappings[g+1];if(O.generatedLine===s.generatedLine){O.lastGeneratedColumn=s.generatedColumn-1;continue}}O.lastGeneratedColumn=1/0}},u.prototype.originalPositionFor=function(g){var O={generatedLine:e.getArg(g,"line"),generatedColumn:e.getArg(g,"column")},s=this._findMapping(O,this._generatedMappings,"generatedLine","generatedColumn",e.compareByGeneratedPositionsDeflated,e.getArg(g,"bias",c.GREATEST_LOWER_BOUND));if(s>=0){var r=this._generatedMappings[s];if(r.generatedLine===O.generatedLine){var i=e.getArg(r,"source",null);i!==null&&(i=this._sources.at(i),i=e.computeSourceURL(this.sourceRoot,i,this._sourceMapURL));var h=e.getArg(r,"name",null);return h!==null&&(h=this._names.at(h)),{source:i,line:e.getArg(r,"originalLine",null),column:e.getArg(r,"originalColumn",null),name:h}}}return{source:null,line:null,column:null,name:null}},u.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(g){return g==null}):!1},u.prototype.sourceContentFor=function(g,O){if(!this.sourcesContent)return null;var s=this._findSourceIndex(g);if(s>=0)return this.sourcesContent[s];var r=g;this.sourceRoot!=null&&(r=e.relative(this.sourceRoot,r));var i;if(this.sourceRoot!=null&&(i=e.urlParse(this.sourceRoot))){var h=r.replace(/^file:\/\//,"");if(i.scheme=="file"&&this._sources.has(h))return this.sourcesContent[this._sources.indexOf(h)];if((!i.path||i.path=="/")&&this._sources.has("/"+r))return this.sourcesContent[this._sources.indexOf("/"+r)]}if(O)return null;throw new Error('"'+r+'" is not in the SourceMap.')},u.prototype.generatedPositionFor=function(g){var O=e.getArg(g,"source");if(O=this._findSourceIndex(O),O<0)return{line:null,column:null,lastColumn:null};var s={source:O,originalLine:e.getArg(g,"line"),originalColumn:e.getArg(g,"column")},r=this._findMapping(s,this._originalMappings,"originalLine","originalColumn",e.compareByOriginalPositions,e.getArg(g,"bias",c.GREATEST_LOWER_BOUND));if(r>=0){var i=this._originalMappings[r];if(i.source===s.source)return{line:e.getArg(i,"generatedLine",null),column:e.getArg(i,"generatedColumn",null),lastColumn:e.getArg(i,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},n.BasicSourceMapConsumer=u;function m(p,g){var O=p;typeof p=="string"&&(O=e.parseSourceMapInput(p));var s=e.getArg(O,"version"),r=e.getArg(O,"sections");if(s!=this._version)throw new Error("Unsupported version: "+s);this._sources=new o,this._names=new o;var i={line:-1,column:0};this._sections=r.map(function(h){if(h.url)throw new Error("Support for url field in sections not implemented.");var v=e.getArg(h,"offset"),j=e.getArg(v,"line"),y=e.getArg(v,"column");if(j<i.line||j===i.line&&y<i.column)throw new Error("Section offsets must be ordered and non-overlapping.");return i=v,{generatedOffset:{generatedLine:j+1,generatedColumn:y+1},consumer:new c(e.getArg(h,"map"),g)}})}m.prototype=Object.create(c.prototype),m.prototype.constructor=c,m.prototype._version=3,Object.defineProperty(m.prototype,"sources",{get:function(){for(var p=[],g=0;g<this._sections.length;g++)for(var O=0;O<this._sections[g].consumer.sources.length;O++)p.push(this._sections[g].consumer.sources[O]);return p}}),m.prototype.originalPositionFor=function(g){var O={generatedLine:e.getArg(g,"line"),generatedColumn:e.getArg(g,"column")},s=a.search(O,this._sections,function(i,h){var v=i.generatedLine-h.generatedOffset.generatedLine;return v||i.generatedColumn-h.generatedOffset.generatedColumn}),r=this._sections[s];return r?r.consumer.originalPositionFor({line:O.generatedLine-(r.generatedOffset.generatedLine-1),column:O.generatedColumn-(r.generatedOffset.generatedLine===O.generatedLine?r.generatedOffset.generatedColumn-1:0),bias:g.bias}):{source:null,line:null,column:null,name:null}},m.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(g){return g.consumer.hasContentsOfAllSources()})},m.prototype.sourceContentFor=function(g,O){for(var s=0;s<this._sections.length;s++){var r=this._sections[s],i=r.consumer.sourceContentFor(g,!0);if(i)return i}if(O)return null;throw new Error('"'+g+'" is not in the SourceMap.')},m.prototype.generatedPositionFor=function(g){for(var O=0;O<this._sections.length;O++){var s=this._sections[O];if(s.consumer._findSourceIndex(e.getArg(g,"source"))!==-1){var r=s.consumer.generatedPositionFor(g);if(r){var i={line:r.line+(s.generatedOffset.generatedLine-1),column:r.column+(s.generatedOffset.generatedLine===r.line?s.generatedOffset.generatedColumn-1:0)};return i}}}return{line:null,column:null}},m.prototype._parseMappings=function(g,O){this.__generatedMappings=[],this.__originalMappings=[];for(var s=0;s<this._sections.length;s++)for(var r=this._sections[s],i=r.consumer._generatedMappings,h=0;h<i.length;h++){var v=i[h],j=r.consumer._sources.at(v.source);j=e.computeSourceURL(r.consumer.sourceRoot,j,this._sourceMapURL),this._sources.add(j),j=this._sources.indexOf(j);var y=null;v.name&&(y=r.consumer._names.at(v.name),this._names.add(y),y=this._names.indexOf(y));var b={source:j,generatedLine:v.generatedLine+(r.generatedOffset.generatedLine-1),generatedColumn:v.generatedColumn+(r.generatedOffset.generatedLine===v.generatedLine?r.generatedOffset.generatedColumn-1:0),originalLine:v.originalLine,originalColumn:v.originalColumn,name:y};this.__generatedMappings.push(b),typeof b.originalLine=="number"&&this.__originalMappings.push(b)}d(this.__generatedMappings,e.compareByGeneratedPositionsDeflated),d(this.__originalMappings,e.compareByOriginalPositions)},n.IndexedSourceMapConsumer=m},function(k,n){n.GREATEST_LOWER_BOUND=1,n.LEAST_UPPER_BOUND=2;function t(e,a,o,l,d,c){var u=Math.floor((a-e)/2)+e,f=d(o,l[u],!0);return f===0?u:f>0?a-u>1?t(u,a,o,l,d,c):c==n.LEAST_UPPER_BOUND?a<l.length?a:-1:u:u-e>1?t(e,u,o,l,d,c):c==n.LEAST_UPPER_BOUND?u:e<0?-1:e}n.search=function(a,o,l,d){if(o.length===0)return-1;var c=t(-1,o.length,a,o,l,d||n.GREATEST_LOWER_BOUND);if(c<0)return-1;for(;c-1>=0&&l(o[c],o[c-1],!0)===0;)--c;return c}},function(k,n){function t(o,l,d){var c=o[l];o[l]=o[d],o[d]=c}function e(o,l){return Math.round(o+Math.random()*(l-o))}function a(o,l,d,c){if(d<c){var u=e(d,c),f=d-1;t(o,u,c);for(var m=o[c],p=d;p<c;p++)l(o[p],m)<=0&&(f+=1,t(o,f,p));t(o,f+1,p);var g=f+1;a(o,l,d,g-1),a(o,l,g+1,c)}}n.quickSort=function(o,l){a(o,l,0,o.length-1)}},function(k,n,t){var e=t(757).SourceMapGenerator,a=t(328),o=/(\r?\n)/,l=10,d="$$$isSourceNode$$$";function c(u,f,m,p,g){this.children=[],this.sourceContents={},this.line=u==null?null:u,this.column=f==null?null:f,this.source=m==null?null:m,this.name=g==null?null:g,this[d]=!0,p!=null&&this.add(p)}c.fromStringWithSourceMap=function(f,m,p){var g=new c,O=f.split(o),s=0,r=function(){var y=E(),b=E()||"";return y+b;function E(){return s<O.length?O[s++]:void 0}},i=1,h=0,v=null;return m.eachMapping(function(y){if(v!==null)if(i<y.generatedLine)j(v,r()),i++,h=0;else{var b=O[s]||"",E=b.substr(0,y.generatedColumn-h);O[s]=b.substr(y.generatedColumn-h),h=y.generatedColumn,j(v,E),v=y;return}for(;i<y.generatedLine;)g.add(r()),i++;if(h<y.generatedColumn){var b=O[s]||"";g.add(b.substr(0,y.generatedColumn)),O[s]=b.substr(y.generatedColumn),h=y.generatedColumn}v=y},this),s<O.length&&(v&&j(v,r()),g.add(O.splice(s).join(""))),m.sources.forEach(function(y){var b=m.sourceContentFor(y);b!=null&&(p!=null&&(y=a.join(p,y)),g.setSourceContent(y,b))}),g;function j(y,b){if(y===null||y.source===void 0)g.add(b);else{var E=p?a.join(p,y.source):y.source;g.add(new c(y.originalLine,y.originalColumn,E,b,y.name))}}},c.prototype.add=function(f){if(Array.isArray(f))f.forEach(function(m){this.add(m)},this);else if(f[d]||typeof f=="string")f&&this.children.push(f);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+f);return this},c.prototype.prepend=function(f){if(Array.isArray(f))for(var m=f.length-1;m>=0;m--)this.prepend(f[m]);else if(f[d]||typeof f=="string")this.children.unshift(f);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+f);return this},c.prototype.walk=function(f){for(var m,p=0,g=this.children.length;p<g;p++)m=this.children[p],m[d]?m.walk(f):m!==""&&f(m,{source:this.source,line:this.line,column:this.column,name:this.name})},c.prototype.join=function(f){var m,p,g=this.children.length;if(g>0){for(m=[],p=0;p<g-1;p++)m.push(this.children[p]),m.push(f);m.push(this.children[p]),this.children=m}return this},c.prototype.replaceRight=function(f,m){var p=this.children[this.children.length-1];return p[d]?p.replaceRight(f,m):typeof p=="string"?this.children[this.children.length-1]=p.replace(f,m):this.children.push("".replace(f,m)),this},c.prototype.setSourceContent=function(f,m){this.sourceContents[a.toSetString(f)]=m},c.prototype.walkSourceContents=function(f){for(var m=0,p=this.children.length;m<p;m++)this.children[m][d]&&this.children[m].walkSourceContents(f);for(var g=Object.keys(this.sourceContents),m=0,p=g.length;m<p;m++)f(a.fromSetString(g[m]),this.sourceContents[g[m]])},c.prototype.toString=function(){var f="";return this.walk(function(m){f+=m}),f},c.prototype.toStringWithSourceMap=function(f){var m={code:"",line:1,column:0},p=new e(f),g=!1,O=null,s=null,r=null,i=null;return this.walk(function(h,v){m.code+=h,v.source!==null&&v.line!==null&&v.column!==null?((O!==v.source||s!==v.line||r!==v.column||i!==v.name)&&p.addMapping({source:v.source,original:{line:v.line,column:v.column},generated:{line:m.line,column:m.column},name:v.name}),O=v.source,s=v.line,r=v.column,i=v.name,g=!0):g&&(p.addMapping({generated:{line:m.line,column:m.column}}),O=null,g=!1);for(var j=0,y=h.length;j<y;j++)h.charCodeAt(j)===l?(m.line++,m.column=0,j+1===y?(O=null,g=!1):g&&p.addMapping({source:v.source,original:{line:v.line,column:v.column},generated:{line:m.line,column:m.column},name:v.name})):m.column++}),this.walkSourceContents(function(h,v){p.setSourceContent(h,v)}),{code:m.code,map:p}},n.SourceNode=c},function(k,n,t){"use strict";let e={};k.exports=function(o){e[o]||(e[o]=!0,typeof console!="undefined"&&console.warn&&console.warn(o))}},function(k,n,t){"use strict";let e=t(488),a=t(986),o=t(492),l=t(763),d=t(395),c=t(764);class u{constructor(m){this.input=m,this.root=new d,this.current=this.root,this.spaces="",this.semicolon=!1,this.customProperty=!1,this.createTokenizer(),this.root.source={input:m,start:{offset:0,line:1,column:1}}}createTokenizer(){this.tokenizer=a(this.input)}parse(){let m;for(;!this.tokenizer.endOfFile();)switch(m=this.tokenizer.nextToken(),m[0]){case"space":this.spaces+=m[1];break;case";":this.freeSemicolon(m);break;case"}":this.end(m);break;case"comment":this.comment(m);break;case"at-word":this.atrule(m);break;case"{":this.emptyRule(m);break;default:this.other(m);break}this.endFile()}comment(m){let p=new o;this.init(p,m[2]),p.source.end=this.getPosition(m[3]||m[2]);let g=m[1].slice(2,-2);if(/^\s*$/.test(g))p.text="",p.raws.left=g,p.raws.right="";else{let O=g.match(/^(\s*)([^]*\S)(\s*)$/);p.text=O[2],p.raws.left=O[1],p.raws.right=O[3]}}emptyRule(m){let p=new c;this.init(p,m[2]),p.selector="",p.raws.between="",this.current=p}other(m){let p=!1,g=null,O=!1,s=null,r=[],i=m[1].startsWith("--"),h=[],v=m;for(;v;){if(g=v[0],h.push(v),g==="("||g==="[")s||(s=v),r.push(g==="("?")":"]");else if(i&&O&&g==="{")s||(s=v),r.push("}");else if(r.length===0)if(g===";")if(O){this.decl(h,i);return}else break;else if(g==="{"){this.rule(h);return}else if(g==="}"){this.tokenizer.back(h.pop()),p=!0;break}else g===":"&&(O=!0);else g===r[r.length-1]&&(r.pop(),r.length===0&&(s=null));v=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(p=!0),r.length>0&&this.unclosedBracket(s),p&&O){for(;h.length&&(v=h[h.length-1][0],!(v!=="space"&&v!=="comment"));)this.tokenizer.back(h.pop());this.decl(h,i)}else this.unknownWord(h)}rule(m){m.pop();let p=new c;this.init(p,m[0][2]),p.raws.between=this.spacesAndCommentsFromEnd(m),this.raw(p,"selector",m),this.current=p}decl(m,p){let g=new e;this.init(g,m[0][2]);let O=m[m.length-1];for(O[0]===";"&&(this.semicolon=!0,m.pop()),g.source.end=this.getPosition(O[3]||O[2]);m[0][0]!=="word";)m.length===1&&this.unknownWord(m),g.raws.before+=m.shift()[1];for(g.source.start=this.getPosition(m[0][2]),g.prop="";m.length;){let h=m[0][0];if(h===":"||h==="space"||h==="comment")break;g.prop+=m.shift()[1]}g.raws.between="";let s;for(;m.length;)if(s=m.shift(),s[0]===":"){g.raws.between+=s[1];break}else s[0]==="word"&&/\w/.test(s[1])&&this.unknownWord([s]),g.raws.between+=s[1];(g.prop[0]==="_"||g.prop[0]==="*")&&(g.raws.before+=g.prop[0],g.prop=g.prop.slice(1));let r=this.spacesAndCommentsFromStart(m);this.precheckMissedSemicolon(m);for(let h=m.length-1;h>=0;h--){if(s=m[h],s[1].toLowerCase()==="!important"){g.important=!0;let v=this.stringFrom(m,h);v=this.spacesFromEnd(m)+v,v!==" !important"&&(g.raws.important=v);break}else if(s[1].toLowerCase()==="important"){let v=m.slice(0),j="";for(let y=h;y>0;y--){let b=v[y][0];if(j.trim().indexOf("!")===0&&b!=="space")break;j=v.pop()[1]+j}j.trim().indexOf("!")===0&&(g.important=!0,g.raws.important=j,m=v)}if(s[0]!=="space"&&s[0]!=="comment")break}let i=m.some(h=>h[0]!=="space"&&h[0]!=="comment");this.raw(g,"value",m),i?g.raws.between+=r:g.value=r+g.value,g.value.includes(":")&&!p&&this.checkMissedSemicolon(m)}atrule(m){let p=new l;p.name=m[1].slice(1),p.name===""&&this.unnamedAtrule(p,m),this.init(p,m[2]);let g,O,s,r=!1,i=!1,h=[],v=[];for(;!this.tokenizer.endOfFile();){if(m=this.tokenizer.nextToken(),g=m[0],g==="("||g==="["?v.push(g==="("?")":"]"):g==="{"&&v.length>0?v.push("}"):g===v[v.length-1]&&v.pop(),v.length===0)if(g===";"){p.source.end=this.getPosition(m[2]),this.semicolon=!0;break}else if(g==="{"){i=!0;break}else if(g==="}"){if(h.length>0){for(s=h.length-1,O=h[s];O&&O[0]==="space";)O=h[--s];O&&(p.source.end=this.getPosition(O[3]||O[2]))}this.end(m);break}else h.push(m);else h.push(m);if(this.tokenizer.endOfFile()){r=!0;break}}p.raws.between=this.spacesAndCommentsFromEnd(h),h.length?(p.raws.afterName=this.spacesAndCommentsFromStart(h),this.raw(p,"params",h),r&&(m=h[h.length-1],p.source.end=this.getPosition(m[3]||m[2]),this.spaces=p.raws.between,p.raws.between="")):(p.raws.afterName="",p.params=""),i&&(p.nodes=[],this.current=p)}end(m){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(m[2]),this.current=this.current.parent):this.unexpectedClose(m)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces}freeSemicolon(m){if(this.spaces+=m[1],this.current.nodes){let p=this.current.nodes[this.current.nodes.length-1];p&&p.type==="rule"&&!p.raws.ownSemicolon&&(p.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(m){let p=this.input.fromOffset(m);return{offset:m,line:p.line,column:p.col}}init(m,p){this.current.push(m),m.source={start:this.getPosition(p),input:this.input},m.raws.before=this.spaces,this.spaces="",m.type!=="comment"&&(this.semicolon=!1)}raw(m,p,g){let O,s,r=g.length,i="",h=!0,v,j,y=/^([#.|])?(\w)+/i;for(let b=0;b<r;b+=1){if(O=g[b],s=O[0],s==="comment"&&m.type==="rule"){j=g[b-1],v=g[b+1],j[0]!=="space"&&v[0]!=="space"&&y.test(j[1])&&y.test(v[1])?i+=O[1]:h=!1;continue}s==="comment"||s==="space"&&b===r-1?h=!1:i+=O[1]}if(!h){let b=g.reduce((E,P)=>E+P[1],"");m.raws[p]={value:i,raw:b}}m[p]=i}spacesAndCommentsFromEnd(m){let p,g="";for(;m.length&&(p=m[m.length-1][0],!(p!=="space"&&p!=="comment"));)g=m.pop()[1]+g;return g}spacesAndCommentsFromStart(m){let p,g="";for(;m.length&&(p=m[0][0],!(p!=="space"&&p!=="comment"));)g+=m.shift()[1];return g}spacesFromEnd(m){let p,g="";for(;m.length&&(p=m[m.length-1][0],p==="space");)g=m.pop()[1]+g;return g}stringFrom(m,p){let g="";for(let O=p;O<m.length;O++)g+=m[O][1];return m.splice(p,m.length-p),g}colon(m){let p=0,g,O,s;for(let[r,i]of m.entries()){if(g=i,O=g[0],O==="("&&(p+=1),O===")"&&(p-=1),p===0&&O===":")if(!s)this.doubleColon(g);else{if(s[0]==="word"&&s[1]==="progid")continue;return r}s=g}return!1}unclosedBracket(m){throw this.input.error("Unclosed bracket",m[2])}unknownWord(m){throw this.input.error("Unknown word",m[0][2])}unexpectedClose(m){throw this.input.error("Unexpected }",m[2])}unclosedBlock(){let m=this.current.source.start;throw this.input.error("Unclosed block",m.line,m.column)}doubleColon(m){throw this.input.error("Double colon",m[2])}unnamedAtrule(m,p){throw this.input.error("At-rule without name",p[2])}precheckMissedSemicolon(){}checkMissedSemicolon(m){let p=this.colon(m);if(p===!1)return;let g=0,O;for(let s=p-1;s>=0&&(O=m[s],!(O[0]!=="space"&&(g+=1,g===2)));s--);throw this.input.error("Missed semicolon",O[2])}}k.exports=u},function(k,n,t){"use strict";const e="'".charCodeAt(0),a='"'.charCodeAt(0),o="\\".charCodeAt(0),l="/".charCodeAt(0),d=`
`.charCodeAt(0),c=" ".charCodeAt(0),u="\f".charCodeAt(0),f="	".charCodeAt(0),m="\r".charCodeAt(0),p="[".charCodeAt(0),g="]".charCodeAt(0),O="(".charCodeAt(0),s=")".charCodeAt(0),r="{".charCodeAt(0),i="}".charCodeAt(0),h=";".charCodeAt(0),v="*".charCodeAt(0),j=":".charCodeAt(0),y="@".charCodeAt(0),b=/[\t\n\f\r "#'()/;[\\\]{}]/g,E=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,P=/.[\n"'(/\\]/,A=/[\da-f]/i;k.exports=function(M,F={}){let H=M.css.valueOf(),C=F.ignoreErrors,T,S,D,w,U,V,K,Y,W,R,B=H.length,x=0,G=[],Q=[];function he(){return x}function Z(X){throw M.error("Unclosed "+X,x)}function le(){return Q.length===0&&x>=B}function de(X){if(Q.length)return Q.pop();if(x>=B)return;let ie=X?X.ignoreUnclosed:!1;switch(T=H.charCodeAt(x),T){case d:case c:case f:case m:case u:{S=x;do S+=1,T=H.charCodeAt(S);while(T===c||T===d||T===f||T===m||T===u);R=["space",H.slice(x,S)],x=S-1;break}case p:case g:case r:case i:case j:case h:case s:{let Ce=String.fromCharCode(T);R=[Ce,Ce,x];break}case O:{if(Y=G.length?G.pop()[1]:"",W=H.charCodeAt(x+1),Y==="url"&&W!==e&&W!==a&&W!==c&&W!==d&&W!==f&&W!==u&&W!==m){S=x;do{if(V=!1,S=H.indexOf(")",S+1),S===-1)if(C||ie){S=x;break}else Z("bracket");for(K=S;H.charCodeAt(K-1)===o;)K-=1,V=!V}while(V);R=["brackets",H.slice(x,S+1),x,S],x=S}else S=H.indexOf(")",x+1),w=H.slice(x,S+1),S===-1||P.test(w)?R=["(","(",x]:(R=["brackets",w,x,S],x=S);break}case e:case a:{D=T===e?"'":'"',S=x;do{if(V=!1,S=H.indexOf(D,S+1),S===-1)if(C||ie){S=x+1;break}else Z("string");for(K=S;H.charCodeAt(K-1)===o;)K-=1,V=!V}while(V);R=["string",H.slice(x,S+1),x,S],x=S;break}case y:{b.lastIndex=x+1,b.test(H),b.lastIndex===0?S=H.length-1:S=b.lastIndex-2,R=["at-word",H.slice(x,S+1),x,S],x=S;break}case o:{for(S=x,U=!0;H.charCodeAt(S+1)===o;)S+=1,U=!U;if(T=H.charCodeAt(S+1),U&&T!==l&&T!==c&&T!==d&&T!==f&&T!==m&&T!==u&&(S+=1,A.test(H.charAt(S)))){for(;A.test(H.charAt(S+1));)S+=1;H.charCodeAt(S+1)===c&&(S+=1)}R=["word",H.slice(x,S+1),x,S],x=S;break}default:{T===l&&H.charCodeAt(x+1)===v?(S=H.indexOf("*/",x+2)+1,S===0&&(C||ie?S=H.length:Z("comment")),R=["comment",H.slice(x,S+1),x,S],x=S):(E.lastIndex=x+1,E.test(H),E.lastIndex===0?S=H.length-1:S=E.lastIndex-2,R=["word",H.slice(x,S+1),x,S],G.push(R),x=S);break}}return x++,R}function be(X){Q.push(X)}return{back:be,nextToken:de,endOfFile:le,position:he}}},function(k,n,t){"use strict";t.r(n),t.d(n,"nanoid",function(){return o}),t.d(n,"customAlphabet",function(){return a});let e="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",a=(l,d)=>()=>{let c="",u=d;for(;u--;)c+=l[Math.random()*l.length|0];return c},o=(l=21)=>{let d="",c=l;for(;c--;)d+=e[Math.random()*64|0];return d}},function(k,n,t){"use strict";k.exports=e;function e(a){for(var o=String(a),l=[],d=/\r?\n|\r/g;d.exec(o);)l.push(d.lastIndex);return l.push(o.length+1),{toPoint:c,toPosition:c,toOffset:u};function c(f){var m=-1;if(f>-1&&f<l[l.length-1]){for(;++m<l.length;)if(l[m]>f)return{line:m+1,column:f-(l[m-1]||0)+1,offset:f}}return{}}function u(f){var m=f&&f.line,p=f&&f.column,g;return!isNaN(m)&&!isNaN(p)&&m-1 in l&&(g=(l[m-2]||0)+p-1||0),g>-1&&g<l[l.length-1]?g:-1}}},function(k,n,t){"use strict";(function(e){let{existsSync:a,readFileSync:o}=t(990),{dirname:l,join:d}=t(460),c=t(756);function u(m){return e?e.from(m,"base64").toString():window.atob(m)}class f{constructor(p,g){if(g.map===!1)return;this.loadAnnotation(p),this.inline=this.startWith(this.annotation,"data:");let O=g.map?g.map.prev:void 0,s=this.loadMap(g.from,O);!this.mapFile&&g.from&&(this.mapFile=g.from),this.mapFile&&(this.root=l(this.mapFile)),s&&(this.text=s)}consumer(){return this.consumerCache||(this.consumerCache=new c.SourceMapConsumer(this.text)),this.consumerCache}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}startWith(p,g){return p?p.substr(0,g.length)===g:!1}getAnnotationURL(p){return p.match(/\/\*\s*# sourceMappingURL=(.*)\s*\*\//)[1].trim()}loadAnnotation(p){let g=p.match(/\/\*\s*# sourceMappingURL=.*\s*\*\//gm);if(g&&g.length>0){let O=g[g.length-1];O&&(this.annotation=this.getAnnotationURL(O))}}decodeInline(p){let g=/^data:application\/json;charset=utf-?8;base64,/,O=/^data:application\/json;base64,/,s=/^data:application\/json;charset=utf-?8,/,r=/^data:application\/json,/;if(s.test(p)||r.test(p))return decodeURIComponent(p.substr(RegExp.lastMatch.length));if(g.test(p)||O.test(p))return u(p.substr(RegExp.lastMatch.length));let i=p.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+i)}loadFile(p){if(this.root=l(p),a(p))return this.mapFile=p,o(p,"utf-8").toString().trim()}loadMap(p,g){if(g===!1)return!1;if(g){if(typeof g=="string")return g;if(typeof g=="function"){let O=g(p);if(O){let s=this.loadFile(O);if(!s)throw new Error("Unable to load previous source map: "+O.toString());return s}}else{if(g instanceof c.SourceMapConsumer)return c.SourceMapGenerator.fromSourceMap(g).toString();if(g instanceof c.SourceMapGenerator)return g.toString();if(this.isMap(g))return JSON.stringify(g);throw new Error("Unsupported previous source map format: "+g.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let O=this.annotation;return p&&(O=d(l(p),O)),this.loadFile(O)}}}isMap(p){return typeof p!="object"?!1:typeof p.mappings=="string"||typeof p._mappings=="string"||Array.isArray(p.sections)}}k.exports=f,f.default=f}).call(this,t(370).Buffer)},function(k,n){},function(k,n,t){"use strict";let e=t(755),a=t(395);class o{constructor(d=[]){this.version="8.1.13",this.plugins=this.normalize(d)}use(d){return this.plugins=this.plugins.concat(this.normalize([d])),this}process(d,c={}){return this.plugins.length===0&&c.parser===c.stringifier&&!c.hideNothingWarning,new e(this,d,c)}normalize(d){let c=[];for(let u of d)if(u.postcss===!0?u=u():u.postcss&&(u=u.postcss),typeof u=="object"&&Array.isArray(u.plugins))c=c.concat(u.plugins);else if(typeof u=="object"&&u.postcssPlugin)c.push(u);else if(typeof u=="function")c.push(u);else if(!(typeof u=="object"&&(u.parse||u.stringify)))throw new Error(u+" is not a PostCSS plugin");return c}}k.exports=o,o.default=o,a.registerProcessor(o)},function(k,n){function t(e){if(Array.isArray(e))return e}k.exports=t,k.exports.__esModule=!0,k.exports.default=k.exports},function(k,n){function t(e,a){var o=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(o!=null){var l,d,c,u,f=[],m=!0,p=!1;try{if(c=(o=o.call(e)).next,a===0){if(Object(o)!==o)return;m=!1}else for(;!(m=(l=c.call(o)).done)&&(f.push(l.value),f.length!==a);m=!0);}catch(g){p=!0,d=g}finally{try{if(!m&&o.return!=null&&(u=o.return(),Object(u)!==u))return}finally{if(p)throw d}}return f}}k.exports=t,k.exports.__esModule=!0,k.exports.default=k.exports},function(k,n){function t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}k.exports=t,k.exports.__esModule=!0,k.exports.default=k.exports},function(k,n,t){var e=t(768);function a(o){if(Array.isArray(o))return e(o)}k.exports=a,k.exports.__esModule=!0,k.exports.default=k.exports},function(k,n){function t(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}k.exports=t,k.exports.__esModule=!0,k.exports.default=k.exports},function(k,n){function t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}k.exports=t,k.exports.__esModule=!0,k.exports.default=k.exports},function(k,n,t){var e=t(182),a=t(95),o=t(163),l="[object String]";function d(c){return typeof c=="string"||!a(c)&&o(c)&&e(c)==l}k.exports=d},function(k,n){function t(e){for(var a,o=[];!(a=e.next()).done;)o.push(a.value);return o}k.exports=t},function(k,n){function t(e){return e.split("")}k.exports=t},function(k,n){var t="\\ud800-\\udfff",e="\\u0300-\\u036f",a="\\ufe20-\\ufe2f",o="\\u20d0-\\u20ff",l=e+a+o,d="\\ufe0e\\ufe0f",c="["+t+"]",u="["+l+"]",f="\\ud83c[\\udffb-\\udfff]",m="(?:"+u+"|"+f+")",p="[^"+t+"]",g="(?:\\ud83c[\\udde6-\\uddff]){2}",O="[\\ud800-\\udbff][\\udc00-\\udfff]",s="\\u200d",r=m+"?",i="["+d+"]?",h="(?:"+s+"(?:"+[p,g,O].join("|")+")"+i+r+")*",v=i+r+h,j="(?:"+[p+u+"?",u,g,O,c].join("|")+")",y=RegExp(f+"(?="+f+")|"+j+v,"g");function b(E){return E.match(y)||[]}k.exports=b},function(k,n,t){var e=t(229);function a(o){return typeof o=="function"?o:e}k.exports=a},function(k,n){k.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}},function(k,n,t){const e=t(248),a=t(493),o=t(1005),l=t(1006),d=t(1007),c=t(1008),u=t(1009),f=t(769),m=t(1010),p=t(1013),g=t(1014),O=t(249),s=t(1015);function r(A,_){const M=A.size,F=c.getPositions(_);for(let H=0;H<F.length;H++){const C=F[H][0],T=F[H][1];for(let S=-1;S<=7;S++)if(!(C+S<=-1||M<=C+S))for(let D=-1;D<=7;D++)T+D<=-1||M<=T+D||(S>=0&&S<=6&&(D===0||D===6)||D>=0&&D<=6&&(S===0||S===6)||S>=2&&S<=4&&D>=2&&D<=4?A.set(C+S,T+D,!0,!0):A.set(C+S,T+D,!1,!0))}}function i(A){const _=A.size;for(let M=8;M<_-8;M++){const F=M%2==0;A.set(M,6,F,!0),A.set(6,M,F,!0)}}function h(A,_){const M=d.getPositions(_);for(let F=0;F<M.length;F++){const H=M[F][0],C=M[F][1];for(let T=-2;T<=2;T++)for(let S=-2;S<=2;S++)T===-2||T===2||S===-2||S===2||T===0&&S===0?A.set(H+T,C+S,!0,!0):A.set(H+T,C+S,!1,!0)}}function v(A,_){const M=A.size,F=p.getEncodedBits(_);let H,C,T;for(let S=0;S<18;S++)H=Math.floor(S/3),C=S%3+M-8-3,T=(F>>S&1)==1,A.set(H,C,T,!0),A.set(C,H,T,!0)}function j(A,_,M){const F=A.size,H=g.getEncodedBits(_,M);let C,T;for(C=0;C<15;C++)T=(H>>C&1)==1,C<6?A.set(C,8,T,!0):C<8?A.set(C+1,8,T,!0):A.set(F-15+C,8,T,!0),C<8?A.set(8,F-C-1,T,!0):C<9?A.set(8,15-C-1+1,T,!0):A.set(8,15-C-1,T,!0);A.set(F-8,8,1,!0)}function y(A,_){const M=A.size;let F=-1,H=M-1,C=7,T=0;for(let S=M-1;S>0;S-=2)for(S===6&&S--;;){for(let D=0;D<2;D++)if(!A.isReserved(H,S-D)){let w=!1;T<_.length&&(w=(_[T]>>>C&1)==1),A.set(H,S-D,w),C--,C===-1&&(T++,C=7)}if(H+=F,H<0||M<=H){H-=F,F=-F;break}}}function b(A,_,M){const F=new o;M.forEach(function(D){F.put(D.mode.bit,4),F.put(D.getLength(),O.getCharCountIndicator(D.mode,A)),D.write(F)});const H=e.getSymbolTotalCodewords(A),C=f.getTotalCodewordsCount(A,_),T=(H-C)*8;for(F.getLengthInBits()+4<=T&&F.put(0,4);F.getLengthInBits()%8!=0;)F.putBit(0);const S=(T-F.getLengthInBits())/8;for(let D=0;D<S;D++)F.put(D%2?17:236,8);return E(F,A,_)}function E(A,_,M){const F=e.getSymbolTotalCodewords(_),H=f.getTotalCodewordsCount(_,M),C=F-H,T=f.getBlocksCount(_,M),S=F%T,D=T-S,w=Math.floor(F/T),U=Math.floor(C/T),V=U+1,K=w-U,Y=new m(K);let W=0;const R=new Array(T),B=new Array(T);let x=0;const G=new Uint8Array(A.buffer);for(let de=0;de<T;de++){const be=de<D?U:V;R[de]=G.slice(W,W+be),B[de]=Y.encode(R[de]),W+=be,x=Math.max(x,be)}const Q=new Uint8Array(F);let he=0,Z,le;for(Z=0;Z<x;Z++)for(le=0;le<T;le++)Z<R[le].length&&(Q[he++]=R[le][Z]);for(Z=0;Z<K;Z++)for(le=0;le<T;le++)Q[he++]=B[le][Z];return Q}function P(A,_,M,F){let H;if(Array.isArray(A))H=s.fromArray(A);else if(typeof A=="string"){let w=_;if(!w){const U=s.rawSplit(A);w=p.getBestVersionForData(U,M)}H=s.fromString(A,w||40)}else throw new Error("Invalid data");const C=p.getBestVersionForData(H,M);if(!C)throw new Error("The amount of data is too big to be stored in a QR Code");if(!_)_=C;else if(_<C)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+C+`.
`);const T=b(_,M,H),S=e.getSymbolSize(_),D=new l(S);return r(D,_),i(D),h(D,_),j(D,M,0),_>=7&&v(D,_),y(D,T),isNaN(F)&&(F=u.getBestMask(D,j.bind(null,D,M))),u.applyMask(F,D),j(D,M,F),{modules:D,version:_,errorCorrectionLevel:M,maskPattern:F,segments:H}}n.create=function(_,M){if(typeof _=="undefined"||_==="")throw new Error("No input text");let F=a.M,H,C;return typeof M!="undefined"&&(F=a.from(M.errorCorrectionLevel,a.M),H=p.from(M.version),C=u.from(M.maskPattern),M.toSJISFunc&&e.setToSJISFunction(M.toSJISFunc)),P(_,H,F,C)}},function(k,n){function t(){this.buffer=[],this.length=0}t.prototype={get:function(e){const a=Math.floor(e/8);return(this.buffer[a]>>>7-e%8&1)==1},put:function(e,a){for(let o=0;o<a;o++)this.putBit((e>>>a-o-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){const a=Math.floor(this.length/8);this.buffer.length<=a&&this.buffer.push(0),e&&(this.buffer[a]|=128>>>this.length%8),this.length++}},k.exports=t},function(k,n){function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}t.prototype.set=function(e,a,o,l){const d=e*this.size+a;this.data[d]=o,l&&(this.reservedBit[d]=!0)},t.prototype.get=function(e,a){return this.data[e*this.size+a]},t.prototype.xor=function(e,a,o){this.data[e*this.size+a]^=o},t.prototype.isReserved=function(e,a){return this.reservedBit[e*this.size+a]},k.exports=t},function(k,n,t){const e=t(248).getSymbolSize;n.getRowColCoords=function(o){if(o===1)return[];const l=Math.floor(o/7)+2,d=e(o),c=d===145?26:Math.ceil((d-13)/(2*l-2))*2,u=[d-7];for(let f=1;f<l-1;f++)u[f]=u[f-1]-c;return u.push(6),u.reverse()},n.getPositions=function(o){const l=[],d=n.getRowColCoords(o),c=d.length;for(let u=0;u<c;u++)for(let f=0;f<c;f++)u===0&&f===0||u===0&&f===c-1||u===c-1&&f===0||l.push([d[u],d[f]]);return l}},function(k,n,t){const e=t(248).getSymbolSize,a=7;n.getPositions=function(l){const d=e(l);return[[0,0],[d-a,0],[0,d-a]]}},function(k,n){n.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};n.isValid=function(o){return o!=null&&o!==""&&!isNaN(o)&&o>=0&&o<=7},n.from=function(o){return n.isValid(o)?parseInt(o,10):void 0},n.getPenaltyN1=function(o){const l=o.size;let d=0,c=0,u=0,f=null,m=null;for(let p=0;p<l;p++){c=u=0,f=m=null;for(let g=0;g<l;g++){let O=o.get(p,g);O===f?c++:(c>=5&&(d+=t.N1+(c-5)),f=O,c=1),O=o.get(g,p),O===m?u++:(u>=5&&(d+=t.N1+(u-5)),m=O,u=1)}c>=5&&(d+=t.N1+(c-5)),u>=5&&(d+=t.N1+(u-5))}return d},n.getPenaltyN2=function(o){const l=o.size;let d=0;for(let c=0;c<l-1;c++)for(let u=0;u<l-1;u++){const f=o.get(c,u)+o.get(c,u+1)+o.get(c+1,u)+o.get(c+1,u+1);(f===4||f===0)&&d++}return d*t.N2},n.getPenaltyN3=function(o){const l=o.size;let d=0,c=0,u=0;for(let f=0;f<l;f++){c=u=0;for(let m=0;m<l;m++)c=c<<1&2047|o.get(f,m),m>=10&&(c===1488||c===93)&&d++,u=u<<1&2047|o.get(m,f),m>=10&&(u===1488||u===93)&&d++}return d*t.N3},n.getPenaltyN4=function(o){let l=0;const d=o.data.length;for(let u=0;u<d;u++)l+=o.data[u];return Math.abs(Math.ceil(l*100/d/5)-10)*t.N4};function e(a,o,l){switch(a){case n.Patterns.PATTERN000:return(o+l)%2==0;case n.Patterns.PATTERN001:return o%2==0;case n.Patterns.PATTERN010:return l%3==0;case n.Patterns.PATTERN011:return(o+l)%3==0;case n.Patterns.PATTERN100:return(Math.floor(o/2)+Math.floor(l/3))%2==0;case n.Patterns.PATTERN101:return o*l%2+o*l%3==0;case n.Patterns.PATTERN110:return(o*l%2+o*l%3)%2==0;case n.Patterns.PATTERN111:return(o*l%3+(o+l)%2)%2==0;default:throw new Error("bad maskPattern:"+a)}}n.applyMask=function(o,l){const d=l.size;for(let c=0;c<d;c++)for(let u=0;u<d;u++)l.isReserved(u,c)||l.xor(u,c,e(o,u,c))},n.getBestMask=function(o,l){const d=Object.keys(n.Patterns).length;let c=0,u=1/0;for(let f=0;f<d;f++){l(f),n.applyMask(f,o);const m=n.getPenaltyN1(o)+n.getPenaltyN2(o)+n.getPenaltyN3(o)+n.getPenaltyN4(o);n.applyMask(f,o),m<u&&(u=m,c=f)}return c}},function(k,n,t){const e=t(1011);function a(o){this.genPoly=void 0,this.degree=o,this.degree&&this.initialize(this.degree)}a.prototype.initialize=function(l){this.degree=l,this.genPoly=e.generateECPolynomial(this.degree)},a.prototype.encode=function(l){if(!this.genPoly)throw new Error("Encoder not initialized");const d=new Uint8Array(l.length+this.degree);d.set(l);const c=e.mod(d,this.genPoly),u=this.degree-c.length;if(u>0){const f=new Uint8Array(this.degree);return f.set(c,u),f}return c},k.exports=a},function(k,n,t){const e=t(1012);n.mul=function(o,l){const d=new Uint8Array(o.length+l.length-1);for(let c=0;c<o.length;c++)for(let u=0;u<l.length;u++)d[c+u]^=e.mul(o[c],l[u]);return d},n.mod=function(o,l){let d=new Uint8Array(o);for(;d.length-l.length>=0;){const c=d[0];for(let f=0;f<l.length;f++)d[f]^=e.mul(l[f],c);let u=0;for(;u<d.length&&d[u]===0;)u++;d=d.slice(u)}return d},n.generateECPolynomial=function(o){let l=new Uint8Array([1]);for(let d=0;d<o;d++)l=n.mul(l,new Uint8Array([1,e.exp(d)]));return l}},function(k,n){const t=new Uint8Array(512),e=new Uint8Array(256);(function(){let o=1;for(let l=0;l<255;l++)t[l]=o,e[o]=l,o<<=1,o&256&&(o^=285);for(let l=255;l<512;l++)t[l]=t[l-255]})(),n.log=function(o){if(o<1)throw new Error("log("+o+")");return e[o]},n.exp=function(o){return t[o]},n.mul=function(o,l){return o===0||l===0?0:t[e[o]+e[l]]}},function(k,n,t){const e=t(248),a=t(769),o=t(493),l=t(249),d=t(770),c=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,u=e.getBCHDigit(c);function f(O,s,r){for(let i=1;i<=40;i++)if(s<=n.getCapacity(i,r,O))return i}function m(O,s){return l.getCharCountIndicator(O,s)+4}function p(O,s){let r=0;return O.forEach(function(i){r+=m(i.mode,s)+i.getBitsLength()}),r}function g(O,s){for(let r=1;r<=40;r++)if(p(O,r)<=n.getCapacity(r,s,l.MIXED))return r}n.from=function(s,r){return d.isValid(s)?parseInt(s,10):r},n.getCapacity=function(s,r,i){if(!d.isValid(s))throw new Error("Invalid QR Code version");typeof i=="undefined"&&(i=l.BYTE);const h=e.getSymbolTotalCodewords(s),v=a.getTotalCodewordsCount(s,r),j=(h-v)*8;if(i===l.MIXED)return j;const y=j-m(i,s);switch(i){case l.NUMERIC:return Math.floor(y/10*3);case l.ALPHANUMERIC:return Math.floor(y/11*2);case l.KANJI:return Math.floor(y/13);case l.BYTE:default:return Math.floor(y/8)}},n.getBestVersionForData=function(s,r){let i;const h=o.from(r,o.M);if(Array.isArray(s)){if(s.length>1)return g(s,h);if(s.length===0)return 1;i=s[0]}else i=s;return f(i.mode,i.getLength(),h)},n.getEncodedBits=function(s){if(!d.isValid(s)||s<7)throw new Error("Invalid QR Code version");let r=s<<12;for(;e.getBCHDigit(r)-u>=0;)r^=c<<e.getBCHDigit(r)-u;return s<<12|r}},function(k,n,t){const e=t(248),a=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,o=1<<14|1<<12|1<<10|1<<4|1<<1,l=e.getBCHDigit(a);n.getEncodedBits=function(c,u){const f=c.bit<<3|u;let m=f<<10;for(;e.getBCHDigit(m)-l>=0;)m^=a<<e.getBCHDigit(m)-l;return(f<<10|m)^o}},function(k,n,t){const e=t(249),a=t(1016),o=t(1017),l=t(1018),d=t(1020),c=t(771),u=t(248),f=t(1021);function m(v){return unescape(encodeURIComponent(v)).length}function p(v,j,y){const b=[];let E;for(;(E=v.exec(y))!==null;)b.push({data:E[0],index:E.index,mode:j,length:E[0].length});return b}function g(v){const j=p(c.NUMERIC,e.NUMERIC,v),y=p(c.ALPHANUMERIC,e.ALPHANUMERIC,v);let b,E;return u.isKanjiModeEnabled()?(b=p(c.BYTE,e.BYTE,v),E=p(c.KANJI,e.KANJI,v)):(b=p(c.BYTE_KANJI,e.BYTE,v),E=[]),j.concat(y,b,E).sort(function(A,_){return A.index-_.index}).map(function(A){return{data:A.data,mode:A.mode,length:A.length}})}function O(v,j){switch(j){case e.NUMERIC:return a.getBitsLength(v);case e.ALPHANUMERIC:return o.getBitsLength(v);case e.KANJI:return d.getBitsLength(v);case e.BYTE:return l.getBitsLength(v)}}function s(v){return v.reduce(function(j,y){const b=j.length-1>=0?j[j.length-1]:null;return b&&b.mode===y.mode?(j[j.length-1].data+=y.data,j):(j.push(y),j)},[])}function r(v){const j=[];for(let y=0;y<v.length;y++){const b=v[y];switch(b.mode){case e.NUMERIC:j.push([b,{data:b.data,mode:e.ALPHANUMERIC,length:b.length},{data:b.data,mode:e.BYTE,length:b.length}]);break;case e.ALPHANUMERIC:j.push([b,{data:b.data,mode:e.BYTE,length:b.length}]);break;case e.KANJI:j.push([b,{data:b.data,mode:e.BYTE,length:m(b.data)}]);break;case e.BYTE:j.push([{data:b.data,mode:e.BYTE,length:m(b.data)}])}}return j}function i(v,j){const y={},b={start:{}};let E=["start"];for(let P=0;P<v.length;P++){const A=v[P],_=[];for(let M=0;M<A.length;M++){const F=A[M],H=""+P+M;_.push(H),y[H]={node:F,lastCount:0},b[H]={};for(let C=0;C<E.length;C++){const T=E[C];y[T]&&y[T].node.mode===F.mode?(b[T][H]=O(y[T].lastCount+F.length,F.mode)-O(y[T].lastCount,F.mode),y[T].lastCount+=F.length):(y[T]&&(y[T].lastCount=F.length),b[T][H]=O(F.length,F.mode)+4+e.getCharCountIndicator(F.mode,j))}}E=_}for(let P=0;P<E.length;P++)b[E[P]].end=0;return{map:b,table:y}}function h(v,j){let y;const b=e.getBestModeForData(v);if(y=e.from(j,b),y!==e.BYTE&&y.bit<b.bit)throw new Error('"'+v+'" cannot be encoded with mode '+e.toString(y)+`.
 Suggested mode is: `+e.toString(b));switch(y===e.KANJI&&!u.isKanjiModeEnabled()&&(y=e.BYTE),y){case e.NUMERIC:return new a(v);case e.ALPHANUMERIC:return new o(v);case e.KANJI:return new d(v);case e.BYTE:return new l(v)}}n.fromArray=function(j){return j.reduce(function(y,b){return typeof b=="string"?y.push(h(b,null)):b.data&&y.push(h(b.data,b.mode)),y},[])},n.fromString=function(j,y){const b=g(j,u.isKanjiModeEnabled()),E=r(b),P=i(E,y),A=f.find_path(P.map,"start","end"),_=[];for(let M=1;M<A.length-1;M++)_.push(P.table[A[M]].node);return n.fromArray(s(_))},n.rawSplit=function(j){return n.fromArray(g(j,u.isKanjiModeEnabled()))}},function(k,n,t){const e=t(249);function a(o){this.mode=e.NUMERIC,this.data=o.toString()}a.getBitsLength=function(l){return 10*Math.floor(l/3)+(l%3?l%3*3+1:0)},a.prototype.getLength=function(){return this.data.length},a.prototype.getBitsLength=function(){return a.getBitsLength(this.data.length)},a.prototype.write=function(l){let d,c,u;for(d=0;d+3<=this.data.length;d+=3)c=this.data.substr(d,3),u=parseInt(c,10),l.put(u,10);const f=this.data.length-d;f>0&&(c=this.data.substr(d),u=parseInt(c,10),l.put(u,f*3+1))},k.exports=a},function(k,n,t){const e=t(249),a=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function o(l){this.mode=e.ALPHANUMERIC,this.data=l}o.getBitsLength=function(d){return 11*Math.floor(d/2)+6*(d%2)},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(d){let c;for(c=0;c+2<=this.data.length;c+=2){let u=a.indexOf(this.data[c])*45;u+=a.indexOf(this.data[c+1]),d.put(u,11)}this.data.length%2&&d.put(a.indexOf(this.data[c]),6)},k.exports=o},function(k,n,t){const e=t(1019),a=t(249);function o(l){this.mode=a.BYTE,typeof l=="string"&&(l=e(l)),this.data=new Uint8Array(l)}o.getBitsLength=function(d){return d*8},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(l){for(let d=0,c=this.data.length;d<c;d++)l.put(this.data[d],8)},k.exports=o},function(k,n,t){"use strict";k.exports=function(a){for(var o=[],l=a.length,d=0;d<l;d++){var c=a.charCodeAt(d);if(c>=55296&&c<=56319&&l>d+1){var u=a.charCodeAt(d+1);u>=56320&&u<=57343&&(c=(c-55296)*1024+u-56320+65536,d+=1)}if(c<128){o.push(c);continue}if(c<2048){o.push(c>>6|192),o.push(c&63|128);continue}if(c<55296||c>=57344&&c<65536){o.push(c>>12|224),o.push(c>>6&63|128),o.push(c&63|128);continue}if(c>=65536&&c<=1114111){o.push(c>>18|240),o.push(c>>12&63|128),o.push(c>>6&63|128),o.push(c&63|128);continue}o.push(239,191,189)}return new Uint8Array(o).buffer}},function(k,n,t){const e=t(249),a=t(248);function o(l){this.mode=e.KANJI,this.data=l}o.getBitsLength=function(d){return d*13},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(l){let d;for(d=0;d<this.data.length;d++){let c=a.toSJIS(this.data[d]);if(c>=33088&&c<=40956)c-=33088;else if(c>=57408&&c<=60351)c-=49472;else throw new Error("Invalid SJIS character: "+this.data[d]+`
Make sure your charset is UTF-8`);c=(c>>>8&255)*192+(c&255),l.put(c,13)}},k.exports=o},function(k,n,t){"use strict";var e={single_source_shortest_paths:function(a,o,l){var d={},c={};c[o]=0;var u=e.PriorityQueue.make();u.push(o,0);for(var f,m,p,g,O,s,r,i,h;!u.empty();){f=u.pop(),m=f.value,g=f.cost,O=a[m]||{};for(p in O)O.hasOwnProperty(p)&&(s=O[p],r=g+s,i=c[p],h=typeof c[p]=="undefined",(h||i>r)&&(c[p]=r,u.push(p,r),d[p]=m))}if(typeof l!="undefined"&&typeof c[l]=="undefined"){var v=["Could not find a path from ",o," to ",l,"."].join("");throw new Error(v)}return d},extract_shortest_path_from_predecessor_list:function(a,o){for(var l=[],d=o,c;d;)l.push(d),c=a[d],d=a[d];return l.reverse(),l},find_path:function(a,o,l){var d=e.single_source_shortest_paths(a,o,l);return e.extract_shortest_path_from_predecessor_list(d,l)},PriorityQueue:{make:function(a){var o=e.PriorityQueue,l={},d;a=a||{};for(d in o)o.hasOwnProperty(d)&&(l[d]=o[d]);return l.queue=[],l.sorter=a.sorter||o.default_sorter,l},default_sorter:function(a,o){return a.cost-o.cost},push:function(a,o){var l={value:a,cost:o};this.queue.push(l),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};k.exports=e},function(k,n,t){const e=t(772);function a(l,d,c){l.clearRect(0,0,d.width,d.height),d.style||(d.style={}),d.height=c,d.width=c,d.style.height=c+"px",d.style.width=c+"px"}function o(){try{return document.createElement("canvas")}catch(l){throw new Error("You need to specify a canvas element")}}n.render=function(d,c,u){let f=u,m=c;typeof f=="undefined"&&(!c||!c.getContext)&&(f=c,c=void 0),c||(m=o()),f=e.getOptions(f);const p=e.getImageWidth(d.modules.size,f),g=m.getContext("2d"),O=g.createImageData(p,p);return e.qrToImageData(O.data,d,f),a(g,m,p),g.putImageData(O,0,0),m},n.renderToDataURL=function(d,c,u){let f=u;typeof f=="undefined"&&(!c||!c.getContext)&&(f=c,c=void 0),f||(f={});const m=n.render(d,c,f),p=f.type||"image/png",g=f.rendererOpts||{};return m.toDataURL(p,g.quality)}},function(k,n,t){const e=t(772);function a(d,c){const u=d.a/255,f=c+'="'+d.hex+'"';return u<1?f+" "+c+'-opacity="'+u.toFixed(2).slice(1)+'"':f}function o(d,c,u){let f=d+c;return typeof u!="undefined"&&(f+=" "+u),f}function l(d,c,u){let f="",m=0,p=!1,g=0;for(let O=0;O<d.length;O++){const s=Math.floor(O%c),r=Math.floor(O/c);!s&&!p&&(p=!0),d[O]?(g++,O>0&&s>0&&d[O-1]||(f+=p?o("M",s+u,.5+r+u):o("m",m,0),m=0,p=!1),s+1<c&&d[O+1]||(f+=o("h",g),g=0)):m++}return f}n.render=function(c,u,f){const m=e.getOptions(u),p=c.modules.size,g=c.modules.data,O=p+m.margin*2,s=m.color.light.a?"<path "+a(m.color.light,"fill")+' d="M0 0h'+O+"v"+O+'H0z"/>':"",r="<path "+a(m.color.dark,"stroke")+' d="'+l(g,p,m.margin)+'"/>',i='viewBox="0 0 '+O+" "+O+'"',h=m.width?'width="'+m.width+'" height="'+m.width+'" ':"",v='<svg xmlns="http://www.w3.org/2000/svg" '+h+i+' shape-rendering="crispEdges">'+s+r+`</svg>
`;return typeof f=="function"&&f(null,v),v}},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]])},,,,,,,,function(k,n,t){"use strict";t.d(n,"a",function(){return p});var e=t(0),a=t(1),o=t(5),l=t.n(o),d=t(835),c=t(1024),u=t(7),f={dragArea:"frontend-pencraft-FilePicker-module__dragArea--2APmT",dragActive:"frontend-pencraft-FilePicker-module__dragActive--PnBq-",text:"frontend-pencraft-FilePicker-module__text--3utCU",icon:"frontend-pencraft-FilePicker-module__icon--1szaw",browse:"frontend-pencraft-FilePicker-module__browse--2W1OB",file:"frontend-pencraft-FilePicker-module__file--1BQ3Z"},m=(g,O,s)=>new Promise((r,i)=>{var h=y=>{try{j(s.next(y))}catch(b){i(b)}},v=y=>{try{j(s.throw(y))}catch(b){i(b)}},j=y=>y.done?r(y.value):Promise.resolve(y.value).then(h,v);j((s=s.apply(g,O)).next())});const p=({onFileSelected:g,dragCTA:O="Drag file here",dropCTA:s=Object(e.h)("a",{className:f.browse,href:"javascript:void(0)"},"browse"),acceptableTypes:r,dropEvent:i,pickEvent:h,loading:v,className:j,multiple:y=!1,addMode:b=!1})=>{const[E,P]=Object(a.l)(!1),A=Object(a.k)(),_=H=>{H.preventDefault(),P(!0)},M=H=>{H.preventDefault(),P(!1)},F=H=>m(void 0,null,function*(){var C,T,S,D;H.preventDefault(),i&&Object(u.i)(i),P(!1);let w,U;if(((T=(C=H.dataTransfer)==null?void 0:C.items)==null?void 0:T.length)>0){const V=Array.from(H.dataTransfer.items);for(const K of V)if(K.kind!=="file"){alert("Please only drag files!");return}w=H.dataTransfer.items[0].getAsFile(),U=V.map(K=>K.getAsFile())}else if(((D=(S=H.dataTransfer)==null?void 0:S.files)==null?void 0:D.length)>0)w=H.dataTransfer.files[0],U=H.dataTransfer.files;else{alert("Something went wrong!");return}y?yield g(U):yield g(w)});return Object(e.h)(e.Fragment,null,Object(e.h)("div",{className:l()(f.dragArea,j,{[f.dragActive]:E,"test-drag-active":E}),onDragEnter:_,onDragOver:_,onDragLeave:M,onDrop:F,onClick:()=>A.current.click(),"aria-label":"File Picker"},b?Object(e.h)(d.a,{size:20,className:f.icon}):Object(e.h)(c.a,{size:32,className:f.icon}),Object(e.h)("p",{className:f.text},v?"Loading...":E?"Release to upload":b?"Add another image":Object(e.h)(e.Fragment,null,O," or ",s))),Object(e.h)("input",{className:l()(f.file,"file-picker-input"),ref:A,type:"file",name:"file",accept:r,multiple:y,onInput:H=>m(void 0,null,function*(){h&&Object(u.i)(h);const C=H.target.files;C&&C[0]&&(y?yield g(C):yield g(C[0]))})}))}},function(k,n,t){"use strict";t.d(n,"a",function(){return F});var e=t(0),a=t(3),o=t(1),l=t(12),d=t.n(l),c=t(4),u=t.n(c),f=t(10),m=t.n(f),p=t(21),g=t(81),O=t(7),s=Object.defineProperty,r=Object.defineProperties,i=Object.getOwnPropertyDescriptors,h=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable,y=(S,D,w)=>D in S?s(S,D,{enumerable:!0,configurable:!0,writable:!0,value:w}):S[D]=w,b=(S,D)=>{for(var w in D||(D={}))v.call(D,w)&&y(S,w,D[w]);if(h)for(var w of h(D))j.call(D,w)&&y(S,w,D[w]);return S},E=(S,D)=>r(S,i(D)),P=(S,D,w)=>new Promise((U,V)=>{var K=R=>{try{W(w.next(R))}catch(B){V(B)}},Y=R=>{try{W(w.throw(R))}catch(B){V(B)}},W=R=>R.done?U(R.value):Promise.resolve(R.value).then(K,Y);W((w=w.apply(S,D)).next())});const A=(S,D,w,U,{trackOnly:V=!1}={})=>()=>P(void 0,null,function*(){if(Object(O.i)(O.a.RECOMMENDATION_SUBSCRIBE_BUTTON_CLICKED,{source:"recommendations-page",recommended_publication_id:S.id,recommending_publication_id:D.id}),!V)try{yield d.a.post("/api/v1/free").send({email:w.email,source:"recommendations_page",other_publication_id:S.id}),U(S)}catch(K){alert("Something went wrong")}}),_=(S,D,w,{trackOnly:U=!1}={})=>()=>P(void 0,null,function*(){if(Object(O.i)(O.a.RECOMMENDATION_UNSUBSCRIBE_BUTTON_CLICKED,{source:"recommendations-page",recommended_publication_id:S.id,recommending_publication_id:D.id}),!U)try{yield d.a.delete("/api/v1/free").send({publication_id:S.id,source:"recommendations_page"}),w(S)}catch(V){alert("Something went wrong")}}),M=({recommendations:S})=>{if(!S||Object.keys(S).length<=1)return S;const D=JSON.parse(JSON.stringify(S));for(let w=Object.keys(D).length-1;w>0;w--){const U=Math.floor(Math.random()*(w+1)),V=D[w];D[w]=D[U],D[U]=V}return D},F=({pub:S,recommendations:D,allSubscribedPubs:w,fullySubscribedPubs:U,user:V})=>{const K=S.author_photo_url,Y=S.author_name,[W,R]=Object(o.l)(w),B=Q=>{R([...W,Q])},x=Q=>{R(W.filter(({id:he})=>he!==Q.id))},G=Object(a.useMemo)(()=>M({recommendations:D}),[D]);return Object(e.h)("div",{className:"container"},Object(e.h)("div",{className:"recommendations-page-container"},Object(e.h)("h2",null,"Recommended by ",Object(f.getByLine)(S)||S.name),Object(e.h)("div",{className:"recommended-publications-container"},G.map((Q,he)=>{const Z=Q.recommendedPublication;if(!Z)return;const le=`${Object(c.getBaseUrl)(Z)}/?utm_source=recommendations_page&utm_campaign=${S.id}`,de=Object(c.getSubscribeUrl)(Z,{addBase:!0,utm_source:"recommendations_page"}),be=Object(f.getByLine)(Z),X=U.map(({id:ie})=>ie).includes(Z.id);return Object(e.h)("div",{className:"recommended-publications-text-container with-blurb"},Object(e.h)("div",{className:"recommendation-body"},Object(e.h)("div",{className:"publication-content"},Object(e.h)("div",{className:"top-row"},Object(e.h)("a",{className:"left",href:le,onClick:()=>{Object(O.i)(O.a.PUBLICATION_RECOMMENDATION_LINK_CLICKED,{source:"recommendations-page",recommended_publication_id:Z.id,recommending_publication_id:S.id})}},Object(e.h)(g.a,{pub:Z,size:48,logo_url:Z.logo_url||Z.author_photo_url,linkify:!1}),Object(e.h)("div",{className:"pub-meta"},Object(e.h)("div",{className:"publication-title"},Z.name),!!be&&Object(e.h)("div",{className:"publication-author"},"By ",be))),W.map(({id:ie})=>ie).includes(Z.id)?Object(e.h)(p.b,{onClick:_(Z,S,x,{trackOnly:X}),href:X?Object(c.getPubAccountSettingsUrl)(Z,{addBase:!0}):null,className:"unsubscribe"},"Subscribed"):Object(e.h)(p.b,{onClick:A(Z,S,V,B,{trackOnly:!(V==null?void 0:V.email)}),href:(V==null?void 0:V.email)?null:de},"Subscribe")),Object(e.h)("div",{className:"publication-suggestion-text-area"},(Z.editorial_bio||Z.hero_text)&&Object(e.h)("div",{className:"publication-description"},Z.editorial_bio||Z.hero_text)),Q.description&&Object(e.h)(H,{content:Q.description,author:Object(f.getByLine)(S)||S.name}))))}))))},H=({author:S,content:D})=>Object(e.h)("div",{className:"blurb"},Object(e.h)("p",{className:"blurb-content"},D),Object(e.h)("p",{className:"blurb-author"},"- ",S)),C=({recommendations:S,numRecommendations:D,pub:w,user:U,render:V,renderRecommendation:K})=>{const W=Object(a.useMemo)(()=>M({recommendations:S}),[S]).map(R=>Object(e.h)(T,{recommendation:R,pub:w,signedIn:!!U,render:K}));return Object(o.d)(()=>{Object(O.i)(O.a.PUBLICATION_RECOMMENDATIONS_SHOWN,{source:"pub-home",recommendations:S.map(({recommendedPublication:R})=>R.id)})},[S]),V?V({recommendations:W,canManage:Boolean(U==null?void 0:U.is_admin),manageUrl:Object(c.getPublishSettingsRecommendationsUrl)(w),hasMore:D>S.length,hasMoreUrl:Object(c.getRecommendationsPageUrl)(w),recommendationsCount:D}):Object(e.h)("div",{className:"home-right-group recommendations"},Object(e.h)("div",{className:"home-right-group-title"},Object(e.h)("a",{href:Object(c.getRecommendationsPageUrl)(w)},"Recommendations"),(U==null?void 0:U.is_admin)?Object(e.h)("a",{href:Object(c.getPublishSettingsRecommendationsUrl)(w),native:!0},"Manage"):D>S.length?Object(e.h)("a",{href:Object(c.getRecommendationsPageUrl)(w),native:!0},"View all ",D):null),W)},T=({recommendation:S,pub:D,signedIn:w,render:U})=>{const{recommendedPublication:V}=S,K=Object(c.getPubUrl)(V,{params:{utm_source:"homepage_recommendations",utm_campaign:D.id},signedIn:w}),Y=()=>{Object(O.i)(O.a.PUBLICATION_RECOMMENDATION_LINK_CLICKED,{recommending_publication_id:D.id,recommended_publication_id:V.id,source:"homepage-recommendations"})},W={pub:V,logo_url:V.logo_url,href:K,openInNewTab:!0,belowTheFold:!0};return U?U({pubIconProps:W,pubName:V.name,pubAuthor:V.author.name,url:K,onClick:Y}):Object(e.h)("div",{className:"home-right-col"},Object(e.h)("div",{className:"recommendation-row"},Object(e.h)("div",{className:"left"},Object(e.h)("a",{onClick:Y},Object(e.h)(g.a,E(b({},W),{size:32}))),Object(e.h)("div",{className:"pub-meta"},Object(e.h)("a",{href:K,target:"_blank",onClick:Y},V.name),Object(e.h)("div",{className:"pub-author"},V.author.name)))))};n.b=C},,,,function(k,n,t){"use strict";t.d(n,"a",function(){return c});var e=t(0),a=t(3),o=t(2),l=t(8),d={label:"frontend-pencraft-unstable-InputGroup-module__label--2VXOi"};const c=({className:g,children:O,detail:s,label:r,alignment:i="vertical",error:h=!1})=>{const v=i==="vertical"?u:f;return Object(e.h)(v,{className:g,detail:s,error:h,label:r},a.Children.map(O,j=>Object(a.isValidElement)(j)?Object(e.cloneElement)(j,{error:h}):j))},u=({children:g,className:O,detail:s,error:r,label:i})=>Object(e.h)(o.b,{className:O,gap:8,justifyContent:"start"},Object(e.h)("label",null,Object(e.h)(l.b.B4,{weight:"semibold",as:"div",color:r?"error":"primary",paddingBottom:8},i),g),s&&Object(e.h)(p,{detail:s,error:r})),f=({children:g,className:O,detail:s,error:r,label:i})=>Object(e.h)(o.c,{className:O,justifyContent:"space-between",alignItems:"center"},Object(e.h)(o.b,{gap:4},i&&Object(e.h)(m,{label:i,error:r}),s&&Object(e.h)(p,{detail:s,error:r})),g),m=({label:g,error:O})=>Object(e.h)(l.b.B4,{weight:"semibold",className:d.label,color:O?"error":"primary"},g),p=({detail:g,error:O})=>Object(e.h)(l.b.B4,{color:O?"error":"secondary"},g)},,function(k,n,t){var e=t(201);function a(o,l,d){for(var c=-1,u=o.length;++c<u;){var f=o[c],m=l(f);if(m!=null&&(p===void 0?m===m&&!e(m):d(m,p)))var p=m,g=f}return g}k.exports=a},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("Contact",[["path",{d:"M17 18a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2",key:"1mghuy"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["circle",{cx:"12",cy:"10",r:"2",key:"1yojzk"}],["line",{x1:"8",x2:"8",y1:"2",y2:"4",key:"1ff9gb"}],["line",{x1:"16",x2:"16",y1:"2",y2:"4",key:"1ufoma"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("ScreenShareOff",[["path",{d:"M13 3H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-3",key:"i8wdob"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"m22 3-5 5",key:"12jva0"}],["path",{d:"m17 3 5 5",key:"k36vhe"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("SmilePlus",[["path",{d:"M22 11v1a10 10 0 1 1-9-10",key:"ew0xw9"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}],["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("ScreenShare",[["path",{d:"M13 3H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-3",key:"i8wdob"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"m17 8 5-5",key:"fqif7o"}],["path",{d:"M17 3h5v5",key:"1o3tu8"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["line",{x1:"12",x2:"12",y1:"9",y2:"13",key:"1gkch0"}],["line",{x1:"12",x2:"12.01",y1:"17",y2:"17",key:"io3f8k"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("LayoutList",[["rect",{width:"7",height:"7",x:"3",y:"14",key:"8pmw4r"}],["rect",{width:"7",height:"7",x:"3",y:"3",key:"i95qnx"}],["line",{x1:"14",x2:"21",y1:"4",y2:"4",key:"1jpd8k"}],["line",{x1:"14",x2:"21",y1:"9",y2:"9",key:"z1w1u5"}],["line",{x1:"14",x2:"21",y1:"15",y2:"15",key:"evly31"}],["line",{x1:"14",x2:"21",y1:"20",y2:"20",key:"v5or0t"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("CheckCircle2",[["path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",key:"14v8dr"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},function(k,n,t){"use strict";t.d(n,"a",function(){return a});var e=t(6);const a=Object(e.a)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},,,,,,,,,,,,,,,,,,,,,,,,function(k,n){function t(e,a){return e>a}k.exports=t},function(k,n,t){var e=t(589),a=t(284),o=Object.prototype,l=o.hasOwnProperty;function d(c,u,f){var m=c[u];(!(l.call(c,u)&&a(m,f))||f===void 0&&!(u in c))&&e(c,u,f)}k.exports=d},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(k,n,t){"use strict";t.d(n,"a",function(){return h});var e=t(0),a=t(5),o=t.n(a),l=t(701),d=t.n(l),c=t(208),u=t.n(c),f=t(21),m=t(1284),p=Object.defineProperty,g=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,r=(j,y,b)=>y in j?p(j,y,{enumerable:!0,configurable:!0,writable:!0,value:b}):j[y]=b,i=(j,y)=>{for(var b in y||(y={}))O.call(y,b)&&r(j,b,y[b]);if(g)for(var b of g(y))s.call(y,b)&&r(j,b,y[b]);return j};const h=({homepageLinks:j,pub:y,renderGroup:b,renderLink:E})=>{const P=d()(j,"group"),A=u()(Object.keys(P),_=>P[_][0].rank);return Object(e.h)(e.Fragment,null,A.map(_=>Object(e.h)(v,{group:_,items:P[_],pub:y,newTab:!0,renderGroup:b,renderLink:E})))},v=({group:j,items:y,newTab:b,pub:E,renderGroup:P,renderLink:A})=>{const _=[];let M=null;b&&(M="_blank",_.push("noopener noreferrer")),(!E||(E==null?void 0:E.no_follow))&&_.push("ugc nofollow");const F={rel:_.join(" "),target:M},H=Object(e.h)(e.Fragment,null,y.map(({title:C,url:T,subtitle:S,subtitleUrl:D,edit:w,className:U})=>A?A({title:C,url:T,subtitle:S,linkProps:F}):Object(e.h)("div",{className:o()("home-right-col",U)},w?Object(e.h)("div",{className:"home-right-col-editable"},Object(e.h)("a",{className:"home-right-col-title",href:T,native:!0},C),Object(e.h)(f.b,{className:"button secondary show-on-hover",href:w,title:"edit"},Object(e.h)(m.default,{height:20,width:20,stroke:"#aaa"}))):Object(e.h)("a",i({className:"home-right-col-title",href:T,native:!0},F),C),S&&Object(e.h)("a",i({className:"home-right-col-sub",href:D||T,native:!0},F),S))));return P?P({title:j,links:H}):Object(e.h)("div",{className:"home-right-group"},Object(e.h)("div",{className:"home-right-group-title"},j),H)}},function(k,n,t){"use strict";t.d(n,"c",function(){return E}),t.d(n,"d",function(){return P}),t.d(n,"b",function(){return A}),t.d(n,"a",function(){return _});var e=t(0),a=t(1),o=t(5),l=t.n(o),d=t(12),c=t.n(d),u=t(15),f=t(10),m=t.n(f),p=t(35),g=t(7),O=t(123),s=t(9),r=t.n(s),i=t(21),h=t(57),v=t(1181),j=t(96);const y=({children:F,dismissKey:H,dismissDurationInSeconds:C,beforeDismiss:T,className:S,level:D="info"}={})=>{const[w,U]=Object(O.a)(H,C,T);if(!w)return Object(e.h)("div",{className:l()("banner",D,S)},F,Object(e.h)(j.default,{width:12,height:12,className:"banner-close",onClick:V=>{V.preventDefault(),V.stopPropagation(),U()}}))};var b=y;const E=()=>(Object(a.d)(()=>{Object(g.i)(g.a.GO_PAID_CTA_SHOWN,{type:"banner"})},[]),Object(e.h)(y,{dismissKey:"go-paid-banner.dismissed",dismissDurationInSeconds:3*m.a,beforeDismiss:()=>{Object(g.i)(g.a.GO_PAID_CTA_DISMISSED,{type:"banner"})}},Object(e.h)(v.default,{stroke:"var(--print_pop)",fill:"var(--print_pop)",strokeWidth:0,className:"go-paid-banner-bell"}),Object(e.h)("a",{href:"/publish/settings#connect",native:!0,onClick:()=>{Object(g.i)(g.a.GO_PAID_CTA_CLICKED,{type:"banner"})}},"Turn on paid subscriptions")," ",Object(e.h)("span",{className:"go-paid-banner-text"},"to get paid for your writing"))),P=({action:F="connect"})=>{const{getConfigFor:H}=Object(p.c)(),[C,T]=Object(a.l)(!1);return C||!H("twitter_connect_flows_enabled")?null:Object(e.h)(y,{level:"setup",dismissKey:"setup-twitter-banner.dismissed",beforeDismiss:()=>{Object(g.i)(g.a.SETUP_TWITTER_CTA_DISMISSED,{type:"banner"})}},Object(e.h)("div",{className:"setup-twitter-banner-header"},"Help more readers discover your writing"),Object(e.h)("p",null,"Connect your Twitter account so we can notify your followers about your Substack."),F==="connect"&&Object(e.h)(i.b,{className:"twitter-button centered-icon",onClick:()=>{Object(g.i)(g.a.SETUP_TWITTER_CTA_CONNECT_CLICKED,{type:"banner"}),location.href=Object(u.getConnectTwitterUrl)({type:"connect_pub"})}},"Connect Twitter"),F==="set-discoverable"&&Object(e.h)(h.g,{className:"minimal",action:"/api/v1/twitter/set-discoverable",method:"put",onSuccess:()=>T(!0)},Object(e.h)("input",{type:"hidden",name:"d",value:"true"}),Object(e.h)(i.b,{className:"twitter-button centered-icon",type:"Submit",onClick:()=>Object(g.i)(g.a.SETUP_TWITTER_CTA_SETDISCOVERABLE_CLICKED,{type:"banner"})},"Turn on Discoverability")),Object(e.h)("div",{className:"twitter-permission-notice"},"We never tweet without your explicit permission"))},A=()=>Object(e.h)(y,{level:"coming-soon",dismissKey:"coming-soon-banner.dismissed",beforeDismiss:()=>{c.a.put("/api/v1/publication_settings").send({seen_coming_soon_explainer:!0})}},Object(e.h)("div",{className:"coming-soon-banner-header"},"Welcome to Substack!"),Object(e.h)("br",null),Object(e.h)("p",null,`We've created this "Coming Soon" post for you. To edit it, click the three-dot icon.`),Object(e.h)("br",null),Object(e.h)("p",null,`It's just a placeholder and won't be sent out to your subscribers. To email them, click the "New Post" button.`)),_=({children:F,className:H,level:C="info",onClose:T}={})=>{const[S,D]=Object(a.l)(!1);if(!(S&&C!=="error"))return Object(e.h)("div",{className:l()("banner",C,H)},F,C!=="error"&&Object(e.h)(j.default,{width:12,height:12,className:"banner-close",onClick:w=>{w.preventDefault(),w.stopPropagation(),T&&T(),D(!0)}}))},M=({featureName:F,featureLink:H,preText:C,linkedText:T,postText:S,children:D})=>{Object(a.d)(()=>{Object(g.i)(g.a.FEATURE_ANNOUNCEMENT_BANNER_SHOWN,{type:F})},[F]);const w=Object(s.isMobileBrowser)();return Object(e.h)(y,{level:"new-feature",dismissKey:"new-feature-banner.dismissed",dismissDurationInSeconds:3*m.a},!w&&D,Object(e.h)("p",{className:"new-feature-banner-text"},C," ",Object(e.h)("a",{href:H,native:!0,onClick:()=>{Object(g.i)(g.a.FEATURE_ANNOUNCEMENT_BANNER_CLICKED,{type:F})}},T)," ",S))}},,,,,function(k,n,t){"use strict";t.d(n,"a",function(){return o});var e=t(0),a={container:"frontend-pencraft-unstable-ClickBox-module__container--4kUQo"};const o=({children:l,disable:d,onClick:c})=>{const u=d?void 0:c;return Object(e.h)("div",{className:u?a.container:void 0,role:u?"button":void 0,onClick:u},l)}},,function(k,n,t){"use strict";t.d(n,"a",function(){return u});var e=t(0),a=t(55),o=t(2),l=t(48),d=t(62),c=t(782);const u=({pub:f,user_id:m,user_profile_photo_url:p,children:g})=>Object(a.getConfigFor)("meetings_embed_publication_name")?Object(e.h)(o.b,{gap:20,alignItems:"center",paddingTop:32},Object(e.h)(d.a,{className:c.a.pubLogo,pub:f,size:112}),g):Object(e.h)(o.b,{gap:20,alignItems:"center",paddingTop:32},Object(e.h)("div",{className:c.a.avatarWithPubLogo},Object(e.h)(l.a,{className:c.a.avatar,user:{id:m,photo_url:p},size:112}),(f.logo_url||f.cover_photo_url)&&Object(e.h)(d.a,{className:c.a.pubIcon,pub:f,size:40})),g)},,,,,,,,,,,,,,,function(k,n,t){"use strict";t.d(n,"a",function(){return i});var e=t(0),a=t(1),o=t(5),l=t.n(o),d=t(4),c=t.n(d),u=t(9),f=t.n(u),m=t(96),p=t(423);const g=[["owner","Owner"],["founding_sub","Founding Sub"],["paid_sub","Paid Sub"],["free_sub","Free Sub"],["non_sub","Non Sub"]];function O(h,v,j){return!v||!h?!1:j==="owner"?h.author_id===v.id:v.email===`${j}_for_${h.subdomain}@example.com`}const s=({setExpanded:h})=>Object(e.h)("div",{style:{cursor:"pointer",width:"30px",height:"30px",opacity:.5,color:"var(--background_pop)"},onClick:()=>h(!0)},Object(e.h)(p.default,{height:30,stroke:"var(--background_pop)",fill:"var(--background_pop)"})),r=({pub:h,user:v,setExpanded:j})=>{const[y,b]=Object(a.l)("");return Object(e.h)("div",{style:{padding:"10px 20px",position:"relative",backgroundColor:"var(--web_bg_color)"}},Object(e.h)("div",null,"Sign in as",Object(e.h)("div",{style:{position:"absolute",top:7,right:7,cursor:"pointer"},onClick:()=>j(!1)},Object(e.h)(m.default,{height:20}))),g.map(([E,P])=>Object(e.h)("div",null,Object(e.h)("a",{className:l()("button",O(h,v,E)?"primary":"outline"),style:{width:"100%",marginTop:3},onClick:()=>{window.location.href=Object(d.pathWithQuery)("/api/v1/debug/log-in-as",{user_type:E,orig_url:window.location.href})}},P))),Object(e.h)("div",null,Object(e.h)("input",{value:y,onChange:E=>{var P;b((P=E.target)==null?void 0:P.value)}}),Object(e.h)("button",{onClick:()=>{window.location.href=Object(d.pathWithQuery)("/api/v1/debug/log-in-as",{custom_user:y,orig_url:window.location.href})}},"Log in as")))};class i extends e.Component{constructor(v,j){super(v,j);this.onDocumentMouseUp=y=>{!Object(u.isRootOrChild)(y.target,this.base)&&this.state.expanded&&this.setState({expanded:!1})},this.state={expanded:!1}}componentDidMount(){document.addEventListener("mouseup",this.onDocumentMouseUp)}componentWillUnmount(){document.removeEventListener("mouseup",this.onDocumentMouseUp)}render({pub:v,user:j},{expanded:y}){var b;return null}}},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"CreditCardIcon",svgParams:{height:21,width:32}}),Object(e.h)("g",{fill:"none",fillRule:"evenodd"},Object(e.h)("g",{fill:s.fill||"#515e80",stroke:"none"},Object(e.h)("g",{transform:"translate(0 2)"},Object(e.h)("path",{d:"M26.58 19H2.42A2.4 2.4 0 0 1 0 16.62V2.38A2.4 2.4 0 0 1 2.42 0h24.16A2.4 2.4 0 0 1 29 2.38v14.25A2.4 2.4 0 0 1 26.58 19zM10 5.83c0-.46-.35-.83-.78-.83H3.78c-.43 0-.78.37-.78.83v3.34c0 .46.35.83.78.83h5.44c.43 0 .78-.37.78-.83V5.83z",opacity:".2"}),Object(e.h)("path",{d:"M25 15h-3c-.65 0-1-.3-1-1s.35-1 1-1h3c.65 0 1 .3 1 1s-.35 1-1 1zm-6 0h-3c-.65 0-1-.3-1-1s.35-1 1-1h3c.65 0 1 .3 1 1s-.35 1-1 1zm-6 0h-3c-.65 0-1-.3-1-1s.35-1 1-1h3c.65 0 1 .3 1 1s-.35 1-1 1zm-6 0H4c-.65 0-1-.3-1-1s.35-1 1-1h3c.65 0 1 .3 1 1s-.35 1-1 1z",opacity:".3"})))));n.default=O},,function(k,n,t){"use strict";t.d(n,"a",function(){return h});var e=t(0),a=t(1),o=t(193),l=t(12),d=t.n(l),c=t(4),u=t(10),f=t(158),m=t(64),p=t(2),g=t(8),O=t(26),s={wrapper:"frontend-lib-ProfileSetupToast-module__wrapper--3wUl-",headerRow:"frontend-lib-ProfileSetupToast-module__headerRow--17w27",header:"frontend-lib-ProfileSetupToast-module__header--fKsNz"},r=(v,j,y)=>new Promise((b,E)=>{var P=M=>{try{_(y.next(M))}catch(F){E(F)}},A=M=>{try{_(y.throw(M))}catch(F){E(F)}},_=M=>M.done?b(M.value):Promise.resolve(M.value).then(P,A);_((y=y.apply(v,j)).next())});const i=(v,j,y,b,E)=>{if(!j)return null;switch(v){case"post-login":return j.profile_set_up_at?{title:"Your account is now set up",body:"You now have a profile and are able to leave comments on all of your subscriptions.",ctaText:"Check out profile",ctaLink:Object(c.getReaderProfileUrl)(j,{utm_source:"profile_toast",noBase:y}),ctaVariant:"secondary"}:null;case"post-subscribe-prompt":return b?{title:"Finish setting up your account",body:"Tell us more about yourself and find more things to read, so you can participate in the community",ctaText:"Finish setting up",ctaLink:Object(c.getReaderOnboardingUrl)(j,{isAbbreviated:!0,redirect:document.location.href,postRedirectToast:"post-subscribe-success",pubId:b?b.id:null}),ctaVariant:"themed-primary"}:null;case"post-subscribe-success":return!b||!j.profile_set_up_at?null:{title:`Welcome to ${b?b.name:""}`,body:Object(e.h)("span",null,"You will start receiving updates in your inbox. You can also read the"," ",Object(e.h)("a",{href:b?Object(c.getArchiveUrl)(b):null},"full archives")," in the website or check out your profile."),ctaText:"Check out profile",ctaLink:Object(c.getReaderProfileUrl)(j,{utm_source:"profile_toast",noBase:y}),ctaVariant:"secondary"};case"start-writing":return{title:Object(e.h)(p.b,{alignItems:"center"},Object(e.h)("img",{width:195,src:Object(c.cloudinary)("/img/reader_onboarding/jobpage_penholder.png",195)}),Object(e.h)(g.b.H3,{align:"center"},"Want to start writing on Substack?")),body:Object(e.h)(g.b.B3,{align:"center",paddingBottom:20},Object(e.h)("span",null,"Congrats on subscribing to your ",Object(u.numberToOrdinal)(E)," Substack! Start your own"," ",Object(e.h)("b",null,"in 5 minutes or less"))),ctaText:"Start Writing",ctaLink:Object(c.getStartPublishingUrl)({utm_source:"profile_toast"}),ctaVariant:"themed-primary"};default:return null}};function h({user:v,pub:j=null,noBase:y=!1}){const b=Object(O.e)();return Object(a.d)(()=>{function E(){return r(this,null,function*(){yield d.a.put("/api/v1/user-setting").send({type:"has_seen_reader_to_writer_upsell",value_bool:!0})})}const P=new URL(location.toString()),A=P.searchParams.get("profile-setup-message");if(!A)return;const _=A==="start-writing"?Number(P.searchParams.get("nthPub")):void 0;if(P.searchParams.delete("nthPub"),P.searchParams.delete("profile-setup-message"),history.replaceState({},"",P),!(A!=="post-subscribe-prompt"))return;const F=i(A,v,y,j,_);!F||(A==="start-writing"&&E(),b.popToast(({onClose:H})=>Object(e.h)(p.b,{className:s.wrapper,justifyContent:"space-between"},Object(e.h)(p.b,{gap:8},Object(e.h)(p.c,{className:s.headerRow,justifyContent:"space-between",alignItems:"center"},Object(e.h)(m.a,{look:"flex",onClick:H},Object(e.h)(o.a,{size:20}))),Object(e.h)(g.b.H3,{className:s.header},F.title),F.body),Object(e.h)(m.a,{variant:F.ctaVariant,fill:"filled",onClick:C=>{Object(f.a)(C,F.ctaLink,{native:!0}),H()}},F.ctaText)),{ttl:null}))},[]),null}},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"FilledCircleCheckmarkIcon",svgParams:{height:24,width:24}}),Object(e.h)("circle",{className:"filled-checkmark-icon-circle",cx:"12",cy:"12",r:"12",fill:"#419E4E",stroke:"none"}),Object(e.h)("path",{d:"M7 11.7222L10.8462 16L17 9",stroke:s.stroke||"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}));n.default=O},,,,,,,,,,,,function(k,n,t){var e=t(285),a=t(1167),o=t(299);function l(d,c,u){for(var f=-1,m=c.length,p={};++f<m;){var g=c[f],O=e(d,g);u(O,g)&&a(p,o(g,d),O)}return p}k.exports=l},,,,,,,,,,,,function(k,n,t){"use strict";t.d(n,"b",function(){return K}),t.d(n,"c",function(){return Y}),t.d(n,"a",function(){return W});var e=t(0),a=t(1),o=t(5),l=t.n(o),d=t(439),c=t.n(d),u=t(503),f=t.n(u),m=t(440),p=t(4),g=t(15),O=t(103),s=t(10),r=t(118),i=t(876),h=t(914),v=t(9),j=t(2),y=t(32),b=t(8),E=t(348),P=t(37),A={pageContainer:"frontend-substack-PublicationThreadAppLinkPage-module__pageContainer--2gZ8W",layoutTop:"frontend-substack-PublicationThreadAppLinkPage-module__layoutTop--2DQRV",layoutCentered:"frontend-substack-PublicationThreadAppLinkPage-module__layoutCentered--3l8m9",header:"frontend-substack-PublicationThreadAppLinkPage-module__header--2tYyZ",logo:"frontend-substack-PublicationThreadAppLinkPage-module__logo--2085u",footer:"frontend-substack-PublicationThreadAppLinkPage-module__footer--317-p",threadsLinkContainer:"frontend-substack-PublicationThreadAppLinkPage-module__threadsLinkContainer--3JR5W",threadsLinkFallback:"frontend-substack-PublicationThreadAppLinkPage-module__threadsLinkFallback--1N_4X",qrCode:"frontend-substack-PublicationThreadAppLinkPage-module__qrCode--2TvBx",avatarContainer:"frontend-substack-PublicationThreadAppLinkPage-module__avatarContainer--2knX7",activityBadge:"frontend-substack-PublicationThreadAppLinkPage-module__activityBadge--2dzpY",mobile:"frontend-substack-PublicationThreadAppLinkPage-module__mobile--1GG0y",appBadge:"frontend-substack-PublicationThreadAppLinkPage-module__appBadge--EVQJe",webChatLink:"frontend-substack-PublicationThreadAppLinkPage-module__webChatLink---Y_WR"},_=Object.defineProperty,M=Object.getOwnPropertySymbols,F=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable,C=(Z,le,de)=>le in Z?_(Z,le,{enumerable:!0,configurable:!0,writable:!0,value:de}):Z[le]=de,T=(Z,le)=>{for(var de in le||(le={}))F.call(le,de)&&C(Z,de,le[de]);if(M)for(var de of M(le))H.call(le,de)&&C(Z,de,le[de]);return Z},S=(Z,le)=>{var de={};for(var be in Z)F.call(Z,be)&&le.indexOf(be)<0&&(de[be]=Z[be]);if(Z!=null&&M)for(var be of M(Z))le.indexOf(be)<0&&H.call(Z,be)&&(de[be]=Z[be]);return de};function D({children:Z,pub:le,user:de,showHeader:be,layoutTop:X}){return Object(e.h)("div",{className:l()(A.pageContainer,X?A.layoutTop:A.layoutCentered)},Object(e.h)("div",{className:A.header},be&&le&&de&&Object(e.h)(h.a,{pub:le,user:de,hideSections:!0,hideTitle:!0})),Z)}function w({pub:Z,utm_campaign:le}){return Object(e.h)(j.b,{alignItems:"center",justifyContent:"center",gap:12},Object(e.h)(G,{utm_campaign:le}),Object(e.h)(b.b.B4,{size:12,color:"secondary",className:A.threadsLinkFallback},"Already have the app? ",Object(e.h)("a",{href:Object(p.getThreadDeepLinkUrl)(Z)},"Open now")))}function U({pub:Z,utm_campaign:le}){return Object(e.h)(j.b,{alignItems:"center",justifyContent:"center",gap:12},Object(e.h)(Q,{utm_campaign:le}),Object(e.h)(b.b.B4,{size:12,color:"secondary",className:A.threadsLinkFallback},"Already have the app? ",Object(e.h)("a",{href:Object(p.getThreadDeepLinkUrl)(Z)},"Open now")))}function V({pub:Z,communityAction:le}){var de,be;const X=le?`${le.author.name} started a thread`:`Join ${Object(s.possessive)(Z.author_name)} subscriber chat `,ie=(le==null?void 0:le.communityPost)?(de=le.communityPost.body)==null?void 0:de.slice(0,128):`Subscribe to ${Z.name} and join the conversation.`,Ce=((be=le==null?void 0:le.communityPost)==null?void 0:be.type)==="media"&&!!(le==null?void 0:le.communityPost.media_assets),Le=Ce?le.communityPost.media_assets[0].url:Z.logo_url,Ae=Object(g.getPublicationChatAppLinkUrl)({pubKey:Z.subdomain});return Object(e.h)(e.Fragment,null,Object(v.setMetaData)({title:X,socialTitle:X,description:ie,image:Le,isLargeImage:Ce}),Object(e.h)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:c()(Object(m.c)(Z,{name:X,url:Ae,description:ie,potentialAction:null}),{json:!0,isScriptContext:!0})}}))}function K({publication:Z,communityAction:le,user:de,showHeader:be}){return Object(e.h)(D,{pub:Z,user:de,showHeader:be},Object(e.h)(j.b,{flex:"grow",alignSelf:"stretch",justifyContent:"center"},Object(e.h)(j.a,{flex:"grow",justifyContent:"center",paddingBottom:56},Object(e.h)(W,{publication:Z,communityAction:le,publicationAuthor:Z.author||{id:Z.author_id||0,name:Z.author_name||"",photo_url:Z.author_photo_url},utm_campaign:"threads-page"}))))}function Y({publication:Z,communityAction:le,user:de,postId:be,layoutTop:X,appModalOpenByDefault:ie}){const Ce=Object(P.a)(),[Le,Ae]=Object(a.l)(!Ce&&ie),Pe="thread-page",Ne=Object(e.h)(j.b,{gap:8},Object(e.h)(r.f,{href:Object(g.getCommunityPostAppLinkUrl)({postId:be,utm_source:"chat-post-landing",redirect:"app-store",utm_campaign:Pe}),onClick:Ce?null:ce=>{ce.preventDefault(),Ae(!0)}},"Open in app"),Object(e.h)(R,{publication:Z,postId:be,text:"Or join the conversation on web",source:"post-permalink"}));return Object(e.h)(D,{pub:Z,user:de,layoutTop:X},Object(e.h)(j.b,{flex:"grow",alignSelf:"stretch",justifyContent:"center"},Object(e.h)(j.a,{flex:"grow",justifyContent:"center",paddingBottom:16},Object(e.h)(j.b,{style:{maxWidth:580},flex:"grow",justifyContent:"center"},le.communityPost?Object(e.h)(r.e,{communityPost:le.communityPost,author:le.author,withAttribution:!0,extras:Ce?null:Ne,flex:"auto",isReadOnly:!0}):Object(e.h)(j.b,null,Object(e.h)(r.d,{author:le.author,extras:Ce?null:Ne})))),Ce&&Object(e.h)(j.b,{className:A.footer,sizing:"border-box",borderTop:"detail-themed",paddingY:16,alignSelf:"stretch"},Ne),Object(e.h)(V,{pub:Z,communityAction:le})),Object(e.h)(he,{utm_campaign:Pe,isOpen:Le,postId:be,onClose:()=>Ae(!1),subdomain:Z.subdomain}))}function W({publication:Z,communityAction:le,publicationAuthor:de,noFallback:be,utm_campaign:X}){const ie=Object(O.isMobile)(),Ce=Object(O.isAndroid)();return Object(e.h)(j.b,{gap:ie?20:24,justifyContent:"center",alignItems:"center"},Object(e.h)(E.a,{imageUrl:Object(p.getUserPhotoUrl)(de),size:"xxl",border:!0,badge:Object(e.h)("div",{className:l()(A.activityBadge)}),badgePosition:"bottom-right"}),Object(e.h)(j.b,{gap:8},Object(e.h)(b.b.H2,{size:24,align:"center",weight:"bold",color:"pub-primary-text"},"Join ",Object(s.possessive)(de.name)," subscriber chat")),!ie&&Object(e.h)("div",{className:A.threadsLinkContainer},Object(e.h)(B,{utm_campaign:X,subdomain:Z.subdomain})),ie&&(Ce?Object(e.h)(U,{pub:Z,utm_campaign:X}):Object(e.h)(w,{pub:Z,utm_campaign:X})),Object(e.h)(R,{publication:Z,source:"pub-nav-bar"}),Object(e.h)(V,{pub:Z,communityAction:le}))}function R({publication:Z,source:le,postId:de,text:be="Or open on web"}){return Object(e.h)("a",{href:Object(g.getWebChatUrl)({pubId:Z.id,postId:de,params:{utm_source:le}}),className:A.webChatLink},Object(e.h)(b.b.B3,{size:16,weight:"semibold",align:"center",as:"p",color:"pub-secondary-text"},be))}function B({utm_campaign:Z,postId:le,subdomain:de}){return Object(e.h)(j.b,{gap:24,alignItems:"center"},Object(e.h)(j.a,{justifyContent:"center"},Object(e.h)(b.b.B4,{as:"span",weight:"bold"},"Scan the QR code below")),Object(e.h)(j.a,{flex:"auto",justifyContent:"center",border:"detail",radius:4,className:A.qrCode},Object(e.h)(x,{utm_campaign:Z,postId:le,subdomain:de})),Object(e.h)(i.a,{label:"OR"}),Object(e.h)(j.a,{gap:16,justifyContent:"center"},Object(e.h)(G,{utm_campaign:Z}),Object(e.h)(Q,{utm_campaign:Z})))}function x({utm_campaign:Z,postId:le,subdomain:de}){const be=Object(a.k)(),X=le?Object(g.getCommunityPostAppLinkUrl)({postId:le,utm_campaign:Z}):Object(g.getPublicationChatAppLinkUrl)({pubKey:de,redirect:"app-store",utm_campaign:Z});return Object(a.d)(()=>{const{current:ie}=be;ie&&f.a.toCanvas(ie,X,{width:180,margin:2})},[]),Object(e.h)("canvas",{ref:be})}function G({utm_campaign:Z}){return Object(e.h)("a",{className:A.appBadge,href:Object(p.getAppStoreUrl)({utm_campaign:Z,utm_source:"substack"})},Object(e.h)("img",{src:Object(p.cloudinary)("/img/app_page/app-store.png",400),height:40}))}function Q({utm_campaign:Z}){return Object(e.h)("a",{className:A.appBadge,href:Object(p.getPlayStoreUrl)({utm_campaign:Z,utm_source:"substack"})},Object(e.h)("img",{src:Object(p.cloudinary)("/img/app_page/google-play.png",400),height:40}))}function he(Z){var le=Z,{postId:de,utm_campaign:be,subdomain:X}=le,ie=S(le,["postId","utm_campaign","subdomain"]);return Object(e.h)(y.a,T({},ie),Object(e.h)(y.d,{title:"Open in the Substack app",includeClose:!0,onClose:ie.onClose,bottomBorder:!0}),Object(e.h)(j.b,{paddingY:32,paddingX:40},Object(e.h)(B,{utm_campaign:be,postId:de,subdomain:X})))}},,function(k,n,t){"use strict";t.d(n,"a",function(){return H});var e=t(0),a=t(1),o=t(191),l=t(600),d=t(56),c=t(1044),u=t(193),f=t(835),m=t(1045),p=t(14),g=t(2),O=t(226),s=t(23),r=t(8),i={listItemAction:"frontend-pencraft-unstable-OrderedList-module__listItemAction--1NZDa",emptyMessage:"frontend-pencraft-unstable-OrderedList-module__emptyMessage--3-cMQ"},h=Object.defineProperty,v=Object.defineProperties,j=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,P=(C,T,S)=>T in C?h(C,T,{enumerable:!0,configurable:!0,writable:!0,value:S}):C[T]=S,A=(C,T)=>{for(var S in T||(T={}))b.call(T,S)&&P(C,S,T[S]);if(y)for(var S of y(T))E.call(T,S)&&P(C,S,T[S]);return C},_=(C,T)=>v(C,j(T));const M=({label:C,id:T,onRemove:S})=>{const{attributes:D,listeners:w,setNodeRef:U,transform:V,transition:K,setActivatorNodeRef:Y,isDragging:W}=Object(l.e)({id:T}),R={opacity:W?.4:void 0,transform:d.a.Translate.toString(V),transition:K};return Object(e.h)(g.a,{alignItems:"center",radius:4,bg:"secondary",gap:6,ref:U,style:R},Object(e.h)(p.c,_(A(A({size:32,fill:"empty"},D),w),{ref:Y}),Object(e.h)(c.a,{width:20,height:20,className:i.listItemAction})),Object(e.h)(r.b.B4,{paddingTop:4,paddingBottom:4},C),Object(e.h)(p.c,{size:32,fill:"empty",onClick:()=>S?S(T):null},Object(e.h)(u.a,{width:20,height:20,className:i.listItemAction})))},F=({children:C})=>{const T={sideEffects:Object(o.h)({styles:{active:{opacity:"0.4"}}})};return Object(e.h)(o.b,{dropAnimation:T},C)},H=({title:C,options:T,selectedItems:S,labelKey:D="name",onChange:w,emptyMessage:U})=>{var V;const[K,Y]=Object(a.l)(null),W=Object(a.i)(()=>T==null?void 0:T.find(Q=>Q.id===(K==null?void 0:K.id)),[K,T]),R=Q=>{w([...S!=null?S:[],Q])},B=Q=>{var he;w((he=S==null?void 0:S.filter(Z=>Z.id!==Q))!=null?he:[])},x=Object(o.p)(Object(o.o)(o.e,{activationConstraint:{delay:100,tolerance:10}}),Object(o.o)(o.d,{coordinateGetter:l.d})),G=({active:Q,over:he})=>{if(!S){w([Q]);return}if(he&&Q.id!==he.id){const Z=S==null?void 0:S.findIndex(de=>de.id===Q.id),le=S==null?void 0:S.findIndex(de=>de.id===he.id);w(Object(l.b)(S,Z,le))}Y(null)};return Object(e.h)(g.b,{gap:16},Object(e.h)(r.b.Button,{color:"secondary"},C),T?Object(e.h)(g.c,{wrap:"wrap",gap:8},Object(e.h)(o.a,{sensors:x,collisionDetection:o.f,onDragEnd:G,onDragStart:({active:Q})=>{Y(Q)},onDragCancel:()=>{Y(null)}},Object(e.h)(l.a,{items:(V=S==null?void 0:S.map(Q=>Q.id))!=null?V:[],strategy:l.c},S==null?void 0:S.map(Q=>Object(e.h)(M,_(A({key:Q.id,label:Q[D]},Q),{onRemove:B})))),Object(e.h)(F,null,W?Object(e.h)(M,A({label:W[D]},W)):null)),Object(e.h)(s.c,{trigger:Object(e.h)(p.c,{fill:"borderless",size:32,rounded:!1},Object(e.h)(f.a,null))},T==null?void 0:T.map(Q=>Object(e.h)(s.d,{disabled:!!(S==null?void 0:S.find(he=>he.id===Q.id)),onClick:()=>R(Q)},Q[D]))),U&&T&&T.length===0&&Object(e.h)(g.c,{padding:16,gap:16,className:i.emptyMessage},Object(e.h)(m.a,null)," ",U)):Object(e.h)(g.c,{justifyContent:"center"},Object(e.h)(O.a,{type:"circular"})))}},,,,,function(k,n,t){var e=t(1073),a=t(299),o=t(298),l=t(146),d=t(225);function c(u,f,m,p){if(!l(u))return u;f=a(f,u);for(var g=-1,O=f.length,s=O-1,r=u;r!=null&&++g<O;){var i=d(f[g]),h=m;if(i==="__proto__"||i==="constructor"||i==="prototype")return u;if(g!=s){var v=r[i];h=p?p(v,i,r):void 0,h===void 0&&(h=l(v)?v:o(f[g+1])?[]:{})}e(r,i,h),r=r[i]}return u}k.exports=c},function(k,n,t){var e=t(478),a=t(789),o=t(790);function l(d){return o(a(d,void 0,e),d+"")}k.exports=l},,,,,,,,,,,,,function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"BellIcon",svgParams:{viewBox:"0 0 20 20",height:20,width:20,fill:"none"}}),Object(e.h)("path",{d:"M3.54717 7.14905L2.80009 7.08297L2.79717 7.11595V7.14905H3.54717ZM2.91038 10.6428L2.24437 10.298H2.24436L2.91038 10.6428ZM1 15.1428H0.25C0.25 15.557 0.585786 15.8928 0.999999 15.8928L1 15.1428ZM1.63679 12.6832L2.30281 13.0281L1.63679 12.6832ZM16.4528 7.14907H17.2028V7.10282L17.1971 7.05691L16.4528 7.14907ZM17.0896 10.8385L17.7556 10.4937L17.0896 10.8385ZM19 15.1429V15.8929C19.1989 15.8929 19.3896 15.8138 19.5303 15.6732C19.6709 15.5325 19.75 15.3418 19.75 15.1429H19ZM18.3632 12.6832L17.6972 13.0281V13.0281L18.3632 12.6832ZM11.8822 16.4286C11.8822 17.4412 11.0709 18.25 10.085 18.25V19.75C11.9127 19.75 13.3822 18.2562 13.3822 16.4286H11.8822ZM10.085 18.25C9.09913 18.25 8.28782 17.4412 8.28782 16.4286H6.78782C6.78782 18.2562 8.25733 19.75 10.085 19.75V18.25ZM8.28782 16.4286V15.1429H6.78782V16.4286H8.28782ZM13.3822 16.4286V15.1429H11.8822V16.4286H13.3822ZM10.085 0.25C8.89057 0.25 7.20474 0.623466 5.74421 1.66361C4.25626 2.7233 3.0324 4.45632 2.80009 7.08297L4.29425 7.21512C4.48647 5.04178 5.4702 3.70027 6.61436 2.88543C7.78595 2.05106 9.15677 1.75 10.085 1.75V0.25ZM2.79717 7.14905C2.79717 7.71546 2.73571 8.36489 2.63006 8.95552C2.52161 9.56174 2.37824 10.0394 2.24437 10.298L3.57639 10.9877C3.81469 10.5275 3.98971 9.87319 4.10662 9.21966C4.22632 8.55054 4.29717 7.81245 4.29717 7.14905H2.79717ZM2.24436 10.298C2.08304 10.6095 1.89068 10.8906 1.66386 11.2217C1.44351 11.5434 1.19295 11.9093 0.97078 12.3384L2.30281 13.0281C2.47688 12.6919 2.67702 12.3969 2.90136 12.0694C3.11923 11.7514 3.36554 11.3949 3.57639 10.9877L2.24436 10.298ZM0.97078 12.3384C0.607085 13.0407 0.428923 13.7345 0.340527 14.2466C0.296032 14.5044 0.27347 14.721 0.261993 14.8761C0.256245 14.9538 0.25325 15.0165 0.25169 15.0617C0.25091 15.0843 0.250487 15.1026 0.25026 15.1162C0.250146 15.123 0.250081 15.1287 0.250045 15.1331C0.250026 15.1353 0.250015 15.1373 0.250009 15.1389C0.250005 15.1397 0.250003 15.1404 0.250002 15.1411C0.250001 15.1414 0.250001 15.1417 0.25 15.142C0.25 15.1422 0.25 15.1424 0.25 15.1424C0.25 15.1426 0.25 15.1428 1 15.1428C1.75 15.1428 1.75 15.143 1.75 15.1432C1.75 15.1433 1.75 15.1434 1.75 15.1435C1.75 15.1438 1.75 15.144 1.75 15.1441C1.75 15.1445 1.75 15.1448 1.75 15.145C1.74999 15.1454 1.74999 15.1456 1.74999 15.1454C1.75 15.1452 1.75001 15.1437 1.75005 15.1412C1.75013 15.1362 1.75033 15.1269 1.7508 15.1135C1.75172 15.0866 1.7537 15.0436 1.75791 14.9868C1.76633 14.8729 1.78357 14.7052 1.81867 14.5018C1.88947 14.0916 2.02971 13.5555 2.30281 13.0281L0.97078 12.3384ZM10.085 1.75C11.0068 1.75 12.2869 2.04746 13.3926 2.87498C14.4767 3.68634 15.4356 5.03759 15.7085 7.24122L17.1971 7.05691C16.8756 4.46053 15.712 2.73725 14.2914 1.67407C12.8924 0.627065 11.2858 0.25 10.085 0.25V1.75ZM15.7028 7.14907C15.7028 7.81063 15.7733 8.59469 15.8917 9.30825C16.0065 9.99938 16.1801 10.7132 16.4236 11.1834L17.7556 10.4937C17.6269 10.245 17.4821 9.72906 17.3715 9.06262C17.2646 8.4186 17.2028 7.71732 17.2028 7.14907H15.7028ZM16.4236 11.1834C16.6493 11.6193 16.9157 11.9442 17.1336 12.2143C17.3558 12.4898 17.5373 12.7194 17.6972 13.0281L19.0292 12.3384C18.7928 11.8818 18.5236 11.5484 18.3011 11.2726C18.0743 10.9913 17.902 10.7765 17.7556 10.4937L16.4236 11.1834ZM17.6972 13.0281C17.9703 13.5555 18.1105 14.0916 18.1813 14.5018C18.2164 14.7052 18.2336 14.8729 18.2421 14.9868C18.2463 15.0436 18.2482 15.0866 18.2492 15.1135C18.2496 15.1269 18.2498 15.1363 18.2499 15.1413C18.25 15.1438 18.25 15.1452 18.25 15.1455C18.25 15.1456 18.25 15.1455 18.25 15.145C18.25 15.1448 18.25 15.1445 18.25 15.1442C18.25 15.144 18.25 15.1438 18.25 15.1436C18.25 15.1435 18.25 15.1433 18.25 15.1432C18.25 15.143 18.25 15.1429 19 15.1429C19.75 15.1429 19.75 15.1427 19.75 15.1425C19.75 15.1424 19.75 15.1422 19.75 15.142C19.75 15.1417 19.75 15.1414 19.75 15.1411C19.75 15.1405 19.75 15.1397 19.75 15.1389C19.7499 15.1373 19.7499 15.1354 19.7499 15.1331C19.7499 15.1287 19.7498 15.123 19.7497 15.1162C19.7495 15.1026 19.7491 15.0843 19.7483 15.0617C19.7467 15.0165 19.7437 14.9539 19.738 14.8762C19.7265 14.721 19.7039 14.5045 19.6594 14.2467C19.571 13.7345 19.3929 13.0408 19.0292 12.3384L17.6972 13.0281ZM0.999999 15.8928L19 15.8929V14.3929L1 14.3928L0.999999 15.8928Z"}));n.default=O},,function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(926),o=t(13),l=Object.defineProperty,d=Object.defineProperties,c=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,p=(r,i,h)=>i in r?l(r,i,{enumerable:!0,configurable:!0,writable:!0,value:h}):r[i]=h,g=(r,i)=>{for(var h in i||(i={}))f.call(i,h)&&p(r,h,i[h]);if(u)for(var h of u(i))m.call(i,h)&&p(r,h,i[h]);return r},O=(r,i)=>d(r,c(i));const s=r=>Object(e.h)(o.a,O(g({},r),{name:"LucideMicOff",svgParams:{height:24,width:24,stroke:"#ffffff",strokeWidth:0}}),Object(e.h)(a.a,{height:24,stroke:r.stroke,fill:r.fill,strokeWidth:r.strokeWidth}));n.default=s},function(k,n,t){"use strict";t.d(n,"a",function(){return j});var e=t(0),a=t(5),o=t.n(a),l=t(4),d=t.n(l),c=t(10),u=t.n(c),f=t(183),m=Object.defineProperty,p=Object.defineProperties,g=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,i=(y,b,E)=>b in y?m(y,b,{enumerable:!0,configurable:!0,writable:!0,value:E}):y[b]=E,h=(y,b)=>{for(var E in b||(b={}))s.call(b,E)&&i(y,E,b[E]);if(O)for(var E of O(b))r.call(b,E)&&i(y,E,b[E]);return y},v=(y,b)=>p(y,g(b));function j({pub:y,user:b,freeSignup:E,freeSignupEmail:P,className:A=""}){return Object(e.h)("div",{className:o()("home-sitemap",A)},Object(e.h)("h4",{className:"home-sitemap-title"},y.name),E||b&&b.is_free_subscribed?!(b&&b.is_subscribed)&&y.plans?Object(e.h)("a",{className:"button primary home-sitemap-subscribe subscribe-btn",href:Object(l.getSubscribeUrl)(y,{utm_source:"home-sitemap"}),native:!0},Object(c.getSubscribeText)(y)):null:Object(e.h)(f.a,{className:"home-sitemap-signup-form",source:"home-sitemap",user:b,pub:y,freeSignup:E,freeSignupEmail:P,onSuccess:_=>{_.body.prompt_to_login?setTimeout(()=>{document.location.href=Object(l.pathWithQuery)("/account/login",{redirect:document.location.href,email:_.body.email})},30):y.plans?document.location.href=Object(l.pathWithQuery)("/subscribe",v(h({next:document.location.href,later:!0,just_signed_up:!0},_.body.subscription_id&&{subscription_id:_.body.subscription_id}),{requires_confirmation:_.body.requires_confirmation?"true":""})):document.location.reload()},onConfirmationRequired:(y==null?void 0:y.payments_state)==="enabled"?()=>null:void 0,hideLogin:!0,hideTerms:!0}),Object(e.h)("div",{className:"home-sitemap-links"},Object(e.h)("a",{href:Object(l.getAboutUrl)(y),native:!!y.parent_publication_id},"About"),Object(e.h)("a",{href:Object(l.getBaseArchiveUrl)(y)},"Archive"),y.has_recommendations&&Object(e.h)("a",{href:Object(l.getRecommendationsPageUrl)(y),native:!0},"Recommendations"),y.can_have_sitemap&&Object(e.h)("a",{href:Object(l.getSitemapUrl)(y),native:!0},"Sitemap")))}},,,,,,,,,,,,,,,,,function(k,n,t){"use strict";t.d(n,"a",function(){return c});var e=t(0),a=t(5),o=t.n(a),l=t(250),d={icon:"frontend-pencraft-unstable-RotatingDropdownIcon-module__icon--3f7LE",iconCollapsed:"frontend-pencraft-unstable-RotatingDropdownIcon-module__iconCollapsed--1ub-7"};const c=({isCollapsed:u})=>Object(e.h)("div",{className:o()(d.icon,{[d.iconCollapsed]:u})},Object(e.h)(l.default,{height:4}))},,,,,,,,,function(k,n,t){"use strict";t.d(n,"a",function(){return ke});var e=t(0),a=t(1),o=t(5),l=t.n(o),d=t(439),c=t.n(d),u=t(440),f=t(4),m=t(866),p=t(122),g=t(129),O=t(35),s=t(9),r=t(441),i=t(1184),h=t(786),v=t(11),j=t(1115),y=t(1162),b=t(1201),E={container:"frontend-main-home-FloatingThemeUI-module__container--wy7SI"},P=Object.defineProperty,A=Object.defineProperties,_=Object.getOwnPropertyDescriptors,M=Object.getOwnPropertySymbols,F=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable,C=(Ft,lt,Rt)=>lt in Ft?P(Ft,lt,{enumerable:!0,configurable:!0,writable:!0,value:Rt}):Ft[lt]=Rt,T=(Ft,lt)=>{for(var Rt in lt||(lt={}))F.call(lt,Rt)&&C(Ft,Rt,lt[Rt]);if(M)for(var Rt of M(lt))H.call(lt,Rt)&&C(Ft,Rt,lt[Rt]);return Ft},S=(Ft,lt)=>A(Ft,_(lt));const D=["magaziney","newspaper"],w=({betterThemesEnabled:Ft,theme:lt,onChangeBetterThemingEnabled:Rt,onChangeTheme:ln,postTags:Mt,selectedPostTags:$t,setSelectedPostTags:nn,sections:Bt,selectedSections:Kt,setSelectedSections:Sn})=>{var Qn;const[rr,Mr]=Object(a.l)(!0),{getConfigFor:zr}=Object(O.c)(),dr=Object(h.b)({enable_tags_sections_homepage_grids:!!zr("enable_tags_sections_homepage_grids")});return Object(e.h)("div",{className:E.container},Object(e.h)(j.a,{onClick:()=>{Mr(!rr)}},Object(e.h)(v.p,{justifyContent:"space-between"},Object(e.h)(v.D.H4,null,"Theme Preview"),Object(e.h)(b.a,{isCollapsed:!rr}))),Object(e.h)(v.b,{expanded:rr},Object(e.h)(v.D.B4,{paddingTop:8,color:"secondary"},"Only global admins see this"),Object(e.h)(v.A,{paddingTop:16,name:"hero",label:"Hero",options:h.e.filter(Rr=>Ft||D.includes(Rr.value)),value:lt.home_hero,onChange:Rr=>{ln(S(T({},lt),{home_hero:Rr}))}}),Ft&&Object(e.h)(e.Fragment,null,Object(e.h)(v.b,{expanded:lt.home_hero!=="magaziney"},Object(e.h)(v.g,{paddingTop:16,value:lt.home_show_top_posts,label:"Show top posts",onChange:Rr=>{ln(S(T({},lt),{home_show_top_posts:Rr}))}})),Object(e.h)(v.A,{paddingTop:16,name:"posts",label:"Posts",options:dr,value:(Qn=lt.home_posts)!=null?Qn:"list",onChange:Rr=>{ln(S(T({},lt),{home_posts:Rr}))}}),Object(e.h)(v.b,{expanded:!lt.home_posts||lt.home_posts==="list"},Object(e.h)(v.g,{paddingTop:16,value:lt.hide_images_from_list,label:"Hide images from list",onChange:Rr=>{ln(S(T({},lt),{hide_images_from_list:Rr}))}})),Object(e.h)(v.b,{expanded:lt.home_posts==="grid-tags"},Object(e.h)(y.a,{title:"Homepage tags",selectedItems:$t,options:Mt,labelKey:"name",onChange:nn})),Object(e.h)(v.b,{expanded:lt.home_posts==="grid-sections"},Object(e.h)(y.a,{title:"Homepage sections",selectedItems:Kt,options:Bt,labelKey:"name",onChange:Sn}))),Object(e.h)(v.g,{paddingTop:16,value:Ft,label:"Better theming",onChange:Rr=>{ln(S(T({},lt),{home_hero:D.includes(lt.home_hero)?lt.home_hero:"newspaper"})),Rt(Rr)}})))};var U=t(215),V=t(478),K=t.n(V),Y=t(345),W=t.n(Y),R=t(112),B=t(10),x=t(865),G=t(482),Q=t(209),he=t(172),Z=t(1033),le=t(1109),de=Object.getOwnPropertySymbols,be=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable,ie=(Ft,lt)=>{var Rt={};for(var ln in Ft)be.call(Ft,ln)&&lt.indexOf(ln)<0&&(Rt[ln]=Ft[ln]);if(Ft!=null&&de)for(var ln of de(Ft))lt.indexOf(ln)<0&&X.call(Ft,ln)&&(Rt[ln]=Ft[ln]);return Rt};const Ce=Ft=>{if(!Ft)return!0;const lt=K()(Ft.filter(Rt=>!!Rt).map(Rt=>Rt.publishedBylines));return lt.every(Rt=>Rt.name===lt[0].name)};function Le(Ft){var lt=Ft,{user:Rt,pub:ln,freeSignup:Mt,freeSignupEmail:$t,numRecommendations:nn,sort:Bt,search:Kt,children:Sn,disableInteractive:Qn,homepageLinks:rr,recommendations:Mr}=lt,zr=ie(lt,["user","pub","freeSignup","freeSignupEmail","numRecommendations","sort","search","children","disableInteractive","homepageLinks","recommendations"]),dr;const{posts:Rr,topPosts:_r,onChange:ro}=Object(U.e)(W()(zr,["pinnedPosts","topPosts","newPosts"])),Dn=Object(R.useMediaQuery)({query:"only screen and (max-width: 999px)"}),ut=Object(R.useMediaQuery)({query:"only screen and (max-width: 650px)"}),fn=Rr.some(Zt=>Zt.cover_image),On=Rr.length>5&&!((dr=Rr[0])==null?void 0:dr.cover_image)?5:Rr.length>=4?Math.min(Rr.length-1,4):Rr.length>1&&fn?Rr.length:0,Ot=Rr.slice(0,On),kt=Rr.slice(ut?Math.min(On,1):On);return Object(e.h)(e.Fragment,null,Sn,Ot.length>0?Object(e.h)(Ne,{newPosts:Ot,topPosts:_r,pub:ln,user:Rt,onChange:ro,disableInteractive:Qn,hideAuthor:Ce(Ot.concat(_r))}):null,Object(e.h)("div",{className:"magaziney-bottom"},kt.length>0&&Object(e.h)(x.a,{authorInMeta:Dn?!1:void 0,className:"magaziney-archive",disableInteractive:Qn,freeSignup:Mt,freeSignupEmail:$t,hideAuthor:Ce(kt),hideShare:!0,hideTop:!ut,isBelowTheFold:!0,maxPosts:ut?11:8,maxTitleLength:255,newPosts:kt,pub:ln,search:Kt,sort:Bt,source:"magazineyhome",stateInUrl:!0,user:Rt,onChange:ro}),Object(e.h)("div",{className:"magaziney-meta-column"},_r&&_r.length>0&&Object(e.h)(ce,{topPosts:_r,pub:ln,onChange:ro,user:Rt,hideAuthor:Ce(_r),disableInteractive:Qn,authorInMeta:Dn?!1:void 0}),Object(e.h)("div",{className:"meta-info-block"},ln.logo_url&&Object(e.h)("img",{className:"meta-pub-logo",src:Object(f.cloudinary)(ln.logo_url,88),alt:ln.name}),Object(e.h)("h4",{className:"meta-pub-name"},ln.name),ln.hero_text&&Object(e.h)("div",{className:"meta-pub-hero-text"},ln.hero_text),!(Rt==null?void 0:Rt.is_subscribed)&&Object(e.h)(he.b,{pub:ln,user:Rt,freeSignup:Mt,freeSignupEmail:$t,isStatic:!1,source:"magaziney-home-page"})),Object(e.h)("div",{className:"meta-links"},Boolean(Mr==null?void 0:Mr.length)&&ln.show_recs_on_homepage&&Object(e.h)(Z.b,{recommendations:Mr,numRecommendations:nn,pub:ln,user:Rt}),Object(e.h)(le.a,{homepageLinks:rr,pub:ln})))))}const Ae=[680*2,352*2,352*2,288*2,288*2],Pe=[255,125,125,125,125],Ne=({pub:Ft,user:lt,newPosts:Rt=[],topPosts:ln=[],hideAuthor:Mt,disableInteractive:$t,onChange:nn})=>{const Bt=Rt.map((Kt,Sn)=>Object(e.h)(Q.e,{className:`topper-post spot-${Sn+1}`,post:Kt,pub:Ft,user:lt,onChange:nn,showCoverImage:!0,coverImageOptional:!0,hideAuthor:Mt,authorInMeta:!1,maxTitleLength:Pe[Sn],maxDescriptionLength:280,imageAssetSize:Ae[Sn]||352*2,imageAspectRatio:1.78,disableInteractive:$t,showDate:!0,hideShare:!0,isBelowTheFold:Sn>=2}));return Object(e.h)("div",{className:"magaziney-topper"},Object(e.h)("div",{className:"topper-col left"},Bt[1],Bt[2]),Object(e.h)("div",{className:"topper-col mid"},Bt[0],Bt[3],Bt[4]),Object(e.h)("div",{className:"topper-col right"},ln&&ln.length>0&&Object(e.h)(ce,{topPosts:ln,pub:Ft,user:lt,hideAuthor:Mt,onChange:nn})))},ce=({topPosts:Ft=[],pub:lt,user:Rt,hideAuthor:ln,disableInteractive:Mt,authorInMeta:$t,onChange:nn})=>Object(e.h)("div",{className:"most-popular"},Object(e.h)("h3",{className:"most-popular-header"},"Most popular"),Ft.map(Bt=>Object(e.h)(Q.e,{className:"most-popular-post",post:Bt,pub:lt,user:Rt,onChange:nn,showCoverImage:!1,authorInMeta:Object(B.getBylineUsers)(Bt).length<=1&&$t!==!1,maxTitleLength:255,maxDescriptionLength:280,disableInteractive:Mt,hideDescription:!0,showDate:!1,hideShare:!0,hideAuthor:ln,isBelowTheFold:!0})),Object(e.h)("a",{className:"most-popular-see-all",native:!0,href:Object(f.getArchiveUrl)(lt,{params:{sort:"top"}})},"See all popular ",Object(e.h)(G.default,{height:19,width:19})));var q=t(1268),te=t(12),ue=t.n(te),We=t(7),ot=t(14),ze=t(32),vt=t(8),Wt=t(207),zt=(Ft,lt,Rt)=>new Promise((ln,Mt)=>{var $t=Kt=>{try{Bt(Rt.next(Kt))}catch(Sn){Mt(Sn)}},nn=Kt=>{try{Bt(Rt.throw(Kt))}catch(Sn){Mt(Sn)}},Bt=Kt=>Kt.done?ln(Kt.value):Promise.resolve(Kt.value).then($t,nn);Bt((Rt=Rt.apply(Ft,lt)).next())});function at({showModal:Ft,onClose:lt,existingPub:Rt,pub:ln}){return Object(e.h)(ze.a,{isOpen:Ft,onClose:lt,className:"twitter-quitter-modal"},Object(e.h)(vt.b.H2,{weight:"bold"},Rt?"Tell your followers they can find you on Substack.":"Your Substack is live! Tell your followers about it."),Object(e.h)("div",{className:"subtext"},Object(e.h)(vt.b.B3,{className:"body",color:"secondary"},"Let your followers on Twitter know you are now writing on Substack.")),Object(e.h)("div",{className:"modal-done"},Object(e.h)(ot.a,{onClick:()=>zt(this,null,function*(){Object(We.i)(We.a.SHARE_LINK_CLICKED,{name:"twitter",source:"twitter-quitter"});const Mt=Rt?"I'm writing on @substackinc. Subscribe to me there.":"I've started a @substackinc. Subscribe to me there.",$t=Object(f.getBaseUrl)(ln),nn=Object(f.pathWithQuery)("https://twitter.com/share",{url:$t,text:Mt});window.open(nn,"_blank"),lt()}),priority:"primary",style:{backgroundColor:"#1da1f2",width:"100%"},leftIcon:Object(e.h)(Wt.default,{fill:"white"})},"Share")))}var Me=at,Be=t(204),Te=({podcastSettings:Ft})=>{var lt,Rt;return Object(e.h)("div",{className:"section-header"},Object(e.h)("div",{className:"section-logo-and-name"},Ft.artUrl&&Object(e.h)(e.Fragment,null,Object(e.h)("img",{className:"logo desktop-only",src:Object(f.cloudinary)(Ft.artUrl,72*2),alt:(lt=Ft.title)!=null?lt:void 0}),Object(e.h)("img",{className:"logo mobile-only",src:Object(f.cloudinary)(Ft.artUrl,48*2),alt:(Rt=Ft.title)!=null?Rt:void 0})),Object(e.h)("h2",null,Ft.title)),Object(e.h)("p",null,Ft.description))},De=({section:Ft})=>Object(e.h)("div",{className:"section-header"},Object(e.h)("div",{className:"section-logo-and-name"},Ft.logo_url&&Object(e.h)(e.Fragment,null,Object(e.h)("img",{className:"logo desktop-only",src:Object(f.cloudinary)(Ft.logo_url,72*2),alt:Ft.name}),Object(e.h)("img",{className:"logo mobile-only",src:Object(f.cloudinary)(Ft.logo_url,48*2),alt:Ft.name})),Object(e.h)("h2",null,Ft.name)),Object(e.h)("p",null,Ft.description)),Ie=Object.defineProperty,He=Object.getOwnPropertySymbols,Ve=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable,se=(Ft,lt,Rt)=>lt in Ft?Ie(Ft,lt,{enumerable:!0,configurable:!0,writable:!0,value:Rt}):Ft[lt]=Rt,Se=(Ft,lt)=>{for(var Rt in lt||(lt={}))Ve.call(lt,Rt)&&se(Ft,Rt,lt[Rt]);if(He)for(var Rt of He(lt))z.call(lt,Rt)&&se(Ft,Rt,lt[Rt]);return Ft},Oe=(Ft,lt,Rt)=>(se(Ft,typeof lt!="symbol"?lt+"":lt,Rt),Rt),ge=(Ft,lt,Rt)=>new Promise((ln,Mt)=>{var $t=Kt=>{try{Bt(Rt.next(Kt))}catch(Sn){Mt(Sn)}},nn=Kt=>{try{Bt(Rt.throw(Kt))}catch(Sn){Mt(Sn)}},Bt=Kt=>Kt.done?ln(Kt.value):Promise.resolve(Kt.value).then($t,nn);Bt((Rt=Rt.apply(Ft,lt)).next())});class je extends e.Component{constructor(lt,Rt){super(lt,Rt);Oe(this,"loadPinnedPosts",()=>Object(s.stateTransaction)(this,ln=>ge(this,null,function*(){var Mt;if(ln.pinnedPosts)return;let $t=ue.a.get("/api/v1/archive").query(Se({sort:"pinned",sectionId:(Mt=this.props.pub.section)==null?void 0:Mt.id},this.props.pub.multiple_pins?{}:{limit:1})).then(nn=>nn.body);this.setState({pinnedPosts:$t});try{$t=yield $t,$t.length===0&&($t=null)}catch(nn){console.error("Failed to fetch pinned posts:",nn),$t=null}this.setState({pinnedPosts:$t})}))),Oe(this,"loadLatestChildPosts",()=>Object(s.stateTransaction)(this,(ln,Mt)=>ge(this,null,function*(){if(Mt.pub.child_publications.length===0||ln.latestChildPosts)return;let $t=ue.a.get("/api/v1/posts/latest_child_posts").then(nn=>nn.body);try{$t=yield $t,$t.length===0&&($t=null)}catch(nn){console.error("Failed to fetch child publications:",nn),$t=null}this.setState({latestChildPosts:$t})}))),Oe(this,"loadHomepageLinks",()=>Object(s.stateTransaction)(this,(ln,Mt)=>ge(this,null,function*(){if(!(ln.homepageLinks||Mt.pub.section))try{const $t=yield ue.a.get("/api/v1/homepage_links").then(nn=>nn.body);this.setState({homepageLinks:$t})}catch($t){console.error("Failed to fetch homepage links:",$t)}}))),Oe(this,"onChange",({post:ln})=>{!ln||Object(s.stateTransaction)(this,Mt=>{let $t=!1;const nn=[Mt.pinnedPosts,Mt.latestChildPosts].filter(Bt=>Array.isArray(Bt));for(const Bt of nn){const Kt=Bt.findIndex(Sn=>Sn.id===ln.id);Kt!==-1&&(Bt[Kt]=ln,$t=!0)}$t&&this.setState({pinnedPosts:Mt.pinnedPosts,latestChildPosts:Mt.latestChildPosts})})}),Oe(this,"_hidePrivatePosts",()=>{const{user:ln,pub:Mt}=this.props;return!(ln&&ln.is_subscribed)&&B.hidePaidPostsFor.includes(Mt==null?void 0:Mt.subdomain)}),this.state={pinnedPosts:this.props.pinnedPosts,latestChildPosts:this.props.latestChildPosts,homepageLinks:this.props.homepageLinks}}componentDidMount(){this.triggerTwitterQuitterOnLoad(),this.loadPinnedPosts(),this.loadLatestChildPosts(),this.loadHomepageLinks(),this.setShowWelcome()}setShowWelcome(){typeof window!="undefined"&&this.props.showWelcome&&(this.setState({showWelcome:!0}),Object(s.removeQueryParam)("showWelcome"))}triggerTwitterQuitterOnLoad(){let lt=!1,Rt=!1;Object(f.getQueryItem)("twitter_quitter")&&(window.history.replaceState({},document.title,Object(f.updateQuery)({twitter_quitter:null})),lt=!0),Object(f.getQueryItem)("existing_pub")&&(window.history.replaceState({},document.title,Object(f.updateQuery)({existing_pub:null})),Rt=!0),this.setState({showTwitterQuitterModal:lt,existingPubTwitterQuitterModal:Rt})}render({children:lt,disableInteractive:Rt,freeSignup:ln,freeSignupEmail:Mt,includePinnedPosts:$t,isPodcast:nn,newPosts:Bt,numRecommendations:Kt,pub:Sn,recommendations:Qn,search:rr,sort:Mr,user:zr},{pinnedPosts:dr,homepageLinks:Rr,showTwitterQuitterModal:_r,existingPubTwitterQuitterModal:ro}){var Dn;const{section:ut}=Sn;if(ut&&nn&&!ut.is_podcast)return Object(e.h)(v.D.H1,null,"Podcast not found");const fn=!Array.isArray(dr);let On,Ot;const kt=dr;fn||(Ot=new Set(dr.map(tr=>tr.id)),[On,...dr]=dr);const Zt=!ut&&Rr&&Rr.length>0,Vn=Boolean(Qn==null?void 0:Qn.length)&&Sn.show_recs_on_homepage,Gn=Zt||Vn;return Object(e.h)(e.Fragment,null,lt,Object(e.h)(Me,{showModal:Boolean(_r),existingPub:Boolean(ro),onClose:()=>this.setState({showTwitterQuitterModal:!1}),pub:Sn}),fn?Object(e.h)(Q.f,{className:"home-big-post",pub:Sn}):!On&&!ut?Object(e.h)("div",{className:"container"},Object(e.h)("p",{className:"home-coming-soon"},"Coming soon")):[ut&&nn?Object(e.h)(Te,{podcastSettings:Object(Be.getSectionPodcastSettings)({pub:Sn,section:ut})}):ut?Object(e.h)(De,{section:ut}):nn?Object(e.h)(Te,{podcastSettings:Object(Be.getPubPodcastSettings)({pub:Sn})}):Object(e.h)(Q.e,{className:"home-big-post",post:On,pub:Sn,user:zr,showDate:!0,showCoverImage:!0,coverImageOptional:!0,authorInMeta:Object(B.getBylineUsers)(On).length<=1,maxTitleLength:Sn.subdomain==="sinocism"?69:92,maxDescriptionLength:Sn.subdomain==="sinocism"?240:280,imageAssetSize:900,onChange:this.onChange,disableInteractive:Rt,isBigPost:!0}),Object(e.h)("div",{className:l()("container home-container",{"has-right-column":Gn})},Object(e.h)("div",{className:"home-posts"},Array.isArray(dr)&&dr.length>0&&!nn&&Object(e.h)("div",{className:"home-posts-pinned"},dr.map(tr=>Object(e.h)(Q.e,{className:"home-posts-post",post:tr,pub:Sn,user:zr,showDate:!0,showCoverImage:!0,onChange:this.onChange,disableInteractive:Rt}))),Object(e.h)("div",{className:"home-posts-columns"},Object(e.h)(x.a,{className:"home-posts-column-left",disableInteractive:Rt,emptyMessage:nn&&"No episodes",filterPosts:tr=>ut?!0:this._hidePrivatePosts()&&tr.audience!=="everyone"?!1:$t?!0:Object(B.shouldHidePostFromArchive)(tr)?!1:!Ot.has(tr.id),freeSignup:ln,freeSignupEmail:Mt,hideCoverImage:Gn&&!Sn.image_thumbnails_always_enabled,isBelowTheFold:!0,isPodcast:nn,maxPosts:7,newPosts:Bt,onChange:this.onChange,pinnedPosts:kt,pub:Sn,search:rr,sectionId:(Dn=Sn==null?void 0:Sn.section)==null?void 0:Dn.id,showPins:Boolean(ut),sort:Mr,source:"homepage",stateInUrl:!0,user:zr}),Gn&&Object(e.h)("div",{className:"home-right-column"},Vn&&Object(e.h)(Z.b,{recommendations:Qn,numRecommendations:Kt,pub:Sn,user:zr}),Object(e.h)(le.a,{homepageLinks:Rr,pub:Sn}))))),Object(e.h)("div",{className:"full-container-border mobile-only"})])}}var it=Object.defineProperty,Tt=Object.defineProperties,sn=Object.getOwnPropertyDescriptors,ht=Object.getOwnPropertySymbols,Nt=Object.prototype.hasOwnProperty,wt=Object.prototype.propertyIsEnumerable,yt=(Ft,lt,Rt)=>lt in Ft?it(Ft,lt,{enumerable:!0,configurable:!0,writable:!0,value:Rt}):Ft[lt]=Rt,Qe=(Ft,lt)=>{for(var Rt in lt||(lt={}))Nt.call(lt,Rt)&&yt(Ft,Rt,lt[Rt]);if(ht)for(var Rt of ht(lt))wt.call(lt,Rt)&&yt(Ft,Rt,lt[Rt]);return Ft},At=(Ft,lt)=>Tt(Ft,sn(lt)),jt=(Ft,lt)=>{var Rt={};for(var ln in Ft)Nt.call(Ft,ln)&&lt.indexOf(ln)<0&&(Rt[ln]=Ft[ln]);if(Ft!=null&&ht)for(var ln of ht(Ft))lt.indexOf(ln)<0&&wt.call(Ft,ln)&&(Rt[ln]=Ft[ln]);return Rt};const ke=Ft=>{var lt=Ft,{blurbs:Rt,disableInteractive:ln,freeSignup:Mt,freeSignupEmail:$t,hide_intro_popup:nn,homepageType:Bt,isPodcast:Kt,noBalanceHeroText:Sn,notify_user:Qn,pinnedPosts:rr,pub:Mr,referralCode:zr,section:dr,showWelcome:Rr,user:_r}=lt,ro=jt(lt,["blurbs","disableInteractive","freeSignup","freeSignupEmail","hide_intro_popup","homepageType","isPodcast","noBalanceHeroText","notify_user","pinnedPosts","pub","referralCode","section","showWelcome","user"]),Dn;const{getConfigFor:ut}=Object(O.c)(),fn=ut("better_themes")==="treatment",On=ut("admin_theme_ui"),[Ot,kt]=Object(a.l)(fn),[Zt,Vn]=Object(a.l)(Mr.theme),Gn=ln?Mr.theme:Zt,tr=Object(a.k)(!1),rn=Object(a.k)(null),{postTags:_n,selectedPostTags:Yn,setSelectedPostTags:cr}=Object(U.b)({bodyID:Gn==null?void 0:Gn.home_posts}),{sections:Jt,selectedSections:cn,setSelectedSections:bn}=Object(U.a)({bodyID:Gn==null?void 0:Gn.home_posts}),zn=Bt!=null?Bt:fn?Gn.home_hero:(Dn=Mr.homepage_type)!=null?Dn:"newspaper";Object(a.d)(()=>{Object(f.getQueryItem)("action")==="share"&&(window.history.replaceState({},document.title,Object(f.updateQuery)({action:null})),tr.current=!0),tr.current&&rn.current&&rn.current.open(),typeof window!="undefined"&&Rr&&Object(s.removeQueryParam)("showWelcome")},[Rr]),Object(a.d)(()=>{Qn&&typeof window!="undefined"&&Object(g.b)(Qn)},[Qn]);const Rn=Boolean(!dr&&rr&&rr.length>0),xn=At(Qe({},ro),{bodyTags:Yn,bodySections:cn,disableInteractive:ln,freeSignup:Mt,freeSignupEmail:$t,pinnedPosts:rr,pub:Mr,showSiteMap:Rn,user:_r}),mr=Ot&&!dr&&!Kt;return Object(e.h)("div",{className:l()("home-page",{magaziney:zn==="magaziney"&&!mr,"home-page--modular":mr})},Object(e.h)(tn,{pub:Mr}),Object(e.h)(Pn,{publication:Mr,section:dr,isPodcast:Kt}),mr?Object(e.h)(q.b,At(Qe({},xn),{theme:Gn,alwaysShowActions:!1,overrideSelectedSections:cn,overrideSelectedTags:Yn,hasEmptyTags:ro.hasEmptyTags,hasEmptySections:ro.hasEmptySections})):Object(e.h)(e.Fragment,null,zn==="newspaper"&&Object(e.h)(je,At(Qe({},xn),{isPodcast:Kt,section:dr})),zn==="magaziney"&&Object(e.h)(Le,Qe({},xn)),Rn&&Object(e.h)(i.a,{className:zn==="newspaper"?"container":"magaziney",pub:Mr,user:_r,freeSignup:Mt,freeSignupEmail:$t})),Object(e.h)(p.c,{ref:Or=>rn.current=Or,pub:Mr,user:_r}),Object(e.h)(m.c,{freeSignup:Mt,freeSignupEmail:$t,user:_r,post:null,publication:Mr,hidden:nn||tr.current,referralCode:zr,showOnMount:Rr,blurbs:Rt,noBalance:Sn,isAudio:Kt}),(_r==null?void 0:_r.is_global_admin)&&On&&!ln&&Object(e.h)(w,{betterThemesEnabled:Ot,theme:Gn,onChangeBetterThemingEnabled:kt,onChangeTheme:Vn,postTags:_n,selectedPostTags:Yn,setSelectedPostTags:cr,sections:Jt,selectedSections:cn,setSelectedSections:bn}))},tn=({pub:Ft})=>Object(e.h)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:c()(Object(u.c)(Ft),{json:!0,isScriptContext:!0})}}),Pn=({publication:Ft,section:lt,isPodcast:Rt})=>{let ln,Mt;return Rt&&Ft.podcast_title?({title:ln}=Object(r.c)(Ft,Ft.podcast_title),Mt=Ft.podcast_description):lt?{title:ln,description:Mt}=Object(r.c)(Ft,`${lt.name} | ${Ft.name}`,lt.description):{title:ln,description:Mt}=Object(r.c)(Ft),Object(s.setMetaData)({title:ln,description:Mt})}},,function(k,n,t){"use strict";var e=t(3),a=t(915),o=function(){return(o=Object.assign||function(u){for(var f,m=1,p=arguments.length;m<p;m++)for(var g in f=arguments[m])Object.prototype.hasOwnProperty.call(f,g)&&(u[g]=f[g]);return u}).apply(this,arguments)},l=function(u,f){var m={};for(g in u)Object.prototype.hasOwnProperty.call(u,g)&&f.indexOf(g)<0&&(m[g]=u[g]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var p=0,g=Object.getOwnPropertySymbols(u);p<g.length;p++)f.indexOf(g[p])<0&&Object.prototype.propertyIsEnumerable.call(u,g[p])&&(m[g[p]]=u[g[p]]);return m},d=function(u){return"Typesetting failed: ".concat(u.message!==void 0?u.message:u.toString())},c=function(u){function f(){var C;P==="every"&&M&&A==="post"&&b.current!==null&&(b.current.style.visibility=(C=(C=j.style)==null?void 0:C.visibility)!=null?C:"visible"),F.current||(P==="first"&&b.current!==null&&(b.current.style.visibility="visible"),g&&g(),F.current=!0),O&&O(),H.current=!1}var m=u.inline,p=m!==void 0&&m,m=u.hideUntilTypeset,g=u.onInitTypeset,O=u.onTypeset,s=u.text,r=u.dynamic,i=u.typesettingOptions,h=u.renderMode,v=u.children,j=l(u,["inline","hideUntilTypeset","onInitTypeset","onTypeset","text","dynamic","typesettingOptions","renderMode","children"]),y=Object(e.useRef)(""),b=Object(e.useRef)(null),E=Object(e.useContext)(a.a),P=m!=null?m:E==null?void 0:E.hideUntilTypeset,A=h!=null?h:E==null?void 0:E.renderMode,_=i!=null?i:E==null?void 0:E.typesettingOptions,M=r!==!1&&(r||!1),F=Object(e.useRef)(!1),H=Object(e.useRef)(!1);return!H.current&&b.current!==null&&M&&P==="every"&&A==="post"&&(b.current.style.visibility="hidden"),(typeof window!="undefined"?e.useLayoutEffect:e.useEffect)(function(){if((M||!F.current)&&b.current!==null){if(!E)throw Error("MathJax was not loaded, did you use the MathJax component outside of a MathJaxContext?");if(A==="pre"){if(!(typeof(C=s)=="string"&&0<C.length))throw Error(`Render mode 'pre' requires text prop to be set and non-empty, which was currently "`.concat(s,'"'));if(!i||!i.fn)throw Error("Render mode 'pre' requires 'typesettingOptions' prop with 'fn' property to be set on MathJax element or in the MathJaxContext");if(E.version===2)throw Error("Render mode 'pre' only available with MathJax 3, and version 2 is currently in use")}A!=="post"&&s===y.current||H.current||(H.current=!0,E.version===3?E.promise.then(function(T){var S;A==="pre"?(S=function(D){y.current=s,T.startup.document.clear(),T.startup.document.updateDocument(),b.current!==null&&(b.current.innerHTML=D.outerHTML),f()},i.fn.endsWith("Promise")?T.startup.promise.then(function(){return T[_.fn](s,o(o({},(_==null?void 0:_.options)||{}),{display:!p}))}).then(S).catch(function(D){throw f(),Error(d(D))}):T.startup.promise.then(function(){var D=T[_.fn](s,o(o({},(_==null?void 0:_.options)||{}),{display:!p}));S(D)}).catch(function(D){throw f(),Error(d(D))})):T.startup.promise.then(function(){return T.typesetClear([b.current]),T.typesetPromise([b.current])}).then(f).catch(function(D){throw f(),Error(d(D))})}).catch(function(T){throw f(),Error(d(T))}):E.promise.then(function(T){T.Hub.Queue(["Typeset",T.Hub,b.current]),T.Hub.Queue(f)}).catch(function(T){throw f(),Error(d(T))}))}var C}),e.default.createElement("span",o({},j,{style:o(o({display:p?"inline":"block"},j.style),{visibility:P?"hidden":(u=j.style)==null?void 0:u.visibility}),ref:b}),v)};n.a=c},,,function(k,n,t){"use strict";t.d(n,"a",function(){return s}),t.d(n,"b",function(){return i});var e=t(0),a=t(5),o=t.n(a),l=t(4),d=t.n(l),c=t(103),u=t(282),f=t(7),m=t(230),p=t(177),g=t(137),O=t(290);const s=({publication:h,user:v,path:j,hideTerms:y,showIntrinioAttrib:b})=>{typeof y=="undefined"&&(y=!1);const E=Object(u.b)(),P="Start Writing",A=Object(c.isMobile)(),_=Object(c.isIos)(),M=Object(c.isAndroid)(),F=A&&(_||M),H=v&&!v.reader_installed_at,C=F&&H;return Object(e.h)("div",{className:"footer-wrap publication-footer"},Object(e.h)(g.a,{onVisible:()=>{Object(f.i)(f.a.PUBLICATION_FOOTER_SEEN,{publication_id:h==null?void 0:h.id,user_id:v==null?void 0:v.id,source:r(j)})}}),Object(e.h)("div",{className:o()("footer",{"themed-background":E})},Object(e.h)("div",{className:"container"},Object(e.h)("div",{className:"footer-blurbs"},Object(e.h)("div",{className:"footer-copyright-blurb"},"\xA9 ",new Date().getFullYear()," ",h&&h.copyright||"Substack Inc"),b&&Object(e.h)("div",{className:"footer-copyright-blurb"},"Market data by ",Object(e.h)("a",{href:"https://intrinio.com/"},"Intrinio")),Object(e.h)("div",{className:"footer-terms-blurb"},y===!1&&[Object(e.h)("a",{href:Object(l.getPrivacyUrl)({pub:h}),native:!0},"Privacy")," \u2219 ",Object(e.h)("a",{href:"/tos",native:!0},"Terms")," \u2219 ",Object(e.h)("a",{href:`${Object(l.getSubstackUrl)()}/ccpa#personal-data-collected`,native:!0},"Collection notice")])),Object(e.h)("div",{className:"footer-buttons"},Object(e.h)("a",{className:o()("footer-substack-cta","start-publishing",C&&"app-upsell"),native:!0,href:(v==null?void 0:v.has_publication)?`${Object(l.getBaseUrl)({subdomain:"your"})}/publish`:`${Object(l.getSubstackUrl)()}/signup?${Object(l.serializeQuery)({utm_source:"substack",utm_medium:"web",utm_content:"footer"})}`},Object(e.h)(m.default,null)," ",P),!C&&Object(e.h)("a",{className:"footer-substack-cta get-the-app no-icon",native:!0,href:Object(l.getAppStoreRedirectUrl)({utm_campaign:"app-marketing",utm_content:"web-footer-button"})},"Get the app"),C&&_&&Object(e.h)("a",{className:O.a.appBadge,href:Object(l.getAppStoreRedirectUrl)({utm_campaign:"app-marketing",utm_content:"web-footer-button",force:"ios"})},Object(e.h)("img",{className:"app-upsell",src:Object(l.cloudinary)("/img/app_page/app-store.png",160*2)})),C&&M&&Object(e.h)("a",{className:O.a.appBadge,href:Object(l.getAppStoreRedirectUrl)({utm_campaign:"app-marketing",utm_content:"web-footer-button",force:"android"})},Object(e.h)("img",{className:"app-upsell",src:Object(l.cloudinary)("/img/app_page/google-play.png",160*2)}))),Object(e.h)("div",{className:"footer-slogan-blurb"},Object(e.h)("a",{href:`${Object(l.getSubstackUrl)()}`,native:!0},"Substack"),"\xA0is the home for great writing"))))};function r(h){return h?h==="/"?"pub-homepage":h.startsWith("/p")?"pub-post":h:"unknown"}const i=()=>Object(e.h)("div",{className:"footer-wrap www-footer"},Object(e.h)("div",{className:"home-footer"},Object(e.h)("div",{className:"footer-contain"},Object(e.h)("div",{className:"footer-info"},Object(e.h)("div",{className:"footer-info-col"},Object(e.h)("h3",null,"Read"),Object(e.h)("a",{href:"/discover?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Discover"),Object(e.h)("a",{href:"/app?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Get the app"),Object(e.h)("a",{href:"https://on.substack.com/s/stories?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Featured"),Object(e.h)("a",{href:"https://reader.substack.com?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Substack Reader"),Object(e.h)("a",{href:"/discover/category/culture/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in culture"),Object(e.h)("a",{href:"/discover/category/podcast/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top podcasts"),Object(e.h)("a",{href:"/discover/category/food/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in food & drink"),Object(e.h)("a",{href:"/discover/category/finance/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in finance"),Object(e.h)("a",{href:"/discover/category/sports/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in sports"),Object(e.h)("a",{href:"/discover/category/politics/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in politics"),Object(e.h)("a",{href:"/discover/category/technology/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in technology"),Object(e.h)("a",{href:"/discover/category/faith/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in faith"),Object(e.h)("a",{href:"/discover/category/business/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in business"),Object(e.h)("a",{href:"/sitemap",native:!0},"Sitemap")),Object(e.h)("div",{className:"footer-info-col"},Object(e.h)("h3",null,"Writers"),Object(e.h)("a",{href:"/switch-to-substack?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Switch to Substack"),Object(e.h)("a",{href:"/ghost?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Switch from Ghost"),Object(e.h)("a",{href:"https://on.substack.com/p/start-a-substack-newsletter?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Get started"),Object(e.h)("a",{href:"/going-paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Go paid"),Object(e.h)("a",{href:"/podcasts?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"For podcasts"),Object(e.h)("a",{href:"/for-bloggers?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"For bloggers"),Object(e.h)("a",{href:"/investing-and-business?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"For finance writers"),Object(e.h)("a",{href:"/comic-book-creators?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"For comic creators"),Object(e.h)("a",{href:"/food-writers?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"For food writers"),Object(e.h)("a",{href:"/local-news?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"For local news")),Object(e.h)("div",{className:"footer-info-col"},Object(e.h)("h3",null,"Company"),Object(e.h)("a",{href:Object(l.getAboutUrl)(null,{params:{utm_source:"substack",utm_medium:"web",utm_content:"footer"}}),native:!0},"About"),Object(e.h)("a",{href:Object(l.getSupportUrl)()},"Help"),Object(e.h)("a",{href:"/jobs?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Jobs"),Object(e.h)("a",{href:"https://on.substack.com?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Blog"),Object(e.h)("a",{href:"/vulnerability-disclosure?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Vulnerability Policy"),Object(e.h)("a",{href:"/contact?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Contact")),Object(e.h)("div",{className:"footer-info-col"},Object(e.h)("h3",null,"Resources"),Object(e.h)("a",{href:"/resources?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Resource center"),Object(e.h)("a",{href:"/going-paid-guide?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Guide to going paid"),Object(e.h)("a",{href:"https://support.substack.com/hc/en-us?s=support%40substack.com",native:!0},"Help center"),Object(e.h)("a",{href:"/community-and-programs?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Community and programs"),Object(e.h)("a",{href:"/brand?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Brand assets"))),Object(e.h)("div",{className:"logo-copy-wrapper"},Object(e.h)(p.default,{className:"navbar-logo-wordmark substack-logo-wordmark"}),Object(e.h)("div",{className:"slogan tw-mt-5"},"Substack is the home for great writing")))),Object(e.h)("div",{className:"footer-divider"}),Object(e.h)("div",{className:"footer-bottom-bar"},Object(e.h)("div",{className:"app-badges"},Object(e.h)("a",{className:"app-badge",href:Object(l.getAppStoreUrl)({utm_campaign:"app-marketing",utm_content:"www-footer"})},Object(e.h)("img",{src:Object(l.cloudinary)("/img/app_page/app-store-white.png?v=1",119*2),height:40,width:134})),Object(e.h)("a",{className:"app-badge",href:Object(l.getPlayStoreUrl)({utm_campaign:"app-marketing",utm_content:"www-footer"})},Object(e.h)("img",{src:Object(l.cloudinary)("/img/app_page/google-play-white.png",119*2),height:40,width:134}))),Object(e.h)("div",{className:"footer-bottom-links"},Object(e.h)("span",{className:"copyright bottom-item"},"\xA9 Substack Inc."),Object(e.h)("a",{className:"bottom-item",href:Object(l.getPrivacyUrl)(),native:!0},"Privacy"),Object(e.h)("a",{className:"bottom-item",href:"/tos",native:!0},"Terms"),Object(e.h)("a",{className:"bottom-item",href:`${Object(l.getSubstackUrl)()}/ccpa#personal-data-collected`,native:!0},"Collection notice"))))},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(814),o=t(13),l=Object.defineProperty,d=Object.defineProperties,c=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,p=(r,i,h)=>i in r?l(r,i,{enumerable:!0,configurable:!0,writable:!0,value:h}):r[i]=h,g=(r,i)=>{for(var h in i||(i={}))f.call(i,h)&&p(r,h,i[h]);if(u)for(var h of u(i))m.call(i,h)&&p(r,h,i[h]);return r},O=(r,i)=>d(r,c(i));const s=r=>Object(e.h)(o.a,O(g({},r),{name:"LucideExternalLink",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),Object(e.h)(a.a,{height:24,stroke:r.stroke,fill:r.fill,strokeWidth:r.strokeWidth}));n.default=s},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"ShareFacebookBoxedIcon",svgParams:{height:17,width:16,viewBox:"10 0 10 26"}}),Object(e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15,3C8.373,3,3,8.373,3,15c0,6.016,4.432,10.984,10.206,11.852V18.18h-2.969v-3.154h2.969v-2.099c0-3.475,1.693-5,4.581-5 c1.383,0,2.115,0.103,2.461,0.149v2.753h-1.97c-1.226,0-1.654,1.163-1.654,2.473v1.724h3.593L19.73,18.18h-3.106v8.697 C22.481,26.083,27,21.075,27,15C27,8.373,21.627,3,15,3z"}));n.default=O},,,,,,,,,,,,,,,,,,,function(k,n,t){var e=t(1148),a=t(517);function o(l,d){return e(l,d,function(c,u){return a(l,u)})}k.exports=o},,,,,,,,,,,,,,,,,,,,,,,function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(930),o=t(13),l=Object.defineProperty,d=Object.defineProperties,c=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,p=(r,i,h)=>i in r?l(r,i,{enumerable:!0,configurable:!0,writable:!0,value:h}):r[i]=h,g=(r,i)=>{for(var h in i||(i={}))f.call(i,h)&&p(r,h,i[h]);if(u)for(var h of u(i))m.call(i,h)&&p(r,h,i[h]);return r},O=(r,i)=>d(r,c(i));const s=r=>Object(e.h)(o.a,O(g({},r),{name:"LucideVideoOff",svgParams:{height:24,width:24,stroke:"#ffffff",strokeWidth:0}}),Object(e.h)(a.a,{height:24,stroke:r.stroke,fill:r.fill,strokeWidth:r.strokeWidth}));n.default=s},,,,,,,,,function(k,n,t){"use strict";t.d(n,"a",function(){return Xt}),t.d(n,"b",function(){return Hn});var e=t(0),a=t(5),o=t.n(a),l=t(345),d=t.n(l),c=t(786),u=t(11),f=t(1046),m=t(15),p=t(1),g=t(4),O=t(9);const s=Object(e.createContext)({alwaysShowActions:!1});var r=t(10),i=t(47);const h=({justified:It,post:_t,pub:Vt,user:Tn,onChange:sr})=>Object(e.h)(i.c,{allowEdit:!0,editButtonIsLast:!0,hideComments:!Object(r.showCommentsOnPost)({publication:Vt,post:_t}),hideReactions:!Vt.community_enabled,isStatic:!1,justified:It,labelStyle:"counts-or-none",post:_t,pub:Vt,style:"compressed",user:Tn,onChange:sr});var v=t(45),j=t(215),y=t(17),b=t.n(y),E=t(365),P=t(59),A={date:"frontend-main-home-PostPreview-PostPreviewAuthors-module__date--31KGo",audienceIcon:"frontend-main-home-PostPreview-PostPreviewAuthors-module__audienceIcon--3Oi7q",link:"frontend-main-home-PostPreview-PostPreviewAuthors-module__link--Zy6v4"};const _=({clamp:It,post:_t,pub:Vt})=>{const Tn=Object(r.getBylineUsers)(_t);return Object(e.h)(u.D.Meta,{color:"pub-secondary-text",clamp:It},Object(v.isPaidAudience)(_t.audience)&&Object(e.h)("div",{className:A.audienceIcon},Object(e.h)(E.a,{audience:_t.audience,size:12})),Object(e.h)("time",{className:A.date,dateTime:b()(_t.post_date).toISOString()},Object(i.j)({post:_t,showDatetime:!1})),Tn.length>0&&Vt.bylines_enabled&&Object(e.h)(e.Fragment,null," ","\u2022"," ",Object(r.oxfordComma)(Tn.map(sr=>It?Object(e.h)("a",{className:A.link,href:Object(g.getProfileUrl)(sr,Vt),onClick:qn=>qn.stopPropagation()},sr.name):Object(e.h)(P.b,{subject:sr,utmSource:"byline"},Object(e.h)("a",{className:A.link,href:Object(g.getProfileUrl)(sr,Vt),onClick:qn=>qn.stopPropagation()},sr.name))))))};var M=t(334),F=t(85),H=t.n(F);const C=Object(e.createContext)({url:"",linkToComments:!1}),T=3/2,S=16/9,D=({align:It,clamp:_t,lineHeight:Vt=20,maxLength:Tn=152,paddingBottom:sr,post:qn,size:qr=14})=>{const{url:Vr}=Object(p.b)(C);return Object(e.h)(u.o,{paddingBottom:sr},Object(e.h)(u.D,{as:"a",align:It,href:Vr,clamp:_t,color:"pub-secondary-text",font:"text",size:qr,lineHeight:Vt},H()(Object(r.truncateWords)(qn.description,Tn))))};var w=t(929),U=t(240),V=t(356),K={icon:"frontend-main-home-PostPreview-PostPreviewTitle-module__icon--2Mjw-","iconVideo-16":"frontend-main-home-PostPreview-PostPreviewTitle-module__iconVideo-16--XByXb","iconVideo-20":"frontend-main-home-PostPreview-PostPreviewTitle-module__iconVideo-20--sJz1T","iconVideo-28":"frontend-main-home-PostPreview-PostPreviewTitle-module__iconVideo-28--1HIAW","iconVideo-32":"frontend-main-home-PostPreview-PostPreviewTitle-module__iconVideo-32--215J4"};const Y=({align:It,clamp:_t,lineHeight:Vt=30,maxLength:Tn=140,paddingBottom:sr,post:qn,size:qr=20})=>{const{url:Vr,linkToComments:Gr}=Object(p.b)(C),$r=qr>=28;return Object(e.h)(u.o,{paddingBottom:sr},Object(e.h)(u.D,{as:"a",href:Vr,align:It,clamp:_t,font:"pub-headings",lineHeight:Vt,size:qr,weight:"semibold"},qn.type==="thread"&&Object(e.h)(V.default,{height:$r?26:17,className:K.icon}),qn.type==="podcast"&&Object(e.h)(U.default,{height:$r?26:17,className:K.icon}),qn.type==="video"&&Object(e.h)(w.a,{height:$r?26:19,width:$r?26:19,className:o()(K.icon,K.iconVideo,K[`iconVideo-${qr}`]),strokeWidth:1.8}),Gr&&qn.type!=="thread"&&"Comments on: ",Object(r.truncateWords)(qn.title,Tn)))};var W={container:"frontend-main-home-PostPreview-PostPreviewJumbo-module__container--1JfZ9",containerNoImage:"frontend-main-home-PostPreview-PostPreviewJumbo-module__containerNoImage--2lnrq",image:"frontend-main-home-PostPreview-PostPreviewJumbo-module__image--2btIk",content:"frontend-main-home-PostPreview-PostPreviewJumbo-module__content--3yfVw"},R=Object.defineProperty,B=Object.defineProperties,x=Object.getOwnPropertyDescriptors,G=Object.getOwnPropertySymbols,Q=Object.prototype.hasOwnProperty,he=Object.prototype.propertyIsEnumerable,Z=(It,_t,Vt)=>_t in It?R(It,_t,{enumerable:!0,configurable:!0,writable:!0,value:Vt}):It[_t]=Vt,le=(It,_t)=>{for(var Vt in _t||(_t={}))Q.call(_t,Vt)&&Z(It,Vt,_t[Vt]);if(G)for(var Vt of G(_t))he.call(_t,Vt)&&Z(It,Vt,_t[Vt]);return It},de=(It,_t)=>B(It,x(_t));const be=({actions:It,isSmall:_t,post:Vt,pub:Tn})=>{const{isTablet:sr}=Object(j.d)(),qn=!!Object(v.getCoverImageUrl)(Vt);return Object(e.h)("div",{className:o()(W.container,{[W.containerNoImage]:!qn})},qn&&Object(e.h)(M.a,{className:W.image,imageAspectRatio:_t?T:S,imageWidth:1280,isBelowTheFold:!1,post:Vt,squareImageSize:"large"}),Object(e.h)(u.o,{className:W.content,alignItems:"center",justifyContent:"center",paddingX:qn?32:64,paddingY:qn?24:64},Object(e.h)(Y,{post:Vt,align:"center",size:sr?24:32,lineHeight:sr?36:40,clamp:3,paddingBottom:8}),Object(e.h)(D,{post:Vt,align:"center",size:16,lineHeight:24,clamp:3,paddingBottom:20}),Object(e.h)(_,{post:Vt,pub:Tn}),Object(e.h)(u.o,{paddingTop:20},It({justified:!1}))))},X=It=>Object(e.h)(be,de(le({},It),{isSmall:!0}));var ie={image:"frontend-main-home-PostPreview-PostPreviewLarge-module__image--JgvTY"};const Ce=({actions:It,hideImage:_t,post:Vt,pub:Tn})=>Object(e.h)(u.o,null,!_t&&Object(e.h)(M.a,{post:Vt,className:ie.image,imageWidth:1250,imageAspectRatio:T,isBelowTheFold:!1,squareImageSize:"large"}),Object(e.h)(u.o,{flex:"grow",alignItems:"center",justifyContent:"center",paddingX:24,paddingY:16},Object(e.h)(Y,{post:Vt,align:"center",size:32,lineHeight:40,clamp:4,paddingBottom:8}),Object(e.h)(D,{post:Vt,align:"center",size:16,lineHeight:24,clamp:2,paddingBottom:16}),Object(e.h)(_,{post:Vt,pub:Tn}),Object(e.h)(u.o,{paddingTop:16},It({justified:!1}))));var Le={container:"frontend-main-home-PostPreview-PostPreviewListing-module__container--22r_P",containerNoImage:"frontend-main-home-PostPreview-PostPreviewListing-module__containerNoImage--2jvBw",image:"frontend-main-home-PostPreview-PostPreviewListing-module__image--3ZjuM"};const Ae=({actions:It,hideImage:_t,post:Vt,pub:Tn})=>{const{isMobile:sr}=Object(j.d)();let qn=Boolean(Tn.community_enabled);return _t&&!sr&&(qn=!1),Object(e.h)("div",{className:o()(Le.container,{[Le.containerNoImage]:_t})},Object(e.h)(u.o,{gap:8},Object(e.h)(Y,{clamp:3,post:Vt,size:sr?16:20,lineHeight:sr?24:30}),Object(e.h)(D,{clamp:2,post:Vt,size:14,lineHeight:_t?24:20}),Object(e.h)(_,{post:Vt,pub:Tn})),!_t&&(Vt.cover_image?Object(e.h)(M.a,{className:Le.image,post:Vt,imageWidth:sr?150:320,imageAspectRatio:sr?1:T,isBelowTheFold:!0,squareImageSize:"small"}):Object(e.h)("div",null)),It({justified:qn}))};var Pe={image:"frontend-main-home-PostPreview-PostPreviewMini-module__image--3Aoao"};const Ne=({actions:It,post:_t,pub:Vt})=>{const Tn=Boolean(Vt.community_enabled);return Object(e.h)(u.o,{padding:8},Object(e.h)(u.p,{gap:12,paddingBottom:8,flex:"grow"},Object(e.h)(u.o,{flex:"grow"},Object(e.h)(Y,{post:_t,clamp:2,size:14,lineHeight:20,paddingBottom:4}),Object(e.h)(_,{clamp:1,post:_t,pub:Vt})),Object(e.h)(M.a,{className:Pe.image,hidePlaceholder:!0,imageWidth:150,imageAspectRatio:1,isBelowTheFold:!1,post:_t})),It({justified:Tn}))};var ce={image:"frontend-main-home-PostPreview-PostPreviewMobileHero-module__image--2_YwS"};const q=({actions:It,hidePlaceholder:_t,post:Vt,pub:Tn})=>{const sr=Boolean(Tn.community_enabled);return Object(e.h)(u.o,null,Vt.cover_image&&Object(e.h)(M.a,{post:Vt,className:ce.image,imageWidth:1250,imageAspectRatio:S,isBelowTheFold:!1,hidePlaceholder:_t,squareImageSize:"large"}),Object(e.h)(u.o,{flex:"grow",justifyContent:"center",paddingX:16,paddingTop:16},Object(e.h)(u.o,{gap:8,paddingBottom:12},Object(e.h)(Y,{post:Vt,size:24,lineHeight:36,clamp:3}),Object(e.h)(D,{post:Vt,size:14,lineHeight:20,clamp:3}),Object(e.h)(_,{post:Vt,pub:Tn})),It({justified:sr})))};var te={image:"frontend-main-home-PostPreview-PostPreviewSquare-module__image--2T99T"};const ue=({actions:It,post:_t,pub:Vt})=>{const{isMobile:Tn}=Object(j.d)(),sr=Boolean(Vt.community_enabled);return Object(e.h)(u.o,{padding:Tn?0:8},Object(e.h)(M.a,{post:_t,className:te.image,imageWidth:600,imageAspectRatio:T,isBelowTheFold:!0,squareImageSize:"medium"}),Object(e.h)(u.o,{paddingTop:12,flex:"grow"},Object(e.h)(u.o,{gap:8,flex:"grow",paddingBottom:12},Object(e.h)(Y,{clamp:3,post:_t,size:16,lineHeight:24}),Object(e.h)(D,{clamp:1,post:_t}),Object(e.h)(_,{post:_t,pub:Vt})),It({justified:sr})))};var We={container:"frontend-main-home-PostPreview-index-module__container--1SiKn",containerWithBackground:"frontend-main-home-PostPreview-index-module__containerWithBackground--397A2",actions:"frontend-main-home-PostPreview-index-module__actions--jDHWn","actions--always-show":"frontend-main-home-PostPreview-index-module__actions--always-show--2N7rX"};const ot={jumbo:be,"jumbo-small":X,large:Ce,listing:Ae,mini:Ne,"mobile-hero":q,square:ue},ze=({disableInteractive:It,hideImage:_t,linkToComments:Vt,variant:Tn,post:sr,pub:qn,user:qr,utm:Vr,onChange:Gr,onClick:$r})=>{const{alwaysShowActions:yr}=Object(p.b)(s),Nr=ot[Tn];if(!Nr)return Object(e.h)("div",null,"PostPreview: ",Tn," not implemented");const gr=vt({linkToComments:Boolean(Vt),post:sr,pub:qn,utm:Vr}),Xr=Dt=>{$r&&$r(Dt),!It&&Object(O.redirect)(gr,{event:Dt})};return Object(e.h)(C.Provider,{value:{url:gr,linkToComments:Boolean(Vt)}},Object(e.h)(u.o,{className:o()(We.container,{[We.containerWithBackground]:["large","jumbo","jumbo-small"].includes(Tn)}),radius:4,onClick:Xr},Object(e.h)(Nr,{hideImage:_t,post:sr,pub:qn,actions:({justified:Dt})=>Object(e.h)(u.o,{className:o()(We.actions,{[We["actions--always-show"]]:yr})},Object(e.h)(h,{justified:Dt,post:sr,pub:qn,user:qr,onChange:Gr}))})))},vt=({linkToComments:It,post:_t,pub:Vt,utm:Tn})=>It?Object(m.getPostUrl)(Vt,_t,{comments:!0}):_t.type==="video"?Object(g.updateQuery)(_t.canonical_url,{autoPlay:!0}):Tn?Object(m.pathWithQuery)(_t.canonical_url,Tn):_t.canonical_url;var Wt={container:"frontend-main-home-SectionLayout-module__container--3wp-M","full-width":"frontend-main-home-SectionLayout-module__full-width--3bqa1","full-width-with-sidebar":"frontend-main-home-SectionLayout-module__full-width-with-sidebar--3WuSz","show-below":"frontend-main-home-SectionLayout-module__show-below--n0jYZ","three-column-width":"frontend-main-home-SectionLayout-module__three-column-width--3xshZ","three-column-width-with-sidebar":"frontend-main-home-SectionLayout-module__three-column-width-with-sidebar--3aVvr","one-column-two-column":"frontend-main-home-SectionLayout-module__one-column-two-column--1g7Pb","one-column-two-column-one-column":"frontend-main-home-SectionLayout-module__one-column-two-column-one-column--3cHHB"};const zt=({children:It,showContentBelowOnMobile:_t,stretchVertically:Vt,variant:Tn})=>Object(e.h)("div",{style:Vt?{flexGrow:1,display:"flex",alignItems:"stretch"}:void 0},Object(e.h)("div",{className:o()(Wt.container,Wt[Tn],{[Wt["show-below"]]:_t})},It));var at={container:"frontend-main-home-PostsLayout-module__container--1k5Gg","two-small-one-large":"frontend-main-home-PostsLayout-module__two-small-one-large--2nSvb",divider:"frontend-main-home-PostsLayout-module__divider--1IvNg","three-column-grid":"frontend-main-home-PostsLayout-module__three-column-grid--2Gmev","long-divider":"frontend-main-home-PostsLayout-module__long-divider--1qI-W","three-column-multi-row-grid":"frontend-main-home-PostsLayout-module__three-column-multi-row-grid--MkWbk",emptyRowsView:"frontend-main-home-PostsLayout-module__emptyRowsView--2tTsB",emptyContentIcon:"frontend-main-home-PostsLayout-module__emptyContentIcon--1g6-Y","one-column-list":"frontend-main-home-PostsLayout-module__one-column-list--1ZzG5","large-listing-listing-column":"frontend-main-home-PostsLayout-module__large-listing-listing-column--2CHJD","square-square-column":"frontend-main-home-PostsLayout-module__square-square-column--2tYw-","two-column-list":"frontend-main-home-PostsLayout-module__two-column-list--3dyvG","five-up":"frontend-main-home-PostsLayout-module__five-up--1Hi_s","mini-row":"frontend-main-home-PostsLayout-module__mini-row--1bhsx","three-column-mini-row":"frontend-main-home-PostsLayout-module__three-column-mini-row--RzWtt"},Me=Object.defineProperty,Be=Object.defineProperties,Xe=Object.getOwnPropertyDescriptors,Te=Object.getOwnPropertySymbols,we=Object.prototype.hasOwnProperty,De=Object.prototype.propertyIsEnumerable,Ie=(It,_t,Vt)=>_t in It?Me(It,_t,{enumerable:!0,configurable:!0,writable:!0,value:Vt}):It[_t]=Vt,He=(It,_t)=>{for(var Vt in _t||(_t={}))we.call(_t,Vt)&&Ie(It,Vt,_t[Vt]);if(Te)for(var Vt of Te(_t))De.call(_t,Vt)&&Ie(It,Vt,_t[Vt]);return It},Ve=(It,_t)=>Be(It,Xe(_t)),z=(It,_t)=>{var Vt={};for(var Tn in It)we.call(It,Tn)&&_t.indexOf(Tn)<0&&(Vt[Tn]=It[Tn]);if(It!=null&&Te)for(var Tn of Te(It))_t.indexOf(Tn)<0&&De.call(It,Tn)&&(Vt[Tn]=It[Tn]);return Vt};const se=It=>{const{flex:_t,hideImages:Vt,linkToComments:Tn,posts:sr,pub:qn,source:qr,user:Vr,utm:Gr,variant:$r,onChange:yr,onClickPost:Nr}=It;return $r==="two-three-two"?Object(e.h)(Oe,He({},It)):$r==="two-small-three-medium"?Object(e.h)(Se,He({},It)):["mini-row","three-column-mini-row"].includes($r)?Object(e.h)(it,He({},It)):$r==="three-column-multi-row-grid"?Object(e.h)(je,He({},It)):Object(e.h)("div",{style:_t==="grow"?{flexGrow:1,display:"flex",alignItems:"stretch"}:void 0},Object(e.h)("div",{className:o()(at.container,at[$r])},sr.map((gr,Xr)=>Object(e.h)(e.Fragment,null,Xr>0&&["one-column-list","two-column-list","three-column-grid","large-listing-listing-column","square-square-column"].includes($r)&&Object(e.h)(u.p,{className:at.divider,borderBottom:"detail-themed"}),[2,4].includes(Xr)&&$r==="five-up"&&Object(e.h)(u.p,{className:at.divider,borderBottom:"detail-themed"}),Xr%3==0&&Xr>0&&["three-column-grid"].includes($r)&&Object(e.h)(u.p,{className:at["long-divider"],borderBottom:"detail-themed"}),Xr>0&&["mini-row","three-column-mini-row"].includes($r)&&Object(e.h)(u.p,{className:at.divider,paddingY:16,alignItems:"center"},Object(e.h)(u.p,{borderLeft:"detail-themed"})),Object(e.h)(ze,{hideImage:Vt,linkToComments:Tn,post:gr,pub:qn,user:Vr,utm:Gr,variant:Tt($r,Xr),onChange:yr,onClick:Nr&&qr?Dt=>{Nr({event:Dt,post:gr,index:Xr,source:qr})}:void 0}))),$r==="two-small-one-large"&&Object(e.h)(u.p,{borderBottom:"detail-themed"})))},Se=It=>{const _t=It,{posts:Vt}=_t,Tn=z(_t,["posts"]),sr=Vt.slice(0,3),qn=Vt.slice(3);return Object(e.h)(zt,{variant:"one-column-two-column",stretchVertically:!0},Object(e.h)(se,Ve(He({},Tn),{flex:"grow",variant:"large-listing-listing-column",posts:sr,hideImages:!0})),Object(e.h)(se,Ve(He({},Tn),{flex:"grow",variant:"square-square-column",posts:qn,hideImages:!1})))},Oe=It=>{const _t=It,{posts:Vt}=_t,Tn=z(_t,["posts"]),sr=Vt.slice(0,3),qn=Vt.slice(3,5),qr=Vt.slice(5);return Object(e.h)(zt,{variant:"one-column-two-column-one-column",stretchVertically:!0},Object(e.h)(se,Ve(He({},Tn),{flex:"grow",variant:"large-listing-listing-column",posts:sr,hideImages:!0})),Object(e.h)(se,Ve(He({},Tn),{flex:"grow",variant:"square-square-column",posts:qn,hideImages:!1})),Object(e.h)(se,Ve(He({},Tn),{flex:"grow",variant:"square-square-column",posts:qr,hideImages:!1})))},ge=({row:It,pub:_t})=>{var Vt;let Tn="/archive";return It&&(Tn="email_from_name"in It?Object(m.getSectionUrl)(_t,{section:It}):Object(m.getPostTagUrl)(_t,It)),Object(e.h)(u.o,{paddingBottom:12,paddingX:6},Object(e.h)(u.p,{justifyContent:"space-between",alignItems:"center",paddingBottom:20},Object(e.h)(u.D.H2,{font:"pub-headings"},(Vt=It==null?void 0:It.name)!=null?Vt:"Recent posts"),Object(e.h)(u.D.Meta,{as:"a",href:Tn},"See all")),Object(e.h)(u.p,{className:at["long-divider"],borderBottom:"detail-themed"}))},je=It=>{const _t=It,{posts:Vt,bodyRows:Tn,variant:sr,showEmptyRowsView:qn}=_t,qr=z(_t,["posts","bodyRows","variant","showEmptyRowsView"]),Vr=[Vt.slice(0,3),Vt.slice(3,6),Vt.slice(6)];return qn?Object(e.h)(u.o,{alignItems:"center",justifyContent:"center",className:o()(at[sr],at.emptyRowsView)},Object(e.h)(f.a,{className:at.emptyContentIcon})):Object(e.h)("div",{className:at[sr]},Tn==null?void 0:Tn.map((Gr,$r)=>Object(e.h)(u.o,null,Object(e.h)(ge,{pub:It.pub,row:Gr}),Object(e.h)(se,Ve(He({},qr),{variant:"three-column-grid",posts:Vr[$r]})))),!Tn||(Tn==null?void 0:Tn.length)<3?Object(e.h)(u.o,null,Object(e.h)(ge,{pub:It.pub}),Object(e.h)(se,Ve(He({},qr),{variant:"three-column-grid",posts:Vr.slice((Tn==null?void 0:Tn.length)?Tn==null?void 0:Tn.length:0).flat()}))):null)},it=It=>{const{linkToComments:_t,posts:Vt,pub:Tn,source:sr,user:qn,utm:qr,variant:Vr,onChange:Gr,onClickPost:$r}=It,yr=Vr==="mini-row"?4:3;return Object(e.h)("div",null,Object(e.h)("div",{className:o()(at.container,at[Vr])},Vt.slice(0,yr).map((Nr,gr)=>Object(e.h)(e.Fragment,null,gr>0&&Object(e.h)(u.p,{className:at.divider,paddingY:16,alignItems:"center"},Object(e.h)(u.p,{borderLeft:"detail-themed"})),Object(e.h)(ze,{linkToComments:_t,post:Nr,pub:Tn,user:qn,utm:qr,variant:Tt(Vr,gr),onChange:Gr,onClick:$r&&sr?Xr=>{$r({event:Xr,post:Nr,index:gr,source:sr})}:void 0}))),Vr==="two-small-one-large"&&Object(e.h)(u.p,{borderBottom:"detail-themed"})))},Tt=(It,_t)=>It==="square-square-column"?"square":It==="large-listing-listing-column"?_t===0?"large":"listing":It==="two-small-one-large"?_t===0?"large":"square":It==="two-column-list"?"listing":It==="five-up"?_t===0?"large":"square":["mini-row","three-column-mini-row","one-column-list"].includes(It)?"mini":"square";var sn=Object.defineProperty,ht=Object.defineProperties,Nt=Object.getOwnPropertyDescriptors,wt=Object.getOwnPropertySymbols,yt=Object.prototype.hasOwnProperty,Qe=Object.prototype.propertyIsEnumerable,At=(It,_t,Vt)=>_t in It?sn(It,_t,{enumerable:!0,configurable:!0,writable:!0,value:Vt}):It[_t]=Vt,jt=(It,_t)=>{for(var Vt in _t||(_t={}))yt.call(_t,Vt)&&At(It,Vt,_t[Vt]);if(wt)for(var Vt of wt(_t))Qe.call(_t,Vt)&&At(It,Vt,_t[Vt]);return It},ke=(It,_t)=>ht(It,Nt(_t));const tn=({noFirstImage:It,posts:_t,pub:Vt,user:Tn,utm:sr,onChange:qn})=>{const qr={pub:Vt,user:Tn,utm:sr,onChange:qn};return Object(e.h)(se,ke(jt({},qr),{variant:It?"two-three-two":"five-up",posts:_t}))},Pn=It=>Object(e.h)(tn,ke(jt({},It),{noFirstImage:!0}));var Ft={link:"frontend-main-home-MetaLink-module__link--2cZxy"};const lt=({children:It,href:_t})=>Object(e.h)(u.D.Meta,{className:Ft.link,color:"pub-primary-text",as:"a",native:!0,href:_t},It),Rt=({pub:It})=>Object(e.h)(u.p,{justifyContent:"space-between"},Object(e.h)(u.D.Meta,{size:12,color:"pub-primary-text"},"Most Popular"),Object(e.h)(lt,{href:Object(g.getArchiveUrl)(It,{params:{sort:"top"}})},"View all"));var ln=Object.defineProperty,Mt=Object.defineProperties,$t=Object.getOwnPropertyDescriptors,nn=Object.getOwnPropertySymbols,Bt=Object.prototype.hasOwnProperty,Kt=Object.prototype.propertyIsEnumerable,Sn=(It,_t,Vt)=>_t in It?ln(It,_t,{enumerable:!0,configurable:!0,writable:!0,value:Vt}):It[_t]=Vt,Qn=(It,_t)=>{for(var Vt in _t||(_t={}))Bt.call(_t,Vt)&&Sn(It,Vt,_t[Vt]);if(nn)for(var Vt of nn(_t))Kt.call(_t,Vt)&&Sn(It,Vt,_t[Vt]);return It},rr=(It,_t)=>Mt(It,$t(_t));const Mr=({noFirstImage:It,posts:_t,topPosts:Vt,pub:Tn,user:sr,utm:qn,onChange:qr})=>{const Vr={pub:Tn,user:sr,utm:qn,onChange:qr},{isTablet:Gr,isMobile:$r}=Object(j.d)();return $r?null:Object(e.h)(zt,{variant:"full-width-with-sidebar",showContentBelowOnMobile:!0},Object(e.h)(se,rr(Qn({},Vr),{variant:It?"two-small-three-medium":"two-small-one-large",posts:_t,flex:"grow"})),Vt&&Object(e.h)(u.o,{gap:12},Object(e.h)(Rt,{pub:Tn}),Object(e.h)(se,rr(Qn({},Vr),{flex:"grow",variant:Gr?"mini-row":"one-column-list",posts:Vt.slice(0,Gr?3:5)}))))},zr=It=>Object(e.h)(Mr,rr(Qn({},It),{noFirstImage:!0})),dr=({posts:It,pub:_t,user:Vt,utm:Tn,onChange:sr})=>It.length?Object(e.h)(ze,{pub:_t,user:Vt,utm:Tn,onChange:sr,variant:"mobile-hero",post:It[0]}):null;var Rr=Object.defineProperty,_r=Object.defineProperties,ro=Object.getOwnPropertyDescriptors,Dn=Object.getOwnPropertySymbols,ut=Object.prototype.hasOwnProperty,fn=Object.prototype.propertyIsEnumerable,On=(It,_t,Vt)=>_t in It?Rr(It,_t,{enumerable:!0,configurable:!0,writable:!0,value:Vt}):It[_t]=Vt,Ot=(It,_t)=>{for(var Vt in _t||(_t={}))ut.call(_t,Vt)&&On(It,Vt,_t[Vt]);if(Dn)for(var Vt of Dn(_t))fn.call(_t,Vt)&&On(It,Vt,_t[Vt]);return It},kt=(It,_t)=>_r(It,ro(_t));const Zt=({isSmall:It,posts:_t,pub:Vt,user:Tn,utm:sr,onChange:qn})=>_t.length?Object(e.h)(zt,{variant:It?"three-column-width":"full-width"},Object(e.h)(ze,{pub:Vt,user:Tn,utm:sr,onChange:qn,variant:It?"jumbo-small":"jumbo",post:_t[0]})):null,Vn=It=>Object(e.h)(Zt,kt(Ot({},It),{isSmall:!0}));var Gn=Object.defineProperty,tr=Object.getOwnPropertySymbols,rn=Object.prototype.hasOwnProperty,_n=Object.prototype.propertyIsEnumerable,Yn=(It,_t,Vt)=>_t in It?Gn(It,_t,{enumerable:!0,configurable:!0,writable:!0,value:Vt}):It[_t]=Vt,cr=(It,_t)=>{for(var Vt in _t||(_t={}))rn.call(_t,Vt)&&Yn(It,Vt,_t[Vt]);if(tr)for(var Vt of tr(_t))_n.call(_t,Vt)&&Yn(It,Vt,_t[Vt]);return It},Jt=(It,_t)=>{var Vt={};for(var Tn in It)rn.call(It,Tn)&&_t.indexOf(Tn)<0&&(Vt[Tn]=It[Tn]);if(It!=null&&tr)for(var Tn of tr(It))_t.indexOf(Tn)<0&&_n.call(It,Tn)&&(Vt[Tn]=It[Tn]);return Vt};const cn={magaziney:Mr,newspaper:Zt,"magazine-5":tn},bn=It=>{var _t=It,{firstPostMissingImage:Vt,bodyVariant:Tn,isMobile:sr,variant:qn}=_t,qr=Jt(_t,["firstPostMissingImage","bodyVariant","isMobile","variant"]);let Vr=cn[qn];return sr?Vr=dr:qn==="newspaper"&&Tn==="list"?Vr=Vn:qn==="magaziney"&&Vt?Vr=zr:qn==="magazine-5"&&Vt&&(Vr=Pn),Vr?Object(e.h)(Vr,cr({},qr)):(console.error("Component not found, add one to HomeHero"),null)};var zn=t(1184),Rn=t(831),xn=t(865),mr=t(96),Or=t(731),Lt=t(2),qt={pillTab:"frontend-pencraft-unstable-PillTabs-module__pillTab--25B-j",pillTabActive:"frontend-pencraft-unstable-PillTabs-module__pillTabActive--2WavM"};const wn=({tabs:It,activeTabId:_t,onClick:Vt})=>Object(e.h)(Lt.c,{gap:8},It.map(Tn=>Object(e.h)($n,{onClick:()=>{Vt(Tn.id)},active:Tn.id===_t},Tn.title))),$n=({active:It,onClick:_t,children:Vt})=>Object(e.h)("div",{className:o()(qt.pillTab,{[qt.pillTabActive]:It}),role:"button",onClick:_t},Vt);var Wn={container:"frontend-pencraft-unstable-Silhouette-module__container--26rWM","silhouette-scroll":"frontend-pencraft-unstable-Silhouette-module__silhouette-scroll--NYHOB"};const Jn=({width:It,height:_t,aspectRatio:Vt})=>Vt?Object(e.h)("div",{style:`aspect-ratio:${Vt}`},Object(e.h)("div",{className:Wn.container,style:{width:It,height:_t!=null?_t:"100%"}})):Object(e.h)("div",{className:Wn.container,style:{width:It,height:_t}}),Tr=({variant:It})=>It==="grid"?Object(e.h)(u.o,{gap:12},Object(e.h)(Jn,{aspectRatio:T}),Object(e.h)(u.o,{gap:8},Object(e.h)(Jn,{height:24,width:"70%"}),Object(e.h)(Jn,{height:20,width:"90%"}),Object(e.h)(Jn,{height:20,width:"50%"}))):It==="list"?Object(e.h)(u.o,{gap:8},Object(e.h)(Jn,{height:28,width:"60%"}),Object(e.h)(Jn,{height:24,width:"80%"}),Object(e.h)(Jn,{height:20,width:"20%"})):null;var Qr={iconButton:"frontend-main-home-ArchiveAdapted-module__iconButton--2K-Zg",searchInput:"frontend-main-home-ArchiveAdapted-module__searchInput--1aHTx",searchIcon:"frontend-main-home-ArchiveAdapted-module__searchIcon--3mSmC",loadingContainerGrid:"frontend-main-home-ArchiveAdapted-module__loadingContainerGrid--2KPJ4",loadingContainerList:"frontend-main-home-ArchiveAdapted-module__loadingContainerList--9HOoY"},ao=Object.defineProperty,oo=Object.defineProperties,eo=Object.getOwnPropertyDescriptors,bo=Object.getOwnPropertySymbols,zo=Object.prototype.hasOwnProperty,Eo=Object.prototype.propertyIsEnumerable,Co=(It,_t,Vt)=>_t in It?ao(It,_t,{enumerable:!0,configurable:!0,writable:!0,value:Vt}):It[_t]=Vt,Mo=(It,_t)=>{for(var Vt in _t||(_t={}))zo.call(_t,Vt)&&Co(It,Vt,_t[Vt]);if(bo)for(var Vt of bo(_t))Eo.call(_t,Vt)&&Co(It,Vt,_t[Vt]);return It},ft=(It,_t)=>oo(It,eo(_t));const qe=({children:It,maxPosts:_t,posts:Vt,pub:Tn,search:sr,sort:qn,user:qr,variant:Vr})=>Object(e.h)(xn.a,{maxPosts:_t,newPosts:Vt,pub:Tn,renderPosts:({posts:Gr,linkToComments:$r,onClickPost:yr})=>It({posts:Gr,linkToComments:$r,onClickPost:yr}),renderLoading:()=>Object(e.h)("div",{className:o()({[Qr.loadingContainerGrid]:["grid","grid-tags","grid-sections"].includes(Vr),[Qr.loadingContainerList]:Vr==="list"})},Array.from(new Array(_t)).map(()=>Object(e.h)(Tr,{variant:Vr}))),renderSeeAll:({url:Gr})=>["grid-tags","grid-sections"].includes(Vr)?null:Object(e.h)(u.p,{paddingTop:16},Object(e.h)(u.d,{href:Gr,rightIcon:Object(e.h)(Rn.a,{size:20}),priority:"secondary-theme",fill:"outline"},"See all")),renderTabs:({activeTabId:Gr,isSearching:$r,tabs:yr,searchInputProps:Nr,searchRef:gr,showSearch:Xr,onClick:Dt,onClickSearch:N,onClickSearchClose:L})=>["grid-tags","grid-sections"].includes(Vr)?null:$r?Object(e.h)(u.p,{alignItems:"center",justifyContent:"space-between",paddingBottom:16},Object(e.h)(u.p,{gap:4,alignItems:"center",paddingLeft:8},Object(e.h)(Or.default,{height:16,className:Qr.searchIcon}),Object(e.h)("input",ft(Mo({},Nr),{ref:gr,type:"text",placeholder:"Search...",className:Qr.searchInput}))),Object(e.h)("div",{role:"button",onClick:L,className:Qr.iconButton},Object(e.h)(mr.default,{height:20}))):Object(e.h)(u.p,{alignItems:"center",justifyContent:"space-between",paddingBottom:16},Object(e.h)(wn,{activeTabId:Gr,tabs:yr,onClick:Dt}),Xr&&Object(e.h)("div",{role:"button",onClick:N,className:Qr.iconButton},Object(e.h)(Or.default,{height:20}))),search:sr,sort:qn,stateInUrl:!0,user:qr});var rt=t(81),mt=t(172),un=t(1033),yn=t(1109),An={pubLogo:"frontend-main-home-BodySidebar-module__pubLogo--3BPTT",container:"frontend-main-home-BodySidebar-module__container--2LJta"},Je=Object.defineProperty,St=Object.defineProperties,Gt=Object.getOwnPropertyDescriptors,vn=Object.getOwnPropertySymbols,kn=Object.prototype.hasOwnProperty,or=Object.prototype.propertyIsEnumerable,fr=(It,_t,Vt)=>_t in It?Je(It,_t,{enumerable:!0,configurable:!0,writable:!0,value:Vt}):It[_t]=Vt,er=(It,_t)=>{for(var Vt in _t||(_t={}))kn.call(_t,Vt)&&fr(It,Vt,_t[Vt]);if(vn)for(var Vt of vn(_t))or.call(_t,Vt)&&fr(It,Vt,_t[Vt]);return It},Ln=(It,_t)=>St(It,Gt(_t));const ur=({freeSignup:It,freeSignupEmail:_t,homepageLinks:Vt,numRecommendations:Tn,pub:sr,recommendations:qn,user:qr})=>{const{isMobile:Vr}=Object(j.d)();return Object(e.h)(u.o,{gap:40,className:An.container},!Vr&&Object(e.h)(u.o,{gap:24},Object(e.h)(u.o,{gap:8},sr.logo_url&&Object(e.h)("img",{className:An.pubLogo,src:Object(g.cloudinary)(sr.logo_url,88),alt:sr.name}),Object(e.h)(br,null,sr.name),sr.hero_text&&Object(e.h)(u.D,{size:12,lineHeight:20,color:"pub-secondary-text",font:"text"},sr.hero_text)),!(qr==null?void 0:qr.is_subscribed)&&Object(e.h)(mt.b,{pub:sr,user:qr,freeSignup:It,freeSignupEmail:_t,isStatic:!1,source:"magaziney-home-page"})),Boolean(qn==null?void 0:qn.length)&&sr.show_recs_on_homepage&&Object(e.h)(et,{numRecommendations:Tn,pub:sr,recommendations:qn,user:qr}),Vt&&Object(e.h)(Ge,{homepageLinks:Vt,pub:sr}))},br=({children:It})=>Object(e.h)(u.D,{size:16,lineHeight:24,weight:"semibold",color:"pub-primary-text",font:"pub-headings"},It),et=({recommendations:It,numRecommendations:_t,pub:Vt,user:Tn})=>Object(e.h)(un.b,{recommendations:It,numRecommendations:_t,pub:Vt,user:Tn,render:({recommendations:sr,canManage:qn,manageUrl:qr,hasMore:Vr,hasMoreUrl:Gr,recommendationsCount:$r})=>Object(e.h)(u.o,{gap:16},Object(e.h)(u.p,{alignItems:"center",borderBottom:"detail-themed",justifyContent:"space-between",paddingBottom:8},Object(e.h)(br,null,"Recommendations"),qn?Object(e.h)(lt,{href:qr},"Manage"):Vr?Object(e.h)(lt,{href:Gr},"View all ",$r):null),Object(e.h)(u.o,{gap:24},sr)),renderRecommendation:({url:sr,onClick:qn,pubIconProps:qr,pubName:Vr,pubAuthor:Gr})=>{const $r={href:sr,onClick:qn,target:"_blank",rel:"noopener noreferrer"};return Object(e.h)(u.p,{gap:16,alignItems:"center"},Object(e.h)(rt.a,Ln(er({},qr),{size:40,noMargin:!0})),Object(e.h)(u.o,null,Object(e.h)(u.D,Ln(er({},$r),{as:"a",color:"pub-primary-text",font:"pub-headings",lineHeight:20,size:14,weight:"semibold"}),Vr),Object(e.h)(u.D.B4,Ln(er({},$r),{as:"a",color:"pub-secondary-text",size:12}),Gr)))}}),Ge=({homepageLinks:It,pub:_t})=>Object(e.h)(u.o,{gap:24},Object(e.h)(yn.a,{homepageLinks:It,pub:_t,renderGroup:({title:Vt,links:Tn})=>Object(e.h)(u.o,{gap:16},Object(e.h)(u.p,{alignItems:"center",borderBottom:"detail-themed",paddingBottom:8},Object(e.h)(br,null,Vt)),Object(e.h)(u.o,{gap:8},Tn)),renderLink:({title:Vt,url:Tn,subtitle:sr,linkProps:qn})=>Object(e.h)(u.o,null,Object(e.h)(u.D.B4,Ln(er({},qn),{as:"a",href:Tn,color:"pub-secondary-text"}),Vt),sr&&Object(e.h)(u.D.B4,Ln(er({},qn),{as:"a",href:Tn,color:"pub-secondary-text"}),sr))}));var tt=Object.defineProperty,Pt=Object.defineProperties,gt=Object.getOwnPropertyDescriptors,me=Object.getOwnPropertySymbols,fe=Object.prototype.hasOwnProperty,Ee=Object.prototype.propertyIsEnumerable,Ue=(It,_t,Vt)=>_t in It?tt(It,_t,{enumerable:!0,configurable:!0,writable:!0,value:Vt}):It[_t]=Vt,Ye=(It,_t)=>{for(var Vt in _t||(_t={}))fe.call(_t,Vt)&&Ue(It,Vt,_t[Vt]);if(me)for(var Vt of me(_t))Ee.call(_t,Vt)&&Ue(It,Vt,_t[Vt]);return It},ct=(It,_t)=>Pt(It,gt(_t)),Yt=(It,_t)=>{var Vt={};for(var Tn in It)fe.call(It,Tn)&&_t.indexOf(Tn)<0&&(Vt[Tn]=It[Tn]);if(It!=null&&me)for(var Tn of me(It))_t.indexOf(Tn)<0&&Ee.call(It,Tn)&&(Vt[Tn]=It[Tn]);return Vt};const Qt={grid:"full-width-with-sidebar","grid-tags":"full-width-with-sidebar","grid-sections":"full-width-with-sidebar",list:"three-column-width-with-sidebar"},En={grid:"three-column-grid","grid-tags":"three-column-multi-row-grid","grid-sections":"three-column-multi-row-grid",list:"two-column-list"},hn={grid:"full-width","grid-tags":"full-width","grid-sections":"full-width",list:"three-column-width"},In=It=>{var _t=It,{bodyTags:Vt,bodySections:Tn,freeSignup:sr,freeSignupEmail:qn,hideImagesFromList:qr,homepageLinks:Vr,numRecommendations:Gr,posts:$r,pub:yr,recommendations:Nr,showSiteMap:gr,source:Xr,user:Dt,utm:N,variant:L,onChange:$}=_t,ne=Yt(_t,["bodyTags","bodySections","freeSignup","freeSignupEmail","hideImagesFromList","homepageLinks","numRecommendations","posts","pub","recommendations","showSiteMap","source","user","utm","variant","onChange"]),ee,ae;const{breakpoint:ve}=Object(j.d)(),Re=c.a[L][ve],$e=L==="list"&&(qr||$r.slice(0,Re).every(dn=>!dn.cover_image));let bt,Ut=!1;return L==="grid-tags"&&(bt=Vt,Ut=(ee=ne.hasEmptyTags)!=null?ee:!1),L==="grid-sections"&&(bt=Tn,Ut=(ae=ne.hasEmptyTags)!=null?ae:!1),Object(e.h)("div",null,Object(e.h)(zt,{variant:Qt[L],showContentBelowOnMobile:!0},Object(e.h)(qe,ct(Ye({},ne),{maxPosts:Re,posts:$r,pub:yr,user:Dt,variant:L}),({posts:dn,linkToComments:pn,onClickPost:jn})=>Object(e.h)(se,{bodyRows:bt,hideImages:$e,linkToComments:pn,posts:dn,pub:yr,showEmptyRowsView:Ut,source:Xr,user:Dt,utm:N,variant:En[L],onChange:$,onClickPost:jn})),Object(e.h)(ur,{freeSignup:sr,freeSignupEmail:qn,homepageLinks:Vr,numRecommendations:Gr,pub:yr,recommendations:Nr,user:Dt})),gr&&Object(e.h)(zt,{variant:hn[L]},Object(e.h)(zn.a,{pub:yr,user:Dt,freeSignup:sr,freeSignupEmail:qn})))},Fn=({numColumns:It})=>Object(e.h)(zt,{variant:It===3?"three-column-width":"full-width"},Object(e.h)(u.o,{paddingTop:24,paddingBottom:24},Object(e.h)(u.n,{borderBottom:"detail-themed"})));var Un=Object.defineProperty,nr=Object.defineProperties,jr=Object.getOwnPropertyDescriptors,Hr=Object.getOwnPropertySymbols,Br=Object.prototype.hasOwnProperty,Jr=Object.prototype.propertyIsEnumerable,so=(It,_t,Vt)=>_t in It?Un(It,_t,{enumerable:!0,configurable:!0,writable:!0,value:Vt}):It[_t]=Vt,Pr=(It,_t)=>{for(var Vt in _t||(_t={}))Br.call(_t,Vt)&&so(It,Vt,_t[Vt]);if(Hr)for(var Vt of Hr(_t))Jr.call(_t,Vt)&&so(It,Vt,_t[Vt]);return It},Ur=(It,_t)=>nr(It,jr(_t)),Cr=(It,_t)=>{var Vt={};for(var Tn in It)Br.call(It,Tn)&&_t.indexOf(Tn)<0&&(Vt[Tn]=It[Tn]);if(It!=null&&Hr)for(var Tn of Hr(It))_t.indexOf(Tn)<0&&Jr.call(It,Tn)&&(Vt[Tn]=It[Tn]);return Vt};const io=It=>{var _t=It,{columns:Vt=4,posts:Tn,pub:sr}=_t,qn=Cr(_t,["columns","posts","pub"]);const{isMobile:qr}=Object(j.d)();return qr?null:Object(e.h)(zt,{variant:Vt===3?"three-column-width":"full-width"},Object(e.h)(u.o,{gap:12},Object(e.h)(Rt,{pub:sr}),Object(e.h)(se,Ur(Pr({},qn),{pub:sr,posts:Tn,variant:Vt===3?"three-column-mini-row":"mini-row"}))))};var co={container:"frontend-main-home-ModularHome-module__container--1N6oT",bodyContainer:"frontend-main-home-ModularHome-module__bodyContainer--1jsRa","container--empty":"frontend-main-home-ModularHome-module__container--empty--1yeMQ"},Wo=Object.defineProperty,qo=Object.defineProperties,Jo=Object.getOwnPropertyDescriptors,Go=Object.getOwnPropertySymbols,ko=Object.prototype.hasOwnProperty,Ho=Object.prototype.propertyIsEnumerable,Vo=(It,_t,Vt)=>_t in It?Wo(It,_t,{enumerable:!0,configurable:!0,writable:!0,value:Vt}):It[_t]=Vt,Ti=(It,_t)=>{for(var Vt in _t||(_t={}))ko.call(_t,Vt)&&Vo(It,Vt,_t[Vt]);if(Go)for(var Vt of Go(_t))Ho.call(_t,Vt)&&Vo(It,Vt,_t[Vt]);return It},dt=(It,_t)=>qo(It,Jo(_t)),pt=(It,_t)=>{var Vt={};for(var Tn in It)ko.call(It,Tn)&&_t.indexOf(Tn)<0&&(Vt[Tn]=It[Tn]);if(It!=null&&Go)for(var Tn of Go(It))_t.indexOf(Tn)<0&&Ho.call(It,Tn)&&(Vt[Tn]=It[Tn]);return Vt};const Xt="modular-home-posts",Hn=It=>{var _t;const Vt=It,{alwaysShowActions:Tn,pub:sr,theme:qn,user:qr,utm:Vr,showSiteMap:Gr,overrideSelectedSections:$r,overrideSelectedTags:yr}=Vt,Nr=pt(Vt,["alwaysShowActions","pub","theme","user","utm","showSiteMap","overrideSelectedSections","overrideSelectedTags"]),{posts:gr,topPosts:Xr,onChange:Dt}=Object(j.e)(d()(It,["newPosts","pinnedPosts","topPosts"])),{breakpoint:N,isMobile:L}=Object(j.d)();if(gr.length===0)return Object(e.h)(ir,null);const $=gr[0],ne=Xr==null?void 0:Xr.filter(bt=>!$||bt.id!==$.id),ee=!((_t=gr[0])==null?void 0:_t.cover_image);let ae=c.f[qn.home_hero][N];ee&&["magaziney","magazine-5"].includes(qn.home_hero)&&["desktop","tablet"].includes(N)&&(ae+=2);let ve=qn.home_hero;gr.length<ae+1&&(ve="newspaper",ae=1);const Re=gr.length>=ae+1,$e=["newspaper","feature"].includes(ve)&&qn.home_posts==="list";return Object(e.h)(s.Provider,{value:{alwaysShowActions:Tn}},Object(e.h)(u.o,{className:co.container},Object(e.h)(u.o,{gap:32,paddingTop:!Re&&L?24:0},Re&&Object(e.h)(bn,{firstPostMissingImage:ee,bodyVariant:qn.home_posts,isMobile:L,posts:gr.slice(0,ae),pub:sr,topPosts:ne,user:qr,utm:Vr,variant:ve,onChange:Dt}),qn.home_show_top_posts&&ne&&ve!=="magaziney"&&Re&&Object(e.h)(io,{columns:$e?3:4,posts:ne,pub:sr,user:qr,utm:Vr,onChange:Dt})),Object(e.h)(u.o,{className:co.bodyContainer,id:Xt},Re&&Object(e.h)(Fn,{numColumns:$e?3:4}),Object(e.h)(In,dt(Ti({},Nr),{bodySections:$r!=null?$r:qn.selected_sections,bodyTags:yr!=null?yr:qn.selected_tags,hasEmptySections:It.hasEmptySections,hasEmptyTags:It.hasEmptyTags,hideImagesFromList:qn.hide_images_from_list,posts:Re?gr.slice(ae):gr,pub:sr,showSiteMap:Gr,source:`${qn.home_hero}-${qn.home_posts}-home`,user:qr,utm:Vr,variant:qn.home_posts,onChange:Dt})))))},ir=()=>Object(e.h)(u.o,{className:o()(co.container,co["container--empty"]),alignItems:"center",justifyContent:"center"},"Coming Soon")},,function(k,n,t){"use strict";t.d(n,"a",function(){return i}),t.d(n,"b",function(){return h});var e=t(0),a=t(4),o=t(935),l=t(5),d=t.n(l),c=t(827),u=t(204),f=t(2),m=t(8),p={container:"frontend-main-setup_all_podcasts-module__container--eFprZ",noPodcasts:"frontend-main-setup_all_podcasts-module__noPodcasts--3p909"};const g=t(65),O=({})=>Object(e.h)("div",{className:p.noPodcasts},"No podcasts."),s=(v,j,y)=>{let b=v[j.id];return b||(b=Object(a.getPodcatcherSetupUrl)(j,{section:null,noSection:!1,addBase:!0,user:null,startAtSubscribeFlow:!y||!y.is_free_subscribed,params:{utm_source:"all-podcasts"}})),b},r=({pub:v,user:j,idToMagicLink:y,openInNewTab:b})=>v.subdomain!=="thebulwark"?null:Object(e.h)(m.b.B3,{paddingTop:16,paddingBottom:16},Object(e.h)("a",{href:s(y!=null?y:{},v,j),target:b?"_blank":void 0,rel:"noreferrer"},"Click here")," ","to set up your podcast app for everything in one feed."),i=({pub:v,user:j,idToMagicLink:y={},openInNewTab:b=!1,newFormatting:E=!1})=>{const P=[];g.isMultiPub(v)?g.getMultiPubChildPodcasts(v).forEach(H=>{const C=Object(o.b)(H,s(y,H,j));P.push(C)}):g.getSectionPodcasts(v)&&g.getSectionPodcasts(v).forEach(H=>{var C,T;if(!Object(c.b)({pub:v,section:H}))return;const S=Object(u.getSectionPodcastSettings)({pub:v,section:H});if(!S.title)return;const D={logoUrl:(C=S.artUrl)!=null?C:void 0,mainClickUrl:Object(a.getPodcastLandingUrl)({pub:v,section:H,addBase:!0}),buttonClickUrl:y[H.id]||Object(a.getPodcatcherSetupUrl)(v,{section:H,noSection:!1,addBase:!0,user:null,startAtSubscribeFlow:!j||!j.is_free_subscribed,params:{utm_source:"all-podcasts"}}),name:S.title,description:(T=S.description)!=null?T:"",buttonText:"Set up podcast"};P.push(D)}),Object(c.a)(v)&&P.push(Object(o.b)(v,s(y,v,j)));const A=Object.keys(y).length>0||!!(j==null?void 0:j.is_free_subscribed);let _=P.length>1?"Podcast feeds":"Podcast feed";A&&(_=g.hasMultiplePodcasts(v)?"Private podcast feeds":"Private podcast feed");const M=Object(e.h)(f.b,{radius:12,border:"detail",padding:16},g.hasPodcast(v)?Object(e.h)(e.Fragment,null,Object(e.h)(o.a,{showButton:!0,items:P,openInNewTab:b,buttonText:"Set up podcast"}),Object(e.h)(r,{pub:v,user:j,idToMagicLink:y,openInNewTab:b})):Object(e.h)(O,null));return E?Object(e.h)(e.Fragment,null,Object(e.h)(m.b.H4,{paddingTop:20,paddingBottom:8},_),M):Object(e.h)("div",{className:"container"},Object(e.h)("div",{id:"set-up-podcast"},Object(e.h)(m.b.H3,{paddingTop:16,paddingBottom:16},_),M))},h=({pub:v,user:j,idToMagicLink:y,openInNewTab:b=!1})=>Object(e.h)("div",{className:d()("page","typography",p.container)},Object(e.h)(i,{pub:v,user:j,idToMagicLink:y,openInNewTab:b}))},,,,,,,,,,,,,,function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"PencilIcon",svgParams:{height:100,width:100}}),Object(e.h)("path",{d:"M55.3,25.6L22.5,58.4c-0.1,0.1-0.2,0.3-0.3,0.4c0,0,0,0.1-0.1,0.1c-0.1,0.1-0.1,0.3-0.2,0.4c0,0,0,0.1,0,0.1l-6.4,21.9   c-0.3,0.9,0,1.8,0.6,2.5c0.5,0.5,1.1,0.7,1.8,0.7c0.2,0,0.5,0,0.7-0.1l21.9-6.4c0,0,0.1,0,0.1,0c0.1,0,0.3-0.1,0.4-0.2   c0,0,0.1,0,0.1-0.1c0.2-0.1,0.3-0.2,0.4-0.3l32.8-32.8L55.3,25.6z M35.1,74.5l-13.5,3.9l3.9-13.5L35.1,74.5z"}),Object(e.h)("path",{d:"M62.1,18.8l-3.3,3.3l19.1,19.1l3.3-3.3c4.7-4.7,4.4-13.3-0.7-18.4C75.4,14.4,66.8,14.1,62.1,18.8z"}));n.default=O},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(k,n,t){"use strict";t.d(n,"a",function(){return E});var e=t(0),a=t(12),o=t.n(a),l=t(45),d=t(4),c=t.n(d),u=t(866),f=t(209),m=t(122),p=t(446),g=t(129),O=t(137),s=t(7),r=t(55),i=t(9),h=t.n(i),v=Object.defineProperty,j=(A,_,M)=>_ in A?v(A,_,{enumerable:!0,configurable:!0,writable:!0,value:M}):A[_]=M,y=(A,_,M)=>(j(A,typeof _!="symbol"?_+"":_,M),M),b=(A,_,M)=>new Promise((F,H)=>{var C=D=>{try{S(M.next(D))}catch(w){H(w)}},T=D=>{try{S(M.throw(D))}catch(w){H(w)}},S=D=>D.done?F(D.value):Promise.resolve(D.value).then(C,T);S((M=M.apply(A,_)).next())});class E extends e.Component{constructor(_,M){super(_,M);y(this,"likesEnabled",Object(r.default)("like_posts_enabled")),this.state={posts:null,hasMore:!0,loading:!1},this.props.notify_user&&typeof window!="undefined"&&Object(g.b)(this.props.notify_user)}componentDidMount(){return b(this,null,function*(){this.triggerShareOnLoad(),yield this.loadMore()})}getBatchSize(){return 5}loadMore(){return b(this,null,function*(){if(!this.state.hasMore)return;(yield Object(i.stateLock)(this,"loading",M=>b(this,[M],function*({hasMore:F,posts:H}){if(!!F){H=H||[];try{const T=(yield o.a.get("/api/v1/posts").query({limit:this.getBatchSize(),offset:H.length})).body;H=H.concat(T),F=T.length>=this.getBatchSize(),this.makeSureIosCookiesArentBroken(T),this.setState({posts:H,hasMore:F})}catch(C){console.error(C)}return F}})))&&this.loader&&this.loader.checkVisibility()})}triggerShareOnLoad(){if(Object(d.getQueryItem)("action")==="share")window.history.replaceState({},document.title,Object(d.updateQuery)({action:null}));else return;this.setState({share_on_load:!0}),this.shareDialog.open()}makeSureIosCookiesArentBroken(_){if(!/iPad|iPhone|iPod/.test(navigator.userAgent)||this.props.user&&this.props.user.is_subscribed||!_||_.filter(H=>Object(l.isPaidAudience)(H.audience)&&!H.hidden).length===0)return;const M="__cookie_checked",F=Object(d.parseQuery)(window.location.search);F[M]||(F[M]="true",window.location.search=`?${Object(d.serializeQuery)(F)}`)}onChange({post:_}){if(_){const M=(this.state.posts||[]).map(F=>F.id).indexOf(_&&_.id);M!==-1&&(this.state.posts[M]=_,this.setState({posts:this.state.posts}))}}render({user:_,pub:M,freeSignup:F,freeSignupEmail:H,preloadedPosts:C,hide_intro_popup:T,children:S,blurbs:D,noBalanceHeroText:w},{posts:U,hasMore:V,share_on_load:K}){const Y=[];for(const W of U||C||[])W.hidden?Array.isArray(Y[Y.length-1])?Y[Y.length-1].push(W):Y.push([W]):Y.push(W);return Object(e.h)("div",{className:"classic-home-page"},Object(e.h)(m.c,{ref:W=>this.shareDialog=W,user:_,pub:M}),Object(e.h)(u.c,{freeSignup:F,freeSignupEmail:H,user:_,post:null,publication:M,hidden:T||K,blurbs:D,noBalance:w}),M&&M.subdomain==="sinocism"&&Object(e.h)("div",{className:"sinocism-hero-small"},Object(e.h)("div",{className:"container"},Object(e.h)("div",{className:"hero-text"},Object(e.h)("p",null,"Bill Bishop's Sinocism China Newsletter provides analysis, commentary and curated links to the important English and Chinese news of the day."),Object(e.h)("p",null,"Join thousands of other subscribers and gain valuable insights into China and its role in the world.")),Object(e.h)("div",{className:"hero-left"},Object(e.h)("p",{className:"review-quote"},"\u201CSinocism is the presidential daily brief for China hands.\u201D"),Object(e.h)("div",{className:"review-footer"},Object(e.h)("h3",null,"Evan Osnos"),Object(e.h)("p",null,"New Yorker correspondent and ",Object(e.h)("br",null),"National Book Award winner"))))),Object(e.h)("div",{className:"post-list"},Y.length===0&&!V&&Object(e.h)("div",{className:"container-border coming-soon"},Object(e.h)("div",{className:"container"},Object(e.h)("p",null,"Coming soon"))),Y.map((W,R)=>Array.isArray(W)?this.renderHiddenPosts(W,R):this.renderPost(W,R)),V?Object(e.h)("div",{className:"post-loader"},Object(e.h)("div",{className:"container"},Object(e.h)(O.a,{ref:W=>this.loader=W,noDedupe:!0,threshold:1280,onVisible:()=>this.loadMore()},Object(e.h)("p",null,"Loading more posts\u2026")))):M.has_posts&&U&&U.length>0&&Object(e.h)("div",{className:"container"},Object(e.h)("a",{className:"archive-link button invis",href:Object(d.getBaseArchiveUrl)(M)},"View archive"))),S)}renderPost(_){return Object(e.h)("div",{className:"container-border post-list-post"},Object(e.h)("div",{className:"container"},_.type==="thread"?Object(e.h)(p.a,{post:_,user:this.props.user,pub:this.props.pub,freeSignup:this.props.freeSignup,freeSignupEmail:this.props.freeSignupEmail,invisible:!this.props.hide_intro_popup,showCta:!0,showReactions:this.likesEnabled}):Object(e.h)(f.c,{post:_,user:this.props.user,freeSignup:this.props.freeSignup,freeSignupEmail:this.props.freeSignupEmail,pub:this.props.pub,invisible:!this.props.hide_intro_popup,truncateAt:1e4,truncateTo:8e3,onChange:M=>this.onChange(M),noTitleLink:Boolean(this.props.disableInteractive),disableSubscribePrompt:!0})))}renderHiddenPosts(_,M){let F,H;return M===0?(F=_.slice(0,1),H=_.slice(1)):_.length<=3?(F=_,H=[]):(F=_.slice(0,2),H=_.slice(2)),Object(e.h)(P,{user:this.props.user,pub:this.props.pub,posts:F,collapsedPosts:H,onChange:C=>this.onChange(C)})}}class P extends e.Component{toggle(){this.state.showing?this.setState({showing:!1}):(this.state.toggled||Object(s.i)(s.a.COLLAPSED_POSTS_SHOWN,{num_visible_posts:this.props.posts.length,num_collapsed_posts:this.props.collapsedPosts.length}),this.setState({showing:!0,toggled:!0}))}render({user:_,pub:M,posts:F,collapsedPosts:H,onChange:C},{showing:T}){return Object(e.h)("div",{className:`container-border post-list-hidden-posts ${T?"showing":""}`},Object(e.h)("div",{className:"container"},F.map(S=>Object(e.h)(f.d,{user:_,pub:M,post:S,onChange:C})),H.length>0&&Object(e.h)("div",{className:"collapse-toggle",onClick:()=>this.toggle()},T?"hide":`+${H.length} more`),H.map(S=>Object(e.h)(f.d,{className:"collapsed",user:_,pub:M,post:S,utm_source:"home",onChange:C}))))}}},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"ChevronIcon",svgParams:{height:24,width:24,stroke:"#666666",viewBox:"0 0 24 24"}}),Object(e.h)("path",{d:"M9.88507 18.9609L15.8851 12.9609L9.88507 6.96094",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}));n.default=O},function(k,n,t){"use strict";t.d(n,"b",function(){return O}),t.d(n,"a",function(){return s});var e=t(0),a=t(1),o=t(193),l=t(4),d=t.n(l),c=t(103),u=t(177),f=t(7),m=t(123),p=t(52);function g(){return Object(m.a)("reader-ios-install-banner",60*60*24*7)}function O({user:y,pathname:b="/inbox"}){const[E,P]=g(),A=j();if(E||!A||(y==null?void 0:y.reader_installed_at)&&A==="ios"&&(b.startsWith("/notes")||b.includes("/note/")))return null;const _=()=>{Object(f.i)(f.a.APP_BANNER_DISMISSED),P()},M=H=>{Object(f.i)(f.a.APP_BANNER_TAPPED,{surface:"reader"})},F=(y==null?void 0:y.reader_installed_at)?`substack:/${b}`:A==="android"?Object(l.getPlayStoreUrl)():Object(l.getAppStoreUrl)();return Object(e.h)(i,{className:"app-banner-fixed"},Object(e.h)(r,{surface:"reader"}),Object(e.h)(v,null),Object(e.h)(h,null,Object(e.h)("div",null,"Get the full experience")),Object(e.h)("a",{href:F,className:"app-banner-cta",onClick:M},"Get app"),Object(e.h)("button",{className:"reader2-button-reset",onClick:_},Object(e.h)(o.a,{size:16,className:"app-banner-x-out"})))}function s({post:y,subdomain:b}){const E=j();if(!Object(c.isMobile)({checkFirst4:!0})||!E)return null;const P=Object(l.getPostAppLinkUrl)(b,y.slug,{redirect:"app-store",source:"post-banner"}),A=()=>{Object(f.i)(f.a.APP_BANNER_TAPPED,{surface:"post"})};return Object(e.h)(i,null,Object(e.h)(r,{surface:"post"}),Object(e.h)(v,null),Object(e.h)(h,null,Object(e.h)("div",null,y.type==="podcast"?"Listen":y.type==="video"?"Watch":"Read"," in the Substack app")),Object(e.h)("a",{className:"app-banner-cta",href:P,onClick:A},"Open app"))}function r({surface:y}){return Object(a.d)(()=>{Object(f.i)(f.a.APP_BANNER_VIEWED,{surface:"post"})},[]),null}const i=Object(p.a)("app-banner"),h=Object(p.a)("app-banner-text");function v(){return Object(e.h)("div",{className:"app-banner-icon"},Object(e.h)(u.default,{height:16}))}function j(){return Object(c.isIos)()?"ios":Object(c.isAndroid)()?"android":null}},function(k,n,t){"use strict";t.d(n,"a",function(){return F});var e=t(0),a=t(1),o=t(5),l=t.n(o),d=t(12),c=t.n(d),u=t(4),f=t.n(u),m=t(10),p=t.n(m),g=t(81),O=t(64),s=t(32),r=t(153),i=t(129),h=Object.defineProperty,v=Object.defineProperties,j=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,P=(H,C,T)=>C in H?h(H,C,{enumerable:!0,configurable:!0,writable:!0,value:T}):H[C]=T,A=(H,C)=>{for(var T in C||(C={}))b.call(C,T)&&P(H,T,C[T]);if(y)for(var T of y(C))E.call(C,T)&&P(H,T,C[T]);return H},_=(H,C)=>v(H,j(C)),M=(H,C,T)=>new Promise((S,D)=>{var w=K=>{try{V(T.next(K))}catch(Y){D(Y)}},U=K=>{try{V(T.throw(K))}catch(Y){D(Y)}},V=K=>K.done?S(K.value):Promise.resolve(K.value).then(w,U);V((T=T.apply(H,C)).next())});const F=({pub:H,pubsToRecommend:C})=>{const[T,S]=Object(a.l)(!0),[D,w]=Object(a.l)(!0),[U,V]=Object(a.l)((C||[]).reduce((x,G)=>_(A({},x),{[G.id]:!0}),{})),K=()=>{S(!T),w(!1)},Y=x=>{const G=A({},U);G[x]=!G[x],V(G)},W=()=>M(void 0,null,function*(){try{const x=Object.keys(U).filter(G=>U[G]===!0).map(G=>Number(G));yield c.a.put("/api/v1/recommendations/multiple").send({recommending_publication_id:H.id,recommended_publication_ids:x,source:"post_publish_cta",suggested:x.map(()=>!0)}),x.length&&Object(i.b)(`Recommended ${Object(m.pluralize)(x.length,"publication")}`,{timeout:1500}),K()}catch(x){console.error("Failed to add recommendations: ",x),K()}});let R,B;return(C==null?void 0:C.length)&&(R=(Object.values(U).filter(x=>x===!0)||[]).length,B=`Do you want to recommend ${C[0].name}${C.length>1?` and ${C.length-1} other ${Object(m.pluralize)(C.length-1,"publication",{just_word:!0})}`:""}?`),Object(e.h)(e.Fragment,null,D?Object(e.h)(s.a,{isOpen:T,onClose:K},Object(e.h)(s.d,{onClose:K,title:B}),Object(e.h)(s.b,null,Object(e.h)("div",{className:"recommend-linked-publication-modal-container"},Object(e.h)("p",{className:"subtitle"},"Since you embedded"," ",C.length>1?`${C.length} publications`:C[0].name," on your post, we thought you might want to recommend them to your readers"),C&&C.length&&C.map((x,G)=>Object(e.h)("div",{className:l()("recommend-publication-container",{last:G===C.length-1}),onClick:()=>Y(x.id)},Object(e.h)(g.a,{pub:x,size:40,logo_url:x.logo_url,openInNewTab:!0}),Object(e.h)("div",{className:"publication-name-author"},Object(e.h)("a",{className:"publication-name",href:Object(u.getBaseUrl)(x),target:"_blank"},x.name),Object(e.h)("p",{className:"author-name"},Object(m.getByLine)(x))),Object(e.h)(r.a,{checked:U[x.id]?U[x.id]:!1}))))),Object(e.h)(s.c,{alignment:"center",primaryButton:Object(e.h)(O.a,{onClick:W,variant:"primary"},R===0?"Continue":`Recommend ${Object(m.pluralize)(R,"publication")}`),secondaryButton:Object(e.h)(O.a,{onClick:K,variant:"secondary"},"Maybe later")})):null)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(k,n,t){"use strict";t.d(n,"a",function(){return r});var e=t(0),a=t(9),o=t(2),l=t(5),d=t.n(l),c=t(4),u=t(1136),f=t(215),m=t(11),p={img:"frontend-components-newsletter_item-module__img--3KEDY",container:"frontend-components-newsletter_item-module__container--2xg0N",selectableContainer:"frontend-components-newsletter_item-module__selectableContainer--FuUaL",selectedContainer:"frontend-components-newsletter_item-module__selectedContainer--2y38l",clickableContainer:"frontend-components-newsletter_item-module__clickableContainer--85ntw",containerMobile:"frontend-components-newsletter_item-module__containerMobile--NS4t8",imgMobile:"frontend-components-newsletter_item-module__imgMobile--1gRdi",selector:"frontend-components-newsletter_item-module__selector--xDqkF",unselected:"frontend-components-newsletter_item-module__unselected--1wkQb",seeLatest:"frontend-components-newsletter_item-module__seeLatest--3JLdR"};const g=({newsletter:i,hideLink:h=!1,onToggle:v,onClick:j})=>{const{isMobile:y}=Object(f.d)();j&&v&&console.error("you cannot pass both onToggle and onClick");const b=P=>{P.stopPropagation(),v==null||v({sectionId:i.sectionId,isSelected:!i.selected})},E=!!v;return y?Object(e.h)(O,{newsletter:i,hideLink:h,onClick:j,onToggle:v}):Object(e.h)(m.o,{className:d()(p.container,{[p.selectedContainer]:E&&i.selected,[p.selectableContainer]:E,[p.clickableContainer]:!!j}),justifyContent:"space-between",radius:8,padding:16,onClick:E?b:j!=null?j:void 0},E&&i.selected?Object(e.h)(u.default,{className:d()(p.selector)}):E?Object(e.h)("div",{className:d()(p.unselected,p.selector)}):null,Object(e.h)(m.o,{gap:24},i.logoUrl&&Object(e.h)("div",{className:p.img},i.logoUrl&&Object(e.h)("img",{className:p.img,src:Object(c.cloudinary)(i.logoUrl,64)})),Object(e.h)(m.o,{gap:8},Object(e.h)(m.D.H3,{paddingRight:i.logoUrl?0:32,weight:"semibold",color:"pub-primary-text",clamp:2},i.name),Object(e.h)(m.D.B4,{color:"pub-secondary-text",clamp:4},i.description))),!h&&Object(e.h)(m.D,{size:14,weight:"semibold",font:"text",color:"pub-secondary-text"},Object(e.h)("a",{className:p.seeLatest,href:i.linkUrl,native:!0},"See the latest")))},O=({newsletter:i,hideLink:h,onClick:v,onToggle:j})=>{const y=!!j,b=E=>{E.stopPropagation(),j==null||j({sectionId:i.sectionId,isSelected:!i.selected})};return Object(e.h)(m.o,{className:d()(p.containerMobile,{[p.selectedContainer]:y&&i.selected,[p.selectableContainer]:y,[p.clickableContainer]:!!b}),justifyContent:"space-between",radius:8,padding:16,onClick:y?b:v!=null?v:void 0},y&&i.selected?Object(e.h)(u.default,{className:d()(p.selector)}):y?Object(e.h)("div",{className:d()(p.unselected,p.selector)}):null,Object(e.h)(m.o,{gap:8},Object(e.h)(m.p,{gap:8},i.logoUrl&&Object(e.h)("img",{className:p.imgMobile,src:Object(c.cloudinary)(i.logoUrl,64)}),Object(e.h)(m.D,{paddingRight:32,size:16,weight:"semibold",color:"primary",font:"text",clamp:2},i.name)),Object(e.h)(m.D.B4,{color:"secondary",clamp:2,font:"text"},i.description)),!h&&Object(e.h)(m.D,{size:14,weight:"semibold",font:"text",color:"pub-secondary-text"},Object(e.h)("a",{href:i.linkUrl,native:!0},"See the latest")))};var s={container:"frontend-components-newsletter_item_list-module__container--3bB0x"};const r=({newsletters:i,hideLinks:h,onNewsletterClick:v,justifyItems:j})=>Object(e.h)(o.c,{className:s.container,wrap:"wrap",justifyContent:j,gap:24},i.length===0&&Object(e.h)("div",null,"No additional newsletters"),i.map((y,b)=>Object(e.h)(g,{newsletter:y,key:b,hideLink:h,onToggle:v?({sectionId:E,isSelected:P})=>{v({sectionId:E,isSelected:P})}:void 0,onClick:h?void 0:()=>{Object(a.redirect)(y.linkUrl,{local_navigation:!1})}})))},,function(k,n,t){"use strict";var e=t(0),a=t(1),o=t(5),l=t.n(o),d=t(261),c=t(4),u=t(7),f=t(9),m=t(64),p=t(26),g=t(1216),O=t(1217),s=t(376),r=t(466),i=t(207),h=t(50),v={toast:"frontend-components-prompts-WriterShareModal-module__toast--wc1bo",cta:"frontend-components-prompts-WriterShareModal-module__cta--3LjvC",modal:"frontend-components-prompts-WriterShareModal-module__modal--3G8F3"},j=Object.defineProperty,y=Object.defineProperties,b=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable,_=(V,K,Y)=>K in V?j(V,K,{enumerable:!0,configurable:!0,writable:!0,value:Y}):V[K]=Y,M=(V,K)=>{for(var Y in K||(K={}))P.call(K,Y)&&_(V,Y,K[Y]);if(E)for(var Y of E(K))A.call(K,Y)&&_(V,Y,K[Y]);return V},F=(V,K)=>y(V,b(K));const H="https://twitter.com",C=()=>{const V=Object(p.e)();return(K,Y=null)=>V.popToast(W=>Object(e.h)(p.c,F(M({},W),{className:v.toast,text:K,cta:Y})))},T=({post:V,publication:K,autoSharedOnTwitter:Y,showAfter:W,publicationTwitterScreenName:R,authorVersion:B})=>{const x=Object(a.k)(null),[G,Q]=Object(a.l)(!0),he=C();Object(a.d)(()=>{Y&&he("Post shared to Twitter",R?Object(e.h)("a",{className:v.cta,href:`${H}/${R}`,target:"_blank",rel:"noreferrer"},"View"):null)},[]);const Z=()=>{Q(!1)};return!G&&W?W:Object(e.h)(h.b,{testID:"share-modal",openByDefault:!0,className:l()("force-light-theme",v.modal),ref:x,variant:"structured",modalTitle:`Share your ${B?"substack:":"post:"}`,modalFooter:Object(e.h)(m.a,{variant:B?"primary":"secondary",look:"button",onClick:le=>{le.preventDefault(),x.current.close()}},B?"View Dashboard":"View post"),onBeforeClose:Z},Object(e.h)("div",{className:"author-post-share-container author-post-share-container--fullscreen author-post-share-container--publish"},Object(e.h)("div",{className:"author-post-share__check-container"},Object(e.h)(d.a,{size:20,strokeWidth:2})),Object(e.h)("h5",null,B?"Share your Substack with your friends, fans, and communities":"Your post has been published! It\u2019s time to get the word out"),!B&&Object(e.h)("div",{className:"tw-mb-8"},Object(e.h)(w,{modalRef:x})),Object(e.h)(S,{post:V,publication:K,hideEmailOption:!B,trackingParams:{sd:"pf"},autoSharedOnTwitter:Y,authorVersion:B})))},S=({post:V,publication:K,hideEmailOption:Y=!1,trackingParams:W,autoSharedOnTwitter:R,authorVersion:B})=>{const x=B?Object(c.getBaseUrl)(K):V.canonical_url,G=he=>{Object(u.i)(u.a.SHARE_LINK_CLICKED,{name:he,post_id:V==null?void 0:V.id,source:"fullscreen-author-share-dialog"})},Q=C();return Object(e.h)(e.Fragment,null,Object(e.h)(D,{onClick:()=>{G("facebook"),window.open(`https://www.facebook.com/sharer/sharer.php?${Object(c.serializeQuery)({u:Object(c.updateQuery)(x,M({utm_source:"facebook"},W))})}`)},className:"share facebook"},Object(e.h)("button",{className:"button tw-w-full"},Object(e.h)(O.default,{height:16,fill:"#256fe2",stroke:"white",strokeWidth:1}),"Share on Facebook")),!R&&Object(e.h)(D,{onClick:()=>{G("twitter"),window.open(`${H}/share?${Object(c.serializeQuery)({url:Object(c.updateQuery)(x,M({utm_source:"twitter"},W))})}`)},className:"share twitter"},Object(e.h)("button",{className:"button tw-w-full"},Object(e.h)(i.default,{height:16,fill:"#1DA1F2",stroke:"#1DA1F2",strokeWidth:0}),"Share on Twitter")),Object(e.h)(D,{onClick:()=>{Object(f.copyToClipboard)(Object(c.updateQuery)(x,W)),G("copy"),Q("Link copied to clipboard")},className:"share copy"},Object(e.h)("button",{className:"button short-button tw-w-full"},Object(e.h)(s.default,{height:16,strokeWidth:0,fill:"black"}),"Copy Link")),!Y&&Object(e.h)(D,{onClick:()=>{G("email"),window.open(`mailto:?${Object(c.serializeQuery)({subject:B?`Check out ${K.name}`:V.title,body:Object(c.updateQuery)(x,M({utm_source:"email"},W))})}`)},className:"share email"},Object(e.h)("button",{className:"button short-button tw-mb-8 tw-w-full"},Object(e.h)(r.default,{height:16,strokeWidth:0,fill:"black"}),"Share with email")),!B&&Object(e.h)(D,{onClick:()=>{G("media-assets"),window.open(`${Object(c.getPostUrl)(K,V)}/media-assets`)},className:"share press-kit"},Object(e.h)("button",{className:"button tw-w-full"},Object(e.h)(g.default,{stroke:"#404040",fill:"white"}),"View media assets")))},D=V=>Object(e.h)("a",F(M({},V),{native:!0})),w=({modalRef:V})=>{var K,Y,W;let R="";typeof window!="undefined"&&(R=window.location.host);const B=(K=document.head.querySelector('meta[property="og:image"]'))==null?void 0:K.content,x=(Y=document.head.querySelector('meta[property="og:title"]'))==null?void 0:Y.content,G=(W=document.head.querySelector('meta[property="og:description"]'))==null?void 0:W.content;return Object(e.h)("div",{onClick:()=>{V.current.close()},className:"overflow-hidden tw-cursor-pointer tw-rounded-xl tw-border tw-border-solid tw-border-substack-detail"},B&&Object(e.h)("div",{className:"tw-border-0 tw-border-b tw-border-solid tw-border-substack-detail"},Object(e.h)("img",{src:B,className:"social-media-share-preview__image"})),Object(e.h)("div",{className:"tw-p-3"},Object(e.h)("div",{className:"tw-text-sm tw-font-bold tw-text-substack-secondary"},R),Object(e.h)("div",{className:"tw-text-base tw-font-bold tw-text-substack-primary"},x),Object(e.h)("div",{className:"social-media-share-preview__description tw-text-sm tw-font-medium tw-text-substack-secondary"},G)))};var U=n.a=T},,,,,,,,,,,,,,,,,,,,,,,,,function(k,n,t){"use strict";t.r(n),t.d(n,"LucideHaze",function(){return s});var e=t(0),a=t(924),o=t(13),l=Object.defineProperty,d=Object.defineProperties,c=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,p=(r,i,h)=>i in r?l(r,i,{enumerable:!0,configurable:!0,writable:!0,value:h}):r[i]=h,g=(r,i)=>{for(var h in i||(i={}))f.call(i,h)&&p(r,h,i[h]);if(u)for(var h of u(i))m.call(i,h)&&p(r,h,i[h]);return r},O=(r,i)=>d(r,c(i));function s(r){return Object(e.h)(o.a,O(g({},r),{name:"LucideHaze",svgParams:{height:24,width:24,fill:"#ffffff",strokeWidth:0}}),Object(e.h)(a.a,{height:24,stroke:r.stroke,fill:r.fill,strokeWidth:r.strokeWidth}))}n.default=s},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(925),o=t(13),l=Object.defineProperty,d=Object.defineProperties,c=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,p=(r,i,h)=>i in r?l(r,i,{enumerable:!0,configurable:!0,writable:!0,value:h}):r[i]=h,g=(r,i)=>{for(var h in i||(i={}))f.call(i,h)&&p(r,h,i[h]);if(u)for(var h of u(i))m.call(i,h)&&p(r,h,i[h]);return r},O=(r,i)=>d(r,c(i));const s=r=>Object(e.h)(o.a,O(g({},r),{name:"LudiceArrowLeft",svgParams:{height:24,width:24,fill:"#ffffff",strokeWidth:0}}),Object(e.h)(a.a,{height:24,stroke:r.stroke,fill:r.fill,strokeWidth:r.strokeWidth}));n.default=s},function(k,n,t){"use strict";t.r(n),t.d(n,"LucideSettings2",function(){return s});var e=t(0),a=t(927),o=t(13),l=Object.defineProperty,d=Object.defineProperties,c=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,p=(r,i,h)=>i in r?l(r,i,{enumerable:!0,configurable:!0,writable:!0,value:h}):r[i]=h,g=(r,i)=>{for(var h in i||(i={}))f.call(i,h)&&p(r,h,i[h]);if(u)for(var h of u(i))m.call(i,h)&&p(r,h,i[h]);return r},O=(r,i)=>d(r,c(i));function s(r){return Object(e.h)(o.a,O(g({},r),{name:"LucideSettings2",svgParams:{height:24,width:24,fill:"#ffffff",strokeWidth:0}}),Object(e.h)(a.a,{height:24,stroke:r.stroke,fill:r.fill,strokeWidth:r.strokeWidth}))}n.default=s},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(928),o=t(13),l=Object.defineProperty,d=Object.defineProperties,c=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,p=(r,i,h)=>i in r?l(r,i,{enumerable:!0,configurable:!0,writable:!0,value:h}):r[i]=h,g=(r,i)=>{for(var h in i||(i={}))f.call(i,h)&&p(r,h,i[h]);if(u)for(var h of u(i))m.call(i,h)&&p(r,h,i[h]);return r},O=(r,i)=>d(r,c(i));const s=r=>Object(e.h)(o.a,O(g({},r),{name:"LucideMic",svgParams:{height:24,width:24,stroke:"#ffffff",strokeWidth:0}}),Object(e.h)(a.a,{height:24,stroke:r.stroke,fill:r.fill,strokeWidth:r.strokeWidth}));n.default=s},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(929),o=t(13),l=Object.defineProperty,d=Object.defineProperties,c=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,p=(r,i,h)=>i in r?l(r,i,{enumerable:!0,configurable:!0,writable:!0,value:h}):r[i]=h,g=(r,i)=>{for(var h in i||(i={}))f.call(i,h)&&p(r,h,i[h]);if(u)for(var h of u(i))m.call(i,h)&&p(r,h,i[h]);return r},O=(r,i)=>d(r,c(i));const s=r=>Object(e.h)(o.a,O(g({},r),{name:"LucideVideo",svgParams:{height:24,width:24,stroke:"#ffffff",strokeWidth:0}}),Object(e.h)(a.a,{height:24,stroke:r.stroke,fill:r.fill,strokeWidth:r.strokeWidth}));n.default=s},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(811),o=t(13),l=Object.defineProperty,d=Object.defineProperties,c=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,p=(r,i,h)=>i in r?l(r,i,{enumerable:!0,configurable:!0,writable:!0,value:h}):r[i]=h,g=(r,i)=>{for(var h in i||(i={}))f.call(i,h)&&p(r,h,i[h]);if(u)for(var h of u(i))m.call(i,h)&&p(r,h,i[h]);return r},O=(r,i)=>d(r,c(i));const s=r=>Object(e.h)(o.a,O(g({},r),{name:"LucideUserX",svgParams:{height:24,width:24,stroke:"#ffffff",strokeWidth:0}}),Object(e.h)(a.a,{height:24,stroke:r.stroke,fill:r.fill,strokeWidth:r.strokeWidth}));n.default=s},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"DownloadIcon",svgParams:{height:32,width:32}}),Object(e.h)("rect",{width:"32",height:"32",rx:"6",fill:s.fill||"black"}),Object(e.h)("path",{d:"M23.5 18.5V21.8333C23.5 22.2754 23.3244 22.6993 23.0118 23.0118C22.6993 23.3244 22.2754 23.5 21.8333 23.5H10.1667C9.72464 23.5 9.30072 23.3244 8.98816 23.0118C8.67559 22.6993 8.5 22.2754 8.5 21.8333V18.5",stroke:s.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),Object(e.h)("path",{d:"M11.8333 14.3335L16 18.5002L20.1667 14.3335",stroke:s.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),Object(e.h)("path",{d:"M16 18.5V8.5",stroke:s.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}));n.default=O},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"PanelsIcon",svgParams:{height:32,width:32}}),Object(e.h)("rect",{width:"32",height:"32",rx:"6",fill:"black"}),Object(e.h)("rect",{x:"7.19995",y:"7.2002",width:"8.49554",height:"11.8938",rx:"0.424777",fill:"white"}),Object(e.h)("rect",{opacity:"0.7",x:"7.19995",y:"19.603",width:"8.49554",height:"6.79643",rx:"0.424777",fill:"white"}),Object(e.h)("path",{opacity:"0.7",d:"M16.2048 7.62497C16.2048 7.39037 16.395 7.2002 16.6296 7.2002H20.4526C23.737 7.2002 26.3995 9.8627 26.3995 13.1471C26.3995 16.4314 23.737 19.094 20.4526 19.094H16.6296C16.395 19.094 16.2048 18.9038 16.2048 18.6692V7.62497Z",fill:"white"}));n.default=O},function(k,n,t){"use strict";t.r(n);var e=t(0),a=t(13),o=Object.defineProperty,l=Object.defineProperties,d=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,m=(s,r,i)=>r in s?o(s,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[r]=i,p=(s,r)=>{for(var i in r||(r={}))u.call(r,i)&&m(s,i,r[i]);if(c)for(var i of c(r))f.call(r,i)&&m(s,i,r[i]);return s},g=(s,r)=>l(s,d(r));const O=s=>Object(e.h)(a.a,g(p({},s),{name:"DownloadIconNoBorder",svgParams:{height:32,width:32}}),Object(e.h)("path",{d:"M23.5 18.5V21.8333C23.5 22.2754 23.3244 22.6993 23.0118 23.0118C22.6993 23.3244 22.2754 23.5 21.8333 23.5H10.1667C9.72464 23.5 9.30072 23.3244 8.98816 23.0118C8.67559 22.6993 8.5 22.2754 8.5 21.8333V18.5",stroke:s.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(255,255,255,0)"}),Object(e.h)("path",{d:"M11.8333 14.3335L16 18.5002L20.1667 14.3335",stroke:s.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(255,255,255,0)"}),Object(e.h)("path",{d:"M16 18.5V8.5",stroke:s.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(255,255,255,0)"}));n.default=O},,,,,,,,,,,,,,,,,,,function(k,n,t){"use strict";(function(e){var a=t(784),o=t.n(a),l=function(J,oe){if(J==null)return{};var pe,re,ye={},nt=Object.keys(J);for(re=0;re<nt.length;re++)pe=nt[re],oe.indexOf(pe)>=0||(ye[pe]=J[pe]);return ye},d=function(J,oe){if(J==null)return{};var pe,re,ye=l(J,oe);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(J);for(re=0;re<nt.length;re++)pe=nt[re],oe.indexOf(pe)>=0||Object.prototype.propertyIsEnumerable.call(J,pe)&&(ye[pe]=J[pe])}return ye};function c(J,oe,pe,re,ye,nt,Ht){try{var on=J[nt](Ht),Mn=on.value}catch(Zn){return void pe(Zn)}on.done?oe(Mn):Promise.resolve(Mn).then(re,ye)}var u=function(J){return function(){var oe=this,pe=arguments;return new Promise(function(re,ye){var nt=J.apply(oe,pe);function Ht(Mn){c(nt,re,ye,Ht,on,"next",Mn)}function on(Mn){c(nt,re,ye,Ht,on,"throw",Mn)}Ht(void 0)})}},f=function(J,oe){if(!(J instanceof oe))throw new TypeError("Cannot call a class as a function")},m=function(J){if(J===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J};function p(J,oe){for(var pe=0;pe<oe.length;pe++){var re=oe[pe];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(J,re.key,re)}}var g=function(J,oe,pe){return oe&&p(J.prototype,oe),pe&&p(J,pe),J},O=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof e!="undefined"?e:typeof self!="undefined"?self:{};function s(J,oe){return J(oe={exports:{}},oe.exports),oe.exports}var r=s(function(J){function oe(pe,re){return J.exports=oe=Object.setPrototypeOf||function(ye,nt){return ye.__proto__=nt,ye},oe(pe,re)}J.exports=oe}),i=function(J,oe){if(typeof oe!="function"&&oe!==null)throw new TypeError("Super expression must either be null or a function");J.prototype=Object.create(oe&&oe.prototype,{constructor:{value:J,writable:!0,configurable:!0}}),oe&&r(J,oe)},h=s(function(J){function oe(pe){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?J.exports=oe=function(re){return typeof re}:J.exports=oe=function(re){return re&&typeof Symbol=="function"&&re.constructor===Symbol&&re!==Symbol.prototype?"symbol":typeof re},oe(pe)}J.exports=oe}),v=function(J,oe){return!oe||h(oe)!=="object"&&typeof oe!="function"?m(J):oe},j=s(function(J){function oe(pe){return J.exports=oe=Object.setPrototypeOf?Object.getPrototypeOf:function(re){return re.__proto__||Object.getPrototypeOf(re)},oe(pe)}J.exports=oe}),y=function(J,oe,pe){return oe in J?Object.defineProperty(J,oe,{value:pe,enumerable:!0,configurable:!0,writable:!0}):J[oe]=pe,J},b=function(J){if(Array.isArray(J))return J},E=function(J,oe){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(J)){var pe=[],re=!0,ye=!1,nt=void 0;try{for(var Ht,on=J[Symbol.iterator]();!(re=(Ht=on.next()).done)&&(pe.push(Ht.value),!oe||pe.length!==oe);re=!0);}catch(Mn){ye=!0,nt=Mn}finally{try{re||on.return==null||on.return()}finally{if(ye)throw nt}}return pe}},P=function(J,oe){(oe==null||oe>J.length)&&(oe=J.length);for(var pe=0,re=new Array(oe);pe<oe;pe++)re[pe]=J[pe];return re},A=function(J,oe){if(J){if(typeof J=="string")return P(J,oe);var pe=Object.prototype.toString.call(J).slice(8,-1);return pe==="Object"&&J.constructor&&(pe=J.constructor.name),pe==="Map"||pe==="Set"?Array.from(J):pe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(pe)?P(J,oe):void 0}},_=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},M=function(J,oe){return b(J)||E(J,oe)||A(J,oe)||_()},F=typeof Map=="function",H=typeof Set=="function",C=typeof WeakSet=="function",T=Object.keys,S=function(J,oe){return J&&typeof J=="object"&&oe.add(J)},D=function(J,oe,pe,re){for(var ye,nt=0;nt<J.length;nt++)if(pe((ye=J[nt])[0],oe[0],re)&&pe(ye[1],oe[1],re))return!0;return!1},w=function(J,oe,pe,re){for(var ye=0;ye<J.length;ye++)if(pe(J[ye],oe,re))return!0;return!1},U=function(J,oe){return J===oe||J!=J&&oe!=oe},V=function(J){return J.constructor===Object},K=function(J){return typeof J.then=="function"},Y=function(J){return!(!J.$$typeof||!J._store)},W=function(J){return function(oe){var pe=J||oe;return function(re,ye,nt){nt===void 0&&(nt=C?new WeakSet:Object.create({_values:[],add:function(Mn){this._values.push(Mn)},has:function(Mn){return!!~this._values.indexOf(Mn)}}));var Ht=nt.has(re),on=nt.has(ye);return Ht||on?Ht&&on:(S(re,nt),S(ye,nt),pe(re,ye,nt))}}},R=function(J){var oe=[];return J.forEach(function(pe,re){return oe.push([re,pe])}),oe},B=function(J){var oe=[];return J.forEach(function(pe){return oe.push(pe)}),oe},x=function(J,oe,pe,re){if(J.length!==oe.length)return!1;for(var ye=0;ye<J.length;ye++)if(!pe(J[ye],oe[ye],re))return!1;return!0},G=function(J,oe,pe,re){if(J.size!==oe.size)return!1;for(var ye=R(J),nt=R(oe),Ht=0;Ht<ye.length;Ht++)if(!D(nt,ye[Ht],pe,re)||!D(ye,nt[Ht],pe,re))return!1;return!0},Q=function(J,oe,pe,re){var ye,nt=T(J),Ht=T(oe);if(nt.length!==Ht.length)return!1;for(var on=0;on<nt.length;on++)if(ye=nt[on],!w(Ht,ye,U)||(ye!=="_owner"||!Y(J)||!Y(oe))&&!pe(J[ye],oe[ye],re))return!1;return!0},he=function(J,oe){return J.source===oe.source&&J.global===oe.global&&J.ignoreCase===oe.ignoreCase&&J.multiline===oe.multiline&&J.unicode===oe.unicode&&J.sticky===oe.sticky&&J.lastIndex===oe.lastIndex},Z=function(J,oe,pe,re){if(J.size!==oe.size)return!1;for(var ye=B(J),nt=B(oe),Ht=0;Ht<ye.length;Ht++)if(!w(nt,ye[Ht],pe,re)||!w(ye,nt[Ht],pe,re))return!1;return!0},le=Array.isArray,de=function(J){var oe=typeof J=="function"?J(pe):pe;function pe(re,ye,nt){if(U(re,ye))return!0;var Ht=typeof re;if(Ht!==typeof ye||Ht!=="object"||!re||!ye)return!1;if(V(re)&&V(ye))return Q(re,ye,oe,nt);var on=le(re),Mn=le(ye);if(on||Mn)return on===Mn&&x(re,ye,oe,nt);var Zn=re instanceof Date,to=ye instanceof Date;if(Zn||to)return Zn===to&&U(re.getTime(),ye.getTime());var Yr=re instanceof RegExp,Oo=ye instanceof RegExp;if(Yr||Oo)return Yr===Oo&&he(re,ye);if(K(re)||K(ye))return re===ye;if(F){var mo=re instanceof Map,xo=ye instanceof Map;if(mo||xo)return mo===xo&&G(re,ye,oe,nt)}if(H){var no=re instanceof Set,Bo=ye instanceof Set;if(no||Bo)return no===Bo&&Z(re,ye,oe,nt)}return Q(re,ye,oe,nt)}return pe},be=(de(W()),de(W(U)),de());de(function(){return U});const X={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},ie={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},Ce={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},Le={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},Ae={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class Pe{static getFirstMatch(oe,pe){const re=pe.match(oe);return re&&re.length>0&&re[1]||""}static getSecondMatch(oe,pe){const re=pe.match(oe);return re&&re.length>1&&re[2]||""}static matchAndReturnConst(oe,pe,re){if(oe.test(pe))return re}static getWindowsVersionName(oe){switch(oe){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(oe){const pe=oe.split(".").splice(0,2).map(re=>parseInt(re,10)||0);if(pe.push(0),pe[0]===10)switch(pe[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(oe){const pe=oe.split(".").splice(0,2).map(re=>parseInt(re,10)||0);if(pe.push(0),!(pe[0]===1&&pe[1]<5))return pe[0]===1&&pe[1]<6?"Cupcake":pe[0]===1&&pe[1]>=6?"Donut":pe[0]===2&&pe[1]<2?"Eclair":pe[0]===2&&pe[1]===2?"Froyo":pe[0]===2&&pe[1]>2?"Gingerbread":pe[0]===3?"Honeycomb":pe[0]===4&&pe[1]<1?"Ice Cream Sandwich":pe[0]===4&&pe[1]<4?"Jelly Bean":pe[0]===4&&pe[1]>=4?"KitKat":pe[0]===5?"Lollipop":pe[0]===6?"Marshmallow":pe[0]===7?"Nougat":pe[0]===8?"Oreo":pe[0]===9?"Pie":void 0}static getVersionPrecision(oe){return oe.split(".").length}static compareVersions(oe,pe,re=!1){const ye=Pe.getVersionPrecision(oe),nt=Pe.getVersionPrecision(pe);let Ht=Math.max(ye,nt),on=0;const Mn=Pe.map([oe,pe],Zn=>{const to=Ht-Pe.getVersionPrecision(Zn),Yr=Zn+new Array(to+1).join(".0");return Pe.map(Yr.split("."),Oo=>new Array(20-Oo.length).join("0")+Oo).reverse()});for(re&&(on=Ht-Math.min(ye,nt)),Ht-=1;Ht>=on;){if(Mn[0][Ht]>Mn[1][Ht])return 1;if(Mn[0][Ht]===Mn[1][Ht]){if(Ht===on)return 0;Ht-=1}else if(Mn[0][Ht]<Mn[1][Ht])return-1}}static map(oe,pe){const re=[];let ye;if(Array.prototype.map)return Array.prototype.map.call(oe,pe);for(ye=0;ye<oe.length;ye+=1)re.push(pe(oe[ye]));return re}static find(oe,pe){let re,ye;if(Array.prototype.find)return Array.prototype.find.call(oe,pe);for(re=0,ye=oe.length;re<ye;re+=1){const nt=oe[re];if(pe(nt,re))return nt}}static assign(oe,...pe){const re=oe;let ye,nt;if(Object.assign)return Object.assign(oe,...pe);for(ye=0,nt=pe.length;ye<nt;ye+=1){const Ht=pe[ye];typeof Ht=="object"&&Ht!==null&&Object.keys(Ht).forEach(on=>{re[on]=Ht[on]})}return oe}static getBrowserAlias(oe){return X[oe]}static getBrowserTypeByAlias(oe){return ie[oe]||""}}const Ne=/version\/(\d+(\.?_?\d+)+)/i,ce=[{test:[/googlebot/i],describe(J){const oe={name:"Googlebot"},pe=Pe.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,J)||Pe.getFirstMatch(Ne,J);return pe&&(oe.version=pe),oe}},{test:[/opera/i],describe(J){const oe={name:"Opera"},pe=Pe.getFirstMatch(Ne,J)||Pe.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,J);return pe&&(oe.version=pe),oe}},{test:[/opr\/|opios/i],describe(J){const oe={name:"Opera"},pe=Pe.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,J)||Pe.getFirstMatch(Ne,J);return pe&&(oe.version=pe),oe}},{test:[/SamsungBrowser/i],describe(J){const oe={name:"Samsung Internet for Android"},pe=Pe.getFirstMatch(Ne,J)||Pe.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,J);return pe&&(oe.version=pe),oe}},{test:[/Whale/i],describe(J){const oe={name:"NAVER Whale Browser"},pe=Pe.getFirstMatch(Ne,J)||Pe.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,J);return pe&&(oe.version=pe),oe}},{test:[/MZBrowser/i],describe(J){const oe={name:"MZ Browser"},pe=Pe.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,J)||Pe.getFirstMatch(Ne,J);return pe&&(oe.version=pe),oe}},{test:[/focus/i],describe(J){const oe={name:"Focus"},pe=Pe.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,J)||Pe.getFirstMatch(Ne,J);return pe&&(oe.version=pe),oe}},{test:[/swing/i],describe(J){const oe={name:"Swing"},pe=Pe.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,J)||Pe.getFirstMatch(Ne,J);return pe&&(oe.version=pe),oe}},{test:[/coast/i],describe(J){const oe={name:"Opera Coast"},pe=Pe.getFirstMatch(Ne,J)||Pe.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,J);return pe&&(oe.version=pe),oe}},{test:[/yabrowser/i],describe(J){const oe={name:"Yandex Browser"},pe=Pe.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,J)||Pe.getFirstMatch(Ne,J);return pe&&(oe.version=pe),oe}},{test:[/ucbrowser/i],describe(J){const oe={name:"UC Browser"},pe=Pe.getFirstMatch(Ne,J)||Pe.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,J);return pe&&(oe.version=pe),oe}},{test:[/Maxthon|mxios/i],describe(J){const oe={name:"Maxthon"},pe=Pe.getFirstMatch(Ne,J)||Pe.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,J);return pe&&(oe.version=pe),oe}},{test:[/epiphany/i],describe(J){const oe={name:"Epiphany"},pe=Pe.getFirstMatch(Ne,J)||Pe.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,J);return pe&&(oe.version=pe),oe}},{test:[/puffin/i],describe(J){const oe={name:"Puffin"},pe=Pe.getFirstMatch(Ne,J)||Pe.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,J);return pe&&(oe.version=pe),oe}},{test:[/sleipnir/i],describe(J){const oe={name:"Sleipnir"},pe=Pe.getFirstMatch(Ne,J)||Pe.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,J);return pe&&(oe.version=pe),oe}},{test:[/k-meleon/i],describe(J){const oe={name:"K-Meleon"},pe=Pe.getFirstMatch(Ne,J)||Pe.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,J);return pe&&(oe.version=pe),oe}},{test:[/micromessenger/i],describe(J){const oe={name:"WeChat"},pe=Pe.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,J)||Pe.getFirstMatch(Ne,J);return pe&&(oe.version=pe),oe}},{test:[/qqbrowser/i],describe(J){const oe={name:/qqbrowserlite/i.test(J)?"QQ Browser Lite":"QQ Browser"},pe=Pe.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,J)||Pe.getFirstMatch(Ne,J);return pe&&(oe.version=pe),oe}},{test:[/msie|trident/i],describe(J){const oe={name:"Internet Explorer"},pe=Pe.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,J);return pe&&(oe.version=pe),oe}},{test:[/\sedg\//i],describe(J){const oe={name:"Microsoft Edge"},pe=Pe.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,J);return pe&&(oe.version=pe),oe}},{test:[/edg([ea]|ios)/i],describe(J){const oe={name:"Microsoft Edge"},pe=Pe.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,J);return pe&&(oe.version=pe),oe}},{test:[/vivaldi/i],describe(J){const oe={name:"Vivaldi"},pe=Pe.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,J);return pe&&(oe.version=pe),oe}},{test:[/seamonkey/i],describe(J){const oe={name:"SeaMonkey"},pe=Pe.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,J);return pe&&(oe.version=pe),oe}},{test:[/sailfish/i],describe(J){const oe={name:"Sailfish"},pe=Pe.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,J);return pe&&(oe.version=pe),oe}},{test:[/silk/i],describe(J){const oe={name:"Amazon Silk"},pe=Pe.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,J);return pe&&(oe.version=pe),oe}},{test:[/phantom/i],describe(J){const oe={name:"PhantomJS"},pe=Pe.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,J);return pe&&(oe.version=pe),oe}},{test:[/slimerjs/i],describe(J){const oe={name:"SlimerJS"},pe=Pe.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,J);return pe&&(oe.version=pe),oe}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(J){const oe={name:"BlackBerry"},pe=Pe.getFirstMatch(Ne,J)||Pe.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,J);return pe&&(oe.version=pe),oe}},{test:[/(web|hpw)[o0]s/i],describe(J){const oe={name:"WebOS Browser"},pe=Pe.getFirstMatch(Ne,J)||Pe.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,J);return pe&&(oe.version=pe),oe}},{test:[/bada/i],describe(J){const oe={name:"Bada"},pe=Pe.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,J);return pe&&(oe.version=pe),oe}},{test:[/tizen/i],describe(J){const oe={name:"Tizen"},pe=Pe.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,J)||Pe.getFirstMatch(Ne,J);return pe&&(oe.version=pe),oe}},{test:[/qupzilla/i],describe(J){const oe={name:"QupZilla"},pe=Pe.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,J)||Pe.getFirstMatch(Ne,J);return pe&&(oe.version=pe),oe}},{test:[/firefox|iceweasel|fxios/i],describe(J){const oe={name:"Firefox"},pe=Pe.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,J);return pe&&(oe.version=pe),oe}},{test:[/electron/i],describe(J){const oe={name:"Electron"},pe=Pe.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,J);return pe&&(oe.version=pe),oe}},{test:[/chromium/i],describe(J){const oe={name:"Chromium"},pe=Pe.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,J)||Pe.getFirstMatch(Ne,J);return pe&&(oe.version=pe),oe}},{test:[/chrome|crios|crmo/i],describe(J){const oe={name:"Chrome"},pe=Pe.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,J);return pe&&(oe.version=pe),oe}},{test:[/GSA/i],describe(J){const oe={name:"Google Search"},pe=Pe.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,J);return pe&&(oe.version=pe),oe}},{test(J){const oe=!J.test(/like android/i),pe=J.test(/android/i);return oe&&pe},describe(J){const oe={name:"Android Browser"},pe=Pe.getFirstMatch(Ne,J);return pe&&(oe.version=pe),oe}},{test:[/playstation 4/i],describe(J){const oe={name:"PlayStation 4"},pe=Pe.getFirstMatch(Ne,J);return pe&&(oe.version=pe),oe}},{test:[/safari|applewebkit/i],describe(J){const oe={name:"Safari"},pe=Pe.getFirstMatch(Ne,J);return pe&&(oe.version=pe),oe}},{test:[/.*/i],describe(J){const oe=J.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:Pe.getFirstMatch(oe,J),version:Pe.getSecondMatch(oe,J)}}}];var q=[{test:[/Roku\/DVP/],describe(J){const oe=Pe.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,J);return{name:Le.Roku,version:oe}}},{test:[/windows phone/i],describe(J){const oe=Pe.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,J);return{name:Le.WindowsPhone,version:oe}}},{test:[/windows /i],describe(J){const oe=Pe.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,J),pe=Pe.getWindowsVersionName(oe);return{name:Le.Windows,version:oe,versionName:pe}}},{test:[/Macintosh(.*?) FxiOS(.*?) Version\//],describe(J){const oe=Pe.getSecondMatch(/(Version\/)(\d[\d.]+)/,J);return{name:Le.iOS,version:oe}}},{test:[/macintosh/i],describe(J){const oe=Pe.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,J).replace(/[_\s]/g,"."),pe=Pe.getMacOSVersionName(oe),re={name:Le.MacOS,version:oe};return pe&&(re.versionName=pe),re}},{test:[/(ipod|iphone|ipad)/i],describe(J){const oe=Pe.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,J).replace(/[_\s]/g,".");return{name:Le.iOS,version:oe}}},{test(J){const oe=!J.test(/like android/i),pe=J.test(/android/i);return oe&&pe},describe(J){const oe=Pe.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,J),pe=Pe.getAndroidVersionName(oe),re={name:Le.Android,version:oe};return pe&&(re.versionName=pe),re}},{test:[/(web|hpw)[o0]s/i],describe(J){const oe=Pe.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,J),pe={name:Le.WebOS};return oe&&oe.length&&(pe.version=oe),pe}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(J){const oe=Pe.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,J)||Pe.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,J)||Pe.getFirstMatch(/\bbb(\d+)/i,J);return{name:Le.BlackBerry,version:oe}}},{test:[/bada/i],describe(J){const oe=Pe.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,J);return{name:Le.Bada,version:oe}}},{test:[/tizen/i],describe(J){const oe=Pe.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,J);return{name:Le.Tizen,version:oe}}},{test:[/linux/i],describe:()=>({name:Le.Linux})},{test:[/CrOS/],describe:()=>({name:Le.ChromeOS})},{test:[/PlayStation 4/],describe(J){const oe=Pe.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,J);return{name:Le.PlayStation4,version:oe}}}],te=[{test:[/googlebot/i],describe:()=>({type:"bot",vendor:"Google"})},{test:[/huawei/i],describe(J){const oe=Pe.getFirstMatch(/(can-l01)/i,J)&&"Nova",pe={type:Ce.mobile,vendor:"Huawei"};return oe&&(pe.model=oe),pe}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:()=>({type:Ce.tablet,vendor:"Nexus"})},{test:[/ipad/i],describe:()=>({type:Ce.tablet,vendor:"Apple",model:"iPad"})},{test:[/Macintosh(.*?) FxiOS(.*?) Version\//],describe:()=>({type:Ce.tablet,vendor:"Apple",model:"iPad"})},{test:[/kftt build/i],describe:()=>({type:Ce.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"})},{test:[/silk/i],describe:()=>({type:Ce.tablet,vendor:"Amazon"})},{test:[/tablet(?! pc)/i],describe:()=>({type:Ce.tablet})},{test(J){const oe=J.test(/ipod|iphone/i),pe=J.test(/like (ipod|iphone)/i);return oe&&!pe},describe(J){const oe=Pe.getFirstMatch(/(ipod|iphone)/i,J);return{type:Ce.mobile,vendor:"Apple",model:oe}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:()=>({type:Ce.mobile,vendor:"Nexus"})},{test:[/[^-]mobi/i],describe:()=>({type:Ce.mobile})},{test:J=>J.getBrowserName(!0)==="blackberry",describe:()=>({type:Ce.mobile,vendor:"BlackBerry"})},{test:J=>J.getBrowserName(!0)==="bada",describe:()=>({type:Ce.mobile})},{test:J=>J.getBrowserName()==="windows phone",describe:()=>({type:Ce.mobile,vendor:"Microsoft"})},{test(J){const oe=Number(String(J.getOSVersion()).split(".")[0]);return J.getOSName(!0)==="android"&&oe>=3},describe:()=>({type:Ce.tablet})},{test:J=>J.getOSName(!0)==="android",describe:()=>({type:Ce.mobile})},{test:J=>J.getOSName(!0)==="macos",describe:()=>({type:Ce.desktop,vendor:"Apple"})},{test:J=>J.getOSName(!0)==="windows",describe:()=>({type:Ce.desktop})},{test:J=>J.getOSName(!0)==="linux",describe:()=>({type:Ce.desktop})},{test:J=>J.getOSName(!0)==="playstation 4",describe:()=>({type:Ce.tv})},{test:J=>J.getOSName(!0)==="roku",describe:()=>({type:Ce.tv})}],ue=[{test:J=>J.getBrowserName(!0)==="microsoft edge",describe(J){if(/\sedg\//i.test(J))return{name:Ae.Blink};const oe=Pe.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,J);return{name:Ae.EdgeHTML,version:oe}}},{test:[/trident/i],describe(J){const oe={name:Ae.Trident},pe=Pe.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,J);return pe&&(oe.version=pe),oe}},{test:J=>J.test(/presto/i),describe(J){const oe={name:Ae.Presto},pe=Pe.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,J);return pe&&(oe.version=pe),oe}},{test(J){const oe=J.test(/gecko/i),pe=J.test(/like gecko/i);return oe&&!pe},describe(J){const oe={name:Ae.Gecko},pe=Pe.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,J);return pe&&(oe.version=pe),oe}},{test:[/(apple)?webkit\/537\.36/i],describe:()=>({name:Ae.Blink})},{test:[/(apple)?webkit/i],describe(J){const oe={name:Ae.WebKit},pe=Pe.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,J);return pe&&(oe.version=pe),oe}}];class We{constructor(oe,pe=!1){if(oe==null||oe==="")throw new Error("UserAgent parameter can't be empty");this._ua=oe,this.parsedResult={},pe!==!0&&this.parse()}getUA(){return this._ua}test(oe){return oe.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const oe=Pe.find(ce,pe=>{if(typeof pe.test=="function")return pe.test(this);if(pe.test instanceof Array)return pe.test.some(re=>this.test(re));throw new Error("Browser's test function is not valid")});return oe&&(this.parsedResult.browser=oe.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(oe){return oe?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const oe=Pe.find(q,pe=>{if(typeof pe.test=="function")return pe.test(this);if(pe.test instanceof Array)return pe.test.some(re=>this.test(re));throw new Error("Browser's test function is not valid")});return oe&&(this.parsedResult.os=oe.describe(this.getUA())),this.parsedResult.os}getOSName(oe){const{name:pe}=this.getOS();return oe?String(pe).toLowerCase()||"":pe||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(oe=!1){const{type:pe}=this.getPlatform();return oe?String(pe).toLowerCase()||"":pe||""}parsePlatform(){this.parsedResult.platform={};const oe=Pe.find(te,pe=>{if(typeof pe.test=="function")return pe.test(this);if(pe.test instanceof Array)return pe.test.some(re=>this.test(re));throw new Error("Browser's test function is not valid")});return oe&&(this.parsedResult.platform=oe.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(oe){return oe?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const oe=Pe.find(ue,pe=>{if(typeof pe.test=="function")return pe.test(this);if(pe.test instanceof Array)return pe.test.some(re=>this.test(re));throw new Error("Browser's test function is not valid")});return oe&&(this.parsedResult.engine=oe.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return Pe.assign({},this.parsedResult)}satisfies(oe){const pe={};let re=0;const ye={};let nt=0;if(Object.keys(oe).forEach(Ht=>{const on=oe[Ht];typeof on=="string"?(ye[Ht]=on,nt+=1):typeof on=="object"&&(pe[Ht]=on,re+=1)}),re>0){const Ht=Object.keys(pe),on=Pe.find(Ht,Zn=>this.isOS(Zn));if(on){const Zn=this.satisfies(pe[on]);if(Zn!==void 0)return Zn}const Mn=Pe.find(Ht,Zn=>this.isPlatform(Zn));if(Mn){const Zn=this.satisfies(pe[Mn]);if(Zn!==void 0)return Zn}}if(nt>0){const Ht=Object.keys(ye),on=Pe.find(Ht,Mn=>this.isBrowser(Mn,!0));if(on!==void 0)return this.compareVersion(ye[on])}}isBrowser(oe,pe=!1){const re=this.getBrowserName().toLowerCase();let ye=oe.toLowerCase();const nt=Pe.getBrowserTypeByAlias(ye);return pe&&nt&&(ye=nt.toLowerCase()),ye===re}compareVersion(oe){let pe=[0],re=oe,ye=!1;const nt=this.getBrowserVersion();if(typeof nt=="string")return oe[0]===">"||oe[0]==="<"?(re=oe.substr(1),oe[1]==="="?(ye=!0,re=oe.substr(2)):pe=[],oe[0]===">"?pe.push(1):pe.push(-1)):oe[0]==="="?re=oe.substr(1):oe[0]==="~"&&(ye=!0,re=oe.substr(1)),pe.indexOf(Pe.compareVersions(nt,re,ye))>-1}isOS(oe){return this.getOSName(!0)===String(oe).toLowerCase()}isPlatform(oe){return this.getPlatformType(!0)===String(oe).toLowerCase()}isEngine(oe){return this.getEngineName(!0)===String(oe).toLowerCase()}is(oe){return this.isBrowser(oe)||this.isOS(oe)||this.isPlatform(oe)}some(oe=[]){return oe.some(pe=>this.is(pe))}}var ot="new",ze="loading",vt="joining-meeting",Wt="joined-meeting",zt="left-meeting",at="error",Me="blocked",Be="off",Xe="sendable",Te="loading",we="interrupted",De="playable",Ie="unknown",He="full",Ve="lobby",z="none",se="base",Se="*",Oe="ejected",ge="nbf-room",je="nbf-token",it="exp-room",Tt="exp-token",sn="meeting-full",ht="cam-in-use",Nt="mic-in-use",wt="cam-mic-in-use",yt="permissions",Qe="undefined-mediadevices",At="not-found",jt="constraints",ke="unknown",tn="iframe-ready-for-launch-config",Pn="iframe-launch-config",Ft="theme-updated",lt="loading",Rt="load-attempt-failed",ln="loaded",Mt="started-camera",$t="camera-error",nn="joining-meeting",Bt="joined-meeting",Kt="left-meeting",Sn="available-devices-updated",Qn="participant-joined",rr="participant-updated",Mr="participant-left",zr="participant-counts-updated",dr="access-state-updated",Rr="meeting-session-updated",_r="meeting-session-state-updated",ro="meeting-session-data-error",Dn="waiting-participant-added",ut="waiting-participant-updated",fn="waiting-participant-removed",On="track-started",Ot="track-stopped",kt="transcription-started",Zt="transcription-stopped",Vn="transcription-error",Gn="recording-started",tr="recording-stopped",rn="recording-stats",_n="recording-error",Yn="recording-upload-completed",cr="recording-data",Jt="app-message",cn="input-event",bn="remote-media-player-started",zn="remote-media-player-updated",Rn="remote-media-player-stopped",xn="local-screen-share-started",mr="local-screen-share-stopped",Or="active-speaker-change",Lt="active-speaker-mode-change",qt="network-quality-change",wn="network-connection",$n="fullscreen",Wn="exited-fullscreen",Jn="live-streaming-started",Tr="live-streaming-stopped",Qr="live-streaming-error",ao="lang-updated",oo="receive-settings-updated",eo="input-settings-updated",bo="nonfatal-error",zo="error",Eo=4096,Co="daily-custom-track",Mo={NONE:"none",BGBLUR:"background-blur",BGIMAGE:"background-image"},ft={PLAY:"play",PAUSE:"pause"},qe=10,rt=["jpg","png","jpeg"],mt="add-endpoints",un="remove-endpoints";function yn(){return!An()&&typeof window!="undefined"&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:""}function An(){return typeof navigator!="undefined"&&navigator.product&&navigator.product==="ReactNative"}function Je(){return navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia}function St(){return!!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)&&function(J,oe){if(!J||!oe)return!0;switch(J){case"Chrome":return oe.major>=75;case"Safari":return RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection")&&!(oe.major===13&&oe.minor===0&&oe.point===0);case"Firefox":return oe.major>=67}return!0}(fr(),function(){switch(fr()){case"Chrome":return er();case"Safari":return ur();case"Firefox":return br();case"Edge":return function(){var J=0,oe=0;if(typeof window!="undefined"){var pe=yn(),re=pe.match(/Edge\/(\d+).(\d+)/);if(re)try{J=parseInt(re[1]),oe=parseInt(re[2])}catch(ye){}}return{major:J,minor:oe}}()}}())}function Gt(){if(An()||!document)return!1;var J=document.createElement("iframe");return!!J.requestFullscreen||!!J.webkitRequestFullscreen}var vn=["Chrome","Firefox"];function kn(){return!An()&&!function(){var J=yn();if(J.match(/Mobi/)||J.match(/Android/)||yn().match(/DailyAnd\//))return!0}()&&vn.includes(fr())}function or(){return Je()&&!function(){var J,oe=fr();if(!yn())return!0;switch(oe){case"Chrome":return(J=er()).major&&J.major>0&&J.major<61;case"Firefox":return(J=br()).major<78;case"Safari":return(J=ur()).major<12;default:return!0}}()}function fr(){if(typeof window!="undefined"){var J=yn();return Ln()?"Safari":J.indexOf("Edge")>-1?"Edge":J.match(/Chrome\//)?"Chrome":J.indexOf("Safari")>-1?"Safari":J.indexOf("Firefox")>-1?"Firefox":J.indexOf("MSIE")>-1||J.indexOf(".NET")>-1?"IE":"Unknown Browser"}}function er(){var J=0,oe=0,pe=0,re=0,ye=!1;if(typeof window!="undefined"){var nt=yn(),Ht=nt.match(/Chrome\/(\d+).(\d+).(\d+).(\d+)/);if(Ht)try{J=parseInt(Ht[1]),oe=parseInt(Ht[2]),pe=parseInt(Ht[3]),re=parseInt(Ht[4]),ye=nt.indexOf("OPR/")>-1}catch(on){}}return{major:J,minor:oe,build:pe,patch:re,opera:ye}}function Ln(){return!!yn().match(/iPad|iPhone|iPod/i)&&Je()}function ur(){var J=0,oe=0,pe=0;if(typeof window!="undefined"){var re=yn().match(/Version\/(\d+).(\d+)(.(\d+))?/);if(re)try{J=parseInt(re[1]),oe=parseInt(re[2]),pe=parseInt(re[4])}catch(ye){}else Ln()&&(J=14,oe=0,pe=3)}return{major:J,minor:oe,point:pe}}function br(){var J=0,oe=0;if(typeof window!="undefined"){var pe=yn().match(/Firefox\/(\d+).(\d+)/);if(pe)try{J=parseInt(pe[1]),oe=parseInt(pe[2])}catch(re){}}return{major:J,minor:oe}}function et(){return Date.now()+Math.random().toString()}function Ge(){throw new Error("Method must be implemented in subclass")}function tt(){return window._dailyConfig&&window._dailyConfig.callObjectBundleUrlOverride?window._dailyConfig.callObjectBundleUrlOverride:"https://c.daily.co/call-machine/versioned/".concat("0.35.1","/static/call-machine-object-bundle.js")}function Pt(J){try{new URL(J)}catch(oe){return!1}return!0}var gt=function(){function J(){f(this,J)}return g(J,[{key:"addListenerForMessagesFromCallMachine",value:function(oe,pe,re){Ge()}},{key:"addListenerForMessagesFromDailyJs",value:function(oe,pe,re){Ge()}},{key:"sendMessageToCallMachine",value:function(oe,pe,re,ye){Ge()}},{key:"sendMessageToDailyJs",value:function(oe,pe,re){Ge()}},{key:"removeListener",value:function(oe){Ge()}}]),J}();function me(J,oe){var pe=Object.keys(J);if(Object.getOwnPropertySymbols){var re=Object.getOwnPropertySymbols(J);oe&&(re=re.filter(function(ye){return Object.getOwnPropertyDescriptor(J,ye).enumerable})),pe.push.apply(pe,re)}return pe}function fe(J){for(var oe=1;oe<arguments.length;oe++){var pe=arguments[oe]!=null?arguments[oe]:{};oe%2?me(Object(pe),!0).forEach(function(re){y(J,re,pe[re])}):Object.getOwnPropertyDescriptors?Object.defineProperties(J,Object.getOwnPropertyDescriptors(pe)):me(Object(pe)).forEach(function(re){Object.defineProperty(J,re,Object.getOwnPropertyDescriptor(pe,re))})}return J}function Ee(J){var oe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(pe){return!1}}();return function(){var pe,re=j(J);if(oe){var ye=j(this).constructor;pe=Reflect.construct(re,arguments,ye)}else pe=re.apply(this,arguments);return v(this,pe)}}var Ue=function(J){i(pe,gt);var oe=Ee(pe);function pe(){var re;return f(this,pe),(re=oe.call(this))._wrappedListeners={},re._messageCallbacks={},re}return g(pe,[{key:"addListenerForMessagesFromCallMachine",value:function(re,ye,nt){var Ht=this,on=function(Mn){if(Mn.data&&Mn.data.what==="iframe-call-message"&&(!Mn.data.callFrameId||Mn.data.callFrameId===ye)&&(!Mn.data.from||Mn.data.from!=="module")){var Zn=fe({},Mn.data);if(delete Zn.from,Zn.callbackStamp&&Ht._messageCallbacks[Zn.callbackStamp]){var to=Zn.callbackStamp;Ht._messageCallbacks[to].call(nt,Zn),delete Ht._messageCallbacks[to]}delete Zn.what,delete Zn.callbackStamp,re.call(nt,Zn)}};this._wrappedListeners[re]=on,window.addEventListener("message",on)}},{key:"addListenerForMessagesFromDailyJs",value:function(re,ye,nt){var Ht=function(on){if(!(!on.data||on.data.what!=="iframe-call-message"||!on.data.action||on.data.from&&on.data.from!=="module"||on.data.callFrameId&&ye&&on.data.callFrameId!==ye)){var Mn=on.data;re.call(nt,Mn)}};this._wrappedListeners[re]=Ht,window.addEventListener("message",Ht)}},{key:"sendMessageToCallMachine",value:function(re,ye,nt,Ht){var on=fe({},re);if(on.what="iframe-call-message",on.from="module",on.callFrameId=Ht,ye){var Mn=et();this._messageCallbacks[Mn]=ye,on.callbackStamp=Mn}(nt?nt.contentWindow:window).postMessage(on,"*")}},{key:"sendMessageToDailyJs",value:function(re,ye,nt){re.what="iframe-call-message",re.callFrameId=nt,re.from="embedded",(ye?window:window.parent).postMessage(re,"*")}},{key:"removeListener",value:function(re){var ye=this._wrappedListeners[re];ye&&(window.removeEventListener("message",ye),delete this._wrappedListeners[re])}},{key:"forwardPackagedMessageToCallMachine",value:function(re,ye,nt){var Ht=fe({},re);Ht.callFrameId=nt,(ye?ye.contentWindow:window).postMessage(Ht,"*")}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(re,ye){var nt=function(Ht){if(Ht.data&&Ht.data.what==="iframe-call-message"&&(!Ht.data.callFrameId||Ht.data.callFrameId===ye)&&(!Ht.data.from||Ht.data.from!=="module")){var on=Ht.data;re(on)}};return this._wrappedListeners[re]=nt,window.addEventListener("message",nt),re}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(re){var ye=this._wrappedListeners[re];ye&&(window.removeEventListener("message",ye),delete this._wrappedListeners[re])}}]),pe}();function Ye(J){var oe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(pe){return!1}}();return function(){var pe,re=j(J);if(oe){var ye=j(this).constructor;pe=Reflect.construct(re,arguments,ye)}else pe=re.apply(this,arguments);return v(this,pe)}}var ct=function(J){i(pe,gt);var oe=Ye(pe);function pe(){var re;return f(this,pe),re=oe.call(this),e.callMachineToDailyJsEmitter=e.callMachineToDailyJsEmitter||new a.EventEmitter,e.dailyJsToCallMachineEmitter=e.dailyJsToCallMachineEmitter||new a.EventEmitter,re._wrappedListeners={},re._messageCallbacks={},re}return g(pe,[{key:"addListenerForMessagesFromCallMachine",value:function(re,ye,nt){this._addListener(re,e.callMachineToDailyJsEmitter,nt,"received call machine message")}},{key:"addListenerForMessagesFromDailyJs",value:function(re,ye,nt){this._addListener(re,e.dailyJsToCallMachineEmitter,nt,"received daily-js message")}},{key:"sendMessageToCallMachine",value:function(re,ye){this._sendMessage(re,e.dailyJsToCallMachineEmitter,"sending message to call machine",ye)}},{key:"sendMessageToDailyJs",value:function(re){this._sendMessage(re,e.callMachineToDailyJsEmitter,"sending message to daily-js")}},{key:"removeListener",value:function(re){var ye=this._wrappedListeners[re];ye&&(e.callMachineToDailyJsEmitter.removeListener("message",ye),e.dailyJsToCallMachineEmitter.removeListener("message",ye),delete this._wrappedListeners[re])}},{key:"_addListener",value:function(re,ye,nt,Ht){var on=this,Mn=function(Zn){if(Zn.callbackStamp&&on._messageCallbacks[Zn.callbackStamp]){var to=Zn.callbackStamp;on._messageCallbacks[to].call(nt,Zn),delete on._messageCallbacks[to]}re.call(nt,Zn)};this._wrappedListeners[re]=Mn,ye.addListener("message",Mn)}},{key:"_sendMessage",value:function(re,ye,nt,Ht){if(Ht){var on=et();this._messageCallbacks[on]=Ht,re.callbackStamp=on}ye.emit("message",re)}}]),pe}(),Yt=Object.prototype.hasOwnProperty;function Qt(J,oe,pe){for(pe of J.keys())if(En(pe,oe))return pe}function En(J,oe){var pe,re,ye;if(J===oe)return!0;if(J&&oe&&(pe=J.constructor)===oe.constructor){if(pe===Date)return J.getTime()===oe.getTime();if(pe===RegExp)return J.toString()===oe.toString();if(pe===Array){if((re=J.length)===oe.length)for(;re--&&En(J[re],oe[re]););return re===-1}if(pe===Set){if(J.size!==oe.size)return!1;for(re of J)if((ye=re)&&typeof ye=="object"&&!(ye=Qt(oe,ye))||!oe.has(ye))return!1;return!0}if(pe===Map){if(J.size!==oe.size)return!1;for(re of J)if((ye=re[0])&&typeof ye=="object"&&!(ye=Qt(oe,ye))||!En(re[1],oe.get(ye)))return!1;return!0}if(pe===ArrayBuffer)J=new Uint8Array(J),oe=new Uint8Array(oe);else if(pe===DataView){if((re=J.byteLength)===oe.byteLength)for(;re--&&J.getInt8(re)===oe.getInt8(re););return re===-1}if(ArrayBuffer.isView(J)){if((re=J.byteLength)===oe.byteLength)for(;re--&&J[re]===oe[re];);return re===-1}if(!pe||typeof J=="object"){for(pe in re=0,J)if(Yt.call(J,pe)&&++re&&!Yt.call(oe,pe)||!(pe in oe&&En(J[pe],oe[pe])))return!1;return Object.keys(oe).length===re}}return J!=J&&oe!=oe}var hn="replace",In=[hn,"shallow-merge"],Fn=function(){function J(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},pe=oe.data,re=oe.mergeStrategy,ye=re===void 0?hn:re;f(this,J),J._validateMergeStrategy(ye),J._validateData(pe,ye),this.mergeStrategy=ye,this.data=pe}return g(J,[{key:"isNoOp",value:function(){return J.isNoOpUpdate(this.data,this.mergeStrategy)}}],[{key:"isNoOpUpdate",value:function(oe,pe){return Object.keys(oe).length===0&&pe==="shallow-merge"}},{key:"_validateMergeStrategy",value:function(oe){if(!In.includes(oe))throw Error("Unrecognized mergeStrategy provided. Options are: [".concat(In,"]"))}},{key:"_validateData",value:function(oe,pe){if(!function(on){if(on==null||h(on)!=="object")return!1;var Mn=Object.getPrototypeOf(on);return Mn==null||Mn===Object.prototype}(oe))throw Error("Meeting session data must be a plain (map-like) object");var re;try{if(re=JSON.stringify(oe),pe===hn){var ye=JSON.parse(re);En(ye,oe)||console.warn("The meeting session data provided will be modified when serialized.",ye,oe)}else if(pe==="shallow-merge"){for(var nt in oe)if(Object.hasOwnProperty.call(oe,nt)&&oe[nt]!==void 0){var Ht=JSON.parse(JSON.stringify(oe[nt]));En(oe[nt],Ht)||console.warn("At least one key in the meeting session data provided will be modified when serialized.",Ht,oe[nt])}}}catch(on){throw Error("Meeting session data must be serializable to JSON: ".concat(on))}if(re.length>102400)throw Error("Meeting session data is too large (".concat(re.length," characters). Maximum size suppported is ").concat(102400,"."))}}]),J}(),Un=function(J){return Function.toString.call(J).indexOf("[native code]")!==-1},nr=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(J){return!1}},jr=s(function(J){function oe(pe,re,ye){return nr()?J.exports=oe=Reflect.construct:J.exports=oe=function(nt,Ht,on){var Mn=[null];Mn.push.apply(Mn,Ht);var Zn=new(Function.bind.apply(nt,Mn));return on&&r(Zn,on.prototype),Zn},oe.apply(null,arguments)}J.exports=oe}),Hr=s(function(J){function oe(pe){var re=typeof Map=="function"?new Map:void 0;return J.exports=oe=function(ye){if(ye===null||!Un(ye))return ye;if(typeof ye!="function")throw new TypeError("Super expression must either be null or a function");if(re!==void 0){if(re.has(ye))return re.get(ye);re.set(ye,nt)}function nt(){return jr(ye,arguments,j(this).constructor)}return nt.prototype=Object.create(ye.prototype,{constructor:{value:nt,enumerable:!1,writable:!0,configurable:!0}}),r(nt,ye)},oe(pe)}J.exports=oe});function Br(J){var oe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(pe){return!1}}();return function(){var pe,re=j(J);if(oe){var ye=j(this).constructor;pe=Reflect.construct(re,arguments,ye)}else pe=re.apply(this,arguments);return v(this,pe)}}var Jr=function(){function J(){f(this,J),this._currentLoad=null}return g(J,[{key:"load",value:function(oe,pe,re,ye){if(this.loaded)return window._dailyCallObjectSetup(oe),void re(!0);(function(nt,Ht){window._dailyConfig||(window._dailyConfig={}),window._dailyConfig.callFrameId=nt,window._dailyConfig.avoidEval=Ht})(oe,pe),this._currentLoad&&this._currentLoad.cancel(),this._currentLoad=new Pr(function(){re(!1)},ye),this._currentLoad.start()}},{key:"cancel",value:function(){this._currentLoad&&this._currentLoad.cancel()}},{key:"loaded",get:function(){return this._currentLoad&&this._currentLoad.succeeded}}]),J}(),so=3,Pr=function(){function J(oe,pe){f(this,J),this._attemptsRemaining=so,this._currentAttempt=null,this._successCallback=oe,this._failureCallback=pe}return g(J,[{key:"start",value:function(){var oe=this;this._currentAttempt||(this._currentAttempt=new Cr(this._successCallback,function pe(re){oe._currentAttempt.cancelled||(oe._attemptsRemaining--,oe._failureCallback(re,oe._attemptsRemaining>0),oe._attemptsRemaining<=0||setTimeout(function(){oe._currentAttempt.cancelled||(oe._currentAttempt=new Cr(oe._successCallback,pe),oe._currentAttempt.start())},3e3))}),this._currentAttempt.start())}},{key:"cancel",value:function(){this._currentAttempt&&this._currentAttempt.cancel()}},{key:"cancelled",get:function(){return this._currentAttempt&&this._currentAttempt.cancelled}},{key:"succeeded",get:function(){return this._currentAttempt&&this._currentAttempt.succeeded}}]),J}(),Ur=function(J){i(pe,J);var oe=Br(pe);function pe(){return f(this,pe),oe.apply(this,arguments)}return pe}(Hr(Error)),Cr=function(){function J(oe,pe){f(this,J),this._loadAttemptImpl=An()||!_dailyConfig.avoidEval?new io(oe,pe):new co(oe,pe)}return g(J,[{key:"start",value:function(){var oe=u(function*(){return this._loadAttemptImpl.start()});return function(){return oe.apply(this,arguments)}}()},{key:"cancel",value:function(){this._loadAttemptImpl.cancel()}},{key:"cancelled",get:function(){return this._loadAttemptImpl.cancelled}},{key:"succeeded",get:function(){return this._loadAttemptImpl.succeeded}}]),J}(),io=function(){function J(oe,pe){f(this,J),this.cancelled=!1,this.succeeded=!1,this._networkTimedOut=!1,this._networkTimeout=null,this._iosCache=typeof iOSCallObjectBundleCache!="undefined"&&iOSCallObjectBundleCache,this._refetchHeaders=null,this._successCallback=oe,this._failureCallback=pe}return g(J,[{key:"start",value:function(){var oe=u(function*(){var pe=tt();!(yield this._tryLoadFromIOSCache(pe))&&this._loadFromNetwork(pe)});return function(){return oe.apply(this,arguments)}}()},{key:"cancel",value:function(){clearTimeout(this._networkTimeout),this.cancelled=!0}},{key:"_tryLoadFromIOSCache",value:function(){var oe=u(function*(pe){if(!this._iosCache)return!1;try{var re=yield this._iosCache.get(pe);return!!this.cancelled||!!re&&(re.code?(Function('"use strict";'+re.code)(),this.succeeded=!0,this._successCallback(),!0):(this._refetchHeaders=re.refetchHeaders,!1))}catch(ye){return!1}});return function(pe){return oe.apply(this,arguments)}}()},{key:"_loadFromNetwork",value:function(){var oe=u(function*(pe){var re=this;this._networkTimeout=setTimeout(function(){re._networkTimedOut=!0,re._failureCallback("Timed out (>".concat(2e4," ms) when loading call object bundle ").concat(pe))},2e4);try{var ye=this._refetchHeaders?{headers:this._refetchHeaders}:{},nt=yield fetch(pe,ye);if(clearTimeout(this._networkTimeout),this.cancelled||this._networkTimedOut)throw new Ur;var Ht=yield this._getBundleCodeFromResponse(pe,nt);if(this.cancelled)throw new Ur;Function('"use strict";'+Ht)(),this._iosCache&&this._iosCache.set(pe,Ht,nt.headers),this.succeeded=!0,this._successCallback()}catch(on){if(clearTimeout(this._networkTimeout),on instanceof Ur||this.cancelled||this._networkTimedOut)return;this._failureCallback("Failed to load call object bundle ".concat(pe,": ").concat(on))}});return function(pe){return oe.apply(this,arguments)}}()},{key:"_getBundleCodeFromResponse",value:function(){var oe=u(function*(pe,re){if(re.ok)return yield re.text();if(this._iosCache&&re.status===304)return(yield this._iosCache.renew(pe,re.headers)).code;throw new Error("Received ".concat(re.status," response"))});return function(pe,re){return oe.apply(this,arguments)}}()}]),J}(),co=function(){function J(oe,pe){f(this,J),this.cancelled=!1,this.succeeded=!1,this._successCallback=oe,this._failureCallback=pe,this._attemptId=et(),this._networkTimeout=null,this._scriptElement=null}return g(J,[{key:"start",value:function(){var oe=u(function*(){window._dailyCallMachineLoadWaitlist||(window._dailyCallMachineLoadWaitlist=new Set);var pe=tt();(typeof document=="undefined"?"undefined":h(document))==="object"?this._startLoading(pe):this._failureCallback("Call object bundle must be loaded in a DOM/web context")});return function(){return oe.apply(this,arguments)}}()},{key:"cancel",value:function(){this._stopLoading(),this.cancelled=!0}},{key:"_startLoading",value:function(oe){var pe=this;this._signUpForCallMachineLoadWaitlist(),this._networkTimeout=setTimeout(function(){pe._stopLoading(),pe._failureCallback("Timed out (>".concat(2e4," ms) when loading call object bundle ").concat(oe))},2e4);var re=document.getElementsByTagName("head")[0],ye=document.createElement("script");this._scriptElement=ye,ye.onload=u(function*(){pe._stopLoading(),pe.succeeded=!0,pe._successCallback()}),ye.onerror=function(){var nt=u(function*(Ht){pe._stopLoading(),pe._failureCallback("Failed to load call object bundle ".concat(Ht.target.src))});return function(Ht){return nt.apply(this,arguments)}}(),ye.src=oe,re.appendChild(ye)}},{key:"_stopLoading",value:function(){this._withdrawFromCallMachineLoadWaitlist(),clearTimeout(this._networkTimeout),this._scriptElement&&(this._scriptElement.onload=null,this._scriptElement.onerror=null)}},{key:"_signUpForCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.add(this._attemptId)}},{key:"_withdrawFromCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.delete(this._attemptId)}}]),J}(),Wo=function(J,oe){for(var pe=-1,re=J==null?0:J.length,ye=0,nt=[];++pe<re;){var Ht=J[pe];oe(Ht,pe,J)&&(nt[ye++]=Ht)}return nt},qo=function(J){return function(oe,pe,re){for(var ye=-1,nt=Object(oe),Ht=re(oe),on=Ht.length;on--;){var Mn=Ht[J?on:++ye];if(pe(nt[Mn],Mn,nt)===!1)break}return oe}}(),Jo=function(J,oe){for(var pe=-1,re=Array(J);++pe<J;)re[pe]=oe(pe);return re},Go=typeof O=="object"&&O&&O.Object===Object&&O,ko=typeof self=="object"&&self&&self.Object===Object&&self,Ho=Go||ko||Function("return this")(),Vo=Ho.Symbol,Ti=Object.prototype,dt=Ti.hasOwnProperty,pt=Ti.toString,Xt=Vo?Vo.toStringTag:void 0,Hn=function(J){var oe=dt.call(J,Xt),pe=J[Xt];try{J[Xt]=void 0;var re=!0}catch(nt){}var ye=pt.call(J);return re&&(oe?J[Xt]=pe:delete J[Xt]),ye},ir=Object.prototype.toString,It=function(J){return ir.call(J)},_t="[object Null]",Vt="[object Undefined]",Tn=Vo?Vo.toStringTag:void 0,sr=function(J){return J==null?J===void 0?Vt:_t:Tn&&Tn in Object(J)?Hn(J):It(J)},qn=function(J){return J!=null&&typeof J=="object"},qr="[object Arguments]",Vr=function(J){return qn(J)&&sr(J)==qr},Gr=Object.prototype,$r=Gr.hasOwnProperty,yr=Gr.propertyIsEnumerable,Nr=Vr(function(){return arguments}())?Vr:function(J){return qn(J)&&$r.call(J,"callee")&&!yr.call(J,"callee")},gr=Array.isArray,Xr=function(){return!1},Dt=s(function(J,oe){var pe=oe&&!oe.nodeType&&oe,re=pe&&J&&!J.nodeType&&J,ye=re&&re.exports===pe?Ho.Buffer:void 0,nt=(ye?ye.isBuffer:void 0)||Xr;J.exports=nt}),N=9007199254740991,L=/^(?:0|[1-9]\d*)$/,$=function(J,oe){var pe=typeof J;return!!(oe=oe==null?N:oe)&&(pe=="number"||pe!="symbol"&&L.test(J))&&J>-1&&J%1==0&&J<oe},ne=9007199254740991,ee=function(J){return typeof J=="number"&&J>-1&&J%1==0&&J<=ne},ae={};ae["[object Float32Array]"]=ae["[object Float64Array]"]=ae["[object Int8Array]"]=ae["[object Int16Array]"]=ae["[object Int32Array]"]=ae["[object Uint8Array]"]=ae["[object Uint8ClampedArray]"]=ae["[object Uint16Array]"]=ae["[object Uint32Array]"]=!0,ae["[object Arguments]"]=ae["[object Array]"]=ae["[object ArrayBuffer]"]=ae["[object Boolean]"]=ae["[object DataView]"]=ae["[object Date]"]=ae["[object Error]"]=ae["[object Function]"]=ae["[object Map]"]=ae["[object Number]"]=ae["[object Object]"]=ae["[object RegExp]"]=ae["[object Set]"]=ae["[object String]"]=ae["[object WeakMap]"]=!1;var ve=function(J){return qn(J)&&ee(J.length)&&!!ae[sr(J)]},Re=function(J){return function(oe){return J(oe)}},$e=s(function(J,oe){var pe=oe&&!oe.nodeType&&oe,re=pe&&J&&!J.nodeType&&J,ye=re&&re.exports===pe&&Go.process,nt=function(){try{var Ht=re&&re.require&&re.require("util").types;return Ht||ye&&ye.binding&&ye.binding("util")}catch(on){}}();J.exports=nt}),bt=$e&&$e.isTypedArray,Ut=bt?Re(bt):ve,dn=Object.prototype.hasOwnProperty,pn=function(J,oe){var pe=gr(J),re=!pe&&Nr(J),ye=!pe&&!re&&Dt(J),nt=!pe&&!re&&!ye&&Ut(J),Ht=pe||re||ye||nt,on=Ht?Jo(J.length,String):[],Mn=on.length;for(var Zn in J)!oe&&!dn.call(J,Zn)||Ht&&(Zn=="length"||ye&&(Zn=="offset"||Zn=="parent")||nt&&(Zn=="buffer"||Zn=="byteLength"||Zn=="byteOffset")||$(Zn,Mn))||on.push(Zn);return on},jn=Object.prototype,Nn=function(J){var oe=J&&J.constructor;return J===(typeof oe=="function"&&oe.prototype||jn)},Xn=function(J,oe){return function(pe){return J(oe(pe))}}(Object.keys,Object),Lr=Object.prototype.hasOwnProperty,Wr=function(J){if(!Nn(J))return Xn(J);var oe=[];for(var pe in Object(J))Lr.call(J,pe)&&pe!="constructor"&&oe.push(pe);return oe},Kr=function(J){var oe=typeof J;return J!=null&&(oe=="object"||oe=="function")},Zr="[object AsyncFunction]",uo="[object Function]",go="[object GeneratorFunction]",yo="[object Proxy]",vo=function(J){if(!Kr(J))return!1;var oe=sr(J);return oe==uo||oe==go||oe==Zr||oe==yo},Sr=function(J){return J!=null&&ee(J.length)&&!vo(J)},Ro=function(J){return Sr(J)?pn(J):Wr(J)},Po=function(J,oe){return function(pe,re){if(pe==null)return pe;if(!Sr(pe))return J(pe,re);for(var ye=pe.length,nt=oe?ye:-1,Ht=Object(pe);(oe?nt--:++nt<ye)&&re(Ht[nt],nt,Ht)!==!1;);return pe}}(function(J,oe){return J&&qo(J,oe,Ro)}),Yo=function(J,oe){var pe=[];return Po(J,function(re,ye,nt){oe(re,ye,nt)&&pe.push(re)}),pe},lo=function(){this.__data__=[],this.size=0},No=function(J,oe){return J===oe||J!=J&&oe!=oe},Ko=function(J,oe){for(var pe=J.length;pe--;)if(No(J[pe][0],oe))return pe;return-1},Qo=Array.prototype.splice,Xo=function(J){var oe=this.__data__,pe=Ko(oe,J);return!(pe<0||(pe==oe.length-1?oe.pop():Qo.call(oe,pe,1),--this.size,0))},mi=function(J){var oe=this.__data__,pe=Ko(oe,J);return pe<0?void 0:oe[pe][1]},si=function(J){return Ko(this.__data__,J)>-1},li=function(J,oe){var pe=this.__data__,re=Ko(pe,J);return re<0?(++this.size,pe.push([J,oe])):pe[re][1]=oe,this};function Io(J){var oe=-1,pe=J==null?0:J.length;for(this.clear();++oe<pe;){var re=J[oe];this.set(re[0],re[1])}}Io.prototype.clear=lo,Io.prototype.delete=Xo,Io.prototype.get=mi,Io.prototype.has=si,Io.prototype.set=li;var pi=Io,Di=function(){this.__data__=new pi,this.size=0},Li=function(J){var oe=this.__data__,pe=oe.delete(J);return this.size=oe.size,pe},Wi=function(J){return this.__data__.get(J)},Xi,di=function(J){return this.__data__.has(J)},yi=Ho["__core-js_shared__"],Ii=(Xi=/[^.]+$/.exec(yi&&yi.keys&&yi.keys.IE_PROTO||""))?"Symbol(src)_1."+Xi:"",qi=function(J){return!!Ii&&Ii in J},sa=Function.prototype.toString,ji=function(J){if(J!=null){try{return sa.call(J)}catch(oe){}try{return J+""}catch(oe){}}return""},wi=/^\[object .+?Constructor\]$/,ti=Function.prototype,Ar=Object.prototype,Ao=ti.toString,Fo=Ar.hasOwnProperty,hi=RegExp("^"+Ao.call(Fo).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fi=function(J){return!(!Kr(J)||qi(J))&&(vo(J)?hi:wi).test(ji(J))},ki=function(J,oe){return J==null?void 0:J[oe]},Vi=function(J,oe){var pe=ki(J,oe);return fi(pe)?pe:void 0},la=Vi(Ho,"Map"),ca=Vi(Object,"create"),Pa=function(){this.__data__=ca?ca(null):{},this.size=0},Ba=function(J){var oe=this.has(J)&&delete this.__data__[J];return this.size-=oe?1:0,oe},Aa="__lodash_hash_undefined__",ja=Object.prototype.hasOwnProperty,ka=function(J){var oe=this.__data__;if(ca){var pe=oe[J];return pe===Aa?void 0:pe}return ja.call(oe,J)?oe[J]:void 0},Va=Object.prototype.hasOwnProperty,Ha=function(J){var oe=this.__data__;return ca?oe[J]!==void 0:Va.call(oe,J)},Ns="__lodash_hash_undefined__",ul=function(J,oe){var pe=this.__data__;return this.size+=this.has(J)?0:1,pe[J]=ca&&oe===void 0?Ns:oe,this};function Ka(J){var oe=-1,pe=J==null?0:J.length;for(this.clear();++oe<pe;){var re=J[oe];this.set(re[0],re[1])}}Ka.prototype.clear=Pa,Ka.prototype.delete=Ba,Ka.prototype.get=ka,Ka.prototype.has=Ha,Ka.prototype.set=ul;var Ls=Ka,ql=function(){this.size=0,this.__data__={hash:new Ls,map:new(la||pi),string:new Ls}},ec=function(J){var oe=typeof J;return oe=="string"||oe=="number"||oe=="symbol"||oe=="boolean"?J!=="__proto__":J===null},$a=function(J,oe){var pe=J.__data__;return ec(oe)?pe[typeof oe=="string"?"string":"hash"]:pe.map},tc=function(J){var oe=$a(this,J).delete(J);return this.size-=oe?1:0,oe},xs=function(J){return $a(this,J).get(J)},Bs=function(J){return $a(this,J).has(J)},Ca=function(J,oe){var pe=$a(this,J),re=pe.size;return pe.set(J,oe),this.size+=pe.size==re?0:1,this};function za(J){var oe=-1,pe=J==null?0:J.length;for(this.clear();++oe<pe;){var re=J[oe];this.set(re[0],re[1])}}za.prototype.clear=ql,za.prototype.delete=tc,za.prototype.get=xs,za.prototype.has=Bs,za.prototype.set=Ca;var Es=za,ls=200,nc=function(J,oe){var pe=this.__data__;if(pe instanceof pi){var re=pe.__data__;if(!la||re.length<ls-1)return re.push([J,oe]),this.size=++pe.size,this;pe=this.__data__=new Es(re)}return pe.set(J,oe),this.size=pe.size,this};function Ga(J){var oe=this.__data__=new pi(J);this.size=oe.size}Ga.prototype.clear=Di,Ga.prototype.delete=Li,Ga.prototype.get=Wi,Ga.prototype.has=di,Ga.prototype.set=nc;var Ya=Ga,dl="__lodash_hash_undefined__",rc=function(J){return this.__data__.set(J,dl),this},cs=function(J){return this.__data__.has(J)};function Ps(J){var oe=-1,pe=J==null?0:J.length;for(this.__data__=new Es;++oe<pe;)this.add(J[oe])}Ps.prototype.add=Ps.prototype.push=rc,Ps.prototype.has=cs;var oc=Ps,ic=function(J,oe){for(var pe=-1,re=J==null?0:J.length;++pe<re;)if(oe(J[pe],pe,J))return!0;return!1},fl=function(J,oe){return J.has(oe)},js=1,hl=2,ra=function(J,oe,pe,re,ye,nt){var Ht=pe&js,on=J.length,Mn=oe.length;if(on!=Mn&&!(Ht&&Mn>on))return!1;var Zn=nt.get(J),to=nt.get(oe);if(Zn&&to)return Zn==oe&&to==J;var Yr=-1,Oo=!0,mo=pe&hl?new oc:void 0;for(nt.set(J,oe),nt.set(oe,J);++Yr<on;){var xo=J[Yr],no=oe[Yr];if(re)var Bo=Ht?re(no,xo,Yr,oe,J,nt):re(xo,no,Yr,J,oe,nt);if(Bo!==void 0){if(Bo)continue;Oo=!1;break}if(mo){if(!ic(oe,function(ho,Ei){if(!fl(mo,Ei)&&(xo===ho||ye(xo,ho,pe,re,nt)))return mo.push(Ei)})){Oo=!1;break}}else if(xo!==no&&!ye(xo,no,pe,re,nt)){Oo=!1;break}}return nt.delete(J),nt.delete(oe),Oo},Us=Ho.Uint8Array,ba=function(J){var oe=-1,pe=Array(J.size);return J.forEach(function(re,ye){pe[++oe]=[ye,re]}),pe},ac=function(J){var oe=-1,pe=Array(J.size);return J.forEach(function(re){pe[++oe]=re}),pe},pl=1,sc=2,Ua="[object Boolean]",lc="[object Date]",cc="[object Error]",uc="[object Map]",fa="[object Number]",dc="[object RegExp]",Fs="[object Set]",Ja="[object String]",Cs="[object Symbol]",fc="[object ArrayBuffer]",Qa="[object DataView]",Zi=Vo?Vo.prototype:void 0,Ma=Zi?Zi.valueOf:void 0,ml=function(J,oe,pe,re,ye,nt,Ht){switch(pe){case Qa:if(J.byteLength!=oe.byteLength||J.byteOffset!=oe.byteOffset)return!1;J=J.buffer,oe=oe.buffer;case fc:return!(J.byteLength!=oe.byteLength||!nt(new Us(J),new Us(oe)));case Ua:case lc:case fa:return No(+J,+oe);case cc:return J.name==oe.name&&J.message==oe.message;case dc:case Ja:return J==oe+"";case uc:var on=ba;case Fs:var Mn=re&pl;if(on||(on=ac),J.size!=oe.size&&!Mn)return!1;var Zn=Ht.get(J);if(Zn)return Zn==oe;re|=sc,Ht.set(J,oe);var to=ra(on(J),on(oe),re,ye,nt,Ht);return Ht.delete(J),to;case Cs:if(Ma)return Ma.call(J)==Ma.call(oe)}return!1},us=function(J,oe){for(var pe=-1,re=oe.length,ye=J.length;++pe<re;)J[ye+pe]=oe[pe];return J},Ws=function(J,oe,pe){var re=oe(J);return gr(J)?re:us(re,pe(J))},ks=function(){return[]},Vs=Object.prototype.propertyIsEnumerable,hc=Object.getOwnPropertySymbols,pc=hc?function(J){return J==null?[]:(J=Object(J),Wo(hc(J),function(oe){return Vs.call(J,oe)}))}:ks,Hs=function(J){return Ws(J,Ro,pc)},oa=1,Ks=Object.prototype.hasOwnProperty,$s=function(J,oe,pe,re,ye,nt){var Ht=pe&oa,on=Hs(J),Mn=on.length;if(Mn!=Hs(oe).length&&!Ht)return!1;for(var Zn=Mn;Zn--;){var to=on[Zn];if(!(Ht?to in oe:Ks.call(oe,to)))return!1}var Yr=nt.get(J),Oo=nt.get(oe);if(Yr&&Oo)return Yr==oe&&Oo==J;var mo=!0;nt.set(J,oe),nt.set(oe,J);for(var xo=Ht;++Zn<Mn;){var no=J[to=on[Zn]],Bo=oe[to];if(re)var ho=Ht?re(Bo,no,to,oe,J,nt):re(no,Bo,to,J,oe,nt);if(!(ho===void 0?no===Bo||ye(no,Bo,pe,re,nt):ho)){mo=!1;break}xo||(xo=to=="constructor")}if(mo&&!xo){var Ei=J.constructor,Ci=oe.constructor;Ei!=Ci&&"constructor"in J&&"constructor"in oe&&!(typeof Ei=="function"&&Ei instanceof Ei&&typeof Ci=="function"&&Ci instanceof Ci)&&(mo=!1)}return nt.delete(J),nt.delete(oe),mo},ds=Vi(Ho,"DataView"),Sa=Vi(Ho,"Promise"),Ia=Vi(Ho,"Set"),Xa=Vi(Ho,"WeakMap"),mc=ji(ds),Za=ji(la),gl=ji(Sa),gc=ji(Ia),bl=ji(Xa),_a=sr;(ds&&_a(new ds(new ArrayBuffer(1)))!="[object DataView]"||la&&_a(new la)!="[object Map]"||Sa&&_a(Sa.resolve())!="[object Promise]"||Ia&&_a(new Ia)!="[object Set]"||Xa&&_a(new Xa)!="[object WeakMap]")&&(_a=function(J){var oe=sr(J),pe=oe=="[object Object]"?J.constructor:void 0,re=pe?ji(pe):"";if(re)switch(re){case mc:return"[object DataView]";case Za:return"[object Map]";case gl:return"[object Promise]";case gc:return"[object Set]";case bl:return"[object WeakMap]"}return oe});var zs=_a,bc=1,vl="[object Arguments]",Ol="[object Array]",fs="[object Object]",vc=Object.prototype.hasOwnProperty,Yc=function(J,oe,pe,re,ye,nt){var Ht=gr(J),on=gr(oe),Mn=Ht?Ol:zs(J),Zn=on?Ol:zs(oe),to=(Mn=Mn==vl?fs:Mn)==fs,Yr=(Zn=Zn==vl?fs:Zn)==fs,Oo=Mn==Zn;if(Oo&&Dt(J)){if(!Dt(oe))return!1;Ht=!0,to=!1}if(Oo&&!to)return nt||(nt=new Ya),Ht||Ut(J)?ra(J,oe,pe,re,ye,nt):ml(J,oe,Mn,pe,re,ye,nt);if(!(pe&bc)){var mo=to&&vc.call(J,"__wrapped__"),xo=Yr&&vc.call(oe,"__wrapped__");if(mo||xo){var no=mo?J.value():J,Bo=xo?oe.value():oe;return nt||(nt=new Ya),ye(no,Bo,pe,re,nt)}}return!!Oo&&(nt||(nt=new Ya),$s(J,oe,pe,re,ye,nt))},Gs=function J(oe,pe,re,ye,nt){return oe===pe||(oe==null||pe==null||!qn(oe)&&!qn(pe)?oe!=oe&&pe!=pe:Yc(oe,pe,re,ye,J,nt))},Oc=1,yc=2,yl=function(J,oe,pe,re){var ye=pe.length,nt=ye,Ht=!re;if(J==null)return!nt;for(J=Object(J);ye--;){var on=pe[ye];if(Ht&&on[2]?on[1]!==J[on[0]]:!(on[0]in J))return!1}for(;++ye<nt;){var Mn=(on=pe[ye])[0],Zn=J[Mn],to=on[1];if(Ht&&on[2]){if(Zn===void 0&&!(Mn in J))return!1}else{var Yr=new Ya;if(re)var Oo=re(Zn,to,Mn,J,oe,Yr);if(!(Oo===void 0?Gs(to,Zn,Oc|yc,re,Yr):Oo))return!1}}return!0},El=function(J){return J==J&&!Kr(J)},qa=function(J){for(var oe=Ro(J),pe=oe.length;pe--;){var re=oe[pe],ye=J[re];oe[pe]=[re,ye,El(ye)]}return oe},Ys=function(J,oe){return function(pe){return pe!=null&&pe[J]===oe&&(oe!==void 0||J in Object(pe))}},Pl=function(J){var oe=qa(J);return oe.length==1&&oe[0][2]?Ys(oe[0][0],oe[0][1]):function(pe){return pe===J||yl(pe,J,oe)}},jl="[object Symbol]",ia=function(J){return typeof J=="symbol"||qn(J)&&sr(J)==jl},Ss=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Cl=/^\w*$/,hs=function(J,oe){if(gr(J))return!1;var pe=typeof J;return!(pe!="number"&&pe!="symbol"&&pe!="boolean"&&J!=null&&!ia(J))||Cl.test(J)||!Ss.test(J)||oe!=null&&J in Object(oe)},Ec="Expected a function";function Ds(J,oe){if(typeof J!="function"||oe!=null&&typeof oe!="function")throw new TypeError(Ec);var pe=function(){var re=arguments,ye=oe?oe.apply(this,re):re[0],nt=pe.cache;if(nt.has(ye))return nt.get(ye);var Ht=J.apply(this,re);return pe.cache=nt.set(ye,Ht)||nt,Ht};return pe.cache=new(Ds.Cache||Es),pe}Ds.Cache=Es;var Ts=Ds,ws=500,Pc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jc=/\\(\\)?/g,Cc=function(J){var oe=Ts(J,function(re){return pe.size===ws&&pe.clear(),re}),pe=oe.cache;return oe}(function(J){var oe=[];return J.charCodeAt(0)===46&&oe.push(""),J.replace(Pc,function(pe,re,ye,nt){oe.push(ye?nt.replace(jc,"$1"):re||pe)}),oe}),ps=function(J,oe){for(var pe=-1,re=J==null?0:J.length,ye=Array(re);++pe<re;)ye[pe]=oe(J[pe],pe,J);return ye},As=1/0,Js=Vo?Vo.prototype:void 0,Sl=Js?Js.toString:void 0,Sc=function J(oe){if(typeof oe=="string")return oe;if(gr(oe))return ps(oe,J)+"";if(ia(oe))return Sl?Sl.call(oe):"";var pe=oe+"";return pe=="0"&&1/oe==-As?"-0":pe},Dc=function(J){return J==null?"":Sc(J)},Dl=function(J,oe){return gr(J)?J:hs(J,oe)?[J]:Cc(Dc(J))},Tc=1/0,ms=function(J){if(typeof J=="string"||ia(J))return J;var oe=J+"";return oe=="0"&&1/J==-Tc?"-0":oe},Qs=function(J,oe){for(var pe=0,re=(oe=Dl(oe,J)).length;J!=null&&pe<re;)J=J[ms(oe[pe++])];return pe&&pe==re?J:void 0},wc=function(J,oe,pe){var re=J==null?void 0:Qs(J,oe);return re===void 0?pe:re},Ac=function(J,oe){return J!=null&&oe in Object(J)},Tl=function(J,oe,pe){for(var re=-1,ye=(oe=Dl(oe,J)).length,nt=!1;++re<ye;){var Ht=ms(oe[re]);if(!(nt=J!=null&&pe(J,Ht)))break;J=J[Ht]}return nt||++re!=ye?nt:!!(ye=J==null?0:J.length)&&ee(ye)&&$(Ht,ye)&&(gr(J)||Nr(J))},Mc=function(J,oe){return J!=null&&Tl(J,oe,Ac)},Ic=1,Xs=2,_c=function(J,oe){return hs(J)&&El(oe)?Ys(ms(J),oe):function(pe){var re=wc(pe,J);return re===void 0&&re===oe?Mc(pe,J):Gs(oe,re,Ic|Xs)}},wl=function(J){return J},es=function(J){return function(oe){return oe==null?void 0:oe[J]}},Ms=function(J){return function(oe){return Qs(oe,J)}},Al=function(J){return hs(J)?es(ms(J)):Ms(J)},Zs=function(J){return typeof J=="function"?J:J==null?wl:typeof J=="object"?gr(J)?_c(J[0],J[1]):Pl(J):Al(J)},Rc=function(J,oe){return(gr(J)?Wo:Yo)(J,Zs(oe))},Nc=function(J,oe){var pe=-1,re=Sr(J)?Array(J.length):[];return Po(J,function(ye,nt,Ht){re[++pe]=oe(ye,nt,Ht)}),re},Lc=function(J,oe){var pe=J.length;for(J.sort(oe);pe--;)J[pe]=J[pe].value;return J},xc=function(J,oe){if(J!==oe){var pe=J!==void 0,re=J===null,ye=J==J,nt=ia(J),Ht=oe!==void 0,on=oe===null,Mn=oe==oe,Zn=ia(oe);if(!on&&!Zn&&!nt&&J>oe||nt&&Ht&&Mn&&!on&&!Zn||re&&Ht&&Mn||!pe&&Mn||!ye)return 1;if(!re&&!nt&&!Zn&&J<oe||Zn&&pe&&ye&&!re&&!nt||on&&pe&&ye||!Ht&&ye||!Mn)return-1}return 0},va=function(J,oe,pe){for(var re=-1,ye=J.criteria,nt=oe.criteria,Ht=ye.length,on=pe.length;++re<Ht;){var Mn=xc(ye[re],nt[re]);if(Mn)return re>=on?Mn:Mn*(pe[re]=="desc"?-1:1)}return J.index-oe.index},Bc=function(J,oe,pe){oe=oe.length?ps(oe,function(nt){return gr(nt)?function(Ht){return Qs(Ht,nt.length===1?nt[0]:nt)}:nt}):[wl];var re=-1;oe=ps(oe,Re(Zs));var ye=Nc(J,function(nt,Ht,on){return{criteria:ps(oe,function(Mn){return Mn(nt)}),index:++re,value:nt}});return Lc(ye,function(nt,Ht){return va(nt,Ht,pe)})},Jc=function(J,oe,pe,re){return J==null?[]:(gr(oe)||(oe=oe==null?[]:[oe]),gr(pe=re?void 0:pe)||(pe=pe==null?[]:[pe]),Bc(J,oe,pe))},ha=function(J,oe,pe){return Uc(J.local,oe,pe)===!0},Fa=function(J,oe,pe){return J.local.streams&&J.local.streams[oe]&&J.local.streams[oe].stream&&J.local.streams[oe].stream["get".concat(pe==="video"?"Video":"Audio","Tracks")]()[0]},gs=function(J,oe,pe,re){var ye=Fc(J,oe,pe,re);return ye&&ye.pendingTrack},Uc=function(J,oe,pe){if(!J)return!1;var re=function(nt){switch(nt){case"avatar":return!0;case"staged":return nt;default:return!!nt}},ye=J.public.subscribedTracks;return ye&&ye[oe]?["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo"].indexOf(pe)===-1&&ye[oe].custom?[!0,"staged"].includes(ye[oe].custom)?re(ye[oe].custom):re(ye[oe].custom[pe]):re(ye[oe][pe]):!ye||re(ye.ALL)},Fc=function(J,oe,pe,re){var ye=Jc(Rc(J.streams,function(nt){return nt.participantId===oe&&nt.type===pe&&nt.pendingTrack&&nt.pendingTrack.kind===re}),"starttime","desc");return ye&&ye[0]},Ml=function(J,oe){var pe=J.local.public.customTracks;if(pe&&pe[oe])return pe[oe].track};function qs(J){for(var oe=store.getState(),pe=0,re=["cam","screen"];pe<re.length;pe++)for(var ye=re[pe],nt=0,Ht=["video","audio"];nt<Ht.length;nt++){var on=Ht[nt],Mn=ye==="cam"?on:"screen".concat(on.charAt(0).toUpperCase()+on.slice(1)),Zn=J.tracks[Mn];if(Zn){var to=J.local?Fa(oe,ye,on):gs(oe,J.session_id,ye,on);Zn.state==="playable"&&(Zn.track=to),Zn.persistentTrack=to}}}function Il(J){try{var oe=store.getState();for(var pe in J.tracks)if(!el(pe)){var re=J.tracks[pe].kind;if(re){var ye=J.tracks[pe];if(ye){var nt=J.local?Ml(oe,pe,re):gs(oe,J.session_id,pe,re);ye.state==="playable"&&(J.tracks[pe].track=nt),ye.persistentTrack=nt}}else console.error("unknown type for custom track")}}catch(Ht){console.error(Ht)}}function el(J){return["video","audio","screenVideo","screenAudio"].includes(J)}function _l(J,oe){var pe=store.getState();if(J.local){if(J.audio)try{J.audioTrack=pe.local.streams.cam.stream.getAudioTracks()[0],J.audioTrack||(J.audio=!1)}catch(Zn){}if(J.video)try{J.videoTrack=pe.local.streams.cam.stream.getVideoTracks()[0],J.videoTrack||(J.video=!1)}catch(Zn){}if(J.screen)try{J.screenVideoTrack=pe.local.streams.screen.stream.getVideoTracks()[0],J.screenAudioTrack=pe.local.streams.screen.stream.getAudioTracks()[0],J.screenVideoTrack||J.screenAudioTrack||(J.screen=!1)}catch(Zn){}}else{var re=!0;try{var ye=pe.participants[J.session_id];ye&&ye.public&&ye.public.rtcType&&ye.public.rtcType.impl==="peer-to-peer"&&ye.private&&!["connected","completed"].includes(ye.private.peeringState)&&(re=!1)}catch(Zn){console.error(Zn)}if(!re)return J.audio=!1,J.audioTrack=!1,J.video=!1,J.videoTrack=!1,J.screen=!1,void(J.screenTrack=!1);try{if(pe.streams,J.audio&&ha(pe,J.session_id,"cam-audio")){var nt=gs(pe,J.session_id,"cam","audio");nt&&(oe&&oe.audioTrack&&oe.audioTrack.id===nt.id?J.audioTrack=nt:nt.muted||(J.audioTrack=nt)),J.audioTrack||(J.audio=!1)}if(J.video&&ha(pe,J.session_id,"cam-video")){var Ht=gs(pe,J.session_id,"cam","video");Ht&&(oe&&oe.videoTrack&&oe.videoTrack.id===Ht.id?J.videoTrack=Ht:Ht.muted||(J.videoTrack=Ht)),J.videoTrack||(J.video=!1)}if(J.screen&&ha(pe,J.session_id,"screen-audio")){var on=gs(pe,J.session_id,"screen","audio");on&&(oe&&oe.screenAudioTrack&&oe.screenAudioTrack.id===on.id?J.screenAudioTrack=on:on.muted||(J.screenAudioTrack=on))}if(J.screen&&ha(pe,J.session_id,"screen-video")){var Mn=gs(pe,J.session_id,"screen","video");Mn&&(oe&&oe.screenVideoTrack&&oe.screenVideoTrack.id===Mn.id?J.screenVideoTrack=Mn:Mn.muted||(J.screenVideoTrack=Mn))}J.screenVideoTrack||J.screenAudioTrack||(J.screen=!1)}catch(Zn){console.error("unexpected error matching up tracks",Zn)}}}function ts(J,oe){var pe=Object.keys(J);if(Object.getOwnPropertySymbols){var re=Object.getOwnPropertySymbols(J);oe&&(re=re.filter(function(ye){return Object.getOwnPropertyDescriptor(J,ye).enumerable})),pe.push.apply(pe,re)}return pe}function xi(J){for(var oe=1;oe<arguments.length;oe++){var pe=arguments[oe]!=null?arguments[oe]:{};oe%2?ts(Object(pe),!0).forEach(function(re){y(J,re,pe[re])}):Object.getOwnPropertyDescriptors?Object.defineProperties(J,Object.getOwnPropertyDescriptors(pe)):ts(Object(pe)).forEach(function(re){Object.defineProperty(J,re,Object.getOwnPropertyDescriptor(pe,re))})}return J}function tl(J){var oe=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(pe){return!1}}();return function(){var pe,re=j(J);if(oe){var ye=j(this).constructor;pe=Reflect.construct(re,arguments,ye)}else pe=re.apply(this,arguments);return v(this,pe)}}function Rl(J,oe){var pe;if(typeof Symbol=="undefined"||J[Symbol.iterator]==null){if(Array.isArray(J)||(pe=function(Mn,Zn){if(!!Mn){if(typeof Mn=="string")return Ra(Mn,Zn);var to=Object.prototype.toString.call(Mn).slice(8,-1);if(to==="Object"&&Mn.constructor&&(to=Mn.constructor.name),to==="Map"||to==="Set")return Array.from(Mn);if(to==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(to))return Ra(Mn,Zn)}}(J))||oe&&J&&typeof J.length=="number"){pe&&(J=pe);var re=0,ye=function(){};return{s:ye,n:function(){return re>=J.length?{done:!0}:{done:!1,value:J[re++]}},e:function(Mn){throw Mn},f:ye}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var nt,Ht=!0,on=!1;return{s:function(){pe=J[Symbol.iterator]()},n:function(){var Mn=pe.next();return Ht=Mn.done,Mn},e:function(Mn){on=!0,nt=Mn},f:function(){try{Ht||pe.return==null||pe.return()}finally{if(on)throw nt}}}}function Ra(J,oe){(oe==null||oe>J.length)&&(oe=J.length);for(var pe=0,re=new Array(oe);pe<oe;pe++)re[pe]=J[pe];return re}var Nl="video",Wc="voice",Ll=3,xl=An()?{data:{}}:{data:{},topology:"none"},Bl={present:0,hidden:0},nl={maxBitrate:{min:1e5,max:25e5},maxFramerate:{min:1,max:30},scaleResolutionDownBy:{min:1,max:8}},Ul=["state","volume","simulcastEncodings"],Fl={androidInCallNotification:{title:"string",subtitle:"string",iconName:"string",disableForCustomOverride:"boolean"},disableAutoDeviceManagement:{audio:"boolean",video:"boolean"}},Ze={id:{iconPath:"string",iconPathDarkMode:"string",label:"string",tooltip:"string"}},_e={customTrayButtons:{validate:Er,help:"customTrayButtons should be a dictionary of the type ".concat(JSON.stringify(Ze))},url:{validate:function(J){return typeof J=="string"},help:"url should be a string"},baseUrl:{validate:function(J){return typeof J=="string"},help:"baseUrl should be a string"},token:{validate:function(J){return typeof J=="string"},help:"token should be a string",queryString:"t"},dailyConfig:{validate:function(J){return window._dailyConfig||(window._dailyConfig={}),window._dailyConfig.experimentalGetUserMediaConstraintsModify=J.experimentalGetUserMediaConstraintsModify,window._dailyConfig.userMediaVideoConstraints=J.userMediaVideoConstraints,window._dailyConfig.userMediaAudioConstraints=J.userMediaAudioConstraints,window._dailyConfig.callObjectBundleUrlOverride=J.callObjectBundleUrlOverride,!0}},reactNativeConfig:{validate:function(J){return function oe(pe,re){if(re===void 0)return!1;switch(h(re)){case"string":return h(pe)===re;case"object":if(h(pe)!=="object")return!1;for(var ye in pe)if(!oe(pe[ye],re[ye]))return!1;return!0;default:return!1}}(J,Fl)},help:"reactNativeConfig should look like ".concat(JSON.stringify(Fl),", all fields optional")},lang:{validate:function(J){return["de","en-us","en","es","fi","fr","it","jp","ka","nl","no","pl","pt","ru","sv","tr","user"].includes(J)},help:"language not supported. Options are: de, en-us, en, es, fi, fr, it, jp, ka, nl, no, pl, pt, ru, sv, tr, user"},userName:!0,userData:{validate:function(J){try{return Cn(J),!0}catch(oe){return console.error(oe),!1}},help:"invalid userData type provided"},startVideoOff:!0,startAudioOff:!0,activeSpeakerMode:!0,showLeaveButton:!0,showLocalVideo:!0,showParticipantsBar:!0,showFullscreenButton:!0,showUserNameChangeUI:!0,iframeStyle:!0,customLayout:!0,cssFile:!0,cssText:!0,bodyClass:!0,videoSource:{validate:function(J,oe){return oe._preloadCache.videoDeviceId=J,!0}},audioSource:{validate:function(J,oe){return oe._preloadCache.audioDeviceId=J,!0}},subscribeToTracksAutomatically:{validate:function(J,oe){return oe._preloadCache.subscribeToTracksAutomatically=J,!0}},theme:{validate:function(J){var oe=["accent","accentText","background","backgroundAccent","baseText","border","mainAreaBg","mainAreaBgAccent","mainAreaText","supportiveText"],pe=function(re){for(var ye=0,nt=Object.keys(re);ye<nt.length;ye++){var Ht=nt[ye];if(!oe.includes(Ht))return console.error('unsupported color "'.concat(Ht,'". Valid colors: ').concat(oe.join(", "))),!1;if(!re[Ht].match(/^#[0-9a-f]{6}|#[0-9a-f]{3}$/i))return console.error("".concat(Ht,' theme color should be provided in valid hex color format. Received: "').concat(re[Ht],'"')),!1}return!0};return h(J)==="object"&&("light"in J&&"dark"in J||"colors"in J)?"light"in J&&"dark"in J?"colors"in J.light?"colors"in J.dark?pe(J.light.colors)&&pe(J.dark.colors):(console.error('Dark theme is missing "colors" property.',J),!1):(console.error('Light theme is missing "colors" property.',J),!1):pe(J.colors):(console.error('Theme must contain either both "light" and "dark" properties, or "colors".',J),!1)},help:"unsupported theme configuration. Check error logs for detailed info."},layoutConfig:{validate:function(J){if("grid"in J){var oe=J.grid;if("maxTilesPerPage"in oe){if(!Number.isInteger(oe.maxTilesPerPage))return console.error("grid.maxTilesPerPage should be an integer. You passed ".concat(oe.maxTilesPerPage,".")),!1;if(oe.maxTilesPerPage>49)return console.error("grid.maxTilesPerPage can't be larger than 49 without sacrificing browser performance. Please contact us at https://www.daily.co/contact to talk about your use case."),!1}if("minTilesPerPage"in oe){if(!Number.isInteger(oe.minTilesPerPage))return console.error("grid.minTilesPerPage should be an integer. You passed ".concat(oe.minTilesPerPage,".")),!1;if(oe.minTilesPerPage<1)return console.error("grid.minTilesPerPage can't be lower than 1."),!1;if("maxTilesPerPage"in oe&&oe.minTilesPerPage>oe.maxTilesPerPage)return console.error("grid.minTilesPerPage can't be higher than grid.maxTilesPerPage."),!1}}return!0},help:"unsupported layoutConfig. Check error logs for detailed info."},receiveSettings:{validate:function(J){return an(J,{allowAllParticipantsKey:!1})},help:lr({allowAllParticipantsKey:!1})},inputSettings:{validate:function(J){return gn(J)},help:Bn()},layout:{validate:function(J){return J==="custom-v1"||J==="browser"||J==="none"},help:'layout may only be set to "custom-v1"',queryString:"layout"},emb:{queryString:"emb"},embHref:{queryString:"embHref"},dailyJsVersion:{queryString:"dailyJsVersion"}},xe={styles:{validate:function(J){for(var oe in J)if(oe!=="cam"&&oe!=="screen")return!1;if(J.cam){for(var oe in J.cam)if(oe!=="div"&&oe!=="video")return!1}if(J.screen){for(var oe in J.screen)if(oe!=="div"&&oe!=="video")return!1}return!0},help:"styles format should be a subset of: { cam: {div: {}, video: {}}, screen: {div: {}, video: {}} }"},setSubscribedTracks:{validate:function(J,oe,pe){if(oe._preloadCache.subscribeToTracksAutomatically)return!1;var re=[!0,!1,"staged"];if(re.includes(J)||!An()&&J==="avatar")return!0;var ye=["audio","video","screenAudio","screenVideo","rmpAudio","rmpVideo"];return function nt(Ht){var on=arguments.length>1&&arguments[1]!==void 0&&arguments[1];for(var Mn in Ht)if(Mn==="custom"){if(!re.includes(Ht[Mn])&&!nt(Ht[Mn],!0))return!1}else{var Zn=!on&&!ye.includes(Mn),to=!re.includes(Ht[Mn]);if(Zn||to)return!1}return!0}(J)},help:"setSubscribedTracks cannot be used when setSubscribeToTracksAutomatically is enabled, and should be of the form: "+"true".concat(An()?"":" | 'avatar'"," | false | 'staged' | { [audio: true|false|'staged'], [video: true|false|'staged'], [screenAudio: true|false|'staged'], [screenVideo: true|false|'staged'] }")},setAudio:!0,setVideo:!0,eject:!0,updatePermissions:{validate:function(J){for(var oe=0,pe=Object.entries(J);oe<pe.length;oe++){var re=M(pe[oe],2),ye=re[0],nt=re[1];switch(ye){case"hasPresence":if(typeof nt!="boolean")return!1;break;case"canSend":if(nt instanceof Set){var Ht,on=["video","audio","screenVideo","screenAudio","customVideo","customAudio"],Mn=Rl(nt);try{for(Mn.s();!(Ht=Mn.n()).done;){var Zn=Ht.value;if(!on.includes(Zn))return!1}}catch(to){Mn.e(to)}finally{Mn.f()}}else if(typeof nt!="boolean")return!1;break;default:return!1}}return!0},help:"updatePermissions can take hasPresence and canSend permissions. hasPresence must be a boolean. canSend can be a boolean or an array of media types (video, audio, screenVideo, screenAudio, customVideo, customAudio)."}};function Et(J){var oe={};for(var pe in J)J[pe]instanceof MediaStreamTrack?oe[pe]=Co:(pe==="dailyConfig"&&(J[pe].modifyLocalSdpHook&&(window._dailyConfig&&(window._dailyConfig.modifyLocalSdpHook=J[pe].modifyLocalSdpHook),delete J[pe].modifyLocalSdpHook),J[pe].modifyRemoteSdpHook&&(window._dailyConfig&&(window._dailyConfig.modifyRemoteSdpHook=J[pe].modifyRemoteSdpHook),delete J[pe].modifyRemoteSdpHook)),oe[pe]=J[pe]);return oe}function Ct(){if(An())throw new Error("This daily-js method is not currently supported in React Native")}function mn(){if(!An())throw new Error("This daily-js method is only supported in React Native")}function Cn(J){if(J===void 0)return!0;var oe;if(typeof J=="string")oe=J;else try{oe=JSON.stringify(J),be(JSON.parse(oe),J)||console.warn("The userData provided will be modified when serialized.")}catch(pe){throw Error("userData must be serializable to JSON: ".concat(pe))}if(oe.length>Eo)throw Error("userData is too large (".concat(oe.length," characters). Maximum size suppported is ").concat(Eo,"."));return!0}function an(J,oe){for(var pe=oe.allowAllParticipantsKey,re=function(Yr){var Oo=["local"];return pe||Oo.push("*"),Yr&&!Oo.includes(Yr)},ye=function(Yr){return!!(Yr.layer===void 0||Number.isInteger(Yr.layer)&&Yr.layer>=0||Yr.layer==="inherit")},nt=function(Yr){return!!Yr&&!(Yr.video&&!ye(Yr.video))&&!(Yr.screenVideo&&!ye(Yr.screenVideo))},Ht=0,on=Object.entries(J);Ht<on.length;Ht++){var Mn=M(on[Ht],2),Zn=Mn[0],to=Mn[1];if(!re(Zn)||!nt(to))return!1}return!0}function gn(J){return h(J)==="object"&&!(!J.video||h(J.video)!=="object")&&!!function(oe){var pe=["type","config","publish"];return!oe||h(oe)!=="object"||Object.keys(oe).length===0||oe.type&&!function(re){return typeof re!="string"?!1:Object.values(Mo).includes(re)?!0:(console.error("inputSettings video processor type invalid"),!1)}(oe.type)||oe.publish!==void 0&&typeof oe.publish!="boolean"||(typeof oe.publish=="boolean"&&console.warn("inputSettings.video.processor: publish key has been deprecated; it will be ignored"),oe.config&&(h(oe.config)!=="object"||!function(re,ye){var nt=Object.keys(ye);if(nt.length===0)return!0;var Ht="invalid object in inputSettings -> video -> processor -> config";switch(re){case Mo.BGBLUR:return nt.length>1||nt[0]!=="strength"?(console.error(Ht),!1):!(typeof ye.strength!="number"||ye.strength<=0||ye.strength>1||isNaN(ye.strength))||(console.error("".concat(Ht,"; expected: {0 < strength <= 1}, got: ").concat(ye.strength)),!1);case Mo.BGIMAGE:return!(ye.source!==void 0&&!function(on){if(on.source==="default")return on.type="default",!0;if(Pt(on.source))return on.type="url",!!function(to){var Yr=new URL(to),Oo=Yr.pathname;if(Yr.protocol==="data:")try{var mo=Oo.substring(Oo.indexOf(":")+1,Oo.indexOf(";")),xo=mo.split("/")[1];return rt.includes(xo)}catch(Bo){return console.error("failed to deduce blob content type",Bo),!1}var no=Oo.split(".").at(-1).toLowerCase().trim();return rt.includes(no)}(on.source)||(console.error("invalid image type; supported types: [".concat(rt.join(", "),"]")),!1);return Mn=on.source,Zn=Number(Mn),isNaN(Zn)||!Number.isInteger(Zn)||Zn<=0||Zn>qe?(console.error("invalid image selection; must be an int, > 0, <= ".concat(qe)),!1):(on.type="daily-preselect",!0);var Mn,Zn}(ye));default:return!0}}(oe.type,oe.config)))?!1:(Object.keys(oe).filter(function(re){return!pe.includes(re)}).forEach(function(re){console.warn("invalid key inputSettings -> video -> processor : ".concat(re)),delete oe[re]}),!0)}(J.video.processor)}function Bn(){var J=Object.values(Mo).join(" | ");return"inputSettings must be of the form: { video: { processor: [ ".concat(J," ] }, config?: {} }")}function lr(J){var oe=J.allowAllParticipantsKey;return"receiveSettings must be of the form { [<remote participant id> | ".concat(se).concat(oe?' | "'.concat(Se,'"'):"","]: ")+'{ [video: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]], [screenVideo: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]] }}}'}function Er(J){if(J&&h(J)!=="object"||Array.isArray(J))return console.error("customTrayButtons should be an Object of the type ".concat(JSON.stringify(Ze),".")),!1;if(J)for(var oe=0,pe=Object.entries(J);oe<pe.length;oe++)for(var re=M(pe[oe],1)[0],ye=0,nt=Object.entries(J[re]);ye<nt.length;ye++){var Ht=M(nt[ye],2),on=Ht[0],Mn=Ht[1];if(on==="iconPath"&&!Pt(Mn)||on==="iconPathDarkMode"&&!Pt(Mn))return console.error("customTrayButton ".concat(on," should be a url.")),!1;var Zn=Ze.id[on];if(!Zn)return console.error("customTrayButton does not support key ".concat(on)),!1;if(h(Mn)!==Zn)return console.error("customTrayButton ".concat(on," should be a ").concat(Zn,".")),!1}return!0}function kr(J){if(h(J)!=="object")throw new Error('RemoteMediaPlayerSettings: must be "object" type');if(J.state&&!Object.values(ft).includes(J.state))throw new Error("Invalid value for RemoteMediaPlayerSettings.state, valid values are: "+JSON.stringify(ft));if(J.volume){if(typeof J.volume!="number")throw new Error('RemoteMediaPlayerSettings.volume: must be "number" type');if(J.volume<0||J.volume>2)throw new Error("RemoteMediaPlayerSettings.volume: must be between 0.0 - 2.0")}}function xr(J,oe,pe){return!(typeof J!="number"||J<oe||J>pe)}n.a=function(J){i(pe,o.a);var oe=tl(pe);function pe(re){var ye,nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(f(this,pe),ye=oe.call(this),y(m(ye),"startListeningForDeviceChanges",function(){navigator.mediaDevices.ondevicechange!==void 0||An()?navigator.mediaDevices.addEventListener("devicechange",ye.deviceChangeListener):ye.startPollingForDeviceChanges()}),y(m(ye),"stopListeningForDeviceChanges",function(){navigator.mediaDevices.ondevicechange!==void 0||An()?navigator.mediaDevices.removeEventListener("devicechange",ye.deviceChangeListener):ye.stopPollingForDeviceChanges()}),y(m(ye),"deviceChangeListener",u(function*(){var on=yield ye.enumerateDevices();ye.handleDeviceChange(on.devices)})),y(m(ye),"handleDeviceChange",function(on){ye.emit(Sn,{action:Sn,availableDevices:on})}),y(m(ye),"startPollingForDeviceChanges",function(){ye._deviceChangeInterval||(ye._deviceChangeInterval=setInterval(u(function*(){var on=yield ye.enumerateDevices(),Mn=JSON.stringify(on);ye._lastDevicesJSON&&Mn!==ye._lastDevicesJSON&&ye.handleDeviceChange(on.devices),ye._lastDevicesJSON=Mn}),3e3))}),y(m(ye),"stopPollingForDeviceChanges",function(){ye._deviceChangeInterval&&(clearInterval(ye._deviceChangeInterval),ye._deviceChangeInterval=null,ye._lastDevicesJSON=null)}),y(m(ye),"handleNativeAppActiveStateChange",function(on){ye.disableReactNativeAutoDeviceManagement("video")||(on?ye.camUnmutedBeforeLosingNativeActiveState&&ye.setLocalVideo(!0):(ye.camUnmutedBeforeLosingNativeActiveState=ye.localVideo(),ye.camUnmutedBeforeLosingNativeActiveState&&ye.setLocalVideo(!1)))}),y(m(ye),"handleNativeAudioFocusChange",function(on){ye.disableReactNativeAutoDeviceManagement("audio")||(ye._hasNativeAudioFocus=on,ye.toggleParticipantAudioBasedOnNativeAudioFocus(),ye._hasNativeAudioFocus?ye.micUnmutedBeforeLosingNativeAudioFocus&&ye.setLocalAudio(!0):(ye.micUnmutedBeforeLosingNativeAudioFocus=ye.localAudio(),ye.setLocalAudio(!1)))}),nt.dailyJsVersion=pe.version(),ye._iframe=re,ye._callObjectMode=nt.layout==="none"&&!ye._iframe,ye._preloadCache={subscribeToTracksAutomatically:!0,audioDeviceId:null,videoDeviceId:null,outputDeviceId:null},ye._callObjectMode&&(window._dailyPreloadCache=ye._preloadCache),nt.showLocalVideo!==void 0?ye._callObjectMode?console.error("showLocalVideo is not available in call object mode"):ye._showLocalVideo=!!nt.showLocalVideo:ye._showLocalVideo=!0,nt.showParticipantsBar!==void 0?ye._callObjectMode?console.error("showParticipantsBar is not available in call object mode"):ye._showParticipantsBar=!!nt.showParticipantsBar:ye._showParticipantsBar=!0,nt.customTrayButtons!==void 0?ye._callObjectMode?console.error("customTrayButtons is not available in call object mode"):ye._customTrayButtons=nt.customTrayButtons:ye._customTrayButtons={},nt.activeSpeakerMode!==void 0?ye._callObjectMode?console.error("activeSpeakerMode is not available in call object mode"):ye._activeSpeakerMode=!!nt.activeSpeakerMode:ye._activeSpeakerMode=!1,nt.receiveSettings?ye._callObjectMode?ye._receiveSettings=nt.receiveSettings:console.error("receiveSettings is only available in call object mode"):ye._receiveSettings={},ye._inputSettings={},nt.inputSettings&&(ye._inputSettings=nt.inputSettings),ye.validateProperties(nt),ye.properties=xi({},nt),ye._callObjectLoader=ye._callObjectMode?new Jr:null,ye._callState=ot,ye._isPreparingToJoin=!1,ye._accessState={access:Ie},ye._meetingSessionState=xl,ye._nativeInCallAudioMode=Nl,ye._participants={},ye._participantCounts=Bl,ye._rmpPlayerState={},ye._waitingParticipants={},ye._inputEventsOn={},ye._network={threshold:"good",quality:100},ye._activeSpeaker={},ye._callFrameId=et(),ye._messageChannel=An()?new ct:new Ue,ye._iframe&&(ye._iframe.requestFullscreen?ye._iframe.addEventListener("fullscreenchange",function(on){document.fullscreenElement===ye._iframe?(ye.emit($n,{action:$n}),ye.sendMessageToCallMachine({action:$n})):(ye.emit(Wn,{action:Wn}),ye.sendMessageToCallMachine({action:Wn}))}):ye._iframe.webkitRequestFullscreen&&ye._iframe.addEventListener("webkitfullscreenchange",function(on){document.webkitFullscreenElement===ye._iframe?(ye.emit($n,{action:$n}),ye.sendMessageToCallMachine({action:$n})):(ye.emit(Wn,{action:Wn}),ye.sendMessageToCallMachine({action:Wn}))})),An()){var Ht=ye.nativeUtils();Ht.addAudioFocusChangeListener&&Ht.removeAudioFocusChangeListener&&Ht.addAppActiveStateChangeListener&&Ht.removeAppActiveStateChangeListener||console.warn("expected (add|remove)(AudioFocus|AppActiveState)ChangeListener to be available in React Native"),ye._hasNativeAudioFocus=!0,Ht.addAudioFocusChangeListener(ye.handleNativeAudioFocusChange),Ht.addAppActiveStateChangeListener(ye.handleNativeAppActiveStateChange)}return ye._callObjectMode&&ye.startListeningForDeviceChanges(),ye._messageChannel.addListenerForMessagesFromCallMachine(ye.handleMessageFromCallMachine,ye._callFrameId,m(ye)),ye}return g(pe,null,[{key:"supportedBrowser",value:function(){if(An())return{supported:!0,mobile:!0,name:"React Native",version:null,supportsScreenShare:!1,supportsSfu:!0,supportsVideoProcessing:!1};var re=class{static getParser(ye,nt=!1){if(typeof ye!="string")throw new Error("UserAgent should be a string");return new We(ye,nt)}static parse(ye){return new We(ye).getResult()}static get BROWSER_MAP(){return ie}static get ENGINE_MAP(){return Ae}static get OS_MAP(){return Le}static get PLATFORMS_MAP(){return Ce}}.getParser(yn());return{supported:!!or(),mobile:re.getPlatformType()==="mobile",name:re.getBrowserName(),version:re.getBrowserVersion(),supportsFullscreen:!!Gt(),supportsScreenShare:!!St(),supportsSfu:!!or(),supportsVideoProcessing:kn()}}},{key:"version",value:function(){return"0.35.1"}},{key:"createCallObject",value:function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return re.layout="none",new pe(null,re)}},{key:"wrap",value:function(re){var ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Ct(),!re||!re.contentWindow||typeof re.src!="string")throw new Error("DailyIframe::Wrap needs an iframe-like first argument");return ye.layout||(ye.customLayout?ye.layout="custom-v1":ye.layout="browser"),new pe(re,ye)}},{key:"createFrame",value:function(re,ye){var nt,Ht;Ct(),re&&ye?(nt=re,Ht=ye):re&&re.append?(nt=re,Ht={}):(nt=document.body,Ht=re||{});var on=Ht.iframeStyle;on||(on=nt===document.body?{position:"fixed",border:"1px solid black",backgroundColor:"white",width:"375px",height:"450px",right:"1em",bottom:"1em"}:{border:0,width:"100%",height:"100%"});var Mn=document.createElement("iframe");window.navigator&&window.navigator.userAgent.match(/Chrome\/61\./)?Mn.allow="microphone, camera":Mn.allow="microphone; camera; autoplay; display-capture",Mn.style.visibility="hidden",nt.appendChild(Mn),Mn.style.visibility=null,Object.keys(on).forEach(function(Zn){return Mn.style[Zn]=on[Zn]}),Ht.layout||(Ht.customLayout?Ht.layout="custom-v1":Ht.layout="browser");try{return new pe(Mn,Ht)}catch(Zn){throw nt.removeChild(Mn),Zn}}},{key:"createTransparentFrame",value:function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ct();var ye=document.createElement("iframe");return ye.allow="microphone; camera; autoplay",ye.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: 0;
      pointer-events: none;
    `,document.body.appendChild(ye),re.layout||(re.layout="custom-v1"),pe.wrap(ye,re)}}]),g(pe,[{key:"destroy",value:function(){var re=u(function*(){try{[Wt,ze].includes(this._callState)&&(yield this.leave())}catch(on){}var ye=this._iframe;if(ye){var nt=ye.parentElement;nt&&nt.removeChild(ye)}if(this._messageChannel.removeListener(this.handleMessageFromCallMachine),An()){var Ht=this.nativeUtils();Ht.removeAudioFocusChangeListener(this.handleNativeAudioFocusChange),Ht.removeAppActiveStateChangeListener(this.handleNativeAppActiveStateChange)}this._callObjectMode&&this.stopListeningForDeviceChanges(),this.resetMeetingDependentVars()});return function(){return re.apply(this,arguments)}}()},{key:"loadCss",value:function(re){var ye=re.bodyClass,nt=re.cssFile,Ht=re.cssText;return Ct(),this.sendMessageToCallMachine({action:"load-css",cssFile:this.absoluteUrl(nt),bodyClass:ye,cssText:Ht}),this}},{key:"iframe",value:function(){return Ct(),this._iframe}},{key:"meetingState",value:function(){return this._callState}},{key:"accessState",value:function(){if(!this._callObjectMode)throw new Error("accessState() currently only supported in call object mode");return this._accessState}},{key:"participants",value:function(){return this._participants}},{key:"participantCounts",value:function(){return this._participantCounts}},{key:"waitingParticipants",value:function(){if(!this._callObjectMode)throw new Error("waitingParticipants() currently only supported in call object mode");return this._waitingParticipants}},{key:"validateParticipantProperties",value:function(re,ye){for(var nt in ye){if(!xe[nt])throw new Error("unrecognized updateParticipant property ".concat(nt));if(xe[nt].validate&&!xe[nt].validate(ye[nt],this,this._participants[re]))throw new Error(xe[nt].help)}}},{key:"updateParticipant",value:function(re,ye){return this._participants.local&&this._participants.local.session_id===re&&(re="local"),re&&ye&&(this.validateParticipantProperties(re,ye),this.sendMessageToCallMachine({action:"update-participant",id:re,properties:ye})),this}},{key:"updateParticipants",value:function(re){var ye=this._participants.local&&this._participants.local.session_id;for(var nt in re)nt===ye&&(nt="local"),nt&&re[nt]&&this.validateParticipantProperties(nt,re[nt]);return this.sendMessageToCallMachine({action:"update-participants",participants:re}),this}},{key:"updateWaitingParticipant",value:function(){var re=u(function*(){var ye=this,nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",Ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this._callObjectMode)throw new Error("updateWaitingParticipant() currently only supported in call object mode");if(this._callState!==Wt)throw new Error("updateWaitingParticipant() only supported for joined meetings");if(typeof nt!="string"||h(Ht)!=="object")throw new Error("updateWaitingParticipant() must take an id string and a updates object");return new Promise(function(on,Mn){ye.sendMessageToCallMachine({action:"daily-method-update-waiting-participant",id:nt,updates:Ht},function(Zn){Zn.error&&Mn(Zn.error),Zn.id||Mn(new Error("unknown error in updateWaitingParticipant()")),on({id:Zn.id})})})});return function(){return re.apply(this,arguments)}}()},{key:"updateWaitingParticipants",value:function(){var re=u(function*(){var ye=this,nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this._callObjectMode)throw new Error("updateWaitingParticipants() currently only supported in call object mode");if(this._callState!==Wt)throw new Error("updateWaitingParticipants() only supported for joined meetings");if(h(nt)!=="object")throw new Error("updateWaitingParticipants() must take a mapping between ids and update objects");return new Promise(function(Ht,on){ye.sendMessageToCallMachine({action:"daily-method-update-waiting-participants",updatesById:nt},function(Mn){Mn.error&&on(Mn.error),Mn.ids||on(new Error("unknown error in updateWaitingParticipants()")),Ht({ids:Mn.ids})})})});return function(){return re.apply(this,arguments)}}()},{key:"requestAccess",value:function(){var re=u(function*(){var ye=this,nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ht=nt.access,on=Ht===void 0?{level:"full"}:Ht,Mn=nt.name,Zn=Mn===void 0?"":Mn;if(!this._callObjectMode)throw new Error("requestAccess() currently only supported in call object mode");if(this._callState!==Wt)throw new Error("requestAccess() only supported for joined meetings");return new Promise(function(to,Yr){ye.sendMessageToCallMachine({action:"daily-method-request-access",access:on,name:Zn},function(Oo){Oo.error&&Yr(Oo.error),Oo.access||Yr(new Error("unknown error in requestAccess()")),to({access:Oo.access,granted:Oo.granted})})})});return function(){return re.apply(this,arguments)}}()},{key:"localAudio",value:function(){return this._participants.local?this._participants.local.audio:null}},{key:"localVideo",value:function(){return this._participants.local?this._participants.local.video:null}},{key:"setLocalAudio",value:function(re){return this.sendMessageToCallMachine({action:"local-audio",state:re}),this}},{key:"setLocalVideo",value:function(re){return this.sendMessageToCallMachine({action:"local-video",state:re}),this}},{key:"getReceiveSettings",value:function(){var re=u(function*(ye){var nt=this,Ht=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).showInheritedValues,on=Ht!==void 0&&Ht;if(!this._callObjectMode)throw new Error("getReceiveSettings() only supported in call object mode");switch(h(ye)){case"string":return new Promise(function(Mn){nt.sendMessageToCallMachine({action:"get-single-participant-receive-settings",id:ye,showInheritedValues:on},function(Zn){Mn(Zn.receiveSettings)})});case"undefined":return this._receiveSettings;default:throw new Error('first argument to getReceiveSettings() must be a participant id (or "base"), or there should be no arguments')}});return function(ye){return re.apply(this,arguments)}}()},{key:"updateReceiveSettings",value:function(){var re=u(function*(ye){var nt=this;if(!this._callObjectMode)throw new Error("updateReceiveSettings() only supported in call object mode");if(!an(ye,{allowAllParticipantsKey:!0}))throw new Error(lr({allowAllParticipantsKey:!0}));if(this._callState!==Wt)throw new Error("updateReceiveSettings() is only allowed when joined. To specify receive settings earlier, use the receiveSettings config property.");return new Promise(function(Ht){nt.sendMessageToCallMachine({action:"update-receive-settings",receiveSettings:ye},function(on){Ht({receiveSettings:on.receiveSettings})})})});return function(ye){return re.apply(this,arguments)}}()},{key:"getInputSettings",value:function(){var re=this;return new Promise(function(ye){ye(re._inputSettings)})}},{key:"updateInputSettings",value:function(){var re=u(function*(ye){var nt=this;return new Promise(function(Ht,on){if(!gn(ye))return console.error(Bn()),void on(Bn());nt.sendMessageToCallMachine({action:"update-input-settings",inputSettings:ye},function(Mn){Mn.error?on(Mn.error):Ht({inputSettings:Mn.inputSettings})})})});return function(ye){return re.apply(this,arguments)}}()},{key:"setBandwidth",value:function(re){var ye=re.kbs,nt=re.trackConstraints;return Ct(),this.sendMessageToCallMachine({action:"set-bandwidth",kbs:ye,trackConstraints:nt}),this}},{key:"getDailyLang",value:function(){var re=this;return Ct(),new Promise(function(){var ye=u(function*(nt){re.sendMessageToCallMachine({action:"get-daily-lang"},function(Ht){delete Ht.action,delete Ht.callbackStamp,nt(Ht)})});return function(nt){return ye.apply(this,arguments)}}())}},{key:"setDailyLang",value:function(re){return Ct(),this.sendMessageToCallMachine({action:"set-daily-lang",lang:re}),this}},{key:"getMeetingSession",value:function(){var re=u(function*(){var ye=this;if(this._callState!==Wt)throw new Error("getMeetingSession() is only allowed when joined");return new Promise(function(nt){ye.sendMessageToCallMachine({action:"get-meeting-session"},function(Ht){delete Ht.action,delete Ht.callbackStamp,delete Ht.callFrameId,nt(Ht)})})});return function(){return re.apply(this,arguments)}}()},{key:"meetingSessionState",value:function(){if(this._callState!==Wt)throw new Error("meetingSessionState() is only available when joined");return this._meetingSessionState}},{key:"setMeetingSessionData",value:function(re){var ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"replace";if(this._callState!==Wt)throw new Error("setMeetingSessionData() is only available when joined");try{(function(nt,Ht){new Fn({data:nt,mergeStrategy:Ht})})(re,ye)}catch(nt){throw console.error(nt),nt}try{this.sendMessageToCallMachine({action:"set-session-data",data:re,mergeStrategy:ye})}catch(nt){throw new Error("Error setting meeting session data: ".concat(nt))}}},{key:"setUserName",value:function(re,ye){var nt=this;return this.properties.userName=re,new Promise(function(Ht){nt.sendMessageToCallMachine({action:"set-user-name",name:re!=null?re:"",thisMeetingOnly:An()||!!ye&&!!ye.thisMeetingOnly},function(on){delete on.action,delete on.callbackStamp,Ht(on)})})}},{key:"setUserData",value:function(){var re=u(function*(ye){var nt=this;try{Cn(ye)}catch(Ht){throw console.error(Ht),Ht}return this.properties.userData=ye,new Promise(function(Ht){try{nt.sendMessageToCallMachine({action:"set-user-data",userData:ye},function(on){delete on.action,delete on.callbackStamp,delete on.callFrameId,Ht(on)})}catch(on){throw new Error("Error setting user data: ".concat(on))}})});return function(ye){return re.apply(this,arguments)}}()},{key:"startCamera",value:function(){var re=this,ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this._callObjectMode)throw new Error("startCamera() currently only supported in call object mode");if([vt,Wt].includes(this._callState))throw new Error("startCamera() not supported after joining a meeting: did you mean to use setLocalAudio() and/or setLocalVideo() instead?");return new Promise(function(){var nt=u(function*(Ht,on){if(re.needsLoad())try{yield re.load(ye)}catch(Mn){on(Mn)}else re.validateProperties(ye);re.sendMessageToCallMachine({action:"start-camera",properties:Et(re.properties),preloadCache:Et(re._preloadCache)},function(Mn){delete Mn.action,delete Mn.callbackStamp,Ht(Mn)})});return function(Ht,on){return nt.apply(this,arguments)}}())}},{key:"validateCustomTrack",value:function(re,ye,nt){if(nt&&nt.length>50)throw new Error("Custom track `trackName` must not be more than 50 characters");if(ye&&ye!=="music"&&ye!=="speech"&&!(ye instanceof Object))throw new Error("Custom track `mode` must be either `music` | `speech` | `DailyMicAudioModeSettings` or `undefined`");if(!!nt&&["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo"].includes(nt))throw new Error("Custom track `trackName` must not match a track name already used by daily: cam-audio, cam-video, screen-video, screen-audio, rmpAudio, rmpVideo");if(!(re instanceof MediaStreamTrack))throw new Error("Custom tracks provided must be instances of MediaStreamTrack")}},{key:"startCustomTrack",value:function(){var re=this,ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{track,mode,trackName};if(Ct(),this.validateCustomTrack(ye.track,ye.mode,ye.trackName),this._callState!==Wt)throw new Error("startCustomTrack() is only allowed when joined");return new Promise(function(nt,Ht){window._dailyPreloadCache.customTrack=ye.track,ye.track=Co,re.sendMessageToCallMachine({action:"start-custom-track",properties:ye},function(on){on.error?reject({error:on.error}):nt(on.mediaTag)})})}},{key:"stopCustomTrack",value:function(re){var ye=this;if(Ct(),this._callState!==Wt)throw new Error("stopCustomTrack() is only allowed when joined");return new Promise(function(nt,Ht){ye.sendMessageToCallMachine({action:"stop-custom-track",mediaTag:re},function(on){nt(on.mediaTag)})})}},{key:"setCamera",value:function(re){var ye=this;if(mn(),this.needsLoad())throw new Error("Before you can invoke setCamera, first you need to invoke one of these methods: join, startCamera, or preAuth");return new Promise(function(nt,Ht){ye.sendMessageToCallMachine({action:"set-camera",cameraDeviceId:re},function(on){nt({device:on.device})})})}},{key:"setAudioDevice",value:function(){var re=u(function*(ye){return mn(),this.nativeUtils().setAudioDevice(ye),{deviceId:yield this.nativeUtils().getAudioDevice()}});return function(ye){return re.apply(this,arguments)}}()},{key:"cycleCamera",value:function(){var re=this;return new Promise(function(ye,nt){re.sendMessageToCallMachine({action:"cycle-camera"},function(Ht){ye({device:Ht.device})})})}},{key:"cycleMic",value:function(){var re=this;return Ct(),new Promise(function(ye,nt){re.sendMessageToCallMachine({action:"cycle-mic"},function(Ht){ye({device:Ht.device})})})}},{key:"getCameraFacingMode",value:function(){var re=this;return mn(),new Promise(function(ye,nt){re.sendMessageToCallMachine({action:"get-camera-facing-mode"},function(Ht){ye(Ht.facingMode)})})}},{key:"setInputDevices",value:function(re){var ye=re.audioDeviceId,nt=re.videoDeviceId,Ht=re.audioSource,on=re.videoSource;return console.warn("setInputDevices() is deprecated: instead use setInputDevicesAsync(), which returns a Promise"),this.setInputDevicesAsync({audioDeviceId:ye,videoDeviceId:nt,audioSource:Ht,videoSource:on}),this}},{key:"setInputDevicesAsync",value:function(){var re=u(function*(ye){var nt=this,Ht=ye.audioDeviceId,on=ye.videoDeviceId,Mn=ye.audioSource,Zn=ye.videoSource;return Ct(),Mn!==void 0&&(Ht=Mn),Zn!==void 0&&(on=Zn),Ht&&(this._preloadCache.audioDeviceId=Ht),on&&(this._preloadCache.videoDeviceId=on),this._callObjectMode&&this.needsLoad()?{camera:{deviceId:this._preloadCache.videoDeviceId},mic:{deviceId:this._preloadCache.audioDeviceId},speaker:{deviceId:this._preloadCache.outputDeviceId}}:(Ht instanceof MediaStreamTrack&&(Ht=Co),on instanceof MediaStreamTrack&&(on=Co),new Promise(function(to){nt.sendMessageToCallMachine({action:"set-input-devices",audioDeviceId:Ht,videoDeviceId:on},function(Yr){delete Yr.action,delete Yr.callbackStamp,Yr.returnPreloadCache?to({camera:{deviceId:nt._preloadCache.videoDeviceId},mic:{deviceId:nt._preloadCache.audioDeviceId},speaker:{deviceId:nt._preloadCache.outputDeviceId}}):to(Yr)})}))});return function(ye){return re.apply(this,arguments)}}()},{key:"setOutputDevice",value:function(re){var ye=re.outputDeviceId;return console.warn("setOutputDevice() is deprecated: instead use setOutputDeviceAsync(), which returns a Promise"),this.setOutputDeviceAsync({outputDeviceId:ye}),this}},{key:"setOutputDeviceAsync",value:function(){var re=u(function*(ye){var nt=this,Ht=ye.outputDeviceId;return Ct(),Ht&&(this._preloadCache.outputDeviceId=Ht),this._callObjectMode&&this.needsLoad()?{camera:{deviceId:this._preloadCache.videoDeviceId},mic:{deviceId:this._preloadCache.audioDeviceId},speaker:{deviceId:this._preloadCache.outputDeviceId}}:new Promise(function(on){nt.sendMessageToCallMachine({action:"set-output-device",outputDeviceId:Ht},function(Mn){delete Mn.action,delete Mn.callbackStamp,Mn.returnPreloadCache?on({camera:{deviceId:nt._preloadCache.videoDeviceId},mic:{deviceId:nt._preloadCache.audioDeviceId},speaker:{deviceId:nt._preloadCache.outputDeviceId}}):on(Mn)})})});return function(ye){return re.apply(this,arguments)}}()},{key:"getInputDevices",value:function(){var re=u(function*(){var ye=this;return this._callObjectMode&&this.needsLoad()?{camera:{deviceId:this._preloadCache.videoDeviceId},mic:{deviceId:this._preloadCache.audioDeviceId},speaker:{deviceId:this._preloadCache.outputDeviceId}}:new Promise(function(nt,Ht){ye.sendMessageToCallMachine({action:"get-input-devices"},function(on){delete on.action,delete on.callbackStamp,on.returnPreloadCache?nt({camera:{deviceId:ye._preloadCache.videoDeviceId},mic:{deviceId:ye._preloadCache.audioDeviceId},speaker:{deviceId:ye._preloadCache.outputDeviceId}}):nt(on)})})});return function(){return re.apply(this,arguments)}}()},{key:"nativeInCallAudioMode",value:function(){return mn(),this._nativeInCallAudioMode}},{key:"setNativeInCallAudioMode",value:function(re){if(mn(),[Nl,Wc].includes(re)){if(re!==this._nativeInCallAudioMode)return this._nativeInCallAudioMode=re,!this.disableReactNativeAutoDeviceManagement("audio")&&this._isCallPendingOrOngoing(this._callState,this._isPreparingToJoin)&&this.nativeUtils().setAudioMode(this._nativeInCallAudioMode),this}else console.error("invalid in-call audio mode specified: ",re)}},{key:"preAuth",value:function(){var re=u(function*(){var ye=this,nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this._callObjectMode)throw new Error("preAuth() currently only supported in call object mode");if([vt,Wt].includes(this._callState))throw new Error("preAuth() not supported after joining a meeting");if(this.needsLoad()&&(yield this.load(nt)),!nt.url)throw new Error("preAuth() requires at least a url to be provided");return this.validateProperties(nt),this.properties=xi(xi({},this.properties),nt),new Promise(function(Ht,on){ye.sendMessageToCallMachine({action:"daily-method-preauth",properties:Et(ye.properties)},function(Mn){return Mn.error?on(Mn.error):Mn.access?(ye._didPreAuth=!0,void Ht({access:Mn.access})):on(new Error("unknown error in preAuth()"))})})});return function(){return re.apply(this,arguments)}}()},{key:"load",value:function(){var re=u(function*(ye){var nt=this;if(this.needsLoad()){if(ye&&(this.validateProperties(ye),this.properties=xi(xi({},this.properties),ye)),!this._callObjectMode&&!this.properties.url)throw new Error("can't load iframe meeting because url property isn't set");this._updateCallState(ze);try{this.emit("loading",{action:"loading"})}catch(Ht){console.log("could not emit 'loading'",Ht)}return this._callObjectMode?new Promise(function(Ht,on){nt._callObjectLoader.cancel(),nt._callObjectLoader.load(nt._callFrameId,nt.properties.dailyConfig&&nt.properties.dailyConfig.avoidEval,function(Mn){nt._updateCallState("loaded"),Mn&&nt.emit("loaded",{action:"loaded"}),Ht()},function(Mn,Zn){nt.emit("load-attempt-failed",{action:"load-attempt-failed",errorMsg:Mn}),Zn||(nt._updateCallState(at),nt.resetMeetingDependentVars(),nt.emit("error",{action:"error",errorMsg:Mn}),on(Mn))})}):(this._iframe.src=this.assembleMeetingUrl(),new Promise(function(Ht,on){nt._loadedCallback=function(Mn){if(nt._callState!==at){for(var Zn in nt._updateCallState("loaded"),(nt.properties.cssFile||nt.properties.cssText)&&nt.loadCss(nt.properties),nt._inputEventsOn)nt.sendMessageToCallMachine({action:"register-input-handler",on:Zn});Ht()}else on(Mn)}}))}});return function(ye){return re.apply(this,arguments)}}()},{key:"join",value:function(){var re=u(function*(){var ye=this,nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ht=!1;if(this.needsLoad()){this.updateIsPreparingToJoin(!0);try{yield this.load(nt)}catch(on){return this.updateIsPreparingToJoin(!1),Promise.reject(on)}}else{if(Ht=!(!this.properties.cssFile&&!this.properties.cssText),this._didPreAuth){if(nt.url&&nt.url!==this.properties.url)return console.error("url in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject();if(nt.token&&nt.token!==this.properties.token)return console.error("token in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject()}if(nt.url&&!this._callObjectMode&&nt.url&&nt.url!==this.properties.url)return console.error("url in join() is different than the one used in load() (".concat(this.properties.url," -> ").concat(nt.url,")")),this.updateIsPreparingToJoin(!1),Promise.reject();this.validateProperties(nt),this.properties=xi(xi({},this.properties),nt)}if(nt.showLocalVideo!==void 0&&(this._callObjectMode?console.error("showLocalVideo is not available in callObject mode"):this._showLocalVideo=!!nt.showLocalVideo),nt.showParticipantsBar!==void 0&&(this._callObjectMode?console.error("showParticipantsBar is not available in callObject mode"):this._showParticipantsBar=!!nt.showParticipantsBar),this._callState===Wt||this._callState===vt)return console.warn("already joined meeting, call leave() before joining again"),void this.updateIsPreparingToJoin(!1);this._updateCallState(vt,!1);try{this.emit("joining-meeting",{action:"joining-meeting"})}catch(on){console.log("could not emit 'joining-meeting'",on)}return this.sendMessageToCallMachine({action:"join-meeting",properties:Et(this.properties),preloadCache:Et(this._preloadCache)}),new Promise(function(on,Mn){ye._joinedCallback=function(Zn,to){if(ye._callState!==at){if(ye._updateCallState(Wt),Zn)for(var Yr in Zn)ye._callObjectMode&&(qs(Zn[Yr]),Il(Zn[Yr]),_l(Zn[Yr],ye._participants[Yr])),ye._participants[Yr]=xi({},Zn[Yr]),ye.toggleParticipantAudioBasedOnNativeAudioFocus();Ht&&ye.loadCss(ye.properties),on(Zn)}else Mn(to)}})});return function(){return re.apply(this,arguments)}}()},{key:"leave",value:function(){var re=u(function*(){var ye=this;return new Promise(function(nt,Ht){if(ye._callObjectLoader&&!ye._callObjectLoader.loaded){ye._callObjectLoader.cancel(),ye._updateCallState(zt),ye.resetMeetingDependentVars();try{ye.emit(zt,{action:zt})}catch(on){console.log("could not emit 'left-meeting'",on)}nt()}else ye._callState===zt||ye._callState===at?nt():(ye._resolveLeave=nt,ye.sendMessageToCallMachine({action:"leave-meeting"}))})});return function(){return re.apply(this,arguments)}}()},{key:"startScreenShare",value:function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ct(),re.mediaStream&&(this._preloadCache.screenMediaStream=re.mediaStream,re.mediaStream=Co),this.sendMessageToCallMachine({action:"local-screen-start",captureOptions:re})}},{key:"stopScreenShare",value:function(){Ct(),this.sendMessageToCallMachine({action:"local-screen-stop"})}},{key:"startRecording",value:function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(xi({action:"local-recording-start"},re))}},{key:"updateRecording",value:function(re){var ye=re.layout,nt=ye===void 0?{preset:"default"}:ye,Ht=re.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-recording",layout:nt,instanceId:Ht})}},{key:"stopRecording",value:function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(xi({action:"local-recording-stop"},re))}},{key:"startLiveStreaming",value:function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(xi({action:"daily-method-start-live-streaming"},re))}},{key:"updateLiveStreaming",value:function(re){var ye=re.layout,nt=ye===void 0?{preset:"default"}:ye,Ht=re.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-live-streaming",layout:nt,instanceId:Ht})}},{key:"addLiveStreamingEndpoints",value:function(re){var ye=re.endpoints,nt=re.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-live-streaming-endpoints",endpointsOp:mt,endpoints:ye,instanceId:nt})}},{key:"removeLiveStreamingEndpoints",value:function(re){var ye=re.endpoints,nt=re.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-live-streaming-endpoints",endpointsOp:un,endpoints:ye,instanceId:nt})}},{key:"stopLiveStreaming",value:function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.sendMessageToCallMachine(xi({action:"daily-method-stop-live-streaming"},re))}},{key:"startRemoteMediaPlayer",value:function(){var re=u(function*(ye){var nt=this,Ht=ye.url,on=ye.settings,Mn=on===void 0?{state:ft.PLAY}:on;try{(function(Zn){if(typeof Zn!="string")throw new Error('url parameter must be "string" type')})(Ht),kr(Mn),function(Zn){for(var to in Zn)if(!Ul.includes(to))throw new Error("Invalid key ".concat(to,", valid keys are: ").concat(Ul));if(Zn.simulcastEncodings){if(!(Zn.simulcastEncodings instanceof Array))throw new Error('simulcastEncodings must be "Array"');if(!xr(Zn.simulcastEncodings.length,0,Ll))throw new Error('"simulcastEncodings" not in range. valid range 1 to 3 layers');Zn.simulcastEncodings.every(function(Yr){for(var Oo in Yr){if(!nl.hasOwnProperty(Oo))throw new Error("Invalid key ".concat(Oo,", valid keys are:")+Object.keys(nl));if(typeof Yr[Oo]!="number")throw new Error("simulcastEncodings[].".concat(Oo,' must be "number"'));var mo=nl[Oo],xo=mo.min,no=mo.max;if(!xr(Yr[Oo],xo,no))throw new Error("simulcastEncodings[].".concat(Oo," value not in range. valid range:        ").concat(xo," to ").concat(no))}if(!Yr.hasOwnProperty("maxBitrate"))throw new Error("simulcastEncodings[].maxBitrate is not specified")})}}(Mn)}catch(Zn){throw console.error("invalid argument Error: ".concat(Zn)),console.error(`startRemoteMediaPlayer arguments must be of the form: 
  { url: "playback url", 
  settings?: 
  {state: "play"|"pause", simulcastEncodings?: [{}] } }`),Zn}return new Promise(function(){var Zn=u(function*(to,Yr){nt.sendMessageToCallMachine({action:"daily-method-start-remote-media-player",url:Ht,settings:Mn},function(Oo){Oo.error?Yr({error:Oo.error,errorMsg:Oo.errorMsg}):to({session_id:Oo.session_id,remoteMediaPlayerState:{state:Oo.state,settings:Oo.settings}})})});return function(to,Yr){return Zn.apply(this,arguments)}}())});return function(ye){return re.apply(this,arguments)}}()},{key:"stopRemoteMediaPlayer",value:function(){var re=u(function*(ye){var nt=this;if(typeof ye!="string")throw new Error(" remotePlayerID must be of type string");return new Promise(function(){var Ht=u(function*(on,Mn){nt.sendMessageToCallMachine({action:"daily-method-stop-remote-media-player",session_id:ye},function(Zn){Zn.error?Mn({error:Zn.error,errorMsg:Zn.errorMsg}):on()})});return function(on,Mn){return Ht.apply(this,arguments)}}())});return function(ye){return re.apply(this,arguments)}}()},{key:"updateRemoteMediaPlayer",value:function(){var re=u(function*(ye){var nt=this,Ht=ye.session_id,on=ye.settings;try{kr(on)}catch(Mn){throw console.error("invalid argument Error: ".concat(Mn)),console.error(`updateRemoteMediaPlayer arguments must be of the form: 
  session_id: "participant session", 
  { settings?: {state: "play"|"pause"} }`),Mn}return new Promise(function(){var Mn=u(function*(Zn,to){nt.sendMessageToCallMachine({action:"daily-method-update-remote-media-player",session_id:Ht,settings:on},function(Yr){Yr.error?to({error:Yr.error,errorMsg:Yr.errorMsg}):Zn({session_id:Yr.session_id,remoteMediaPlayerState:{state:Yr.state,settings:Yr.settings}})})});return function(Zn,to){return Mn.apply(this,arguments)}}())});return function(ye){return re.apply(this,arguments)}}()},{key:"startTranscription",value:function(re){this.sendMessageToCallMachine(xi({action:"daily-method-start-transcription"},re))}},{key:"stopTranscription",value:function(){this.sendMessageToCallMachine({action:"daily-method-stop-transcription"})}},{key:"getNetworkStats",value:function(){var re=this;return this._callState!==Wt?{stats:{latest:{}}}:new Promise(function(ye,nt){re.sendMessageToCallMachine({action:"get-calc-stats"},function(Ht){ye(xi({stats:Ht.stats},re._network))})})}},{key:"getActiveSpeaker",value:function(){return Ct(),this._activeSpeaker}},{key:"setActiveSpeakerMode",value:function(re){return Ct(),this.sendMessageToCallMachine({action:"set-active-speaker-mode",enabled:re}),this}},{key:"activeSpeakerMode",value:function(){return Ct(),this._activeSpeakerMode}},{key:"subscribeToTracksAutomatically",value:function(){return this._preloadCache.subscribeToTracksAutomatically}},{key:"setSubscribeToTracksAutomatically",value:function(re){if(this._callState!==Wt)throw new Error("setSubscribeToTracksAutomatically() is only allowed when joined");return this._preloadCache.subscribeToTracksAutomatically=re,this.sendMessageToCallMachine({action:"daily-method-subscribe-to-tracks-automatically",enabled:re}),this}},{key:"enumerateDevices",value:function(){var re=u(function*(){var ye=this;return this._callObjectMode?{devices:(yield navigator.mediaDevices.enumerateDevices()).map(function(nt){return JSON.parse(JSON.stringify(nt))})}:new Promise(function(nt,Ht){ye.sendMessageToCallMachine({action:"enumerate-devices"},function(on){nt({devices:on.devices})})})});return function(){return re.apply(this,arguments)}}()},{key:"sendAppMessage",value:function(re){var ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";if(JSON.stringify(re).length>4096)throw new Error("Message data too large. Max size is 4096");return this.sendMessageToCallMachine({action:"app-msg",data:re,to:ye}),this}},{key:"addFakeParticipant",value:function(re){return Ct(),this.sendMessageToCallMachine(xi({action:"add-fake-participant"},re)),this}},{key:"setShowNamesMode",value:function(re){return Ct(),re&&re!=="always"&&re!=="never"?(console.error('setShowNamesMode argument should be "always", "never", or false'),this):(this.sendMessageToCallMachine({action:"set-show-names",mode:re}),this)}},{key:"setShowLocalVideo",value:function(){var re=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return Ct(),typeof re!="boolean"?(console.error("setShowLocalVideo only accepts a boolean value"),this):this._callObjectMode?(console.error("setShowLocalVideo is not available in callObject mode"),this):this._callState!==Wt?(console.error("the meeting must be joined before calling setShowLocalVideo"),this):(this.sendMessageToCallMachine({action:"set-show-local-video",show:re}),this._showLocalVideo=re,this)}},{key:"showLocalVideo",value:function(){return Ct(),this._callObjectMode?(console.error("showLocalVideo is not available in callObject mode"),this):this._showLocalVideo}},{key:"setShowParticipantsBar",value:function(){var re=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return Ct(),typeof re!="boolean"?(console.error("setShowParticipantsBar only accepts a boolean value"),this):this._callObjectMode?(console.error("setShowParticipantsBar is not available in callObject mode"),this):this._callState!==Wt?(console.error("the meeting must be joined before calling setShowParticipantsBar"),this):(this.sendMessageToCallMachine({action:"set-show-participants-bar",show:re}),this._showParticipantsBar=re,this)}},{key:"showParticipantsBar",value:function(){return Ct(),this._callObjectMode?(console.error("showParticipantsBar is not available in callObject mode"),this):this._showParticipantsBar}},{key:"customTrayButtons",value:function(){return Ct(),this._callObjectMode?(console.error("customTrayButtons is not available in callObject mode"),this):this._customTrayButtons}},{key:"updateCustomTrayButtons",value:function(re){return Ct(),this._callObjectMode?(console.error("updateCustomTrayButtons is not available in callObject mode"),this):this._callState!==Wt?(console.error("the meeting must be joined before calling updateCustomTrayButtons"),this):Er(re)?(this.sendMessageToCallMachine({action:"update-custom-tray-buttons",btns:re}),this._customTrayButtons=re,this):(console.error("updateCustomTrayButtons only accepts a dictionary of the type ".concat(JSON.stringify(Ze))),this)}},{key:"theme",value:function(){return this._callObjectMode?(console.error("theme is not available in callObject mode"),this):this.properties.theme}},{key:"setTheme",value:function(re){var ye=this;return new Promise(function(nt,Ht){if(ye._callObjectMode)Ht("setTheme is not available in callObject mode");else try{ye.validateProperties({theme:re}),ye.properties.theme=xi({},re),ye.sendMessageToCallMachine({action:"set-theme",theme:ye.properties.theme});try{ye.emit("theme-updated",{action:"theme-updated",theme:ye.properties.theme})}catch(on){console.log("could not emit 'theme-updated'",on)}nt(ye.properties.theme)}catch(on){Ht(on)}})}},{key:"detectAllFaces",value:function(){var re=this;return Ct(),new Promise(function(ye,nt){re.sendMessageToCallMachine({action:"detect-all-faces"},function(Ht){delete Ht.action,delete Ht.callbackStamp,ye(Ht)})})}},{key:"requestFullscreen",value:function(){var re=u(function*(){if(Ct(),this._iframe&&!document.fullscreenElement&&Gt())try{(yield this._iframe.requestFullscreen)?this._iframe.requestFullscreen():this._iframe.webkitRequestFullscreen()}catch(ye){console.log("could not make video call fullscreen",ye)}});return function(){return re.apply(this,arguments)}}()},{key:"exitFullscreen",value:function(){Ct(),document.fullscreenElement?document.exitFullscreen():document.webkitFullscreenElement&&document.webkitExitFullscreen()}},{key:"room",value:function(){var re=u(function*(){var ye=this,nt=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).includeRoomConfigDefaults,Ht=nt===void 0||nt;return this._accessState.access===Ie||this.needsLoad()?this.properties.url?{roomUrlPendingJoin:this.properties.url}:null:new Promise(function(on,Mn){ye.sendMessageToCallMachine({action:"lib-room-info",includeRoomConfigDefaults:Ht},function(Zn){delete Zn.action,delete Zn.callbackStamp,on(Zn)})})});return function(){return re.apply(this,arguments)}}()},{key:"geo",value:function(){var re=u(function*(){return new Promise(function(){var ye=u(function*(nt,Ht){try{var on=yield fetch("https://gs.daily.co/_ks_/x-swsl/:");nt({current:(yield on.json()).geo})}catch(Mn){console.error("geo lookup failed",Mn),nt({current:""})}});return function(nt,Ht){return ye.apply(this,arguments)}}())});return function(){return re.apply(this,arguments)}}()},{key:"setNetworkTopology",value:function(){var re=u(function*(ye){var nt=this;return Ct(),new Promise(function(){var Ht=u(function*(on,Mn){nt.sendMessageToCallMachine({action:"set-network-topology",opts:ye},function(Zn){Zn.error?Mn({error:Zn.error}):on({workerId:Zn.workerId})})});return function(on,Mn){return Ht.apply(this,arguments)}}())});return function(ye){return re.apply(this,arguments)}}()},{key:"getNetworkTopology",value:function(){var re=u(function*(){var ye=this;return new Promise(function(){var nt=u(function*(Ht,on){ye.sendMessageToCallMachine({action:"get-network-topology"},function(Mn){Mn.error?on({error:Mn.error}):Ht({topology:Mn.topology})})});return function(Ht,on){return nt.apply(this,arguments)}}())});return function(){return re.apply(this,arguments)}}()},{key:"setPlayNewParticipantSound",value:function(re){if(Ct(),typeof re!="number"&&re!==!0&&re!==!1)throw new Error("argument to setShouldPlayNewParticipantSound should be true, false, or a number, but is ".concat(re));this.sendMessageToCallMachine({action:"daily-method-set-play-ding",arg:re})}},{key:"on",value:function(re,ye){return this._inputEventsOn[re]={},this.sendMessageToCallMachine({action:"register-input-handler",on:re}),o.a.prototype.on.call(this,re,ye)}},{key:"once",value:function(re,ye){return this._inputEventsOn[re]={},this.sendMessageToCallMachine({action:"register-input-handler",on:re}),o.a.prototype.once.call(this,re,ye)}},{key:"off",value:function(re,ye){return delete this._inputEventsOn[re],this.sendMessageToCallMachine({action:"register-input-handler",off:re}),o.a.prototype.off.call(this,re,ye)}},{key:"validateProperties",value:function(re){for(var ye in re){if(!_e[ye])throw new Error("unrecognized property '".concat(ye,"'"));if(_e[ye].validate&&!_e[ye].validate(re[ye],this))throw new Error("property '".concat(ye,"': ").concat(_e[ye].help))}}},{key:"assembleMeetingUrl",value:function(){var re=xi(xi({},this.properties),{},{emb:this._callFrameId,embHref:encodeURIComponent(window.location.href)}),ye=re.url.match(/\?/)?"&":"?";return re.url+ye+Object.keys(_e).filter(function(nt){return _e[nt].queryString&&re[nt]!==void 0}).map(function(nt){return"".concat(_e[nt].queryString,"=").concat(re[nt])}).join("&")}},{key:"needsLoad",value:function(){return[ot,ze,zt,at].includes(this._callState)}},{key:"sendMessageToCallMachine",value:function(re,ye){this._messageChannel.sendMessageToCallMachine(re,ye,this._iframe,this._callFrameId)}},{key:"forwardPackagedMessageToCallMachine",value:function(re){this._messageChannel.forwardPackagedMessageToCallMachine(re,this._iframe,this._callFrameId)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(re){return this._messageChannel.addListenerForPackagedMessagesFromCallMachine(re,this._callFrameId)}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(re){this._messageChannel.removeListenerForPackagedMessagesFromCallMachine(re)}},{key:"handleMessageFromCallMachine",value:function(re){switch(re.action){case"iframe-ready-for-launch-config":this.sendMessageToCallMachine(xi({action:"iframe-launch-config"},this.properties));break;case"loaded":this._loadedCallback&&(this._loadedCallback(),this._loadedCallback=null);try{this.emit(re.action,re)}catch(ho){console.log("could not emit",re,ho)}break;case"joined-meeting":this._joinedCallback&&(this._joinedCallback(re.participants),this._joinedCallback=null);try{this.emit(re.action,re)}catch(ho){console.log("could not emit",re,ho)}break;case"participant-joined":case"participant-updated":if(this._callState===zt)return;if(re.participant&&re.participant.session_id){var ye=re.participant.local?"local":re.participant.session_id;this._callObjectMode&&(qs(re.participant),Il(re.participant),_l(re.participant,this._participants[ye]));try{this.maybeEventTrackStopped(this._participants[ye],re.participant,"audioTrack"),this.maybeEventTrackStopped(this._participants[ye],re.participant,"videoTrack"),this.maybeEventTrackStopped(this._participants[ye],re.participant,"screenVideoTrack"),this.maybeEventTrackStopped(this._participants[ye],re.participant,"screenAudioTrack"),this.maybeEventTrackStarted(this._participants[ye],re.participant,"audioTrack"),this.maybeEventTrackStarted(this._participants[ye],re.participant,"videoTrack"),this.maybeEventTrackStarted(this._participants[ye],re.participant,"screenVideoTrack"),this.maybeEventTrackStarted(this._participants[ye],re.participant,"screenAudioTrack"),this.maybeEventTrackStoppedForCustomTracks(this._participants[ye],re.participant),this.maybeEventTrackStartedForCustomTracks(this._participants[ye],re.participant),this.maybeEventRecordingStopped(this._participants[ye],re.participant),this.maybeEventRecordingStarted(this._participants[ye],re.participant)}catch(ho){console.error("track events error",ho)}if(!this.compareEqualForParticipantUpdateEvent(re.participant,this._participants[ye])){this._participants[ye]=xi({},re.participant),this.toggleParticipantAudioBasedOnNativeAudioFocus();try{this.emit(re.action,re)}catch(ho){console.log("could not emit",re,ho)}}}break;case"participant-left":if(re.participant&&re.participant.session_id){var nt=this._participants[re.participant.session_id];nt&&(this.maybeEventTrackStopped(nt,null,"audioTrack"),this.maybeEventTrackStopped(nt,null,"videoTrack"),this.maybeEventTrackStopped(nt,null,"screenVideoTrack"),this.maybeEventTrackStopped(nt,null,"screenAudioTrack"),this.maybeEventTrackStoppedForCustomTracks(nt,null)),delete this._participants[re.participant.session_id];try{this.emit(re.action,re)}catch(ho){console.log("could not emit",re,ho)}}break;case"participant-counts-updated":if(!be(this._participantCounts,re.participantCounts)){this._participantCounts=re.participantCounts;try{this.emit(re.action,re)}catch(ho){console.log("could not emit",re,ho)}}break;case"access-state-updated":var Ht={access:re.access};if(re.awaitingAccess&&(Ht.awaitingAccess=re.awaitingAccess),!be(this._accessState,Ht)){this._accessState=Ht;try{this.emit(re.action,re)}catch(ho){console.log("could not emit",re,ho)}}break;case"meeting-session-updated":if(re.meetingSession)try{delete re.callFrameId,this.emit(re.action,re)}catch(ho){console.log("could not emit",re,ho)}break;case"error":this._iframe&&!re.preserveIframe&&(this._iframe.src=""),this._updateCallState(at),this.resetMeetingDependentVars(),this._loadedCallback&&(this._loadedCallback(re.errorMsg),this._loadedCallback=null),this._joinedCallback&&(this._joinedCallback(null,re.errorMsg),this._joinedCallback=null);try{re.preserveIframe;var on=d(re,["preserveIframe"]);this.emit(re.action,on)}catch(ho){console.log("could not emit",re,ho)}break;case"left-meeting":this._callState!==at&&this._updateCallState(zt),this.resetMeetingDependentVars(),this._resolveLeave&&(this._resolveLeave(),this._resolveLeave=null);try{this.emit(re.action,re)}catch(ho){console.log("could not emit",re,ho)}break;case"input-event":var Mn=this._participants[re.session_id];Mn||(Mn=re.session_id===this._participants.local.session_id?this._participants.local:{});try{this.emit(re.event.type,{action:re.event.type,event:re.event,participant:xi({},Mn)})}catch(ho){console.log("could not emit",re,ho)}break;case"selected-devices-updated":if(re.devices)try{this.emit(re.action,re)}catch(ho){console.log("could not emit",re,ho)}break;case"network-quality-change":var Zn=re.threshold,to=re.quality;if(Zn!==this._network.threshold||to!==this._network.quality){this._network.quality=to,this._network.threshold=Zn;try{this.emit(re.action,re)}catch(ho){console.log("could not emit",re,ho)}}break;case"active-speaker-change":var Yr=re.activeSpeaker;if(this._activeSpeaker.peerId!==Yr.peerId){this._activeSpeaker.peerId=Yr.peerId;try{this.emit(re.action,{action:re.action,activeSpeaker:this._activeSpeaker})}catch(ho){console.log("could not emit",re,ho)}}break;case"show-local-video-changed":if(this._callObjectMode)return;var Oo=re.show;this._showLocalVideo=Oo;try{this.emit(re.action,{action:re.action,show:Oo})}catch(ho){console.log("could not emit",re,ho)}break;case"active-speaker-mode-change":var mo=re.enabled;if(this._activeSpeakerMode!==mo){this._activeSpeakerMode=mo;try{this.emit(re.action,{action:re.action,enabled:this._activeSpeakerMode})}catch(ho){console.log("could not emit",re,ho)}}break;case"waiting-participant-added":case"waiting-participant-updated":case"waiting-participant-removed":this._waitingParticipants=re.allWaitingParticipants;try{this.emit(re.action,{action:re.action,participant:re.participant})}catch(ho){console.log("could not emit",re,ho)}break;case"receive-settings-updated":if(!be(this._receiveSettings,re.receiveSettings)){this._receiveSettings=re.receiveSettings;try{this.emit(re.action,{action:re.action,receiveSettings:re.receiveSettings})}catch(ho){console.log("could not emit",re,ho)}}break;case"input-settings-updated":if(!be(this._inputSettings,re.inputSettings)){this._inputSettings=re.inputSettings;try{this.emit(re.action,{action:re.action,inputSettings:re.inputSettings})}catch(ho){console.log("could not emit",re,ho)}}break;case"remote-media-player-started":var xo=re.session_id;this._rmpPlayerState[xo]=re.playerState,this.emitDailyJSEvent(re);break;case"remote-media-player-stopped":delete this._rmpPlayerState[re.session_id],this.emitDailyJSEvent(re);break;case"remote-media-player-updated":var no=re.session_id,Bo=this._rmpPlayerState[no];Bo&&this.compareEqualForRMPUpdateEvent(Bo,re.remoteMediaPlayerState)||(this._rmpPlayerState[no]=re.remoteMediaPlayerState,this.emitDailyJSEvent(re));break;case"custom-button-click":this.emitDailyJSEvent(re);break;case"meeting-session-state-updated":this._meetingSessionState=re.meetingSessionState,this.emitDailyJSEvent(re);break;case"recording-started":case"recording-stopped":case"recording-stats":case"recording-error":case"recording-upload-completed":case"transcription-started":case"transcription-stopped":case"transcription-error":case"started-camera":case"camera-error":case"app-message":case"local-screen-share-started":case"local-screen-share-stopped":case"network-connection":case"recording-data":case"live-streaming-started":case"live-streaming-stopped":case"live-streaming-error":case"nonfatal-error":case"lang-updated":try{this.emit(re.action,re)}catch(ho){console.log("could not emit",re,ho)}break;case"request-fullscreen":this.requestFullscreen();break;case"request-exit-fullscreen":this.exitFullscreen()}}},{key:"maybeEventRecordingStopped",value:function(re,ye){var nt="record";if(re&&!ye.local&&ye[nt]===!1&&re[nt]!==ye[nt])try{this.emit("recording-stopped",{action:"recording-stopped"})}catch(Ht){console.log("could not emit",Ht)}}},{key:"maybeEventRecordingStarted",value:function(re,ye){var nt="record";if(re&&!ye.local&&ye[nt]===!0&&re[nt]!==ye[nt])try{this.emit("recording-started",{action:"recording-started"})}catch(Ht){console.log("could not emit",Ht)}}},{key:"maybeEventTrackStopped",value:function(re,ye,nt){if(re&&(re[nt]&&re[nt].readyState==="ended"||re[nt]&&(!ye||!ye[nt])||re[nt]&&re[nt].id!==ye[nt].id))try{this.emit("track-stopped",{action:"track-stopped",track:re[nt],participant:ye})}catch(Ht){console.log("could not emit",Ht)}}},{key:"maybeEventCustomTrackStopped",value:function(re,ye,nt){if(re&&(re&&re.readyState==="ended"||re&&!ye||re&&re.id!==ye.id))try{this.emit("track-stopped",{action:"track-stopped",track:re,participant:nt})}catch(Ht){console.log("maybeEventCustomTrackStopped: could not emit",Ht)}}},{key:"maybeEventCustomTrackStarted",value:function(re,ye,nt){if(ye&&!re||ye&&re.readyState==="ended"||ye&&ye.id!==re.id)try{this.emit("track-started",{action:"track-started",track:ye,participant:nt})}catch(Ht){console.log("maybeEventCustomTrackStarted: could not emit",Ht)}}},{key:"maybeEventTrackStarted",value:function(re,ye,nt){if(ye[nt]&&(!re||!re[nt])||ye[nt]&&re[nt].readyState==="ended"||ye[nt]&&ye[nt].id!==re[nt].id)try{this.emit("track-started",{action:"track-started",track:ye[nt],participant:ye})}catch(Ht){console.log("could not emit",Ht)}}},{key:"maybeEventTrackStoppedForCustomTracks",value:function(re,ye){if(re)for(var nt in re.tracks)el(nt)||this.maybeEventCustomTrackStopped(re.tracks[nt].track,ye&&ye.tracks[nt]?ye.tracks[nt].track:null,ye)}},{key:"maybeEventTrackStartedForCustomTracks",value:function(re,ye){if(ye)for(var nt in ye.tracks)el(nt)||this.maybeEventCustomTrackStarted(re&&re.tracks[nt]?re.tracks[nt].track:null,ye.tracks[nt].track,ye)}},{key:"compareEqualForRMPUpdateEvent",value:function(re,ye){var nt,Ht;return re.state===ye.state&&((nt=re.settings)===null||nt===void 0?void 0:nt.volume)===((Ht=ye.settings)===null||Ht===void 0?void 0:Ht.volume)}},{key:"emitDailyJSEvent",value:function(re){try{this.emit(re.action,re)}catch(ye){console.log("could not emit",re,ye)}}},{key:"compareEqualForParticipantUpdateEvent",value:function(re,ye){return!!be(re,ye)&&(!re.videoTrack||!ye.videoTrack||re.videoTrack.id===ye.videoTrack.id&&re.videoTrack.muted===ye.videoTrack.muted&&re.videoTrack.enabled===ye.videoTrack.enabled)&&(!re.audioTrack||!ye.audioTrack||re.audioTrack.id===ye.audioTrack.id&&re.audioTrack.muted===ye.audioTrack.muted&&re.audioTrack.enabled===ye.audioTrack.enabled)}},{key:"nativeUtils",value:function(){return An()?typeof DailyNativeUtils=="undefined"?(console.warn("in React Native, DailyNativeUtils is expected to be available"),null):DailyNativeUtils:null}},{key:"updateIsPreparingToJoin",value:function(re){this._updateCallState(this._callState,re)}},{key:"_updateCallState",value:function(re){var ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._isPreparingToJoin;if(re!==this._callState||ye!==this._isPreparingToJoin){var nt=this._callState,Ht=this._isPreparingToJoin;this._callState=re,this._isPreparingToJoin=ye;var on=this._isCallPendingOrOngoing(nt,Ht),Mn=this._isCallPendingOrOngoing(this._callState,this._isPreparingToJoin);on!==Mn&&(this.updateKeepDeviceAwake(Mn),this.updateDeviceAudioMode(Mn),this.updateShowAndroidOngoingMeetingNotification(Mn),this.updateNoOpRecordingEnsuringBackgroundContinuity(Mn))}}},{key:"resetMeetingDependentVars",value:function(){this._participants={},this._participantCounts=Bl,this._waitingParticipants={},this._activeSpeaker={},this._activeSpeakerMode=!1,this._didPreAuth=!1,this._accessState={access:Ie},this._meetingSessionState=xl,this._receiveSettings={},this._inputSettings={},this._preloadCache}},{key:"updateKeepDeviceAwake",value:function(re){An()&&this.nativeUtils().setKeepDeviceAwake(re,this._callFrameId)}},{key:"updateDeviceAudioMode",value:function(re){if(An()&&!this.disableReactNativeAutoDeviceManagement("audio")){var ye=re?this._nativeInCallAudioMode:"idle";this.nativeUtils().setAudioMode(ye)}}},{key:"updateShowAndroidOngoingMeetingNotification",value:function(re){if(An()&&this.nativeUtils().setShowOngoingMeetingNotification){var ye,nt,Ht,on;if(this.properties.reactNativeConfig&&this.properties.reactNativeConfig.androidInCallNotification){var Mn=this.properties.reactNativeConfig.androidInCallNotification;ye=Mn.title,nt=Mn.subtitle,Ht=Mn.iconName,on=Mn.disableForCustomOverride}on&&(re=!1),this.nativeUtils().setShowOngoingMeetingNotification(re,ye,nt,Ht,this._callFrameId)}}},{key:"updateNoOpRecordingEnsuringBackgroundContinuity",value:function(re){An()&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity(re)}},{key:"_isCallPendingOrOngoing",value:function(re,ye){return[vt,Wt].includes(re)||ye}},{key:"toggleParticipantAudioBasedOnNativeAudioFocus",value:function(){if(An()){var re=store.getState();for(var ye in re.streams){var nt=re.streams[ye];nt&&nt.pendingTrack&&nt.pendingTrack.kind==="audio"&&(nt.pendingTrack.enabled=this._hasNativeAudioFocus)}}}},{key:"disableReactNativeAutoDeviceManagement",value:function(re){return this.properties.reactNativeConfig&&this.properties.reactNativeConfig.disableAutoDeviceManagement&&this.properties.reactNativeConfig.disableAutoDeviceManagement[re]}},{key:"absoluteUrl",value:function(re){if(re!==void 0){var ye=document.createElement("a");return ye.href=re,ye.href}}},{key:"sayHello",value:function(){var re="hello, world.";return console.log(re),re}}]),pe}()}).call(this,t(173))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(k,n,t){(function(e){var a="Expected a function",o=0/0,l="[object Symbol]",d=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,f=/^0o[0-7]+$/i,m=parseInt,p=typeof e=="object"&&e&&e.Object===Object&&e,g=typeof self=="object"&&self&&self.Object===Object&&self,O=p||g||Function("return this")(),s=Object.prototype,r=s.toString,i=Math.max,h=Math.min,v=function(){return O.Date.now()};function j(_,M,F){var H,C,T,S,D,w,U=0,V=!1,K=!1,Y=!0;if(typeof _!="function")throw new TypeError(a);M=A(M)||0,b(F)&&(V=!!F.leading,K="maxWait"in F,T=K?i(A(F.maxWait)||0,M):T,Y="trailing"in F?!!F.trailing:Y);function W(de){var be=H,X=C;return H=C=void 0,U=de,S=_.apply(X,be),S}function R(de){return U=de,D=setTimeout(G,M),V?W(de):S}function B(de){var be=de-w,X=de-U,ie=M-be;return K?h(ie,T-X):ie}function x(de){var be=de-w,X=de-U;return w===void 0||be>=M||be<0||K&&X>=T}function G(){var de=v();if(x(de))return Q(de);D=setTimeout(G,B(de))}function Q(de){return D=void 0,Y&&H?W(de):(H=C=void 0,S)}function he(){D!==void 0&&clearTimeout(D),U=0,H=w=C=D=void 0}function Z(){return D===void 0?S:Q(v())}function le(){var de=v(),be=x(de);if(H=arguments,C=this,w=de,be){if(D===void 0)return R(w);if(K)return D=setTimeout(G,M),W(w)}return D===void 0&&(D=setTimeout(G,M)),S}return le.cancel=he,le.flush=Z,le}function y(_,M,F){var H=!0,C=!0;if(typeof _!="function")throw new TypeError(a);return b(F)&&(H="leading"in F?!!F.leading:H,C="trailing"in F?!!F.trailing:C),j(_,M,{leading:H,maxWait:M,trailing:C})}function b(_){var M=typeof _;return!!_&&(M=="object"||M=="function")}function E(_){return!!_&&typeof _=="object"}function P(_){return typeof _=="symbol"||E(_)&&r.call(_)==l}function A(_){if(typeof _=="number")return _;if(P(_))return o;if(b(_)){var M=typeof _.valueOf=="function"?_.valueOf():_;_=b(M)?M+"":M}if(typeof _!="string")return _===0?_:+_;_=_.replace(d,"");var F=u.test(_);return F||f.test(_)?m(_.slice(2),F?2:8):c.test(_)?o:+_}k.exports=y}).call(this,t(173))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(k,n,t){"use strict";t.r(n);var e=t(149),a=t(98),o=t(0),l=t(1),d=t(5),c=t.n(d),u=t(95),f=t.n(u),m=t(49),p=t(529),g=t(4),O=t(1132),s=t(1215),r=t(9);class i extends o.Component{render({html:_e,children:xe,metadata:Et}){return Object(o.h)("div",{className:"container-border"},Object(r.setMetaData)(Et),Object(o.h)("div",{className:"container"},Object(o.h)("div",{className:"page typography"},xe,Object(o.h)("div",{className:"body markup",dangerouslySetInnerHTML:{__html:_e}}))))}}var h=t(866),v=t(914),j=t(827),y=t(15),b=t(11),E=t(1376),P={container:"frontend-components-newsletters_page-module__container--2Kr9-",newsletterList:"frontend-components-newsletters_page-module__newsletterList--2lIEK",accountLink:"frontend-components-newsletters_page-module__accountLink--2PcEU"},A=Object.defineProperty,_=Object.defineProperties,M=Object.getOwnPropertyDescriptors,F=Object.getOwnPropertySymbols,H=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,T=(Ze,_e,xe)=>_e in Ze?A(Ze,_e,{enumerable:!0,configurable:!0,writable:!0,value:xe}):Ze[_e]=xe,S=(Ze,_e)=>{for(var xe in _e||(_e={}))H.call(_e,xe)&&T(Ze,xe,_e[xe]);if(F)for(var xe of F(_e))C.call(_e,xe)&&T(Ze,xe,_e[xe]);return Ze},D=(Ze,_e)=>_(Ze,M(_e));const w=({pub:Ze,user:_e})=>{const xe=Object(j.d)({pub:Ze,includeMainPub:!0}).map(Et=>D(S({},Et),{linkUrl:Object(g.updateQuery)(Et.linkUrl,{utm_source:"newsletter_page"}),selected:Et.defaultOn}));return xe.length===0?(typeof window!="undefined"&&(window.location.href=Object(y.getBaseUrl)(Ze)),Object(o.h)("div",null,"loading...")):Object(o.h)("div",{className:c()("page","typography",P.container)},Object(o.h)(b.o,null,Object(o.h)(b.p,{justifyContent:"space-between",alignItems:"center"},Object(o.h)(b.o,{gap:8,paddingBottom:40,paddingTop:48},Object(o.h)(b.D.H1,{size:32,lineHeight:40,color:"pub-primary-text"},"Newsletters"),Object(o.h)(b.D.B3,{size:16,lineHeight:20,color:"pub-secondary-text"},"Get the best of ",Ze.name," in your inbox.",(_e==null?void 0:_e.is_subscribed)?Object(o.h)(o.Fragment,null," ","You can manage your subscription in your ",Object(o.h)("a",{className:P.accountLink,href:Object(g.getPubAccountSettingsUrl)(Ze),native:!0},"account settings"),"."):"")),(!_e||!_e.is_subscribed)&&Object(o.h)(b.d,{priority:"primary-theme",href:Object(g.getSubscribeUrl)(Ze,{addBase:!0,utm_source:"newsletter_page"}),localNavigation:!1},"Subscribe")),Object(o.h)(b.j,{weight:1,priority:"detail-themed"}),Object(o.h)("div",{className:P.newsletterList},Object(o.h)(E.a,{newsletters:xe,hideLinks:!1,justifyItems:"start"}))))};var U=t(826),V=t(129),K=t(287),Y=t(795),W=t(42),R={pubTheme:"frontend-components-PubTheme-module__pubTheme--1Wr9z"};function B({children:Ze}){return Object(o.h)("div",{className:R.pubTheme},Ze)}var x=t(375),G=t(18),Q=t(2),he=t(60),Z=t(267),le=t(90),de=t(19),be=t(224),X=t(79),ie={container:"frontend-feed-PublicationPage-module__container--uPO4f",column:"frontend-feed-PublicationPage-module__column--28-98"},Ce=Object.defineProperty,Le=Object.defineProperties,Ae=Object.getOwnPropertyDescriptors,Pe=Object.getOwnPropertySymbols,Ne=Object.prototype.hasOwnProperty,ce=Object.prototype.propertyIsEnumerable,q=(Ze,_e,xe)=>_e in Ze?Ce(Ze,_e,{enumerable:!0,configurable:!0,writable:!0,value:xe}):Ze[_e]=xe,te=(Ze,_e)=>{for(var xe in _e||(_e={}))Ne.call(_e,xe)&&q(Ze,xe,_e[xe]);if(Pe)for(var xe of Pe(_e))ce.call(_e,xe)&&q(Ze,xe,_e[xe]);return Ze},ue=(Ze,_e)=>Le(Ze,Ae(_e));function We(){return Object(o.h)(B,null,Object(o.h)(x.a,null,Object(o.h)(Q.a,{justifyContent:"center",className:ie.container},Object(o.h)(Q.b,{minWidth:0,style:{flex:"1 1 1px",maxWidth:550},className:ie.column},Object(o.h)(ot,null)))))}function ot(){var Ze,_e;const xe=Object(K.b)(),Et=Object(X.c)((Ze=xe==null?void 0:xe.id)!=null?Ze:0),[Ct,mn]=Object(l.j)(he.d,he.c),{canFetchMore:Cn,lastPage:an,fetchMore:gn,hasLoadedOnce:Bn}=Object(G.g)({pathname:"/api/v1/notes",getPageInit:({lastPage:xr,init:J})=>{var oe;const pe=(oe=xr==null?void 0:xr.result)==null?void 0:oe.nextCursor;return pe&&(J.query=ue(te({},J.query),{cursor:pe})),J},auto:!0,deps:[],pages:Ct.pages,dispatch:mn}),lr=Cn&&Boolean((_e=an==null?void 0:an.result)==null?void 0:_e.nextCursor),{bodyRef:Er}=Object(be.a)(gn,[an],{shouldCheck:lr,threshold:640}),kr=Ct.pages.map(xr=>{var J;return((J=xr.result)==null?void 0:J.items)||[]}).flat();return Object(o.h)(Z.FeedProvider,{surface:W.a.Publication,dispatch:mn,state:Ct},Object(o.h)(Q.b,{ref:Er},(Et==null?void 0:Et.is_in_notes_feed)&&Object(o.h)(Q.b,{padding:16,borderBottom:"detail"},Object(o.h)(le.c,null)),kr.map(xr=>Object(o.h)(Z.FeedItem,{item:ue(te({},xr),{publication:xr.publication?Ct.publications.get(xr.publication.id):xr.publication,post:xr.post?Ct.posts.get(xr.post.id):xr.post,comment:xr.comment?Ct.comments.get(xr.comment.id):xr.comment,parentComments:xr.parentComments?xr.parentComments.map(J=>J&&Ct.comments.get(J.id)||null):xr.parentComments})})),(an==null?void 0:an.isLoading)||!Bn?Object(o.h)(Z.LotsOfNotes,null):kr.length===0?Object(o.h)(Q.a,{justifyContent:"center",alignItems:"center",flex:"grow",style:{minHeight:"calc(100dvh - 300px)"}},Object(o.h)(de.Q,{icon:Object(o.h)(Y.a,{className:"zero-icon"}),title:`The authors of ${(xe==null?void 0:xe.name)||"This publication"} haven't published any notes yet.`,text:"Check back later to see if they've posted anything new."})):null))}var ze=t(7),vt=t(26),Wt=Object.defineProperty,zt=Object.defineProperties,at=Object.getOwnPropertyDescriptors,Me=Object.getOwnPropertySymbols,Be=Object.prototype.hasOwnProperty,Xe=Object.prototype.propertyIsEnumerable,Te=(Ze,_e,xe)=>_e in Ze?Wt(Ze,_e,{enumerable:!0,configurable:!0,writable:!0,value:xe}):Ze[_e]=xe,we=(Ze,_e)=>{for(var xe in _e||(_e={}))Be.call(_e,xe)&&Te(Ze,xe,_e[xe]);if(Me)for(var xe of Me(_e))Xe.call(_e,xe)&&Te(Ze,xe,_e[xe]);return Ze},De=(Ze,_e)=>zt(Ze,at(_e));function Ie(){const Ze=Object(vt.e)();return Object(l.d)(()=>{const _e=new URL(location.toString());!_e.searchParams.get("founding-member-confirmation")||(_e.searchParams.delete("founding-member-confirmation"),history.replaceState({},"",_e),Ze.popToast(Et=>Object(o.h)(vt.c,De(we({},Et),{text:"You upgraded to a founding tier subscription. Thank you!"}))))},[]),null}var He=t(204),Ve=t(1135),z=t(61),se=t(699),Se=t(377),Oe=t(1430),ge=t(3),je=t(200),it=t(1681),Tt=t.n(it);function sn(Ze,_e,xe,Et,Ct,mn,Cn){try{var an=Ze[mn](Cn),gn=an.value}catch(Bn){xe(Bn);return}an.done?_e(gn):Promise.resolve(gn).then(Et,Ct)}function ht(Ze){return function(){var _e=this,xe=arguments;return new Promise(function(Et,Ct){var mn=Ze.apply(_e,xe);function Cn(gn){sn(mn,Et,Ct,Cn,an,"next",gn)}function an(gn){sn(mn,Et,Ct,Cn,an,"throw",gn)}Cn(void 0)})}}function Nt(){return Nt=Object.assign||function(Ze){for(var _e=1;_e<arguments.length;_e++){var xe=arguments[_e];for(var Et in xe)Object.prototype.hasOwnProperty.call(xe,Et)&&(Ze[Et]=xe[Et])}return Ze},Nt.apply(this,arguments)}function wt(Ze,_e){if(Ze==null)return{};var xe={},Et=Object.keys(Ze),Ct,mn;for(mn=0;mn<Et.length;mn++)Ct=Et[mn],!(_e.indexOf(Ct)>=0)&&(xe[Ct]=Ze[Ct]);return xe}function yt(Ze,_e){if(!!Ze){if(typeof Ze=="string")return Qe(Ze,_e);var xe=Object.prototype.toString.call(Ze).slice(8,-1);if(xe==="Object"&&Ze.constructor&&(xe=Ze.constructor.name),xe==="Map"||xe==="Set")return Array.from(Ze);if(xe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(xe))return Qe(Ze,_e)}}function Qe(Ze,_e){(_e==null||_e>Ze.length)&&(_e=Ze.length);for(var xe=0,Et=new Array(_e);xe<_e;xe++)Et[xe]=Ze[xe];return Et}function At(Ze,_e){var xe=typeof Symbol!="undefined"&&Ze[Symbol.iterator]||Ze["@@iterator"];if(xe)return(xe=xe.call(Ze)).next.bind(xe);if(Array.isArray(Ze)||(xe=yt(Ze))||_e&&Ze&&typeof Ze.length=="number"){xe&&(Ze=xe);var Et=0;return function(){return Et>=Ze.length?{done:!0}:{done:!1,value:Ze[Et++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var jt=Object(ge.createContext)(null),ke=function(){var _e=Object(ge.useContext)(jt);return _e},tn=Object(ge.createContext)({on:function(){},off:function(){}}),Pn=0,Ft=function(){return Pn++},lt=function(_e,xe){var Et=Object(ge.useContext)(tn),Ct=Et.off,mn=Et.on,Cn=Object(ge.useState)(!1),an=Cn[0],gn=Cn[1],Bn=Object(ge.useRef)(0),lr=Object(ge.useMemo)(function(){return Ft()},[]);Object(ge.useEffect)(function(){if(!(!_e||an)){if(Bn.current>1e5){console.error(`useDailyEvent called with potentially non-memoized event callback or due to too many re-renders.
        Memoize using useCallback to avoid re-render loop or reduce the amount of state transitions the callback depends on.
        Passed callback for '`+_e+"' event is NOT registered.",xe),gn(!0);return}Bn.current++;var Er=setTimeout(function(){Bn.current=0},50);return mn(_e,xe,lr),function(){clearTimeout(Er),Ct(_e,lr)}}},[xe,_e,lr,an,Ct,mn])},Rt=function(_e,xe,Et){Et===void 0&&(Et=100);var Ct=Object(ge.useContext)(tn),mn=Ct.off,Cn=Ct.on,an=Object(ge.useMemo)(function(){var lr;return Array.isArray(_e)?_e.reduce(function(Er,kr){return Er[kr]=Ft(),Er},{}):(lr={},lr[_e]=Ft(),lr)},[_e]),gn=Object(ge.useRef)([]),Bn=Object(ge.useMemo)(function(){return Tt()(function(){gn.current.length!==0&&(xe(gn.current),gn.current=[])},Et,{trailing:!0})},[xe,Et]);Object(ge.useEffect)(function(){if(!!_e){var lr=function(kr){gn.current.push(kr),setTimeout(Bn,0)};return Array.isArray(_e)?_e.forEach(function(Er){return Cn(Er,lr,an[Er])}):Cn(_e,lr,an[_e]),function(){Array.isArray(_e)?_e.forEach(function(Er){return mn(Er,an[Er])}):mn(_e,an[_e])}}},[Bn,_e,an,mn,Cn])},ln="daily-react-",Mt=function(_e,xe){return String(xe).split(".").filter(function(Et){return Et.length}).reduce(function(Et,Ct){return Et&&Et[Ct]},_e)},$t=function(_e,xe){return xe.map(function(Et){return Mt(_e,Et)})},nn=Object(je.b)({key:ln+"active-id",default:null}),Bt=Object(je.b)({key:ln+"local-id",default:""}),Kt=Object(je.b)({key:ln+"participants-objects",default:[]}),Sn=Object(je.e)({key:ln+"participant",get:function(_e){return function(xe){var Et,Ct=xe.get,mn=Ct(Kt);return(Et=mn.find(function(Cn){return Cn.session_id===_e}))!=null?Et:null}}}),Qn=Object(je.e)({key:ln+"participant-property",get:function(_e){var xe=_e.id,Et=_e.properties;return function(Ct){var mn,Cn=Ct.get,an=Cn(Kt),gn=(mn=an.find(function(Bn){return Bn.session_id===xe}))!=null?mn:null;return $t(gn,Et)}}}),rr=function(_e){var xe=_e.children,Et=ke(),Ct=Object(je.f)(function(Cn){var an=Cn.transact_UNSTABLE;return function(gn){an(function(Bn){var lr=Bn.set;lr(Bt,gn.local.session_id),lr(Kt,Object.values(gn))})}},[]);Object(ge.useEffect)(function(){if(!!Et){var Cn=setInterval(function(){var an=Et.participants();"local"in an&&(Ct(an),clearInterval(Cn))},100);return function(){clearInterval(Cn)}}},[Et,Ct]);var mn=Object(ge.useCallback)(function(){if(!!Et){var Cn=Et==null?void 0:Et.participants();!Cn.local||Ct(Cn)}},[Et,Ct]);return lt("started-camera",mn),lt("access-state-updated",mn),lt("joining-meeting",mn),lt("joined-meeting",Object(ge.useCallback)(function(Cn){Ct(Cn.participants)},[Ct])),Rt(["active-speaker-change","participant-joined","participant-updated","participant-left"],Object(je.f)(function(Cn){var an=Cn.transact_UNSTABLE;return function(gn){an(function(Bn){var lr=Bn.set;gn.forEach(function(Er){switch(Er.action){case"active-speaker-change":{var kr=Er.activeSpeaker.peerId;lr(nn,kr),lr(Kt,function(xr){return[].concat(xr).map(function(J){return J.session_id===kr?Nt({},J,{last_active:new Date}):J})});break}case"participant-joined":lr(Kt,function(xr){return[].concat(xr,[Er.participant]).filter(function(J,oe,pe){return pe.findIndex(function(re){return re.session_id===J.session_id})==oe})});break;case"participant-updated":lr(Kt,function(xr){return[].concat(xr).map(function(J){return J.session_id===Er.participant.session_id?Nt({},Er.participant,{last_active:J.last_active}):J})});break;case"participant-left":lr(Kt,function(xr){return[].concat(xr).filter(function(J){return Er.participant.session_id!==J.session_id})});break}})})}},[])),lt("left-meeting",Object(je.f)(function(Cn){var an=Cn.reset;return function(){an(Bt),an(Kt)}},[])),ge.default.createElement(ge.default.Fragment,null,xe)},Mr=function(_e,xe){var Et=xe===void 0?{}:xe,Ct=Et.onParticipantLeft,mn=Et.onParticipantUpdated,Cn=Object(je.g)(Sn(_e));return Rt(["participant-updated","participant-left"],Object(ge.useCallback)(function(an){var gn=an.filter(function(Bn){return Bn.participant.session_id===_e});!gn.length||gn.forEach(function(Bn){switch(Bn.action){case"participant-updated":mn==null||mn(Bn);break;case"participant-left":Ct==null||Ct(Bn);break}})},[Ct,mn,_e])),Cn},zr=function(_e){var xe=_e===void 0?{}:_e,Et=xe.ignoreLocal,Ct=Et===void 0?!1:Et,mn=xe.onActiveSpeakerChange,Cn=ke(),an=Object(je.g)(nn),gn=Object(ge.useState)(""),Bn=gn[0],lr=gn[1],Er=Mr(Bn);return Object(ge.useEffect)(function(){var kr;if(!!Cn){var xr=Cn==null||(kr=Cn.participants())==null?void 0:kr.local;Ct&&an===(xr==null?void 0:xr.session_id)||lr(an!=null?an:"")}},[Cn,Ct,an]),lt("active-speaker-change",Object(ge.useCallback)(function(kr){mn==null||mn(kr)},[mn])),Er},dr=function(){return Object(je.g)(Bt)||null},Rr=Boolean,_r=function(){return 0},ro=function(_e){var xe=_e===void 0?{filter:Rr,sort:_r}:_e,Et=xe.filter,Ct=Et===void 0?Rr:Et,mn=xe.onActiveSpeakerChange,Cn=xe.onParticipantJoined,an=xe.onParticipantLeft,gn=xe.onParticipantUpdated,Bn=xe.sort,lr=Bn===void 0?_r:Bn,Er=Object(je.g)(Kt),kr=Object(ge.useMemo)(function(){var oe=Rr;switch(Ct){case"local":oe=function(re){return re.local};break;case"owner":oe=function(re){return re.owner};break;case"record":oe=function(re){return re.record};break;case"remote":oe=function(re){return!re.local};break;case"screen":oe=function(re){return re.screen};break;default:oe=Ct}return oe},[Ct]),xr=Object(ge.useMemo)(function(){var oe;switch(lr){case"joined_at":case"session_id":case"user_id":case"user_name":oe=function(re,ye){var nt=re[lr],Ht=ye[lr];if(nt!==void 0||Ht!==void 0){if(nt===void 0)return-1;if(Ht===void 0||nt>Ht)return 1;if(nt<Ht)return-1}return 0};break;default:oe=lr;break}return oe},[lr]),J=Object(ge.useMemo)(function(){return Er.filter(kr).sort(xr).map(function(oe){return oe.session_id}).filter(Boolean)},[Er,kr,xr]);return Rt(["participant-joined","participant-updated","active-speaker-change","participant-left"],Object(ge.useCallback)(function(oe){!oe.length||oe.forEach(function(pe){switch(pe.action){case"participant-joined":Cn==null||Cn(pe);break;case"participant-updated":gn==null||gn(pe);break;case"active-speaker-change":mn==null||mn(pe);break;case"participant-left":an==null||an(pe);break}})},[mn,Cn,an,gn])),J},Dn=function(_e){var xe=_e===void 0?{}:_e,Et=xe.onLocalScreenShareStarted,Ct=xe.onLocalScreenShareStopped,mn=ke(),Cn=Object(ge.useCallback)(function(lr){mn==null||mn.startScreenShare(lr)},[mn]),an=Object(ge.useCallback)(function(){mn==null||mn.stopScreenShare()},[mn]);lt("local-screen-share-started",Object(ge.useCallback)(function(){return Et==null?void 0:Et()},[Et])),lt("local-screen-share-stopped",Object(ge.useCallback)(function(){return Ct==null?void 0:Ct()},[Ct]));var gn=ro({filter:"screen"}),Bn=Object(ge.useMemo)(function(){return gn.map(function(lr){var Er,kr=Object.values((Er=mn==null||mn.participants==null?void 0:mn.participants())!=null?Er:{}),xr=kr.find(function(J){return J.session_id===lr});if(!!xr)return{local:xr.local,screenAudio:xr.tracks.screenAudio,screenVideo:xr.tracks.screenVideo,screenId:lr+"-screen",session_id:lr}}).filter(function(lr){return!!lr})},[mn,gn]);return{isSharingScreen:Bn.some(function(lr){return lr.local}),screens:Bn,startScreenShare:Cn,stopScreenShare:an}},ut=function(_e){return["blocked","off"].includes(_e.state)},fn=function(_e,xe){var Et=Object(je.g)(Qn({id:_e,properties:Array.isArray(xe)?xe:[xe]}));return Array.isArray(xe)?Et:Et[0]},On=function(_e,xe){xe===void 0&&(xe="video");var Et=fn(_e,"tracks."+xe);return Et?Nt({},Et,{isOff:Et.state==="blocked"||Et.state==="off"}):{isOff:!0,persistentTrack:void 0,state:"off",subscribed:!1}},Ot=function(_e){var xe=_e.onPlayFailed,Et=_e.sessionId,Ct=_e.type,mn=Ct===void 0?"audio":Ct,Cn=Object(ge.useRef)(null),an=On(Et,mn);return Object(ge.useEffect)(function(){var gn=Cn.current;if(!(!gn||!(an==null?void 0:an.persistentTrack))){var Bn,lr=function(){Bn=setTimeout(function(){gn.readyState===gn.HAVE_ENOUGH_DATA&&!gn.paused||xe==null||xe({sessionId:Et,target:gn,type:mn})},1500)},Er=function(){clearTimeout(Bn)};return gn.addEventListener("canplay",lr),gn.addEventListener("play",Er),gn.srcObject=new MediaStream([an==null?void 0:an.persistentTrack]),function(){gn==null||gn.removeEventListener("canplay",lr),gn==null||gn.removeEventListener("play",Er)}}},[an==null?void 0:an.persistentTrack,xe,Et,mn]),ge.default.createElement("audio",{autoPlay:!0,"data-session-id":Et,"data-audio-type":mn,playsInline:!0,ref:Cn})},kt=Object(ge.memo)(function(Ze){var _e=Ze.maxSpeakers,xe=_e===void 0?5:_e,Et=Ze.onPlayFailed,Ct=Ze.playLocalScreenAudio,mn=Ct===void 0?!1:Ct,Cn=Object(ge.useState)([]),an=Cn[0],gn=Cn[1],Bn=Dn(),lr=Bn.screens,Er=dr(),kr=zr({ignoreLocal:!0}),xr=ro({filter:Object(ge.useCallback)(function(pe){return!pe.local&&Boolean(pe.tracks.audio.subscribed)},[])}),J=Object(je.f)(function(pe){var re=pe.snapshot;return function(){var ye=ht(function*(nt){if(!!xr.includes(nt)){var Ht=yield re.getPromise(Kt);gn(function(on){var Mn;if(on.includes(nt))return on;if(on.some(function(mo){return!mo})){var Zn=on.findIndex(function(mo){return!mo});return on[Zn]=nt,[].concat(on)}var to=on.findIndex(function(mo){return Ht.some(function(xo){return xo.session_id===mo&&ut(xo.tracks.audio)})});if(to>=0)return on[to]=nt,[].concat(on);var Yr=Ht.filter(function(mo){return on.includes(mo.session_id)&&mo.session_id!==(kr==null?void 0:kr.session_id)}).sort(function(mo,xo){var no,Bo,ho=(no=mo==null?void 0:mo.last_active)!=null?no:new Date("1970-01-01"),Ei=(Bo=xo==null?void 0:xo.last_active)!=null?Bo:new Date("1970-01-01");return ho>Ei?1:ho<Ei?-1:0});if(!Yr.length)return on[0]=nt,[].concat(on);var Oo=on.indexOf((Mn=Yr[0])==null?void 0:Mn.session_id);return on[Oo]=nt,[].concat(on)})}});return function(nt){return ye.apply(this,arguments)}}()},[kr==null?void 0:kr.session_id,xr]),oe=Object(ge.useCallback)(function(pe){gn(function(re){if(!re.includes(pe))return re;var ye=[].concat(re),nt=ye.indexOf(pe);return ye[nt]="",ye})},[]);return Rt(["active-speaker-change","track-started","participant-left"],Object(ge.useCallback)(function(pe){pe.forEach(function(re){switch(re.action){case"active-speaker-change":if(re.activeSpeaker.peerId===Er)return;J(re.activeSpeaker.peerId);break;case"track-started":re.track.kind==="audio"&&re.participant&&!re.participant.local&&J(re.participant.session_id);break;case"participant-left":oe(re.participant.session_id);break}})},[J,Er,oe])),Object(ge.useEffect)(function(){var re=new Array(xe).fill(null);gn(re)},[xe]),ge.default.createElement(ge.default.Fragment,null,an.map(function(pe,re){return ge.default.createElement(Ot,{key:"speaker-slot-"+re,onPlayFailed:Et,sessionId:pe,type:"audio"})}),lr.filter(function(pe){return mn?!0:!pe.local}).map(function(pe){return ge.default.createElement(Ot,{key:pe.screenId,onPlayFailed:Et,sessionId:pe.session_id,type:"screenAudio"})}))});kt.displayName="DailyAudio";var Zt=Object(ge.forwardRef)(function(Ze,_e){var xe=Ze.automirror,Et=Ze.fit,Ct=Et===void 0?"contain":Et,mn=Ze.mirror,Cn=Ze.onResize,an=Ze.playableStyle,gn=an===void 0?{}:an,Bn=Ze.sessionId,lr=Ze.style,Er=lr===void 0?{}:lr,kr=Ze.type,xr=kr===void 0?"video":kr,J=wt(Ze,["automirror","fit","mirror","onResize","playableStyle","sessionId","style","type"]),oe=dr(),pe=oe===Bn,re=xr==="screenVideo",ye=pe&&!re,nt=Object(ge.useRef)(null),Ht=_e||nt,on=On(Bn,xr),Mn=on.persistentTrack,Zn=ye||re||!on.isOff,to=fn(Bn,"tracks."+xr+".subscribed"),Yr=Object(ge.useMemo)(function(){if(typeof mn=="boolean")return mn;if(!xe)return!1;if(!Mn)return ye;var Oo=Mn.getSettings(),mo="facingMode"in Oo?ye&&Oo.facingMode==="user":ye;return mo},[xe,ye,mn,Mn]);return Object(ge.useEffect)(function(){var mo=Ht.current;if(!!mo){var xo=function(){!mo.paused||mo.play()},no=function(){mo.style.transform="scale(1)"},Bo=function(){mo.style.transform="",setTimeout(function(){mo.paused&&mo.play()},100)},ho=function(){document.visibilityState!=="hidden"&&(!mo.paused||mo.play())};return mo.addEventListener("canplay",xo),mo.addEventListener("enterpictureinpicture",no),mo.addEventListener("leavepictureinpicture",Bo),document.addEventListener("visibilitychange",ho),function(){mo.removeEventListener("canplay",xo),mo.removeEventListener("enterpictureinpicture",no),mo.removeEventListener("leavepictureinpicture",Bo),document.removeEventListener("visibilitychange",ho)}}},[Ht]),Object(ge.useEffect)(function(){var mo=Ht.current;if(!(!mo||!Mn))return mo.srcObject=new MediaStream([Mn]),mo.load(),function(){mo.srcObject=null,mo.load()}},[Ht,Mn,Mn==null?void 0:Mn.id]),Object(ge.useEffect)(function(){var mo=Ht.current;if(!(!Cn||!mo)){var xo,no=function(){!mo||(xo&&cancelAnimationFrame(xo),xo=requestAnimationFrame(function(){if(!document.hidden){var ho=mo==null?void 0:mo.videoWidth,Ei=mo==null?void 0:mo.videoHeight;ho&&Ei&&Cn({aspectRatio:ho/Ei,height:Ei,width:ho})}}))};return no(),mo==null||mo.addEventListener("resize",no),function(){return mo==null?void 0:mo.removeEventListener("resize",no)}}},[Cn,Ht,Mn]),ge.default.createElement("video",Object.assign({autoPlay:!0,muted:!0,playsInline:!0,ref:Ht,"data-local":pe,"data-mirrored":Yr||void 0,"data-playable":Zn||void 0,"data-session-id":Bn,"data-subscribed":to,"data-video-type":xr,style:Nt({objectFit:Ct,transform:Yr?"scale(-1, 1)":""},Er,Zn?gn:{})},J))});Zt.displayName="DailyVideo";var Vn=Object(ge.createContext)({refreshDevices:function(){return Promise.resolve()}}),Gn=Object(je.b)({key:ln+"general-camera-state",default:"pending"}),tr=Object(je.b)({key:ln+"general-microphone-state",default:"pending"}),rn=Object(je.b)({key:ln+"camera-devices",default:[]}),_n=Object(je.b)({key:ln+"microphone-devices",default:[]}),Yn=Object(je.b)({key:ln+"speaker-devices",default:[]}),cr=Object(je.b)({key:ln+"last-camera-error",default:null}),Jt=function(_e){var xe=_e.children,Et=ke(),Ct=Object(je.f)(function(Cn){var an=Cn.transact_UNSTABLE;return ht(function*(){var gn,Bn,lr,Er;if(typeof((gn=navigator)==null||(Bn=gn.mediaDevices)==null?void 0:Bn.getUserMedia)=="undefined"||typeof((lr=navigator)==null||(Er=lr.mediaDevices)==null?void 0:Er.enumerateDevices)=="undefined"){an(function(Zn){var to=Zn.set;to(Gn,"not-supported"),to(tr,"not-supported")});return}if(!!Et)try{var kr=yield Et.enumerateDevices(),xr=kr.devices,J=xr.filter(function(Zn){return Zn.kind==="videoinput"&&Zn.deviceId!==""}),oe=xr.filter(function(Zn){return Zn.kind==="audioinput"&&Zn.deviceId!==""}),pe=xr.filter(function(Zn){return Zn.kind==="audiooutput"&&Zn.deviceId!==""}),re=yield Et.getInputDevices(),ye=re.camera,nt=re.mic,Ht=re.speaker,on=function(to,Yr,Oo){var mo,xo;return{device:Yr,selected:"deviceId"in to&&Yr.deviceId===to.deviceId,state:(mo=(xo=Oo.find(function(no){return no.device.deviceId===Yr.deviceId}))==null?void 0:xo.state)!=null?mo:"granted"}},Mn=function(to,Yr){return to.device.deviceId==="default"?-1:Yr.device.deviceId==="default"?1:to.device.label<Yr.device.label?-1:to.device.label>Yr.device.label?1:0};an(function(Zn){var to=Zn.set;to(rn,function(Yr){return J.filter(Boolean).map(function(Oo){return on(ye,Oo,Yr)}).sort(Mn)}),to(_n,function(Yr){return oe.filter(Boolean).map(function(Oo){return on(nt,Oo,Yr)}).sort(Mn)}),to(Yn,function(Yr){return pe.filter(Boolean).map(function(Oo){return on(Ht,Oo,Yr)}).sort(Mn)})})}catch(Zn){an(function(to){var Yr=to.set;Yr(Gn,"not-supported"),Yr(tr,"not-supported")})}})},[Et]),mn=Object(je.f)(function(Cn){var an=Cn.set,gn=Cn.snapshot,Bn=Cn.transact_UNSTABLE;return ht(function*(){var lr,Er,kr,xr,J,oe,pe,re,ye,nt,Ht,on;if(!!Et){var Mn=yield gn.getPromise(Gn),Zn=yield gn.getPromise(tr),to=Et.participants();if(!!to.local){var Yr=to.local.tracks,Oo=Mn==="pending"&&Yr.video.state==="interrupted",mo=Zn==="pending"&&Yr.audio.state==="interrupted";((lr=Yr.audio)==null||(Er=lr.blocked)==null?void 0:Er.byDeviceInUse)?Bn(function(xo){var no=xo.set;no(tr,"in-use"),no(_n,function(Bo){return Bo.map(function(ho){return ho.selected?Nt({},ho,{state:"in-use"}):ho})})}):((kr=Yr.audio)==null||(xr=kr.blocked)==null?void 0:xr.byDeviceMissing)?an(tr,"not-found"):((J=Yr.audio)==null||(oe=J.blocked)==null?void 0:oe.byPermissions)?an(tr,"blocked"):mo||Bn(function(xo){var no=xo.set;no(tr,"granted"),no(_n,function(Bo){return Bo.map(function(ho){return ho.selected?Nt({},ho,{state:"granted"}):ho})})}),((pe=Yr.video)==null||(re=pe.blocked)==null?void 0:re.byDeviceInUse)?Bn(function(xo){var no=xo.set;no(Gn,"in-use"),no(rn,function(Bo){return Bo.map(function(ho){return ho.selected?Nt({},ho,{state:"in-use"}):ho})})}):((ye=Yr.video)==null||(nt=ye.blocked)==null?void 0:nt.byDeviceMissing)?an(Gn,"not-found"):((Ht=Yr.video)==null||(on=Ht.blocked)==null?void 0:on.byPermissions)?an(Gn,"blocked"):Oo||Bn(function(xo){var no=xo.set;no(Gn,"granted"),no(rn,function(Bo){return Bo.map(function(ho){return ho.selected?Nt({},ho,{state:"granted"}):ho})})}),Ct()}}})},[Et,Ct]);return lt("participant-updated",Object(ge.useCallback)(function(Cn){!Cn.participant.local||mn()},[mn])),lt("available-devices-updated",Ct),lt("selected-devices-updated",Ct),lt("camera-error",Object(je.f)(function(Cn){var an=Cn.transact_UNSTABLE;return function(gn){an(function(Bn){var lr,Er,kr,xr,J,oe,pe,re=Bn.set;switch(re(cr,gn.error),(lr=gn.error)==null?void 0:lr.type){case"cam-in-use":re(Gn,"in-use");break;case"mic-in-use":re(tr,"in-use");break;case"cam-mic-in-use":re(Gn,"in-use"),re(tr,"in-use");break;case"not-found":((Er=gn.error)==null?void 0:Er.missingMedia.includes("video"))&&re(Gn,"not-found"),((kr=gn.error)==null?void 0:kr.missingMedia.includes("audio"))&&re(tr,"not-found");break;case"permissions":((xr=gn.error)==null?void 0:xr.blockedMedia.includes("video"))&&re(Gn,"blocked"),((J=gn.error)==null?void 0:J.blockedMedia.includes("audio"))&&re(tr,"blocked");break;case"constraints":((oe=gn.error)==null?void 0:oe.reason)==="invalid"?(re(Gn,"constraints-invalid"),re(tr,"constraints-invalid")):((pe=gn.error)==null?void 0:pe.reason)==="none-specified"&&(re(Gn,"constraints-none-specified"),re(tr,"constraints-none-specified"));break;case"undefined-mediadevices":re(Gn,"undefined-mediadevices"),re(tr,"undefined-mediadevices");break;case"unknown":default:re(Gn,"unknown"),re(tr,"unknown");break}})}},[])),lt("started-camera",Object(je.f)(function(Cn){var an=Cn.transact_UNSTABLE;return function(){an(function(gn){var Bn=gn.set;Bn(Gn,"granted"),Bn(tr,"granted")}),mn()}},[mn])),ge.default.createElement(Vn.Provider,{value:{refreshDevices:Ct}},xe)},cn=Object(je.b)({key:ln+"room",default:null}),bn=function(_e){var xe=_e.children,Et=ke(),Ct=Object(je.f)(function(mn){var Cn=mn.set;return ht(function*(){if(!(!Et||Et.meetingState()==="left-meeting")){var an=yield Et.room();return an&&"id"in an&&Cn(cn,an),an}})},[Et]);return lt("access-state-updated",Ct),ge.default.createElement(ge.default.Fragment,null,xe)},zn=function(_e){var xe=_e.children,Et=_e.recoilRootProps,Ct=Et===void 0?{}:Et,mn=wt(_e,["children","recoilRootProps"]),Cn=Object(ge.useState)("callObject"in mn?mn.callObject:null),an=Cn[0],gn=Cn[1],Bn=Object(ge.useRef)({});Object(ge.useEffect)(function(){var J;if("callObject"in mn){var oe=(an==null?void 0:an._callFrameId)!==(mn==null||(J=mn.callObject)==null?void 0:J._callFrameId),pe=!mn.callObject,re=!an&&mn.callObject;pe?gn(null):(oe||re)&&gn(mn.callObject)}},[an,mn]);var lr=Object(ge.useCallback)(function(J){if("action"in J)for(var oe=J.action,pe=At((ye=(nt=Bn.current)==null||(Ht=nt[oe])==null?void 0:Ht.values())!=null?ye:[]),re;!(re=pe()).done;){var ye,nt,Ht,on=re.value;on(J)}},[]),Er=Object(ge.useCallback)(function(J){!J||Object.keys(Bn.current).forEach(function(oe){J.off(oe,lr).on(oe,lr)})},[lr]);Object(ge.useEffect)(function(){if(!an){if("callObject"in mn){gn(mn.callObject),Er(mn.callObject);return}var J=Oe.a.createCallObject(mn);gn(J),Er(J)}},[an,Er,mn]);var kr=Object(ge.useCallback)(function(J,oe,pe){var re;if(Bn.current[J]||(Bn.current[J]=new Map,an&&an.off(J,lr).on(J,lr)),!((re=Bn.current[J])==null?void 0:re.has(pe))){var ye;(ye=Bn.current[J])==null||ye.set(pe,oe)}},[an,lr]),xr=Object(ge.useCallback)(function(J,oe){var pe,re;(pe=Bn.current[J])==null||pe.delete(oe),((re=Bn.current[J])==null?void 0:re.size)===0&&(an==null||an.off(J,lr),delete Bn.current[J])},[an,lr]);return ge.default.createElement(je.a,Object.assign({},Ct),ge.default.createElement(jt.Provider,{value:an},ge.default.createElement(tn.Provider,{value:{on:kr,off:xr}},ge.default.createElement(bn,null,ge.default.createElement(rr,null,ge.default.createElement(Jt,null,xe))))))},Rn=function(){return!0},xn=function(_e){var xe=_e===void 0?{}:_e,Et=xe.filter,Ct=Et===void 0?Rn:Et,mn=xe.ignoreLocal,Cn=mn===void 0?!1:mn,an=dr(),gn=Object(je.g)(nn),Bn=Object(ge.useState)(null),lr=Bn[0],Er=Bn[1];return Object(ge.useEffect)(function(){Cn&&gn===an||!(Ct==null?void 0:Ct(gn))||Er(gn)},[Ct,an,Cn,gn]),lr},mr=function(_e){var xe=_e===void 0?{}:_e,Et=xe.onAppMessage,Ct=ke(),mn=Object(ge.useCallback)(function(an,gn){gn===void 0&&(gn="*"),!!Ct&&Ct.sendAppMessage(an,gn)},[Ct]),Cn=Object(ge.useCallback)(function(an){Et==null||Et(an,mn)},[Et,mn]);return lt("app-message",Cn),mn},Or=function(_e){return On(_e,"audio")},Lt=function(){var _e=ke(),xe=Object(je.g)(Gn),Et=Object(je.g)(tr),Ct=Object(je.g)(rn),mn=Object(je.g)(_n),Cn=Object(je.g)(Yn),an=Object(je.g)(cr),gn=Object(ge.useContext)(Vn),Bn=gn.refreshDevices,lr=Object(ge.useCallback)(function(){var J=ht(function*(oe){yield _e==null?void 0:_e.setInputDevicesAsync({audioDeviceId:null,videoDeviceId:oe})});return function(oe){return J.apply(this,arguments)}}(),[_e]),Er=Object(ge.useCallback)(function(){var J=ht(function*(oe){yield _e==null?void 0:_e.setInputDevicesAsync({audioDeviceId:oe,videoDeviceId:null})});return function(oe){return J.apply(this,arguments)}}(),[_e]),kr=Object(ge.useCallback)(function(){var J=ht(function*(oe){yield _e==null?void 0:_e.setOutputDeviceAsync({outputDeviceId:oe})});return function(oe){return J.apply(this,arguments)}}(),[_e]),xr=["blocked","in-use","not-found","constraints-invalid","constraints-none-specified","undefined-mediadevices","unknown"];return{cameraError:an,cameras:Ct,camState:xe,hasCamError:xr.includes(xe),hasMicError:xr.includes(Et),microphones:mn,micState:Et,refreshDevices:Bn,setCamera:lr,setMicrophone:Er,setSpeaker:kr,speakers:Cn}},qt=Object(je.b)({key:ln+"input-settings",default:null}),wn=Object(je.b)({key:ln+"input-settings-error",default:null}),$n=function(_e){var xe=_e===void 0?{}:_e,Et=xe.onError,Ct=xe.onInputSettingsUpdated,mn=Object(je.g)(qt),Cn=Object(je.g)(wn),an=ke(),gn=Object(je.f)(function(lr){var Er=lr.set;return function(kr){Er(qt,kr)}},[]);Object(ge.useEffect)(function(){!an||an.getInputSettings().then(gn)},[an,gn]),lt("input-settings-updated",Object(ge.useCallback)(function(lr){gn(lr.inputSettings),Ct==null||Ct(lr)},[Ct,gn])),lt("nonfatal-error",Object(je.f)(function(lr){var Er=lr.set;return function(kr){kr.type==="input-settings-error"&&(Er(wn,kr.errorMsg),Et==null||Et(kr))}},[Et]));var Bn=Object(ge.useCallback)(function(lr){an==null||an.updateInputSettings(lr)},[an]);return{errorMsg:Cn,inputSettings:mn,updateInputSettings:Bn}},Wn=Object(je.b)({key:ln+"live-streaming",default:{errorMsg:void 0,isLiveStreaming:!1,layout:void 0}}),Jn=function(_e){var xe=_e===void 0?{}:_e,Et=xe.onLiveStreamingError,Ct=xe.onLiveStreamingStarted,mn=xe.onLiveStreamingStopped,Cn=ke(),an=Object(je.g)(Wn);lt("live-streaming-started",Object(je.f)(function(Er){var kr=Er.set;return function(xr){kr(Wn,{isLiveStreaming:!0,layout:xr==null?void 0:xr.layout}),Ct==null||Ct(xr)}},[Ct])),lt("live-streaming-stopped",Object(je.f)(function(Er){var kr=Er.set;return function(xr){kr(Wn,function(J){return Nt({},J,{isLiveStreaming:!1,layout:void 0})}),mn==null||mn(xr)}},[mn])),lt("live-streaming-error",Object(je.f)(function(Er){var kr=Er.set;return function(xr){kr(Wn,function(J){return Nt({},J,{errorMsg:xr.errorMsg})}),Et==null||Et(xr)}},[Et]));var gn=Object(ge.useCallback)(function(Er){!Cn||Cn.startLiveStreaming(Er)},[Cn]),Bn=Object(ge.useCallback)(function(){!Cn||Cn.stopLiveStreaming()},[Cn]),lr=Object(ge.useCallback)(function(Er){var kr=Er.layout;!Cn||Cn.updateLiveStreaming({layout:kr})},[Cn]);return Nt({},an,{startLiveStreaming:gn,stopLiveStreaming:Bn,updateLiveStreaming:lr})},Tr=function(){var _e=Object(je.g)(Bt);return Mr(_e)},Qr=Object(je.b)({key:ln+"topology",default:"none"}),ao=Object(je.b)({key:ln+"networkQuality",default:100}),oo=Object(je.b)({key:ln+"networkThreshold",default:"good"}),eo=function(_e){var xe=_e===void 0?{}:_e,Et=xe.onNetworkConnection,Ct=xe.onNetworkQualityChange,mn=ke(),Cn=Object(je.g)(Qr),an=Object(je.g)(ao),gn=Object(je.g)(oo),Bn=Object(je.f)(function(xr){var J=xr.set;return ht(function*(){if(!!mn){var oe=yield mn.getNetworkTopology();!oe||(oe==null?void 0:oe.topology)==="none"||J(Qr,oe.topology)}})},[mn]),lr=Object(je.f)(function(xr){var J=xr.transact_UNSTABLE;return function(oe){J(function(pe){var re=pe.set;switch(oe.event){case"connected":oe.type==="peer-to-peer"&&re(Qr,"peer"),oe.type==="sfu"&&re(Qr,"sfu");break}}),Et==null||Et(oe)}},[Et]),Er=Object(je.f)(function(xr){var J=xr.transact_UNSTABLE;return function(oe){J(function(pe){var re=pe.set;re(ao,function(ye){return ye!==oe.quality?oe.quality:ye}),re(oo,function(ye){return ye!==oe.threshold?oe.threshold:ye})}),Ct==null||Ct(oe)}},[Ct]);lt("joined-meeting",Bn),lt("network-connection",lr),lt("network-quality-change",Er),Object(ge.useEffect)(function(){!mn||Cn||Bn()},[mn,Bn,Cn]);var kr=Object(ge.useCallback)(ht(function*(){var xr=yield mn==null?void 0:mn.getNetworkStats();return xr==null?void 0:xr.stats}),[mn]);return{getStats:kr,quality:an,threshold:gn,topology:Cn}},bo=Object(je.c)({key:ln+"participant-receive-settings",default:{}}),zo=function(_e){var xe=_e===void 0?{}:_e,Et=xe.id,Ct=Et===void 0?"base":Et,mn=xe.onReceiveSettingsUpdated,Cn=Object(je.g)(bo("base")),an=Object(je.g)(bo(Ct)),gn=ke();lt("receive-settings-updated",Object(je.f)(function(lr){var Er=lr.transact_UNSTABLE;return function(kr){Er(function(xr){for(var J=xr.reset,oe=xr.set,pe=Nt({},kr.receiveSettings),re=0,ye=Object.entries(pe);re<ye.length;re++){var nt=ye[re],Ht=nt[0],on=nt[1];oe(bo(Ht),on)}Ct in pe||J(bo(Ct))}),mn==null||mn(kr)}},[Ct,mn]));var Bn=Object(ge.useCallback)(function(lr){!(gn&&gn.meetingState()==="joined-meeting")||gn==null||gn.updateReceiveSettings==null||gn.updateReceiveSettings(lr)},[gn]);return{receiveSettings:Ct==="base"||Object.keys(an).length===0?Cn:an,updateReceiveSettings:Bn}},Eo=Object(je.b)({key:ln+"recording",default:{isLocalParticipantRecorded:!1,isRecording:!1}}),Co=function(_e){var xe=_e===void 0?{}:_e,Et=xe.onRecordingData,Ct=xe.onRecordingError,mn=xe.onRecordingStarted,Cn=xe.onRecordingStopped,an=ke(),gn=Object(je.g)(Eo),Bn=Object(je.h)(Eo),lr=dr(),Er=ro({filter:"record"});Object(ge.useEffect)(function(){var oe=Er.length>0,pe=Er.includes(lr!=null?lr:"local");Bn(function(re){return Nt({},re,{isLocalParticipantRecorded:(re==null?void 0:re.type)==="local"||!(re==null?void 0:re.type)?oe:re.isLocalParticipantRecorded,isRecording:(re==null?void 0:re.type)==="local"||!(re==null?void 0:re.type)?oe:re.isRecording,local:((re==null?void 0:re.type)==="local"||!(re==null?void 0:re.type))&&oe?pe:re==null?void 0:re.local,type:oe?"local":re==null?void 0:re.type})})},[lr,Er,Bn]),lt("recording-started",Object(je.f)(function(oe){var pe=oe.set;return function(re){var ye=!0;switch(re.type){case"cloud-beta":case"cloud":{var nt;lr&&((nt=re.layout)==null?void 0:nt.preset)==="single-participant"&&re.layout.session_id!==lr&&(ye=!1);break}}pe(Eo,{error:!1,isLocalParticipantRecorded:ye,isRecording:!0,layout:re==null?void 0:re.layout,local:re==null?void 0:re.local,recordingId:re==null?void 0:re.recordingId,recordingStartedDate:new Date,startedBy:re==null?void 0:re.startedBy,type:re==null?void 0:re.type}),mn==null||mn(re)}},[lr,mn])),lt("recording-stopped",Object(je.f)(function(oe){var pe=oe.set;return function(re){pe(Eo,function(ye){return Nt({},ye,{isLocalParticipantRecorded:!1,isRecording:!1})}),Cn==null||Cn(re)}},[Cn])),lt("recording-error",Object(je.f)(function(oe){var pe=oe.set;return function(re){pe(Eo,function(ye){return Nt({},ye,{error:!0,isLocalParticipantRecorded:!1,isRecording:!1})}),Ct==null||Ct(re)}},[Ct])),lt("recording-data",Object(ge.useCallback)(function(oe){Et==null||Et(oe)},[Et]));var kr=Object(ge.useCallback)(function(oe){!an||an.startRecording(oe)},[an]),xr=Object(ge.useCallback)(function(){!an||an.stopRecording()},[an]),J=Object(ge.useCallback)(function(oe){!an||an.updateRecording(oe)},[an]);return Nt({},gn,{startRecording:kr,stopRecording:xr,updateRecording:J})},Mo=function(){var _e=Object(je.g)(cn);return _e},ft=function(_e){return On(_e,"screenAudio")},qe=function(_e){return On(_e,"screenVideo")},rt=Object(je.b)({key:ln+"transcription",default:{isTranscriptionEnabled:!1,isTranscribing:!1,model:"general",language:"en",transcriptions:[]}}),mt=function(_e){var xe,Et=_e===void 0?{}:_e,Ct=Et.onTranscriptionAppData,mn=Et.onTranscriptionError,Cn=Et.onTranscriptionStarted,an=Et.onTranscriptionStopped,gn=ke(),Bn=Object(je.g)(rt),lr=Object(je.h)(rt),Er=Mo();Object(ge.useEffect)(function(){var J;!(Er==null||(J=Er.domainConfig)==null?void 0:J.enable_transcription)||lr(function(oe){return Nt({},oe,{isTranscriptionEnabled:!0})})},[Er==null||(xe=Er.domainConfig)==null?void 0:xe.enable_transcription,lr]),lt("transcription-started",Object(je.f)(function(J){var oe=J.set;return function(pe){oe(rt,Nt({isTranscriptionEnabled:!0,error:!1,isTranscribing:!0,transcriptionStartDate:new Date,transcriptions:[]},pe)),Cn==null||Cn(pe)}},[Cn])),lt("transcription-stopped",Object(je.f)(function(J){var oe=J.set;return function(pe){oe(rt,function(re){return Nt({},re,{updatedBy:pe==null?void 0:pe.updatedBy,isTranscribing:!1})}),an==null||an(pe)}},[an])),lt("transcription-error",Object(je.f)(function(J){var oe=J.set;return function(pe){oe(rt,function(re){return Nt({},re,{error:!0,isTranscribing:!1})}),mn==null||mn(pe)}},[mn])),lt("app-message",Object(je.f)(function(J){var oe=J.set;return function(pe){var re;(pe==null?void 0:pe.fromId)==="transcription"&&(pe==null||(re=pe.data)==null?void 0:re.is_final)&&(oe(rt,function(ye){return Nt({},ye,{isTranscribing:!0,transcriptions:[].concat(ye.transcriptions,[pe.data])})}),Ct==null||Ct(pe))}},[Ct]));var kr=Object(ge.useCallback)(function(J){!gn||gn.startTranscription(J)},[gn]),xr=Object(ge.useCallback)(function(){!gn||gn.stopTranscription()},[gn]);return Nt({},Bn,{startTranscription:kr,stopTranscription:xr})},un=function(_e){return On(_e,"video")},yn=Object(je.b)({key:ln+"waiting-participants",default:[]}),An=Object(je.c)({key:ln+"waiting-participant",default:{awaitingAccess:{level:"full"},id:"",name:""}}),Je=Object(je.d)({key:ln+"waitingParticipantsSelector",get:function(_e){var xe=_e.get,Et=xe(yn);return Et.map(function(Ct){return xe(An(Ct))})}}),St=function(_e){var xe=_e===void 0?{}:_e,Et=xe.onWaitingParticipantAdded,Ct=xe.onWaitingParticipantRemoved,mn=xe.onWaitingParticipantUpdated,Cn=ke(),an=Object(je.g)(Je),gn=Object(je.f)(function(J){var oe=J.transact_UNSTABLE;return function(pe){oe(function(re){var ye=re.set;ye(yn,function(nt){return nt.includes(pe.participant.id)?nt:[].concat(nt,[pe.participant.id])}),ye(An(pe.participant.id),pe.participant)}),Et==null||Et(pe)}},[Et]),Bn=Object(je.f)(function(J){var oe=J.transact_UNSTABLE;return function(pe){oe(function(re){var ye=re.reset,nt=re.set;nt(yn,function(Ht){return Ht.filter(function(on){return on!==pe.participant.id})}),ye(An(pe.participant.id))}),Ct==null||Ct(pe)}},[Ct]),lr=Object(je.f)(function(J){var oe=J.set;return function(pe){oe(An(pe.participant.id),pe.participant),mn==null||mn(pe)}},[mn]);lt("waiting-participant-added",gn),lt("waiting-participant-removed",Bn),lt("waiting-participant-updated",lr);var Er=Object(ge.useCallback)(function(J,oe){if(J==="*"){Cn==null||Cn.updateWaitingParticipants({"*":{grantRequestedAccess:oe}});return}Cn==null||Cn.updateWaitingParticipant(J,{grantRequestedAccess:oe})},[Cn]),kr=Object(ge.useCallback)(function(J){Er(J,!0)},[Er]),xr=Object(ge.useCallback)(function(J){Er(J,!1)},[Er]);return{waitingParticipants:an,grantAccess:kr,denyAccess:xr}},Gt=t(12),vn=t.n(Gt),kn=t(14),or=t(174),fr=t(226),er={view:"frontend-live_events-LiveEvent-module__view--3kuZ_",eventComplete:"frontend-live_events-LiveEvent-module__eventComplete--23m7M",lobby:"frontend-live_events-LiveEvent-module__lobby--2QDLw",videoContainer:"frontend-live_events-LiveEvent-module__videoContainer--3wqOD",loading:"frontend-live_events-LiveEvent-module__loading--abXhR",localScreen:"frontend-live_events-LiveEvent-module__localScreen--2FreB",roomActionsContainer:"frontend-live_events-LiveEvent-module__roomActionsContainer--PEvSv",room:"frontend-live_events-LiveEvent-module__room--3B2wv",presentation:"frontend-live_events-LiveEvent-module__presentation--3hkCd",presentationContainer:"frontend-live_events-LiveEvent-module__presentationContainer--Ns_Xd",remoteScreen:"frontend-live_events-LiveEvent-module__remoteScreen--3nzLn",participantsContainer:"frontend-live_events-LiveEvent-module__participantsContainer--1kS5E",participant:"frontend-live_events-LiveEvent-module__participant--1xqtZ",onlyOne:"frontend-live_events-LiveEvent-module__onlyOne--3-SRH",onlyTwo:"frontend-live_events-LiveEvent-module__onlyTwo--3PiLD",small:"frontend-live_events-LiveEvent-module__small--3qdKk",medium:"frontend-live_events-LiveEvent-module__medium--2hYWg",large:"frontend-live_events-LiveEvent-module__large--RHUtC",name:"frontend-live_events-LiveEvent-module__name--mzQsk",reaction:"frontend-live_events-LiveEvent-module__reaction--1PirK",clickableHand:"frontend-live_events-LiveEvent-module__clickableHand--3QrMi",controls:"frontend-live_events-LiveEvent-module__controls--1vlYv",participantModeration:"frontend-live_events-LiveEvent-module__participantModeration--1D1mK",action:"frontend-live_events-LiveEvent-module__action--2vYJF",videoDisabled:"frontend-live_events-LiveEvent-module__videoDisabled--3g-AZ",chatMenu:"frontend-live_events-LiveEvent-module__chatMenu--1_4V3",chat:"frontend-live_events-LiveEvent-module__chat--3X11q",messageWindow:"frontend-live_events-LiveEvent-module__messageWindow--qhNsq",noMessages:"frontend-live_events-LiveEvent-module__noMessages--1KMcE",chatMessage:"frontend-live_events-LiveEvent-module__chatMessage--3i-zh",messageFrom:"frontend-live_events-LiveEvent-module__messageFrom--LrtI0",messageText:"frontend-live_events-LiveEvent-module__messageText--1A1Ig",inputContainer:"frontend-live_events-LiveEvent-module__inputContainer--3ewbk",emojiMenu:"frontend-live_events-LiveEvent-module__emojiMenu--1Ox7f",emojiMenuItem:"frontend-live_events-LiveEvent-module__emojiMenuItem--29_WA",emojiDrawer:"frontend-live_events-LiveEvent-module__emojiDrawer--1v2k7",emoji:"frontend-live_events-LiveEvent-module__emoji--1Gpgq",raisedHand:"frontend-live_events-LiveEvent-module__raisedHand--_7aeb"},Ln=(Ze,_e,xe)=>new Promise((Et,Ct)=>{var mn=gn=>{try{an(xe.next(gn))}catch(Bn){Ct(Bn)}},Cn=gn=>{try{an(xe.throw(gn))}catch(Bn){Ct(Bn)}},an=gn=>gn.done?Et(gn.value):Promise.resolve(gn.value).then(mn,Cn);an((xe=xe.apply(Ze,_e)).next())});const ur=({joinCall:Ze,credentials:_e})=>{const xe=Tr(),Et=un(xe==null?void 0:xe.session_id),Ct=ke(),mn=Object(l.k)(),[Cn,an]=Object(l.l)(!0);Object(l.d)(()=>{function Bn(){return Ln(this,null,function*(){yield Ct==null?void 0:Ct.preAuth({url:_e.roomUrl,token:_e.token}),yield Ct==null?void 0:Ct.startCamera(),an(!1)})}Bn()},[Ct]),Object(l.d)(()=>{!Et.persistentTrack||mn.current&&(mn.current.srcObject=new MediaStream([Et==null?void 0:Et.persistentTrack]))},[Et.persistentTrack]);const gn=Bn=>{Ct==null||Ct.setUserName(Bn.target.value)};return Object(o.h)(Q.b,{className:er.lobby,gap:20,alignItems:"center",justifyContent:"center",paddingTop:12,paddingBottom:24},Object(o.h)(or.a,{as:"h4"},"Get ready to join live event"),Object(o.h)(Q.c,{className:`${er.videoContainer} ${Cn?er.loading:""}`,alignItems:"center",justifyContent:"center"},Cn&&Object(o.h)(fr.a,{type:"circular"}),Object(o.h)("video",{ref:mn,autoPlay:!0})),Object(o.h)("input",{placeholder:"What's your name?",value:(xe==null?void 0:xe.user_name)||"",onChange:gn}),Object(o.h)(kn.a,{priority:"primary",onClick:Ze,disabled:!_e},"Join"))};var br=t(1403);const et=()=>Object(o.h)(Q.b,{className:er.eventComplete,alignItems:"center",justifyContent:"center",gap:24},Object(o.h)(br.default,{height:64}));var Ge=t(1041),tt=t(1043),Pt=t(241),gt=t.n(Pt),me=t(443),fe=t(836),Ee=t(17),Ue=t.n(Ee),Ye=t(23),ct=t(8);const Yt=({from:Ze,text:_e})=>({type:"chat",from:Ze,time:new Date,message:_e}),Qt=({message:Ze})=>Object(o.h)(Q.b,{className:er.chatMessage},Object(o.h)(ct.b,{size:12,className:er.messageFrom},Ze.from," @ ",Ue()(Ze.time).format("h:mm A")),Object(o.h)(ct.b,{size:14,className:er.messageText},Object(o.h)(gt.a,{options:{attributes:{rel:"nofollow ugc"}}},Ze.message))),En=["\u{1F642}","\u{1F604}","\u{1F602}","\u{1F970}","\u{1F923}","\u{1F632}","\u2764\uFE0F","\u{1F44D}","\u{1F44E}","\u{1F64F}","\u{1F44F}","\u{1F525}","\u{1F389}"],hn=({onSelect:Ze})=>Object(o.h)(Q.c,{className:er.emojiDrawer,alignItems:"center",justifyContent:"space-between",wrap:"wrap"},En.map(_e=>Object(o.h)("div",{className:er.emoji,onClick:()=>Ze(_e)},_e))),In=()=>Object(o.h)(Q.b,{className:er.noMessages,alignItems:"center",justifyContent:"center"},Object(o.h)(ct.b,{as:"h5"},"No messages yet"),Object(o.h)(me.a,null)),Fn=({messages:Ze,sendMessage:_e})=>{const[xe,Et]=Object(l.l)(""),Ct=Object(l.k)(),mn=dr(),Cn=fn(mn,"user_name"),an=()=>{const lr=Yt({from:Cn,text:xe});_e(lr),Et("")},gn=lr=>{!xe||lr.keyCode===13&&!lr.shiftKey&&an()},Bn=lr=>{var Er;Et(kr=>kr.length?`${kr} ${lr}`:lr),(Er=Ct.current)==null||Er.focus()};return Object(o.h)(Ye.c,{trigger:Object(o.h)(kn.c,{size:32,fill:"empty",priority:"secondary"},Object(o.h)(fe.a,{size:20})),className:er.chatMenu},Object(o.h)(Q.b,{className:er.chat},Object(o.h)(Q.b,{className:er.messageWindow,gap:8},!Ze.length&&Object(o.h)(In,null),Ze.map(lr=>Object(o.h)(Qt,{message:lr}))),Object(o.h)(Q.b,null,Object(o.h)(Q.c,{className:er.inputContainer,alignItems:"center",gap:4},Object(o.h)("input",{value:xe,onChange:lr=>Et(lr.currentTarget.value),onKeyUp:gn,placeholder:"Type message here...",ref:Ct}),Object(o.h)(Ye.c,{className:er.emojiMenu,trigger:Object(o.h)("div",null,"\u{1F642}")},Object(o.h)(Ye.d,{className:er.emojiMenuItem,onClick:()=>{}},Object(o.h)(hn,{onSelect:Bn})))))))},Un=(Ze,_e)=>({type:"moderation",message:_e,to:Ze}),nr=Ze=>{const{to:_e,message:xe}=Ze;if(_e==="*"){if(xe==="tempDisableAudio")return"The host has temporarily muted everyone's audio";if(xe==="tempDisableVideo")return"The host has has temporarily disabled everyone's video";if(xe==="disableAudio")return"The host has muted all participants";if(xe==="enableAudio")return"The host enabled audio for all participants";if(xe==="endEvent")return"The host has ended the event"}return xe==="tempDisableAudio"?"The host has muted your audio":xe==="tempDisableVideo"?"The host has temporarily disabled your video":xe==="disableAudio"?"The host has disabled your audio":xe==="disableVideo"?"The host has disabled your video":xe==="enableAudio"?"The host has enabled your audio":xe==="enableVideo"?"The host has enabled your video":xe==="stopScreenShare"?"The host has ended your screen share":xe==="selected"?"The host has called on you and unmuted your microphone":xe==="forceDisconnect"?"The host has removed you from the event":(console.error("No matching ModerationMessageType in getToastModerationMessage"),"")};var jr=t(1040),Hr=t(845),Br=t(1404),Jr=t(1183),so=t(1405),Pr=t(266),Ur=(Ze,_e,xe)=>new Promise((Et,Ct)=>{var mn=gn=>{try{an(xe.next(gn))}catch(Bn){Ct(Bn)}},Cn=gn=>{try{an(xe.throw(gn))}catch(Bn){Ct(Bn)}},an=gn=>gn.done?Et(gn.value):Promise.resolve(gn.value).then(mn,Cn);an((xe=xe.apply(Ze,_e)).next())});const Cr=({activeScreenShare:Ze,sendModerationMessage:_e})=>{const xe=Object(Pr.a)(),Et=dr(),Ct=fn(Et,"owner"),mn=ke(),Cn=()=>{const lr={};for(const Er in mn==null?void 0:mn.participants())Er!=="local"&&(lr[Er]={setAudio:!1});mn==null||mn.updateParticipants(lr),_e("*","tempDisableAudio")},an=()=>{const lr=Ze==null?void 0:Ze.session_id;!lr||_e(lr,"stopScreenShare")},gn=()=>Ur(void 0,null,function*(){const lr=window.location.pathname.split("/")[2];yield vn.a.post(`/api/v1/live_event/${lr}/end`).send()}),Bn=Object(l.a)(lr=>{const Er=window.location.href;xe(Er.replace("/host",`/${lr}`))},[window.location.href]);if(!!Ct)return Object(o.h)(Ye.c,{trigger:Object(o.h)(kn.c,{size:32,fill:"empty"},Object(o.h)(so.default,{height:20}))},Object(o.h)(Ye.d,{onClick:()=>Bn("guest"),icon:Object(o.h)(jr.a,null)},"Copy Guest URL"),Object(o.h)(Ye.d,{onClick:()=>Bn("participant"),icon:Object(o.h)(Hr.a,null)},"Copy Participant URL"),Ze&&Ze.session_id!==Et&&Object(o.h)(Ye.d,{onClick:an,icon:Object(o.h)(Ge.a,null)},"Stop active screen share"),Object(o.h)(Ye.d,{onClick:Cn,icon:Object(o.h)(Jr.default,null)},"Temporarily Mute All"),Object(o.h)(Ye.d,{onClick:gn,icon:Object(o.h)(Br.default,null)},"End Event"))};var io=t(423),co=t(1042),Wo=t(1406),qo=t(1407),Jo=t(1259),Go=Object.defineProperty,ko=Object.defineProperties,Ho=Object.getOwnPropertyDescriptors,Vo=Object.getOwnPropertySymbols,Ti=Object.prototype.hasOwnProperty,dt=Object.prototype.propertyIsEnumerable,pt=(Ze,_e,xe)=>_e in Ze?Go(Ze,_e,{enumerable:!0,configurable:!0,writable:!0,value:xe}):Ze[_e]=xe,Xt=(Ze,_e)=>{for(var xe in _e||(_e={}))Ti.call(_e,xe)&&pt(Ze,xe,_e[xe]);if(Vo)for(var xe of Vo(_e))dt.call(_e,xe)&&pt(Ze,xe,_e[xe]);return Ze},Hn=(Ze,_e)=>ko(Ze,Ho(_e));const ir=["\u{1F44F}","\u{1F44D}","\u2764\uFE0F","\u{1F923}","\u{1F632}","\u{1F389}"],It=()=>{const Ze=ke(),[_e,xe]=Object(l.l)(null),Et=dr(),Ct=fn(Et,"userData")||{},{handRaised:mn}=Ct,Cn=gn=>{Ze==null||Ze.setUserData(Hn(Xt({},Ct),{reaction:gn})),_e&&clearTimeout(_e);const Bn=setTimeout(()=>{Ze==null||Ze.setUserData(Hn(Xt({},Ct),{reaction:null})),xe(null)},6500);xe(Bn)},an=()=>{Ze==null||Ze.setUserData(Hn(Xt({},Ct),{handRaised:!mn}))};return Object(ge.useEffect)(()=>()=>{_e&&(clearTimeout(_e),xe(null))},[]),Object(o.h)(Ye.c,{className:er.emojiMenu,trigger:Object(o.h)(Q.c,{alignItems:"center"},Object(o.h)(co.a,{size:18,stroke:"#ffffff"}))},Object(o.h)(Ye.d,{className:er.emojiMenuItem,onClick:()=>{}},Object(o.h)(Q.c,{className:er.emojiDrawer,alignItems:"center",justifyContent:"space-between",wrap:"wrap"},ir.map(gn=>Object(o.h)("div",{className:er.emoji,onClick:()=>Cn(gn)},gn))),Object(o.h)(Q.c,{gap:4,className:er.raisedHand,justifyContent:"center",alignItems:"center",onClick:an},Object(o.h)(ct.b,null,mn?"Lower Hand":"Raise Hand"," \u270B"))))},_t=()=>{const Ze=ke(),_e=dr(),xe=fn(_e,"video"),Et=fn(_e,"audio"),Ct=fn(_e,"permissions"),mn=typeof Ct.canSend=="boolean";let Cn,an;return mn?(Cn=Ct.canSend,an=Ct.canSend):(Cn=Ct.canSend.has("audio"),an=Ct.canSend.has("video")),Object(o.h)(Q.c,{className:er.controls,padding:4,alignItems:"center",justifyContent:"space-between"},Object(o.h)(Q.c,{gap:4},Cn&&Object(o.h)(Q.c,{alignItems:"center",onClick:()=>Ze==null?void 0:Ze.setLocalAudio(!Et)},Et?Object(o.h)(Wo.default,{height:18}):Object(o.h)(Jr.default,{height:18})),an&&Object(o.h)(Q.c,{alignItems:"center",onClick:()=>Ze==null?void 0:Ze.setLocalVideo(!xe)},xe?Object(o.h)(qo.default,{height:18}):Object(o.h)(Jo.default,{height:18}))),Object(o.h)(It,null))},Vt=({name:Ze,screen:_e})=>Object(o.h)(Q.c,{className:er.name,padding:4},Ze?Object(o.h)(or.a,null,Ze,_e&&"'s Screen"):Object(o.h)(io.default,{height:16,stroke:"#e0e0e0"})),Tn=({sessionId:Ze})=>{const{reaction:_e,handRaised:xe}=fn(Ze,"userData")||{},Et=!1;return!_e&&!xe?null:Object(o.h)(Q.c,{gap:4,className:er.reaction},Object(o.h)("span",null,_e),!Et&&xe&&Object(o.h)("span",null,"\u270B"))},sr=()=>{const Ze=dr(),_e=fn(Ze,"video"),xe=fn(Ze,"user_name");return Object(o.h)("div",{className:er.participant},Object(o.h)(Zt,{sessionId:Ze,type:"video",fit:"cover",automirror:!0}),Object(o.h)(_t,null),!_e&&Object(o.h)(Q.a,{justifyContent:"center",alignItems:"center",className:er.videoDisabled},Object(o.h)(io.default,{height:144,stroke:"#e0e0e0"})," "),Object(o.h)(Vt,{name:xe}),Object(o.h)(Tn,{sessionId:Ze}))},qn=({screen:Ze})=>Ze?Object(o.h)(Q.a,{alignItems:"center",justifyContent:"center",className:er.localScreen},Object(o.h)(Zt,{type:"screenVideo",sessionId:Ze.session_id,fit:"cover"})):null;var qr=t(857),Vr=t(1408);const Gr=({participantId:Ze,sendModerationMessage:_e})=>{const xe=ke(),Et=fn(Ze,"audio"),Ct=fn(Ze,"video"),mn=fn(Ze,"permissions"),Cn=typeof mn.canSend=="boolean";let an,gn;Cn?(an=mn.canSend,gn=mn.canSend):(an=mn.canSend.has("audio"),gn=mn.canSend.has("video"));const Bn=()=>{xe==null||xe.updateParticipant(Ze,{setAudio:!1}),_e(Ze,"tempDisableAudio")},lr=()=>{xe==null||xe.updateParticipant(Ze,{setVideo:!1}),_e(Ze,"tempDisableVideo")},Er=()=>{let J,oe;an?(J=gn?new Set(["video"]):!1,oe="disableAudio"):(J=gn?new Set(["audio","video"]):new Set(["audio"]),oe="enableAudio"),xe==null||xe.updateParticipant(Ze,{setAudio:!1,updatePermissions:{canSend:J}}),_e(Ze,oe)},kr=()=>{let J,oe;gn?(J=an?new Set(["audio"]):!1,oe="disableVideo"):(J=an?new Set(["audio","video"]):new Set(["video"]),oe="enableVideo"),xe==null||xe.updateParticipant(Ze,{setAudio:!1,updatePermissions:{canSend:J}}),_e(Ze,oe)},xr=()=>{_e(Ze,"forceDisconnect"),xe==null||xe.updateParticipant(Ze,{eject:!0})};return Object(o.h)("div",{className:er.participantModeration},Object(o.h)(Ye.c,{trigger:Object(o.h)(Q.c,null,Object(o.h)(qr.a,{height:20,stroke:"#eeeeee"}))},Et&&Object(o.h)(Ye.d,{className:er.action,onClick:Bn,icon:Object(o.h)(Jr.default,{height:16})},"Temporarily mute"),Ct&&Object(o.h)(Ye.d,{onClick:lr,icon:Object(o.h)(Jo.default,{height:16})},"Temporily disable video"),Object(o.h)(Ye.d,{className:er.action,onClick:Er,icon:Object(o.h)(Jr.default,{fill:an?"#ff6b6b":"#53d09c",height:16})},an?"Disable audio":"Enable audio"),Object(o.h)(Ye.d,{onClick:kr,icon:Object(o.h)(Jo.default,{fill:gn?"#ff6b6b":"#53d09c",height:16})},gn?"Disable video":"Enable video"),Object(o.h)(Ye.d,{onClick:xr,icon:Object(o.h)(Vr.default,{fill:"#ff6b6b",height:16})},"Remove participant")))},$r=({participantId:Ze,sendModerationMessage:_e})=>{const xe=dr(),Et=fn(xe,"owner"),Ct=fn(Ze,"user_name"),mn=fn(Ze,"video"),Cn=Object(vt.e)();return Object(o.h)("div",{className:er.participant},Et&&_e&&Object(o.h)(Gr,{participantId:Ze,sendModerationMessage:_e}),!mn&&Object(o.h)(Q.a,{justifyContent:"center",alignItems:"center",className:er.videoDisabled},Object(o.h)(io.default,{height:144,stroke:"#e0e0e0"})," "),Object(o.h)(Zt,{sessionId:Ze,type:"video",fit:"cover"}),Object(o.h)(Ot,{sessionId:Ze}),Object(o.h)(Vt,{name:Ct}),Object(o.h)(Tn,{sessionId:Ze}))},yr=({screen:Ze})=>{const _e=fn(Ze==null?void 0:Ze.session_id,"user_name");return Ze?Object(o.h)(Q.a,{className:er.remoteScreen},Object(o.h)(Zt,{type:"screenVideo",sessionId:Ze.session_id,fit:"cover"}),Object(o.h)(Vt,{name:_e,screen:!0})):null};var Nr=Object.defineProperty,gr=Object.defineProperties,Xr=Object.getOwnPropertyDescriptors,Dt=Object.getOwnPropertySymbols,N=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable,$=(Ze,_e,xe)=>_e in Ze?Nr(Ze,_e,{enumerable:!0,configurable:!0,writable:!0,value:xe}):Ze[_e]=xe,ne=(Ze,_e)=>{for(var xe in _e||(_e={}))N.call(_e,xe)&&$(Ze,xe,_e[xe]);if(Dt)for(var xe of Dt(_e))L.call(_e,xe)&&$(Ze,xe,_e[xe]);return Ze},ee=(Ze,_e)=>gr(Ze,Xr(_e));const ae=(Ze,_e)=>_e==="presentation"?"large":Ze===1?"onlyOne":Ze<=2?"onlyTwo":Ze<=6?"small":Ze<=12?"medium":"large",ve=({participantType:Ze})=>{const _e=Object(vt.e)(),xe=["host","guest"].includes(Ze),{isSharingScreen:Et,screens:Ct,startScreenShare:mn,stopScreenShare:Cn}=Dn(),[an,gn]=Object(l.l)("standard");Object(l.d)(()=>{Ct.length&&!Et&&gn("presentation"),Ct.length||gn("standard")},[Ct,Et]);const Bn=ro({filter:re=>!re.local&&!re.owner}),lr=ro({filter:re=>!re.local&&re.owner}),[Er,kr]=Object(l.l)([]),xr=mr({onAppMessage:Object(l.a)(re=>{const{type:ye}=re.data;if(ye==="chat"&&kr(nt=>[...nt,re.data]),ye==="moderation"){const nt=re.data,Ht=nr(nt);_e.popToast(on=>Object(o.h)(vt.c,ee(ne({},on),{text:Ht}))),nt.message==="stopScreenShare"&&Cn()}},[])}),J=re=>{xr(re),kr(ye=>[...ye,re])},oe=(re,ye)=>{xr(Un(re,ye),re)},pe=()=>{if(Et)Cn();else{if(Ct.length){const re="Another participant is currently sharing their screen";_e.popToast(ye=>Object(o.h)(vt.c,ee(ne({},ye),{text:re})));return}mn()}};return Object(o.h)(Q.a,{className:c()(er.room,an==="presentation"&&er.presentation)},Et&&Object(o.h)(qn,{screen:Ct[0]}),an==="presentation"&&Object(o.h)(Q.c,{className:er.presentationContainer,justifyContent:"center",alignItems:"center"},Ct&&!Et&&Object(o.h)(yr,{screen:Ct[0]})),Object(o.h)(Q.a,{className:c()(er.participantsContainer,`${er[ae(Bn.length+lr.length+1,an)]}`),justifyContent:"center",wrap:"wrap",gap:12},lr.map(re=>Object(o.h)($r,{key:re,participantId:re})),Object(o.h)(sr,null),Bn.map(re=>Object(o.h)($r,{key:re,participantId:re,sendModerationMessage:oe})),Object(o.h)(Q.c,{className:er.roomActionsContainer,gap:4,padding:4,alignItems:"end"},xe?Object(o.h)(kn.c,{size:32,fill:"empty",priority:"secondary",onClick:pe},Et?Object(o.h)(Ge.a,{size:20}):Object(o.h)(tt.a,{size:20})):null,Object(o.h)(Cr,{sendModerationMessage:oe,activeScreenShare:Ct[0]}),Object(o.h)(Fn,{messages:Er,sendMessage:J}))))};var Re=Object.defineProperty,$e=Object.defineProperties,bt=Object.getOwnPropertyDescriptors,Ut=Object.getOwnPropertySymbols,dn=Object.prototype.hasOwnProperty,pn=Object.prototype.propertyIsEnumerable,jn=(Ze,_e,xe)=>_e in Ze?Re(Ze,_e,{enumerable:!0,configurable:!0,writable:!0,value:xe}):Ze[_e]=xe,Nn=(Ze,_e)=>{for(var xe in _e||(_e={}))dn.call(_e,xe)&&jn(Ze,xe,_e[xe]);if(Ut)for(var xe of Ut(_e))pn.call(_e,xe)&&jn(Ze,xe,_e[xe]);return Ze},Xn=(Ze,_e)=>$e(Ze,bt(_e)),Lr=(Ze,_e,xe)=>new Promise((Et,Ct)=>{var mn=gn=>{try{an(xe.next(gn))}catch(Bn){Ct(Bn)}},Cn=gn=>{try{an(xe.throw(gn))}catch(Bn){Ct(Bn)}},an=gn=>gn.done?Et(gn.value):Promise.resolve(gn.value).then(mn,Cn);an((xe=xe.apply(Ze,_e)).next())});const Wr=({user:Ze,participantType:_e,eventId:xe})=>{const Et=Object(vt.e)(),[Ct,mn]=Object(l.l)(null),[Cn,an]=Object(l.l)(null),[gn,Bn]=Object(l.l)(!1),[lr,Er]=Object(l.l)(null),[kr,xr]=Object(l.l)(!1),J=pe=>{var re;((re=pe==null?void 0:pe.error)==null?void 0:re.type)==="ejected"&&(xr(!0),setTimeout(()=>Object(r.redirect)(window.location.origin),1500)),pe.errorMsg==="You are not allowed to join this meeting"&&(Et.popToast(ye=>Object(o.h)(vt.c,Xn(Nn({},ye),{text:"You don't have access to this event"}))),setTimeout(()=>Object(r.redirect)(window.location.origin),1500)),pe.errorMsg==="Meeting has ended"&&(xr(!0),Et.popToast(ye=>Object(o.h)(vt.c,Xn(Nn({},ye),{text:"The event has ended"}))),setTimeout(()=>Object(r.redirect)(window.location.origin),3e3))};Object(l.d)(()=>{if(!Ze)return Object(r.redirectToLogin)();const pe=Oe.a.createCallObject();pe.on("error",J),Er(pe);const[re]=Array.from(document.body.getElementsByClassName("overflow-list-container sections-overflow")),[ye]=Array.from(document.body.getElementsByClassName("navbar-buttons"));return re&&(re.style.display="none"),ye&&(ye.style.visibility="hidden"),()=>{pe.off("error",J);try{pe.destroy()}catch(nt){console.error("Failed to destroy call object",nt)}re&&(re.style.display="flex"),ye&&(ye.style.visibility="visible")}},[]),Object(l.d)(()=>{(()=>Lr(void 0,null,function*(){const ye=(yield vn.a.get(`/api/v1/live_event/${xe}`).send()).body;mn(ye),ye.ended_at&&(xr(!0),Et.popToast(nt=>Object(o.h)(vt.c,Xn(Nn({},nt),{text:"This event has ended"}))),setTimeout(()=>Object(r.redirect)(window.location.origin),1500))}))()},[]),Object(l.d)(()=>{lr&&Ct&&!Cn&&(()=>Lr(void 0,null,function*(){try{const ye=(yield vn.a.get(`/api/v1/live_event/${xe}/credentials/${_e}`).send()).body;an(ye)}catch(re){re.status===401?(Et.popToast(ye=>Object(o.h)(vt.c,Xn(Nn({},ye),{text:"You don't have access to this event"}))),setTimeout(()=>Object(r.redirect)(window.location.origin),1500)):(Et.popToast(ye=>Object(o.h)(vt.c,Xn(Nn({},ye),{text:"Unable to access event. Please try again."}))),console.error("Failed to load participant credentials",re))}}))()},[lr,Ct,Cn]);const oe=()=>Lr(void 0,null,function*(){yield lr==null?void 0:lr.join({url:Ct.room_url,token:Cn.token}),Bn(!0)});return Cn?kr?Object(o.h)(et,null):Object(o.h)(zn,{callObject:lr},Object(o.h)(Q.b,{width:"100vw",alignItems:"center",className:er.view},!gn&&Object(o.h)(ur,{joinCall:oe,credentials:Cn}),gn&&Object(o.h)(ve,{participantType:_e}))):null};var Kr=t(1160),Zr=t(794),uo=t(112),go=t(65),yo=t.n(go),vo=t(10),Sr=t(59),Ro=t(216),Po=t(172),Yo=({tabs:Ze,tab:_e,onTabClick:xe})=>Object(o.h)("div",{className:"ui-tabs"},Ze.map(({id:Et,title:Ct})=>Object(o.h)("a",{className:`ui-tab ${Et}-tab ${_e===Et?"active":""}`,onClick:()=>xe&&xe(Et)},Ct))),lo=t(137),No=t(158),Ko=t(319),Qo=t(64),Xo=t(935),mi={authorPic:"frontend-main-about_page-module__authorPic--phINI",heroText:"frontend-main-about_page-module__heroText--xJI9E",container:"frontend-main-about_page-module__container--ZUMPS"},si=Object.defineProperty,li=(Ze,_e,xe)=>_e in Ze?si(Ze,_e,{enumerable:!0,configurable:!0,writable:!0,value:xe}):Ze[_e]=xe,Io=(Ze,_e,xe)=>(li(Ze,typeof _e!="symbol"?_e+"":_e,xe),xe),pi=(Ze,_e,xe)=>new Promise((Et,Ct)=>{var mn=gn=>{try{an(xe.next(gn))}catch(Bn){Ct(Bn)}},Cn=gn=>{try{an(xe.throw(gn))}catch(Bn){Ct(Bn)}},an=gn=>gn.done?Et(gn.value):Promise.resolve(gn.value).then(mn,Cn);an((xe=xe.apply(Ze,_e)).next())});function Di(Ze){if(typeof window=="undefined")return!0;const _e=document.createElement("div");_e.innerHTML=Ze;for(let xe=_e.childNodes.length-1;xe>=0;xe--){const Et=_e.childNodes[xe];if(Object(r.hasClass)(Et,"button-wrapper")||Object(r.hasClass)(Et,"subscription-widget-wrap"))return!1}return!0}const Li=({pub:Ze,user:_e,freeSignup:xe,freeSignupEmail:Et})=>{const Ct=Ze.payments_state==="enabled"&&(_e==null?void 0:_e.is_free_subscribed)&&!(_e==null?void 0:_e.is_subscribed)?"paid_upsell":"free_upsell";return Object(l.d)(()=>{Object(ze.i)(ze.a.ABOUT_PAGE_END_CTA_RENDERED,{pub_id:Ze.id,type:Ct})},[]),Object(o.h)(o.Fragment,null,Object(o.h)(lo.a,{onVisible:()=>{Object(ze.i)(ze.a.ABOUT_PAGE_END_CTA_SEEN,{pub_id:Ze.id,type:Ct})}}),Object(o.h)(Q.b,{alignItems:"center",gap:16,padding:24,className:c()(mi.container,"end-cta-container")},Object(o.h)("img",{src:Object(g.cloudinary)(Ze.author_photo_url||Ze.logo_url,64),className:mi.authorPic}),Object(o.h)(Q.b,{alignItems:"center"},Object(o.h)(ct.b.H2,{lineHeight:30,align:"center"},"Subscribe to ",Ze.name),Ze.hero_text&&Object(o.h)(ct.b.Meta,{size:12,className:mi.heroText,align:"center"},Ze.hero_text)),Object(o.h)(Po.b,{pub:Ze,user:_e,freeSignup:xe,freeSignupEmail:Et,isStatic:!1,source:"about-page-end-cta"})))};function Wi({pub:Ze,user:_e,freeSignup:xe,freeSignupEmail:Et,subscribeContent:Ct}){return typeof Ct!="string"?Object(o.h)("div",{className:"content-about-silhouette"},Object(o.h)("div",{className:"content-about-silhouette-line"}),Object(o.h)("div",{className:"content-about-silhouette-line"}),Object(o.h)("div",{className:"content-about-silhouette-line"}),Object(o.h)("div",{className:"content-about-silhouette-line"}),Object(o.h)("div",{className:"content-about-silhouette-line"})):Object(o.h)("div",{className:"content-about"},Object(o.h)(Ro.a,{html:Ct,pub:Ze,user:_e,freeSignup:xe,freeSignupEmail:Et}))}function Xi({pub:Ze,people:_e}){const xe=Object(uo.useMediaQuery)({maxWidth:540}),Et=xe?[[]]:[[],[]];for(let Ct=0;Ct<_e.length;++Ct)Et[xe?0:Ct%2].push(_e[Ct]);return Object(o.h)("div",{className:"content-people"},Et.map(Ct=>Object(o.h)("div",{className:"people-column"},Ct.map(mn=>Object(o.h)("div",{className:"content-person",onclick:Cn=>Object(No.a)(Cn,Object(g.getProfileUrl)(mn,Ze,{utm_source:"about-page"}),{native:!0})},Object(o.h)(Sr.a,{subject:mn,profile:mn,themed:!0,hideSubscribeButtons:!0,utmSource:"about-page"}))))))}class di extends o.Component{constructor(_e,xe){super(_e,xe);if(Io(this,"onTabClick",Et=>{this.loadTab({tabId:Et})}),this.state={subscribeContent:_e.subscribeContent,people:_e.people,tabs:[]},(_e.pub.child_publications||[]).length){this.state.tabs.push({id:"about",title:"About"}),this.state.tab=this.state.tabs[0];const Et=Object(vo.group_by)(_e.pub.child_publications,"type");for(const Ct of Array.from(Et.keys()).sort())this.state.tabs.push({id:Ct,title:`${Object(vo.toTitleCase)(Ct)}s`});this.state.tab=this.state.tabs.find(Ct=>Ct.id===_e.sort)||this.state.tabs[0]}}componentDidMount(){return pi(this,null,function*(){if(this.props.pub.parent_publication&&this.props.pub.parent_about_page_enabled){Object(r.redirect)(Object(g.getAboutUrl)(this.props.pub.parent_publication,{addBase:!0}));return}this.loadPeople(),this.loadAbout()})}loadAbout(){return pi(this,null,function*(){if(this.state.subscribeContent!=="")try{const{body:_e}=yield vn.a.get("/api/v1/publication/subscribe_content");this.setState({subscribeContent:_e})}catch(_e){console.error("Failed to load about content:",_e)}})}loadPeople(){return pi(this,null,function*(){if(!this.state.people)try{const{body:_e}=yield vn.a.get("/api/v1/publication/users/ranked").query({public:!0});this.setState({people:_e})}catch(_e){console.error("Failed to load people:",_e)}})}loadTab(){return pi(this,arguments,function*({tabId:_e}={}){const xe=_e?this.state.tabs.find(Et=>Et.id===_e):this.state.tab;this.state.tab.id!==xe.id&&(this.setState({tab:xe}),typeof window!="undefined"&&window.history.replaceState&&window.history.replaceState({},document.title,Object(g.updateQuery)({sort:xe.id})))})}renderChildPublications({pub:_e,user:xe,freeSignup:Et},{tab:Ct}){let mn,Cn;_e.plans?(Cn=xe&&xe.is_subscribed,mn=Cn):(mn=Et||xe&&xe.is_free_subscribed,Cn=xe&&xe.is_free_subscribed);const an=lr=>`${Object(g.getBaseUrl)(lr)}/?showWelcome=true`;if(Ct.id==="podcast")if(Cn){const lr=yo.a.getMultiPubChildPodcasts(_e).map(Er=>Object(Xo.b)(Er,Object(g.getPodcatcherSetupUrl)(Er,{addBase:!0,user:null,section:null,noSection:null,params:null})));return Object(o.h)(Xo.a,{pub:_e,showButton:!0,buttonText:"Set up podcast",items:lr})}else{const lr=yo.a.getMultiPubChildPodcasts(_e).map(Er=>Object(Xo.b)(Er,an(Er)));return Object(o.h)(Xo.a,{pub:_e,showButton:!mn,buttonText:I`Subscribe`,items:lr})}const Bn=(_e.child_publications?_e.child_publications.filter(lr=>lr.type===Ct.id):[]).map(lr=>Object(Xo.b)(lr,an(lr)));return Object(o.h)(Xo.a,{pub:_e,showButton:!mn,buttonText:I`Subscribe`,items:Bn})}render({pub:_e,user:xe,freeSignup:Et,freeSignupEmail:Ct,metadata:mn},{subscribeContent:Cn,people:an,tabs:gn,tab:Bn}){const lr=gn.length>0&&(Bn==null?void 0:Bn.id),Er=!lr||(Bn==null?void 0:Bn.id)==="about",kr=(!xe||!Object(Ko.a)(xe,_e))&&Di(Cn);return Object(o.h)("div",{className:"page typography about-page typography"},mn&&Object(r.setMetaData)(mn),Object(o.h)("div",{className:"container"},(xe==null?void 0:xe.is_contributor)&&Er&&Object(o.h)(Qo.a,{variant:"themed-secondary",href:Object(g.pathWithQuery)("/publish/settings/edit",{title:"About page",bodyField:"subscribe_content",redirect:document.location.href}),localNavigation:!1,leftIcon:Object(o.h)(Zr.a,{size:20})},"Edit"),lr&&Object(o.h)(Yo,{tabs:gn,tab:Bn.id,onTabClick:this.onTabClick}),Er&&Object(o.h)(o.Fragment,null,Object(o.h)("div",{className:"about-content-wrap"},Object(o.h)(Wi,{pub:_e,user:xe,freeSignup:Et,freeSignupEmail:Ct,subscribeContent:Cn})),kr?Object(o.h)(Li,{pub:_e,user:xe,freeSignup:Et,freeSignupEmail:Ct}):null,(an!=null?an:[]).length>0&&Object(o.h)(Q.b,{gap:24},Object(o.h)("h3",{className:"about-page-section-title"},"People"),Object(o.h)(Xi,{pub:_e,people:an}))),lr&&["podcast","newsletter"].includes(Bn.id)&&this.renderChildPublications({pub:_e,user:xe,freeSignup:Et},{tab:Bn})))}}var yi=t(865),Ii=t(282);function qi({children:Ze,title:_e,pub:xe,user:Et,freeSignup:Ct,freeSignupEmail:mn,sort:Cn,search:an,newPosts:gn,topPosts:Bn,communityPosts:lr,searchPosts:Er,sectionId:kr,isPodcast:xr,metadata:J}){const oe=Boolean(xe==null?void 0:xe.theme);return Object(o.h)(Ii.a,{value:{hasThemedBackground:oe}},J&&Object(r.setMetaData)(J),Object(o.h)("div",{className:c()("archive-page typography",{"use-theme-bg":oe})},Object(o.h)("div",{className:"container"},_e&&Object(o.h)("h2",null,_e),Object(o.h)(yi.a,{communityTitle:"Discussion",user:Et,freeSignup:Ct,freeSignupEmail:mn,pub:xe,sort:Cn,search:an,newPosts:gn,topPosts:Bn,communityPosts:lr,searchPosts:Er,stateInUrl:!0,sectionId:kr,source:"archive",isPodcast:xr,showMonthDividers:!0}),Ze)))}var sa=t(1338),ji=t(210),wi=t(473),ti=t(21),Ar=t(57);class Ao extends o.Component{constructor(_e,xe){super(_e,xe);this.state={freeSignup:_e.freeSignup,freeSignupEmail:_e.freeSignupEmail,success:!1}}componentDidMount(){Object(r.preloadImage)(Object(g.cloudinary)("/img/substack_wordmark.png",200));const _e=this.props.freeSignupEmail||this.props.user&&this.props.user.email;_e&&(this.emailInput.value=_e)}onPrepareData(_e){this.props.pub.plans&&!this.subscribeWindow&&(this.subscribeWindow=window.open("about:blank","_blank"))}onSignup(_e){this.setState({freeSignup:!0,freeSignupEmail:_e.body.email}),this.subscribeWindow&&(this.subscribeWindow.location=`${this.props.pub.base_url}/subscribe?just_signed_up=true`)}onError(_e){if(this.subscribeWindow){try{this.subscribeWindow.close()}catch(xe){console.error("Failed to close subscribe window:",xe)}this.subscribeWindow=null}}render({pub:_e,user:xe,no_border:Et},{freeSignup:Ct,freeSignupEmail:mn,loading:Cn,success:an}){const gn=mn||xe&&xe.email;return Object(o.h)("div",{className:`embed-page ${Et?"no-border":""}`},Object(o.h)("div",{className:"embed-page-inner"},_e.logo_url&&Object(o.h)("a",{href:`${_e.base_url}/`,target:"_blank"},Object(o.h)("img",{className:"publication-logo",src:Object(g.cloudinary)(_e.logo_url,170,{quality:"auto:best"}),alt:"Logo"})),Object(o.h)("h1",{className:`publication-name${_e.logo_url?"":" no-logo"}`},Object(o.h)("a",{href:`${_e.base_url}/`,target:"_blank"},Object(o.h)(wi.a,{text:_e.name}))),Object(o.h)("p",{className:"publication-tagline"},!!_e.hero_text&&Object(o.h)(wi.a,{text:_e.hero_text})),_e.invite_only?Object(o.h)(Ar.g,{className:"subscription-request-form",ref:Bn=>this.form=Bn,noInlineErrors:!0,action:Object(g.pathWithQuery)("/api/v1/subscription/request"),noJsAction:Object(g.pathWithQuery)("/api/v1/subscription/request",{nojs:!0}),onSuccess:()=>this.setState({success:!0}),onError:Bn=>{this.setState({loading:!1}),alert(Object(r.getNetworkErrorMessage)(Bn,"Failed to request a subscription"))}},Object(o.h)("input",{type:"hidden",name:"first_url",value:a.d}),Object(o.h)("input",{type:"hidden",name:"first_referrer",value:a.c}),Object(o.h)("input",{type:"hidden",name:"current_url",value:a.b}),Object(o.h)("input",{type:"hidden",name:"current_referrer",value:a.a}),!!gn&&Object(r.inputPrefillHack)(),Object(o.h)("div",{className:"sideBySideWrap"},Object(o.h)("input",{className:c()(an?"secondary":"primary"),type:"email",name:"email",ref:Bn=>this.emailInput=Bn,readOnly:!!(gn||Cn),disabled:!!(Cn||an||gn),autoFocus:!gn&&!Object(r.isMobileBrowser)(),placeholder:I`Type your email…`}),Object(o.h)(ti.b,{className:c()("rightButton",an?"secondary":"primary"),type:"submit",disabled:!!(Cn||an),onClick:()=>{this.setState({loading:!0})}},Object(o.h)("b",{className:"button-text"},an?"Requested":"Subscribe"))),Object(o.h)("div",{id:"error-container"})):Object(o.h)(Po.b,{source:"embed",pub:_e,user:xe,freeSignup:Ct,freeSignupEmail:mn,forceEmailInput:!0,onPrepareData:Bn=>this.onPrepareData(Bn),onSignup:Bn=>this.onSignup(Bn),onError:Bn=>this.onError(Bn)}),(xe||Ct)&&Object(o.h)("p",null,Object(o.h)("span",{className:"account-info-logout"},Object(o.h)("a",{href:Object(g.getSignoutUrl)({redirect:document.location.href,for_pub:_e.subdomain}),native:!0},"Sign out")))),Object(o.h)("a",{href:`${Object(g.getSubstackUrl)()}/?utm_source=embed&utm_content=${_e.subdomain}`,target:"_blank"},Object(o.h)("img",{ref:Bn=>this.img=Bn,className:"substack-watermark",src:Object(g.cloudinary)("/img/substack_wordmark.black.png",200),onMouseEnter:()=>this.img.src=Object(g.cloudinary)("/img/substack_wordmark.png",200),onMouseLeave:()=>this.img.src=Object(g.cloudinary)("/img/substack_wordmark.black.png",200),alt:"Substack"})))}}var Fo=t(171),hi=(Ze,_e,xe)=>new Promise((Et,Ct)=>{var mn=gn=>{try{an(xe.next(gn))}catch(Bn){Ct(Bn)}},Cn=gn=>{try{an(xe.throw(gn))}catch(Bn){Ct(Bn)}},an=gn=>gn.done?Et(gn.value):Promise.resolve(gn.value).then(mn,Cn);an((xe=xe.apply(Ze,_e)).next())}),ki=({pub:Ze,slug:_e})=>{var xe;const[Et,Ct]=Object(l.l)(null);Object(l.d)(()=>{function Cn(){return hi(this,null,function*(){try{const an=yield vn.a.get(`/api/v1/posts/${_e}`);Ct(an.body)}catch(an){console.error("Failed to load post:",an),an.status===404?alert("Post not found"):alert(Object(r.getNetworkErrorMessage)(an))}})}Cn()},[_e]);let mn=!1;return typeof window!="undefined"&&(mn=((xe=Object(g.parseQuery)(window.location.href).autoplay)!=null?xe:"0")==="1"),Et?Object(o.h)(Fo.a,{feature:"Podcast",pub:Ze,post:Et,src:Et.podcast_url,autoPlay:mn,metricsPost:Et,isFancy:!0,showCTAs:!0}):Object(o.h)("div",{className:"loading-container"})};class Vi extends o.Component{render(){return Object(o.h)("div",{className:"embed-test-page"},Object(o.h)("iframe",{style:{border:"1px solid #EEE",background:"white"},width:"480",height:"320",src:"/embed",frameBorder:"0",scrolling:"no"}))}}var la=t(178),ca=(Ze,_e,xe)=>new Promise((Et,Ct)=>{var mn=gn=>{try{an(xe.next(gn))}catch(Bn){Ct(Bn)}},Cn=gn=>{try{an(xe.throw(gn))}catch(Bn){Ct(Bn)}},an=gn=>gn.done?Et(gn.value):Promise.resolve(gn.value).then(mn,Cn);an((xe=xe.apply(Ze,_e)).next())}),Ba=({pub:Ze,slug:_e})=>{var xe;const[Et,Ct]=Object(l.l)(null);Object(l.d)(()=>{function Cn(){return ca(this,null,function*(){try{const an=yield vn.a.get(`/api/v1/posts/${_e}`);Ct(an.body)}catch(an){console.error("Failed to load post:",an),an.status===404?alert("Post not found"):alert(Object(r.getNetworkErrorMessage)(an))}})}Cn()},[_e]);let mn=!1;return typeof window!="undefined"&&(mn=((xe=Object(g.parseQuery)(window.location.href).autoplay)!=null?xe:"0")==="1"),Et?Object(o.h)("div",{className:"video-player-embed-container"},Object(o.h)(la.a,{mediaUpload:Et.videoUpload,pub:Ze,post:Et,autoPlay:mn})):Object(o.h)("div",{className:"loading-container"})},Aa=t(1339),ja=t(1409),ka=t(1410),Va=(Ze,_e,xe)=>new Promise((Et,Ct)=>{var mn=gn=>{try{an(xe.next(gn))}catch(Bn){Ct(Bn)}},Cn=gn=>{try{an(xe.throw(gn))}catch(Bn){Ct(Bn)}},an=gn=>gn.done?Et(gn.value):Promise.resolve(gn.value).then(mn,Cn);an((xe=xe.apply(Ze,_e)).next())});function Ha(){var Ze;return typeof window!="undefined"?((Ze=window._preloads)==null?void 0:Ze.file)||{}:{}}function Ns(Ze,_e){return`${Ze.title.toLowerCase().replace(/\s/g,"_")}.${_e.toLowerCase()}`}function ul({file:Ze=Ha(),pub:_e}){const[xe,Et]=Object(l.l)(null);return Object(l.d)(()=>(()=>Va(this,null,function*(){if(!Ze.fileKey){const Ct=yield fetch(`/api/v1/file/entry/${window.location.pathname.split("/").pop()}`);Ct.redirected&&(window.location.href=Ct.url);const mn=yield Ct.json();Et(mn)}}))(),[Ze.fileKey]),Object(o.h)(Ka,{file:xe||Ze,pub:_e})}function Ka({file:Ze,pub:_e}){var xe;if(!Ze.id)return Object(o.h)("div",{className:"page"},Object(o.h)("div",{className:"container"},Object(o.h)("h3",null,"Read Now"),Object(o.h)("div",{className:"popup-container"},Object(o.h)("div",{className:"overlay"}))));const Et=(xe=Ze.file_key)==null?void 0:xe.split(".").pop().toUpperCase(),Ct=Object(vo.numberToHumanFileSize)(Ze.num_bytes),mn=Ns(Ze,Et);return Object(o.h)("div",{className:"page"},Object(o.h)("div",{className:"container"},Object(o.h)("span",{className:"table-list-title"},Object(o.h)("h3",null,"Read Now"),Object(o.h)("a",{className:"file-sidebar-header-button",href:`${Object(g.getBaseUrl)(_e)}/p/${Ze.post_id}`},"Back")),Object(o.h)("div",{className:"table-list"},Object(o.h)("div",{className:"table-list-row table-list-header"},Object(o.h)("img",{className:`table-list-thumbnail ${Ze.thumbnail&&Ze.thumbnail.indexOf("/img/attachment_icon.svg")===-1?"":"default"}`,src:Ze.thumbnail||`${Object(g.getBaseUrl)(_e)}/img/attachment_icon.svg`}),Object(o.h)("div",{className:"table-list-col"},Object(o.h)("div",{className:"table-list-h1"},Ze.title||"Unknown File"),Object(o.h)("div",{className:"table-list-h2"},Ct," \u2219 ",Et," File"))),Object(o.h)("a",{className:"table-list-row table-list-item",href:`${Object(g.getBaseUrl)(_e)}/api/v1/file/panels/${Ze.file_key}`},Object(o.h)(ka.default,null),Object(o.h)("span",{className:"table-list-grow"},Object(o.h)("div",{className:"table-list-h1"},"Open in Panels"),Object(o.h)("div",{className:"table-list-h2"},"Comic reader for iOS")),Object(o.h)(Aa.default,{stroke:"#666",strokeWidth:0,isStatic:!0})),Object(o.h)("a",{className:"table-list-row table-list-item",download:mn,href:`${Object(g.getBaseUrl)(_e)}/api/v1/file/${Ze.file_key}`},Object(o.h)(ja.default,null),Object(o.h)("span",{className:"table-list-grow"},Object(o.h)("div",{className:"table-list-h1"},"Download file"),Object(o.h)("div",{className:"table-list-h2"},mn)),Object(o.h)(Aa.default,{stroke:"#666",strokeWidth:0,isStatic:!0})))))}var Ls=t(151),ql=Object.defineProperty,ec=(Ze,_e,xe)=>_e in Ze?ql(Ze,_e,{enumerable:!0,configurable:!0,writable:!0,value:xe}):Ze[_e]=xe,$a=(Ze,_e,xe)=>(ec(Ze,typeof _e!="symbol"?_e+"":_e,xe),xe),tc=(Ze,_e,xe)=>new Promise((Et,Ct)=>{var mn=gn=>{try{an(xe.next(gn))}catch(Bn){Ct(Bn)}},Cn=gn=>{try{an(xe.throw(gn))}catch(Bn){Ct(Bn)}},an=gn=>gn.done?Et(gn.value):Promise.resolve(gn.value).then(mn,Cn);an((xe=xe.apply(Ze,_e)).next())});class xs extends o.Component{constructor(){super(...arguments);$a(this,"acceptInvite",()=>tc(this,null,function*(){var _e,xe;try{const Et=yield vn.a.post(`/api/v1/publication_user_invite/${this.props.matches.id}/accept`);((_e=Et.body)==null?void 0:_e.postUrl)?location.href=(xe=Et.body)==null?void 0:xe.postUrl:Object(r.redirect)(`/invite-success/${this.props.matches.id}`)}catch(Et){const Ct=Object(r.getNetworkErrorMessage)(Et);this.setState({error:Ct})}}))}componentDidMount(){this.props.user||Object(r.redirectToLogin)()}render({pub:_e,post:xe,user:Et,freeSignup:Ct,freeSignupEmail:mn,inviteToPost:Cn,primaryEligiblePublications:an,switchAccountRedirectUrl:gn},{error:Bn}){if(Bn)return Object(o.h)("div",{className:"container invite-success"},Object(o.h)("h3",null,"Error"),Object(o.h)("p",null,Bn));const lr=Cn&&xe&&xe.type==="podcast",Er=lr&&Et?"Fill out your profile for your podcast appearance":lr&&!Et?"Set up your profile for your podcast appearance":Cn&&Et?"Set up your profile":Cn&&!Et?"Fill out your profile":`Your invite to ${_e.name}`,kr=lr?"Listeners will want to know more about you. Use your profile as a chance to express yourself.":Cn?"Readers will want to know more about you and even follow your writing. Use your profile as a chance to express yourself.":"Before you can accept your invite, finish setting up your profile:",xr=Cn?"Update Profile & Accept Invite":"Accept Invite",J=Et?"Already a writer?":"Already have an account?",oe=Et?"Switch accounts":"Login";return Object(o.h)("div",{className:"container finish-invite"},Object(o.h)("h3",null,Er),Object(o.h)("p",null,kr),Object(o.h)(Ls.b,{pageTitle:"",user:Et,freeSignup:Ct,freeSignupEmail:mn,needsPhoto:!1,optionalPhoto:Cn,isPostInvite:Cn,primaryEligiblePublications:an,onSuccess:this.acceptInvite,text:xr}),Cn&&gn&&Object(o.h)("div",{className:"invite-switch-account"},J," ",Object(o.h)("a",{href:gn},oe)))}}$a(xs,"defaultProps",{inviteToPost:!1,primaryEligiblePublications:[]});var Bs=t(183);class Ca extends o.Component{renderNotAvailable(_e,{time:xe=!1}={}){const Et=xe?"this gift has expired":"all of these gifts have already been claimed";return Object(o.h)("div",{className:"container reward-page gift-reward-page"},Object(o.h)("h2",null,"All gone"),_e,Object(o.h)("p",null,"Sorry, ",Et,". You can still subscribe if you like."),Object(o.h)("div",{className:"signup"},Object(o.h)(Bs.a,{source:"viral_gift_none_left",pub:this.props.pub,onSuccess:()=>document.location.href="/subscribe",hideLogin:!0,hideTerms:!0})))}renderForSender(){return[Object(o.h)("h3",{className:"sender-hint"},Object(o.h)("span",null,Es(this.props.user),", share this page to give your gift"),Object(o.h)("a",{className:"button twitter-button",href:this.props.viral_gift_data.tweet_link,native:!0},"Share on Twitter"))]}render({pub:_e,t:xe,user:Et,freeSignupEmail:Ct,viral_gift_data:mn}){const{sender_name:Cn,count_remaining:an,sender_id:gn}=mn,Bn=Object(vo.getGiftValueText)(_e.plans),lr=Bn?` (value: ${Bn})`:"",Er=`Accept ${Cn||"your friend"}'s gift`,kr=`A three-month subscription to ${_e.name}${lr}`,xr=Object(r.setMetaData)({title:Er,description:kr,image:_e.logo_url});if(!xe||!an)return this.renderNotAvailable(xr);let J=null;Et&&Et.id==gn&&(J=this.renderForSender());let oe="",pe=Ct||"";Et&&!J&&(oe=Et.name,pe=Et.email);const re=`${an} left`;return Object(o.h)("div",{className:"container reward-page receive-page"},J,xr,Object(o.h)("h2",null,"Accept Gift Subscription"),Object(o.h)("p",null,Cn||"Your friend"," would like to give you a free, three-month subscription. ",lr),Object(o.h)("p",null,Object(o.h)("b",null,re)),Object(o.h)(Ar.g,{action:"/api/v1/viral_gifts/accept_gift_from_link",onSuccess:()=>document.location.href="/account/gifts/accept"},Object(o.h)("input",{type:"text",name:"name",placeholder:"Your name",value:oe}),Object(o.h)("input",{type:"email",name:"email",placeholder:"Your email",value:pe}),Object(o.h)("input",{type:"hidden",value:xe,name:"token"}),Object(o.h)("div",{id:"error-container"}),Object(o.h)("div",{className:"button-container"},Object(o.h)(ti.b,{className:"ok-button primary",type:"submit"},"Accept Gift"))))}}class za extends o.Component{renderNotAvailable(_e,{reason:xe="this gift is not available"}={}){return Object(o.h)("div",{className:"container reward-page gift-reward-page"},Object(o.h)("h2",null,"All gone"),_e,Object(o.h)("p",null,"Sorry, ",xe,". You can still subscribe if you'd like."),Object(o.h)("div",{className:"signup"},Object(o.h)(Bs.a,{source:"gift_campaign_none_left",pub:this.props.pub,onSuccess:()=>document.location.href="/subscribe",hideLogin:!0,hideTerms:!0})))}render({pub:_e,user:xe,freeSignupEmail:Et,campaign:Ct}){if(!Ct||!_e.plans)return this.renderNotAvailable();const mn=Object(vo.getGiftValueText)(_e.plans,{interval:Ct.gift_interval,interval_count:Ct.gift_interval_count,min:500}),Cn=mn?` (${mn} value)`:"",an="Accept your gift",gn=`A ${Ct.gift_interval_count} ${Ct.gift_interval} subscription to ${_e.name}${Cn}`,Bn=Object(r.setMetaData)({title:an,description:gn,image:_e.logo_url});if(Ct.limit_hours&&Ct.time_limit_start&&Ue()(Ct.time_limit_start).add(Ct.limit_hours,"hours").isBefore(Ue()()))return this.renderNotAvailable(Bn,{reason:"the time has run out"});if(Ct.limit_count&&Ct.limit_count<=Ct.count_so_far)return this.renderNotAvailable(Bn,{reason:"all these gifts have been claimed"});let lr=Et||"";xe&&(lr=xe.email);let Er;return Ct.limit_count?Er=`${Ct.limit_count-Ct.count_so_far} left`:Ct.limit_hours&&(Ct.time_limit_start?Er=`${Ue()(Ct.time_limit_start).add(Ct.limit_hours,"hour").fromNow(!0)} left`:Er=`${Ct.limit_hours} hours left`),Object(o.h)("div",{className:"container reward-page campaign-receive-page"},Bn,Object(o.h)("div",{className:"gift-receive-header"},Object(o.h)("h2",null,Ct.name),Object(o.h)("p",{className:"campaign-pitch"},"Here's a free ",Ct.gift_interval_count," ",Ct.gift_interval," gift subscription ",Cn," ","to ",_e.name,"."),Object(o.h)("p",{className:"urgency-text"},Er)),Object(o.h)(Ar.g,{action:"/api/v1/gift_campaigns/accept",onSuccess:()=>document.location.href="/account/gifts/accept"},Object(o.h)("input",{type:"email",name:"email",placeholder:"Your email",value:lr}),Object(o.h)("input",{type:"hidden",value:Ct.code,name:"code"}),Object(o.h)("div",{id:"error-container"}),Object(o.h)("div",{className:"button-container"},Object(o.h)(ti.b,{className:"ok-button primary",type:"submit"},"Accept Gift"))))}}function Es(Ze){return Ze.name?Ze.name.trim().split(/\s+/g)[0]:Ze.email.split("@")[0]}var ls=t(1210),nc=Object.defineProperty,Ga=(Ze,_e,xe)=>_e in Ze?nc(Ze,_e,{enumerable:!0,configurable:!0,writable:!0,value:xe}):Ze[_e]=xe,Ya=(Ze,_e,xe)=>(Ga(Ze,typeof _e!="symbol"?_e+"":_e,xe),xe),dl=(Ze,_e,xe)=>new Promise((Et,Ct)=>{var mn=gn=>{try{an(xe.next(gn))}catch(Bn){Ct(Bn)}},Cn=gn=>{try{an(xe.throw(gn))}catch(Bn){Ct(Bn)}},an=gn=>gn.done?Et(gn.value):Promise.resolve(gn.value).then(mn,Cn);an((xe=xe.apply(Ze,_e)).next())});class rc extends o.Component{constructor(){super(...arguments);Ya(this,"state",{loading:!0,invites:[]}),Ya(this,"onSuccess",()=>dl(this,null,function*(){alert("Invite sent!"),document.location.reload()}))}componentDidMount(){if(!this.hasInvites()){Object(r.redirectToAccount)(this.props.pub);return}this.loadInvites()}hasInvites(){const{pub:_e,user:xe}=this.props;return _e.invite_only?xe&&xe.is_contributor?!0:!(!(_e.subscriber_invites>0)||!(xe&&xe.is_subscribed)):!1}loadInvites(){return dl(this,null,function*(){try{const _e=yield vn.a.get("/api/v1/publication/invite");this.setState({invites:_e.body,loading:!1})}catch(_e){console.error("Failed to fetch invites:",_e),alert(Object(r.getNetworkErrorMessage)(_e))}})}render({pub:_e,user:xe},{loading:Et,invites:Ct}){if(!this.hasInvites())return Object(o.h)("p",{className:"main-loader"},"Loading\u2026");const mn=xe&&xe.is_contributor,Cn=Math.max(xe&&xe.invites,Ct.length),an=Math.max(Cn,_e.subscriber_invites),gn=an-Cn;return Object(o.h)("div",{className:"invite-page page"},Object(o.h)("div",{className:"container"},Object(o.h)("h3",null,"Your invites"),Object(o.h)("p",null,_e.name," is invite-only, but you\u2019ve been granted"," ",mn?"an infinite number of invites":Object(vo.pluralize)(an,"invite")," to give out."),(gn>0||mn)&&[!mn&&Object(o.h)("h5",null,"You have ",Object(vo.pluralize)(gn,"invite")," left"),Object(o.h)(Ar.g,{ref:Bn=>this.form=Bn,action:"/api/v1/publication/invite",onSuccess:this.onSuccess,noInlineErrors:!0},Object(o.h)("div",{className:"sideBySideWrap"},Object(o.h)("input",{type:"text",name:"name",placeholder:"Name\u2026"}),Object(o.h)("input",{type:"text",name:"email",placeholder:"Email\u2026"}),Object(o.h)(ti.b,{type:"submit",className:"primary"},"Invite")),Object(o.h)("div",{id:"error-container"}))],Et&&Cn>0?Object(o.h)("p",null,Object(o.h)("br",null),"Loading\u2026"):Ct.length>0?[Object(o.h)("h5",null,"Used invites"),Object(o.h)("ul",null,Ct.sort((Bn,lr)=>new Date(lr.created_at)-new Date(Bn.created_at)).map(Bn=>Object(o.h)("li",null,Bn.inviteeUser&&Bn.inviteeUser.name||""," on"," ",Ue()(Bn.created_at).standardDate())))]:null))}}function cs({pub:Ze,post:_e}){return Object(o.h)(Q.b,{alignItems:"center",className:"container",gap:32},Object(o.h)(Q.b,{alignItems:"center",gap:4},Object(o.h)(Q.b,{paddingTop:24,paddingBottom:16},Object(o.h)(ct.b.H1,null,"You rejected your invite to ",Ze.name)),Object(o.h)(ct.b.B3,null,"If you change your mind, you can accept from your email invitation."),_e.is_published?Object(o.h)(ct.b.B3,null,"Your byline has been removed from this post: ",Object(o.h)("a",{href:Object(g.getPostUrl)(Ze,_e)},_e.title)):null),Object(o.h)(kn.a,{href:Ze.base_url},`Go to ${Ze.name}`))}var Ps=t(73);function oc({pub:Ze,user:_e,post:xe,freeSignup:Et,freeSignupEmail:Ct}){const mn=Object(l.k)(null),Cn=()=>mn.current&&mn.current.open();if(!xe)return Object(o.h)(Q.b,{paddingTop:32},Object(o.h)("div",{className:"container invite-success"},Object(o.h)("p",null,"You accepted your invite to ",Ze.name,"."),Object(o.h)("p",null,"If you need admin access, ask your inviter to change your status in the publication settings."),Object(o.h)("p",null,"If you expect to be shown on this publication's author list, make sure your"," ",Object(o.h)(Ps.a,{onClick:Cn},"profile is up to date")),Object(o.h)(Ls.c,{ref:mn,user:_e,freeSignup:Et,freeSignupEmail:Ct,needsPhoto:!0})));const an=xe.type==="podcast"?"We\u2019ll let you know when the podcast episode goes live":"We\u2019ll let you know when your guest post is live",gn="Your profile is set up and good to go!";return Object(o.h)(Q.b,{alignItems:"center",className:"container",gap:32},Object(o.h)(Q.b,{alignItems:"center",gap:4},Object(o.h)(Q.b,{paddingTop:24,paddingBottom:16},Object(o.h)(ct.b.H1,null,an)),Object(o.h)(ct.b.B3,null,gn)),Object(o.h)(kn.a,{href:Ze.base_url},`Go to ${Ze.name}`))}var ic=t(1047),fl=t(1048),js=t(55),hl=t(193),ra=t(782);const Us=({pub:Ze})=>{const _e=()=>{const xe=Object(g.getQueryItem)("referrer"),Et=xe!=null?xe:Object(g.getPubUrl)(Ze);Object(r.redirect)(Et,{local_navigation:!1})};return Object(o.h)(kn.c,{onClick:_e,className:ra.a.closeButton,size:40,fill:"outline",priority:"secondary"},Object(o.h)(hl.a,{className:ra.a.closeIcon}))};var ba=t(1117);const ac=({pub:Ze,user:_e,settings:xe})=>{var Et;const{selected_event_type:{price:Ct,subscriber_price:mn,founding_price:Cn,currency:an,description_html:gn,duration:Bn,num_availabilities:lr},user_name:Er}=xe;let kr=Ct,xr=null;(_e==null?void 0:_e.is_subscribed)&&mn&&(kr=mn,xr="SUBSCRIBER DISCOUNT"),(_e==null?void 0:_e.is_founding)&&Cn&&(kr=Cn,xr=`${Object(go.getFoundingTierName)(Ze).toUpperCase()} DISCOUNT`),Object(l.d)(()=>{var ye,nt;Object(ze.i)(ze.a.MEETING_PAGE_VIEWED,{publication_id:Ze.id,user_id:_e.id,referrer:(ye=Object(g.getQueryItem)("referrer"))!=null?ye:null,source:(nt=Object(g.getQueryItem)("source"))!=null?nt:null})},[]);const J=(Et=Object(g.getQueryItem)("referrer"))!=null?Et:void 0,oe=Object(g.updateQuery)("/meetings/book",{referrer:J}),pe=lr>0,re=gn?{__html:gn.replace(/<br>/g,"")}:{__html:""};return Object(o.h)(o.Fragment,null,Object(o.h)(Us,{pub:Ze}),Object(o.h)(Q.b,{style:{minHeight:"100vh"},bg:"secondary",alignItems:"center",justifyContent:"center"},Object(o.h)(Q.b,{paddingX:24,gap:32,style:{width:400,maxWidth:"100%",boxSizing:"border-box"}},Object(o.h)(ba.a,{pub:Ze,user_id:xe.user_id,user_profile_photo_url:xe.user_profile_photo_url},Object(o.h)("div",null,Object(o.h)(ct.b.H2,{align:"center",size:20},"Book a meeting with"),Object(o.h)(ct.b.H2,{align:"center",paddingTop:4},Object(js.getConfigFor)("meetings_embed_publication_name")?Ze.name:Er))),Object(o.h)(Q.b,{bg:"primary",className:c()(ra.a.offer,{[ra.a.unavailable]:!pe}),radius:8,shadow:"xl",padding:20},xr&&Object(o.h)("div",{className:ra.a.displayedBadge},xr),Object(o.h)(Q.c,{justifyContent:"space-between",paddingBottom:16},Object(o.h)(Q.b,null,kr&&an&&Bn&&Object(o.h)(o.Fragment,null,Object(o.h)(ct.b.H3,{color:pe?"primary":"secondary"},Bn,"-minute meeting"),Object(o.h)(ct.b.B4,{color:pe?"primary":"secondary",paddingTop:4},kr<Ct&&Object(o.h)("span",{className:ra.a.originalPrice},Object(vo.centsToPriceString)(Ct,an)),Object(vo.centsToPriceString)(kr,an)," \xB7"," ",pe?lr>50?"Many availabilities":`${Object(vo.pluralize)(lr,"slot")} available this month`:"No slots available in the next week"))),pe?Object(o.h)(ic.a,{className:ra.a.check,size:28}):Object(o.h)(fl.a,{size:28,className:ra.a.disabledCheck})),Object(o.h)(ct.b.B4,{color:"secondary"},Object(o.h)("div",{className:ra.a.description,dangerouslySetInnerHTML:re}))),Object(o.h)(kn.a,{className:ra.a.button,disabled:!pe,grow:!0,localNavigation:!1,href:oe},pe?"Continue to book":"No meetings available"))))};var pl=t(444),sc=t(843),Ua={meetingDetails:"frontend-main-meetings-MeetingDetails-module__meetingDetails--1H7lq"},lc=Object.defineProperty,cc=Object.defineProperties,uc=Object.getOwnPropertyDescriptors,fa=Object.getOwnPropertySymbols,dc=Object.prototype.hasOwnProperty,Fs=Object.prototype.propertyIsEnumerable,Ja=(Ze,_e,xe)=>_e in Ze?lc(Ze,_e,{enumerable:!0,configurable:!0,writable:!0,value:xe}):Ze[_e]=xe,Cs=(Ze,_e)=>{for(var xe in _e||(_e={}))dc.call(_e,xe)&&Ja(Ze,xe,_e[xe]);if(fa)for(var xe of fa(_e))Fs.call(_e,xe)&&Ja(Ze,xe,_e[xe]);return Ze},fc=(Ze,_e)=>cc(Ze,uc(_e));const Qa=(Ze,_e,xe)=>{var Et,Ct,mn,Cn,an,gn,Bn,lr,Er,kr,xr,J,oe,pe,re,ye,nt,Ht,on,Mn,Zn,to,Yr,Oo,mo,xo,no,Bo,ho,Ei,Ci,Qi,pa;return!((Et=Ze.location)==null?void 0:Et.location)&&!((Ct=Ze.location)==null?void 0:Ct.join_url)?_e&&xe?{href:Object(y.getMeetingOrderUrl)(xe,Ze.id,{addBase:!0}),label:"View here"}:{href:null,label:"Processing..."}:{zoom:{href:(mn=Ze.location)==null?void 0:mn.join_url,copyContent:(Cn=Ze.location)==null?void 0:Cn.join_url,label:"Join Zoom"},zoom_conference:{href:(an=Ze.location)==null?void 0:an.join_url,copyContent:(gn=Ze.location)==null?void 0:gn.join_url,label:"Join Zoom"},google:{href:(Bn=Ze.location)==null?void 0:Bn.join_url,copyContent:(lr=Ze.location)==null?void 0:lr.join_url,label:"Join Meet"},google_conference:{href:(Er=Ze.location)==null?void 0:Er.join_url,copyContent:(kr=Ze.location)==null?void 0:kr.join_url,label:"Join Meet"},inbound_call:{href:`tel:${(xr=Ze.location)==null?void 0:xr.location}`,copyContent:(J=Ze.location)==null?void 0:J.location,label:(oe=Ze.location)==null?void 0:oe.location},outbound_call:{href:null,label:`${Object(vo.guessFirstName)(Ze.user_name)} will call you at ${(pe=Ze.location)==null?void 0:pe.location}`},microsoft_teams:{href:(re=Ze.location)==null?void 0:re.join_url,copyContent:(ye=Ze.location)==null?void 0:ye.join_url,label:"Join Teams"},microsoft_teams_conference:{href:(nt=Ze.location)==null?void 0:nt.join_url,copyContent:(Ht=Ze.location)==null?void 0:Ht.join_url,label:"Join Teams"},webex:{href:(on=Ze.location)==null?void 0:on.join_url,copyContent:(Mn=Ze.location)==null?void 0:Mn.join_url,label:"Join Webex"},webex_conference:{href:(Zn=Ze.location)==null?void 0:Zn.join_url,copyContent:(to=Ze.location)==null?void 0:to.join_url,label:"Join Webex"},gotomeeting:{href:(Yr=Ze.location)==null?void 0:Yr.join_url,copyContent:(Oo=Ze.location)==null?void 0:Oo.join_url,label:"Join GoToMeeting"},gotomeeting_conference:{href:(mo=Ze.location)==null?void 0:mo.join_url,copyContent:(xo=Ze.location)==null?void 0:xo.join_url,label:"Join GoToMeeting"},physical:{href:null,label:(Bo=(no=Ze.location)==null?void 0:no.location)!=null?Bo:"Unknown"},ask_invitee:{href:null,label:(Ei=(ho=Ze.location)==null?void 0:ho.location)!=null?Ei:"Unknown"},custom:{href:null,label:(Qi=(Ci=Ze.location)==null?void 0:Ci.location)!=null?Qi:"Unknown"}}[(pa=Ze.location)==null?void 0:pa.type]||{}},Zi=({order:Ze,isStatic:_e=!1,pub:xe=null})=>{const Et=Object(vt.e)(),{href:Ct,label:mn,copyContent:Cn}=Qa(Ze,_e,xe),an=Object(o.h)(ct.b.B3,{align:"right"},Ct?Object(o.h)("a",{href:Ct},mn):mn);return _e||!Cn?an:Object(o.h)(Q.c,{gap:4,alignItems:"center"},an,Object(o.h)(kn.c,{size:24,onClick:()=>{Object(r.copyToClipboard)(Cn),Et.popToast(gn=>Object(o.h)(vt.c,fc(Cs({},gn),{Icon:pl.a,text:"Invite link copied"})))}},Object(o.h)(sc.a,{height:20})))},Ma=({order:Ze,pub:_e})=>{const xe=Ue()(Ze.start_time),Et=Ue()(Ze.end_time),Ct=`${xe.format("MMMM D, YYYY")} at ${xe.format("h:mm A z")}`,mn=Et.diff(xe,"minute");return Object(o.h)(Q.b,{gap:8,className:Ua.meetingDetails},Object(o.h)(Q.c,{justifyContent:"space-between",gap:8},Object(o.h)(ct.b.B3,{weight:"bold"},"Time"),Object(o.h)(ct.b.B3,null,Ct)),Object(o.h)(Q.c,{justifyContent:"space-between",gap:8},Object(o.h)(ct.b.B3,{weight:"bold"},"Length"),Object(o.h)(ct.b.B3,null,mn," minutes")),Object(o.h)(Q.c,{justifyContent:"space-between",alignItems:"center",gap:8},Object(o.h)(ct.b.B3,{weight:"bold"},"Location"),Object(o.h)(Zi,{order:Ze,pub:_e})),Object(o.h)(ct.b.B3,{align:"center",className:Ua.description,paddingTop:16},Object(o.h)("i",null,Ze.description)))},ml=({booking:Ze,settings:_e,pub:xe})=>{const Et=Object(js.getConfigFor)("meetings_embed_publication_name")?xe.name:Ze.user_name;return Ze.cancelled_at?Object(o.h)(o.Fragment,null,Object(o.h)(ba.a,{pub:xe,user_id:_e.user_id,user_profile_photo_url:_e.user_profile_photo_url},Object(o.h)(ct.b.H2,{align:"center"},"Your meeting with ",Et," has been cancelled")),Ze.cancellation_reason&&Object(o.h)(o.Fragment,null,Object(o.h)(ct.b.B3,{align:"center",paddingBottom:16},"The author provided the following reason:"),Object(o.h)(ct.b.B4,{align:"center",paddingBottom:32},Ze.cancellation_reason)),Ze.refunded_at&&Object(o.h)(ct.b.B3,{align:"center"},"A refund has been issued to your original form of payment."),_e.enabled&&Object(o.h)(ct.b.B3,{align:"center",paddingBottom:16},Object(o.h)(o.Fragment,null,"You can book another meeting"," ",Object(o.h)("a",{href:Object(y.getMeetingsUrl)(xe,{params:{source:"cancellation-rebook"}})},"here"),"."))):Object(o.h)(o.Fragment,null,Object(o.h)(ba.a,{pub:xe,user_id:_e.user_id,user_profile_photo_url:_e.user_profile_photo_url},Object(o.h)(ct.b.H2,{align:"center"},"Your meeting with ",Et," has been ",Ze.num_rebookings>0?"rebooked":"booked")),Object(o.h)(Q.b,{gap:16,alignItems:"center"},Object(o.h)(Ma,{order:Ze,pub:xe}),Object(o.h)(ct.b.B4,{align:"center"},"A confirmation of your booking has been emailed to you."),Ze.refunded_at&&Object(o.h)(ct.b.B4,{align:"center"},"A refund has been issued to your original form of payment."),Object(o.h)(kn.a,{onClick:()=>{const Ct=Object(g.getQueryItem)("referrer"),mn=Ct!=null?Ct:Object(g.getPubUrl)(xe);Object(r.redirect)(mn,{local_navigation:!1})}},"Done")))};var us=t(345),Ws=t.n(us),ks=t(369),Vs=t(1133),hc=t(1032),pc=t(124),Hs=t(1037),oa={button:"frontend-main-meetings-book-index-module__button--3ZioJ",tos:"frontend-main-meetings-book-index-module__tos--1RZHb",orderForm:"frontend-main-meetings-book-index-module__orderForm--1xS8n",input:"frontend-main-meetings-book-index-module__input--3HWtT",error:"frontend-main-meetings-book-index-module__error--1sor2",stripeError:"frontend-main-meetings-book-index-module__stripeError--3pty8",originalPrice:"frontend-main-meetings-book-index-module__originalPrice--Hg28D",filePicker:"frontend-main-meetings-book-index-module__filePicker--3xu76",fileAttachment:"frontend-main-meetings-book-index-module__fileAttachment--1mRVb",fileName:"frontend-main-meetings-book-index-module__fileName--1D5yQ",fileRemoveIcon:"frontend-main-meetings-book-index-module__fileRemoveIcon--2E5xL",savedCard:"frontend-main-meetings-book-index-module__savedCard--13GmP",cardOnFileIcon:"frontend-main-meetings-book-index-module__cardOnFileIcon--3M96R",errorContainer:"frontend-main-meetings-book-index-module__errorContainer--mfIfL",errorTooltip:"frontend-main-meetings-book-index-module__errorTooltip--3aqkR",checkoutBox:"frontend-main-meetings-book-index-module__checkoutBox--3Nx9o"},Ks=(Ze,_e,xe)=>new Promise((Et,Ct)=>{var mn=gn=>{try{an(xe.next(gn))}catch(Bn){Ct(Bn)}},Cn=gn=>{try{an(xe.throw(gn))}catch(Bn){Ct(Bn)}},an=gn=>gn.done?Et(gn.value):Promise.resolve(gn.value).then(mn,Cn);an((xe=xe.apply(Ze,_e)).next())});const $s=({stripe_publishable_key:Ze,onComplete:_e,user:xe,pub:Et,booking:Ct,settings:mn})=>{const[Cn,an]=Object(l.l)(Ct.name),[gn,Bn]=Object(l.l)(Ct.description),[lr,Er]=Object(l.l)(null),[kr,xr]=Object(l.l)(null),[J,oe]=Object(l.l)(null),[pe,re]=Object(l.l)(null),[ye,nt]=Object(l.l)(!1),[Ht,on]=Object(l.l)(null);Object(l.d)(()=>{const Ci=Object(Ar.e)(Ze,Et),Qi=Ci&&Object(Ar.f)(Ci);xr(Ci),oe(Qi)},[Et,Ze,xr,oe]),Object(l.d)(()=>{Object(ze.i)(ks.a.MEETING_ORDER_PAGE_VIEWED,{user_id:xe.id,publication_id:Et.id})},[]),Object(l.d)(()=>{(()=>Ks(void 0,null,function*(){var Qi;const pa=yield vn.a.get("/api/v1/subscription/last4");((Qi=pa.body)==null?void 0:Qi.last4)&&re(pa.body.last4)}))()},[Et]);const Mn=mn.selected_event_type,{price:Zn,duration:to,subscriber_price:Yr,founding_price:Oo,currency:mo}=Mn;let xo=Zn;xe.is_subscribed&&Yr&&(xo=Yr),xe.is_founding&&Oo&&(xo=Oo);const no=!!(xe==null?void 0:xe.has_saved_payment),Bo=Object(l.a)(()=>Ks(void 0,null,function*(){return kr?yield kr.createToken(J):{token:null,error:{message:""}}}),[kr,J]),ho=Object(l.a)(()=>Ks(void 0,null,function*(){var Ci,Qi,pa,Da;nt(!0),on(null);let ns;if(!no){const{token:Gi,error:ea}=yield Bo();if(ea){nt(!1),on(ea&&ea.message),Object(ze.i)(ks.a.MEETING_MISSING_PAYMENT,{type:ea&&ea.type,code:ea&&ea.code,decline_code:ea&&ea.decline_code,reason:ea&&ea.message});return}ns=Gi}const Ta=new FormData;Ta.append("name",Cn),Ta.append("description",gn),ns&&Ta.append("stripe_token",JSON.stringify(ns)),lr&&Ta.append("attachment",lr);const rl=Intl.DateTimeFormat().resolvedOptions().timeZone;rl&&Ta.append("timezone",rl),Object(ze.i)(ks.a.MEETING_SUBMIT_PRESSED,{publication_id:Et.id,user_id:xe.id});try{const Gi=yield vn.a.post("/api/v1/meetings/book").send(Ta);history.pushState({},"",`/meetings/book/${Gi.body.order_id}`),_e("schedule",Ws()(Gi.body,["order_id","calendly_scheduling_uri","name","email","description"]))}catch(Gi){((Qi=(Ci=Gi.response)==null?void 0:Ci.body)==null?void 0:Qi.error)?on((Da=(pa=Gi.response)==null?void 0:pa.body)==null?void 0:Da.error):on("Something went wrong.")}nt(!1)}),[Cn,gn,Bo,lr,nt,on]),Ei=!!Cn&&!!gn;return Object(o.h)(o.Fragment,null,Object(o.h)(ba.a,{pub:Et,user_id:mn.user_id,user_profile_photo_url:mn.user_profile_photo_url},Object(o.h)("div",null,Object(o.h)(b.D.H2,{align:"center",size:20},"Book a meeting with"),Object(o.h)(b.D.H2,{align:"center",paddingTop:4},Object(js.getConfigFor)("meetings_embed_publication_name")?Et.name:mn.user_name),Object(o.h)(b.D.B3,{align:"center",paddingTop:8},xo<Zn&&Object(o.h)("span",{className:oa.originalPrice},Object(vo.centsToPriceString)(Zn,mo)),Object(vo.centsToPriceString)(xo,mo)," \xB7 ",to,"-minute meeting"))),Object(o.h)(b.o,{gap:32},Object(o.h)(Hs.a,{alignment:"vertical",label:"Your name"},Object(o.h)(b.F,{name:"name",value:Cn,onChange:Ci=>an(Ci.target.value),placeholder:"Name...",disabled:ye,maxLength:500})),Object(o.h)(Hs.a,{alignment:"vertical",label:"What do you want to talk about?"},Object(o.h)(b.G,{name:"description",value:gn,onChange:Ci=>Bn(Ci.target.value),rows:4,maxLength:1e3,placeholder:"E.g. I\u2019m really interested in knowing...",disabled:ye})),lr?Object(o.h)("div",null,Object(o.h)(b.D.B4,{weight:"semibold",paddingBottom:8},"Add an attachment (optional)"),Object(o.h)(b.p,{className:oa.fileAttachment,gap:8,alignItems:"center",flex:"auto"},Object(o.h)(hl.a,{onClick:()=>Er(null),className:oa.fileRemoveIcon,height:24}),Object(o.h)(b.D.B3,{className:oa.fileName},lr.name))):Object(o.h)("div",null,Object(o.h)(b.D.B4,{weight:"semibold",paddingBottom:8},"Add an attachment (optional)"),Object(o.h)(hc.a,{className:oa.filePicker,onFileSelected:Ci=>Er(Ci),acceptableTypes:".doc,.docx,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/pdf, image/*, audio/*, video/*, .pdf, .xls, .xlsx"})),Object(o.h)("div",{className:oa.checkoutBox},no&&Object(o.h)(b.p,{className:oa.savedCard,padding:12,gap:12},Object(o.h)(Vs.default,{className:oa.cardOnFileIcon}),Object(o.h)(b.D.B4,null,pe?`**** **** **** ${pe}`:"Use card on file")),!no&&J&&Object(o.h)(Ar.c,{className:oa.input,card:J}),Ht&&Object(o.h)(b.D.B4,{paddingTop:12,className:oa.errorContainer},Ht),Object(o.h)(b.n,{paddingTop:12},Object(o.h)(pc.a,{text:mn.enabled?"You must provide your name and a topic for the meeting before booking.":"You must enable Meetings before one can be booked.",disabled:ye||Ei&&mn.enabled,preferPlacement:"top-center",className:oa.errorTooltip},Object(o.h)(b.d,{className:oa.button,grow:!0,type:"submit",onClick:ho,disabled:ye||!Ei||!mn.enabled},ye?"Loading...":"Book meeting"))))),Object(o.h)(b.D,{className:oa.tos,paddingBottom:16,size:14,align:"center",color:"secondary"},"By booking, you will be automatically signed up for a free subscription to ",Et.name,". Additionally, you agree to Substack's"," ",Object(o.h)("a",{href:"https://substack.com/tos",target:"__blank"},"Terms of Service"),", our"," ",Object(o.h)("a",{href:"https://substack.com/privacy",target:"__blank"},"Privacy Policy"),", and our"," ",Object(o.h)("a",{href:"https://substack.com/ccpa#personal-data-collected",target:"__blank"},"Information Collection Notice"),"."))};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ds=function(Ze,_e){return ds=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(xe,Et){xe.__proto__=Et}||function(xe,Et){for(var Ct in Et)Et.hasOwnProperty(Ct)&&(xe[Ct]=Et[Ct])},ds(Ze,_e)};function Sa(Ze,_e){ds(Ze,_e);function xe(){this.constructor=Ze}Ze.prototype=_e===null?Object.create(_e):(xe.prototype=_e.prototype,new xe)}var Ia=function(){return Ia=Object.assign||function(_e){for(var xe,Et=1,Ct=arguments.length;Et<Ct;Et++){xe=arguments[Et];for(var mn in xe)Object.prototype.hasOwnProperty.call(xe,mn)&&(_e[mn]=xe[mn])}return _e},Ia.apply(this,arguments)};function Xa(Ze,_e){_e===void 0&&(_e={});var xe=_e.insertAt;if(!(!Ze||typeof document=="undefined")){var Et=document.head||document.getElementsByTagName("head")[0],Ct=document.createElement("style");Ct.type="text/css",xe==="top"&&Et.firstChild?Et.insertBefore(Ct,Et.firstChild):Et.appendChild(Ct),Ct.styleSheet?Ct.styleSheet.cssText=Ze:Ct.appendChild(document.createTextNode(Ze))}}var mc=`/*
  code is extracted from Calendly's embed stylesheet: https://assets.calendly.com/assets/external/widget.css
*/

.calendly-inline-widget,
.calendly-inline-widget *,
.calendly-badge-widget,
.calendly-badge-widget *,
.calendly-overlay,
.calendly-overlay * {
    font-size:16px;
    line-height:1.2em
}

.calendly-inline-widget iframe,
.calendly-badge-widget iframe,
.calendly-overlay iframe {
    display:inline;
    width:100%;
    height:100%
}

.calendly-popup-content {
    position:relative
}

.calendly-popup-content.calendly-mobile {
    -webkit-overflow-scrolling:touch;
    overflow-y:auto
}

.calendly-overlay {
    position:fixed;
    top:0;
    left:0;
    right:0;
    bottom:0;
    overflow:hidden;
    z-index:9999;
    background-color:#a5a5a5;
    background-color:rgba(31,31,31,0.4)
}

.calendly-overlay .calendly-close-overlay {
    position:absolute;
    top:0;
    left:0;
    right:0;
    bottom:0
}

.calendly-overlay .calendly-popup {
    box-sizing:border-box;
    position:absolute;
    top:50%;
    left:50%;
    -webkit-transform:translateY(-50%) translateX(-50%);
    transform:translateY(-50%) translateX(-50%);
    width:80%;
    min-width:900px;
    max-width:1000px;
    height:90%;
    max-height:680px
}

@media (max-width: 975px) {
    .calendly-overlay .calendly-popup {
        position:fixed;
        top:50px;
        left:0;
        right:0;
        bottom:0;
        -webkit-transform:none;
        transform:none;
        width:100%;
        height:auto;
        min-width:0;
        max-height:none
    }
}

.calendly-overlay .calendly-popup .calendly-popup-content {
    height:100%;
}

.calendly-overlay .calendly-popup-close {
    position:absolute;
    top:25px;
    right:25px;
    color:#fff;
    width:19px;
    height:19px;
    cursor:pointer;
    background:url(https://assets.calendly.com/assets/external/close-icon.svg) no-repeat;
    background-size:contain
}

@media (max-width: 975px) {
    .calendly-overlay .calendly-popup-close {
        top:15px;
        right:15px
    }
}

.calendly-badge-widget {
    position:fixed;
    right:20px;
    bottom:15px;
    z-index:9998
}

.calendly-badge-widget .calendly-badge-content {
    display:table-cell;
    width:auto;
    height:45px;
    padding:0 30px;
    border-radius:25px;
    box-shadow:rgba(0,0,0,0.25) 0 2px 5px;
    font-family:sans-serif;
    text-align:center;
    vertical-align:middle;
    font-weight:bold;
    font-size:14px;
    color:#fff;
    cursor:pointer
}

.calendly-badge-widget .calendly-badge-content.calendly-white {
    color:#666a73
}

.calendly-badge-widget .calendly-badge-content span {
    display:block;
    font-size:12px
}

.calendly-spinner {
    position:absolute;
    top:50%;
    left:0;
    right:0;
    -webkit-transform:translateY(-50%);
    transform:translateY(-50%);
    text-align:center;
    z-index:-1
}

.calendly-spinner>div {
    display:inline-block;
    width:18px;
    height:18px;
    background-color:#e1e1e1;
    border-radius:50%;
    vertical-align:middle;
    -webkit-animation:calendly-bouncedelay 1.4s infinite ease-in-out;
    animation:calendly-bouncedelay 1.4s infinite ease-in-out;
    -webkit-animation-fill-mode:both;
    animation-fill-mode:both
}

.calendly-spinner .calendly-bounce1 {
    -webkit-animation-delay:-0.32s;
    animation-delay:-0.32s
}

.calendly-spinner .calendly-bounce2 {
    -webkit-animation-delay:-0.16s;
    animation-delay:-0.16s
}

@-webkit-keyframes calendly-bouncedelay {
    0%,80%,100% {
        -webkit-transform:scale(0);
        transform:scale(0)
    } 
    
    40%{
        -webkit-transform:scale(1);
        transform:scale(1)
    }
}

@keyframes calendly-bouncedelay{ 
    0%,80%,100% {
        -webkit-transform:scale(0);
        transform:scale(0)
    }
    
    40% {
        -webkit-transform:scale(1);
        transform:scale(1)
    }
}`;Xa(mc);var Za;(function(Ze){Ze.PROFILE_PAGE_VIEWED="calendly.profile_page_viewed",Ze.EVENT_TYPE_VIEWED="calendly.event_type_viewed",Ze.DATE_AND_TIME_SELECTED="calendly.date_and_time_selected",Ze.EVENT_SCHEDULED="calendly.event_scheduled"})(Za||(Za={}));var gl=function(Ze){var _e=Ze.url,xe=Ze.prefill,Et=xe===void 0?{}:xe,Ct=Ze.pageSettings,mn=Ct===void 0?{}:Ct,Cn=Ze.utm,an=Cn===void 0?{}:Cn,gn=Ze.embedType,Bn=mn.backgroundColor,lr=mn.hideEventTypeDetails,Er=mn.hideLandingPageDetails,kr=mn.primaryColor,xr=mn.textColor,J=mn.hideGdprBanner,oe=Et.customAnswers,pe=Et.date,re=Et.email,ye=Et.firstName,nt=Et.guests,Ht=Et.lastName,on=Et.location,Mn=Et.name,Zn=an.utmCampaign,to=an.utmContent,Yr=an.utmMedium,Oo=an.utmSource,mo=an.utmTerm,xo=an.salesforce_uuid,no=_e.indexOf("?"),Bo=no>-1,ho=_e.slice(no+1),Ei=Bo?_e.slice(0,no):_e,Ci=[Bo?ho:null,Bn?"background_color="+Bn:null,lr?"hide_event_type_details=1":null,Er?"hide_landing_page_details=1":null,kr?"primary_color="+kr:null,xr?"text_color="+xr:null,J?"hide_gdpr_banner=1":null,Mn?"name="+encodeURIComponent(Mn):null,on?"location="+encodeURIComponent(on):null,ye?"first_name="+encodeURIComponent(ye):null,Ht?"last_name="+encodeURIComponent(Ht):null,nt?"guests="+nt.map(encodeURIComponent).join(","):null,re?"email="+encodeURIComponent(re):null,pe&&pe instanceof Date?"date="+gc(pe):null,Zn?"utm_campaign="+encodeURIComponent(Zn):null,to?"utm_content="+encodeURIComponent(to):null,Yr?"utm_medium="+encodeURIComponent(Yr):null,Oo?"utm_source="+encodeURIComponent(Oo):null,mo?"utm_term="+encodeURIComponent(mo):null,xo?"salesforce_uuid="+encodeURIComponent(xo):null,gn?"embed_type="+gn:null,"embed_domain=1"].concat(oe?_a(oe):[]).filter(function(Qi){return Qi!==null}).join("&");return Ei+"?"+Ci},gc=function(Ze){var _e=Ze.getMonth()+1,xe=Ze.getDate(),Et=Ze.getFullYear();return[Et,_e<10?"0"+_e:_e,xe<10?"0"+xe:xe].join("-")},bl=/^a\d{1,2}$/,_a=function(Ze){var _e=Object.keys(Ze).filter(function(xe){return xe.match(bl)});return _e.length?_e.map(function(xe){return xe+"="+encodeURIComponent(Ze[xe])}):[]},zs=function(Ze){Sa(_e,Ze);function _e(){return Ze!==null&&Ze.apply(this,arguments)||this}return _e.prototype.render=function(){return Object(ge.createElement)("div",{className:"calendly-spinner"},Object(ge.createElement)("div",{className:"calendly-bounce1"}),Object(ge.createElement)("div",{className:"calendly-bounce2"}),Object(ge.createElement)("div",{className:"calendly-bounce3"}))},_e}(ge.Component),bc={minWidth:"320px",height:"630px"},vl=function(Ze){Sa(_e,Ze);function _e(xe){var Et=Ze.call(this,xe)||this;return Et.state={isLoading:!0},Et.onLoad=Et.onLoad.bind(Et),Et}return _e.prototype.onLoad=function(){this.setState({isLoading:!1})},_e.prototype.render=function(){var xe=gl({url:this.props.url,pageSettings:this.props.pageSettings,prefill:this.props.prefill,utm:this.props.utm,embedType:"Inline"});return Object(ge.createElement)("div",{className:"calendly-inline-widget",style:this.props.styles||bc},this.state.isLoading&&Object(ge.createElement)(zs,null),Object(ge.createElement)("iframe",{width:"100%",height:"100%",frameBorder:"0",title:this.props.iframeTitle||"Calendly Scheduling Page",onLoad:this.onLoad,src:xe}))},_e}(ge.Component),Ol=function(Ze){Sa(_e,Ze);function _e(xe){var Et=Ze.call(this,xe)||this;return Et.state={isLoading:!0},Et.onLoad=Et.onLoad.bind(Et),Et}return _e.prototype.onLoad=function(){this.setState({isLoading:!1})},_e.prototype.render=function(){var xe=gl({url:this.props.url,pageSettings:this.props.pageSettings,prefill:this.props.prefill,utm:this.props.utm,embedType:"PopupWidget"});return Object(ge.createElement)(ge.Fragment,null,this.state.isLoading&&Object(ge.createElement)(zs,null),Object(ge.createElement)("iframe",{width:"100%",height:"100%",frameBorder:"0",title:this.props.iframeTitle||"Calendly Scheduling Page",onLoad:this.onLoad,src:xe}))},_e}(ge.Component),fs=function(Ze){return Ze.open?Object(ge.createPortal)(Object(ge.createElement)("div",{className:"calendly-overlay"},Object(ge.createElement)("div",{onClick:Ze.onModalClose,className:"calendly-close-overlay"}),Object(ge.createElement)("div",{className:"calendly-popup"},Object(ge.createElement)("div",{className:"calendly-popup-content"},Object(ge.createElement)(Ol,Ia({},Ze)))),Object(ge.createElement)("button",{className:"calendly-popup-close",onClick:Ze.onModalClose,"aria-label":"Close modal",style:{display:"block",border:"none",padding:0}})),Ze.rootElement):null},vc=function(Ze){Sa(_e,Ze);function _e(xe){var Et=Ze.call(this,xe)||this;return Et.state={isOpen:!1},Et.onClick=Et.onClick.bind(Et),Et.onClose=Et.onClose.bind(Et),Et}return _e.prototype.onClick=function(xe){xe.preventDefault(),this.setState({isOpen:!0})},_e.prototype.onClose=function(xe){xe.stopPropagation(),this.setState({isOpen:!1})},_e.prototype.render=function(){return Object(ge.createElement)(ge.Fragment,null,Object(ge.createElement)("button",{onClick:this.onClick,style:this.props.styles||{},className:this.props.className||""},this.props.text),Object(ge.createElement)(fs,Ia({},this.props,{open:this.state.isOpen,onModalClose:this.onClose,rootElement:this.props.rootElement})))},_e}(ge.Component),Yc=function(Ze){Sa(_e,Ze);function _e(xe){var Et=Ze.call(this,xe)||this;return Et.state={isOpen:!1},Et.onClick=Et.onClick.bind(Et),Et.onClose=Et.onClose.bind(Et),Et}return _e.prototype.onClick=function(){this.setState({isOpen:!0})},_e.prototype.onClose=function(xe){xe.stopPropagation(),this.setState({isOpen:!1})},_e.prototype.render=function(){return Object(ge.createElement)("div",{className:"calendly-badge-widget",onClick:this.onClick},Object(ge.createElement)("div",{className:"calendly-badge-content",style:{background:this.props.color||"#00a2ff",color:this.props.textColor||"#ffffff"}},this.props.text||"Schedule time with me",this.props.branding&&Object(ge.createElement)("span",null,"powered by Calendly")),Object(ge.createElement)(fs,Ia({},this.props,{open:this.state.isOpen,onModalClose:this.onClose,rootElement:this.props.rootElement})))},_e}(ge.Component),Gs="message";function Oc(Ze){var _e=Ze||{},xe=_e.onDateAndTimeSelected,Et=_e.onEventScheduled,Ct=_e.onEventTypeViewed,mn=_e.onProfilePageViewed;Object(ge.useEffect)(function(){var Cn=function(an){var gn=an.data.event;gn===Za.DATE_AND_TIME_SELECTED?xe&&xe(an):gn===Za.EVENT_SCHEDULED?Et&&Et(an):gn===Za.EVENT_TYPE_VIEWED?Ct&&Ct(an):gn===Za.PROFILE_PAGE_VIEWED&&mn&&mn(an)};return window.addEventListener(Gs,Cn),function(){window.removeEventListener(Gs,Cn)}},[Ze])}var yc=(Ze,_e,xe)=>new Promise((Et,Ct)=>{var mn=gn=>{try{an(xe.next(gn))}catch(Bn){Ct(Bn)}},Cn=gn=>{try{an(xe.throw(gn))}catch(Bn){Ct(Bn)}},an=gn=>gn.done?Et(gn.value):Promise.resolve(gn.value).then(mn,Cn);an((xe=xe.apply(Ze,_e)).next())});const yl=({booking:Ze,onComplete:_e,settings:xe,pub:Et})=>{const Ct="calendly",[mn,Cn]=Object(l.l)(!1),[an,gn]=Object(l.l)(!1),{duration:Bn}=xe.selected_event_type,lr=Object(js.getConfigFor)("meetings_embed_publication_name")?Et.name:Ze.user_name,Er=Object(uo.useMediaQuery)({maxWidth:698});return Oc({onEventScheduled:kr=>yc(void 0,null,function*(){var xr,J,oe;const pe=(oe=(J=(xr=kr.data)==null?void 0:xr.payload)==null?void 0:J.event)==null?void 0:oe.uri;Cn(!0);try{const re=yield vn.a.put(`/api/v1/meetings/order/${Ze.order_id}`).send({calendly_event_uri:pe});yield new Promise(ye=>setTimeout(ye,2e3)),_e("confirmation",re.body)}catch(re){gn(!0)}})}),an?Object(o.h)(ba.a,{pub:Et,user_id:xe.user_id,user_profile_photo_url:xe.user_profile_photo_url},Object(o.h)(ct.b.H2,{align:"center"},"Something went wrong with your booking. Please contact meetings@substackinc.com.")):mn?Object(o.h)(Q.a,{justifyContent:"center"},Object(o.h)(fr.a,{type:"circular"})):Object(o.h)(o.Fragment,null,Object(o.h)(ba.a,{pub:Et,user_id:xe.user_id,user_profile_photo_url:xe.user_profile_photo_url},Object(o.h)("div",null,Object(o.h)(ct.b.H2,{align:"center"},Ze.num_rebookings>0?"Rebook":"Book"," your meeting with ",lr),Object(o.h)(ct.b.B3,{align:"center",paddingTop:8},"Schedule your ",Bn,"-minute meeting"))),typeof window!="undefined"&&Ze.calendly_scheduling_uri&&Object(o.h)(vl,{iframeTitle:Ct,url:`${Ze.calendly_scheduling_uri}?hide_gdpr_banner=1`,prefill:{name:Ze.name,email:Ze.email,customAnswers:{a1:Ze.description}},styles:{minWidth:"320px",height:"700px",marginTop:Er?"0px":"-66px"}}))};var El=Object.defineProperty,qa=Object.getOwnPropertySymbols,Ys=Object.prototype.hasOwnProperty,Pl=Object.prototype.propertyIsEnumerable,jl=(Ze,_e,xe)=>_e in Ze?El(Ze,_e,{enumerable:!0,configurable:!0,writable:!0,value:xe}):Ze[_e]=xe,ia=(Ze,_e)=>{for(var xe in _e||(_e={}))Ys.call(_e,xe)&&jl(Ze,xe,_e[xe]);if(qa)for(var xe of qa(_e))Pl.call(_e,xe)&&jl(Ze,xe,_e[xe]);return Ze},Ss=(Ze,_e)=>{var xe={};for(var Et in Ze)Ys.call(Ze,Et)&&_e.indexOf(Et)<0&&(xe[Et]=Ze[Et]);if(Ze!=null&&qa)for(var Et of qa(Ze))_e.indexOf(Et)<0&&Pl.call(Ze,Et)&&(xe[Et]=Ze[Et]);return xe};const Cl=Ze=>{var _e=Ze,{step:xe}=_e,Et=Ss(_e,["step"]);switch(xe){case"order":return Object(o.h)($s,ia({},Et));case"schedule":return Object(o.h)(yl,ia({},Et));case"confirmation":return Object(o.h)(ml,ia({},Et))}},hs=({stripe_publishable_key:Ze,pub:_e,user:xe,order:Et,order_id:Ct,settings:mn})=>{const Cn=Ct?Et.calendly_scheduling_uri?"schedule":"confirmation":"order",[an,gn]=Object(l.l)(Cn),[Bn,lr]=Object(l.l)(ia({name:xe.name,email:xe.email,description:""},Et)),Er=Cl({step:an,booking:Bn,settings:mn,order:Et,onComplete:(kr,xr)=>{lr(ia(ia({},Bn),xr)),gn(kr)},pub:_e,stripe_publishable_key:Ze,user:xe,orderId:Ct});return Object(o.h)(o.Fragment,null,Object(o.h)(Us,{pub:_e}),Object(o.h)(Q.a,{style:{minHeight:"100vh"},bg:"secondary",alignItems:"center",justifyContent:"center"},Object(o.h)(Q.b,{paddingX:24,gap:32,style:{width:an==="schedule"?"100%":450,maxWidth:"100%",boxSizing:"border-box"}},Er)))},Ec=({subdomain:Ze})=>Object(o.h)("div",{className:"page typography signup-page",path:"/not-found"},Object(r.setMetaData)({title:"Not Found"}),Object(o.h)("div",{className:"container"},Object(o.h)("h2",null,"Not Found"),Object(o.h)("p",null,"The page you are attempting to access is not found."),Object(o.h)("p",null,"If you want to claim this URL you can start a Substack today"),Object(o.h)("p",null,Object(o.h)("a",{href:Object(g.getStartPublishingUrl)(),class:"button primary",rel:"nofollow"},"Start a Substack")),Object(o.h)("p",null,Object(o.h)("a",{href:Object(g.getDiscoverSearchUrl)({query:Ze,params:{searching:"publication"}})},'Search Substack for "',Ze,'"'))));var Ds=t(439),Ts=t.n(Ds),ws=t(45),Pc=t(440),jc=t(1340),Cc=t(1110),ps=t(273),As=t(209),Js=t(1378),Sl=t(136),Sc=t(1341);class Dc extends o.Component{isSubscribed(){const{user:_e}=this.props;return _e&&_e.is_subscribed}isFreeSubscribed(){const{freeSignup:_e,user:xe}=this.props;return _e||xe&&xe.is_free_subscribed&&!xe.is_contributor}onFreeSubscribe(_e){if(this.props.publication.plans){let xe=Object(g.getSubscribeUrl)(this.props.publication,{just_signed_up:!0});_e.body.prompt_to_login&&(xe=`/account/login?redirect=${encodeURIComponent(xe)}&email=${encodeURIComponent(_e.body.email)}`),document.location.href=xe}else window.location.reload()}render({publication:_e,user:xe,freeSignupEmail:Et,features:Ct}){if(!(this.isSubscribed()||this.isFreeSubscribed()&&!_e.plans))return Object(o.h)("div",{className:"subscribe-footer"},Object(o.h)("div",{className:"container"},Object(o.h)("p",null,"Ready for more?"),this.isFreeSubscribed()?Object(o.h)("div",null,Object(o.h)("a",{className:"cta",href:Object(g.getSubscribeUrl)(_e,{utm_source:"ready-for-more"}),native:!0},Object(o.h)(ti.b,{className:"primary"},Object(o.h)("b",null,Object(vo.getSubscribeText)(_e))))):Object(o.h)(Bs.a,{user:xe,pub:_e,freeSignupEmail:Et,source:"subscribe_footer",onSuccess:this.onFreeSubscribe.bind(this),hideLogin:!0,hideTerms:!0,submitButtonText:Object(vo.getSubscribeText)(_e)})))}}var Dl=t(525),Tc=t(696),ms=t(270),Qs=Object.defineProperty,wc=Object.defineProperties,Ac=Object.getOwnPropertyDescriptors,Tl=Object.getOwnPropertySymbols,Mc=Object.prototype.hasOwnProperty,Ic=Object.prototype.propertyIsEnumerable,Xs=(Ze,_e,xe)=>_e in Ze?Qs(Ze,_e,{enumerable:!0,configurable:!0,writable:!0,value:xe}):Ze[_e]=xe,_c=(Ze,_e)=>{for(var xe in _e||(_e={}))Mc.call(_e,xe)&&Xs(Ze,xe,_e[xe]);if(Tl)for(var xe of Tl(_e))Ic.call(_e,xe)&&Xs(Ze,xe,_e[xe]);return Ze},wl=(Ze,_e)=>wc(Ze,Ac(_e)),es=(Ze,_e,xe)=>(Xs(Ze,typeof _e!="symbol"?_e+"":_e,xe),xe),Ms=(Ze,_e,xe)=>new Promise((Et,Ct)=>{var mn=gn=>{try{an(xe.next(gn))}catch(Bn){Ct(Bn)}},Cn=gn=>{try{an(xe.throw(gn))}catch(Bn){Ct(Bn)}},an=gn=>gn.done?Et(gn.value):Promise.resolve(gn.value).then(mn,Cn);an((xe=xe.apply(Ze,_e)).next())});class Al extends o.Component{constructor(_e,xe){super(_e,xe);es(this,"updateSubscribeTakeover",()=>{const Ct=this.props.publication.id,mn=`pub-${Ct}-subscribe-prompt-next-shown-at`,Cn=`pub-${Ct}-takeover-next-shown-at`,an=Object(z.getStoredValue)(Cn),gn=!an||Date.now()>=an;Object(r.isWindowVisible)()?this.state.subscribeTakeOverTimer&&(gn&&Date.now()-this.state.subscribeTakeOverTimer>=2*60*1e3&&this.setState({showSubscribeTakeover:!0}),this.setState({subscribeTakeOverTimer:null}),Object(z.setStoredValue)(mn,Ue()().add(1,"hour").valueOf()),Object(z.setStoredValue)(Cn,Ue()().add(1,"hour").valueOf())):this.state.subscribeTakeOverTimer||this.setState({subscribeTakeOverTimer:new Date})}),es(this,"onChangeComment",Ct=>{this.setState({comments:Object(ji.k)(this.state.comments,Ct)})}),es(this,"onVisible",Ct=>{const mn=`${Ct} Seen`;!this.state.post||this.state[mn]||(this.setState({[mn]:!0}),Object(ze.i)(mn,{post_id:this.state.post.id,post_audience:this.state.post.audience,post_type:this.state.post.type}))}),es(this,"_inlineComments",()=>{const{inlineComments:Ct,publication:mn}=this.props;return Ct||Object(vo.shouldUseInlineComments)(mn,this.state.post||this.props.post)}),es(this,"fillEmbeddedEmailInputs",()=>{var Ct;const mn=document.querySelectorAll('article.post input[type="email"]'),Cn=((Ct=this.state.user)==null?void 0:Ct.email)||this.props.freeSignupEmail;if(Cn)for(const an of mn)an.value=Cn;this.setState({embeddedEmailInputsFilled:!0})});let{user:Et}=_e;_e.postPreview&&(Et=wl(_c({},Et),{is_draft:!1,is_subscribed:_e.postPreview!=="free",is_founding:_e.postPreview==="founding"})),_e.post&&[_e.post.slug,_e.post.uuid].filter(Ct=>Ct).includes(_e.slug)&&!this.shouldRedirectToComments(_e.post)?this.state={post:_e.post,comments:_e.renderedComments,user:Et}:this.state={post:null,comments:null,user:Et}}componentDidMount(){return Ms(this,null,function*(){Object(r.scrollToHash)(),this.cleanUpTikTokEnhanceListener=Object(Dl.a)();const _e=this.props.post&&[this.props.post.slug,this.props.post.uuid].filter(xe=>xe).includes(this.props.slug)&&this.props.post;this.shouldRedirectToComments(_e)?this.redirectToComments(_e):this.state.post||(yield this.loadPost()),this.triggerShareOnLoad(),this.fillEmbeddedEmailInputs(),this.props.justPublished&&(Object(r.removeQueryParam)("justPublished"),Object(r.preloadImage)(Object(ms.b)(this.props.publication,this.props.post)[0])),(this.props.embeddedPostPublications||this.props.embeddedPostPublications==="")&&Object(r.removeQueryParam)("embeddedPostPublications"),this.props.autoSharedOnTwitter&&Object(r.removeQueryParam)("autoSharedOnTwitter"),this.props.showRestackModal&&Object(r.removeQueryParam)("showRestackModal"),this.props.action&&Object(r.removeQueryParam)("action"),this.props.showWelcome||Object(r.onWindowVisibilityChange)(this.updateSubscribeTakeover),this.props.selectionFromQuery&&Object(Tc.a)(this.props.selectionFromQuery)})}componentWillUnmount(){var _e;(_e=this.cleanUpTikTokEnhanceListener)==null||_e.call(this),Object(r.offWindowVisibilityChange)(this.updateSubscribeTakeover)}componentDidUpdate(_e){return Ms(this,null,function*(){_e.slug!==this.props.slug&&this.loadPost(),this.state.embeddedEmailInputsFilled||this.fillEmbeddedEmailInputs()})}shouldRedirectToComments(_e){if(_e&&_e.type==="thread")return!0}redirectToComments(_e){Object(m.route)(Object(g.getPostUrl)(this.props.publication,_e,{comments:!0,noBase:!0}),!0)}loadPost(){return Ms(this,null,function*(){if(this.setState({embeddedEmailInputsFilled:!1}),this.props.post&&[this.props.post.slug,this.props.post.uuid].filter(_e=>_e).includes(this.props.slug)&&!this.shouldRedirectToComments(this.props.post))this.setState({post:this.props.post,comments:this.props.renderedComments},()=>Object(r.scrollToHash)());else{this.setState({post:null,comments:null});try{const _e=yield vn.a.get(`/api/v1/posts/${this.props.slug}`).query({postPreview:this.props.postPreview});this.shouldRedirectToComments(_e.body)?this.redirectToComments(_e.body):(yield Object(r.setState)(this,{post:_e.body,comments:_e.body.comments}),Object(r.scrollToHash)())}catch(_e){console.error("Failed to load post:",_e),_e.status===404?this.setState({notFound:!0}):alert(Object(r.getNetworkErrorMessage)(_e))}}})}triggerShareOnLoad(){if(Object(g.getQueryItem)("action")==="share")window.history.replaceState({},document.title,Object(g.updateQuery)({action:null}));else return;!this.post||this.post.triggerShare({fromEmail:!0})}render({slug:_e,freeSignup:xe,freeSignupEmail:Et,publication:Ct,reaction_token:mn,hide_intro_popup:Cn,freewallVariant:an,unlock:gn,sort:Bn,search:lr,children:Er,showWelcome:kr,justPublished:xr,autoSharedOnTwitter:J,readerIsSearchCrawler:oe,postPreview:pe,truncatedPost:re,selectionFromQuery:ye,embeddedPublications:nt,siteConfigs:Ht={},freeTrialCoupon:on,showRestackModal:Mn,action:Zn,publicationSettings:to,show_reaction_upsell:Yr,bannedFromNotes:Oo},{comments:mo,notFound:xo,post:no,user:Bo,showSubscribeTakeover:ho}){const Ei=this._inlineComments(),Ci=(no==null?void 0:no.audience)?Object(ws.userHasFullAccessToPost)(Bo,no):!0,Qi=(Bo==null?void 0:Bo.is_subscribed)&&Ci,pa=no&&no.slug&&no.slug!=="coming-soon"&&no.type!=="page",Da=Object(vo.commentsEnabledForPost)({publication:Ct,post:no}),ns=Object(vo.showCommentsOnPost)({publication:Ct,post:no}),Ta=Qi||(Bo==null?void 0:Bo.is_free_subscriber)||xe,Gi=(gn||(no==null?void 0:no.free_unlock_required))&&!Ta&&["treatment_short","treatment_long"].includes(an),ea=Bo&&Bo.is_contributor&&(no==null?void 0:no.slug)=="coming-soon"&&!(to==null?void 0:to.seen_coming_soon_explainer);Gi&&(re?no.body_html=re.body_html:no.truncatedBody&&(no.body_html=no.truncatedBody));const bs=(no==null?void 0:no.type)==="podcast",vs=!(no==null?void 0:no.hidden)&&(Object(vo.isUUID)(_e)||Qi||oe||no&&!Object(ws.isPaidAudience)(no.audience)&&!Gi||no&&!no.slug&&!Gi),ua=!vs||(Bo==null?void 0:Bo.is_contributor)&&no&&Object(ws.isPaidAudience)(no.audience),Wl=xr&&(Bo==null?void 0:Bo.is_contributor)&&!this.props.publication.invite_only&&!["page"].includes(no.type);return Object(o.h)("div",null,Zn==="restack-comment"&&Object(o.h)(Nc,{post:no,pub:Ct}),Object(o.h)(Rc,{pub:Ct,post:no}),(kr||ho)&&Object(o.h)(h.c,{freeSignup:xe,freeSignupEmail:Et,user:Bo,post:no,publication:Ct,hidden:Cn||Gi}),no&&Ct&&Object(o.h)(jc.a,{user:Bo,subdomain:Ct.subdomain,post:no}),ea&&Object(o.h)(Cc.b,null),Object(o.h)("div",{className:c()("single-post-container")},Object(o.h)("div",{className:c()({container:!bs})},Object(o.h)("div",{className:"single-post"},Object(o.h)(ms.a,{post:no,publication:Ct,selection:ye,siteConfigs:Ht}),no?Object(o.h)(As.c,{ref:da=>{this.post=da},commentsEnabled:Da,postPreview:pe,showComments:ns,user:Bo,post:no,pub:Ct,freeSignup:xe,freeSignupEmail:Et,reaction_token:mn,disableSubscribePrompt:kr&&!(Cn||Gi),paywall:vs?!1:Gi?{email_form:!0,autoFocus:!1,title:`Subscribe for free to ${Ct.name} to unlock this ${no.type==="podcast"?"episode":"post"}`}:!0,noTitleLink:!0,onChange:da=>this.setState(da),fromPostPage:!0,freeTrialCoupon:on,showRestackModal:Boolean(Mn)}):xo?Object(o.h)("p",{className:"main-loader"},"Post not found"):Object(o.h)(As.g,{pub:Ct}),Er)),pa&&vs&&[ns&&!bs&&Object(o.h)(Zs,{commentsEnabled:Da,comments:mo,post:no,slug:_e,user:Bo,freeSignup:xe,freeSignupEmail:Et,publication:Ct,reaction_token:mn,onVisible:this.onVisible,onChangeComment:this.onChangeComment,inlineComments:Ei,selectionFromQuery:ye,onChange:da=>this.setState(da),bannedFromNotes:Oo}),Ct.has_posts&&Object(o.h)("div",{className:"single-post-section"},Object(o.h)("div",{className:"container"},Object(o.h)(lo.a,{onVisible:()=>this.onVisible("Top Posts Footer")}),Object(o.h)(yi.a,{user:Bo,freeSignup:xe,freeSignupEmail:Et,pub:Ct,maxPosts:!ua&&!Qi&&!(Ta&&!Ct.plans)?3:10,filterPosts:da=>da.id!==no.id,sort:Bn,search:lr,stateInUrl:!0,sortTabs:da=>{const ol=da.findIndex(kl=>kl.id==="top");if(ol!==-1)return[da[ol]].concat(da.filter((kl,Vl)=>Vl!==ol))},delayFirstLoad:1e3,source:"post",isBelowTheFold:!0}))),!ua&&[Object(o.h)(lo.a,{onVisible:()=>this.onVisible("Subscribe Footer")}),Object(o.h)(Dc,{publication:Ct,user:Bo,freeSignupEmail:Et,freeSignup:xe})]],Wl?Object(o.h)(Js.a,{post:no,autoSharedOnTwitter:J==="true",publicationTwitterScreenName:Ct.twitter_screen_name,publication:Ct,showAfter:(nt==null?void 0:nt.length)?Object(o.h)(Sc.a,{pub:Ct,pubsToRecommend:nt}):null}):null,Yr?Object(o.h)(ps.a,{pub:Ct}):null))}}class Zs extends o.Component{constructor(_e,xe){super(_e,xe);es(this,"modalRef",Object(o.createRef)(null)),this.inputRef=Object(o.createRef)(null),this.handleFocusInput=()=>{this.inputRef.current.focus()},this.state={comments:_e.comments,reactionSigninComment:null}}componentDidMount(){document.addEventListener(As.b,this.handleFocusInput)}componentWillUnmount(){document.removeEventListener(As.b,this.handleFocusInput)}render({commentsEnabled:_e,inlineComments:xe,post:Et,user:Ct,freeSignup:mn,freeSignupEmail:Cn,publication:an,reaction_token:gn,onVisible:Bn,onChangeComment:lr,selectionFromQuery:Er,slug:kr,onChange:xr,bannedFromNotes:J},{comments:oe,reactionSigninComment:pe}){if(xe)return Object(o.h)("div",null,Object(o.h)("div",{className:"full-container-border"}),Object(o.h)(ji.d,{slug:kr,user:Ct,freeSignupEmail:Cn,freeSignup:mn,post:Et,publication:an,post_reaction_token:gn,selectionFromQuery:Er,initialComments:oe,inline:!0,onChange:xr}));const re=(ye,nt)=>Ms(this,null,function*(){return Object(ji.j)({user:Ct,reactionToken:gn,comments:oe,id:ye,reacted:nt,setComments:Ht=>this.setState({comments:Ht}),onNeedsSignin:Ht=>new Promise(on=>this.setState({reactionSigninComment:Ht},()=>this.modalRef.current.open(on)))})});return Object(o.h)("div",{className:"single-post-section comments-section"},Object(o.h)("div",{className:"container"},(_e||Et.comment_count>0)&&Object(o.h)("div",{className:"comments-section-title"},Et.comment_count>0?Object(vo.pluralize)(Et.comment_count,"Comment"):"Comments"),Object(o.h)(lo.a,{onVisible:()=>Bn("Post Comments Footer")}),_e&&Object(o.h)(ji.a,{user:Ct,freeSignup:mn,freeSignupEmail:Cn,pub:an,post:Et,token:gn,ref:this.inputRef,bannedFromNotes:J}),oe.length>0&&!_e&&Object(o.h)(ji.e,{post:Et}),oe&&oe.length>0&&an.community_enabled&&Object(o.h)(ji.b,{className:"post-page-root-comment-list",key:`post:${Et.id}`,user:Ct,freeSignup:mn,freeSignupEmail:Cn,pub:an,post:Et,comments:oe,reaction_token:gn,onChange:lr,updateCommentReacted:re,noRestack:!0}),_e&&Et.comment_count>(oe||[]).length&&Object(o.h)("a",{className:"more-comments",href:Object(ji.i)(Et,an)},Object(vo.pluralize)(Et.comment_count-(oe||[]).length,"more comment"),"\u2026"),pe&&Object(o.h)(Sl.b,{comment:pe,pub:an,user:Ct,react:()=>re(pe.id,!0),modalRef:this.modalRef})))}}const Rc=({pub:Ze,post:_e})=>{if(!!_e)return Object(o.h)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:Ts()(Object(Pc.a)(Ze,_e),{json:!0,isScriptContext:!0})}})};function Nc({pub:Ze,post:_e}){const xe=Object(le.d)();return Object(l.d)(()=>{xe.open({restackUrl:Object(g.getPostUrl)(Ze,_e)})},[]),null}var Lc=t(33),xc=t(1411),va={root:"frontend-components-PressKitImage-module__root--3Peca",tableRoot:"frontend-components-PressKitImage-module__tableRoot--o7k15",link:"frontend-components-PressKitImage-module__link--27O9x",image:"frontend-components-PressKitImage-module__image--2T57z",download:"frontend-components-PressKitImage-module__download--2zt4c",imageLoading:"frontend-components-PressKitImage-module__imageLoading--txdUU",imageEmail:"frontend-components-PressKitImage-module__imageEmail--1E7CP",text:"frontend-components-PressKitImage-module__text--3w_-X"};const Bc=({pub:Ze,post:_e,style:xe,text:Et})=>{const[Ct,mn]=Object(l.l)("");Object(l.d)(()=>{const an=Object(g.getPressKitUrl)(Ze,_e,xe);Object(r.preloadImage)(Object(g.getPressKitUrl)(Ze,_e,xe),()=>{mn(an)})},[mn,Ze,_e,xe]);const Cn=Object(ge.useCallback)(()=>{Object(ze.i)(ze.a.WRITER_MEDIA_ASSETS_IMAGE_DOWNLOADED,{post_id:_e.id,type:Et})},[_e,Et]);return Object(o.h)("a",{onClick:Cn,href:Ct,alt:"Download Image",download:!0,className:va.link,target:"_blank"},Object(o.h)("div",{className:va.root},Object(o.h)("div",{className:va.download},Object(o.h)(xc.default,{stroke:"#404040",fill:"white"})),!Ct&&Object(o.h)("div",{className:`${va.image} ${va.imageLoading}`,alt:"Loading"},Object(o.h)(de.b,null)),Ct&&Object(o.h)("img",{src:Ct,className:va.image})))},Jc=({pub:Ze,post:_e,style:xe,text:Et,downloadUrl:Ct})=>Object(o.h)("table",{className:va.tableRoot},Object(o.h)("tr",null,Object(o.h)("td",null,Object(o.h)("a",{href:Ct||Object(g.getPressKitUrl)(Ze,_e,xe),alt:"Download Image",download:!0,target:"_blank",className:va.link},Object(o.h)("img",{src:Object(g.getPressKitUrl)(Ze,_e,xe),className:va.imageEmail})))),Object(o.h)("tr",null,Object(o.h)("td",null,Object(o.h)(Lc.b,{aClassName:"button download",alt:"Download Image",download:!0,target:"_blank",href:Ct||Object(g.getPressKitUrl)(Ze,_e,xe)},Object(o.h)("span",null,"Download")))));var ha=Bc,Fa={root:"frontend-main-PressKitPage-module__root--2cpfS",pageTitle:"frontend-main-PressKitPage-module__pageTitle--LycbM",postTitle:"frontend-main-PressKitPage-module__postTitle--2uLcG",container:"frontend-main-PressKitPage-module__container--2bIzE",imageContainer:"frontend-main-PressKitPage-module__imageContainer--3tagG",divider:"frontend-main-PressKitPage-module__divider--1ccCY",text:"frontend-main-PressKitPage-module__text--zm4O5",textFooter:"frontend-main-PressKitPage-module__textFooter--Xt6kV"},Uc=Ze=>{const _e=Ze.themeVariables,xe=_e.web_bg_color||_e.cover_bg_color,Et=Ze.post.cover_image||Ze.publication.cover_photo_url;return Object(l.d)(()=>{Object(ze.i)(ze.a.WRITER_MEDIA_ASSETS_PAGE_VISITED,{post_id:Ze.post.id})},[Ze.post.id]),Object(o.h)("div",{className:Fa.root},Object(o.h)(ct.b.H2,{color:"pub-primary-text",className:Fa.pageTitle},"Media Assets"),Object(o.h)(ct.b.B3,{color:"pub-primary-text",className:Fa.text},"We\u2019ve generated custom images to help you promote your post on other social networks. Download your images and share with a link to your post!"),Object(o.h)(Q.b,{justifyContent:"center",className:Fa.container},Object(o.h)("div",{className:Fa.postTitle},Object(o.h)(ct.b.H4,{color:"pub-primary-text"},Ze.post.title)),Object(o.h)("div",{className:Fa.divider}),Object(o.h)(Q.a,{wrap:"wrap",justifyContent:"space-between"},Object(o.h)(ha,{pub:Ze.publication,post:Ze.post,style:{bgColor:xe,textColor:_e.print_on_web_bg_color||_e.cover_print_primary||"#1a1a1a"},text:"Background Color"}),_e.background_pop&&Object(o.h)(ha,{pub:Ze.publication,post:Ze.post,style:{bgColor:_e.background_pop,textColor:_e.print_on_pop},text:"Accent Color"}),Et&&Object(o.h)(ha,{pub:Ze.publication,post:Ze.post,style:{bgImage:!0,textColor:"#ffffff"},text:"Image"}),xe.toLowerCase()!=="#ffffff"?Object(o.h)(ha,{pub:Ze.publication,post:Ze.post,style:{bgColor:"#ffffff",textColor:"#404040"},text:"Black and White"}):null)),Object(o.h)("div",{className:Fa.textFooter},Object(o.h)(ct.b.B4,{color:"pub-secondary-text"},"These images are generated from your publication theme colors which you can edit in your"," ",Object(o.h)("a",{href:Object(g.getPublishSettingsUrl)(Ze.publication,{addBase:!0,section:"theme"})},"publication settings")," ","and the social preview which you can edit in your post settings.")))},Fc=t(441);const Ml=({sitemapHeader:Ze,sitemapDescription:_e,sitemapLinks:xe})=>Object(o.h)("div",{className:"container typography sitemap-page"},Object(r.setMetaData)({title:Ze,description:_e}),Object(o.h)("h1",null,Ze),Object(o.h)("div",null,xe.map(Et=>Object(o.h)("p",null,Object(o.h)("a",{className:"sitemap-link",href:Et.href,native:!0},Et.text)))));var qs=t(1033),Il=t(1270);function el({slug:Ze,pub:_e,user:xe,freeSignup:Et,freeSignupEmail:Ct,tagPagePreloads:mn}){var Cn,an;const gn=Boolean(_e==null?void 0:_e.theme),Bn=Object(G.f)({pathname:`/api/v1/publication/post-tag/slug/${Ze}`,auto:(mn==null?void 0:mn.slug)!==Ze,initialResult:(mn==null?void 0:mn.slug)===Ze?mn.postTag:null,deps:[mn,Ze]});return Object(o.h)(Ii.a,{value:{hasThemedBackground:gn}},Object(o.h)("div",{className:c()("archive-page typography",{"use-theme-bg":gn})},Object(o.h)("div",{className:"container"},Bn.isLoading?Object(o.h)("p",{className:"main-loader"},"Loading.."):Object(o.h)(o.Fragment,null,Object(o.h)("h2",null,((Cn=Bn.result)==null?void 0:Cn.name)||"Page not found"),Object(o.h)(yi.a,{user:xe,freeSignup:Et,freeSignupEmail:Ct,pub:_e,sort:"new",postTagId:(an=Bn.result)==null?void 0:an.id,newPosts:(mn==null?void 0:mn.slug)===Ze?mn.posts:null,source:"tag-archive"})))))}var _l=Object.defineProperty,ts=Object.getOwnPropertySymbols,xi=Object.prototype.hasOwnProperty,tl=Object.prototype.propertyIsEnumerable,Rl=(Ze,_e,xe)=>_e in Ze?_l(Ze,_e,{enumerable:!0,configurable:!0,writable:!0,value:xe}):Ze[_e]=xe,Ra=(Ze,_e)=>{for(var xe in _e||(_e={}))xi.call(_e,xe)&&Rl(Ze,xe,_e[xe]);if(ts)for(var xe of ts(_e))tl.call(_e,xe)&&Rl(Ze,xe,_e[xe]);return Ze},Nl=(Ze,_e)=>{var xe={};for(var Et in Ze)xi.call(Ze,Et)&&_e.indexOf(Et)<0&&(xe[Et]=Ze[Et]);if(Ze!=null&&ts)for(var Et of ts(Ze))_e.indexOf(Et)<0&&tl.call(Ze,Et)&&(xe[Et]=Ze[Et]);return xe};const Wc=1e3*60*60*24,Ll="domain-redirect-time";class xl extends o.Component{constructor(_e,xe){super(_e,xe);this.state=_e.initialData||{}}componentDidUpdate(_e,xe){var Et,Ct,mn,Cn;this.props.initialData&&JSON.stringify(this.props.initialData)!==JSON.stringify(this.state)&&this.setState(Ra({},this.props.initialData));const an=(Ct=(Et=this.state.pub)==null?void 0:Et.theme)==null?void 0:Ct.web_bg_color,gn=document.documentElement;gn&&an&&((Cn=(mn=xe==null?void 0:xe.pub)==null?void 0:mn.theme)==null?void 0:Cn.web_bg_color)!==an&&(gn.style.background=an)}componentDidMount(){var _e,xe,Et,Ct;const mn=(Ct=(Et=(xe=(_e=this.props)==null?void 0:_e.initialData)==null?void 0:xe.pub)==null?void 0:Et.theme)==null?void 0:Ct.web_bg_color,Cn=document.documentElement;Cn&&mn&&(Cn.style.background=mn);const an=this.loadedWithLikelyLoggedInParam()?"param":null;an&&!this.shouldBlockLoginRedirect()?this.attemptLoginRedirect({source:an}):this.useIframe()&&window.addEventListener("message",gn=>this.handleFrameMessage(gn))}shouldBlockLoginRedirect(){var _e;const xe=parseInt(Object(z.getStoredValue)(Ll,0));return this.state.block_auto_login||!((_e=this.state.pub)==null?void 0:_e.custom_domain)||this.state.user||typeof window=="undefined"||Date.now()-xe<=Wc||Object(g.parseQuery)(window.location.toString()).hasOwnProperty("triedSigningIn")}handleFrameMessage(_e){var xe,Et,Ct;if(((xe=_e.data)==null?void 0:xe.type)!=="frame-state")return;const mn=!this.shouldBlockLoginRedirect()&&((Et=_e.data)==null?void 0:Et.loggedInAtSubstack);Object(ze.i)(ze.a.FRAME_MESSAGE_HANDLED,{loggedInAtSubstack:(Ct=_e.data)==null?void 0:Ct.loggedInAtSubstack,loggedInAtCustomDomain:!!this.state.user,attemptRedirect:mn}),mn&&this.attemptLoginRedirect({source:"cookie"})}attemptLoginRedirect({source:_e}={}){Object(ze.i)(ze.a.CUSTOM_DOMAIN_LOGIN_REDIRECT_ATTEMPTED,{fromParam:_e==="param",source:_e}),Object(z.setStoredValue)(Ll,`${Date.now()}`),location.href=Object(r.getLoginRedirect)({justTrying:!0,useOriginalUrl:!0})}loadedWithLikelyLoggedInParam(){return typeof window!="undefined"&&window._preloads.original_url&&!!Object(g.parseQuery)(window._preloads.original_url).hasOwnProperty("lli")}useIframe(){var _e,xe;return!(typeof window=="undefined"||this.loadedWithLikelyLoggedInParam()||!((_e=this.state.pub)==null?void 0:_e.custom_domain)||Object(g.urlIsRegularlyShownInIframe)((xe=window==null?void 0:window.location)==null?void 0:xe.href))}render({coupon:_e},{pub:xe,section:Et,user:Ct,userProfile:mn,freeSignup:Cn,freeSignupEmail:an,posts:gn,post:Bn,truncatedPost:lr,pinnedPosts:Er,newPosts:kr,topPosts:xr,communityPosts:J,communityAction:oe,searchPosts:pe,inlineComments:re,latestChildPosts:ye,latestSectionPosts:nt,subscribeContent:Ht,homepageLinks:on,recommendations:Mn,numRecommendations:Zn,allSubscribedPubs:to,fullySubscribedPubs:Yr,sitemapHeader:Oo,sitemapDescription:mo,sitemapLinks:xo,referralCode:no,referralCoupon:Bo,hide_intro_popup:ho,post_reaction_token:Ei,stripe_publishable_key:Ci,viral_gift_data:Qi,campaign:pa,referralCampaign:Da,file:ns,primaryEligiblePublications:Ta,flagged_as_spam:rl,switchAccountRedirectUrl:Gi,readerIsSearchCrawler:ea,commentId:bs,selectionFromQuery:vs,siteConfigs:ua={},blurbs:Wl,noBalanceHeroText:da,embeddedPublications:ol,themeVariables:kl,subdomainNotFound:Vl,freeTrialCoupon:Hl,signupForFreeVariant:kc,people:su,useNewSubscribePage:Qc,idToMagicLink:lu,token:vu,podcast_rss_url:Ou,publicationSettings:Vc,pledgePlans:il,isChatActive:Is,isMeetingsActive:rs,optOutLegacyTheming:cu,meetingsOrder:Kl,meetingsSettings:is,appModalOpenByDefault:uu,twitterCardUrl:Hc,tagPagePreloads:Kc,initialComments:_s,bannedFromNotes:al}){const Xc=f()(this.state.comments)?this.state.comments:[];if(Vl)return Object(o.h)(Ec,{subdomain:Vl});if(rl&&!(Ct==null?void 0:Ct.is_global_admin))return Object(o.h)("div",{className:"page typography signup-page",path:"/flagged"},Object(r.setMetaData)({title:"Flagged as TOS violation"}),Object(o.h)("div",{className:"container"},Object(o.h)("h2",null,"Publication Not Available"),Object(o.h)("p",null,"The page you are attempting to access is unavailable."," ",Object(o.h)("a",{href:`${Object(g.getBaseUrl)()}`,native:!0},"Click here")," ","to view some more great writing."),Object(o.h)("p",null,Object(o.h)("a",{href:Object(g.getBaseUrl)(),className:"button primary"},"Go to substack.com"))));const as=Boolean((xe==null?void 0:xe.theme)&&!cu),ss=Object(m.getCurrentUrl)().startsWith("/chat");return Object(o.h)(Bl,{pub:xe,user:Ct,siteConfigs:ua,hasThemedBackground:as,language:this.state.language,country:this.state.country,experimentInfo:this.props.initialData,publicationSettings:Vc},Object(o.h)(Fc.a,{publication:xe,twitterCardUrl:Hc}),Object(o.h)(nl,{user:Ct}),Object(o.h)(Ul,{user:Ct,pub:xe}),Object(o.h)(Fl,null),Object(o.h)("div",{className:c()("main typography",{"use-theme-bg":as,"should-flex":ss}),id:"main"},this.useIframe()&&Object(o.h)("iframe",{src:`${Object(g.getSubstackUrl)()}/channel-frame`,className:"channel-frame",width:"0",height:"0"}),Object(o.h)(p.Match,{path:"/"},({path:Ai})=>{var Zc,qc;let Oa="/home";/^\/about\b/.test(Ai)?Oa="/about":/^\/notes\b/.test(Ai)?Oa="/notes":/^\/chat\b/.test(Ai)?Oa="/chat":/^\/podcast\b/.test(Ai)?Oa="/podcast":/^\/archive\b/.test(Ai)?Oa="/archive":/^\/recommendations\b/.test(Ai)?Oa="/recommendations":/^\/listen\b/.test(Ai)?Oa="/listen":Et?Oa=Et.id:/^\/p\//.test(Ai)?Oa=((Zc=/^\/p\/([^/?#]+)/.exec(Ai))==null?void 0:Zc[0])||"/p":/^\/t\//.test(Ai)&&(Oa=((qc=/^\/t\/([^/?#]+)/.exec(Ai))==null?void 0:qc[0])||"/p");let sl;typeof window!="undefined"&&window.location.search&&(sl=Object(g.parseQuery)(window.location.search));const eu=/^\/p\/([^/?#]*)/.exec(Ai),$c=eu&&!((Bn==null?void 0:Bn.type)==="page"&&Bn.slug===eu[1]),tu=Ai.startsWith("/subscribe")||Ai.startsWith("/finish-invite")||Ai.startsWith("/meetings"),du=Ai.startsWith("/chat/posts/");return Et?Object(o.h)(v.a,{pub:xe,user:Ct,freeSignup:Cn,freeSignupEmail:an,hide_subscribe_cta:Ai.startsWith("/subscribe"),selectedSectionId:Oa,isPostView:$c,showCustomerSupportModeModal:Boolean(sl==null?void 0:sl.showCustomerSupportModeModal),lowChrome:tu,numRecommendations:Zn,isChatActive:Is,isMeetingsActive:rs,signupForFreeVariant:kc}):!["welcome","embed","meetings"].some(ll=>Ai.startsWith(`/${ll}`))&&!(Ai.startsWith("/subscribe")&&(Qc||il))&&Object(o.h)(v.a,{pub:xe,user:Ct,freeSignup:Cn,freeSignupEmail:an,hide_subscribe_cta:Ai.startsWith("/subscribe"),isPostView:$c,selectedSectionId:Oa,showCustomerSupportModeModal:Boolean(sl==null?void 0:sl.showCustomerSupportModeModal),lowChrome:tu,numRecommendations:Zn,isChatActive:Is,isMeetingsActive:rs,signupForFreeVariant:kc,hideSections:du})}),Object(o.h)(V.a,{pub:xe,user:Ct}),Object(o.h)(m.Router,{onChange:se.a},["newspaper","magaziney"].includes(xe.homepage_type)?Object(o.h)(ls.a,{path:"/",blurbs:Wl,freeSignup:Cn,freeSignupEmail:an,hide_intro_popup:ho,homepageLinks:on,latestChildPosts:ye,latestSectionPosts:nt,newPosts:kr,noBalanceHeroText:da,numRecommendations:Zn,pinnedPosts:Er,pub:xe,recommendations:Mn,referralCampaign:Da,referralCode:no,topPosts:xr,user:Ct}):Object(o.h)(sa.a,{path:"/",user:Ct,freeSignupEmail:an,freeSignup:Cn,hide_intro_popup:ho,preloadedPosts:gn,pub:xe,blurbs:Wl,noBalanceHeroText:da}),Object(o.h)(ls.a,{path:"/listen/:sectionSlug",homepageType:"newspaper",user:Ct,freeSignupEmail:an,freeSignup:Cn,hide_intro_popup:ho,pub:xe,pinnedPosts:Er,newPosts:kr,latestChildPosts:ye,latestSectionPosts:nt,homepageLinks:on,section:xe.section,referralCampaign:Da,isPodcast:!0}),Object(o.h)(ls.a,{path:"/podcast",homepageType:"newspaper",user:Ct,freeSignupEmail:an,freeSignup:Cn,hide_intro_popup:ho,pub:xe,pinnedPosts:Er,newPosts:kr,latestChildPosts:ye,latestSectionPosts:nt,homepageLinks:on,recommendations:Mn,numRecommendations:Zn,referralCampaign:Da,isPodcast:!0,includePinnedPosts:!0}),Object(o.h)(qi,{path:"/podcast/archive",user:Ct,newPosts:kr,topPosts:xr,communityPosts:J,searchPosts:pe,pub:xe,freeSignupEmail:an,freeSignup:Cn,isPodcast:!0,metadata:Ra({title:`Podcast Archive - ${xe.name}`,description:`Full archive of all the episodes from ${xe.name}.`},Boolean(pe||Object(g.getQueryItem)("search"))&&{seoProps:{noindex:!0}})}),Object(o.h)(ls.a,{path:"/s/:slug",homepageType:"newspaper",user:Ct,freeSignupEmail:an,freeSignup:Cn,hide_intro_popup:ho,pub:xe,pinnedPosts:Er,newPosts:kr,latestChildPosts:ye,latestSectionPosts:nt,homepageLinks:on,section:xe.section,referralCampaign:Da}),Object(o.h)(ls.a,{path:"/beta",homepageType:"newspaper",user:Ct,freeSignupEmail:an,freeSignup:Cn,hide_intro_popup:ho,pub:xe,pinnedPosts:Er,newPosts:kr,latestChildPosts:ye,homepageLinks:on,recommendations:Mn,numRecommendations:Zn,referralCampaign:Da}),Object(o.h)(qi,{path:"/archive",user:Ct,newPosts:kr,topPosts:xr,communityPosts:J,searchPosts:pe,pub:xe,freeSignupEmail:an,freeSignup:Cn,metadata:Ra({title:`Archive - ${xe.name}`,description:`Full archive of all the posts from ${xe.name}.`},Boolean(pe||Object(g.getQueryItem)("search"))&&{seoProps:{noindex:!0}})}),Object(o.h)(qi,{path:"/s/:slug/archive",user:Ct,newPosts:kr,topPosts:xr,communityPosts:J,searchPosts:pe,pub:xe,freeSignupEmail:an,freeSignup:Cn,sectionId:Et==null?void 0:Et.id,metadata:Ra({title:`Archive - ${Et==null?void 0:Et.name} of ${xe.name}`,description:`Full archive of all the posts from ${Et==null?void 0:Et.name} of ${xe.name}.`},Boolean(pe||Object(g.getQueryItem)("search"))&&{seoProps:{noindex:!0}})}),Object(o.h)(qi,{path:"/listen/:sectionSlug/archive/",user:Ct,newPosts:kr,topPosts:xr,communityPosts:J,searchPosts:pe,pub:xe,freeSignupEmail:an,freeSignup:Cn,sectionId:Et==null?void 0:Et.id,metadata:Ra({title:`Podcast Archive - ${Object(He.getSectionPodcastSettings)({pub:xe,section:xe.section}).title}`,description:`Full archive of all the episodes from ${Object(He.getSectionPodcastSettings)({pub:xe,section:xe.section}).title}.`},Boolean(pe||Object(g.getQueryItem)("search"))&&{seoProps:{noindex:!0}})}),Object(o.h)(el,{path:"/t/:slug",user:Ct,freeSignupEmail:an,freeSignup:Cn,pub:xe,tagPagePreloads:Kc}),Object(o.h)(qi,{default:!0,title:"Page not found",user:Ct,newPosts:kr,topPosts:xr,communityPosts:J,searchPosts:pe,pub:xe,freeSignupEmail:an,freeSignup:Cn}),Object(o.h)(i,{path:"/tos",html:xe.tos_content_html||"Terms of Service",metadata:{title:"Terms of Service"}},Object(o.h)("p",null,"You agree to the terms of service below, and the"," ",Object(o.h)("a",{href:"https://substack.com/tos",native:!0},"Terms of Use for Substack"),", the technology provider.")),Object(o.h)(i,{path:"/privacy",html:xe.privacy_content_html||"Privacy Policy",metadata:{title:"Privacy Policy"}},Object(o.h)("p",null,"You agree to the privacy policy below, and the"," ",Object(o.h)("a",{href:Object(g.getPrivacyUrl)(),native:!0},"Privacy Policy for Substack"),", the technology provider.")),Object(o.h)(i,{path:"/disclosures",html:xe.disclosures_content_html||"Disclosures",metadata:{title:"Disclosures"}}),Object(o.h)(h.c,{path:"/welcome",publication:xe,post:null,user:Ct,freeSignup:Cn,freeSignupEmail:an,alwaysShow:!0,onHide:()=>{document.location.href="/"}}),Object(o.h)(h.c,{path:"/podcast",publication:xe,post:null,referralCode:no,referralCoupon:Bo,user:Ct,freeSignup:Cn,freeSignupEmail:an,coupon:_e,alwaysShow:!0,onHide:()=>{document.location.href="/"}}),Object(o.h)(rc,{pub:xe,path:"/invite",user:Ct,freeSignup:Cn,freeSignupEmail:an}),Object(o.h)(oc,{path:"/invite-success/:id",pub:xe,user:Ct,post:Bn,freeSignup:Cn,freeSignupEmail:an}),Object(o.h)(cs,{path:"/invite-reject-success/:id",pub:xe,user:Ct,post:Bn}),Object(o.h)(xs,{path:"/finish-invite/:id",pub:xe,user:Ct,freeSignup:Cn,freeSignupEmail:an}),Object(o.h)(xs,{path:"/finish-post-invite/:id",pub:xe,post:Bn,user:Ct,freeSignup:Cn,freeSignupEmail:an,inviteToPost:!0,primaryEligiblePublications:Ta||[],switchAccountRedirectUrl:Gi}),Object(o.h)(qs.a,{path:"/recommendations",pub:xe,user:Ct,recommendations:Mn,allSubscribedPubs:to,fullySubscribedPubs:Yr}),Object(o.h)(Ml,{path:"/sitemap",pub:xe,sitemapHeader:Oo,sitemapDescription:mo,sitemapLinks:xo}),Object(o.h)(Ml,{path:"/sitemap/:year",pub:xe,sitemapHeader:Oo,sitemapDescription:mo,sitemapLinks:xo}),Object(o.h)(di,{path:"/about",pub:xe,user:Ct,freeSignup:Cn,freeSignupEmail:an,subscribeContent:Ht,people:su,metadata:{title:`About - ${xe.name}`}}),Object(o.h)(Al,{path:"/p/:slug",user:Ct,freeSignupEmail:an,freeSignup:Cn,referralCoupon:Bo,referralCode:no,post:Bn,truncatedPost:lr,publication:xe,renderedComments:Xc,inlineComments:re,reaction_token:Ei,hide_intro_popup:ho,stripe_publishable_key:Ci,readerIsSearchCrawler:ea,selectionFromQuery:vs,embeddedPublications:ol,siteConfigs:ua,freeTrialCoupon:Hl,publicationSettings:Vc,bannedFromNotes:al}),Object(o.h)(Il.b,{path:"/listen",pub:xe,user:Ct||null,openInNewTab:!0,idToMagicLink:lu}),Object(o.h)(w,{path:"/newsletters",pub:xe,user:Ct!=null?Ct:null}),Object(o.h)(Uc,{path:"/p/:slug/media-assets",post:Bn,publication:xe,themeVariables:kl}),re?Object(o.h)(Al,{path:"/p/:slug/comments",user:Ct,freeSignupEmail:an,freeSignup:Cn,referralCoupon:Bo,referralCode:no,post:Bn,truncatedPost:lr,publication:xe,renderedComments:Xc,inlineComments:re,reaction_token:Ei,hide_intro_popup:ho,stripe_publishable_key:Ci,readerIsSearchCrawler:ea,selectionFromQuery:vs,siteConfigs:ua,freeTrialCoupon:Hl,bannedFromNotes:al}):Object(o.h)(ji.d,{path:"/p/:slug/comments",user:Ct,freeSignupEmail:an,freeSignup:Cn,post:Bn,publication:xe,post_reaction_token:Ei,commentId:bs,freeTrialCoupon:Hl,initialComments:_s,bannedFromNotes:al}),!re&&Object(o.h)(ji.d,{path:"/p/:slug/comment/:comment_id",user:Ct,freeSignupEmail:an,freeSignup:Cn,post:Bn,publication:xe,post_reaction_token:Ei,commentId:bs,freeTrialCoupon:Hl,bannedFromNotes:al}),Object(o.h)(Ca,{path:"/rewards/receive",pub:xe,user:Ct,freeSignupEmail:an,viral_gift_data:Qi}),Object(o.h)(za,{path:"/c/:code",pub:xe,user:Ct,freeSignupEmail:an,campaign:pa}),Object(o.h)(Ao,{path:"/embed",pub:xe,user:Ct,freeSignup:Cn,freeSignupEmail:an}),Object(o.h)(Vi,{path:"/embed/test",pub:xe,user:Ct,freeSignup:Cn,freeSignupEmail:an}),Object(o.h)(ki,{path:"/embed/podcast/:slug",pub:xe}),Object(o.h)(Ba,{path:"/embed/video/:slug",pub:xe}),Object(o.h)(ul,{path:"/f/:fileId",pub:xe,user:Ct,hide_subscribe_cta:!0,file:ns}),ua.live_events&&Object(o.h)(Wr,{path:"/live_event/:eventId/:participantType",pub:xe,user:Ct}),Object(o.h)(Kr.b,{path:"/chat",publication:xe,user:Ct}),Object(o.h)(Kr.c,{path:"/chat/posts/:postId",publication:xe,communityAction:oe,user:Ct,appModalOpenByDefault:uu}),ua.meetings_v1&&(rs||(Ct==null?void 0:Ct.is_author))&&Object(o.h)(ac,{path:"/meetings",exact:!0,pub:xe,user:Ct,settings:is}),ua.meetings_v1&&(rs||(Ct==null?void 0:Ct.is_author))&&Object(o.h)(hs,{path:"/meetings/book",pub:xe,user:Ct,stripe_publishable_key:Ci,order:Kl,settings:is}),ua.meetings_v1&&(Kl||rs||(Ct==null?void 0:Ct.is_author))&&Object(o.h)(hs,{path:"/meetings/book/:order_id?",pub:xe,user:Ct,stripe_publishable_key:Ci,order:Kl,settings:is}),ua.enable_publication_notes_page&&Object(o.h)(We,{path:"/notes"})),Object(o.h)(p.Match,{path:"/"},({path:Ai})=>!Ai.startsWith("/welcome")&&!Ai.startsWith("/embed")&&!Ai.startsWith("/subscribe")&&!Ai.startsWith("/meetings")&&!Ai.startsWith("/chat")&&Object(o.h)(s.a,{publication:xe,user:Ct,showIntrinioAttrib:Bn&&Bn.hasCashtag,path:Ai})),Object(o.h)(O.a,{pub:xe,user:Ct})))}}function Bl(Ze){var _e=Ze,{pub:xe}=_e,Et=Nl(_e,["pub"]);return Object(o.h)(K.a.Provider,{value:xe},Object(o.h)(U.a,Ra({},Et)))}function nl({user:Ze}){const _e=Object(Se.a)({user:Ze});return Object(l.d)(()=>{const xe=new URLSearchParams(location.search);if(xe.get("reaction")==="\u2764"){_e(),xe.delete("reaction");const Et=xe.toString();history.replaceState({},document.title,location.pathname+(Et&&`?${Et}`))}},[]),null}function Ul({user:Ze,pub:_e}){return Object(Ve.a)({user:Ze,pub:_e}),null}function Fl(){return Ie(),null}Object(e.a)(xl)}])});sf();})();

//# sourceMappingURL=main.0196ca2c7b5ca5733f73.bundle.js.map